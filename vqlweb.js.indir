/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){};b.__typeName='tab.EscapingUtil';b.escapeHtml=function(e){var f=ss.coalesce(e,'');f=f.replace(new RegExp('&','g'),'&amp;');f=f.replace(new RegExp('<','g'),'&lt;');f=f.replace(new RegExp('>','g'),'&gt;');f=f.replace(new RegExp('"','g'),'&quot;');f=f.replace(new RegExp("'",'g'),'&#39;');f=f.replace(new RegExp('/','g'),'&#47;');return f};global.tab.EscapingUtil=b;var c=function(){};c.__typeName='tab.ScriptEx';global.tab.ScriptEx=c;var d=function(e){this.$0=null;this.$0=e};d.__typeName='tab.WindowHelper';d.get_windowSelf=function(){return window.self};d.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}else if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};d.close=function(e){e.close()};d.getOpener=function(e){return e.opener};d.getLocation=function(e){return e.location};d.getPathAndSearch=function(e){return e.location.pathname+e.location.search};d.setLocationHref=function(e,f){e.location.href=f};d.locationReplace=function(e,f){e.location.replace(f)};d.open=function(e,f,g){return window.open(e,f,g)};d.reload=function(e,f){e.location.reload(f)};d.requestAnimationFrame=function(e){return d.$c(e)};d.cancelAnimationFrame=function(e){if(ss.isValue(e)){d.$b(e)}};d.setTimeout=function(e,f){return window.setTimeout(e,f)};d.addListener=function(e,f,g){if('addEventListener'in e){e.addEventListener(f,g,false)}else{e.attachEvent('on'+f,g)}};d.removeListener=function(e,f,g){if('removeEventListener'in e){e.removeEventListener(f,g,false)}else{e.detachEvent('on'+f,g)}};d.$0=function(){var e=0;d.$c=function(f){var g=(new Date).getTime();var h=Math.max(0,16-(g-e));e=g+h;var i=window.setTimeout(f,h);return i}};d.clearSelection=function(){var e=d.get_selection();if(ss.isValue(e)){if(typeof(e['removeAllRanges'])==='function'){e.removeAllRanges()}else if(typeof(e['empty'])==='function'){e['empty']()}}};global.tab.WindowHelper=d;ss.initClass(b,a,{});ss.initClass(c,a,{});ss.initClass(d,a,{get_pageXOffset:function(){return d.$7(this.$0)},get_pageYOffset:function(){return d.$8(this.$0)},get_clientWidth:function(){return d.$2(this.$0)},get_clientHeight:function(){return d.$1(this.$0)},get_innerWidth:function(){return d.$4(this.$0)},get_outerWidth:function(){return d.$6(this.$0)},get_innerHeight:function(){return d.$3(this.$0)},get_outerHeight:function(){return d.$5(this.$0)},get_screenLeft:function(){return d.$9(this.$0)},get_screenTop:function(){return d.$a(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}});(function(){d.$4=null;d.$3=null;d.$2=null;d.$1=null;d.$7=null;d.$8=null;d.$9=null;d.$a=null;d.$6=null;d.$5=null;d.$c=null;d.$b=null;if('innerWidth'in window){d.$4=function(m){return m.innerWidth}}else{d.$4=function(m){return m.document.documentElement.offsetWidth}}if('outerWidth'in window){d.$6=function(m){return m.outerWidth}}else{d.$6=d.$4}if('innerHeight'in window){d.$3=function(m){return m.innerHeight}}else{d.$3=function(m){return m.document.documentElement.offsetHeight}}if('outerHeight'in window){d.$5=function(m){return m.outerHeight}}else{d.$5=d.$3}if('clientWidth'in window){d.$2=function(m){return m['clientWidth']}}else{d.$2=function(m){return m.document.documentElement.clientWidth}}if('clientHeight'in window){d.$1=function(m){return m['clientHeight']}}else{d.$1=function(m){return m.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){d.$7=function(m){return m.pageXOffset}}else{d.$7=function(m){return m.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){d.$8=function(m){return m.pageYOffset}}else{d.$8=function(m){return m.document.documentElement.scrollTop}}if('screenLeft'in window){d.$9=function(m){return m.screenLeft}}else{d.$9=function(m){return m.screenX}}if('screenTop'in window){d.$a=function(m){return m.screenTop}}else{d.$a=function(m){return m.screenY}}{var e='requestAnimationFrame';var f='cancelAnimationFrame';var g=['ms','moz','webkit','o'];var h=null;var i=null;if(e in window){h=e}if(f in window){i=f}for(var j=0;j<g.length&&(ss.isNullOrUndefined(h)||ss.isNullOrUndefined(i));++j){var k=g[j];var l=k+'RequestAnimationFrame';if(ss.isNullOrUndefined(h)&&l in window){h=l}if(ss.isNullOrUndefined(i)){l=k+'CancelAnimationFrame';if(l in window){i=l}l=k+'CancelRequestAnimationFrame';if(l in window){i=l}}}if(ss.isValue(h)){d.$c=function(m){return window[h](m)}}else{d.$0()}if(ss.isValue(i)){d.$b=function(m){window[i](m)}}else{d.$b=function(m){window.clearTimeout(m)}}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;var d=function(){};d.__typeName='SelectAction';global.SelectAction=d;$.fn.focusDelayed=function(e,bw){this.each(function(bx,by){window.setTimeout(function(){$(by).focus();if(ss.isValue(bw)){bw.call(by)}},e)})};$.expr.pseudos.focusable=function(e){return f.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bw=parseInt($(e).attr('tabindex'),10);var bx=isNaN(bw);return(bx||bw>=0)&&f.$0(e,!bx)};var f=function(){};f.__typeName='tab.$0';f.$0=function(e,bw){var bx=e.nodeName.toLowerCase();if(bx==='area'){return false}var by=bw;var bz=new RegExp('input|select|textarea|button|object');if(bz.test(bx)){by=!e.disabled}else if(bx==='a'){by=!ss.isNullOrEmptyString(e.href)||bw}return by&&f.$1(e)};f.$1=function(e){for(var bw='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(bw==='visible'){continue}else if(bw.length===0||bw==='inherit'){bw=e.style.visibility}if(bw==='hidden'){return false}}return true};var g=function(){this.$0=null;this.$0=[]};g.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=g;var h=function(){};h.__typeName='tab.BrowserSupport';h.get_getComputedStyle=function(){return'getComputedStyle'in window};h.get_addEventListener=function(){return'addEventListener'in document};h.get_selectStart=function(){return h.$H};h.get_fontLoaderApi=function(){return h.$n};h.get_postMessage=function(){return h.$F};h.get_historyApi=function(){return h.$p};h.get_consoleLogFormating=function(){return h.$g};h.get_isMobile=function(){return h.$s||h.$x};h.get_isIos=function(){return h.$x};h.get_isAndroid=function(){return h.$s};h.get_isChrome=function(){return h.$t};h.get_isMac=function(){return h.$z};h.get_isIE=function(){return h.$w};h.get_isEdge=function(){return h.$u};h.get_isFF=function(){return h.$v};h.get_isOpera=function(){return h.$B};h.get_isSafari=function(){return h.$C};h.get_isWindows=function(){return h.$E};h.get_browserVersion=function(){return h.$q};h.get_safariVersion=function(){return h.$G};h.get_googleChromeVersion=function(){return h.$o};h.get_iosVersion=function(){return h.$r};h.get_raisesEventOnImageReassignment=function(){return!h.$C};h.get_imageLoadIsSynchronous=function(){return h.$w};h.get_useAlternateHitStrategy=function(){return h.$J};h.get_cssTransformName=function(){return h.$h};h.get_cssTransitionName=function(){return h.$i};h.get_backingStoragePixelRatio=function(){return h.$e};h.get_devicePixelRatio=function(){return h.$m};h.get_canvasLinePattern=function(){return h.$f};h.get_dateInput=function(){return h.$j};h.get_dateTimeInput=function(){return h.$k};h.get_dateTimeLocalInput=function(){return h.$l};h.get_timeInput=function(){return h.$K};h.get_setSelectionRange=function(){return h.$I};h.get_mouseWheelEvent=function(){if('onwheel'in window.document.documentElement){return'wheel'}if('onmousewheel'in window.document.documentElement){return'mousewheel'}return'MozMousePixelScroll'};h.get_mouseCapture=function(){return'releaseCapture'in document};h.get_orientationChange=function(){return'onorientationchange'in window};h.get_isGeolocationSupported=function(){return ss.isValue(window.navigator.geolocation)};h.get_isIpad=function(){return window.navigator.userAgent.indexOf('iPad')!==-1};h.detectBrowserSupport=function(){var e=document.body;var bw=document.createElement('div');e.appendChild(bw);h.$H='onselectstart'in bw;e.removeChild(bw).style.display='none';h.$F='postMessage'in window;h.$p=typeof(window.history['pushState'])==='function'&&typeof(window.history['replaceState'])==='function';h.$3();h.$1();h.$b();h.$a();h.$8();h.$7();h.$0();h.$6();h.$2();h.$9()};h.getOrigin=function(e){var bw=e.origin;if(ss.isNullOrUndefined(bw)){bw=e.protocol+'//'+e.host}return bw};h.doPostMessageWithContext=function(e){var bw=tabBootstrap.Utility.doPostMessageWithContext(e);if(!bw){}};h.$8=function(){var e=window.document.body;if(h.$D&&h.get_isMobile()){var bw=$('<div></div>');bw.css(ss.mkdict(['position','absolute','top','300px','left','300px','width','25px','height','25px','z-index','10000']));var bx=bw.get(0);try{e.appendChild(bx);h.$J=!ss.referenceEquals(document.elementFromPoint(310,310),bx)}catch(by){}finally{bw.remove()}}};h.$3=function(){try{if(ss.isValue(window.console&&ss.isValue(window.console.log))){h.$g=window.navigator.userAgent.indexOf('iPad')<0}else{h.$g=false}}catch(e){h.$g=false}};h.$1=function(){var e=h.$c();h.$y=e.indexOf('Konqueror')>=0;h.$D=e.indexOf('WebKit')>=0;h.$t=e.indexOf('Chrome')>=0;h.$C=e.indexOf('Safari')>=0&&!h.$t;h.$B=e.indexOf('Opera')>=0;if(h.$C){var bw=e.match(new RegExp('\\bVersion\\/(\\d+\\.\\d+)'));if(ss.isValue(bw)){h.$G=parseFloat(bw[1])}}if(h.$t){var bx=e.match(new RegExp('\\bChrome/(\\d+\\.\\d+)'));if(ss.isValue(bx)){h.$o=parseFloat(bx[1])}}h.$q=0;h.$w=false;var by=e.match(new RegExp('\\bMSIE (\\d+\\.\\d+)'));if(ss.isValue(by)){h.$w=true;h.$q=parseFloat(by[1])}if(!h.$w&&!h.$B&&(e.indexOf('Trident')>=0||e.indexOf('Edge/')>=0)){var bz=e.match(new RegExp('\\brv:(\\d+\\.\\d+)'));var bA=e.match(new RegExp('Edge/(\\d+\\.\\d+)'));if(ss.isValue(bz)){h.$w=true;h.$u=false;h.$q=parseFloat(bz[1])}else if(ss.isValue(bA)){h.$w=true;h.$u=true;h.$t=false;h.$C=false;h.$q=parseFloat(bA[1])}}h.$A=!h.$y&&!h.$D&&!h.$w&&e.indexOf('Gecko')>=0;h.$v=h.$A||e.indexOf('Firefox')>=0||e.indexOf('Minefield')>=0;var bB=new RegExp('iPhone|iPod|iPad');h.$x=bB.test(e);if(h.$x){var bC=e.match(new RegExp('\\bOS ([\\d+_?]+) like Mac OS X'));if(ss.isValue(bC)){h.$r=parseFloat(ss.replaceAllString(bC[1].replace('_','.'),'_',''))}}h.$s=e.indexOf('Android')>=0&&!h.$w;h.$z=e.indexOf('Mac')>=0;h.$E=e.indexOf('Windows')>=0};h.$c=function(){return window.navigator.userAgent};h.$b=function(){var e=ss.mkdict(['transition','transition','webkitTransition','-webkit-transition','msTransition','-ms-transition','mozTransition','-moz-transition','oTransition','-o-transition']);h.$i=ss.coalesce(h.$4(e),'transition')};h.$a=function(){var e=ss.mkdict(['transform','transform','webkitTransform','-webkit-transform','msTransform','-ms-transform','mozTransform','-moz-transform','oTransform','-o-transform']);h.$h=ss.coalesce(h.$4(e),'transform')};h.$4=function(e){var bw=new ss.ObjectEnumerator(e);try{while(bw.moveNext()){var bx=bw.current();var by=document.body.style;if(!(bx.key in by)){continue}return bx.value}}finally{bw.dispose()}return null};h.$7=function(){h.$m=ss.coalesce(window.self['devicePixelRatio'],1)};h.$0=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){h.$e=1;return}var bw=null;if(typeof(ss.getInstanceType(e)['getContext'])==='function'){bw=e.getContext('2d')}if(ss.isNullOrUndefined(bw)){h.$e=1;return}var bx=bw;h.$e=bx.webkitBackingStorePixelRatio||bx.mozBackingStorePixelRatio||bx.msBackingStorePixelRatio||bx.oBackingStorePixelRatio||1};h.$2=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){return}var bw=null;if(typeof(e['getContext'])==='function'){bw=e.getContext('2d')}if(ss.isNullOrUndefined(bw)){return}h.$f=typeof(bw['setLineDash'])==='function'||'mozDash'in bw||'webkitLineDash'in bw};h.$9=function(){var e=$('<input>');h.$I=typeof(e.get(0)['setSelectionRange'])==='function'};h.$6=function(){h.$j=h.$5('date');h.$k=h.$5('datetime');h.$l=h.$5('datetime-local');h.$K=h.$5('time')};h.$5=function(e){var bw=$("<input type='"+e+"'>").css({position:'absolute',visibility:'hidden'}).appendTo($(document.body));var bx=bw.get(0);var by=bx.getAttribute('type');var bz='@inva/1d:)';bx.value=bz;var bA=ss.referenceEquals(by,e)&&!ss.referenceEquals(bx.value,bz);bw.remove();return bA};h.$d=function(e){return function(bw){var bx=bw in window;if(!bx){var by=function(){return ss.createInstance(e)};var bz=window;bz[bw]=by}}};global.tab.BrowserSupport=h;var i=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true};i.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=i;var j=function(e){this.$0=null;this.$0=e};j.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=j;var k=function(){};k.__typeName='tab.CircleUtil';k.isEmpty=function(e){return t.isApproximatelyZero(e.radius)};k.isEqual=function(e,bw){return t.isApproximatelyEqual(e.radius,bw.radius)&&k.hasTheSameCenter(e,bw)};k.hasTheSameCenter=function(e,bw){return t.isApproximatelyEqual(e.center.x,bw.center.x)&&t.isApproximatelyEqual(e.center.y,bw.center.y)};k.intersectsWith=function(e,bw){var bx=Math.pow(e.center.x-bw.center.x,2)+Math.pow(e.center.y-bw.center.y,2);return Math.pow(e.radius+bw.radius,2)>bx};k.offsetCircle=function(e,bw){var bx={x:e.center.x+bw.x,y:e.center.y+bw.y};return{center:bx,radius:e.radius}};k.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};k.boundingBox=function(e){var bw=Math.ceil(e.radius);var bx=Math.floor(e.center.x-bw);var by=Math.ceil(e.center.x+bw);var bz=Math.floor(e.center.y-bw);var bA=Math.ceil(e.center.y+bw);return{x:bx,y:bz,w:by-bx,h:bA-bz}};k.containmentBox=function(e){var bw=Math.abs(ss.round(e.center.x)-e.center.x);var bx=Math.abs(ss.round(e.center.y)-e.center.y);var by=Math.sqrt(2)/2*e.radius-Math.max(bw,bx);var bz=Math.ceil(e.center.x-by);var bA=Math.ceil(e.center.y-by);var bB=Math.floor(e.center.x+by);var bC=Math.floor(e.center.y+by);return{x:bz,y:bA,w:bB-bz,h:bC-bA}};k.getChangedRects=function(e,bw){if(!k.hasTheSameCenter(e,bw)){return[]}var bx=((e.radius>bw.radius)?k.boundingBox(e):k.boundingBox(bw));var by=((e.radius>bw.radius)?k.containmentBox(bw):k.containmentBox(e));var bz=new Array(4);var bA=ss.Int32.div(bx.h-by.h,2);var bB=ss.Int32.div(bx.w-by.w,2);bz[0]={x:bx.x,y:bx.y,w:bx.w,h:bA};bz[1]={x:bx.x,y:bx.y+bA+by.h,w:bx.w,h:bA};bz[2]={x:bx.x,y:bx.y+bA,w:bB,h:by.h};bz[3]={x:bx.x+bB+by.w,y:bx.y+bA,w:bB,h:by.h};return bz};global.tab.CircleUtil=k;var l=function(){this.$2=null;g.call(this)};l.__typeName='tab.ConsoleLogAppender';l.enableLogging=function(e){if(ss.isNullOrUndefined(l.$0)){l.$0=new l;I.addAppender(l.$0)}l.$0.addFilter(e||function(){return true})};l.disableLogging=function(){if(ss.isNullOrUndefined(l.$0)){return}I.removeAppender(l.$0);l.$0=null};global.tab.ConsoleLogAppender=l;var m=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null};m.__typeName='tab.DataSourceConnectionAttemptErrorResponse';m.tryDeserialize=function(e){try{var bw=JSON.parse(e);return bw}catch(bx){return null}};global.tab.DataSourceConnectionAttemptErrorResponse=m;var n=function(){};n.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=n;var o=function(){};o.__typeName='tab.DateUtil';o.$4=function(){return I.lazyGetLogger(o)};o.get_nowAsTime=function(){return(new Date).getTime()};o.adjustDateByPeriod=function(e,bw,bx){var by=new Date;switch(bw){case'year':{by=new Date(e.getFullYear()+bx,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{by=o.adjustByMonths(e,bx*3);break}case'month':{by=o.adjustByMonths(e,bx);break}case'week':{by=o.$0(e,bx*7);break}case'day':{by=o.$0(e,bx);break}case'hour':{by=new Date(e.getTime()+bx*o.oneHour);break}case'minute':{by=new Date(e.getTime()+bx*o.oneMinute);break}case'second':{by=new Date(e.getTime()+bx*o.oneSecond);break}}return by};o.$0=function(e,bw){var bx=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var by=new Date(bx.getTime()+o.oneDay*bw);return new Date(by.getFullYear(),by.getMonth(),by.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};o.adjustByMonths=function(e,bw){var bx=e.getMonth();var by;var bz;if(bw<0){by=-((12-(bx-1)-1-bw)/12)|0}else{by=(bx-1+bw)/12|0}bz=bx+(bw-by*12);return new Date(e.getFullYear()+by,bz,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};o.adjustDateByPeriodInUTC=function(e,bw,bx){var by=new Date;switch(bw){case'year':{by=new Date(e.getUTCFullYear()+bx,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());break}case'quarter':{by=o.adjustByMonthsInUTC(e,bx*3);break}case'month':{by=o.adjustByMonthsInUTC(e,bx);break}case'week':{by=new Date(e.getTime()+bx*o.oneWeek);break}case'day':{by=new Date(e.getTime()+bx*o.oneDay);break}case'hour':{by=new Date(e.getTime()+bx*o.oneHour);break}case'minute':{by=new Date(e.getTime()+bx*o.oneMinute);break}case'second':{by=new Date(e.getTime()+bx*o.oneSecond);break}}return by};o.adjustByMonthsInUTC=function(e,bw){var bx=e.getUTCMonth(),by,bz;if(bw<0){by=-((12-(bx-1)-1-bw)/12)|0}else{by=(bx-1+bw)/12|0}bz=bx+(bw-by*12);return new Date(Date.UTC(e.getUTCFullYear()+by,bz,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};o.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bw=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bw)){return null}var bx=parseInt(bw[1],10);var by=parseInt(bw[2],10)-1;var bz=parseInt(bw[3],10);if(ss.isNullOrEmptyString(bw[4])){return new Date(Date.UTC(bx,by,bz))}else{var bA=parseInt(bw[5],10);var bB=parseInt(bw[6],10);var bC=parseInt(bw[7],10);return new Date(Date.UTC(bx,by,bz,bA,bB,bC))}};o.dateAsYear=function(e){return e.getUTCFullYear()};o.dateAsQuarter=function(e){var bw=o.$3(e);return parseInt(1+ss.Int32.div(bw-1,3))};o.dateAsMonth=function(e){return o.$3(e)};o.dateAsWeek=function(e){var bw=new Date(e.getUTCFullYear(),0,1);var bx=o.$2(e);var by=parseInt(1+(bx+o.$1(bw)-2)/7);return by};o.dateAsDay=function(e){return e.getUTCDate()};o.dateAsDayOfYear=function(e){return o.$2(e)};o.dateAsDayOfWeek=function(e){return o.$1(e)};o.dateAsMonthYear=function(e){var bw=o.$3(e)*10000+e.getUTCFullYear();return bw};o.dateAsMonthDayYear=function(e){var bw=o.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bw};o.dateTimeAsHour=function(e){return e.getUTCHours()};o.dateTimeAsMinute=function(e){return e.getUTCMinutes()};o.dateTimeAsSecond=function(e){return e.getUTCSeconds()};o.dateTimeAsOleDate=function(e){return bi.OleDateFromJsDate(e.getTime())};o.$2=function(e){var bw=e.getUTCFullYear();var bx=e.getUTCMonth();var by=e.getUTCDate();var bz=new Date(bw,0,1,12,0,0);var bA=new Date(bw,bx,by,12,0,0);var bB=Math.round((bA-bz)/86400000);return bB+1};o.$3=function(e){return e.getUTCMonth()+1};o.$1=function(e){return e.getUTCDay()+1};o.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=o;var p=function(e,bw){this.$2=null;this.$1=0;this.$0=null;O.verifyValue(e,'action');this.$0=e;this.$1=bw};p.__typeName='tab.Debouncer';global.tab.Debouncer=p;var q=function(){this.$0=[]};q.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=q;var r=function(){};r.__typeName='tab.DomUtil';r.$6=function(){return I.lazyGetLogger(r)};r.get_documentBody=function(){return document.body};r.getComputedStyle=function(e){if(h.get_getComputedStyle()){var bw=window.getComputedStyle(e);if(ss.isValue(bw)){return bw}}return e.style};r.getComputedZIndex=function(e){O.verifyValue(e,'child');var bw=$(e);var bx=bw;var by=document.documentElement;var bz=document.body;while(bw.length!==0&&!ss.referenceEquals(bw[0],bz)&&!ss.referenceEquals(bw[0],by)){var bA=bw.css('position');if(bA==='absolute'||bA==='fixed'){bx=bw}bw=bw.offsetParent()}return r.$2(bx)};r.resize=function(e,bw){if(typeof(e['resize'])==='function'){e.resize(bw)}else{r.setMarginBox(e.domNode||e,bw)}};r.getContentBox=function(e){var bw=$(e);return{l:parseInt(bw.css('padding-left'),10)||0,t:parseInt(bw.css('padding-top'),10)||0,w:t.roundToInt(bw.width()),h:t.roundToInt(bw.height())}};r.setContentBox=function(e,bw){$(e).width(bw.w).height(bw.h)};r.setMarginBox=function(e,bw){r.setMarginBoxJQ($(e),bw)};r.setMarginBoxJQ=function(e,bw){var bx=e[0];var by=bx.style;var bz=window.getComputedStyle(bx);r.$3(bz,bw,bx);if(!isNaN(bw.t)){by.top=bw.t+'px'}if(!isNaN(bw.l)){by.left=bw.l+'px'}};r.setAbsolutePositionBox=function(e,bw){e.css({left:(bw.l||0)+'px',top:(bw.t||0)+'px',width:(bw.w||0)+'px',height:(bw.h||0)+'px'})};r.getMarginBox=function(e){return r.getMarginBoxJQ($(e))};r.getMarginBoxJQ=function(e){var bw=e.position();return{l:t.roundToInt(bw.left),t:t.roundToInt(bw.top),w:t.roundToInt(e.outerWidth(true)),h:t.roundToInt(e.outerHeight(true))}};r.getRectXY=function(e){var bw,bx;var by=r.$1();if(by){var bz=e[0].getBoundingClientRect();bw=t.roundToInt(bz.left);bx=t.roundToInt(bz.top)}else{bw=t.roundToInt(r.getPageOffset(e).left);bx=t.roundToInt(r.getPageOffset(e).top)}var bA=t.roundToInt(e.outerWidth(true));var bB=t.roundToInt(e.outerHeight(true));return{x:bw,y:bx,w:bA,h:bB}};r.getRectXY$1=function(e,bw){var bx=r.getRectXY(e);if(bw){var by=r.docScroll();bx.x+=by.x;bx.y+=by.y}return bx};r.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(r.get_documentBody().scrollLeft,0)));var bw=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(r.get_documentBody().scrollTop,0)));return{x:e,y:bw}};r.isAncestorOf=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return false}return $(bw).parents().index(e)>=0};r.isEqualOrAncestorOf=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return false}return ss.referenceEquals(e,bw)||r.isAncestorOf(e,bw)};r.setElementPosition=function(e,bw,bx,by,bz){if(!ss.isValue(bz)||ss.unbox(bz)){var bA=ss.mkdict(['top','0px','left','0px']);var bB=(new ss.StringBuilder('translate3d(')).append(bw).append('px,').append(bx).append('px,').append('0px)').toString();bA[h.get_cssTransformName()]=bB;if(ss.isValue(by)){bA[h.get_cssTransitionName()+'-duration']=by}e.css(bA);return}var bC=ss.mkdict(['position','absolute','top',bx+'px','left',bw+'px']);bC[h.get_cssTransformName()]='';e.css(bC)};r.getElementPosition=function(e){return R.fromPosition(e.offset())};r.getElementClientPosition=function(e){var bw=r.getElementPosition(e);bw.x-=$(document.documentElement).scrollLeft();bw.y-=t.roundToInt($(document.documentElement).scrollTop());return bw};r.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bw=e.css('transform');if(ss.isNullOrEmptyString(bw)){return{left:0,top:0}}var bx=bw.split('(');var by=r.$7[bx[0]];if(ss.isNullOrUndefined(by)){return{left:0,top:0}}var bz=bx[1].split(',');return{left:ss.coalesce(t.parseDouble(bz[ss.unbox(by)]),0),top:ss.coalesce(t.parseDouble(bz[ss.unbox(by)+1]),0)}};r.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bw=e.css('transform');if(ss.isNullOrEmptyString(bw)){return 1}var bx=bw.split('(');if(bx[0]==='scale'||bx[0]==='matrix'||bx[0]==='matrix3d'){return ss.coalesce(t.parseDouble(bx[1]),1)}else{return 1}};r.getPageOffset=function(e){var bw=e[0].getBoundingClientRect();if(h.get_isChrome()&&tsConfig.is_mobile&&window.innerWidth/window.outerWidth<=0.9){return{left:bw.left,top:bw.top}}else{return{left:bw.left+window.pageXOffset,top:bw.top+window.pageYOffset}}};r.getScrollPosition=function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}};r.scrollPosition=function(e,bw){e[0].scrollLeft=bw.left;e[0].scrollTop=bw.top};r.focusWithoutScrolling=function(e,bw){if(ss.isNullOrUndefined(bw)||bw.length===0){e()}else{var bx=r.getScrollPosition(bw);e();r.scrollPosition(bw,bx)}};r.roomAroundPosition=function(e){var bw=e.top-window.pageYOffset;var bx=window.pageYOffset+window.innerHeight-e.top;var by=e.left-window.pageXOffset;var bz=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bw,roomBelow:bx,roomLeft:by,roomRight:bz}};r.getElementRelativePosition=function(e,bw){if(ss.isNullOrUndefined(bw)){bw=e.parent()}var bx=e.offset();var by=bw.offset();return{x:t.roundToInt(bx.left)-t.roundToInt(by.left),y:t.roundToInt(bx.top)-t.roundToInt(by.top)}};r.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!M.isNullOrEmpty$1(e.width)){return parseInt(e.width)}return Number.NaN};r.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!M.isNullOrEmpty$1(e.height)){return parseInt(e.height)}return Number.NaN};r.createNamespacedEventName=function(e,bw){if(ss.isValue(bw)){return e+bw}return e.toString()};r.stopPropagationOfInputEvents=function(e,bw){var bx=function(by){by.stopPropagation()};r.handleInputEvents(e,bw,bx)};r.handleInputEvents=function(e,bw,bx){e.on(r.createNamespacedEventName('touchstart',bw),bx).on(r.createNamespacedEventName('touchcancel',bw),bx).on(r.createNamespacedEventName('touchend',bw),bx).on(r.createNamespacedEventName('touchmove',bw),bx).on(r.createNamespacedEventName('click',bw),bx).on(r.createNamespacedEventName('mousedown',bw),bx).on(r.createNamespacedEventName('mousemove',bw),bx).on(r.createNamespacedEventName('mouseup',bw),bx)};r.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bw=e.tagName.toLowerCase();if(bw==='textarea'||bw==='input'||bw==='select'){return true}}return false};r.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bw=e.tagName.toLowerCase();var bx=$(e).attr('type');if(bw==='input'&&bx==='checkbox'){return true}}return false};r.handleTouchEvents=function(e){if(r.isCheckboxElement(e)){return false}if(r.isFocusableTextElement(e)){return false}return true};r.setCapture=function(e,bw){if(!h.get_mouseCapture()){return}e.setCapture(bw)};r.releaseCapture=function(){if(!h.get_mouseCapture()){return}document.releaseCapture()};r.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,r.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};r.$0=function(e,bw){var bx=parseInt(e,10);return(isNaN(bx)?bw:bx)};r.$5=function(e,bw,bx){var by=r.$0(e.marginLeft,0);var bz=r.$0(e.borderLeftWidth,0);var bA=r.$0(e.paddingLeft,0);var bB=r.$0(e.paddingRight,0);var bC=r.$0(e.borderRightWidth,0);var bD=r.$0(e.marginRight,0);var bE=Math.max(bw-by-bz-bA-bB-bC-bD,0);bx.style.width=bE+'px'};r.$4=function(e,bw,bx){var by=r.$0(e.marginTop,0);var bz=r.$0(e.borderTopWidth,0);var bA=r.$0(e.paddingTop,0);var bB=r.$0(e.paddingBottom,0);var bC=r.$0(e.borderBottomWidth,0);var bD=r.$0(e.marginBottom,0);var bE=Math.max(bw-by-bz-bA-bB-bC-bD,0);bx.style.height=bE+'px'};r.$3=function(e,bw,bx){if(bw.w>=0){r.$5(e,bw.w,bx)}if(bw.h>=0){r.$4(e,bw.h,bx)}};r.$2=function(e){O.verifyValue(e,'o');var bw=e.css('z-index');if(_.isNumber(bw)){return bw}if(_.isString(bw)){if(!ss.isNullOrEmptyString(bw)&&bw!=='auto'&&bw!=='inherits'){return parseInt(bw,10)}}return 0};r.$1=function(){if(tsConfig.is_mobile&&h.get_isChrome()){var e=window.document.body.getBoundingClientRect();return window.pageXOffset>0&&e.left===0||window.pageYOffset>0&&e.top===0}return false};r.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};r.setSelectionRangeOnInput=function(e,bw,bx){if(h.get_setSelectionRange()){try{e.setSelectionRange(bw,bx)}catch(by){}}};r.selectAllInputText=function(e){try{if(h.get_setSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bw){}};r.setCursorPosition=function(e,bw){if(typeof(e['createTextRange'])==='function'){var bx=(e.createTextRange?e.createTextRange():null);bx.move('character',bw);bx.select();bx.scrollIntoView();e.focus()}else if(h.get_isSafari()&&h.get_setSelectionRange()){e.focus();e.setSelectionRange(bw,bw)}else{e.blur();e.selectionStart=e.selectionEnd=bw;e.focus()}};r.replaceSelection=function(e,bw){var bx=e.value;var by=bx.substr(0,e.selectionStart);var bz=bx.substring(e.selectionEnd);var bA=e.selectionStart+bw.length;e.value=by+bw+bz;r.setCursorPosition(e,bA)};r.setNativeTooltip=function(e,bw){var bx=ss.isNullOrEmptyString(bw);if(bx){e.removeAttr('title')}else{e.attr('title',bw)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bx){var by=$("<div class='tab-mobileTooltip'/>").text(bw);e.append(by)}}};r.isContentOverflowingY=function(e){return e.prop('scrollHeight')>e.prop('clientHeight')};r.nodeHasTextSelection=function(e){var bw=window.getSelection();for(var bx=bw.rangeCount-1;bx>=0;--bx){var by=bw.getRangeAt(bx);if(ss.referenceEquals(e,by.startContainer)||e.contains(by.startContainer)||ss.referenceEquals(e,by.endContainer)||e.contains(by.endContainer)){return true}}return false};r.generateUniqueId=function(){return'tab-ui-id-'+r.$8++};global.tab.DomUtil=r;var s=function(){};s.__typeName='tab.DoubleRectXYUtil';s.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};s.isEqual=function(e,bw){return e.x===bw.x&&e.y===bw.y&&e.w===bw.w&&e.h===bw.h};s.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};s.inRect=function(e,bw){return bw.x>=e.x&&bw.x<e.x+e.w&&bw.y>=e.y&&bw.y<e.y+e.h};s.inRect$1=function(e,bw,bx,by,bz,bA){return bz>=e&&bz<e+bx&&bA>=bw&&bA<bw+by};s.intersectsWith=function(e,bw){return!(bw.x+bw.w<e.x||bw.y+bw.h<e.y||bw.x>e.x+e.w||bw.y>e.y+e.h)};s.outsetRect=function(e,bw,bx){return{x:e.x-bw,y:e.y-bx,w:e.w+bw+bw,h:e.h+bx+bx}};global.tab.DoubleRectXYUtil=s;var t=function(){};t.__typeName='tab.DoubleUtil';t.$0=function(){return I.lazyGetLogger(t)};t.isApproximatelyEqual=function(e,bw){if(Math.abs(e-bw)<t.epsilon){return true}if(e===0){return false}var bx=bw/e;if(t.$3<=bx&&bx<=t.$5){return true}return false};t.isApproximatelyZero=function(e){return t.isApproximatelyEqual(0,e)};t.isLessThanAndNotApproximatelyEqual=function(e,bw){return e<bw&&!t.isApproximatelyEqual(e,bw)};t.isLessThanOrApproximatelyEqual=function(e,bw){return e<bw||t.isApproximatelyEqual(e,bw)};t.isGreaterThanAndNotApproximatelyEqual=function(e,bw){return e>bw&&!t.isApproximatelyEqual(e,bw)};t.isGreaterThanOrApproximatelyEqual=function(e,bw){return e>bw||t.isApproximatelyEqual(e,bw)};t.sigFigs=function(e,bw){if(e===0||bw===0){return e}var bx=Math.pow(10,bw-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bx)/bx};t.roundToInt=function(e){return ss.round(e)};t.parseDouble=function(e){var bw=parseFloat(e);return(isFinite(bw)?bw:null)};t.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};t.parse64BitInteger=function(e){var bw={};if(!ss.Int32.tryParse(e,bw)){return null}var bx=t.parseValidDouble(e);if(ss.Nullable$1.gt(bx,9.22337203685477E+18)||ss.Nullable$1.lt(bx,-9.22337203685477E+18)){return null}return bw.$};t.isValid32BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bw=t.parse64BitInteger(e);if(ss.isNullOrUndefined(bw)){return false}return ss.Nullable$1.le(bw,2147483647)&&ss.Nullable$1.ge(bw,-2147483648)};t.isValid64BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bw=t.parse64BitInteger(e);if(ss.isNullOrUndefined(bw)){return false}return true};t.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!t.isValidDouble(e)){return Number.NaN}return parseFloat(e)};global.tab.DoubleUtil=t;var u=function(){};u.__typeName='tab.ErrorTrace';u.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){u.$m=true}}u.$3('setTimeout');u.$3('setInterval');u.installGlobalHandler()};u.wrap=function(bw){return function(){try{return bw.apply(this,[Array.prototype.slice.call(arguments)])}catch(bx){var e=ss.Exception.wrap(bx);u.report(e,false);throw bx}}};u.$3=function(e){var bw=window[e];var bx=function(){var by=ss.arrayClone(Array.prototype.slice.call(arguments));var bz=by[0];if(ss.referenceEquals(ss.getInstanceType(bz),Function)){by[0]=u.wrap(bz)}if('apply'in bw){return bw.apply(this,by)}else{return bw(by[0],by[1])}};window[e]=bx};u.windowOnError=function(e,bw,bx,by,bz){var bA;if(ss.isValue(u.$o)){u.$0(u.$o,bw,bx,e);bA=u.$o;u.$o=null;u.$n=null}else{var bB=new Y(bw,bx);bB.functionName=u.$9(bB);bB.context=u.$6(bB);bA=new Z('onError',e);bA.name='window.onError';bA.locations=[bB]}u.$r.push(bA);if(ss.isValue(u.$p)){u.$p.apply(this,Array.prototype.slice.call(arguments))}return false};u.$0=function(e,bw,bx,by){var bz=new Y(bw,bx);if(ss.isValue(bz.url)&&ss.isValue(bz.lineNo)){e.isIncomplete=false;if(ss.isNullOrUndefined(bz.functionName)){bz.functionName=u.$9(bz)}if(ss.isNullOrUndefined(bz.context)){bz.context=u.$6(bz)}var bA=by.match(new RegExp(" '([^']+)' "));if(ss.isValue(bA)&&bA.length>1){bz.columnNo=u.$5(bA[1],bz)}if(ss.isValue(e.locations)&&e.locations.length>0){var bB=e.locations[0];if(ss.referenceEquals(bB.url,bz.url)){if(bB.lineNo===bz.lineNo){return}else if(ss.isNullOrUndefined(bB.lineNo)&&ss.referenceEquals(bB.functionName,bz.functionName)){bB.lineNo=bz.lineNo;bB.context=bz.context;return}}}e.locations.unshift(bz);e.isPartial=true;return}else{e.isIncomplete=true}return};u.$a=function(e){if(!u.$s){return''}try{var bw=new XMLHttpRequest;bw.open('GET',e,false);bw.send('');return bw.responseText}catch(bx){return''}};u.$7=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(u.$i,e)){var bw='';if(e.indexOf(document.domain)>-1){bw=u.$a(e)}u.$i[e]=(ss.isNullOrEmptyString(bw)?[]:bw.split('\n'))}return u.$i[e]};u.$5=function(e,bw){var bx=u.$7(bw.url);var by=new RegExp('\\b'+u.$2(e)+'\\b');if(ss.isValue(bx)&&bx.length>bw.lineNo){var bz=by.exec(bx[bw.lineNo]);if(ss.isValue(bz)){return bz.index}}return-1};u.$9=function(e){var bw=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bx=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var by='';var bz=10;var bA=u.$7(e.url);if(bA.length===0){return'?'}for(var bB=0;bB<bz;bB++){by=bA[e.lineNo-1]+by;if(!ss.isNullOrEmptyString(by)){var bC=bx.exec(by);if(ss.isValue(bC)&&bC.length>0){return bC[1]}bC=bw.exec(by);if(ss.isValue(bC)&&bC.length>0){return bC[1]}}}return'?'};u.$6=function(e){var bw=u.$7(e.url);if(ss.isNullOrUndefined(bw)||bw.length===0){return null}var bx=[];var by=60;var bz=e.columnNo;var bA=bw[e.lineNo-1];var bB=Math.max(0,bz-by);var bC=Math.min(bz+by,bA.length);bx.push(bA.substr(bB,bC-bB));return bx};u.$2=function(e){return e.replace(new RegExp('[\\-\\[\\]{}()*+?.,\\\\\\^$|#]','g'),'\\\\$&')};u.$8=function(e){var bw=new Z('stack',e.get_message());bw.name=e.name;if(u.$m){var bx=null;try{bx=u.$1(e)}catch(by){var inner=ss.Exception.wrap(by);if(u.$t){throw inner}}if(ss.isValue(bx)){return bx}}else{return bw}bw.traceMode='failed';return bw};u.$1=function(e){var bw=u.$c(e);var bx=new Z('stack',e.get_message());bx.name=e.name;bx.locations=bw;return bx};u.$c=function(e){var bw;if(ss.isValue(e.get_innerException())){bw=e.get_innerException().error}else{bw=e._error}if(ss.isValue(bw.stack)&&ss.isValue(bw.stack.match(u.$e))){return u.$b(bw)}if(ss.isValue(bw.stack)){return u.$d(bw)}return null};u.$b=function(e){var bw=e.stack.split(String.fromCharCode(10)).filter(function(bx){return ss.isValue(bx.match(u.$e))});return bw.map(function(bx){if(bx.indexOf('(eval ')>-1){bx=ss.replaceAllString(bx,'eval code','eval').replace(u.$j,'')}var by=bx.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var bz=u.$4(by.pop());var bA=ss.coalesce(by.join(' '),'undefined');var bB=((ss.indexOf(['eval','<anonymous>'],bz[0])>-1)?'undefined':bz[0]);var bC=parseInt(bz[1]);var bD=parseInt(bz[2]);var bE=new Y(bB,bC);bE.functionName=bA;bE.columnNo=bD;bE.context=[bx];var bF=bE;bF.context=u.$6(bF);return bF})};u.$d=function(e){var bw=e.stack.split(String.fromCharCode(10)).filter(function(bx){return ss.isNullOrUndefined(bx.match(u.$h))});return bw.map(function(bx){if(bx.indexOf(' > eval')>-1){bx=bx.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(bx.indexOf('@')===-1&&bx.indexOf(':')===-1){return new Y(bx,-1)}else{var by=bx.split('@');var bz=u.$4(by.pop());var bA=ss.coalesce(by.join('@'),'undefined');var bB=bz[0];var bC=parseInt(bz[1]);var bD=parseInt(bz[2]);var bE=new Y(bB,bC);bE.functionName=bA;bE.columnNo=bD;bE.context=[bx];var bF=bE;bF.context=u.$6(bF);return bF}})};u.$4=function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var bw=u.$f.exec(e.replace(u.$g,''));return[bw[1],ss.coalesce(bw[2],'undefined'),ss.coalesce(bw[3],'undefined')]};u.hasTraces=function(){return u.$r.length>0};u.dequeueTraces=function(){var e=u.$r;u.$r=[];return e};u.installGlobalHandler=function(){if(u.$q||!u.$l){return}u.$p=window.onerror;window.onerror=u.windowOnError;u.$q=true};u.report=function(e,bw){if(ss.isNullOrUndefined(bw)){bw=true}if(ss.isValue(u.$o)){if(ss.referenceEquals(u.$n,e)){return}else{var bx=u.$o;u.$o=null;u.$n=null;u.$r.push(bx)}}var by=u.$8(e);u.$o=by;u.$n=e;window.setTimeout(function(){if(ss.referenceEquals(u.$n,e)){u.$o=null;u.$n=null;u.$r.push(by)}},(by.isIncomplete?2000:0));if(bw){throw e}};global.tab.ErrorTrace=u;var v=function(){};v.__typeName='tab.FeatureFlags';v.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(v.$0)&&ss.keyExists(v.$0,e)){return v.$0[e]}return false};v.setDefaults=function(e){v.$0=e};global.tab.FeatureFlags=v;var w=function(){};w.__typeName='tab.FeatureParam';global.tab.FeatureParam=w;var x=function(){};x.__typeName='tab.FeatureParamsLookup';x.getBool=function(e){if(ss.keyExists(x.$5,e)){return x.$5[e]||false}return false};x.getFloat=function(e){if(ss.keyExists(x.$7,e)){return x.$7[e]}return null};x.getInt=function(e){if(ss.keyExists(x.$9,e)){return x.$9[e]}return null};x.getString=function(e){if(ss.keyExists(x.$c,e)){return x.$c[e]}return null};x.$1=function(e,bw,bx){x.$6.push(bw);x.$e[e]=bw;x.$5[bw]=bx};x.$2=function(e,bw){x.$8.push(bw);x.$e[e]=bw;x.$7[bw]=null};x.$3=function(e,bw){x.$a.push(bw);x.$e[e]=bw;x.$9[bw]=null};x.$4=function(e,bw){x.$d.push(bw);x.$e[e]=bw;x.$c[bw]=null};x.$0=function(){var e=M.getUriQueryParameters(window.self.location.search);var bw=new ss.ObjectEnumerator(e);try{while(bw.moveNext()){var bx=bw.current();var by=bx.key.toLowerCase();var bz=0;if(ss.keyExists(x.$e,by)){bz=x.$e[by]}else{continue}if(bx.value.length>0){var bA=bx.value[0];if(ss.contains(x.$6,bz)){var bB=bA.toLowerCase()==='true';x.$5[bz]=bB}else if(ss.contains(x.$8,bz)){var bC=parseFloat(bA);x.$7[bz]=bC}else if(ss.contains(x.$a,bz)){var bD=parseInt(bA);x.$9[bz]=bD}else if(ss.contains(x.$d,bz)){x.$c[bz]=bA}else{continue}}else{continue}}}finally{bw.dispose()}};global.tab.FeatureParamsLookup=x;var y=function(){};y.__typeName='tab.FullscreenUtil';y.add_fullscreenStateChanged=function(e){y.$1$1=ss.delegateCombine(y.$1$1,e)};y.remove_fullscreenStateChanged=function(e){y.$1$1=ss.delegateRemove(y.$1$1,e)};y.$3=function(){return y.$8.substring(2)};y.$2=function(){return y.$7.substring(2)};y.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(y.$6)){return false}return document[y.$6]};y.get_fullscreenElement=function(){if(ss.isNullOrUndefined(y.$5)){return null}return document[y.$5]};y.get_inFullscreenMode=function(){return ss.isValue(y.get_fullscreenElement())};y.$0=function(e,bw){for(var bx=0;bx<bw.length;bx++){var by=bw[bx];if(by in e||by.toLowerCase()in e){return by}}return null};y.exitFullscreen=function(){if(ss.isNullOrUndefined(y.$4)){return}document[y.$4]()};y.requestFullscreen=function(e){if(ss.isNullOrUndefined(y.$9)){return}e[y.$9]()};y.$1=function(e){document.documentElement.classList.toggle('fullscreen',y.get_inFullscreenMode());if(!ss.staticEquals(y.$1$1,null)){y.$1$1()}};global.tab.FullscreenUtil=y;var z=function(){};z.__typeName='tab.HistoryUtil';z.pushState=function(e,bw,bx,by){if(h.get_historyApi()){try{e.history.pushState(bw,bx,by)}catch(bz){var e=ss.Exception.wrap(bz)}}};z.replaceState=function(e,bw,bx,by){if(h.get_historyApi()){try{e.history.replaceState(bw,bx,by)}catch(bz){var e=ss.Exception.wrap(bz)}}};global.tab.HistoryUtil=z;var A=function(){};A.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=A;var B=function(){};B.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=B;var C=function(){};C.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=C;var D=function(){};D.__typeName='tab.ILogAppender';global.tab.ILogAppender=D;var E=function(e,bw){this.$0=0;this.$1=0;this.$0=e;this.$1=bw};E.__typeName='tab.IntegerRange';E.itemToTileRange=function(e,bw){var bx=new E(0,0);bx.set_from(Math.floor(e.get_from()/bw));bx.set_to(Math.floor(e.get_to()/bw));return bx};E.pixelToItemRange=function(e,bw){var bx=new E(0,0);bx.set_from(Math.floor(e.get_from()/bw));bx.set_to(Math.floor(e.get_to()/bw));return bx};E.pixelToTileRange=function(e,bw,bx){return E.itemToTileRange(E.pixelToItemRange(e,bw),bx)};E.isEqual=function(e,bw){return ss.isValue(e)&&ss.isValue(bw)&&e.get_to()===bw.get_to()&&e.get_from()===bw.get_from()};E.union=function(e,bw){if(ss.isNullOrUndefined(e)){return bw}if(ss.isNullOrUndefined(bw)){return e}var bx=new E(0,0);bx.set_from(Math.min(e.get_from(),bw.get_from()));bx.set_to(Math.max(e.get_to(),bw.get_to()));return bx};global.tab.IntegerRange=E;var F=function(){G.call(this)};F.__typeName='tab.JsMapPolyfill';global.tab.JsMapPolyfill=F;var G=function(){this.store={};this.size=0};G.__typeName='tab.JsSetPolyfillImpl';global.tab.JsSetPolyfillImpl=G;var H=function(){};H.__typeName='tab.Log';H.get=function(e){return I.lazyGetLogger(ss.getInstanceType(e))};global.tab.Log=H;var I=function(e){this.$1=null;this.$1=e};I.__typeName='tab.Logger';I.get_globalLog=function(){return I.global};I.$2=function(){return M.lazyInitStaticField(I,'appenders',function(){return[]})};I.$3=function(){return M.lazyInitStaticField(I,'filters',function(){return[]})};I.$4=function(){return M.lazyInitStaticField(I,'nullLog',function(){return new I('')})};I.clearFilters=function(){var e=I.$2();for(var bw=0;bw<e.length;bw++){var bx=e[bw];bx.clearFilters()}ss.clear(I.$3())};I.filterByLogger=function(e,bw){bw=bw||0;I.$0(function(bx,by){return ss.referenceEquals(bx,e)&&by>=bw})};I.filterByType=function(e,bw){bw=bw||0;I.$0(function(bx,by){return by>=bw&&ss.referenceEquals(bx.get_name(),ss.getTypeName(e))})};I.filterByName=function(e,bw){bw=bw||0;var bx=new RegExp(e,'i');I.$0(function(by,bz){return bz>=bw&&ss.isValue(by.get_name().match(bx))})};I.clearAppenders=function(){ss.clear(I.$2())};I.addAppender=function(e){var bw=I.$3();for(var bx=0;bx<bw.length;bx++){var by=bw[bx];e.addFilter(by)}I.$2().push(e)};I.removeAppender=function(e){ss.remove(I.$2(),e)};I.lazyGetLogger=function(e){return M.lazyInitStaticField(e,'_logger',function(){return I.getLogger(e)})};I.getLogger=function(e,bw){var bx=I.getLoggerWithName(ss.getTypeName(e));if(ss.isValue(bw)){}return bx};I.getLoggerWithName=function(e){return I.$4()};I.$1=function(){var e=M.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(e,':log')){return}var bw=e[':log'];if(bw.length===0){}for(var bx=0;bx<bw.length;bx++){var by=bw[bx];var bz=by.split(String.fromCharCode(58));var bA=1;if(bz.length>0&&ss.isValue(bz[1])){var bB=bz[1].toLowerCase();var bC=ss.indexOf(I.loggerLevelNames,bB);if(bC>=0){bA=bC}}}};I.$0=function(e){I.$3().push(e);var bw=I.$2();for(var bx=0;bx<bw.length;bx++){var by=bw[bx];by.addFilter(e)}};global.tab.Logger=I;var J=function(){};J.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=J;var K=function(){};K.__typeName='tab.MapUtil';K.getZoomFactorForDesiredZoomLevel=function(e,bw){return Math.exp(-(Math.LN2*(bw-e)))};K.allowZoomAtCurrentLevel=function(e,bw){return e+Math.log(1/bw)/Math.LN2>=0};K.allowZoomAtCurrentLevelLeaflet=function(e,bw){return e-bw>=0};K.getVisiblePixelWidth=function(e,bw,bx){var by=Math.pow(2,e)*bx;var bz=Math.floor(bw*by);return bz};K.getScrollDeltaForZoomFactor=function(e){return Math.floor(K.$1*(Math.log(e)/Math.log(2)))};K.getLeafletZoomOffsetForTileSize=function(e){return((e===K.$0)?-1:0)};K.calculateZoomFactor=function(e){var bw=ss.Int32.div(e,8);var bx=ss.Int32.div(bw,15);var by=1;var bz=Math.log(by)/Math.log(2)+bx/4;by=Math.pow(2,bz);return ss.round(by,2)};global.tab.MapUtil=K;var L=function(){this.$9=null;this.$a=null;this.$7=null;this.$6=null;this.$8=null;this.$9=[];this.$7=[];this.$8=null;this.$6=null};L.__typeName='tab.MetricsLogger';L.get_instance=function(){if(!ss.isValue(L.$b)){L.$b=new L}return L.$b};L.$1=function(e,bw){var bx=(bw?', ':',');var by=new ss.StringBuilder;by.append((bw?L.$9[e.eventType]:e.eventType.toString()));var bz=ss.getKeyCount(e.parameters);if(bz>0){by.append('=');by.append('{');var bA=0;var bB=(bw?': ':':');var bC=ss.getEnumerator(Object.keys(e.parameters));try{while(bC.moveNext()){var bD=bC.current();if(bD==='id'&&e.eventType!=='init'){continue}if(bA++>0){by.append(bx)}by.append((bw?L.$a[bD]:bD.toString()));by.append(bB);var bE=e.parameters[bD];L.$2(by,bE,bw)}}finally{bC.dispose()}by.append('}')}return by.toString()};L.$0=function(e,bw,bx){var by=(bx?', ':',');var bz=(bx?': ':':');var bA=ss.getKeyCount(bw);var bB=0;var bC=ss.getEnumerator(Object.keys(bw));try{while(bC.moveNext()){var bD=bC.current();if(bw.hasOwnProperty(bD)){var bE=bw[bD];e.append(bD);e.append(bz);L.$2(e,bE,bx);if(++bB<bA){e.append(by)}}}}finally{bC.dispose()}};L.$2=function(e,bw,bx){var by=typeof(bw);if(by==='number'&&Math.floor(bw)!==bw){e.append(bw.toFixed(1))}else if(by==='string'){if(bx){e.append('"');e.append(bw);e.append('"')}else{e.append(encodeURIComponent(bw))}}else if($.isArray(bw)){e.append('[');e.append(bw);e.append(']')}else if(by==='object'){e.append('{');var bz=bw;L.$0(e,bz,bx);e.append('}')}else{e.append(bw)}};global.tab.MetricsLogger=L;var M=function(){};M.__typeName='tab.MiscUtil';M.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};M.get_urlPathnameParts=function(){var e=M.get_pathName();var bw=tsConfig.site_root;var bx=e.indexOf(bw,0);var by=e.substr(bx+bw.length);var bz=by.split('/');var bA={};bA[2]=bz[2];bA[3]=bz[3];bA[4]=bz[4];return bA};M.lazyInitStaticField=function(e,bw,bx){var by=e[bw];if(ss.isNullOrUndefined(by)){by=bx();e[bw]=by}return by};M.shallowEquals=function(e,bw){if(ss.referenceEquals(e,bw)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return false}var bx=Object.keys(e);var by=Object.keys(bw);if(bx.length!==by.length){return false}for(var bz=0;bz<bx.length;bz++){var bA=bx[bz];if(!bw.hasOwnProperty(bA)||!ss.referenceEquals(e[bA],bw[bA])){return false}}return true};M.percentEncode=function(e,bw){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bw)){return e}var bx=new ss.StringBuilder;var by=0;while(by<e.length){var bz=e.substr(by,1);if(bz==='%'){bx.append(e.substr(by,3));by+=2}else if(!ss.keyExists(bw,bz)){bx.append('%').append(bz.charCodeAt(0).toString(16).toUpperCase())}else{bx.append(bz)}by++}return bx.toString()};M.encodeForWG=function(e){var bw={};var bx=function(by,bz){for(var bA=by;bA<=bz;bA++){var bB=String.fromCharCode(bA);bw[bB]=bB}};bx(97,122);bx(65,90);bx(48,57);bx(95,95);bx(45,45);e=M.percentEncode(e,bw);e=M.percentEncode(e,null);return e};M.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bw=0;bw<e.length;bw++){if(ss.isNullOrUndefined(e[bw])){return true}}return false};M.isNullOrEmpty=function(e){if(ss.isNullOrUndefined(e)){return true}var bw=e;if(ss.isValue(bw['length'])&&bw['length']===0){return true}return false};M.isNullOrEmpty$1=function(e){return ss.isNullOrEmptyString(e)};M.isValidIndex=function(e,bw){return e>=0&&e<bw.length};M.toBoolean=function(e,bw){var bx=new RegExp('^(yes|y|true|t|1)$','i');if(M.isNullOrEmpty$1(e)){return bw}var by=e.match(bx);return!M.isNullOrEmpty(by)};M.getUriQueryParameters=function(e){var bw={};if(ss.isNullOrUndefined(e)){return bw}var bx=e.indexOf('?');if(bx<0){return bw}var by=e.substr(bx+1);var bz=by.indexOf('#');if(bz>=0){by=by.substr(0,bz)}if(ss.isNullOrEmptyString(by)){return bw}var bA=by.split('&');for(var bB=0;bB<bA.length;bB++){var bC=bA[bB];var bD=bC.split('=');var bE=decodeURIComponent(bD[0]);var bF;if(ss.keyExists(bw,bE)){bF=bw[bE]}else{bF=[];bw[bE]=bF}if(bD.length>1){bF.push(decodeURIComponent(bD[1]))}}return bw};M.replaceUriQueryParameters=function(e,bw){if(ss.getKeyCount(bw)===0){return e}var bx=new ss.StringBuilder;var by=true;var bz=function(){bx.append((by?'?':'&'));by=false};var bA=_.keys(bw);for(var bB=0;bB<bA.length;bB++){var bC=bA[bB];var bD=bw[bC];var bE=encodeURIComponent(bC);if(ss.isNullOrUndefined(bD)||bD.length===0){bz();bx.append(bE)}else{for(var bF=0;bF<bD.length;bF++){var bG=bD[bF];bz();bx.append(bE).append('=').append(encodeURIComponent(bG))}}}var bH='';var bI='';if(e.length>0){var bJ=e.indexOf('?');var bK=e.indexOf('#');var bL=Math.min(((bJ<0)?e.length:bJ),((bK<0)?e.length:bK));bI=e.substr(0,bL);bH=((bK<0)?'':e.substr(bK))}return bI+bx+bH};M.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};M.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};M.dispose=function(e){if(ss.isValue(e)){for(var bw=0;bw<e.length;bw++){var bx=e[bw];bx.dispose()}ss.clear(e)}return null};M.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};M.cloneObject=function(e){var bw=JSON.stringify(e);return JSON.parse(bw)};global.tab.MiscUtil=M;var N=function(){};N.__typeName='tab.NavigationMetricsCollector';N.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'){N.$0=window.performance.timing;if('navigationStart'in N.$0){var e=N.$0[N.$1[0]];var bw=[];for(var bx=0;bx<N.$1.length;bx++){var by=N.$1[bx];var bz=N.$0[by];bz=((bz===0)?0:(bz-e));bw.push(bz)}var bA={};bA['v']=bw;var bB=new tabBootstrap.MetricsEvent('nav',1,bA);tabBootstrap.MetricsController.logEvent(bB)}}};global.tab.NavigationMetricsCollector=N;var O=function(){};O.__typeName='tab.Param';O.createArgumentNullOrUndefinedException=function(e){var bw=new ss.Exception(e+' is null or undefined.');bw.paramName=e;return bw};O.verifyString=function(e,bw){O.verifyValue(e,bw);if(e.trim().length===0){var bx=new ss.Exception(bw+' contains only white space');bx.paramName=bw;O.$1(bx);throw bx}};O.verifyValue=function(e,bw){if(ss.isNullOrUndefined(e)){var bx=O.createArgumentNullOrUndefinedException(bw);O.$1(bx);throw bx}};O.$1=function(e){if(O.suppressAlerts){return}try{throw e}catch(bw){var exceptionWithStack=ss.Exception.wrap(bw);window.alert(O.$0(exceptionWithStack))}};O.$0=function(e){var bw;if(ss.isValue(e.stack)){bw=e.stack}else{bw=e.get_message()}return bw};global.tab.Param=O;var P=function(){};P.__typeName='tab.PathnameKey';global.tab.PathnameKey=P;var Q=function(){};Q.__typeName='tab.PointFUtil';Q.subtract=function(e,bw){return{x:e.x-bw.x,y:e.y-bw.y}};Q.timesScalar=function(e,bw){return{x:e.x*bw,y:e.y*bw}};Q.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointFUtil=Q;var R=function(){};R.__typeName='tab.PointUtil';R.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.thj,y:e.RAC}};R.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bw={thj:ss.round(e.x),RAC:ss.round(e.y)};return bw};R.fromPosition=function(e){return{x:t.roundToInt(e.left),y:t.roundToInt(e.top)}};R.add=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return e}return{x:e.x+bw.x,y:e.y+bw.y}};R.subtract=function(e,bw){return{x:e.x-bw.x,y:e.y-bw.y}};R.distance=function(e,bw){O.verifyValue(e,'first');O.verifyValue(bw,'second');var bx=e.x-bw.x;var by=e.y-bw.y;return Math.sqrt(bx*bx+by*by)};R.isWithinDistance=function(e,bw,bx){var by=e.x-bw.x;var bz=e.y-bw.y;return by*by+bz*bz<=bx*bx};R.equals=function(e,bw){return ss.isValue(e)&&ss.isValue(bw)&&bw.x===e.x&&bw.y===e.y};global.tab.PointUtil=R;var S=function(){};S.__typeName='tab.RecordCast';S.rectAsSize=function(e){return e};S.regionRectAsSize=function(e){return e};S.rectPresModelAsRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.thj,y:e.RAC,w:e.rec,h:e.EUR}};S.doubleRectPresModelAsDoubleRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.BPK,y:e.KEc,w:e.POJ,h:e.suk}};S.sizeAsSizePresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bw={};bw.rec=e.w;bw.EUR=e.h;return bw};global.tab.RecordCast=S;var T=function(){};T.__typeName='tab.RectUtil';T.isEmpty=function(e){return e.w===0||e.h===0};T.isEqual=function(e,bw){return e.t===bw.t&&e.l===bw.l&&e.w===bw.w&&e.h===bw.h};T.inRect=function(e,bw){return bw.x>=e.l&&bw.x<e.l+e.w&&bw.y>=e.t&&bw.y<e.t+e.h};global.tab.RectUtil=T;var U=function(){};U.__typeName='tab.RectXYUtil';U.set=function(e,bw){e.x=bw.x;e.y=bw.y;e.w=bw.w;e.h=bw.h};U.set$1=function(e,bw,bx,by,bz){e.x=bw;e.y=bx;e.w=by;e.h=bz};U.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};U.isEqual=function(e,bw){return e.x===bw.x&&e.y===bw.y&&e.w===bw.w&&e.h===bw.h};U.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};U.inRect=function(e,bw){return bw.x>=e.x&&bw.x<e.x+e.w&&bw.y>=e.y&&bw.y<e.y+e.h};U.inRect$1=function(e,bw,bx){return bw>=e.x&&bw<e.x+e.w&&bx>=e.y&&bx<e.y+e.h};U.inRectPointF=function(e,bw){return bw.x>=e.x&&bw.x<e.x+e.w&&bw.y>=e.y&&bw.y<e.y+e.h};U.inRectPointF$1=function(e,bw,bx){return bw>=e.x&&bw<e.x+e.w&&bx>=e.y&&bx<e.y+e.h};U.intersectsWith=function(e,bw){return!(bw.x+bw.w<e.x||bw.y+bw.h<e.y||bw.x>e.x+e.w||bw.y>e.y+e.h)};U.intersectsWith$1=function(e,bw,bx,by,bz){return!(bw+by<e.x||bx+bz<e.y||bw>e.x+e.w||bx>e.y+e.h)};U.intersectsWithMoreThanSharedEdge=function(e,bw){return!(bw.x+bw.w<=e.x||bw.y+bw.h<=e.y||bw.x>=e.x+e.w||bw.y>=e.y+e.h)};U.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};U.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};U.intersectsWithAny=function(e,bw){var bx=false;for(var by=0;by<bw.length;by++){var bz=bw[by];if(ss.isNullOrUndefined(bz)){continue}if(U.intersectsWith(e,bz)){bx=true;break}}return bx};U.intersectsWithAny$1=function(e,bw,bx){if(bw.y+bw.h<e.y||bw.y>e.y+e.h){return false}var by=e.x;var bz=e.x+e.w;for(var bA=0;bA<bx.length;bA++){var bB=bx[bA];var bC=bw.x+bB;var bD=bC+bw.w;if(!(bD<by||bC>bz)){return true}}return false};U.completelyContains=function(e,bw){return U.inRect(e,{x:bw.x,y:bw.y})&&U.inRect(e,{x:bw.x+bw.w-1,y:bw.y+bw.h-1})};U.completelyContains$1=function(e,bw,bx,by,bz){return U.inRect$1(e,bw,bx)&&U.inRect$1(e,bw+by-1,bx+bz-1)};U.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};U.offsetRect=function(e,bw){return{x:e.x+bw.x,y:e.y+bw.y,w:e.w,h:e.h}};U.offsetRectXY=function(e,bw,bx){return{x:e.x+bw,y:e.y+bx,w:e.w,h:e.h}};U.offsetRectXYInPlace=function(e,bw,bx){e.x+=bw;e.y+=bx};U.offsetRectF=function(e,bw){return{x:e.x+Math.round(bw.x),y:e.y+Math.round(bw.y),w:e.w,h:e.h}};U.outsetRect=function(e,bw,bx){return{x:e.x-bw,y:e.y-bx,w:e.w+bw+bw,h:e.h+bx+bx}};U.outsetRectInPlace=function(e,bw,bx){e.x-=bw;e.y-=bx;e.w+=2*bw;e.h+=2*bw};U.outsetRectSizeF=function(e,bw){return U.outsetRect(e,Math.ceil(bw.w),Math.ceil(bw.h))};U.encompassCircleInPlace=function(e,bw,bx,by){var bz=by*2;var bA=Math.floor(bw-by+0.5);var bB=Math.floor(bx-by+0.5);var bC=Math.floor(bz+0.5);U.unionInPlace$1(e,bA,bB,bC,bC)};U.union=function(e,bw){if(U.isEmpty(e)){return U.clone(bw)}if(U.isEmpty(bw)){return U.clone(e)}var bx=Math.min(e.x,bw.x);var by=Math.min(e.y,bw.y);var bz=Math.max(e.x+e.w,bw.x+bw.w);var bA=Math.max(e.y+e.h,bw.y+bw.h);return{x:bx,y:by,w:bz-bx,h:bA-by}};U.unionInPlace$1=function(e,bw,bx,by,bz){if(U.isEmpty(e)){U.set$1(e,bw,bx,by,bz);return}if(by===0||bz===0){return}var bA=Math.min(e.x,bw);var bB=Math.min(e.y,bx);var bC=Math.max(e.x+e.w,bw+by);var bD=Math.max(e.y+e.h,bx+bz);U.set$1(e,bA,bB,bC-bA,bD-bB)};U.unionInPlace=function(e,bw){U.unionInPlace$1(e,bw.x,bw.y,bw.w,bw.h)};U.unionAll=function(e){var bw=e.length;if(bw===0){return{x:0,y:0,w:0,h:0}}var bx=e[0];var by=bx.x;var bz=bx.y;var bA=bx.x+bx.w;var bB=bx.y+bx.h;for(var bC=1;bC<bw;bC++){bx=e[bC];by=Math.min(by,bx.x);bz=Math.min(bz,bx.y);bA=Math.max(bA,bx.x+bx.w);bB=Math.max(bB,bx.y+bx.h)}return{x:by,y:bz,w:bA-by,h:bB-bz}};U.rectXYFromCorners=function(e,bw){var bx=Math.round(Math.min(e.x,bw.x));var by=Math.round(Math.min(e.y,bw.y));var bz=Math.abs(Math.round(e.x-bw.x));var bA=Math.abs(Math.round(e.y-bw.y));return{x:bx,y:by,w:bz,h:bA}};U.rectXYFromCorners$1=function(e,bw,bx,by){var bz=Math.round(Math.min(e,bx));var bA=Math.round(Math.min(bw,by));var bB=Math.abs(Math.round(e-bx));var bC=Math.abs(Math.round(bw-by));return{x:bz,y:bA,w:bB,h:bC}};U.rectXYFromBBoxRectF=function(e){return U.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};U.rectXYFromMinAndMax=function(e,bw,bx,by){var bz=Math.floor(e);var bA=Math.floor(bw);var bB=Math.ceil(bx);var bC=Math.ceil(by);return{x:bz,y:bA,w:bB-bz,h:bC-bA}};U.dialate=function(e,bw){var bx=e.x-bw;var by=e.y-bw;var bz=e.w+2*bw;var bA=e.h+2*bw;return{x:bx,y:by,w:bz,h:bA}};U.intersect=function(e,bw){if(!U.intersectsWith(e,bw)||U.isEmpty(bw)||U.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bx=Math.max(e.x,bw.x);var by=Math.max(e.y,bw.y);var bz=Math.min(e.x+e.w,bw.x+bw.w);var bA=Math.min(e.y+e.h,bw.y+bw.h);return{x:bx,y:by,w:bz-bx,h:bA-by}};U.intersectInPlace=function(e,bw){if(!U.intersectsWith(e,bw)||U.isEmpty(e)||U.isEmpty(bw)){U.set$1(e,0,0,0,0);return}var bx=Math.max(e.x,bw.x);var by=Math.max(e.y,bw.y);var bz=Math.min(e.x+e.w,bw.x+bw.w);var bA=Math.min(e.y+e.h,bw.y+bw.h);U.set$1(e,bx,by,bz-bx,bA-by)};U.shiftCoordsTowardsCenter=function(e,bw,bx){if(ss.isNullOrUndefined(bw)){return e}var by={x:e.x,y:e.y};by=U.horizontalShiftCoordsTowardsCenter(by,bw,bx);return U.verticalShiftCoordsTowardsCenter(by,bw,bx)};U.horizontalShiftCoordsTowardsCenter=function(e,bw,bx){if(ss.isNullOrUndefined(bw)){return e}var by={x:e.x,y:e.y};if(by.x<=bw.x+bx){by.x+=bx}else if(by.x>=bw.x+bw.w-2*bx){by.x-=bx}return by};U.verticalShiftCoordsTowardsCenter=function(e,bw,bx){if(ss.isNullOrUndefined(bw)){return e}var by={x:e.x,y:e.y};if(by.y<=bw.y+bx){by.y+=bx}else if(by.y>=bw.y+bw.h-2*bx){by.y-=bx}return by};U.clampCoords=function(e,bw){var bx=Math.min(Math.max(bw.x,e.x),bw.x+bw.w);var by=Math.min(Math.max(bw.y,e.y),bw.y+bw.h);return{x:bx,y:by}};U.getChangedRects=function(e,bw){var bx=[];if(!ss.isValue(e)||!ss.isValue(bw)||!U.intersectsWith(e,bw)){return bx}var by=e.x+e.w;var bz=e.y+e.h;var bA=bw.x+bw.w;var bB=bw.y+bw.h;var bC=Math.min(e.x,bw.x);var bD=Math.max(e.x,bw.x);var bE=Math.min(by,bA);var bF=Math.max(by,bA);var bG=Math.min(e.y,bw.y);var bH=Math.max(e.y,bw.y);var bI=Math.min(bz,bB);var bJ=Math.max(bz,bB);var bK={x:bC,y:bG,w:bF-bC,h:bH-bG};var bL={x:bC,y:bH,w:bD-bC,h:bI-bH};var bM={x:bE,y:bH,w:bF-bE,h:bI-bH};var bN={x:bC,y:bI,w:bF-bC,h:bJ-bI};if(!U.isEmpty(bK)){bx.push(bK)}if(!U.isEmpty(bL)){bx.push(bL)}if(!U.isEmpty(bM)){bx.push(bM)}if(!U.isEmpty(bN)){bx.push(bN)}return bx};U.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bw=e.length;if(bw===1){return e}var bx=new Array(bw);for(var by=0;by<bw;by++){var bz=bx[by]||e[by];bx[by]=bz;if(U.isEmpty(bz)){continue}for(var bA=by+1;bA<bw;bA++){var bB=bx[bA]||e[bA];if(U.isEmpty(bB)){continue}var bC=U.intersect(bz,bB);if(U.isEmpty(bC)){continue}var bD=U.$0(bz,bC);if(ss.referenceEquals(bD,bz)){bB=U.$0(bB,bC)}bx[by]=bD;bx[bA]=bB}}for(var bE=bx.length-1;bE>=0;bE--){if(U.isEmpty(bx[bE])){bx.splice(bE,1)}}return bx};U.$0=function(e,bw){if(bw.x===e.x&&bw.w===e.w){if(bw.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bw.h}}else{return{x:e.x,y:e.y+bw.h,w:e.w,h:e.h-bw.h}}}else if(bw.y===e.y&&bw.h===e.h){if(bw.x>e.x){return{x:e.x,y:e.y,w:e.w-bw.w,h:e.h}}else{return{x:e.x+bw.w,y:e.y,w:e.w-bw.w,h:e.h}}}return e};global.tab.RectXYUtil=U;var V=function(){};V.__typeName='tab.RleDecoder';V.decode=function(e){if(ss.isNullOrUndefined(e)){return e}return V.$2(e)};V.$2=function(e){if(typeof(e)!=='object'||!ss.isValue(e)){return e}if($.isArray(e)){var bw=e;for(var bx=0,by=bw.length;bx<by;bx++){var bz=bw[bx];if(typeof(bz)!=='object'){break}bw[bx]=V.$2(bz)}return V.$1(bw)}else{var bA=e;var bB=Object.keys(bA);for(var bC=0,bD=bB.length;bC<bD;bC++){var bE=bB[bC];if(typeof(bA[bE])!=='object'){continue}if(bA.hasOwnProperty(bE)){bA[bE]=V.$2(bA[bE])}}}return e};V.$0=function(e){if(e.length===0){return false}var bw=e[e.length-1];if(!$.isArray(bw)){return false}return bw.length===0};V.$4=function(e){var bw=e.length;return bw===2||bw===3};V.$3=function(e,bw){var bx=bw[0];var by=bw[1];var bz=((bw.length===3)?bw[2]:0);for(var bA=0,bB=bx;bA<by;bA++,bB+=bz){e.push(bB)}};V.$1=function(e){if(!V.$0(e)){return e}e.pop();var bw=null;var bx=0;var by=e.length;for(var bz=0;bz<by;bz++){var bA=e[bz];var bB=typeof(bA);if(bB==='number'){continue}if(ss.isNullOrUndefined(bA)){continue}if(bB!=='object'||!$.isArray(bA)){return e}var bC=bA;if(!V.$4(bC)){return e}bw=bw||[];for(var bD=bx;bD<bz;bD++){bw.push(e[bD])}V.$3(bw,bC);bx=bz+1}if(ss.isValue(bw)){for(var bE=bx;bE<by;bE++){bw.push(e[bE])}e=bw}return e};global.tab.RleDecoder=V;var W=function(){};W.__typeName='tab.SetUtilities';W.interserctWith=function(e){return function(bw,bx){var by=new Set;for(var bz=0;bz<bx.length;bz++){var bA=bx[bz];if(bw.has(bA)){by.add(bA)}}bw.forEach(function(bB){if(!by.has(bB)&&_.contains(bx,bB)){by.add(bB)}});return by}};W.getValues=function(e){return function(bw){var bx=[];bw.forEach(function(by){bx.push(by)});return bx}};W.addAll=function(e){return function(bw,bx){for(var by=0;by<bx.length;by++){var bz=bx[by];bw.add(bz)}}};W.symmetricDifferenceWith=function(e){return function(bw,bx){var by=new Set;bw.forEach(function(bz){if(!bx.has(bz)){by.add(bz)}});bx.forEach(function(bz){if(!bw.has(bz)){by.add(bz)}});return by}};global.tab.SetUtilities=W;var X=function(){};X.__typeName='tab.SizeUtil';X.isEmpty=function(e){return e.w===0&&e.h===0};X.union=function(e,bw){return{w:Math.max(e.w,bw.w),h:Math.max(e.h,bw.h)}};X.unionPresModels=function(e,bw){var bx={};bx.rec=Math.max(e.rec,bw.rec);bx.EUR=Math.max(e.EUR,bw.EUR);return bx};X.add=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bw)){return e}return{w:e.w+bw.w,h:e.h+bw.h}};X.subtract=function(e,bw){return{w:e.w-bw.w,h:e.h-bw.h}};X.equals=function(e,bw){return ss.isValue(e)&&ss.isValue(bw)&&bw.w===e.w&&bw.h===e.h};global.tab.SizeUtil=X;var Y=function(e,bw){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName='?';this.context=null;this.url=e;this.lineNo=bw};Y.__typeName='tab.StackLocation';global.tab.StackLocation=Y;var Z=function(e,bw){this.userAgent=window.navigator.userAgent;this.traceMode='onError';this.message=null;this.url=null;this.locations=null;this.isIncomplete=false;this.isPartial=false;this.name=null;this.traceMode=e;this.message=bw;this.url=document.URL;this.locations=[]};Z.__typeName='tab.StackTrace';global.tab.StackTrace=Z;var ba=function(){g.call(this)};ba.__typeName='tab.StackTraceAppender';ba.enableLogging=function(e){if(ss.isNullOrUndefined(ba.$0)){ba.$0=new ba;I.addAppender(ba.$0)}ba.$0.addFilter(e||function(){return true})};ba.disableLogging=function(){if(ss.isValue(ba.$0)){I.removeAppender(ba.$0);ba.$0=null}};global.tab.StackTraceAppender=ba;var bb=function(e,bw){this.$0=null;this.$1=null;this.$0=e;this.$1=bw};bb.__typeName='tab.StringTuple';global.tab.StringTuple=bb;var bc=function(){};bc.__typeName='tab.StyleUtil';bc.appendCSSRule=function(e,bw){bc.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bw)};bc.appendCSSRuleToStyleSheet=function(e,bw,bx){var by='';var bz=_.keys(bx);for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];var bC=bx[bB];if(!ss.isNullOrEmptyString(bC)){by+=bB+':'+bC+';\n'}}var bD=bw+' {\n'+by+'}\n';var bE=e.cssRules.length;e.insertRule(bD,bE)};bc.appendCSSRuleToStyleSheet$1=function(e,bw,bx){if(!ss.keyExists(bc.$3,e)){bc.$0(e)}var by=bc.$3[e]||bc.$1(e);bc.appendCSSRuleToStyleSheet(by,bw,bx)};bc.clearDefaultStyleSheet=function(){bc.clearStyleSheet('tab-appendedCustomStyle')};bc.clearStyleSheet=function(e){var bw=bc.$3[e];if(ss.isNullOrUndefined(bw)){return}var bx=bw.ownerNode;if(ss.isValue(bx)&&ss.isValue(bx.parentNode)){bx.parentNode.removeChild(bx);delete bc.$3[e]}};bc.isValidCssClassName=function(e){var bw=e.match(bc.$2);return ss.isValue(bw)};bc.$0=function(e){var bw=document.createElement('style');bw.setAttribute('type','text/css');bw.id=e;bw.appendChild(document.createTextNode(''));document.head.appendChild(bw);bc.$3[e]=bc.$1(e);return bw};bc.$1=function(e){for(var bw=0;bw<document.styleSheets.length;bw++){var bx=document.styleSheets[bw];var by=bx.ownerNode;if(ss.isValue(by)&&ss.referenceEquals(by.id,e)){return bx}}return null};global.tab.StyleUtil=bc;var bd=function(e,bw,bx,by){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bw};this.$1=bx;this.$0=1/bx;this.$2=by};bd.__typeName='tab.Transform';bd.offset=function(e,bw){return((e===0&&bw===0)?bd.$0:new bd(e,bw,1,3))};bd.pixelToDomain=function(e,bw,bx){if(t.isApproximatelyZero(e)&&t.isApproximatelyZero(bw)&&t.isApproximatelyEqual(1,bx)){return bd.$0}return new bd(e,bw,bx,1)};bd.domainToPixel=function(e,bw,bx){if(t.isApproximatelyZero(e)&&t.isApproximatelyZero(bw)&&t.isApproximatelyEqual(1,bx)){return bd.$0}return new bd(e,bw,bx,2)};global.tab.Transform=bd;var be=function(){this.$0=null;this.reset()};be.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=be;var bf=function(){};bf.__typeName='tab.TransformationType';global.tab.TransformationType=bf;var bg=function(){this.$2=null;g.call(this)};bg.__typeName='tab.WindowAppender';bg.enableLogging=function(e){if(ss.isNullOrUndefined(bg.$0)){bg.$0=new bg;I.addAppender(bg.$0)}bg.$0.addFilter(e||function(){return true})};bg.disableLogging=function(){if(ss.isNullOrUndefined(bg.$0)){return}I.removeAppender(bg.$0);bg.$0=null};global.tab.WindowAppender=bg;var bh=function(){};bh.__typeName='tableau.format';bh.$y=function(){return I.lazyGetLogger(bh)};bh.get_isO8601DateFormat=function(){return bh.$R};bh.get_isO8601DateTimeFormat=function(){return bh.$S};bh.get_isO8601TimeFormat=function(){return bh.$T};bh.get_defaultLocaleStrings=function(){return bh.$P};bh.get_baseTimestamp=function(){return bh.$L};bh.formatDataValue=function(e,bw,bx,by,bz){var bA=e.s;if(ss.isNullOrUndefined(bA)||ss.isNullOrUndefined(bA)){var bB=(('t'in e)?e.t:'');var bC=e.v;switch(bB){case's':{return bC}case'b':{return bC.toString()}case'i':{if(typeof(bC)!=='number'){bC=parseInt(bC,10)}return((bw==='d')?bh.$i(bC).toString():bh.$d(bC,bx))}case'r':{if(typeof(bC)!=='number'){bC=parseFloat(bC)}return bh.$j(bC,bB,bx,by,bw)}case't':{return(_.isDate(bC)?bh.formatJsDateTime(bC,bx,bz,bB):bh.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bx,bz,bB))}case'd':{return(_.isDate(bC)?bh.formatJsDateTime(bC,bx,0,bB):bh.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bx,0,bB))}}throw new ss.Exception('Invalid Tableau Format Type')}if(bA==='n'){return'null'}if(bA==='m'){return tab.Strings.SpecialMissing}return'#special:'+bA+'#'};bh.parseQuantitativeDataValue=function(e,bw,bx,by,bz){switch(bw){case'i':{return parseInt(bh.reformatNumberToJsFormat(e,bx),10)}case'r':{return parseFloat(bh.reformatNumberToJsFormat(e,bx))}case'd':case't':{var bA=bh.formatToJSCompliantFormat(e,bx,by,bz);return bi.OleDateFromJsDate((new Date(Date.parse(bA+' GMT'))).getTime())}}return(ss.isValue(bz)?parseFloat(bz.v):0)};bh.reformatNumberToJsFormat=function(e,bw){var bx=bw[8].replace(bh.$Y,'\\$1');if(bx.indexOf('')!==-1){bx+=' '}var by=bw[7].replace(bh.$Y,'\\$1');return e.replace(new RegExp('['+bx+']','g'),'').replace(new RegExp('['+by+']','g'),'.')};bh.formatToJSCompliantFormat=function(e,bw,bx,by){var bz=bh.normalizeDateTimeFormat(bw,bx,by.t);var bA=bh.tokenizeDateTime(e,bz,bx);if(ss.isValue(bA)){return bh.$3(bA,by)}else{return''}};bh.normalizeDateTimeFormat=function(e,bw,bx){var by=e.format;var bz=e.timeFormat;if(by.charCodeAt(0)===42){by=by.substr(1)}if(bw!==0&&ss.isValue(bz)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&bx==='t'){if(bz.charCodeAt(0)===42){bz=bz.substr(1)}by=by+' '+bz}by=by.replace(new RegExp('ampm','g'),'tt');by=ss.replaceAllString(by,'H','h');by=by.replace(bh.$M,function(bA){return bA.replace(new RegExp('m','gi'),'m')});by=by.replace(bh.$N,function(bA){return bA.replace(new RegExp('m','gi'),'n')});return by};bh.tokenizeDateTime=function(e,bw,bx){var by=bw;by=by.replace(bh.$Y,'\\$1');by=by.replace(bh.$12,'($1)');by=by.replace(bh.$U,'($1)');var bz=bw.match(new RegExp(by));var bA=bw;bA=bA.replace(bh.$Y,'\\$1');if(bx===1){bA=bA.replace(bh.$O,'(?:$1 )?$2')}else{bA=bA.replace(bh.$O,'$1(?: $2)?')}bA=bA.replace(bh.$Z,'(?:$1)?');bA=bA.replace(bh.$U,'(\\d+)');bA=bA.replace(bh.$12,'([^0-9\\s]+)?');bA=bA.replace(bh.$10,function(bE){return bE.replace(new RegExp('\\s+','g'),'\\s+')});bA=bA.replace(bh.$V,'\\s*');var bB=e.match(new RegExp(bA));if(ss.isNullOrUndefined(bB)){return null}var bC={};for(var bD=1;bD<bB.length;++bD){if(ss.isValue(bB[bD])&&bB[bD].length>0){bC[bz[bD].substr(0,1).toLowerCase()]=bB[bD]}}return bC};bh.$3=function(e,bw){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bx=(bw.v?new Date(bi.JsDateFromOleDate(bw.v)):new Date(bi.javaScriptOLEEpoch()));e['y']=bx.getUTCFullYear().toString();e['m']=(bx.getUTCMonth()+1).toString();e['d']=bx.getUTCDate().toString()}var by=e['y'].replace(new RegExp('^(\\d{2})$'),function(bA){var bB=parseInt(bA,10);return((bB<30)?('20'+bA):('19'+bA))});var bz=e['m']+'/'+e['d']+'/'+by;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bz+=' '+e['h']+':'+e['n']+':';bz+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(bh.$K))){bz+=' am'}else if(ss.isValue(e['t'].match(bh.$W))){bz+=' pm'}}}return bz};bh.formatCustomJSDateTime=function(e,bw,bx,by,bz,bA,bB,bC,bD){var bE=0,bF=0,bG;if(ss.isNullOrUndefined(bD)){bD=new i}var bH=ss.isValue(bB);var bI=ss.isNullOrUndefined(bA)||bA.length===0||bA==='S';var bJ=by==='t';if(ss.isValue(bx)&&bx!==0&&bH&&bI&&bJ){if(bB.charCodeAt(0)===42){bB=bB.substr(1)}if(bx===2){bw=bw+' '+bB}else{bw=bB}}if(bw==='L'){bw='*dddd, mmmm dd, yyyy'}if(bw.charCodeAt(0)===42){bw=bw.substr(1)}bG=bw.length;var bK,bL;if(bD.fiscalYearStart>1){bK=bL=bh.dtGetFiscalYear(e,bD.fiscalYearStart)}else{bK=e.getUTCFullYear();bL=(bD.brokenWeeks?bK:bh.$a(e,bD.startOfWeek,bD.minDaysInFirstWeek))}var bM=bL.toString();var bN=bM.substr(bM.length-2);var bO=bK.toString();var bP=bO.substr(bO.length-2);var bQ=[];bQ.push(new bb('ampm',bh.$5(e)));bQ.push(new bb('tt',bh.$5(e)));bQ.push(new bb('yyyy',bO));bQ.push(new bb('yy',bP));bQ.push(new bb('mmmm',bh.$v(e,bC)));bQ.push(new bb('mmm',bh.$x(e,bC)));bQ.push(new bb('dddd',bh.$u(e,bC)));bQ.push(new bb('ddd',bh.$w(e,bC)));bQ.push(new bb('mm',bh.$p(e.getUTCMonth()+1,2)));bQ.push(new bb('m',(e.getUTCMonth()+1).toString()));bQ.push(new bb('dd',bh.$p(e.getUTCDate(),2)));bQ.push(new bb('d',e.getUTCDate().toString()));bQ.push(new bb('hh',bh.$p(bh.$8(e),2)));bQ.push(new bb('h',bh.$8(e).toString()));bQ.push(new bb('nn',bh.$p(e.getUTCMinutes(),2)));bQ.push(new bb('n',e.getUTCMinutes().toString()));bQ.push(new bb('ss',bh.$p(e.getUTCSeconds(),2)));bQ.push(new bb('s',e.getUTCSeconds().toString()));bQ.push(new bb('ww',bh.$9(e,bD).toString()));bQ.push(new bb('y',bh.$6(e).toString()));bQ.push(new bb('w',(e.getUTCDay()+1).toString()));bQ.push(new bb('q',bh.dtGetFiscalQuarter(e,bD.fiscalYearStart).toString()));var bR=[];var bS=null;var bT=false;var bU=false;var bV=-1;var bW=false;var bX=false;var bY=false;while(bE<bG){var bZ=false;var ca=false;for(var cb=0;cb<bQ.length;cb++){var cc=bQ[cb];var cd=cc.get_first();var ce=cc.get_second();if(ss.referenceEquals(cd,bw.substr(bE,cd.length).toLowerCase())){bZ=true;bR.push(ce);bE+=cd.length;if(ss.isValue(bS)&&cd==='mm'){bR[bR.length-1]=bh.$p(e.getUTCMinutes(),2)}if(ss.isValue(bS)&&cd==='m'){bR[bR.length-1]=e.getUTCMinutes().toString()}if(cd.charCodeAt(0)===100){bS=null}if(cd.charCodeAt(0)===104){bS=cd;bF=bR.length-1}if(ss.isValue(bS)&&(cd==='ampm'||cd==='tt')){bR[bF]=((bS==='hh')?bh.$p(bh.$7(e),2):bh.$7(e).toString())}switch(cd.charCodeAt(0)){case 121:{if(cd.length>1){ca=true;bV=bR.length-1;bW=cd.length===4;bY=true;if(bT){if(!bD.brokenWeeks){bR[bV]=(bW?bM:bN);bY=false}bT=false}}break}case 119:{if(cd.length!==2){break}var cf=bT;bT=true;if(!cf&&!bU&&bY){if(!bD.brokenWeeks){bR[bV]=(bW?bM:bN);bY=false}bT=false}bU=false;break}case 109:case 100:case 113:{if((cd==='mm'||cd==='m')&&ss.isValue(bS)){break}bT=false;bU=true;break}}break}}if(bZ){bX=ca;continue}if(bw.charCodeAt(bE)===92){bR.push(bw.substr(bE+1,1));bE+=2}else if(bw.charCodeAt(bE)===34){var cg=bw.charCodeAt(bE);var ch=++bE;while(bE<bG&&bw.charCodeAt(bE)!==cg){bE+=1}if(ch<bG&&bE>ch){bR.push(bw.substr(ch,bE-ch))}if(bE<bG){bE+=1}}else if(bw.charCodeAt(bE)===91){var ci=++bE;while(ci<bw.length&&bw.charCodeAt(ci)!==93){ci++}var cj=bw.substring(bE,ci);if((cj==='y'||cj==='Y')&&bX){bR[bV]=((cj==='y')?(bW?bO:bP):(bW?bM:bN));bY=false}bE=ci+1}else{bR.push(String.fromCharCode(bw.charCodeAt(bE)));bE+=1}bX=ca}bw=bR.join('');return bw};bh.mapIcuToOleFormat=function(e){return bh.$n(bh.$Q,e)};bh.$n=function(e,bw){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bw)){return bw}var bx=new ss.StringBuilder;var by=0;var bz=0;var bA=null;while(++bz<=bw.length){var bB=e[bw.substring(by,bz)];if(ss.isValue(bB)){bA=bB}else{if(ss.isValue(bA)){bx.append(bA);--bz}else{bx.append(bw.substring(by,by+1))}by=bz;bA=null}}if(ss.isValue(bA)){bx.append(bA)}return bx.toString()};bh.escapeHTML=function(e){return tab.EscapingUtil.escapeHtml(e)};bh.formatColumnDisplayName=function(e,bw,bx){var by=e.caption;var bz;if(!(typeof(by)==='undefined')){bz=by}else{var bA=e.name;bz=(bw?ss.arrayExtract(bA,1).join('.'):bh.formatQualifiedName(bA))}return(bx?bz:tab.EscapingUtil.escapeHtml(bz))};bh.formatTupleDisplayName=function(e,bw,bx){if(ss.isNullOrUndefined(e)){return' '}var by=e.d;var bz=(ss.isValue(by)?by:bh.formatTupleUniqueName(e,bx));var bA=(bw?bz:bh.escapeHTML(bz));return ss.coalesce(bA,' ')};bh.formatTupleUniqueName=function(e,bw){var bx='';if(ss.isValue(e)){var by=e.t;if(ss.isValue(by)){for(var bz=0;bz<by.length;bz++){var bA=by[bz];if(bx.length!==0){bx+=','}bx+=bh.formatDataValue(bA,bw)}}}return bx};bh.formatTupleDisplayFacet=function(e,bw,bx){var by=bh.formatTupleFacet(e,bx);return(bw?by:bh.escapeHTML(by))};bh.formatTupleFacet=function(e,bw){var bx='';if(ss.isValue(e)){var by=e.f;if(ss.isValue(by)){for(var bz=0;bz<by.length;bz++){var bA=by[bz];if(bx.length!==0){bx+=','}bx+=bh.formatDataValue(bA,bw)}}}return bx};bh.formatQualifiedName=function(e){var bw='';for(var bx=0;bx<e.length;bx++){var by=e[bx];if(bw.length!==0){bw+='.'}bw+='['+by.replace(new RegExp('\\]','g'),']]')+']'}return bw};bh.formatIntAuto=function(e,bw,bx,by){var bz=bh.$1(e,bw,bx,by);return((bh.$t(e)>=0)?bz:('-'+bz))};bh.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!bh.$m(new Date(bi.JsDateFromOleDate(parseFloat(e.v))))};bh.applyDecimalPlaces=function(e,bw,bx){if(bw>=0){var by=e-bh.$t(e);var bz=bh.$r(by,bw);var bA=parseInt(bz,10);if(Math.abs(bA)===1){return bA}if(bw===0){return''}bz=bz.replace(new RegExp('^-?0\\.'),bx);return bz}return''};bh.formatString=function(e,bw){var bx=bw.tbM02;var by=bw.blJ;var bz=bw.YIQ02;var bA=by;var bB='';var bC=e.toString();switch(bx){case'cstring':{bB='s';break}case'date':{bB='d';bC=o.parsePresModelDate(e);bA=bh._convertFormatStringsToFormattingInfo(by);break}case'datetime':{bB='t';bC=o.parsePresModelDate(e);bA=bh._convertFormatStringsToFormattingInfo(by);break}case'integer':{bB='i';bC=parseInt(e);break}case'real':{bB='r';bC=parseFloat(e);break}case'tuple':{bB='s';bC=bh.$l(e);break}case'unknown':default:{bB=null;break}}var bD={t:bB,v:bC};var bE;switch(bz){case'dimension':{bE='d';break}case'measure':{bE='m';break}case'unknown':default:{bE=null;break}}return bh.formatDataValue(bD,bE,bA,null,0)};bh.formatSpecial=function(e,bw){if(ss.isValue(bw)){return bw}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};bh.isSpecialValue=function(e){return bh.$11[e]===true};bh.stripFormattedText=function(e){if(ss.isNullOrUndefined(e)){return null}return $(e).find('run').text()};bh.deriveNumberEditingFormat=function(e){if(ss.isNullOrUndefined(e)){return null}return['','-1',e[2],'','','','',e[7],e[8],e[9]]};bh.$p=function(e,bw){var bx=e.toString();while(bx.length<bw){bx='0'+bx}return bx};bh.$m=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};bh.$5=function(e){return((e.getUTCHours()<12)?'AM':'PM')};bh.$7=function(e){var bw=e.getUTCHours();if(bw<12){if(bw===0){bw=12}}else if(bw>12){bw-=12}return bw};bh.$8=function(e){return e.getUTCHours()};bh.$6=function(e){var bw=new Date(e.getUTCFullYear(),0,1,12);var bx=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bx-bw)/86400000)+1};bh.$4=function(e,bw){return e.getUTCFullYear()+((e.getUTCMonth()+1<bw)?-1:0)};bh.$a=function(e,bw,bx){var by=(e.getUTCDay()+7-(bw-1))%7;var bz=-by+(7-bx);var bA=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bz));return bA.getUTCFullYear()};bh.$9=function(e,bw){var bx;if(bw.fiscalYearStart<=1){var by=(bw.brokenWeeks?e.getUTCFullYear():bh.$a(e,bw.startOfWeek,bw.minDaysInFirstWeek));bx=new Date(Date.UTC(by,0,1))}else{bx=new Date(Date.UTC(bh.$4(e,bw.fiscalYearStart),bw.fiscalYearStart-1,1))}var bz=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bA=(bx.getUTCDay()+7-(bw.startOfWeek-1))%7;var bB=ss.Int32.div(bz-bx,86400000)+bA;if(bw.fiscalYearStart<=1&&7-bA<bw.minDaysInFirstWeek){bB-=7}return Math.floor(bB/7)+1};bh.dtGetFiscalYear=function(e,bw){var bx=e.getUTCFullYear();var by=e.getUTCMonth()+1;return((by<bw||bw===1)?0:1)+bx};bh.dtGetFiscalQuarter=function(e,bw){if(bw<1){bw=1}return Math.floor((e.getUTCMonth()+1-bw+12)%12/3)+1};bh.$u=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.day[e.getUTCDay()+1]};bh.$w=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.shortDay[e.getUTCDay()+1]};bh.$v=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.month[e.getUTCMonth()]};bh.$x=function(e,bw){if(ss.isNullOrUndefined(bw)){return null}return bw.shortMonth[e.getUTCMonth()]};bh.formatJsDateTime=function(e,bw,bx,by){if(ss.isNullOrUndefined(bw)){if(bx===2&&bh.$m(e)){bx=0}return bh.formatCustomJSDateTime(e,'*M/d/yyyy',bx,by,'en_US','','h:nn:ss tt',null)}return bh.formatCustomJSDateTime(e,bw.format,bx,by,bw.locale,bw.originalFormat,bw.timeFormat,bw.locale_formatting_strings,bw.calOpts)};bh.$g=function(e,bw,bx,by){var bz=new Date(bi.JsDateFromOleDate(e));return bh.formatJsDateTime(bz,bw,bx,by)};bh.$t=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};bh.$1=function(e,bw,bx,by){var bz=Math.abs(bh.$t(e));var bA='';var bB=parseInt(String.fromCharCode(by.charCodeAt(0)),10)||3;var bC;if(bz<1E+15){bC=bh.$r(bz,0)}else{bC=bh.$q(bz,14);var bD=bC.match(bh.$X);if(ss.isValue(bD)){var bE=ss.coalesce(bD[2],'');var bF=parseInt(bD[3],10)-bE.length;var bG='';for(var bH=0;bH<bF;bH++){bG+='0'}bC=bD[1]+bE+bG}}if(bw!=='t'){return bC}for(var bI=bC.length-1,bJ=0;bI>=0;bI--,bJ++){if(bJ>=bB){bA=bx+bA;bJ=0}bA=String.fromCharCode(bC.charCodeAt(bI))+bA}return bA};bh.$2=function(e,bw){switch(bw){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};bh.$0=function(e,bw,bx,by,bz){bw=bw.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bw)){return bx+bw+by}switch(parseInt(bz,10)){case 2:{return'-'+bx+bw+by}case 3:{return bx+bw+by+'-'}case 4:{return bx+'-'+bw+by}case 5:{return bx+bw+'-'+by}default:{return'('+bx+bw+by+')'}}};bh.$i=function(e){return bh.$t(e)};bh.$e=function(e,bw,bx,by,bz,bA,bB){if(bw==='i'){return bh.$b(e,bw,bx,by,bz,bA,bB,null,null)}else{return bh.$b(e,bw,bx,by,bz,bA,bB,0.0001,1E+15)}};bh.$f=function(e,bw,bx,by,bz,bA){if(bw==='i'){return bh.$b(e,bw,null,bx,by,bz,bA,null,1000000)}else{return bh.$b(e,bw,null,bx,by,bz,bA,0.0001,1E+15)}};bh.$b=function(e,bw,bx,by,bz,bA,bB,bC,bD){var bE;var bF;var bG;if(ss.isValue(bx)&&ss.unbox(bx)<=0){bE=-ss.unbox(bx);bG=bF=false}else{bE=bh.$o(e,bw,true);bG=bF=true}var bH=Math.abs(e);if(bG&&bH!==0&&(ss.isValue(bD)&&ss.Nullable$1.ge(bH,bD)||ss.isValue(bC)&&ss.Nullable$1.lt(bH,bC))){var bI=bh.$o(1,bw,true);var bJ=bh.$c(e,bI,by);if(bF){return bJ.replace(new RegExp('['+by+']?0+e'),'e')}}var bK=e-bh.$t(e);var bL=bh.formatIntAuto(e,bz,bA,bB);var bM='';bM=bh.$r(bK,bE);if(Math.abs(parseFloat(bM))>=1){bL=bh.formatIntAuto(bh.$t(e+parseFloat(bM)),bz,bA,bB);bM=bM.replace(new RegExp('1'),'0')}if(!(bM.indexOf('.')!==-1)){return bL}if(bF){bM=bM.replace(new RegExp('0+$'),'');if(ss.endsWithString(bM,'.')){return bL}}bM=bM.replace(new RegExp('^-?0\\.'),by);if(e<0&&bL==='0'&&!(new RegExp('^\\.0+$')).test(bM)){bL='-0'}return bL+bM};bh.$o=function(e,bw,bx){var by=((bw==='i')?6:15);var bz=Math.max(0,by-Math.abs(bh.$t(e)).toString().length);if(bx){return Math.min(bz,9)}else{return bz}};bh.$c=function(e,bw,bx){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bw<0||isNaN(bw)){bw=0}if(bw>15){bw=15}var by=bh.$q(e,bw);var bz=by.indexOf(String.fromCharCode(101));var bA=by.substr(bz);if(bA.length<4){by=by.substr(0,bz+2)+'0'+by.substr(bz+2)}by=by.replace(new RegExp('\\.'),bx);return by};bh.$q=function(e,bw){return bh.$s(e,bw,15,function(bx,by){return bx.toExponential(by)})};bh.$r=function(e,bw){return bh.$s(e,bw,bh.$o(e,'r',false),function(bx,by){return bx.toFixed(by)})};bh.$s=function(e,bw,bx,by){bx=Math.max(bx-1,bw);var bz=by(e,bx);var bA=bz.indexOf(String.fromCharCode(101));if(bA===-1){bA=bz.length}var bB=bA-(bx-bw);var bC=bz.charCodeAt(bB);if(bz.charCodeAt(bB-1)===46){bB--}bz=bz.substr(0,bB)+bz.substr(bA,bz.length);if(bC>=53&&bC<=57){var bD;do{bB--;bD=bz.charCodeAt(bB);if(bD===46||bD===45){bD=48;continue}bD++;if(bD>57){bD=48}bz=bz.substr(0,bB)+String.fromCharCode(bD)+bz.substr(bB+1,bz.length)}while(bD===48&&bB>0);if(bD===48&&bB===0){bz=by(e,bw)}}return bz};bh.$h=function(e,bw,bx,by){if(bx===-1){return bh.$b(e*100,bw,null,by[7],by[2],by[8],by[9],null,null)+'%'}else{return bh.$k(e*100,bx,by)+'%'}};bh.$j=function(e,bw,bx,by,bz){if(ss.isNullOrUndefined(bx)||bx.length!==10){return bh.$e(e,bw,by,'.',((bz==='d')?null:'t'),',','3;0')}var bA=parseInt(bx[1],10);switch(bx[0]){case'':{if(bA===-1){return bh.$e(e,bw,null,bx[7],bx[2],bx[8],bx[9])}else{return bh.$e(e,bw,-bA,bx[7],bx[2],bx[8],bx[9])}}case'N':{return bh.$f(e,bw,bx[7],bx[2],bx[8],bx[9])}case'e':{return bh.$c(e,bA,bx[7])}case'p':{return bh.$h(e,bw,bA,bx)}default:{return bh.$k(e,bA,bx)}}};bh.$k=function(e,bw,bx){e=bh.$2(e,bx[5]);var by=bx[5]+bx[4];var bz=bh.applyDecimalPlaces(e,bw,bx[7]);if(typeof(bz)==='number'){e+=bz;bz=bh.applyDecimalPlaces(0,bw,bx[7])}var bA=bh.$1(e,bx[2],bx[8],bx[9])+bz;return bh.$0(e,bA,bx[3],by,bx[6])};bh.$d=function(e,bw){return bh.$j(bh.$t(e),'i',bw,null,null)};bh._convertFormatStringsToFormattingInfo=function(e){var bw={};bw.format=e[0];bw.locale=e[1];bw.originalFormat=e[2];bw.timeFormat=e[3];bw.calOpts=new i;bw.calOpts.fiscalYearStart=parseInt(e[4]);if(isNaN(bw.calOpts.fiscalYearStart)){bw.calOpts.fiscalYearStart=0}bw.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bw.calOpts.startOfWeek)){bw.calOpts.startOfWeek=1}bw.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bw.calOpts.minDaysInFirstWeek)){bw.calOpts.minDaysInFirstWeek=1}bw.calOpts.brokenWeeks=e[7]==='1';return bw};bh.$l=function(e){var bw=44;var bx=40;var by=41;var bz=39;var bA=92;var bB=[];e=e.trim();if(e.length===0){return''}var bC=e.length;var bD=0;if(bD>=bC||e.charCodeAt(bD)!==40){return''}++bD;while(bD<bC){var bE=bD;var bF=false;var bG=0;while(bE<bC&&!bF){var bH=e.charCodeAt(bE);if(bG===0&&(bH===44||bH===41)){bF=true;break}else if(bH===92){bE+=2}else{if(bH===39){bG=1-bG}++bE}}if(!bF){return''}var bI=e.substring(bD+1,bE-1);bI=ss.replaceAllString(bI,'\\\\','\\');bI=ss.replaceAllString(bI,'\\"','"');bI=ss.replaceAllString(bI,'\\,',',');bI=ss.replaceAllString(bI,'\\(','(');bI=ss.replaceAllString(bI,'\\)',')');bB.push(bI);bD=bE;++bD}return bB.join(', ')};global.tableau.format=bh;var bi=function(){};bi.__typeName='tableau.types';bi.$0=function(){return M.lazyInitStaticField(bi,'millisecondsPerDay',function(){return 86400000})};bi.javaScriptOLEEpoch=function(){return M.lazyInitStaticField(bi,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bi.JsDateFromOleDate=function(e){var bw=((e<0)?Math.ceil(e):Math.floor(e));var bx=Math.round(Math.abs(e-bw)*bi.$0())+bw*bi.$0();return bx+bi.javaScriptOLEEpoch()};bi.OleDateFromJsDate=function(e){var bw=new Date(e);var bx=Date.UTC(bw.getUTCFullYear(),bw.getUTCMonth(),bw.getUTCDate());var by=ss.Int32.div(bx-bi.javaScriptOLEEpoch(),bi.$0());var bz=(e-bx)/bi.$0();return by+((by<0)?-1:1)*bz};bi.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bi.isMetadata=function(e){return e.column_class===0};bi.isOm=function(e){return bi.isO(e)&&bi.isMetadata(e)};bi.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bi;var bj=function(){};bj.__typeName='tableau.util';bj.assetUrl=function(e,bw){var bx=(bw?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);if(e.charCodeAt(0)===47){var by=bx.length-1;if(bx.charCodeAt(by)===47){return bx.substring(0,by-1)+e}else{return bx+e}}else{return bx+'/'+e}};bj.isPrintableNonNumericKeyPressed=function(e){return bj.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bj.isPrintableNonNumericInput=function(e,bw,bx){var by=e>=91&&e<=105;var bz=e>=112&&e<=123;var bA=e<47;var bB=!bw&&!bx&&(e>=48&&e<=57);return!by&&!bA&&!bB&&!bz};bj.preventNonNumericInput=function(e){if(bj.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bj.inputWouldOverflowMaxLength=function(e,bw,bx){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bw)){bw=''}if(e.length===1){var by=e.charCodeAt(0);if(by<=8||by===127||by>=14&&by<=31||by===11||by===12){return false}}return e.length+bw.length>bx};bj.maxLengthEnforcingBeforeInputHandler=function(e){return function(bw){if(bj.inputWouldOverflowMaxLength(bw.data,bw.target.value,e)){bw.preventDefault();bw.stopPropagation()}}};bj.isElementVisible=function(e){return $(e).css('display')!=='none'};bj.findElementByTagName=function(e,bw,bx){e=e||r.get_documentBody();if(bj.isNodeMatch(e,bw,bx)){return e}var by=e.getElementsByTagName(bw);var bz=by.length;for(var bA=0;bA<bz;bA+=1){if(bj.isNodeMatch(by[bA],bw,bx)){return by[bA]}}return null};bj.findDirectParentByClassName=function(e,bw,bx){if(ss.isNullOrUndefined(e)||M.isNullOrEmpty$1(bw)){return null}bx=bx||document.body;var by=e.parentNode;while(!ss.isNullOrUndefined(by)&&!ss.referenceEquals(by,bx)){if(!M.isNullOrEmpty$1(by.className)){if(ss.referenceEquals(by.className.toLowerCase(),bw.toLowerCase())){return by}by=by.parentNode}}return null};bj.isNodeMatch=function(e,bw,bx){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bw.toLowerCase())){return false}if(ss.isNullOrUndefined(bx)){return true}var by=ss.getEnumerator(Object.keys(bx));try{while(by.moveNext()){var bz=by.current();if(bz in bx&&!ss.referenceEquals(e[bz],bx[bz])){return false}}}finally{by.dispose()}return true};bj.binarySearch=function(e){return function(bw,bx,by,bz,bA){var bB=(M.isValidIndex(ss.coalesce(by,-1),bx)?ss.unbox(by):0);var bC=(M.isValidIndex(ss.coalesce(bz,-1),bx)?ss.unbox(bz):(bx.length-1));if(ss.isNullOrUndefined(bA)){bA=bj.$0(e)}var bD={};while(bB<=bC){var bE=Math.floor(bB+(bC-bB)/2);var bF=bA(bx[bE],bw);if(bF===0){bD.found=true;bD.index=bE;return bD}else if(bF<0){bB=bE+1}else{bC=bE-1}}bD.found=false;bD.index=bB;return bD}};bj.$0=function(e){return function(bw,bx){if(bw===bx){return 0}else if(bw>bx){return-1}else{return 1}}};bj.transform=function(e,bw){bw=bw||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bw.transformOrigin)){bw.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(bw.scale!==1){bw.scaleX=bw.scaleY=bw.scale}var bx;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bx=['translate3d(',bw.translateX.toString(),'px,',bw.translateY.toString(),'px, 0px)'].join('')}else{bx=['translate(',bw.translateX.toString(),'px,',bw.translateY.toString(),'px)'].join('')}bx+=[' scale(',bw.scaleX.toString(),', ',bw.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bw.time+'ms';e.style['transform']=bx;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bw.time+'ms';e.style['webkitTransform']=bx;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bw.time+'ms';e.style['MozTransform']=bx;if(ss.isValue(bw.transformOrigin)){var by=bw.transformOrigin.x+'px '+bw.transformOrigin.y+'px';e.style['transformOrigin']=by;e.style['webkitTransformOrigin']=by;e.style['MozTransformOrigin']=by}};bj.defer=function(e){if(bj.bIsAnimationShown===false){bj.$1.push(e)}else{e()}};bj.performDeferredCalls=function(){var e=bj.$1.length;for(var bw=0;bw<e;bw++){window.setTimeout(bj.$1[bw],bw)}ss.clear(bj.$1);bj.bIsAnimationShown=true};bj.parseUri=function(e){var bw=document.createElement('a');var bx=bw;if(ss.isNullOrUndefined(e)){return null}bw.href=e;var by=ss.mkdict(['href',e,'host',bx.host,'hostname',bx.hostname,'pathname',bx.pathname,'port',bx.port,'protocol',bx.protocol,'search',bx.search]);return by};bj.setupTitleEllipsis=function(e){var bw=e.find('div');var bx=bw.children('span');var by=null;var bz=t.roundToInt(bw.width());var bA=10;bz-=bA;for(var bB=0;bB<bx.length;bB++){var bC=bx[bB];var bD=t.roundToInt($(bC).width());by=bC;if(bD>bz){break}bz-=bD}if(ss.isValue(by)){bw.css('font-family',by.style.fontFamily);bw.css('font-size',by.style.fontSize);bw.css('line-height',by.style.lineHeight);bw.css('color',by.style.color);bw.css('font-weight',by.style.fontWeight);bw.css('font-style',by.style.fontStyle);bw.css('text-decoration',by.style.textDecoration)}bw.css('text-overflow','ellipsis');bw.css('overflow','hidden')};global.tableau.util=bj;var bk=function(){};bk.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=bk;var bl=function(){};bl.__typeName='tableau.types.CFType';global.tableau.types.CFType=bl;var bm=function(){};bm.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=bm;var bn=function(){};bn.__typeName='tableau.types.DataType';global.tableau.types.DataType=bn;var bo=function(){};bo.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=bo;var bp=function(){};bp.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bp;var bq=function(){};bq.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bq;var br=function(){};br.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=br;var bs=function(){};bs.__typeName='tableau.types.QFInclude';bs.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bs;var bt=function(){};bt.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bt;var bu=function(){};bu.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bu;var bv=function(e){this.$3=null;this.$4=false;this.$3=e;if(h.isTouch){this.$3.addEventListener('touchstart'.toString(),ss.mkdel(this,this.handleEvent),false)}};bv.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=bv;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initEnum(d,a,{simple:'simple',toggle:'toggle',range:'range',menu:'menu'},true);ss.initClass(f,a,{});ss.initInterface(D,a,{addFilter:null,removeFilter:null,clearFilters:null,log:null});ss.initClass(g,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(e){this.$0.push(e)},removeFilter:function(e){ss.remove(this.$0,e)},log:function(e,bw,bx,by){},logInternal:null,formatMessage:function(e,bw){if(ss.isNullOrUndefined(bw)||bw.length===0){return e}var bx=new ss.StringBuilder;var by=0;var bz=false;for(var bA=0;bA<e.length;bA++){var bB=e.charCodeAt(bA);if(bB===37){if(bz){bx.append('%');bz=false}else{bz=true}}else{if(bz){switch(bB){case 98:case 115:case 100:case 110:case 111:{bx.append(((bw.length>by)?bw[by]:''));by++;break}}}else{bx.appendChar(bB)}bz=false}}return bx.toString()}},null,[D]);ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(k,a,{});ss.initClass(l,a,{logInternal:function(e,bw,bx,by){if(typeof(window.console)!=='object'){return}bx=e.get_name()+': '+bx;var bz=[];if(h.get_consoleLogFormating()){var bA=bz.concat(bx);bz=bA.concat.apply(bA,by)}else{bz=bz.concat(this.formatMessage(bx,by))}try{Function.prototype.apply.call(this.$1(bw),window.console,bz)}catch(bB){}},$1:function(e){var bw=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=bw.log;this.$2[(4).toString()]=bw.error;this.$2[(2).toString()]=bw.info;this.$2[(3).toString()]=bw.warn}var bx=this.$2[e.toString()];if(ss.isNullOrUndefined(bx)){bx=bw.log}return bx}},g,[D]);ss.initClass(m,a,{});ss.initEnum(n,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(o,a,{});ss.initClass(p,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=M.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(q,a,{add:function(e){this.$0.push(new j(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bw=this.$0[e];bw.dispose()}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(r,a,{});ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initEnum(w,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,categoricalHeadersVisualFeedback:30,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,offlineMode:41,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,javaScriptHighlighting:45});ss.initClass(x,a,{});ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{});ss.initInterface(B,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(C,a,{showAlertDialog:null,showConfirmationDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null});ss.initClass(E,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initClass(G,a,{add:function(e){this.store[e]=e;this.updateSize();return this},delete:function(e){var bw=this.has(e);delete this.store[e];this.updateSize();return bw},clear:function(){ss.clearKeys(this.store);this.updateSize()},has:function(e){return ss.keyExists(this.store,e)},forEach:function(e){var bw=ss.getEnumerator(Object.keys(this.store));try{while(bw.moveNext()){var bx=bw.current();e(this.store[bx])}}finally{bw.dispose()}},updateSize:function(){this.size=ss.getKeyCount(this.store)}});ss.initClass(F,a,{add:function(e){return null},set:function(e,bw){this.store[e]=bw;this.updateSize();return this},get:function(e){return this.store[e]}},G);ss.initClass(H,a,{});ss.initClass(I,a,{get_name:function(){return this.$1},debug:function(e,bw){},info:function(e,bw){},warn:function(e,bw){},error:function(e,bw){},log:function(e,bw,bx){},$0:function(e,bw,bx){try{var by=I.$2();for(var bz=0;bz<by.length;bz++){var bA=by[bz];bA.log(this,e,bw,bx)}}catch(bB){}}});ss.initEnum(J,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(K,a,{});ss.initClass(L,a,{logEvent:function(e){if(this.$9.length>=400){this.$9.shift()}this.$9.push(e);this.$5()},attach:function(){tabBootstrap.MetricsController.setEventLogger(ss.mkdel(this,this.logEvent))},$5:function(e){if(ss.isValue(this.$8)){return}e=ss.coalesce(e,250);this.$8=window.setTimeout(ss.mkdel(this,this.$3),e)},$3:function(){this.$8=null;var e;if(this.$9.length>20){e=this.$9.slice(0,20);this.$9=this.$9.slice(20);this.$5(5)}else{e=this.$9;this.$9=[]}this.$1(e);if(tsConfig.metricsReportingEnabled){try{this.$2(e)}catch(bw){}}},$1:function(e){this.$a=this.$a||I.lazyGetLogger(L);for(var bw=0;bw<e.length;bw++){var bx=e[bw]}},$2:function(e){var bw=1500;var bx=e.length;var by='';if(bx===0){return}for(var bz=0;bz<bx;bz++){var bA=e[bz];if(bA.eventType==='wps'){continue}var bB=L.$1(bA,false);if(by.length>0&&by.length+bB.length>bw){this.$4(tsConfig.metricsServerHostname,by);by=''}else if(by.length>0){by+='&'}by+=bB}if(by.length>0){this.$4(tsConfig.metricsServerHostname,by)}if(ss.isNullOrUndefined(this.$6)){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}},$4:function(e,bw){var bx=1;if(M.isNullOrEmpty$1(e)||M.isNullOrEmpty$1(bw)){return}var by=document.createElement('img');var bz='v='+bx.toString();var bA=e;bA+='?'+bz+'&'+bw;by.src=bA;this.$7.push(by);if(this.$7.length>100){this.$7.shift()}},$0:function(){try{this.$6=null;var e=0;while(e<this.$7.length){if(this.$7[e].complete){this.$7.splice(e,1)}else{e++}}if(this.$7.length>0){this.$6=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bw){}}});ss.initClass(M,a,{});ss.initClass(N,a,{});ss.initClass(O,a,{});ss.initEnum(P,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(Q,a,{});ss.initClass(R,a,{});ss.initClass(S,a,{});ss.initClass(T,a,{});ss.initClass(U,a,{});ss.initClass(V,a,{});ss.initClass(W,a,{});ss.initClass(X,a,{});ss.initClass(Y,a,{});ss.initClass(Z,a,{});ss.initClass(ba,a,{logInternal:function(bw,bx,by,bz){by=this.formatMessage(ss.replaceAllString(by,'\\n','<br />'),bz);if(bx>2){try{throw new ss.Exception('Logged('+I.loggerLevelNames[bx]+', from '+bw.get_name()+'): '+by)}catch(bA){var e=ss.Exception.wrap(bA);u.report(e,false)}}}},g,[D]);ss.initClass(bb,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bc,a,{});ss.initClass(bd,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){if(this.$2===0){var bw=Math.floor(e.minX);var bx=Math.floor(e.minY);var by=Math.ceil(e.maxX);var bz=Math.ceil(e.maxY);return{x:bw,y:bx,w:by-bw,h:bz-bx}}if(this.$2===2){var bA=Math.floor(e.minX*this.$1+this.$3.x);var bB=Math.floor(e.minY*this.$1+this.$3.y);var bC=Math.ceil(e.maxX*this.$1+this.$3.x);var bD=Math.ceil(e.maxY*this.$1+this.$3.y);return{x:bA,y:bB,w:bC-bA,h:bD-bB}}return null},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bw=(e.center.x-this.$3.x)*this.$0;var bx=(e.center.y-this.$3.y)*this.$0;return{center:{x:bw,y:bx},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bw=e.length;var bx=new Array(bw);for(var by=0;by<bw;by=by+2){bx[by]=(e[by]-this.$3.x)*this.$0;bx[by+1]=(e[by+1]-this.$3.y)*this.$0}return bx}default:{return null}}}});ss.initClass(be,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bw=Math.cos(e);var bx=Math.sin(e);var by=this.$0[0]*bw+this.$0[2]*bx;var bz=this.$0[1]*bw+this.$0[3]*bx;var bA=this.$0[0]*-bx+this.$0[2]*bw;var bB=this.$0[1]*-bx+this.$0[3]*bw;this.$0[0]=by;this.$0[1]=bz;this.$0[2]=bA;this.$0[3]=bB},translate:function(e,bw){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bw;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bw},scale:function(e,bw){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bw;this.$0[3]=this.$0[3]*bw},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new be;e.setTransform(this);return e}});ss.initEnum(bf,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(bg,a,{logInternal:function(e,bw,bx,by){if(ss.isNullOrUndefined(this.$2)){this.$1()}bx=this.formatMessage(ss.replaceAllString(bx,'\\n','<br />'),by);this.$2.html(bx)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},g,[D]);ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initClass(bj,a,{});ss.initClass(bk,a,{});ss.initClass(bl,a,{});ss.initClass(bm,a,{});ss.initClass(bn,a,{});ss.initClass(bo,a,{});ss.initClass(bp,a,{});ss.initClass(bq,a,{});ss.initClass(br,a,{});ss.initClass(bs,a,{});ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initClass(bv,a,{handleEvent:function(e){var bw=e;switch(e.type){case'touchstart':{this.$2(bw);break}case'touchmove':{this.$1(bw);break}case'touchend':{this.$0(bw);break}}},$2:function(e){e.preventDefault();this.$4=false;this.$3.addEventListener('touchmove'.toString(),ss.mkdel(this,this.handleEvent),false);this.$3.addEventListener('touchend'.toString(),ss.mkdel(this,this.handleEvent),false)},$1:function(e){this.$4=true},$0:function(e){this.$3.removeEventListener('touchmove',ss.mkdel(this,this.handleEvent),false);this.$3.removeEventListener('touchend',ss.mkdel(this,this.handleEvent),false);if(!this.$4){var bw=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bw.nodeType===3){bw=bw.parentNode}var bx=document.createEvent('MouseEvents');bx['initEvent']('click',true,true);bw.dispatchEvent(bx)}}});(function(){h.$H=false;h.$n='fonts'in document;h.$F=false;h.$p=false;h.$g=false;h.$h=null;h.$i=null;h.$J=false;h.$f=false;h.$C=false;h.$t=false;h.$w=false;h.$u=false;h.$q=0;h.$o=0;h.$G=0;h.$r=0;h.$v=false;h.$B=false;h.$y=false;h.$D=false;h.$A=false;h.$x=false;h.$s=false;h.$z=false;h.$E=false;h.$m=1;h.$e=1;h.$j=false;h.$k=false;h.$l=false;h.$K=false;h.$I=false;h.isTouch=false;h.$1();$(h.detectBrowserSupport);h.$d(G).call(null,'Set');h.$d(F).call(null,'Map');h.isTouch='ontouchend'in document})();(function(){I.global=I.getLoggerWithName('global');I.loggerLevelNames=[];I.$5=':log';I.loggerLevelNames[0]='all';I.loggerLevelNames[1]='debug';I.loggerLevelNames[2]='info';I.loggerLevelNames[3]='warn';I.loggerLevelNames[4]='error';I.loggerLevelNames[5]='off'})();(function(){t.epsilon=Math.pow(2,-52);t.$4=1+t.epsilon;t.$5=t.$4;t.$3=1/t.$4;t.$1=9.22337203685477E+18;t.$2=-9.22337203685477E+18})();(function(){l.$0=null})();(function(){bi.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);bi.ExportDialogType=e})();(function(){o.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();o.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();o.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();o.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();o.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();o.$5=86400000})();(function(){O.suppressAlerts=false})();(function(){r.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);r.$8=1})();(function(){u.$k='?';u.$t=false;u.$s=true;u.$l=true;u.$m=false;u.$o=null;u.$n=null;u.$i={};u.$r=[];u.$q=false;u.$p=null;u.$h=new RegExp('^(eval@)?(\\[native code\\])?$');u.$e=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');u.$j=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');u.$f=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');u.$g=new RegExp('[\\(\\)]','g')})();(function(){v.$0=null})();(function(){x.$b=null;x.$6=null;x.$8=null;x.$a=null;x.$d=null;x.$e=null;x.$5=null;x.$7=null;x.$9=null;x.$c=null;{x.$b=I.lazyGetLogger(x);x.$6=[];x.$8=[];x.$a=[];x.$d=[];x.$e={};x.$5={};x.$7={};x.$9={};x.$c={}}x.$1(':newfilter',4,false);x.$1(':fieldconversion',5,true);x.$1(':newtoolbar',9,false);x.$1(':selectiontoolsmobile',23,true);x.$1(':mapssearchdebugalwaysshow',28,false);x.$1(':useleafletforgeosearch',19,false);x.$1(':headersfeedback',30,true);x.$1(':aodragtoviz',31,false);x.$1(':gotomylocationbutton',32,true);x.$1(':designtint',33,false);x.$1(':newqfwolf',35,false);x.$1(':appearanceofblendingicons',36,true);x.$1(':outlinestampedshapes',38,false);x.$1(':catqfdropdown',40,false);x.$1(':offlinemode',41,false);x.$1(':opaquecanvas',42,true);x.$1(':logstorypointcachehits',43,false);x.$1(':JavaScriptHighlighting',45,false);x.$3(':buttondelay',11);x.$3(':hoverdelay',12);x.$3(':maxtooltipwhitespace',18);x.$3(':datahlmaxitems',44);x.$3(':progloaddelay',39);x.$0()})();(function(){y.$6=null;y.$5=null;y.$4=null;y.$9=null;y.$7=null;y.$8=null;y.$1$1=null;y.$6=y.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);y.$5=y.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);y.$4=y.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);y.$9=y.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);y.$7=y.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);y.$8=y.$0(document,['onfullscreenerror','onwebkitfullscreenerror','onMSFullscreenError','onmozfullscreenerror']);if(ss.isValue(y.$7)&&y.get_fullscreenEnabled()){document.addEventListener(y.$2().toString(),y.$1)}})();(function(){A.httpUnauthorizedCode=401;A.httpServiceUnavailable=503;A.httpInternalServerError=500})();(function(){K.touchEventSamplingRate=6;K.defaultWheelDeltaIncrement=120;K.minimumZoomLevelIncrement=0.25;K.maxWheelDelta=360;K.$1=480;K.$0=512})();(function(){L.$5=100;L.$6=400;L.$7=20;L.$4=250;L.$8=5;L.$3=250;L.$a=null;L.$9=null;L.$b=null;L.$a={};L.$a['d']='DESC';L.$a['t']='TIME';L.$a['id']='ID';L.$a['sid']='SESSION_ID';L.$a['e']='ELAPSED';L.$a['v']='VALS';L.$a['wb']='WORKBOOK';L.$a['s']='SHEET_NAME';L.$a['p']='PROPS';L.$a['m']='MOBILE';L.$9={};L.$9['nav']='Navigation';L.$9['wps']='ProfileStart';L.$9['wp']='ProfileEnd';L.$9['gen']='Generic';L.$9['init']='SessionInit'})();(function(){N.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];N.$0=null;var e=window;var bw=function(bx){_.defer(N.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bw,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bw)}})();(function(){ba.$0=null})();(function(){bc.defaultCustomStyleElementId='tab-appendedCustomStyle';bc.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bc.$3={}})();(function(){bd.$0=null;bd.$0=new bd(0,0,1,0)})();(function(){bg.$0=null})();(function(){bh.specialManyValues='%many-values%';bh.specialNull='%null%';bh.specialError='%error%';bh.specialRagged='%ragged%';bh.specialSkipped='%skipped%';bh.specialMissing='%missing%';bh.specialAll='%all%';bh.specialNoAccess='%no-access%';bh.specialWildcard='%wildcard%';bh.millisPerDay=86400000;bh.$C=15;bh.$B=6;bh.$E=1E+15;bh.$D=1000000;bh.$F=0.0001;bh.$I=9;bh.$z=46;bh.$G=45;bh.$J=48;bh.$A=53;bh.$H=57;bh.nfType=0;bh.nfDecimalPlaces=1;bh.nfUseSeparators=2;bh.nfPrefix=3;bh.nfSuffix=4;bh.nfUnits=5;bh.nfNegativeFormat=6;bh.nfDecimalPointChars=7;bh.nfGroupSeparatorChars=8;bh.nfGroupingSpec=9;bh.$R={};bh.$S={};bh.$T={};bh.$Y=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');bh.$O=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');bh.$Z=new RegExp('(\\\\[:.]s+)');bh.$12=new RegExp('(t+)','g');bh.$U=new RegExp('([yYmMdDhnswq]+)','g');bh.$10=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');bh.$V=new RegExp('\\s','g');bh.$M=new RegExp('(^|d)([^h]*)(h|$)','gi');bh.$N=new RegExp('h([^d]*)(d|$)','gi');bh.$K=new RegExp('^(a|a\\.?m\\.?||\\.?\\.?|)$','i');bh.$W=new RegExp('^(p|p\\.?m\\.?||\\.?\\.?|)$','i');bh.$X=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');bh.$Q=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);bh.$P={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};bh.$L=ss.mkdict(['t','t','v',bi.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0))]);bh.$11=null;bh.$R.format='yyyy-mm-dd';bh.$R.timeFormat='hh:nn';bh.$S.format='yyyy-mm-ddThh:nn';bh.$T.format='hh:nn';bh.$11=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){bj.$1=[];bj.bIsAnimationShown=false;if(h.get_isMac()){$(document).addClass('tb_mac')}})();(function(){bk.CFS_ALL='all';bk.CFS_SINGLE='single-select';bk.CFS_MULTIPLE='multi-select'})();(function(){bl.CFT_INCLUSIVE='include';bl.CFT_EXCLUSIVE='exclude'})();(function(){bm.DS_NORMAL=null;bm.DS_NULL='n';bm.DS_ALL='a';bm.DS_WILDCARD='w';bm.DS_SKIPPED='s';bm.DS_NOACCESS='p';bm.DS_RAGGED='r';bm.DS_ERROR='e';bm.DS_MISSING='m'})();(function(){bo.FT_QUANTITATIVE='Q';bo.FT_ORDINAL='O';bo.FT_NOMINAL='N';bo.FT_UNKNOWN=null})();(function(){bp.HFS_SINGLE='single-select';bp.HFS_MULTIPLE='multi-select'})();(function(){bq.QFD_ALL='all';bq.QFD_CONTEXT='context';bq.QFD_RELEVANT='relevant'})();(function(){br.QFF_FIXED_START='start';br.QFF_FIXED_END='end'})();(function(){bs.QFI_ALL='include-all';bs.QFI_NON_NULL='include-non-null';bs.QFI_NULL_ONLY='include-null';bs.QFI_RANGE='include-range';bs.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bt.table='t';bt.legend='l';bt.filter='f';bt.currentPage='p';bt.title='i';bt.text='x';bt.bitmap='b';bt.web='w';bt.draw='d';bt.textBlock='k';bt.layoutContainer='c';bt.parameter='a'})()})()}());;
/*! BEGIN Domain */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(e,jt,ju,jv){bt.call(this,'none',e,jt,ju,jv)};b.__typeName='tab.$0';var c=function(e){this.$7=null;this.$5=0;this.$6=null;this.$1$1=null;this.$1$2=null;this.$7=e;this.$5=0;this.$6=[]};c.__typeName='tab.$1';var d=function(){};d.__typeName='tab.$10';var f=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};f.__typeName='tab.$11';f.$2=function(e,jt){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=jt};f.$1=function(e,jt){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=jt};f.$0=function(e){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}];this.$3=e};var g=function(e,jt){var ju=function(jv,jw){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(jt);this.$0=jv;this.$1=jw};ss.registerGenericClassInstance(ju,g,[e,jt],{},function(){return null},function(){return[]});return ju};g.__typeName='tab.$12';ss.initGenericClass(g,a,2);var h=function(e){var jt=function(ju){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=ju};ss.registerGenericClassInstance(jt,h,[e],{},function(){return null},function(){return[]});return jt};h.__typeName='tab.$13';ss.initGenericClass(h,a,1);var i=function(e){var jt=function(){this.$3=null;this.$4=null};ss.registerGenericClassInstance(jt,i,[e],{$0:function(ju){var jv=this.$3;this.$3=ju;ju.$1=jv;ju.$2=null;if(ss.isValue(jv)){jv.$2=ju}if(ss.isNullOrUndefined(this.$4)){this.$4=ju}},$1:function(ju){if(ss.referenceEquals(this.$3,ju)){this.$3=ju.$1}if(ss.referenceEquals(this.$4,ju)){this.$4=ju.$2}if(ss.isValue(ju.$2)){ju.$2.$1=ju.$1}if(ss.isValue(ju.$1)){ju.$1.$2=ju.$2}},$2:function(){this.$1(this.$4)}},function(){return null},function(){return[]});return jt};i.__typeName='tab.$14';ss.initGenericClass(i,a,1);var j=function(e){eR.call(this,e,new fv('eJH'.toString()))};j.__typeName='tab.$15';var k=function(e){eR.call(this,e,new fv('VGH'.toString(),1))};k.__typeName='tab.$16';var l=function(e){eR.call(this,e,new fv('xl_'.toString(),1))};l.__typeName='tab.$17';var m=function(e,jt,ju){this.$7=null;this.$6=null;this.$8=false;bt.call(this,'immediately',e,null);this.$7=jt;this.$6=ju;var jv=this.$7.commandParams;var jw=bS.newCommand('drop-prepare',jv);gQ.setCommandParams(jw,jv);jv['_tx']=false;this.enqueueCommand(new bL(jw))};m.__typeName='tab.$18';var n=function(){this.$4=null;this.$4=[]};n.__typeName='tab.$19';var o=function(){};o.__typeName='tab.$2';var p=function(e,jt){this.$3=null;this.$2=null;this.$3=e;this.$2=jt};p.__typeName='tab.$20';var q=function(){};q.__typeName='tab.$21';q.$0=function(e,jt,ju){var jv=new Set;for(var jw=0;jw<jt.length;jw++){var jx=jt[jw];if(ss.contains(jx.QGQ,e)&&q.$1(jx,ju)){tab.SetUtilities.addAll(Object).call(null,jv,jx.kDm)}}return jv};q.$1=function(e,jt){var ju=bO.deserialize(gZ.create(e.Yb$).get_simpleCommand(),true);if(ss.isNullOrUndefined(jt)||Q.isSpecialDateTimeHighlighting(ju)){return true}var jv=Q.getHighlightFieldCaptions(ju,jt.get_highlightCaptions(),jt.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty(jv)};var r=function(e){this.$9=null;this.$a={};this.$8=[];this.$7=false;this.$9=e};r.__typeName='tab.$22';r.$0=function(e,jt){var ju=new Array(e.length);for(var jv=0;jv<e.length;++jv){ju[jv]={item1:e[jv],item2:jt[jv]}}ju.sort(function(jw,jx){return jw.item1-jx.item1});return ju};r.$1=function(e,jt){var ju;if(jt.length===1||ss.isNullOrUndefined(e)){ju=jt}else{ju=_.sortBy(jt,function(jv,jw){return e[jw]})}return ju};var s=function(){};s.__typeName='tab.$23';var t=function(){};t.__typeName='tab.$24';t.$e=function(){return tab.Logger.lazyGetLogger(gi)};t.$2=function(e,jt,ju,jv,jw){var jx=t.$4(jv,jw);var jy=new r(jw);if(ss.isNullOrUndefined(jx)){return jy}var jz=new Array(jw.length);for(var jA=0;jA<jz.length;++jA){var jB=jv.getColumnIndex(jw[jA]);jz[jA]=jB}var jC={};for(var jD=0;jD<ju.length;jD++){var jE=ju[jD];var jF=e.getItemNamesFromObjectId(jE);if(ss.isNullOrUndefined(jF)){continue}var jG=true;var jH=[];for(var jI=0;jI<jF.length;jI++){var jJ=jt[jI];var jK=jx[jJ];if(ss.isNullOrUndefined(jK)){continue}jC[jJ]=jC[jJ]||iP.buildAliasReverseLookup(jv,jK,L.get_instance().get_dataDictionary());var jL=jC[jJ];var jM=jL[jF[jI]];if(!ss.isValue(jM)){jG=false;break}jH.push(jM)}if(jG){jy.$0(jH,jz)}}return jy};t.$1=function(e,jt){var ju={};for(var jv=0;jv<jt.length;jv++){var jw=jt[jv];var jx=new Array(jw.ZHX.length);for(var jy=0;jy<jx.length;jy++){var jz=e.getVizDataFieldByIndex(jw.ZHX[jy]);jx[jy]=jz.get_fieldName()}var jA=jx.join(';');var jB;if(ss.keyExists(ju,jA)){jB=ju[jA]}else{jB=new r(jx);ju[jA]=jB}jB.$0(jw.wwF,jw.ZHX)}return _.map(ju,function(jC,jD){return jC})};t.$c=function(e,jt){var ju=[];for(var jv=0;jv<jt.length;jv++){var jw=jt[jv];if(ss.isNullOrUndefined(jw.ZHX)){continue}for(var jx=0;jx<jw.ZHX.length;jx++){var jy=jw.ZHX[jx];var jz=e.get_vizDataModel().getVizDataFieldByIndex(jy);var jA=jz.get_fieldCaption();if(!ss.contains(ju,jA)){ju.push(jA)}}}return Array.prototype.slice.call(ju)};t.$3=function(e,jt,ju){var jv=new r(ju);var jw=t.$4(e,ju);if(ss.isNullOrUndefined(jw)){return jv}for(var jx=0;jx<jt.length;jx++){var jy=jt[jx];var jz=[];var jA=[];for(var jB=0;jB<ju.length;jB++){var jC=ju[jB];var jD=jw[jC];var jE=jD.getAliasIndex(jy);jz.push(jE);jA.push(e.getColumnIndex(jC))}if(jz.length!==ju.length){}jv.$0(jz,jA)}return jv};t.$0=function(e,jt,ju,jv){var jw=[];var jx={};var jy=false;e.forEachVizDataField(function(jR,jS){if(t.$d(jR)){var jT=jR.get_aggType()||'none';jx[jT]=jS;if(jT==='none'){jy=true}}return true});var jz=true;var jA=null;jt.forEachVizDataField(function(jR,jS){if(t.$d(jR)){if(ss.isNullOrUndefined(jA)){jA=jR.get_baseColumnName()}else if(!ss.referenceEquals(jA,jR.get_baseColumnName())){jz=false}}return true});var jB=[];if(jz){var jC=[];jt.forEachVizDataField(function(jR,jS){if(t.$d(jR)){var jT=jR.get_aggType()||'none';if(!jy&&jT==='none'){var jU=ss.getEnumerator(Object.keys(jx));try{while(jU.moveNext()){var jV=jU.current();if(!ss.contains(jC,jV)){jC.push(jV);var jW=jx[jV];jw.push(new u(jW,jS,jV,'none'));var jX=e.getVizDataFieldByIndex(jW);jB.push(jX)}}}finally{jU.dispose()}}else if(ss.keyExists(jx,jT)){if(!ss.contains(jC,jT)){jC.push(jT);var jY=jx[jT];jw.push(new u(jY,jS,'none','none'));jB.push(jR)}}else if(jy){var jZ=jx['none'];jw.push(new u(jZ,jS,'none',jT));jB.push(jR)}}return true})}var jD=new Array(jB.length);for(var jE=0;jE<jB.length;jE++){var jF=jB[jE];jD.push(jF.get_fieldCaption())}var jG=new r(jD);for(var jH=0;jH<jv.length;jH++){var jI=jv[jH];var jJ=[];var jK=[];for(var jL=0;jL<jw.length;jL++){var jM=jw[jL];var jN=e.getVizDataFieldByIndex(jM.$3);var jO=jN.getDataValueIndex(jI);if(ss.isValue(jO)){var jP=ju.getRawValue(jN.get_dataType(),ss.unbox(jO));var jQ=t.$5(jP,jM.$2,jM.$0,ss.unbox(jO));jJ.push(jQ);jK.push(jM.$3)}}jG.$0(jJ,jK)}return{item1:jG,item2:jw}};t.$b=function(e,jt,ju,jv){var jw=[];if(ss.isNullOrUndefined(ju)||e.$5()){return jw}ju.forEachTupleId(function(jx){var jy=[];var jz=[];for(var jA=0;jA<jt.length;jA++){var jB=jt[jA];var jC=ju.getVizDataFieldByIndex(jB.$1);var jD=jC.getDataValueIndex(jx);if(ss.isValue(jD)){var jE=jv.getRawValue(jC.get_dataType(),ss.unbox(jD));var jF=t.$5(jE,jB.$0,jB.$2,ss.unbox(jD));jy.push(jF);jz.push(jB.$1)}}if(e.$1(jz,jy)){jw.push(jx)}return true});return jw};t.$a=function(e,jt){var ju=[];if(ss.isNullOrUndefined(jt)||e.$5()){return ju}var jv=e.$4();var jw=t.$4(jt,jv);if(ss.isNullOrUndefined(jw)){return ju}if(!jt.get_hasTupleIdColumn()){return ju}var jx=new Array(jv.length);for(var jy=0;jy<jv.length;jy++){jx[jy]=jt.getColumnIndex(jv[jy])}jt.forEachTupleId(function(jz){var jA=new Array(jv.length);for(var jB=0;jB<jv.length;jB++){var jC=jv[jB];var jD=jw[jC];var jE=jD.getAliasIndex(jz);jA[jB]=jE}if(e.$1(jx,jA)){ju.push(jz)}return true});return ju};t.$9=function(e,jt,ju){var jv=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ju)||jt.$5()){return jv}var jw=jt.$4();var jx=null;for(var jy=0;jy<e.HUq.length;jy++){var jz=e.HUq[jy];for(var jA=0;jA<jz.MdI.length;jA++){var jB=jz.MdI[jA];if(jB.oqX==='trend-lines'){for(var jC=0;jC<jB.tOA.length;jC++){var jD=jB.tOA[jC];if(jD.VzB==='rOX'){jx=new Array(jw.length);for(var jE=0;jE<jw.length;jE++){jx[jE]=ju.getColumnIndex(jw[jE])}var jF=jD;var jG={};if(ss.isValue(jF.ZHX)){for(var jH=0;jH<jF.ZHX.length;jH++){jG[jF.ZHX[jH]]=jF.wwF[jH]}}var jI=new Array(jw.length);for(var jJ=0;jJ<jw.length;jJ++){if(ss.keyExists(jG,jx[jJ])){jI[jJ]=jG[jx[jJ]]}else{jI[jJ]=null}}if(jt.$1(jx,jI)){jv.push(jF.YLs)}}}}}}return jv};t.$4=function(e,jt){var ju={};for(var jv=0;jv<jt.length;jv++){var jw=jt[jv];var jx=e.getVizDataField(jw);if(ss.isNullOrUndefined(jx)){return null}ju[jw]=jx}return ju};t.$6=function(e,jt,ju){var jv=[];if(ss.isNullOrUndefined(jt)||ju.get_fieldCaptions().length!==e.$4().length){return jv}var jw=e.$4();var jx=ju.get_fieldCaptions();var jy=[];for(var jz=0;jz<jx.length;jz++){var jA=jx[jz];var jB=ss.indexOf(jw,jA);if(jB===-1){return jv}jy.push(jB)}var jC=L.get_instance().get_dataDictionary();var jD={};var jE={};var jF=[];var jG=e.$6();for(var jH=0;jH<jG.length;jH++){var jI=jG[jH];var jJ=true;jF.length=jI.length;for(var jK=0;jK<jF.length;jK++){var jL=jy[jK];var jM=jI[jL];if(!ss.isValue(jM)){jJ=false;break}var jN=jx[jK];jD[jN]=jD[jN]||jt.getVizDataField(jN);var jO=jD[jN];jF[jK]=iP.lookupAliasFromIndex(jM,jO,jC)}if(jJ){jE[jF.join(',')]=true}}var jP=ju.get_items();for(var jQ=0;jQ<jP.length;jQ++){var jR=jP[jQ];if(jE[jR.nbD.join(',')]===true){jv.push(jR.YLs)}}return jv};t.$7=function(e,jt,ju){var jv=[];if(ss.isNullOrUndefined(jt.get_vizDataModel())){return jv}var jw=e.$4();for(var jx=0;jx<ju.length;jx++){var jy=ju[jx];if(ss.isNullOrUndefined(jy.ZHX)||ss.isNullOrUndefined(jy.wwF)||jy.wwF.length<jw.length){continue}var jz=[];var jA=[];var jB=false;for(var jC=0;jC<jy.ZHX.length;++jC){var jD=jy.ZHX[jC];var jE=jt.get_vizDataModel().getVizDataFieldByIndex(jD).get_fieldCaption();if(ss.isValue(jE)&&ss.contains(jw,jE)){jz.push(jD);jA.push(jy.wwF[jC]);if(jC===0){jB=true}}}if(jB&&e.$1(jz,jA)){var jF={};jF.ZHX=jy.ZHX;jF.wwF=jy.wwF;jv.push(jF)}}return jv};t.$8=function(e,jt,ju,jv){var jw=[];if(ss.isNullOrUndefined(ju.get_vizDataModel())){return jw}var jx=new ss.ObjectEnumerator(ju.get_sceneModel().get_visualListModels());try{while(jx.moveNext()){var jy=jx.current();var jz=jy.value.get_groupItemNodes();for(var jA=0;jA<jz.length;jA++){var jB=jz[jA];if(ss.isNullOrUndefined(jB.ZHX)||ss.isNullOrUndefined(jB.wwF)||jB.ZHX.length!==jB.wwF.length){continue}var jC=[];for(var jD=0;jD<jB.ZHX.length;++jD){var jE={$:jB.ZHX[jD]};var jF=_.find(jt,ss.mkdel({nodeColIndex:jE},function(jL){return jL.$1===this.nodeColIndex.$}));if(ss.isValue(jF)){var jG=jB.wwF[jD];var jH=ju.get_vizDataModel().getVizDataFieldByIndex(jF.$1);var jI=jv.getRawValue(jH.get_dataType(),jG);if(ss.isValue(jI)){var jJ=t.$5(jI,jF.$0,jF.$2,jG);jC.push(jJ)}}}if(jC.length===jB.wwF.length){if(e.$1(jB.ZHX,jC)){var jK={};jK.ZHX=jB.ZHX;jK.wwF=jB.wwF;jw.push(jK)}}}}}finally{jx.dispose()}return jw};t.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var jt=e.get_dataType();if(jt==='datetime'||jt==='date'){return true}var ju=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(ju,e.get_aggType())};t.$5=function(e,jt,ju,jv){if(_.isNumber(e)){return e}var jw=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var jx=jv;if(jt==='none'&&ju!=='none'){switch(ju){case'year':{jx=tab.DateUtil.dateAsYear(jw);break}case'qtr':{jx=tab.DateUtil.dateAsQuarter(jw);break}case'month':{jx=tab.DateUtil.dateAsMonth(jw);break}case'day':{jx=tab.DateUtil.dateAsDay(jw);break}case'hour':{jx=tab.DateUtil.dateTimeAsHour(jw);break}case'minute':{jx=tab.DateUtil.dateTimeAsMinute(jw);break}case'second':{jx=tab.DateUtil.dateTimeAsSecond(jw);break}case'week':{jx=tab.DateUtil.dateAsWeek(jw);break}case'weekday':{jx=tab.DateUtil.dateAsDayOfWeek(jw);break}case'month-year':{jx=tab.DateUtil.dateAsMonthYear(jw);break}case'mdy':{jx=tab.DateUtil.dateAsMonthDayYear(jw);break}}if(ss.isNullOrUndefined(jx)){}}return jx};var u=function(e,jt,ju,jv){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=jt;this.$2=ju||'none';this.$0=jv||'none'};u.__typeName='tab.$25';var v=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.mmK)){return}var jt={};var ju=this.$2.mmK.HCq;var jv=_.keys(this.$2.mmK.HCq);for(var jw=0,jx=jv.length;jw<jx;jw++){var jy=jv[jw];var jz=ju[jy];if(ss.isNullOrUndefined(jz)||jz.jAM==='bitmap'){jt[jy]=null}else{jt[jy]=jz.wqq}}this.$1=jt};v.__typeName='tab.$26';var w=function(e,jt,ju,jv,jw){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=jt;this.$e=ju;this.$a=ss.coalesce(jv,1);this.$9=ss.coalesce(jw,35)};w.__typeName='tab.$3';var x=function(e){bt.call(this,'none',e,null)};x.__typeName='tab.$4';var y=function(e){iK.call(this,e);this.c=true};y.__typeName='tab.$5';var z=function(e){this.$5=null;this.$1$1=0;this.$5=e};z.__typeName='tab.$6';var A=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=L.get_instance().get_workbook();this.$1(e.get_isCurrentSheetStoryboard());if(this.$0()){this.$3(e.get_storyboard().get_sheetName());this.$5(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};A.__typeName='tab.$7';var B=function(e,jt,ju){this.$2=null;this.$0=null;this.$1=null;this.$2=e;this.$0=jt;this.$1=ju};B.__typeName='tab.$8';var C=function(){};C.__typeName='tab.$9';C.$1=function(e){return function(jt,ju,jv){var jw=$.Deferred();var jx=iS.createRequest(jt,ju.$2(),function(){},function(){});jx.success=function(jy,jz,jA){gw.onVizportalPinged();var jB=iS.$3(jy);if(iS.$5(jB)){jw.reject();return}var jC=jv(jB);jw.resolve(jC)};jp.helper(jx);return jw.promise()}};C.$2=function(e){return function(jt,ju){var jv=ju(jt);var jw=jt['moreItems'].toString().toLowerCase()==='true';return{items:jv,moreItems:jw}}};C.$0=function(e){return function(jt,ju,jv,jw){var jx=C.$1(e).call(null,jt,ju,jv);jx.done(function(jy){if(!jy.moreItems){jw();return}ju.$1(ju.$0()+jy.items.length);C.$0(e).call(null,jt,ju,jv,jw)});jx.fail(jw)}};var D=function(e,jt,ju,jv,jw,jx){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;fD.call(this);if(ss.isNullOrUndefined(jw)&&ss.isValue(jx)){jw=ju;jx=jv}this.$7=e;this.$3=ju;this.$5=jv;this.$4=jw;this.$6=jx;var jy=jt;var jz=jw;var jA=jx;var jB=jx/jw;this.$0=(jA-jB*jz-jy+jB)/(-(jz*jz)+2*jz-1);this.$1=jB-2*this.$0*jz;this.$2=jy-jB+this.$0*(2*jz-1)};D.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=D;var E=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};E.__typeName='tab.AckbarEventsHelper';E.get=function(){if(ss.isNullOrUndefined(E.instance)){E.instance=new E}return E.instance};global.tab.AckbarEventsHelper=E;var F=function(){};F.__typeName='tab.ActionType';global.tab.ActionType=F;var G=function(){};G.__typeName='tab.ActionUtils';G.$b=function(){return tab.Logger.lazyGetLogger(G)};G.isVizSourceOfAction=function(e,jt){return _.any(e.QGQ,function(ju){return ss.referenceEquals(ju,jt)})};G.isTargetOfActionLocal=function(e){var jt=eU.getVisualModels(L.get_instance());for(var ju=0;ju<e.kDm.length;ju++){var jv=e.kDm[ju];if(ss.keyExists(jt,jv)){return true}}return false};G.isFilterAction=function(e){return ss.isValue(e.Yb$)&&ss.startsWithString(e.Yb$['eDX'.toString()],'tabdoc:filter-targets')};G.isHighlightAction=function(e){return ss.isValue(e.Yb$)&&ss.startsWithString(e.Yb$['eDX'.toString()],'tabdoc:highlight')};G.isFilterSource=function(e,jt){var ju=e.pm;var jv=ju.SJs;for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];if(!G.isVizSourceOfAction(jx,jt)){continue}if(jx.bg$!=='on-select'){continue}if(ss.isNullOrUndefined(jx.Yb$)){continue}var jy=ss.replaceAllString(jx.Yb$['eDX'.toString()],'simpleCommand=','');var jz=bO.deserialize(jy,true);if(!ss.referenceEquals(jz.commandName,'filter-targets'.toString())){continue}var jA=jx.kDm;if(jA.length===0){continue}return true}return false};G.getApplicableActions=function(e,jt,ju){var jv=L.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var jw=G.$6(jv,e,jt);if(ss.isValue(ju)){jw=_.filter(jw,G.$4(ss.unbox(ju)))}jw=_.filter(jw,G.$5());return jw};G.$4=function(e){return function(jt){return G.getActionType(jt)===e}};G.$5=function(){return function(e){return G.getActionType(e)==='url'||ss.isValue(e.ElU)||e.kDm.length>0}};G.executeActions=function(e,jt,ju,jv,jw){var jx=G.getApplicableActions(e,jt,'filter');var jy=G.getApplicableActions(e,jt,'highlight');var jz=G.getApplicableActions(e,jt,'url');var jA=eU.getVisualModel(L.get_instance(),e);if(ss.isValue(ju)){if(jz.length>0&&ju.length>0){G.$3(jz,ju,jA)}if(jy.length>0){if(ju.length>0){G.$2(jy,ju,jA,jv)}else{G.$a(jv)}}else if(ss.isValue(jw)&&jw){G.$2(jy,ju,jA,jv)}}if(jx.length>0){G.$1(e,jx,ju,jv,jA)}};G.executeAction=function(e,jt,ju,jv){if(!ss.isValue(e)){return}var jw=[e];if(!ss.isNullOrUndefined(e.LeZ)){G.$3(jw,jt,ju)}else if(true){G.$2(jw,jt,ju,jv)}else{}};G.getActionType=function(e){if(ss.isValue(e.Yb$)){var jt=bO.deserialize(e.Yb$['eDX'.toString()],true);if(ss.referenceEquals(jt.commandName,'highlight'.toString())){return'highlight'}if(ss.referenceEquals(jt.commandName,'filter-targets'.toString())){return'filter'}return null}if(ss.isValue(e.LeZ)){return'url'}return null};G.willActionCauseTabChange=function(e,jt){if(L.get_instance().get_isOffline()){return false}var ju=G.getApplicableActions(e,jt,'filter');for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(ss.isValue(jw.Yb$)){var jx=bO.deserialize(jw.Yb$['eDX'.toString()],true);var jy=jx.commandParams['DYs'];if(ss.isValue(jy)&&!_.isEqual(jy,tsConfig.current_sheet_name)){return true}}}return false};G.getUrlActionPm=function(e,jt,ju){if(ss.isValue(ju)&&!ss.isNullOrUndefined(e.LeZ)){var jv=jt.get_vizDataModel();var jw=L.get_instance().get_dataDictionary();var jx=iR.constructUrl(jw,e.LeZ,jv,ju,jt.get_worksheetName());return{item1:G.$0(jx),item2:jx.item2}}return{item1:null,item2:'urlConstructionFail'}};G.$0=function(e){if(e.item2!=='success'){return null}var jt={ZNi:e.item1};var ju=eU.getFirstAvailableWebZoneName(L.get_instance());if(ss.isValue(ju)){jt.ALQ=ju}return jt};G.$9=function(e){return ss.isValue(e)&&(e==='color'||e==='size'||e==='shape')};G.$2=function(e,jt,ju,jv){var jw=Q.computeFromTuples(ju,jt,e);gi.$g(jw,jv)};G.$a=function(e){gi.$2(e)};G.$3=function(e,jt,ju){if(ss.isValue(jt)&&jt.length>0){var jv=[];for(var jw=0;jw<e.length;jw++){var jx=e[jw];var jy=G.getUrlActionPm(jx,ju,jt).item1;if(ss.isValue(jy)){jv.push(jy)}else{bF.fireDeferredUrlActions=true;return}}if(jv.length>0){bF.get().delayLocalUrlActions(jv)}}};G.$1=function(e,jt,ju,jv,jw){if(L.get_instance().get_isOffline()){return}if(ss.isValue(jt)){var jx=G.$7(jt);if(jx.length>0){var jy=eU.getSheetInfoPresModel(L.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(jy)&&!(jy.WeS&&ss.isNullOrUndefined(jy.ROW))){var jz=!jy.WeS||jy.ROW.length===1;for(var jA=0;jA<jx.length;jA++){var jB=jx[jA];if(jz||!ss.referenceEquals(jB.get_worksheetName(),e)){eU.setVisualValidStateOnPresModel(jv,jB)}}}}if(ju.length>0){var jC=[];for(var jD=0;jD<jt.length;jD++){var jE=jt[jD];if((ju.length===1||!jE._pd)&&ss.isValue(jE.ElU)){var jF={};var jG=jE.ElU+'&:exclude='+bF.get().get_legacySession().railsEncode(e);var jH=jw.get_vizDataModel();var jI=L.get_instance().get_dataDictionary();jF.ZNi=iR.constructUrlForFilterActionFromTargetURL(jI,jG,jE.LeZ,jH,ju);jC.push(jF)}}if(jC.length>0){bF.get().delayLocalUrlActions(jC)}}}};G.$7=function(e){var jt={};if(ss.isValue(e)){for(var ju=0;ju<e.length;ju++){var jv=e[ju];for(var jw=0;jw<jv.kDm.length;jw++){var jx=jv.kDm[jw];var jy=eU.getVisualModel(L.get_instance(),jx);if(ss.isValue(jy)){jt[jx]=jy}}}}var jz=[];var jA=new ss.ObjectEnumerator(jt);try{while(jA.moveNext()){var jB=jA.current();jz.push(jB.value)}}finally{jA.dispose()}return jz};G.$8=function(e){if(!G.$d){G.$d=true;var jt=tsConfig.schemeWhitelist.split(',');for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=jv.toLowerCase().trim();if(!ss.endsWithString(jw,':')){jw+=':'}if(jw.length>1){G.$e.push(jw)}}}var jx=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var jy=jx.exec(e);if(!ss.isValue(jy)){return true}var jz=jy[0].toLowerCase();return ss.contains(G.$e,jz)};G.$6=function(e,jt,ju){var jv=_.filter(e,function(jw){var jx=ss.contains(jw.QGQ,jt);var jy=!ss.isValue(ju)||ss.unbox(ju)===jw.bg$;return jx&&jy});return jv};G.launchActionUrls=function(e,jt){var ju=[];var jv={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(ss.isValue(P.linkTarget)&&P.linkTarget.length>0){var jw=P.linkTarget;ju.push({item1:jw,item2:false});jv[jw]=e[e.length-1].ZNi}else{var jx=0;for(var jy=0;jy<e.length;jy++){var jz=e[jy];if(!G.$8(jz.ZNi)){if(!G.$c){G.$c=true;jt.showAlertDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,true,null)}continue}if(ss.isNullOrUndefined(jz.ALQ)||'t'in jz){jz.ALQ=jz['t']}var jA;if(ss.isValue(jz.ALQ)){jA={item1:jz.ALQ,item2:true}}else{var jB='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(jx>0){jB+='_'+jx.toString()}jA={item1:jB,item2:false}}if(!ss.keyExists(jv,jA.item1)){ju.push(jA)}jv[jA.item1]=jz.ZNi;jx++}}for(var jC=0;jC<ju.length;jC++){var jD=ju[jC];var jE=jD.item1;if(jD.item2){try{$('[name='+jE+']').prop('src',jv[jE])}catch(jF){}}else{window.open(jv[jE],jE)}}};global.tab.ActionUtils=G;var H=function(){ss.makeGenericType(O,[Object,I]).call(this)};H.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=H;var I=function(e){this.$c=null;this.$c=e};I.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=I;var J=function(e){this.$2$1=null;eR.call(this,e,new fv('OIO'.toString()))};J.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=J;var K=function(){};K.__typeName='tab.ApiClientCommands';K.doApiCommand=function(e,jt,ju){bF.SendCommand(fM.create(e,'immediately',jt,ju))};global.tab.ApiClientCommands=K;var L=function(){this.$a=null;this.$9={};this.$8={};this.$b=null;this.$d=null;this.$4=null;this.$7=null;this.$3=null;this.$c=null;this.$2=null;this.$5=null;this.$6=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;eR.call(this,null,null);this.presModelKey=new fv('hyc'.toString());this.$b=new it(this);this.$d=new je(this);this.$4=new bD(this);this.$7=new cv(this);this.$3=new bg(this,false);this.$c=new bg(this,true);this.$2=new bf(this);this.$5=new bW(this);this.$a=new gK;this.$6=new cn(this);this.set_serverFonts(null)};L.__typeName='tab.ApplicationModel';L.get_instance=function(){if(ss.isNullOrUndefined(L._instance)){L._instance=new L}return L._instance};global.tab.ApplicationModel=L;var M=function(){ss.makeGenericType(O,[Object,N]).call(this)};M.__typeName='tab.AssignCategoricalColorPaletteCmd';global.tab.AssignCategoricalColorPaletteCmd=M;var N=function(e){this.$c=null;this.$c=e};N.__typeName='tab.AssignCategoricalColorPaletteCmd$Response';global.tab.AssignCategoricalColorPaletteCmd$Response=N;var O=function(e,jt){var ju=function(){this.c={};this.$1$1=null;this.$1$2=false;this.$1$3=false;this.$1$4=null;this.$1$5=false;this.set_uiBlocking('none')};ss.registerGenericClassInstance(ju,O,[e,jt],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(jv){this.$1$1=jv},get_deferSuccess:function(){return this.$1$2},set_deferSuccess:function(jv){this.$1$2=jv},get_deferFailure:function(){return this.$1$3},set_deferFailure:function(jv){this.$1$3=jv},get_localWork:function(){return this.$1$4},set_localWork:function(jv){this.$1$4=jv},get_noExceptionDialog:function(){return this.$1$5},set_noExceptionDialog:function(jv){this.$1$5=jv},invoke:null,invoke$1:function(jv){jv.noExceptionDialog=this.get_noExceptionDialog();jv.preserveRootResult=true;var jw=$.Deferred();var jx=function(jz){jw.resolve(new jt(jz))};var jy=function(jz){jw.reject()};bF.SendCommand(new bt(this.get_uiBlocking(),this.get_localWork(),jv,(this.get_deferSuccess()?bF.$1(Object).call(null,$.Deferred().done(jx)):jx),(this.get_deferFailure()?bF.$0($.Deferred().fail(jy)):jy)));return jw.promise()}},function(){return null},function(){return[]});return ju};O.__typeName='tab.BaseCmd$2';ss.initGenericClass(O,a,2);global.tab.BaseCmd$2=O;var P=function(e,jt){this.defaultSessionErrorHandler=null;this.$e=null;this.$f=null;this.$h=null;this.$g=null;this.fileDownloadHelper=null;tab.Param.verifyValue(jt,'commonDialogProvider');this.$e=jt;var ju=tabBootstrap.BaseUrlFormatter.formatBaseUrl();if(ss.isValue(e)){this.$h=e}else{this.$h=tabBootstrap.BaseUrlFormatter.formatUrlRoot(ju)}if(ss.isValue(tsConfig.site_root)){this.$g=tsConfig.site_root}else{this.$g=ju}this.defaultSessionErrorHandler=new cA(jt,e);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){this.$f=new cZ([new cD,this.defaultSessionErrorHandler])}else{this.$f=new cZ([this.defaultSessionErrorHandler])}this.fileDownloadHelper=new di(jt,this)};P.__typeName='tab.BaseSession';P.add_stateChanged=function(e){P.$1$1=ss.delegateCombine(P.$1$1,e)};P.remove_stateChanged=function(e){P.$1$1=ss.delegateRemove(P.$1$1,e)};P.fireStateChanged=function(e){if(ss.isValue(P.$1$1)){P.$1$1(e)}};global.tab.BaseSession=P;var Q=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};Q.__typeName='tab.BrushingComputer';Q.$3=function(){return tab.Logger.lazyGetLogger(Q)};Q.createBrushingComputer=function(e,jt,ju,jv,jw){var jx=new Q;var jy=jt.get_vizDataModel();var jz=t.$2(e,jv,ju,jy,jv);for(var jA=0;jA<jv.length;jA++){var jB=jv[jA];if(jt.vizDataContainsDuplicateCaption(jB)){jx.$1=false;return jx}}var jC;if(jw){jC=eU.getVisualModels(L.get_instance())}else{jC={};var jD=G.getApplicableActions(jt.get_worksheetName(),'on-select','highlight');for(var jE=0;jE<jD.length;jE++){var jF=jD[jE];if(ss.isNullOrUndefined(jF.kDm)){continue}for(var jG=0;jG<jF.kDm.length;jG++){var jH=jF.kDm[jG];var jI=eU.getVisualModel(L.get_instance(),jH);jC[jH]=jI}}}var jJ=eU.findContentDashboard();var jK=_.keys(jC);for(var jL=0;jL<jK.length;jL++){var jM=jK[jL];var jN=jC[jM];if(ss.isNullOrUndefined(jN)){continue}var jO=jN.get_vizDataModel();jx.$5[jM]=t.$a(jz,jO);jx.$4[jM]=t.$9(jN.get_scenePresModel(),jz,jO);var jP=[];var jQ=new ss.ObjectEnumerator(Q.$2(jN));try{while(jQ.moveNext()){var jR=jQ.current();var jS=jR.value;var jT=t.$c(jN,jS);var jU=_.intersection(jT,jv);if(jU.length>0){var jV=t.$2(e,jv,ju,jy,jU);jP=jP.concat.apply(jP,t.$7(jV,jN,jS))}}}finally{jQ.dispose()}jx.$3[jM]=jP;var jW=eU.getModelsForViz(bj).call(null,jJ,jN);for(var jX=0;jX<jW.length;jX++){var jY=jW[jX];if(!jY.get_isHighlightEnabled()){continue}var jZ=t.$6(jz,jO,jY);if(!ss.keyExists(jx.$2,jN.get_worksheetName())){jx.$2[jN.get_worksheetName()]={}}jx.$2[jN.get_worksheetName()][Q.$0(jY.get_legendTypeEnum(),jY.get_legendNames())]=jZ}}return jx};Q.getTuplesAssociatedWithSelectedNodes=function(e,jt){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(L.get_instance().get_dataDictionary())){return[]}var ju=[];for(var jv=0;jv<jt.length;jv++){var jw=jt[jv];if(go.isCategoricalAndTupleAssociatedHeader(jw.ZHX,jw.wwF)){ju.push(jw)}}if(ju.length===0){return[]}var jx=t.$1(e.get_vizDataModel(),ju);var jy=Q.$1(jx,e);return jy};Q.computeFromTuples=function(e,jt,ju){var jv=new Q;for(var jw=0;jw<ju.length;jw++){var jx=ju[jw];if(ss.isNullOrUndefined(jx.kDm)){continue}var jy=bO.deserialize(jx.Yb$['eDX'.toString()],true);for(var jz=0;jz<jx.kDm.length;jz++){var jA=jx.kDm[jz];var jB=eU.getVisualModel(L.get_instance(),jA);if(ss.isNullOrUndefined(jB)){continue}var jC=jB.get_vizDataModel();if(ss.isNullOrUndefined(jC)){continue}if(Q.isSpecialDateTimeHighlighting(jy)){var jD=L.get_instance().get_dataDictionary();var jE=t.$0(e.get_vizDataModel(),jC,jD,jt);var jF=jE.item1;var jG=jE.item2;jv.$5[jA]=t.$b(jF,jG,jC,jD);jv.$3[jA]=t.$8(jF,jG,jB,jD);jv.$0(jB,e,jt,jy,jx.dMo02)}else{var jH=Q.getHighlightFieldCaptions(jy,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,jB)){jH=_.intersection(jH,jC.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty(jH)){continue}for(var jI=0;jI<jH.length;jI++){var jJ=jH[jI];if(e.vizDataContainsDuplicateCaption(jJ)){jv.$1=false;return jv}}var jK=t.$3(e.get_vizDataModel(),jt,jH);jv.$5[jA]=t.$a(jK,jC);var jL=[];var jM=Q.$2(jB);var jN=_.keys(jM);for(var jO=0;jO<jN.length;jO++){var jP=jN[jO];var jQ=jM[jP];var jR=t.$c(jB,jQ);var jS=_.intersection(jR,jH);if(jS.length>0){var jT=t.$3(e.get_vizDataModel(),jt,jS);jL=jL.concat.apply(jL,t.$7(jT,jB,jQ))}}jv.$3[jA]=jL;jv.$0(jB,e,jt,jy,jx.dMo02)}}}return jv};Q.$2=function(e){var jt={};var ju=e.get_sceneModel().get_visualListModels();var jv=new ss.ObjectEnumerator(ju);try{while(jv.moveNext()){var jw=jv.current();jt[jw.key]=jw.value.get_groupItemNodes()}}finally{jv.dispose()}var jx=jt['x-labels']||[];ss.arrayAddRange(jx,jt['bottom-axis']||[]);jt['x-labels']=jx;delete jt['bottom-axis'];return jt};Q.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var jt=e.commandParams['bFG'];return ss.isValue(jt)&&jt==='date-time'};Q.getHighlightFieldCaptions=function(e,jt,ju){var jv=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return jv}var jw=e.commandParams['oKr'];if(!ss.isNullOrUndefined(jw)){jv=JSON.parse(jw)}else{var jx=e.commandParams['bFG'];if(ss.isNullOrUndefined(jx)||jx!=='all'){}jv=jt}if(ss.isValue(ju)){jv=_.intersection(ju,jv)}return jv};Q.$0=function(e,jt){return'LegendType:'+e.toString()+' LegendNames:'+jt.join(';')};Q.$1=function(e,jt){var ju=[];if(ss.isNullOrUndefined(jt.get_vizDataModel())){return ju}for(var jv=0;jv<e.length;jv++){var jw=e[jv];ju=_.union(ju,t.$a(jw,jt.get_vizDataModel()))}return ju};global.tab.BrushingComputer=Q;var R=function(){ss.makeGenericType(O,[Object,S]).call(this)};R.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=R;var S=function(e){this.$c=null;this.$c=e};S.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=S;var T=function(){ss.makeGenericType(O,[Object,U]).call(this)};T.__typeName='tab.BuildMainMenuCmd';global.tab.BuildMainMenuCmd=T;var U=function(e){this.$c=null;this.$c=e};U.__typeName='tab.BuildMainMenuCmd$Response';global.tab.BuildMainMenuCmd$Response=U;var V=function(){ss.makeGenericType(O,[Object,W]).call(this)};V.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=V;var W=function(e){this.$c=null;this.$c=e};W.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=W;var X=function(){ss.makeGenericType(O,[Object,Y]).call(this)};X.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=X;var Y=function(e){this.$c=null;this.$c=e};Y.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=Y;var Z=function(e){this.$1=null;this.$0=null;this.$1=e};Z.__typeName='tab.CalcApplyResponse';Z.fromApplyCalculationResult=function(e,jt){var ju=(_.isString(e)?e:e['hfT'.toString()]);var jv=new Z(ju);switch(jv.get_resultType()){case'invalid-formula':{jv.set_errorMessage(jt.get_errorSummary());break}case'invalid-caption-for-new-calc':{jv.set_errorMessage(e['bYn'.toString()]);break}}return jv};global.tab.CalcApplyResponse=Z;var ba=function(){ss.makeGenericType(O,[Object,bb]).call(this)};ba.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=ba;var bb=function(e){this.$c=null;this.$c=e};bb.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=bb;var bc=function(e,jt){eR.call(this,e,new fv('id$'.toString()));this.swapPresModel(jt)};bc.__typeName='tab.CalculationAutoCompleteItemModel';global.tab.CalculationAutoCompleteItemModel=bc;var bd=function(e){this.$1=[];eR.call(this,null,new fv('eFp'.toString()));this.swapPresModel(e);var jt=e.CEw||[];for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];this.$1.push(new bc(this,jv))}};bd.__typeName='tab.CalculationAutoCompleteModel';global.tab.CalculationAutoCompleteModel=bd;var be=function(){};be.__typeName='tab.CalculationCommands';be.registerCommandInterceptors=function(){gs.addCommandInterceptor(be.$1,'tabdoc'.toString(),'edit-pill'.toString());gs.addCommandInterceptor(be.$2,'tabdoc'.toString(),'create-calc'.toString());gs.addCommandInterceptor(be.$3,'tabdoc'.toString(),'edit-calc'.toString())};be.$2=function(e){if(ss.keyExists(e.commandParams,'HBp02')){be.createCalculation(e.commandParams['UyO02'],e.commandParams['HBp02'])}else{be.createCalculation(e.commandParams['UyO02'])}return 1};be.$3=function(e){be.editCalculation(e.commandParams['HBp02']);return 1};be.$1=function(e){var jt=e.commandParams;be.editPill(jt['HBp02'],jt['Ene'],parseInt(jt['ZMD']),parseInt(jt['FsL']));return 1};be.createCalculation=function(e,jt){var ju={};ju['UyO02']=e;if(ss.isValue(jt)){ju['HBp02']=jt}var jv=bS.newCommand('create-calc',ju);bF.SendCommand(new bt('immediately',function(jw){var jx=jw.makeMutablePresModel(L.get_instance().get_calculationModel(),false);jx.UyO02=e;jx.MQQ='__temporary calc name__'},jv))};be.editCalculation=function(e){var jt={};jt['HBp02']=e;var ju=bS.newCommand('edit-calc',jt);var jv='';var jw='';var jx=L.get_instance().get_workbook().get_dataSchema().findDataSourceFromGlobalFieldName(e);if(ss.isValue(jx)){jw=jx.get_name();var jy=jx.findField(e);if(ss.isValue(jy)){jv=jy.get_displayName()}}bF.SendCommand(new bt('immediately',function(jz){var jA=jz.makeMutablePresModel(L.get_instance().get_calculationModel(),false);jA.HBp02=e;jA.QD=jv;jA.UyO02=jw;jA.MQQ='__temporary calc name__'},ju))};be.editPill=function(e,jt,ju,jv){var jw={};jw['HBp02']=e;jw['FsL']=jv;jw['Ene']=jt;jw['ZMD']=ju;var jx=bS.newCommand('edit-pill',jw);return be.$4(jt,jx,be.$0(jt,ju,jv))};be.createAdHocCalculation=function(e,jt,ju,jv){var jw={};jw['UyO02']=e;jw['FsL']=jv;jw['Ene']=jt;jw['ZMD']=ju;var jx=bS.newCommand('create-type-in-pill',jw);return be.$4(jt,jx,be.$0(jt,ju,jv))};be.$0=function(e,jt,ju){return function(jv){var jw=jv.makeMutablePresModel(L.get_instance().get_typeInPillCalculationModel(),false);jw.UyO02='__fake ds name__';jw.MQQ='__temporary calc name__';jw.Ene=e;jw.ZMD=jt;jw.FsL=ju}};be.$4=function(e,jt,ju){if(!be.isValidShelfForCalcs(e)){return $.Deferred().reject()}var jv=$.Deferred();var jw=jv.promise().pipe(function(jx){var jy=jx;return ss.isValue(jy)&&(ss.isNullOrUndefined(jy.GiX)||jy.GiX)});bF.SendCommand(new bt('immediately',ju,jt,bF.$1(Object).call(null,jv),function(){jv.reject()}));return jw};be.requestAutoCompleteInfo=function(e,jt,ju){var jv=$.Deferred();var jw=new ba;jw.c['XPP']=jt;jw.c['rsY']=ju|0;jw.c['Oss']={UyO02:e.get_dataSourceName(),HBp02:e.get_fieldName(),zZA:e.get_calculationContext(),oVH:e.get_useParameters()};jw.set_noExceptionDialog(true);jw.invoke().done(function(jx){jv.resolve(new bd(jx.$c['eFp']))}).fail(function(jx){jv.reject()});return jv.promise()};be.applyCalculation=function(e,jt,ju,jv,jw){var jx=$.Deferred();var jy=jx.promise().pipe(function(jC){return Z.fromApplyCalculationResult(jC,e)});var jz={};var jA;if(e.get_isAdhoc()){jA='apply-type-in-pill';jz['UyO02']=e.get_dataSourceName();jz['kMV']=ju;jz['PPe']=true;jz['fUO']=jw}else{jA='apply-calculation';jz['TkJ']=jt;jz['kMV']=ju;jz['PPe']=true}var jB=function(jC){if(e.get_isAdhoc()&&jw){var jD=jC.makeMutablePresModel(e,false);jD.QD=null;jD.MQQ=null;jD.UyO02=null}};bF.SendCommand(new bt('immediately',jB,bS.newCommand(jA,jz),bF.$1(Object).call(null,jx),function(jC){jx.reject()}));return jy};be.cancelCalculation=function(e){var jt=null;if(e.get_isAdhoc()){jt={};jt['nFA']=true}var ju=bS.newCommand('clear-calculation-model',jt);bF.SendCommand(new bt('none',function(jv){var jw=jv.makeMutablePresModel(e,false);jw.QD=null;jw.MQQ=null;jw.UyO02=null},ju))};be.validateCalculation=function(e,jt,ju){var jv=$.Deferred();var jw;var jx={};jx['kMV']=ju;jx['PPe']=true;if(e.get_isAdhoc()){jw='validate-type-in-pill';jx['UyO02']=e.get_dataSourceName()}else{jw='validate-formula';jx['TkJ']=jt}bF.SendCommand(new fM(bS.newCommand(jw,jx),'none',function(){jv.resolve()},function(){jv.reject()}));return jv.promise()};be.startDraggingText=function(e){var jt=$.Deferred();var ju={};ju['Gge']=tsConfig.current_sheet_name;ju['beN']=false;ju['gjO']=e;bF.SendCommand(new fM(bS.newCommand('get-drag-pres-model-for-text',ju),'none',bF.$1(Object).call(null,jt),function(){jt.reject()}));return jt};be.dropOnCalcEditor=function(e,jt,ju,jv,jw,jx){var jy=$.Deferred();var jz={};jz['HVp']=e;jz['iF$']=jt;jz['Qah']=ju;if(ss.isValue(jv)){jz['BQL']=jv}jz['PPe']=true;jz['zZA']=jw;if(ss.isValue(jx)){jz['gjO']=jx}var jA=new fM(bS.newCommand('drop-on-calc-editor',jz),'immediately',bF.$1(ss.Int32).call(null,jy),function(){jy.reject()});bF.SendCommand(jA);return jy.promise()};be.insertFunctionInFormula=function(e,jt,ju){var jv=$.Deferred();if(ss.isNullOrUndefined(ju)||ss.isNullOrUndefined(e)){return jv.reject()}var jw={};jw['RDA']=e;jw['Fpl']=jt;jw['H_i']=ju.DOV;jw['dPR']=ju.wje;var jx=new fM(bS.newCommand('insert-function-in-formula',jw),'immediately',bF.$1(Object).call(null,jv),function(){jv.reject()});bF.SendCommand(jx);return jv.promise()};be.isValidShelfForCalcs=function(e){return e==='columns-shelf'||e==='rows-shelf'||e==='encoding-shelf'||e==='measures-shelf'||(e==='filter-shelf'||e==='pages-shelf')&&tab.FeatureFlags.isEnabled('TypeInPillsExtraShelves')};global.tab.CalculationCommands=be;var bf=function(e){this.$2$1=null;eR.call(this,e,new fv('mu_'.toString()));this.pm={}};bf.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=bf;var bg=function(e,jt){this.$2=false;this.$2$1=null;eR.call(this,e,new fv((jt?'QjR':'Oss').toString()));this.pm={};this.$2=jt};bg.__typeName='tab.CalculationModel';global.tab.CalculationModel=bg;var bh=function(e){this.$2$1=null;eR.call(this,e,new fv('Yji'.toString()))};bh.__typeName='tab.CategoricalColorEditorDialogModel';global.tab.CategoricalColorEditorDialogModel=bh;var bi=function(e){eR.call(this,e,new fv('uPU'.toString()))};bi.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bi;var bj=function(e,jt,ju){this.$2=null;this.$2$1=null;this.$2$2=null;eR.call(this,e,new fv(jt));this.$2=ju};bj.__typeName='tab.CategoricalLegendModel';bj.$0=function(e,jt){var ju;switch(e){case'color':case'map':{ju=jt.DKF;break}case'size':{ju=jt.nJz;break}case'shape':{ju=jt.x_f;break}default:{return null}}return ju};global.tab.CategoricalLegendModel=bj;var bk=function(e){this.$1=null;this.$3$1=null;fB.call(this,e,new fv('kKA'.toString()));this.set_categoricalFilter(new bi(this))};bk.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=bk;var bl=function(){ss.makeGenericType(O,[Object,bm]).call(this)};bl.__typeName='tab.ChangeLineInterpolationCmd';global.tab.ChangeLineInterpolationCmd=bl;var bm=function(e){this.$c=null;this.$c=e};bm.__typeName='tab.ChangeLineInterpolationCmd$Response';global.tab.ChangeLineInterpolationCmd$Response=bm;var bn=function(){this.$0=null;this.$0=[]};bn.__typeName='tab.Changelist';global.tab.Changelist=bn;var bo=function(){};bo.__typeName='tab.ChangeType';global.tab.ChangeType=bo;var bp=function(){ss.makeGenericType(O,[Object,bq]).call(this)};bp.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bp;var bq=function(e){this.$c=null;this.$c=e};bq.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=bq;var br=function(){ss.makeGenericType(O,[Object,bs]).call(this)};br.__typeName='tab.ClearHighlightingCmd';global.tab.ClearHighlightingCmd=br;var bs=function(e){this.$c=null;this.$c=e};bs.__typeName='tab.ClearHighlightingCmd$Response';global.tab.ClearHighlightingCmd$Response=bs;var bt=function(e,jt,ju,jv,jw){this.doRemoteWork=null;this.doLocalWork=null;this.$5=null;this.$4=null;this.$2=null;this.$3=null;this.$1='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.$5=e;this.$4='remoteFirst';this.hasLocalComponent=ss.isValue(jt);this.hasRemoteComponent=ss.isValue(ju)&&!L.get_instance().get_isOffline();this.doLocalWork=jt;this.$2=new Array;if(this.hasRemoteComponent){this.$2.push(new bL(ju,jv,jw));this.$1=ju.commandName}this.doRemoteWork=ss.mkdel(this,this.$0)};bt.__typeName='tab.ClientCommand';global.tab.ClientCommand=bt;var bu=function(){};bu.__typeName='tab.ClipCase';global.tab.ClipCase=bu;var bv=function(){ss.makeGenericType(iZ,[Object,bw]).call(this)};bv.__typeName='tab.CloseAuthoringCmd';bv.get_commandName=function(){return'close-authoring'};global.tab.CloseAuthoringCmd=bv;var bw=function(e){this.$c=null;this.$c=e};bw.__typeName='tab.CloseAuthoringCmd$Response';global.tab.CloseAuthoringCmd$Response=bw;var bx=function(){ss.makeGenericType(O,[Object,by]).call(this)};bx.__typeName='tab.CloseDataAlertDialogCmd';global.tab.CloseDataAlertDialogCmd=bx;var by=function(e){this.$c=null;this.$c=e};by.__typeName='tab.CloseDataAlertDialogCmd$Response';global.tab.CloseDataAlertDialogCmd$Response=by;var bz=function(e){this.$2$1=null;eR.call(this,e,new fv('bjw'.toString()))};bz.__typeName='tab.CloseDataSourceErrorDialogModel';global.tab.CloseDataSourceErrorDialogModel=bz;var bA=function(){ss.makeGenericType(O,[Object,bB]).call(this)};bA.__typeName='tab.CloseRefLineEditorCmd';global.tab.CloseRefLineEditorCmd=bA;var bB=function(e){this.$c=null;this.$c=e};bB.__typeName='tab.CloseRefLineEditorCmd$Response';global.tab.CloseRefLineEditorCmd$Response=bB;var bC=function(e,jt,ju,jv){this.$6=0;this.$5=0;this.$3=0;this.$2=0;this.$7='';this.$4='';this.$6=e;this.$5=jt;this.$3=ju;this.$2=jv};bC.__typeName='tab.ColorModel';bC.fromArgbInt=function(e){var jt=(e&16711680)>>>16;var ju=(e&65280)>>>8;var jv=e&255;var jw=(e&4278190080)>>>24;return new bC(jt,ju,jv,jw/255)};bC.fromColorCode=function(e){var jt=bC.$b.cl[e];if(ss.isValue(jt)){return jt}var ju=function(jD){return Math.min(Math.max(jD,0),255)};var jv;var jw;var jx;var jy=1;var jz=bC.$7.exec(e);if(ss.isValue(jz)){jv=ju(parseInt(jz[1],16));jw=ju(parseInt(jz[2],16));jx=ju(parseInt(jz[3],16));var jA=new bC(jv,jw,jx,jy);bC.$b.add(e,jA);return jA}jz=bC.$8.exec(e);if(ss.isValue(jz)){jv=ju(parseInt(jz[1],10));jw=ju(parseInt(jz[2],10));jx=ju(parseInt(jz[3],10));var jB=new bC(jv,jw,jx,jy);jB.setRGBStr(e);bC.$b.add(e,jB);return jB}jz=bC.$9.exec(e);if(ss.isValue(jz)){jv=ju(parseInt(jz[1],10));jw=ju(parseInt(jz[2],10));jx=ju(parseInt(jz[3],10));jy=parseFloat(jz[4]);if(jy<=1){jy=jy*255}if(jy>255){jy=255}if(jy<0){jy=0}jy=jy/255;var jC=new bC(jv,jw,jx,jy);bC.$b.add(e,jC);return jC}throw new ss.Exception('Unknown color format: '+e)};bC.fromColorModelPlusAlpha=function(e,jt){return new bC(e.get_r(),e.get_g(),e.get_b(),jt)};bC.convertColorForCanvas=function(e){if(e.charCodeAt(3)===40){return e}bC.$2();var jt=bC.$a[e];if(ss.isValue(jt)){return jt}var ju=bC.fromColorCode(e);jt=ju.toString();return jt};bC.isEqual=function(e,jt,ju){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(jt)){return false}if(ju&&e.$2!==jt.$2){return false}return e.$6===jt.$6&&e.$5===jt.$5&&e.$3===jt.$3};bC.alphaBlend=function(e,jt){if(e.get_a()<1){var ju=bC.alphaToTransparency(e.get_a());var jv=jt.get_r()*ju+e.get_r()*e.get_a();var jw=jt.get_g()*ju+e.get_g()*e.get_a();var jx=jt.get_b()*ju+e.get_b()*e.get_a();return new bC(ss.Int32.trunc(jv),ss.Int32.trunc(jw),ss.Int32.trunc(jx),1)}else{return e}};bC.isFullyTransparent=function(e){return e.get_a()===0};bC.alphaComposite=function(e,jt){if(jt.get_a()>=0.999989986419678){return bC.alphaCompositeSolidDest(e,jt)}var ju=bC.alphaToTransparency(e.get_a());var jv=e.get_a()+jt.get_a()*ju;return new bC(bC.$0(e.get_r(),e.get_a(),jt.get_r(),jt.get_a(),jv),bC.$0(e.get_g(),e.get_a(),jt.get_g(),jt.get_a(),jv),bC.$0(e.get_b(),e.get_a(),jt.get_b(),jt.get_a(),jv),jv)};bC.alphaCompositeSolidDest=function(e,jt){return new bC(bC.$1(e.get_r(),e.get_a(),jt.get_r()),bC.$1(e.get_g(),e.get_a(),jt.get_g()),bC.$1(e.get_b(),e.get_a(),jt.get_b()),1)};bC.$5=function(e,jt){var ju=e.toString(16);while(ju.length<jt){ju='0'+ju}return ju};bC.$0=function(e,jt,ju,jv,jw){return Math.round((e*jt+ju*jv*bC.alphaToTransparency(jt))/jw)};bC.$1=function(e,jt,ju){return Math.round(e*jt+ju*bC.alphaToTransparency(jt))};bC.$4=function(e){if(e<=0.0404499992728233){return e/12.9200000762939}else{return Math.pow((e+0.0549999997019768)/1.05499994754791,2.40000009536743)}};bC.$3=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bC.$2=function(){if(ss.isValue(bC.$a)){return}bC.$a={};bC.$a['rgba(0,0,0,255)']='rgba(0,0,0,1)';bC.$a['rgba(0,0,0,0)']='rgba(0,0,0,0)';bC.$a['rgba(255,255,255,255)']='rgba(255,255,255,1)';bC.$a['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bC.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bC.alphaToTransparency=function(e){return bC.transparencyToAlpha(e)};global.tab.ColorModel=bC;var bD=function(e){eR.call(this,e,new fv('HMF'.toString()))};bD.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bD;var bE=function(e){this.$1$1=null;this.set_command(e)};bE.__typeName='tab.CommandBuilder';global.tab.CommandBuilder=bE;var bF=function(e,jt){this.$L=null;this.$M=null;this.$R=[];this.$10=new n;this.$Y=new iw;this.$P={};this.$T=[];this.$O=null;this.$Z=null;this.$11=null;this.$X=false;this.$W=null;this.$V=null;this.$S=null;this.$K=null;this.$U=[];this.$N=null;this.$J=false;this.$Q=[];this.$I=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.e2eAutomationTestHooks=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.$W=e;this.$M=jt;window.window.onerror=ss.mkdel(this,this.$o);this.$11=new jm(this.$M);this.$Z=new z(this.$W);var ju=new c(e);ju.$3('tabsrv'.toString(),'render-tooltip-server'.toString(),135);var jv=new bR;jv.commandNamespace='tabdoc'.toString();jv.commandName='highlight-items'.toString();var jw=new bR;jw.commandNamespace='tabdoc'.toString();jw.commandName='clear-highlighting'.toString();var jx=new bR;jx.commandNamespace='tabdoc'.toString();jx.commandName='highlight-items-by-pattern-match'.toString();var jy=[jv,jw,jx];ju.$2(jy,135);this.$L=ju;this.$L.add_commmandSucceeded(ss.mkdel(this,this.$h));this.$L.add_commandFailed(ss.mkdel(this,this.$g));this.$N=new cC(jt);this.$j();this.e2eAutomationTestHooks=new B(this.$11,ss.mkdel(this,function(){return ss.getKeyCount(this.$P)}),ss.mkdel(this,this.$k));this.$I=false};bF.__typeName='tab.CommandController';bF.add_sheetNameChanged=function(e){bF.$1$12=ss.delegateCombine(bF.$1$12,e)};bF.remove_sheetNameChanged=function(e){bF.$1$12=ss.delegateRemove(bF.$1$12,e)};bF.get_hasInstance=function(){return ss.isValue(bF._instance)};bF.$6=function(){return tab.Logger.lazyGetLogger(bF)};bF.isAllContentReady=function(){return(ss.isNullOrUndefined(bF._instance)?false:bF._instance.$I)};bF.create=function(e,jt){if(ss.isNullOrUndefined(bF._instance)){bF._instance=new bF(e,jt)}return bF._instance};bF.clearInstance=function(){bF._instance=null;window.window.onerror=null};bF.get=function(){if(!ss.isValue(bF._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return bF._instance};bF.handleBootstrapException=function(e,jt){if(bF.$8){return}var ju=new ss.StringBuilder;if(ss.isValue(e['name'])){ju.append(e['name']).append(': ')}ju.append(e.get_message());jt.showAlertDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,ju.toString()),tab.Strings.UnhandledExceptionTitle,true,null);bF.sendParentCompletedMessage();bF.$8=true};bF.sendParentCompletedMessage=function(){if(bF.$9){return}bF.$9=true;tab.BrowserSupport.doPostMessageWithContext('tableau.completed'.toString())};bF.$4=function(e){return e.get_isBlocking()};bF.SendCommand=function(e){var jt=bF.get();if(fx.get_progressiveLoadEnabled()){jt.$0(e)}jt.$10.$1(e);jt.$l()};bF.SendCommandWithDeferredReturn=function(e,jt){var ju=$.Deferred();var jv=bF.$1(Object).call(null,$.Deferred().done(function(jx){ju.resolve(jx)}));var jw=bF.$0($.Deferred().fail(function(jx){ju.reject()}));bF.SendCommand(fM.create(e,jt,jv,jw));return ju.promise()};bF.$1=function(e){return function(jt){return bF.DeferredSuccessHandler(jt)}};bF.DeferredSuccessHandler=function(e){return function(jt){var ju=bF.get();var jv=null;jv=function(){ju.remove_commandQueueComplete(jv);e.resolve(jt)};ju.add_commandQueueComplete(jv)}};bF.$0=function(e){return bF.deferredFailureHandler(e)};bF.deferredFailureHandler=function(e){return function(jt){var ju=bF.get();var jv=null;jv=function(){ju.remove_commandQueueComplete(jv);e.reject(jt)};ju.add_commandQueueComplete(jv)}};bF.$5=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='CLNTLD'.toString();var jt=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(jt)};bF.$3=function(e){var jt=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)){return null}if(!e.res.mmK.Jqz){return jt}var ju=e.res.mmK.HCq;var jv=_.keys(ju);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];var jy=ju[jx];if(ss.isNullOrUndefined(jy)||jy.jAM!=='flipboard'){continue}var jz=jr.getContent(jy,'XIo');return(ss.isNullOrUndefined(jz)?null:jz.P_I)}return null};bF.$2=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)||ss.isNullOrUndefined(e.res.mmK.IJE)){return''}return e.res.mmK.IJE.DDA};global.tab.CommandController=bF;var bG=function(){};bG.__typeName='tab.CommandControllerTelemetry';bG.$0=function(){if(fc.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){_.defer(function(){var e=window.screen;var jt=eU.getSheetInfoPresModel(L.get_instance(),tsConfig.current_sheet_name);fc.logEvent('Bootstrap',['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_device,'Version',tsConfig.version,'LocalRender',L.get_instance().get_isLocalRenderMode(),'Android',tab.BrowserSupport.get_isAndroid(),'Chrome',tab.BrowserSupport.get_isChrome(),'ChromeVersion',tab.BrowserSupport.get_googleChromeVersion(),'DevicePixelRatio',tab.BrowserSupport.get_devicePixelRatio(),'Edge',tab.BrowserSupport.get_isEdge(),'Firefox',tab.BrowserSupport.get_isFF(),'Geolocation',tab.BrowserSupport.get_isGeolocationSupported(),'IE',tab.BrowserSupport.get_isIE(),'IEVersion',tab.BrowserSupport.get_browserVersion(),'IOS',tab.BrowserSupport.get_isIos(),'IOSVersion',tab.BrowserSupport.get_iosVersion(),'Ipad',tab.BrowserSupport.get_isIpad(),'Mac',tab.BrowserSupport.get_isMac(),'Opera',tab.BrowserSupport.get_isOpera(),'Safari',tab.BrowserSupport.get_isSafari(),'SafariVersion',tab.BrowserSupport.get_safariVersion(),'Touch',tab.BrowserSupport.isTouch,'Windows',tab.BrowserSupport.get_isWindows(),'EmbedMode',tabBootstrap.Utility.get_embedMode(),'ScreenWidth',e.width,'ScreenHeight',e.height,'Dashboard',jt.WeS,'Published',jt.GJq,'Story',ss.isValue(jt.Jqz)&&jt.Jqz,'Worksheets',(ss.isValue(jt.ROW)?jt.ROW.length:0),'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)])})}};global.tab.CommandControllerTelemetry=bG;var bH=function(e,jt){this.succeeded=false;this.error=null;this.succeeded=e;this.error=jt};bH.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=bH;var bI=function(){};bI.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=bI;var bJ=function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}};bJ.__typeName='tab.CommandItemWrapper';bJ.create=function(e){if(!ss.isValue(e)){return null}var jt=e['zRu'.toString()];var ju=bO.deserialize(jt);if(ss.isValue(ju)&&jb.hasCommand(ju.commandName)){return new ja.$ctor1(e)}return new bJ(e)};global.tab.CommandItemWrapper=bJ;var bK=function(e){this.$0=null;this.$0={};var jt=ss.getEnumerator(e);try{while(jt.moveNext()){var ju=jt.current();this.$0[ju]='granted'}}finally{jt.dispose()}};bK.__typeName='tab.CommandPermission';global.tab.CommandPermission=bK;var bL=function(e,jt,ju){this.$0=null;this.$2=null;this.$1=null;this.$0=e;this.$2=jt;this.$1=ju};bL.__typeName='tab.CommandRecord';global.tab.CommandRecord=bL;var bM=function(){};bM.__typeName='tab.CommandRedirectRegistry';bM.checkpointRegistry=function(){var e=bM.$0;bM.$0=$.extend(false,{},e);return function(){bM.$0=e}};bM.registerHandler=function(e,jt){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(jt,'handler');if(ss.isNullOrUndefined(bM.$0)){bM.$0={}}bM.$0[e]=jt};bM.handleRedirect=function(e,jt){if(ss.isNullOrUndefined(bM.$0)||!ss.keyExists(bM.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var ju=bM.$0[e];return ju(jt)};global.tab.CommandRedirectRegistry=bM;var bN=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};bN.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=bN;var bO=function(){};bO.__typeName='tab.CommandSerializer';bO.$4=function(){return tab.Logger.lazyGetLogger(bO)};bO.buildDocCommandName=function(e){return bO.buildQualifiedCommandName('tabdoc'.toString(),e.toString())};bO.buildQualifiedCommandName=function(e,jt){return e+':'+jt};bO.deserialize=function(e,jt){var ju;jt=jt||false;if(jt){ju=bO.$6[e];if(ss.isValue(ju)){return ju}}var jv=new RegExp('^(\\w+):([\\w-]+)( ((.|\n)*))?$');var jw=jv.exec(e);if(ss.isNullOrUndefined(jw)||jw.length===0){return null}ju={commandNamespace:jw[1],commandName:jw[2]};bO.$1(ju,jw[4]);if(jt){bO.$0(e,ju)}return ju};bO.getCommandType=function(e){if(ss.keyExists(bO.$8,e.commandName)){return bO.$8[e.commandName]}else{return null}};bO.$0=function(e,jt){if(bO.$7.length>=15){var ju=bO.$7.shift();delete bO.$6[ju]}bO.$6[e]=jt;bO.$7.push(e)};bO.$1=function(e,jt){if(ss.isNullOrEmptyString(jt)){return}var ju=new ss.StringBuilder;var jv=new Array;for(var jw=jt.length-1;jw>=0;jw--){jv.push(jt.substr(jw,1))}while(jv.length>0){var jx=bO.$2(jv,ju);if(!ss.isValue(jx)){return}var jy=bO.$3(jv,ju);if(ss.isNullOrUndefined(jy)){return}if(jy==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(jx)]=jy}};bO.$2=function(e,jt){jt.clear();var ju=false;while(e.length>0){var jv=e.pop();switch(jv){case'=':{return jt.toString().trim()}case'-':{ju=true;break}default:{if(ju){jt.append(jv.toUpperCase());ju=false}else{jt.append(jv)}break}}}return null};bO.$3=function(e,jt){jt.clear();var ju=new Array;var jv=function(){return((ju.length>0)?ss.arrayPeekBack(ju):'')};var jw=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var jx=e.pop();var jy=true;switch(jx){case'\\':{if(jw){if(jv()!=='\\'){ju.push('\\');jy=false}else{ju.pop()}}break}case'"':{if(jv()==='\\'){ju.pop()}else if(jv()==='"'){ju.pop();if(ju.length===0){jy=false}}else{if(ju.length===0){jy=false}ju.push('"')}break}case'[':{if(jv()==='"'){}else{ju.push('[')}break}case']':{if(jv()==='"'){}else if(jv()!=='['){}else{ju.pop()}break}case'{':{if(jv()==='"'){}else{ju.push('{')}break}case'}':{if(jv()==='"'){}else if(jv()!=='{'){}else{ju.pop()}break}default:{if(jv()==='\\'){ju.pop()}break}}if(jy){jt.append(jx)}if(ju.length===0){return jt.toString()}}return null};global.tab.CommandSerializer=bO;var bP=function(e){this.$1=true;this.$2$1=null;eR.call(this,e,new fv('Jmx'.toString()))};bP.__typeName='tab.CommandsModel';global.tab.CommandsModel=bP;var bQ=function(){this.$0=null;this.$0={}};bQ.__typeName='tab.CommandsPresModelWrapper';bQ.$ctor1=function(e){this.$0=null;this.$0=e};bQ.create=function(e){if(!ss.isValue(e)){return null}return new bQ.$ctor1(e)};global.tab.CommandsPresModelWrapper=bQ;var bR=function(){this.commandNamespace='';this.commandName=''};bR.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=bR;var bS=function(){};bS.__typeName='tab.CommandUtils';bS.newCommand=function(e,jt){var ju={commandName:e,commandNamespace:'tabdoc'};if(ss.isValue(jt)){ju.commandParams=jt}return ju};bS.newCommand$1=function(e,jt){var ju={commandName:e,commandNamespace:'tabsrv'};if(ss.isValue(jt)){ju.commandParams=jt}return ju};bS.addVisualIdToCommand=function(e,jt){if(tab.MiscUtil.isNullOrEmpty$1(jt.Hna)){e['AVP']=jt.AVP;if(ss.isValue(jt.XwZ)&&jt.XwZ.toString().length>0){e['XwZ']=jt.XwZ}}else{e['J_M']=JSON.stringify(jt)}};bS.addStoryPointToCommand=function(e,jt){if(ss.isValue(jt.Hna)){e['Hna']=jt.Hna;e['WIZ']=jt.WIZ.toString();e['hVl']=jt.hVl.toString()}};bS.duplicateCommand=function(e){var jt={};$.extend(true,jt,e);return jt};bS.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();var jt=$.Deferred();jt.promise().pipe(function(ju){if(_.isObject(ju)&&'XAS'.toString()in ju){var jv=ju['XAS'.toString()];var jw=bM.handleRedirect(jv,ju);jw.pipe(function(){e.resolve(ju);return ju},function(){e.reject();return ju})}else{e.resolve(ju)}return ju},function(){e.reject();return null});return bF.$1(Object).call(null,jt)};bS.executeSimpleCommand$1=function(e){return function(jt,ju){var jv=$.Deferred();var jw=$.Deferred().done([function(jx){jv.resolve(jx)}]).fail([function(jx){jv.reject.apply(jv,null)}]);gs.executeServerCommand(bO.deserialize(gZ.create(jt).get_simpleCommand()),ju,bS.createCommandRedirectSuccessHandler(jw),function(jx){jv.reject.apply(jv,null)});return jv}};bS.executeSimpleCommand=function(e,jt){return bS.executeSimpleCommand$1(Object).call(null,e,jt)};global.tab.CommandUtils=bS;var bT=function(e,jt){this.$2=null;this.$1=null;this.$2=e;this.$1=jt};bT.__typeName='tab.CommentingServer';global.tab.CommentingServer=bT;var bU=function(){this.select=null;this.deselect=null;this.domain=null;this.select=[];this.deselect=[]};bU.__typeName='tab.CompiledChecklistChangelist';global.tab.CompiledChecklistChangelist=bU;var bV=function(){this.index=0;this.domain=null};bV.__typeName='tab.CompiledRadiolistChangelist';global.tab.CompiledRadiolistChangelist=bV;var bW=function(e){this.$1=null;this.$2=null;this.$2$1=null;eR.call(this,e,new fv('_Ja'.toString()));this.$1=new hz(this);this.$2=new hz(this);this.$2.get_tableCalcIdentifier().update({cMO:'secondary',HBp02:''})};bW.__typeName='tab.CompoundTableCalcModel';bW.$0=function(e,jt){if(ss.isValue(e)&&ss.isValue(e.qGT)&&e.qGT.length>jt){return e.qGT[jt]}return null};global.tab.CompoundTableCalcModel=bW;var bX=function(){ss.makeGenericType(O,[Object,bY]).call(this)};bX.__typeName='tab.CreateDataSourceFromFileUploadCmd';global.tab.CreateDataSourceFromFileUploadCmd=bX;var bY=function(e){this.$c=null;this.$c=e};bY.__typeName='tab.CreateDataSourceFromFileUploadCmd$Response';global.tab.CreateDataSourceFromFileUploadCmd$Response=bY;var bZ=function(e){this.$3=null;this.$2=null;this.$1=null;de.call(this,e)};bZ.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=bZ;var ca=function(e){this.$2=null;this.$1=null;de.call(this,e)};ca.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=ca;var cb=function(e){this.$1=null;de.call(this,e)};cb.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=cb;var cc=function(e){this.$3$1=null;ix.call(this,e,new fv('Wlk'.toString()))};cc.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=cc;var cd=function(e){this.$3=null;this.$3=e};cd.__typeName='tab.CustomizedViewSession';cd.buildUrl=function(e,jt){var ju=iV.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){ju.updateForCustomizedView(e)}else{ju.set_originalView(true)}ju.removeHash();if(jt){ju.removeAllQueryParams()}return ju.get_absoluteUri()};cd.$0=function(e){var jt=function(ju,jv,jw){if(!ss.isValue(e)){return}var jx=cd.$1(ju);e((ss.isValue(jx)?jx:(jw.toString()||'')))};return jt};cd.$1=function(e){if(ss.isValue(e.responseText)){try{var jt=JSON.parse(e.responseText);if('msg'in jt){return jt['msg']}}catch(ju){var e=ss.Exception.wrap(ju)}}return null};global.tab.CustomizedViewSession=cd;var ce=function(e){this.$3$1=null;this.$3$2=null;ix.call(this,e,new fv('eTk'.toString()));this.set_referenceModel(new hB(this))};ce.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=ce;var cf=function(){};cf.__typeName='tab.DashboardCommands';cf.dropSheetOnDashboard=function(e,jt,ju){var jv=bS.newCommand('drop-on-dashboard',null);jv.commandParams={};jv.commandParams['AVP']=e;jv.commandParams['$dg']=ss.coalesce(ju,false);jv.commandParams['XwZ']=tsConfig.current_sheet_name;jv.commandParams['jAM']='viz';jv.commandParams['cxk']={thj:jt.x|0,RAC:jt.y|0};return bF.SendCommandWithDeferredReturn(jv,'immediately')};cf.dropNewZoneObjectOnDashboard=function(e,jt,ju,jv,jw,jx){var jy=bS.newCommand('drop-on-dashboard',null);jy.commandParams={};jy.commandParams['$dg']=ss.coalesce(ju,false);jy.commandParams['XwZ']=tsConfig.current_sheet_name;jy.commandParams['jAM']=e;jy.commandParams['oAu']=jt;jy.commandParams['cxk']={thj:jv.x|0,RAC:jv.y|0};if(ss.isValue(jx)){jy.commandParams['XsN']=jx}if(ss.isValue(jw)){jy.commandParams['UfB']=jw}return bF.SendCommandWithDeferredReturn(jy,'immediately')};cf.setDashboardDeviceLayout=function(e){var jt=new gC;jt.c['XwZ']=tsConfig.current_sheet_name;jt.c['hWn']=e;jt.c['QXK']=true;jt.set_uiBlocking('immediately');jt.invoke()};cf.getSheetDragDropTargets=function(e){var jt=new dz;jt.c['XwZ']=tsConfig.current_sheet_name;jt.set_uiBlocking('none');var ju=jt;if(ss.isValue(e)){ju.c['BCp']=ss.unbox(e)|0}return ju.invoke()};cf.getThumbnailImage=function(e){var jt=new dN;jt.c['AVP']=e;jt.set_uiBlocking('none');var ju=jt;return ju.invoke()};cf.addNewObjectToDashboard=function(e,jt,ju,jv,jw){var jx=bS.newCommand('add-object-to-dashboard',null);jx.commandParams={};jx.commandParams['XwZ']=tsConfig.current_sheet_name;jx.commandParams['jAM']=e;jx.commandParams['oAu']=jt;jx.commandParams['$dg']=ss.coalesce(ju,false);if(ss.isValue(jw)){jx.commandParams['XsN']=jw}if(ss.isValue(jv)){jx.commandParams['UfB']=jv}bF.SendCommand(fM.create(jx,'immediately'))};cf.addSheetToDashboard=function(e,jt){var ju=bS.newCommand('add-sheet-to-dashboard',null);ju.commandParams={};ju.commandParams['AVP']=e;ju.commandParams['$dg']=ss.coalesce(jt,false);bF.SendCommand(fM.create(ju,'immediately'))};cf.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({OTU:'size-mode-auto',viO:'automatic'})}else{var jt=new dB;jt.c['XwZ']=tsConfig.current_sheet_name;jt.set_uiBlocking('none');jt.invoke().pipe(function(ju){return e.resolve(ju.$c['_yu'])},function(ju){return e.reject()})}return e.promise()};cf.setDashboardSizeFixed=function(e,jt,ju,jv,jw){var jx=function(jy){var jz=jy.makeMutablePresModel(jw,false);var jA={viO:'fixed',EUR:jv,rec:ju};jz._yu=jA};cf.$0(e,jt,'fixed',ju,jv,ju,jv,jx)};cf.setDashboardSizeAutomatic=function(e,jt){var ju=function(jv){var jw=jv.makeMutablePresModel(jt,false);var jx={viO:'automatic'};jw._yu=jx};cf.$0(e,'no','automatic',0,0,0,0,ju)};cf.setDashboardSizeRange=function(e,jt,ju,jv,jw,jx,jy){var jz=function(jA){var jB=jA.makeMutablePresModel(jy,false);var jC={viO:'range',McJ:ss.coalesce(jx,0),PiK:ss.coalesce(jw,0),pAn:ss.coalesce(jv,0),EVq:ss.coalesce(ju,0)};jB._yu=jC};cf.$0(e,jt,'range',ss.coalesce(ju,0),ss.coalesce(jv,0),ss.coalesce(jw,0),ss.coalesce(jx,0),jz)};cf.$0=function(e,jt,ju,jv,jw,jx,jy,jz){var jA=new gE;jA.c['gKD']=jt;jA.c['XwZ']=e;jA.c['EVq']=jv|0;jA.c['pAn']=jw|0;jA.c['PiK']=jx|0;jA.c['McJ']=jy|0;jA.c['viO']=ju;jA.set_localWork(jz);jA.set_uiBlocking('immediately');jA.invoke()};cf.showDashboardTitle=function(e){var jt=new gX;jt.c['XwZ']=e;jt.set_uiBlocking('immediately');var ju=jt;ju.invoke()};cf.getUrlSubstitutionParameters=function(){var e=new dR;e.c['XwZ']=tsConfig.current_sheet_name;return e.invoke()};cf.isWebZoneUrlValid=function(e){var jt=new et;jt.c['VvY']=e;return jt.invoke()};global.tab.DashboardCommands=cf;var cg=function(e){this.$e={};this.$9=null;this.$c=0;this.$a=null;this.$d=null;this.$f=null;this.$b=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.zonesModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.autoUpdate=false;this.invalid=false;eR.call(this,e,new fv('mmK'.toString()));this.invalid=false;this.zonesModel=new js(this);this.$c=0};cg.__typeName='tab.DashboardModel';cg.add_modifiedSheetsChanged=function(e){cg.$2$1=ss.delegateCombine(cg.$2$1,e)};cg.remove_modifiedSheetsChanged=function(e){cg.$2$1=ss.delegateRemove(cg.$2$1,e)};cg.$1=function(e,jt){var ju=e.length;var jv=new Set;for(var jw=0;jw<e.length;jw++){var jx=e[jw];var jy=jt[jx];var jz=[];if(!jy.get_selectionsModel().tupleSelection.isEmpty||jy.get_selectionsModel().get_brushVizForNodeSelection()){ss.arrayAddRange(jz,G.getApplicableActions(jx,'on-select','highlight'));ss.arrayAddRange(jz,G.getApplicableActions(jx,'explicitly','highlight'))}if(!jy.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(jz,G.getApplicableActions(jx,'on-hover','highlight'))}if(!tab.MiscUtil.isNullOrEmpty(jz)){var jA=q.$0(jx,jz,jy.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,jv,tab.SetUtilities.getValues(Object).call(null,jA));if(jv.size===ju){return jv}}}return jv};cg.$0=function(){if(!ss.staticEquals(cg.$2$1,null)){cg.$2$1()}};global.tab.DashboardModel=cg;var ch=function(){this.$1=false;eR.call(this,null,null);this.$1=false};ch.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=ch;var ci=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;eR.call(this,e,new fv('OJ$'.toString()))};ci.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=ci;var cj=function(e){this.$2$1=null;eR.call(this,e,new fv('_yu'.toString()))};cj.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=cj;var ck=function(){};ck.__typeName='tab.DashboardZoneCommands';ck.moveZone=function(e,jt,ju,jv){var jw=bS.newCommand('move-zone',null);jw.commandParams={};jw.commandParams['BCp']=e;jw.commandParams['$dg']=jv;jw.commandParams['XwZ']=tsConfig.current_sheet_name;jw.commandParams['cxk']={thj:jt.x|0,RAC:jt.y|0};jw.commandParams['ClZ']={thj:ju.x|0,RAC:ju.y|0};return bF.SendCommandWithDeferredReturn(jw,'immediately')};ck.hideZone=function(e){var jt=new dX;jt.c['XwZ']=tsConfig.current_sheet_name;jt.c['BCp']=e|0;jt.c['sPc']=false;jt.set_uiBlocking('immediately');jt.set_deferSuccess(true);return jt.invoke()};ck.selectZoneParent=function(e){var jt=new gp;jt.c['BCp']=e|0;jt.c['XwZ']=tsConfig.current_sheet_name;jt.invoke()};ck.getZoneResizeInfo=function(e,jt){var ju=new dF;ju.c['XwZ']=tsConfig.current_sheet_name;ju.c['thj']=e|0;ju.c['RAC']=jt|0;var jv=ju;return jv.invoke()};ck.resizeTiledZone=function(e,jt,ju,jv){var jw=new eX;jw.c['mjq']=e;jw.c['AxN']=jt|0;jw.c['TDP']=ju;jw.c['OAU']=jv;jw.set_uiBlocking('immediately');jw.invoke()};ck.resizeFreeFormZone=function(e,jt,ju,jv,jw){var jx=bS.newCommand('move-free-form-zone',null);jx.commandParams={};jx.commandParams['XwZ']=tsConfig.current_sheet_name;jx.commandParams['BCp']=e;jx.commandParams['thj']=jt|0;jx.commandParams['RAC']=ju|0;jx.commandParams['rec']=jv|0;jx.commandParams['EUR']=jw|0;return bF.SendCommandWithDeferredReturn(jx,'immediately')};ck.toggleZoneTitle=function(e){var jt=bS.newCommand('toggle-zone-title',null);jt.commandParams={};jt.commandParams['BCp']=e;jt.commandParams['XwZ']=tsConfig.current_sheet_name;bF.SendCommand(fM.create(jt,'immediately'))};ck.toggleFreeFormZone=function(e){var jt=bS.newCommand('toggle-freeform-zone',null);jt.commandParams={};jt.commandParams['BCp']=e;jt.commandParams['XwZ']=tsConfig.current_sheet_name;bF.SendCommand(fM.create(jt,'immediately'))};ck.editWebZoneUrl=function(e,jt){var ju=new cX;ju.c['XwZ']=tsConfig.current_sheet_name;ju.c['BCp']=e|0;ju.c['VvY']=jt;ju.set_uiBlocking('immediately');var jv=ju;jv.invoke()};ck.modifyZoneZOrder=function(e,jt,ju){var jv=bS.newCommand('modify-zone-z-order',null);jv.commandParams={};jv.commandParams['BCp']=e;jv.commandParams['bsv']=jt;if(ss.isValue(ju)){jv.commandParams['rsY']=ju}bF.SendCommand(fM.create(jv,'immediately'))};global.tab.DashboardZoneCommands=ck;var cl=function(){var e=[];e.push(iG.currentUser());cl.$ctor2.call(this,{},{},e);this.$3=1440};cl.__typeName='tab.DataAlert';cl.$ctor2=function(e,jt,ju){this.$4=null;this.$5=null;this.$3=0;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=false;this.$1$8=null;this.$2=e;this.$1=jt;this.set_recipients(ju)};cl.$ctor1=function(e){this.$4=null;this.$5=null;this.$3=0;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=false;this.$1$8=null;this.set_selectionCaption(e.R_X);this.set_measurePresModel(e.oFX);this.set_conditionPresModel({Fcc:e.Fcc,Aee:e.Aee,tbM02:e.tbM02});this.set_threshold(e.Aee);this.set_referenceLineSpecId(e.gFP);var jt=[];jt.push(iG.currentUser());this.set_recipients(jt)};global.tab.DataAlert=cl;var cm=function(){};cm.__typeName='tab.DataAlertCommands';cm.newDataAlert=function(e){(new hd).invoke().fail(function(){e()})};cm.updateDataAlert=function(e,jt){if(e.get_thresholdIsValid()&&ss.isValue(jt)){var ju=new iA;ju.c['gFP']=jt;ju.c['Aee']=e.get_conditionPresModel().Aee;ju.c['Fcc']=e.get_conditionPresModel().Fcc;ju.invoke().fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}};cm.closeDataAlertDialog=function(){(new bx).invoke().done(function(e){}).fail(function(){throw new ss.Exception('Failed to close the dialog')})};cm.tearDownReferenceLine=function(){jl.undo();jl.clearFuture()};global.tab.DataAlertCommands=cm;var cn=function(e){eR.call(this,e,new fv('GLi'.toString()))};cn.__typeName='tab.DataAlertDialogModel';global.tab.DataAlertDialogModel=cn;var co=function(e){this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;eR.call(this,e,null);this.$1=[]};co.__typeName='tab.DataConnectionAreaModel';global.tab.DataConnectionAreaModel=co;var cp=function(){};cp.__typeName='tab.DataConnectionCommands';cp.acceptConnectionVariables=function(e){var jt=new gI;jt.c['cmV02']=e;jt.set_uiBlocking('immediately');jt.invoke()};cp.editVariableByIndex=function(e,jt,ju,jv,jw,jx){var jy={};jy['cmV02']=e;jy['tLJ']=jt;jy['Ab$']=ju;jy['dJp']=jv;jy['esa']=jw;jy['fgO']=jx;bF.SendCommand(fM.create(bS.newCommand('set-variable-value-by-index',jy),'immediately'))};cp.editVariableByInput=function(e,jt,ju,jv,jw){var jx={};jx['cmV02']=e;jx['tLJ']=jt;jx['Ab$']=ju;jx['dJp']=jv;jx['vau']=jw;bF.SendCommand(fM.create(bS.newCommand('set-variable-value-shim',jx),'immediately'))};cp.addVariable=function(e,jt){var ju=$.Deferred();var jv={};jv['cmV02']=e;jv['tLJ']=jt;bF.SendCommand(fM.create(bS.newCommand('add-new-variable-value',jv),'immediately',bF.$1(ss.Int32).call(null,ju),function(jw){ju.reject()}));return ju.promise()};cp.deleteVariable=function(e,jt,ju,jv){var jw={};jw['cmV02']=e;jw['tLJ']=jt;jw['Ab$']=ju;bF.SendCommand(fM.create(bS.newCommand('delete-variable-value',jw),'immediately',function(jx){jv()}))};cp.openDataConnectionArea=function(){eR.nonWorldUpdate(function(e){L.get_instance().get_workbook().get_dataConnectionModel().update(e)})};cp.addPublishedDataSourceConnection=function(e,jt,ju){var jv=new H;jv.c['YnR']=e.get_repositoryUrl();jv.c['_Zu02']=e.get_name();jv.set_uiBlocking('immediatelySubtle');jv.invoke().fail(ju).done(function(jw){bF.SendCommand(new x(function(jx){L.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(jx.modelUpdateContext,jw.$c['UyO02'])}));jt()})};cp.setActiveConnectionName=function(e,jt){var ju={};ju['cmV02']=e;var jv='set-active-connection-name';var jw=bS.newCommand(jv,ju);jw.commandParams['cmV02']=e;var jx=null;jx=function(jy){jt.cmV02=e};bF.SendCommand(new bt('none',jx,jw))};global.tab.DataConnectionCommands=cp;var cq=function(e){this.$2=null;eR.call(this,e,new fv('_$p'.toString()))};cq.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=cq;var cr=function(e){eR.call(this,e,new fv('AlT'.toString(),1))};cr.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=cr;var cs=function(e,jt){this.$3=null;this.$2=null;eR.call(this,e,new fv(jt.toString()))};cs.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=cs;var ct=function(e){eR.call(this,e,new fv('mFS'.toString(),1))};ct.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=ct;var cu=function(e,jt){eR.call(this,e,new fv(jt.toString()))};cu.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=cu;var cv=function(e){this.$2=null;eR.call(this,e,new fv('vZU'.toString()))};cv.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=cv;var cw=function(e){this.$3=null;this.$2$1=null;eR.call(this,e,new fv('AEl'.toString()))};cw.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=cw;var cx=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.dataSources=null;this.currentBlendingFields=null;this.blendingFieldCandidates=null;eR.call(this,e,new fv('dJ$1'.toString()));this.dataSources=null};cx.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=cx;var cy=function(e,jt){this.$f=null;this.$d=null;this.$h=null;this.$l=null;this.$j=null;this.$g=null;this.$i=null;this.$e=null;this.$m=null;this.$k=0;this.$2$1=null;eR.call(this,e,new fv(jt,0));this.$f={};this.$g={};this.$d={};this.$e={};this.$h={};this.$i={};this.$l={};this.$m={};this.$j=[]};cy.__typeName='tab.DataSourceModel';cy.splitGlobalFieldName=function(e){return cy.$0(e).split('].[')};cy.$0=function(e){var jt=e;if(jt.length>=2&&jt.charCodeAt(0)===91&&jt.charCodeAt(jt.length-1)===93){return jt.substr(1,jt.length-2)}return jt};global.tab.DataSourceModel=cy;var cz=function(e){this.$1=null;eR.call(this,e,new fv('dhm'.toString()));this.$1={}};cz.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=cz;var cA=function(e,jt){this.$5=null;this.$6=null;this.$5=e;this.$6=jt};cA.__typeName='tab.DefaultSessionErrorHandler';global.tab.DefaultSessionErrorHandler=cA;var cB=function(){this.$1=false;this.$0=false};cB.__typeName='tab.DeferLayoutImpl';cB.get_instance=function(){if(ss.isNullOrUndefined(cB.$0)){cB.$0=new cB}return cB.$0};global.tab.DeferLayoutImpl=cB;var cC=function(e){this.$2=null;this.$3=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$2=e};cC.__typeName='tab.DeferredConnectionsCommandHandler';cC.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};cC.$0=function(e){var jt={};jt['exception']='DataSourceException';jt['name']=e.Fnn;jt['message']=e.zRk;jt['type']=e.ppl;jt['authoring']=tsConfig.is_authoring;jt['attributes']=e.uEl;var ju=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',tab.BrowserSupport.getOrigin(document.location),tsConfig.language);ju=ss.formatString('{0}path={1}',ju,encodeURIComponent(tsConfig.requestURI));ju=ss.formatString('{0}&attributes={1}',ju,encodeURIComponent(JSON.stringify(jt)));return ju};cC.$1=function(e){e=e.toLowerCase();var jt=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return jt};global.tab.DeferredConnectionsCommandHandler=cC;var cD=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};cD.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=cD;var cE=function(){this.$0=null;this.exceptionHandler=null};cE.__typeName='tab.DeferredModelEventHandler';global.tab.DeferredModelEventHandler=cE;var cF=function(e){this.$1=null;this.$2=null;this.$2$1=null;eR.call(this,e,new fv('N_b'.toString()));this.$1=[];this.$2=new k(new j(this))};cF.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=cF;var cG=function(e){this.$3$1=null;this.$3$2=null;ix.call(this,e,new fv('_fE'.toString()));this.set_referenceModel(new hB(this))};cG.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=cG;var cH=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;eR.call(this,e,new fv('jal1'.toString()));this.pm={};this.set_distributionPercentagesModel(new cI(this));this.set_distributionPercentilesModel(new cJ(this));this.set_distributionQuantilesModel(new cK(this));this.set_distributionStandardDeviationModel(new cL(this))};cH.__typeName='tab.DistributionModel';global.tab.DistributionModel=cH;var cI=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;eR.call(this,e,new fv('jih'.toString()));this.pm={};this.set_fieldPickerCombo(new df(this));this.set_validFormulaTypes([])};cI.__typeName='tab.DistributionPercentagesModel';global.tab.DistributionPercentagesModel=cI;var cJ=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;eR.call(this,e,new fv('nis'.toString()));this.pm={};this.set_percentileComboModel(new cW(this,'Omk'))};cJ.__typeName='tab.DistributionPercentilesModel';global.tab.DistributionPercentilesModel=cJ;var cK=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;eR.call(this,e,new fv('ptw'.toString()));this.pm={};this.set_distributionQuantilesCombo(new cW(this,'kRQ'))};cK.__typeName='tab.DistributionQuantilesModel';global.tab.DistributionQuantilesModel=cK;var cL=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;eR.call(this,e,new fv('ltu'.toString()));this.pm={}};cL.__typeName='tab.DistributionStandardDeviationModel';global.tab.DistributionStandardDeviationModel=cL;var cM=function(e,jt){this.fieldModel=null;this.encodingType=null;this.fieldModel=e;this.encodingType=jt};cM.__typeName='tab.DragToShowMeInfo';global.tab.DragToShowMeInfo=cM;var cN=function(e,jt,ju){this.infoList=[];this.isFromDataSchemaPane=false;this.isCopyDrag=false;this.isShiftDrag=false;this.isFromDataSchemaPane=e;this.isCopyDrag=jt;this.isShiftDrag=ju};cN.__typeName='tab.DragToShowMeInfoWrapper';global.tab.DragToShowMeInfoWrapper=cN;var cO=function(){};cO.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=cO;var cP=function(e){this.$1=null;de.call(this,e)};cP.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=cP;var cQ=function(){ss.makeGenericType(O,[Object,cR]).call(this)};cQ.__typeName='tab.DropReferenceLineOnFilterShelfCmd';global.tab.DropReferenceLineOnFilterShelfCmd=cQ;var cR=function(e){this.$c=null;this.$c=e};cR.__typeName='tab.DropReferenceLineOnFilterShelfCmd$Response';global.tab.DropReferenceLineOnFilterShelfCmd$Response=cR;var cS=function(){ss.makeGenericType(O,[Object,cT]).call(this)};cS.__typeName='tab.DropReferenceLineOnSchemaViewerCmd';global.tab.DropReferenceLineOnSchemaViewerCmd=cS;var cT=function(e){this.$c=null;this.$c=e};cT.__typeName='tab.DropReferenceLineOnSchemaViewerCmd$Response';global.tab.DropReferenceLineOnSchemaViewerCmd$Response=cT;var cU=function(){ss.makeGenericType(O,[Object,cV]).call(this)};cU.__typeName='tab.DropReferenceLineOnShelfCmd';global.tab.DropReferenceLineOnShelfCmd=cU;var cV=function(e){this.$c=null;this.$c=e};cV.__typeName='tab.DropReferenceLineOnShelfCmd$Response';global.tab.DropReferenceLineOnShelfCmd$Response=cV;var cW=function(e,jt){this.$2$1=null;eR.call(this,e,new fv(jt.toString()))};cW.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=cW;var cX=function(){ss.makeGenericType(O,[Object,cY]).call(this)};cX.__typeName='tab.EditWebZoneUrlCmd';global.tab.EditWebZoneUrlCmd=cX;var cY=function(e){this.$c=null;this.$c=e};cY.__typeName='tab.EditWebZoneUrlCmd$Response';global.tab.EditWebZoneUrlCmd$Response=cY;var cZ=function(e){this.$0=null;this.$0=e.slice(0)};cZ.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=cZ;var da=function(){};da.__typeName='tab.ExportServerCommands';da.exportImage=function(e,jt,ju,jv,jw){var jx={};if(ss.isValue(e)){jx['Gge']=e}jx['hVl']=jt;jx['PUt']=JSON.stringify(jv);var jy=jw.length;var jz=new Array(jy);for(var jA=0;jA<jy;jA++){var jB={};jB.thj=ss.round(jw[jA].x);jB.RAC=ss.round(jw[jA].y);jz[jA]=jB}jx['Pzc']=JSON.stringify(jz);var jC=bS.newCommand$1('png-export-server',jx);gs.executeServerCommand(jC,'immediately',function(jD){var jE=jD;var jF=bF.get().get_legacySession();jF.fileDownloadHelper.openDownload(jF.formatSessionTempfileReference(jE.uvn,true,true),ju)},null)};global.tab.ExportServerCommands=da;var db=function(){};db.__typeName='tab.FailureHandler';db.reportFailures=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var jt={};var ju=e[0].url;var jv=e[0].userAgent;var jw=0;for(var jx=0;jx<e.length;jx++){var jy=e[jx];jt['Error #'+jw.toString()]=db.postContentForStackTrace(jy);jw++}bF.get().get_legacySession().$7(ju,jv,jt)}};db.postContentForStackTrace=function(e){var jt=new ss.StringBuilder;jt.appendLine('name: '+e.name);jt.appendLine('message: '+e.message);jt.appendLine('error-mode: '+e.traceMode.toString());if(ss.isValue(e.locations)){jt.appendLine('stack:');for(var ju=0;ju<e.locations.length;ju++){var jv=e.locations[ju];if(ss.isNullOrUndefined(jv.url)&&ss.isNullOrUndefined(jv.lineNo)&&ss.isNullOrUndefined(jv.functionName)){continue}jt.appendLine();jt.append(jv.url+':'+jv.lineNo+','+jv.columnNo+' '+jv.functionName);if(ss.isValue(jv.context)&&jv.context.length>0){for(var jw=0;jw<jv.context.length;jw++){var jx=jv.context[jw];var jy=jx;if(jx.length>120){if(ss.isValue(jv.functionName)&&jx.indexOf(jv.functionName)>0){var jz=jx.indexOf(jv.functionName);var jA=Math.max(0,jz-60);var jB=Math.min(jA+120,jx.length-1);jy=jx.substring(jA,jB)}else{jy=jx.substr(0,120)}}jt.append('    '+jy.trim())}}}}return jt.toString()};db.dispose=function(){db.reportFailures();window.clearInterval(db.$2);db.$2=-1};global.tab.FailureHandler=db;var dc=function(e){this.fieldCol=null;de.call(this,e)};dc.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=dc;var dd=function(){};dd.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=dd;var de=function(e){eR.call(this,e,new fv('Dkx'.toString()))};de.__typeName='tab.FieldModel';global.tab.FieldModel=de;var df=function(e){this.$2$1=null;eR.call(this,e,new fv('TkR'.toString()))};df.__typeName='tab.FieldPickerComboModel';global.tab.FieldPickerComboModel=df;var dg=function(e){this.fieldName=null;this.fieldCaption=null;this.fieldSummary=null;this.isInPrimaryDataSource=false;this.isFieldParameter=false;this.isTableCalc=false;this.fieldName=e.HBp02;this.fieldCaption=e.OLk;this.fieldSummary=e.pDO;this.isInPrimaryDataSource=e.NZn;this.isFieldParameter=e.bTO;this.isTableCalc=e.trO};dg.__typeName='tab.FieldPickerFieldModel';global.tab.FieldPickerFieldModel=dg;var dh=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};dh.__typeName='tab.FifoCache';global.tab.FifoCache=dh;var di=function(e,jt){this.$2=null;this.$3=null;this.$2=e;this.$3=jt};di.__typeName='tab.FileDownloadHelper';global.tab.FileDownloadHelper=di;var dj=function(){};dj.__typeName='tab.FilterClientCommands';dj.setQuantitativeFilterRange=function(e,jt,ju,jv,jw){var jx=bS.newCommand('range-filter',{});bS.addVisualIdToCommand(jx.commandParams,e);jx.commandParams['lYz']=jt;if(ss.isValue(ju)){jx.commandParams['wuE']=ju.toString()}if(ss.isValue(jv)){jx.commandParams['UrU']=jv.toString()}jx.commandParams['$mT']=jw.toString();gs.executeServerCommand(jx,'immediately')};dj.setCategoricalFilterValues=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,e);jx['lYz']=jt;jx['CCe']=JSON.stringify(jv||[]);jx['Txq']=ju.toString();jx['jAj']=jw;gs.executeServerCommand(bS.newCommand('categorical-filter',jx),'immediately')};dj.setCategoricalFilterValuesByIndex=function(e,jt,ju,jv){if(!ss.isValue(ju)){ju='filter-replace'}if(!ss.isValue(jv)){jv=[]}var jw={};bS.addVisualIdToCommand(jw,e);jw['lYz']=jt;jw['UGd']=JSON.stringify(jv);jw['Txq']=ju.toString();gs.executeServerCommand(bS.newCommand('categorical-filter-by-index',jw),'immediately')};dj.modifyCategoricalFilterValues=function(e,jt,ju,jv,jw){if((!ss.isValue(ju)||ju.length===0)&&(!ss.isValue(jv)||jv.length===0)){return}var jx={};bS.addVisualIdToCommand(jx,e);jx['lYz']=jt;if(ss.isValue(ju)&&ju.length>0){jx['eob']=JSON.stringify(ju)}if(ss.isValue(jv)&&jv.length>0){jx['BkY']=JSON.stringify(jv)}jx['Txq']='filter-delta'.toString();if(jw){jx['AQ$']='filter-update-custom-domain'.toString()}gs.executeServerCommand(bS.newCommand('categorical-filter',jx),'immediately')};dj.modifyCategoricalFilterValuesByIndex=function(e,jt,ju,jv){if((!ss.isValue(ju)||ju.length===0)&&(!ss.isValue(jv)||jv.length===0)){return}var jw={};bS.addVisualIdToCommand(jw,e);jw['lYz']=jt;if(ss.isValue(ju)){jw['Vjd']=JSON.stringify(ju)}if(ss.isValue(jv)){jw['ob_']=JSON.stringify(jv)}jw['Txq']='filter-delta'.toString();gs.executeServerCommand(bS.newCommand('categorical-filter-by-index',jw),'immediately')};dj.setCategoricalQuickFilterMode=function(e,jt,ju){var jv={};bS.addVisualIdToCommand(jv,e);jv['etp']=ju.toString();jv['HBp02']=jt;gs.executeServerCommand(bS.newCommand('categorical-quick-filter-mode',jv),'immediately')};dj.setCategoricalQuickFilterDomain=function(e,jt,ju){var jv={};bS.addVisualIdToCommand(jv,e);jv['tWP']=ju.toString();jv['HBp02']=jt;gs.executeServerCommand(bS.newCommand('domain-quick-filter',jv),'immediately')};dj.setPatternFilterState=function(e,jt,ju){var jv={};bS.addVisualIdToCommand(jv,e);jv['QZc']=ju;jv['HBp02']=jt;gs.executeServerCommand(bS.newCommand('categorical-quick-filter-pattern',jv),'immediately')};dj.addManualFilterItems=function(e,jt,ju){var jv={Lox02:0,dMo02:''};var jw={tbM02:'cstring',KSc02:jv};var jx=ju['tuples'];var jy=[];for(var jz=0;jz<jx.length;jz++){var jA=jx[jz];jy.push(jA['d'])}jw.uBu02=jy;var jB={};bS.addVisualIdToCommand(jB,e);jB['xaM']=JSON.stringify(jw);jB['HBp02']=jt;gs.executeServerCommand(bS.newCommand('add-manual-items-to-filter',jB),'immediately')};dj.levelDrill=function(e,jt,ju,jv){var jw={};bS.addVisualIdToCommand(jw,e);if(tab.FeatureFlags.isEnabled('DrillUpWeb')){jw['jml']=jv.toString()}else{jw['LIP']=jv.toString()}jw['Ene']=ju.toString();jw['rsY']=jt.toString();gs.executeServerCommand(bS.newCommand('level-drill-up-down',jw),'immediately')};dj.updateCategoricalFilter=function(e){if(!L.get_instance().get_isLocalRenderMode()){return}var jt=function(){return true};var ju=function(jv,jw){var jx=iP.lookupAlias(jw,jv,L.get_instance().get_dataDictionary());return!e.includesValue(jx)};dj.$5(e.get_filterField(),e.get_targetSheets(),jt,ju,true)};dj.updateQuantitativeFilter=function(e){if(!L.get_instance().get_isLocalRenderMode()){return}var jt=function(){var jv=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var jw=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return jv&&jw};var ju=function(jv,jw){var jx=iP.lookupRawDataValue(jw,jv,L.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(jx)||jx==='%null%'){return false}if(jv.get_dataType()==='date'||jv.get_dataType()==='datetime'){var jy=tab.DateUtil.parsePresModelDate(jx);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(jy))}else{return!e.valueInRange(parseFloat(jx))}};dj.$5(e.get_filterField(),e.get_targetSheets(),jt,ju,false)};dj.applyFilter=function(e,jt,ju){var jv=e.get_vizDataModel();var jw=jv.getVizDataField(jt);var jx=function(jy){return ju(jw,jy)};return jw.tupleIdsThatPass(jx)};dj.doRelativeDateQuickFilter=function(e,jt,ju,jv,jw){var jx=dj.createDoRelativeDateQuickFilterParams(e,jt,ju,jv,jw);gs.executeServerCommand(bS.newCommand('relative-date-filter',jx),'immediately')};dj.doLevelHierarchialFilter=function(e,jt,ju,jv,jw){var jx=dj.$2(e,jt,ju,jv,jw);gs.executeServerCommand(bS.newCommand('hierarchical-filter',jx),'immediately')};dj.doMemberHierarchialFilter=function(e,jt,ju,jv,jw){var jx=dj.$3(e,jt,ju,jv,jw);gs.executeServerCommand(bS.newCommand('hierarchical-filter',jx),'immediately')};dj.doRangeHierarchialFilter=function(e,jt,ju,jv,jw){var jx=dj.$4(e,jt,ju,jv,jw);gs.executeServerCommand(bS.newCommand('hierarchical-filter',jx),'immediately')};dj.resetQuantitativeFilter=function(e,jt){for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=eU.getVisualModel(L.get_instance(),jv);if(ss.isNullOrUndefined(jw)){continue}if(dj.$0(e,jv)){var jx=[];jw.setFilteredTuples(e,jx);jw.setHiddenTuples(e,jx)}iN.validateVisualModel(jw)}};dj.createDoRelativeDateQuickFilterParams=function(e,jt,ju,jv,jw,jx,jy){var jz={};bS.addVisualIdToCommand(jz,e);jz['lYz']=jt;jz['JAO']=ju;jz['woa']=jv;if(jv==='lastn'||jv==='nextn'){jz['lZR']=jw}if(ss.isValue(jx)){jz['wNn']=jx}if(ss.isValue(jy)){jz['$mT']=jy}return jz};dj.$2=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,e);var jy={};jy['Wzq']=ju;jy['Gzj']=jv;jx['lYz']=jt;jx['LG_']=jy;jx['Txq']=jw;return jx};dj.$3=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,e);var jy={};jy['eob']=ju;jy['BkY']=jv;jx['lYz']=jt;jx['LG_']=jy;jx['Txq']=jw;return jx};dj.$4=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,e);var jy={};jy['Ni$']=ju;jy['yeE']=jv;jx['lYz']=jt;jx['LG_']=jy;jx['Txq']=jw;return jx};dj.$0=function(e,jt){var ju=eU.getVisualModel(L.get_instance(),jt);return dj.$1(ju,e)};dj.$1=function(e,jt){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(jt)}return false};dj.$5=function(e,jt,ju,jv,jw){var jx=new x(function(jy){for(var jz=0;jz<jt.length;jz++){var jA=jt[jz];var jB=eU.getVisualModel(L.get_instance(),jA);if(ss.isNullOrUndefined(jB)){continue}var jC=dj.$1(jB,e);if(!jC||!ju()||ss.isNullOrUndefined(jB.get_vizDataModel().getVizDataField(e))){if(!jw){eU.setVisualValidStateOnModel(jy,jB,false)}}else{var jD=[];jD=dj.applyFilter(jB,e,jv);jB.setFilteredTuples(e,jD);if(!jw){jB.setHiddenTuples(e,jD)}eU.setVisualValidStateOnModel(jy,jB,true)}}});jx.set_commandName((jw?'categorical-filter'.toString():'range-filter'.toString()));bF.SendCommand(jx)};global.tab.FilterClientCommands=dj;var dk=function(e){this.$1=null;this.$2$1=null;eR.call(this,e,new fv('XIo'.toString()));this.$1=new hh(this);if(tab.FeatureFlags.isEnabled('StoryPointCache')&&ss.isNullOrUndefined(dk.presModelCache)){dk.presModelCache=new hi}};dk.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=dk;var dl=function(e){this.$2$1=null;eR.call(this,e,new fv('lRq'.toString()))};dl.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=dl;var dm=function(){};dm.__typeName='tab.FloatingToolbarClientCommands';dm.setDefaultMapToolSelectionCommand=function(e){var jt=bS.newCommand('default-map-tool-selection',null);jt.commandParams={};jt.commandParams['DpY']=e;bF.SendCommand(new fM(jt,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=dm;var dn=function(e){this.$1=null;de.call(this,e)};dn.__typeName='tab.FolderModel';global.tab.FolderModel=dn;var dp=function(){this.$1$1=null;this.$1$2=null};dp.__typeName='tab.FontFamily';dp.$ctor1=function(e,jt){this.$1$1=null;this.$1$2=null;this.set_fontGroup(e);this.set_fonts(jt)};global.tab.FontFamily=dp;var dq=function(){};dq.__typeName='tab.FontNotificationUtil';dq.add_fontPropertiesIdentified=function(e){dq.$1$1=ss.delegateCombine(dq.$1$1,e)};dq.remove_fontPropertiesIdentified=function(e){dq.$1$1=ss.delegateRemove(dq.$1$1,e)};dq.add_allFontsFound=function(e){dq.$1$2=ss.delegateCombine(dq.$1$2,e)};dq.remove_allFontsFound=function(e){dq.$1$2=ss.delegateRemove(dq.$1$2,e)};dq.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var jt=new dV;var ju={VzB:'rOX',tOA:e.tOA};dq.$6(jt.extractFontFromPresModel(ju))};dq.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}dq.$6(dq.$3(e.xBc))};dq.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var jt={};for(var ju=0;ju<e.cJ$.length;ju++){var jv=e.cJ$[ju];var jw=dq.$3(jv.LSs);for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];dq.$1(jt,jy)}}return _.values(jt)};dq.notifyFontsFromUberTipDataPresModel=function(e){dq.$6(dq.getFontsFromUberTipDataPresModel(e))};dq.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}dq.$6(dq.$3(e.XjF))};dq.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var jt={};dq.$1(jt,dq.$4(e.ZBT));dq.$2(jt,e.XjF);dq.$6(_.values(jt))};dq.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var jt={};dq.$1(jt,dq.$4(e.mCc));dq.$1(jt,dq.$4(e.viL));dq.$1(jt,dq.$4(e._PQ));dq.$2(jt,e.XjF);dq.$6(_.values(jt))};dq.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}dq.$6(dq.$3(e.LSs))};dq.$3=function(e){var jt={};dq.$2(jt,e);return _.values(jt)};dq.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.sGS)){return new dr}var jt=new dr;jt.set_fontFamily(e.sGS);jt.set_weight(ss.coalesce(e.cjf,''));jt.set_style(ss.coalesce(e.BxQ,''));return jt};dq.notifyFontsFromTextStylePresModel=function(e){var jt=[];var ju=dq.$4(e);if(!ss.isNullOrEmptyString(ju.get_fontFamily())){jt.push(ju)}dq.$6(jt)};dq.notifyFontsFromPDMarksPresModel=function(e){if(ss.isValue(e)&&ss.isValue(e.Smu)){var jt=e.Smu;var ju=jt['font'];var jv=ju.uBu02.length;var jw={};for(var jx=0;jx<jv;jx++){dq.$0(jw,jt,jx)}if(ss.getKeyCount(jw)>0){dq.$6(_.values(jw))}}};dq.$1=function(e,jt){if(ss.isNullOrEmptyString(jt.get_fontFamily())){return}e[jt.get_hash()]=jt};dq.$2=function(e,jt){if(ss.isNullOrEmptyString(jt)){return}var ju=$(jt).find('[style]').addBack();for(var jv=0;jv<ju.length;jv++){var jw=ju[jv].style.fontFamily;var jx=ju[jv].style.fontWeight;if(ss.isNullOrEmptyString(jw)){continue}var jy=new dr;jy.set_fontFamily(jw);jy.set_weight(jx);dq.$1(e,jy)}};dq.$0=function(e,jt,ju){var jv='';var jw='';var jx='';if(ss.keyExists(jt,'font_style')&&parseInt(jt['font_style'].uBu02[ju].toString())===1){jw='italic'}if(ss.keyExists(jt,'font_weight')&&parseInt(jt['font_weight'].uBu02[ju].toString())===1){jv='bold'}if(ss.keyExists(jt,'font')){jx=jt['font'].uBu02[ju].toString()}if(ss.isNullOrEmptyString(jx)){return}var jy=new dr;jy.set_fontFamily(jx);jy.set_weight(jv);jy.set_style(jw);var jz=jy;dq.$1(e,jz)};dq.$6=function(e){if(!ss.staticEquals(dq.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){dq.$1$1(e)}};dq.$5=function(){if(!ss.staticEquals(dq.$1$2,null)){dq.$1$2()}};global.tab.FontNotificationUtil=dq;var dr=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};dr.__typeName='tab.FontProperties';global.tab.FontProperties=dr;var ds=function(){};ds.__typeName='tab.FormatCommands';ds.showFormatPane=function(){dt.get_formatPaneModel().set_isVisible(true)};ds.hideFormatPane=function(){dt.get_formatPaneModel().set_isVisible(false)};ds.showFormatQuickNumberMenu=function(){dt.get_formatQuickNumberMenuModel().set_isVisible(true)};ds.hideFormatQuickNumberMenu=function(){dt.get_formatQuickNumberMenuModel().set_isVisible(false)};ds.getFormatQuickNumberMenu=function(){return(new dH).invoke().done(function(e){if(ss.isValue(e.$c['qIE'])){eR.nonWorldUpdate(function(jt){dt.get_formatQuickNumberMenuModel().update(e.$c['qIE'],jt)})}})};global.tab.FormatCommands=ds;var dt=function(e){this.$3=null;this.$4=false;this.$3$1=null;dw.call(this,e)};dt.__typeName='tab.FormatContainerModel';dt.get_formatPaneModel=function(){return L.get_instance().get_workbook().get_formatPaneModel()};dt.get_formatQuickNumberMenuModel=function(){return L.get_instance().get_workbook().get_formatQuickNumberMenuModel()};global.tab.FormatContainerModel=dt;var du=function(e){dw.call(this,e)};du.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=du;var dv=function(){};dv.__typeName='tab.FormatItemExtensions';dv.hasPreview=function(e){return e==='compositeContainer'||e==='tabGroup'};global.tab.FormatItemExtensions=dv;var dw=function(e){this.$2$1=null;eR.call(this,e,new fv('Bbu'.toString()))};dw.__typeName='tab.FormatItemModel';dw.createModel=function(e,jt,ju){switch(jt.XHt){case'formatContainer':{var jv=new dt(e);jv.update(jt,ju);return jv}case'formatControl':{var jw=new du(e);jw.update(jt,ju);return jw}default:{return null}}};global.tab.FormatItemModel=dw;var dx=function(){ss.makeGenericType(O,[Object,dy]).call(this)};dx.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=dx;var dy=function(e){this.$c=null;this.$c=e};dy.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=dy;var dz=function(){ss.makeGenericType(O,[Object,dA]).call(this)};dz.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=dz;var dA=function(e){this.$c=null;this.$c=e};dA.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=dA;var dB=function(){ss.makeGenericType(O,[Object,dC]).call(this)};dB.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=dB;var dC=function(e){this.$c=null;this.$c=e};dC.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=dC;var dD=function(){ss.makeGenericType(O,[Object,dE]).call(this)};dD.__typeName='tab.GetDragPresModelCmd';global.tab.GetDragPresModelCmd=dD;var dE=function(e){this.$c=null;this.$c=e};dE.__typeName='tab.GetDragPresModelCmd$Response';global.tab.GetDragPresModelCmd$Response=dE;var dF=function(){ss.makeGenericType(O,[Object,dG]).call(this)};dF.__typeName='tab.GetDragZoneResizeCmd';global.tab.GetDragZoneResizeCmd=dF;var dG=function(e){this.$c=null;this.$c=e};dG.__typeName='tab.GetDragZoneResizeCmd$Response';global.tab.GetDragZoneResizeCmd$Response=dG;var dH=function(){ss.makeGenericType(O,[Object,dI]).call(this)};dH.__typeName='tab.GetFormatQuickNumberMenuPresModelCmd';global.tab.GetFormatQuickNumberMenuPresModelCmd=dH;var dI=function(e){this.$c=null;this.$c=e};dI.__typeName='tab.GetFormatQuickNumberMenuPresModelCmd$Response';global.tab.GetFormatQuickNumberMenuPresModelCmd$Response=dI;var dJ=function(){ss.makeGenericType(O,[Object,dK]).call(this)};dJ.__typeName='tab.GetRefLineDragInfoCmd';global.tab.GetRefLineDragInfoCmd=dJ;var dK=function(e){this.$c=null;this.$c=e};dK.__typeName='tab.GetRefLineDragInfoCmd$Response';global.tab.GetRefLineDragInfoCmd$Response=dK;var dL=function(){ss.makeGenericType(O,[Object,dM]).call(this)};dL.__typeName='tab.GetRefLineFormulaCmd';global.tab.GetRefLineFormulaCmd=dL;var dM=function(e){this.$c=null;this.$c=e};dM.__typeName='tab.GetRefLineFormulaCmd$Response';global.tab.GetRefLineFormulaCmd$Response=dM;var dN=function(){ss.makeGenericType(O,[Object,dO]).call(this)};dN.__typeName='tab.GetThumbnailCmd';global.tab.GetThumbnailCmd=dN;var dO=function(e){this.$c=null;this.$c=e};dO.__typeName='tab.GetThumbnailCmd$Response';global.tab.GetThumbnailCmd$Response=dO;var dP=function(){ss.makeGenericType(O,[Object,dQ]).call(this)};dP.__typeName='tab.GetTrendLineDragInfoCmd';global.tab.GetTrendLineDragInfoCmd=dP;var dQ=function(e){this.$c=null;this.$c=e};dQ.__typeName='tab.GetTrendLineDragInfoCmd$Response';global.tab.GetTrendLineDragInfoCmd$Response=dQ;var dR=function(){ss.makeGenericType(O,[Object,dS]).call(this)};dR.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=dR;var dS=function(e){this.$c=null;this.$c=e};dS.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=dS;var dT=function(){ss.makeGenericType(O,[Object,dU]).call(this)};dT.__typeName='tab.GetWebCategoricalColorDialogCmd';global.tab.GetWebCategoricalColorDialogCmd=dT;var dU=function(e){this.$c=null;this.$c=e};dU.__typeName='tab.GetWebCategoricalColorDialogCmd$Response';global.tab.GetWebCategoricalColorDialogCmd$Response=dU;var dV=function(){};dV.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=dV;var dW=function(e){dc.call(this,e)};dW.__typeName='tab.GroupModel';global.tab.GroupModel=dW;var dX=function(){ss.makeGenericType(O,[Object,dY]).call(this)};dX.__typeName='tab.HideZoneCmd';global.tab.HideZoneCmd=dX;var dY=function(e){this.$c=null;this.$c=e};dY.__typeName='tab.HideZoneCmd$Response';global.tab.HideZoneCmd$Response=dY;var dZ=function(){ss.makeGenericType(O,[Object,ea]).call(this)};dZ.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=dZ;var ea=function(e){this.$c=null;this.$c=e};ea.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=ea;var eb=function(){ss.makeGenericType(O,[Object,ec]).call(this)};eb.__typeName='tab.HighlightItemsCmd';global.tab.HighlightItemsCmd=eb;var ec=function(e){this.$c=null;this.$c=e};ec.__typeName='tab.HighlightItemsCmd$Response';global.tab.HighlightItemsCmd$Response=ec;var ed=function(){};ed.__typeName='tab.HistoryManager';ed.setInitialState=function(e){var jt=ed.$1(e,null);tab.HistoryUtil.replaceState(window.self,jt.associatedState,null,null)};ed.addToHistory=function(e,jt){var ju=ed.$1(e,jt);tab.HistoryUtil.pushState(window.self,ju.associatedState,null,null);return ju};ed.$1=function(e,jt){ed.$0();var ju={id:ed.$8,key:'_vql_state_'};var jv={onBack:e,onForward:jt,id:ed.$8,associatedState:ju};ed.$8++;ed.$5.set(jv.id,jv);ed.$7=ed.$8;return jv};ed.$0=function(){if(ed.$7<ed.$8){for(var e=ed.$7+1;e<=ed.$8;e++){ed.$5.delete(e)}}};ed.$3=function(e){if(ss.isNullOrUndefined(e)){return}var jt=e;if(ss.isNullOrUndefined(jt.state)||ss.isNullOrUndefined(jt.state.key)||jt.state.key!=='_vql_state_'){return}ed.$4(jt.state)};ed.$4=function(e){var jt=e.id<ed.$7;var ju=ed.$5.get(e.id);if(ss.isNullOrUndefined(ju)){return}ed.$2(jt,ju);ed.$7=e.id};ed.$2=function(e,jt){if(e){if(!ss.staticEquals(jt.onBack,null)){jt.onBack()}}else if(!ss.staticEquals(jt.onForward,null)){jt.onForward()}};global.tab.HistoryManager=ed;var ee=function(){ss.makeGenericType(O,[Object,ef]).call(this)};ee.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=ee;var ef=function(e){this.$c=null;this.$c=e};ef.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=ef;var eg=function(){};eg.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=eg;var eh=function(){};eh.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=eh;var ei=function(){};ei.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=ei;var ej=function(){};ej.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=ej;var ek=function(){};ek.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=ek;var el=function(){};el.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=el;var em=function(){};em.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=em;var en=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};en.__typeName='tab.ImageTileTracker';en.$0=function(){en.$2=en.$2||new en;return en.$2};en.$1=function(){return tab.Logger.lazyGetLogger(en)};en.incrementPendingCount=function(){en.$0().$1++};en.decrementPendingCount=function(){var e=en.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var jt=0;jt<e.$0.length;jt++){var ju=e.$0[jt];try{ju()}catch(jv){var e=ss.Exception.wrap(jv)}}en.reset()}}else{}};en.callWhenImagesLoaded=function(e){if(en.$0().$1===0){try{e()}catch(jt){var e=ss.Exception.wrap(jt)}}else{en.$0().$0.push(e)}};en.reset=function(){en.$2=null};global.tab.ImageTileTracker=en;var eo=function(e){this.$1=null;this.$2$1=null;eR.call(this,e,new fv('wBL'.toString()));this.$1=e.get_zone()};eo.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=eo;var ep=function(){};ep.__typeName='tab.IModelEventHandler';global.tab.IModelEventHandler=ep;var eq=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null};eq.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=eq;var er=function(){};er.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=er;var es=function(){};es.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=es;var et=function(){ss.makeGenericType(O,[Object,eu]).call(this)};et.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=et;var eu=function(e){this.$c=null;this.$c=e};eu.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=eu;var ev=function(e){this.$0=null;this.$0=e};ev.__typeName='tab.JsModuleConfigurationBuilder';global.tab.JsModuleConfigurationBuilder=ev;var ew=function(e,jt){this.moduleName=null;this.assemblyName=null;this.loadModuleOnDemand=false;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(jt,e);this.loadModuleOnDemand=true};ew.__typeName='tab.JsModuleInfo';global.tab.JsModuleInfo=ew;var ex=function(e,jt){this.$1=null;this.$2$1=null;eR.call(this,e,new fv('layer-encoding['+jt+']'));this.$1=new eP(this)};ex.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=ex;var ey=function(e,jt,ju){this.layoutid=null;P.call(this,e,ju);this.layoutid=jt};ey.__typeName='tab.LayoutSession';global.tab.LayoutSession=ey;var ez=function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]};ez.__typeName='tab.LayoutTreeItem';global.tab.LayoutTreeItem=ez;var eA=function(e){this.$5=null;this.$4=null;this.$2$1=null;this.rootNodes=null;eR.call(this,e,new fv('UcY'.toString()));this.$5={};this.$4={};this.rootNodes=[]};eA.__typeName='tab.LayoutTreeModel';eA.$0=function(e){var jt={};if(ss.isValue(e)){for(var ju=0;ju<e.length;ju++){var jv=e[ju];jt[jv.BCp]=new ez(jv)}}return jt};global.tab.LayoutTreeModel=eA;var eB=function(e,jt,ju,jv){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=jt;this.$2=ju;if(ss.isValue(jv)){this.$4=jv}else{this.$4=[]}};eB.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=eB;var eC=function(e,jt){eD.call(this,e,jt)};eC.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=eC;var eD=function(e,jt){this.$2$1=null;eR.call(this,e,new fv('filter['+jt.name.join('_')+']'));this.pm=jt};eD.__typeName='tab.LegacyFilterModel';eD.$1=function(e){if(ss.isValue(e)){var jt={t:e.t,v:e.v};tableau.format.isDateTimeWithNonMidnightTime(jt)}return false};eD.isQuantitativeTimestampFilter=function(e,jt,ju){var jv=eD.$1(jt)||eD.$1(ju);if(!jv&&ss.isValue(e)){if(ss.isValue(e.data)){jv=jv||eD.$1(e.data.min)||eD.$1(e.data.max)}if(!jv&&ss.isValue(e.range)){jv=jv||eD.$1(e.range.min)||eD.$1(e.range.max)}}return jv};eD.$0=function(e){return e.t==='t'||e.t==='d'};eD.isQuantitativeDateFilter=function(e,jt,ju){if(ss.isValue(jt)){return eD.$0(jt)}else if(ss.isValue(ju)){return eD.$0(ju)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return eD.$0(e.data.min)}else if(ss.isValue(e.data.max)){return eD.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return eD.$0(e.range.min)}else if(ss.isValue(e.range.max)){return eD.$0(e.range.max)}}}return false};eD.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};eD.timestampsWithSameDateOrNull=function(e){var jt=null;for(var ju=0;ju<e.length;ju++){var jv=e[ju];if(ss.isNullOrUndefined(jv)||jv.s==='n'||ss.isNullOrUndefined(jv.v)&&jv.t==='t'){continue}if(!eD.isNormalValue(jv)||jv.t!=='t'){return false}var jw=(ss.Nullable$1.ge(jv.v,0)?Math.floor(jv.v):Math.ceil(jv.v));if(ss.isValue(jt)&&jw!==jt){return false}jt=jw}return ss.isValue(jt)};global.tab.LegacyFilterModel=eD;var eE=function(e,jt){eD.call(this,e,jt)};eE.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=eE;var eF=function(e){this.$2$1=null;eR.call(this,e,new fv('KmA'.toString()))};eF.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=eF;var eG=function(e,jt){eD.call(this,e,jt)};eG.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=eG;var eH=function(e){this.$2=null;this.$3=null;this.$2$1=null;eR.call(this,e,new fv('quickFilterDisplay'))};eH.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=eH;var eI=function(e,jt){eD.call(this,e,jt)};eI.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=eI;var eJ=function(e,jt){this.$1=0;this.$0=0;fD.call(this);if(e<=jt){this.$1=e;this.$0=jt}else{this.$1=jt;this.$0=e}};eJ.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=eJ;var eK=function(e,jt,ju,jv){this.$1=null;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=jt;this.$3=ju;this.$2=jv};eK.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=eK;var eL=function(e,jt){var ju=function(jv){this.$0={};this.$2=new(ss.makeGenericType(i,[ss.makeGenericType(g,[e,jt])]));this.$1=0;this.$1=jv};ss.registerGenericClassInstance(ju,eL,[e,jt],{add:function(jv,jw){var jx=this.$0[jv];if(ss.isValue(jx)){this.delete$1(jv)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$4.$0.$0)}jx=new(ss.makeGenericType(h,[ss.makeGenericType(g,[e,jt])]))(new(ss.makeGenericType(g,[e,jt]))(jv,jw));this.$0[jv]=jx;this.$2.$0(jx)},get:function(jv){var jw=this.$0[jv];if(ss.isValue(jw)){this.$2.$1(jw);this.$2.$0(jw);return jw.$0.$1}return ss.getDefaultValue(jt)},has:function(jv){return ss.keyExists(this.$0,jv)},delete$1:function(jv){if(!this.has(jv)){return}var jw=this.$0[jv];delete this.$0[jv];this.$2.$1(jw)},clear:function(){var jv=_.keys(this.$0);for(var jw=0,jx=jv.length;jw<jx;jw++){this.delete$1(jv[jw])}}},function(){return null},function(){return[]});return ju};eL.__typeName='tab.LruCache$2';ss.initGenericClass(eL,a,2);global.tab.LruCache$2=eL;var eM=function(e){this.$2$1=null;eR.call(this,e,new fv('Du$'.toString()))};eM.__typeName='tab.MapScaleInfoModel';global.tab.MapScaleInfoModel=eM;var eN=function(e){this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;eR.call(this,e,new fv('RFX'.toString()));this.$3=new fC(this);this.$2=new eM(this)};eN.__typeName='tab.MapServerModel';global.tab.MapServerModel=eN;var eO=function(e){this.$3=[];this.$2=null;this.$2$1=null;eR.call(this,e,new fv('Inn'.toString()))};eO.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=eO;var eP=function(e){this.$2=null;this.$3=null;this.$2$1=null;eR.call(this,e,new fv('DOI'.toString()));this.$2=e};eP.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=eP;var eQ=function(){};eQ.__typeName='tab.MenuBarClientCommands';eQ.getMainMenu=function(e,jt){switch(e){case'file':case'data':case'worksheet':case'dashboard':case'map':case'format':{var ju=new T;ju.c['lQI']=tsConfig.is_mobile;ju.c['VIS']=e;ju.invoke().then(jt);break}default:{break}}};eQ.getAnalysisMainMenu=function(e,jt){var ju=new T;ju.c['VIS']='analysis';if(!ss.isNullOrEmptyString(jt)){ju.c['UyO02']=jt}ju.invoke().then(e)};global.tab.MenuBarClientCommands=eQ;var eR=function(e,jt){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=jt};eR.__typeName='tab.Model';eR.nonWorldUpdate=function(e){var jt=new cE;try{e({eventHandler:jt})}finally{if(ss.isValue(jt)){jt.dispose()}}};global.tab.Model=eR;var eS=function(e){var jt=function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(jt,eS,[e],{$2:function(ju){this.$1$1=ss.delegateCombine(this.$1$1,ju)},$3:function(ju){this.$1$1=ss.delegateRemove(this.$1$1,ju)},$6:function(ju){this.$1$2=ss.delegateCombine(this.$1$2,ju)},$7:function(ju){this.$1$2=ss.delegateRemove(this.$1$2,ju)},$4:function(ju){this.$1$3=ss.delegateCombine(this.$1$3,ju)},$5:function(ju){this.$1$3=ss.delegateRemove(this.$1$3,ju)},get_model:function(){return this.$1},set_model:function(ju){var jv=this.$1;this.$1=ju;if(!ss.referenceEquals(jv,this.$1)){if(ss.isValue(jv)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(jv)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(ju){this.$4(ju);if(ss.isValue(this.$1)){ju()}return this},removeModelChangedHandler:function(ju){this.$5(ju)},addEventBinding:function(ju,jv){this.$2(ju);if(ss.isValue(this.$1)){ju(this.$1)}this.$6(jv);return this},removeEventBinding:function(ju,jv){this.$3(ju);this.$7(jv);if(!ss.staticEquals(jv,null)&&ss.isValue(this.$1)){jv(this.$1)}},createChildModelHolder:function(ju){return function(jv){var jw=new(ss.makeGenericType(eS,[ju]));jw.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var jx=null;if(ss.isValue(this.get_model())){jx=jv(this.get_model())}jw.set_model(jx)})));this.$0.add$1(jw);return jw}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(eT,[e]))(this)}},function(){return null},function(){return[ss.IDisposable]});return jt};eS.__typeName='tab.ModelHolder$1';ss.initGenericClass(eS,a,1);global.tab.ModelHolder$1=eS;var eT=function(e){var jt=function(ju){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=ju};ss.registerGenericClassInstance(jt,eT,[e],{addModelChangedHandler:function(ju){this.$1.addModelChangedHandler(ju);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(ju)}));return this},addEventBinding:function(ju,jv){this.$1.addEventBinding(ju,jv);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(ju,jv)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return jt};eT.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(eT,a,1);global.tab.ModelHolderContext$1=eT;var eU=function(){};eU.__typeName='tab.ModelUtils';eU.getPendingZoneContentModel=function(e){if(!fx.get_progressiveLoadEnabled()){return null}var jt=(bF.get_hasInstance()?bF.get():null);if(ss.isNullOrUndefined(jt)||ss.isNullOrUndefined(jt.get_loader())){return null}return jt.get_loader().getPendingZoneContentModel(e)};eU.getViewSession=function(e){return eU.findContentDashboard().getViewSession(e)};eU.getModelsForViz=function(e){return function(jt,ju){var jv=[];if(ss.isValue(jt)){var jw=jt.get_zoneModels();for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];if(ss.isInstanceOfType(jy.get_model(),e)&&ss.referenceEquals(jy.get_worksheetName(),ju.get_worksheetName())){jv.push(jy.get_model())}}}return jv}};eU.getVisualModels=function(e){var jt=eU.findContentDashboard(e);return eU.getVisualModelsFromDashboard(jt)};eU.getVisualModelsFromDashboard=function(e){var jt={};if(ss.isNullOrUndefined(e)){return jt}var ju=e.get_zoneModels();for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=jw.get_visualModel();if(ss.isValue(jx)){jt[jw.get_worksheetName()]=jx}}if(fx.get_progressiveLoadEnabled()){var jy=(bF.get_hasInstance()?bF.get():null);if(ss.isValue(jy)&&ss.isValue(jy.get_loader())){var jz=jy.get_loader().getPendingVisuals();var jA=_.keys(jz);for(var jB=0;jB<jA.length;jB++){var jC=jA[jB];jt[jC]=jz[jC]}}}return jt};eU.getSheetInfoPresModel=function(e,jt){var ju=e.get_workbook();if(ss.isNullOrUndefined(ju)||ss.isNullOrUndefined(ju.get_sheetsInfo())){return null}var jv=ju.get_sheetsInfo();for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];if(ss.referenceEquals(jx.Gge,jt)){return jx}}return null};eU.getVisualModel=function(e,jt){var ju=null;var jv=eU.findContentDashboard(e);if(ss.isNullOrUndefined(jv)){return ju}var jw=jv.get_zoneModels();for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];var jz=jy.get_visualModel();if(ss.isValue(jz)){var jA=jy.get_worksheetName();if(ss.referenceEquals(jA,jt)){ju=jz;break}}}if(fx.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(ju)){var jB=(bF.get_hasInstance()?bF.get():null);if(ss.isValue(jB)&&ss.isValue(jB.get_loader())){ju=jB.get_loader().getPendingVisual(jt)}}return ju};eU.getVisualModelFromVisualId=function(e,jt){if(ss.isNullOrUndefined(jt)){jt=L.get_instance()}var ju=null;var jv=eU.findContentDashboard(jt);if(ss.isNullOrUndefined(jv)){return ju}var jw=jv.get_zoneModels();for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];var jz=jy.get_visualModel();if(ss.isValue(jz)){if(_.isEqual(jz.get_visualId(),e)){ju=jz;break}}}return ju};eU.getVisualId=function(e){return eU.getVisualModel(L.get_instance(),e).get_visualId()};eU.getFirstAvailableWebZoneName=function(e){var jt=null;var ju=eU.findContentDashboard(e);if(ss.isNullOrUndefined(ju)){return jt}var jv=ju.get_zoneModels();for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];if(jx.get_zoneType()==='web'){var jy=jx.get_zoneId();jt='frame_'+jy.toString();break}}return jt};eU.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===eU.findContentDashboard().get_activeZoneID()}case'worksheet':default:{return true}}};eU.getZoneIdForSheetName=function(e){var jt=eU.findContentDashboard();var ju=jt.get_zoneModels();for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(jw.get_zoneType()==='viz'&&ss.referenceEquals(jw.get_worksheetName(),e)){return jw.get_zoneId()}}return-1};eU.hasBorder=function(e){return ss.isValue(e)&&e.ysh1!=='bs-none'&&e.s$V!==0};eU.createFilterModel=function(e,jt){switch(jt.type){case'Q':{return new eG(e,jt)}case'H':{return new eE(e,jt)}case'C':{return new eC(e,jt)}case'RD':{return new eI(e,jt)}default:{return new eD(e,jt)}}};eU.findMatchingFilterModel=function(e,jt){var ju=jt.get_frame().param;return e.get_filterModels()[ju]};eU.setVisualValidStateOnModel=function(e,jt,ju){if(ss.isNullOrUndefined(jt)){return}jt.setIsVisualValid(ju,e.modelUpdateContext)};eU.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var jt=0;jt<e.length;jt++){var ju=e[jt];var jv=eU.getVisualModel(L.get_instance(),ju);if(ss.isValue(jv)){iN.invalidateVisualModel(jv)}}};eU.setVisualValidStateOnPresModel=function(e,jt){if(ss.isNullOrUndefined(jt)){return}e.makeMutablePresModel(jt,false).GiX=false};eU.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=L.get_instance()}return e.get_workbook().findContentDashboard()};eU.findActiveVisual=function(){var e=eU.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};eU.findActiveOrDefaultVisual=function(){var e=eU.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var jt=e.get_activeVisual();if(ss.isValue(jt)){return jt}var ju=e.get_zoneModels();for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(ss.isValue(jw.get_visualModel())){return jw.get_visualModel()}}return null};eU.reValidateVisualModels=function(e){var jt=eU.getVisualModels(L.get_instance());var ju=_.values(jt);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];jw.reValidate(e)}};eU.findActivePaneSpecId=function(){var e=eU.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};eU.hasAnyImpliedSelection=function(){var e=eU.getVisualModels(L.get_instance());var jt=_.keys(e);for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=e[jv];if(!jw.get_impliedSelectionModel().isEmpty){return true}}return false};eU.mergeMapPresModelDelta=function(e,jt){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(jt)){return}var ju=_.keys(e);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=jt[jw];if(typeof(jx)==='undefined'){jt[jw]=e[jw]}else if(jx===null){delete jt[jw]}}};global.tab.ModelUtils=eU;var eV=function(){};eV.__typeName='tab.ModuleManager';eV.$0=function(e,jt){return((jt.length===0)?ss.createInstance(e):ss.applyConstructor(e,jt))};eV.load=function(e){return function(jt){var ju=eV.load$1(ss.getTypeFullName(e),jt);return ju}};eV.load$1=function(e,jt){tab.Param.verifyString(e,'uniqueModuleName');eV.$1();var ju=eV.$3(e);if(ss.keyExists(eV.$c,ju.moduleName)){return eV.$c[ju.moduleName]}var jv=$.Deferred();eV.$c[ju.moduleName]=jv;eV.$7(Object).call(null,jv,ju.moduleName);var jw='tab.'+ju.assemblyName+'Factory';jv.always(function(){eV.$b.moduleLoaded()});eV.$b.loadRequested();if(ju.loadModuleOnDemand){eV.$5(Object).call(null,jt,ju,jw,jv)}else{var jx='vql'+ju.assemblyName.toLowerCase();var jy=ss.load(jx);var jz=eV.$0(ss.getType(jw,jy),jt);jv.resolve(jz)}return jv};eV.loadModulesSequentially=function(e,jt){var ju=0;eV.load$1(jt[ju],[]).done(function(){eV.$6(jt,e,ju+1)})};eV.register=function(e){return function(jt,ju){var jv='vql'+jt.toLowerCase();if(tsConfig.debugMode){eV.$8[jv]=jv+'.debug'}var jw=new ew(jt,ju);eV.$a[ss.getTypeFullName(e)]=jw;return new ev(jw)}};eV.registerRawJsModule=function(e,jt){if(tsConfig.debugMode){eV.$8[e]=jt}var ju=new ew(e,null);eV.$a[jt]=ju;return(new ev(ju)).andMarkAsRawJavaScriptModule()};eV.registerModulesLoadedCallback=function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}eV.$b.registerModulesLoadedCallback(e)};eV.$5=function(e){return function(jt,ju,jv,jw){var jx=ju.moduleName.toLowerCase();if(!ju.isRawJavaScriptModule){jx='vql'+jx}var jy=window.performance.now();var jz={};jz['d']='MDLOAD';jz['p']=ju.moduleName;requirejs([jx],function(jA){var jB=ss.getDefaultValue(e);if(!ju.isRawJavaScriptModule){var jC=ss.load(jx);jB=eV.$0(ss.getType(jv,jC),jt)}else if(ju.shouldExportResult){if(typeof(window.self[ju.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+ju.exportResultName)}window.self[ju.exportResultName]=jA}var jD=window.performance.now();jz['t']=tabBootstrap.MetricsController.getTiming();jz['e']=jD-jy;var jE=new tabBootstrap.MetricsEvent('gen',15,jz);tabBootstrap.MetricsController.logEvent(jE);jw.resolve(jB)},function(jA){eV.$4(e).call(null,jA,jw)})}};eV.$6=function(e,jt,ju){if(ju>=e.length){jt();return}eV.load$1(e[ju],[]).done(function(){eV.$6(e,jt,ju+1)})};eV.$1=function(){if(eV.$d){return}eV.$d=true;requirejs.config({baseUrl:tsConfig.external_static_asset_prefix+'/javascripts',map:ss.mkdict(['*',eV.$8])})};eV.$3=function(e){var jt=eV.$a[e];if(ss.isNullOrUndefined(jt)){throw new ss.Exception('Unknown module: '+e)}return jt};eV.$4=function(e){return function(jt,ju){var jv=eV.$2(jt);var jw=new ss.Exception(jv);ju.reject(jw)}};eV.$2=function(e){var jt=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var ju=e.requireModules.join(',');jt+='; Modules='+ju}if(!ss.isNullOrEmptyString(e.requireType)){jt+='; RequireType='+e.requireType}return jt};eV.$7=function(e){return function(jt,ju){jt.fail(function(jv){var jw=jv;delete eV.$c[ju];eV.reportException(jw)})}};eV.reportException=function(e){throw e};global.tab.ModuleManager=eV;var eW=function(){this.$3=0;this.$2=[]};eW.__typeName='tab.ModuleTracker';global.tab.ModuleTracker=eW;var eX=function(){ss.makeGenericType(O,[Object,eY]).call(this)};eX.__typeName='tab.MoveDashboardEdgeCmd';global.tab.MoveDashboardEdgeCmd=eX;var eY=function(e){this.$c=null;this.$c=e};eY.__typeName='tab.MoveDashboardEdgeCmd$Response';global.tab.MoveDashboardEdgeCmd$Response=eY;var eZ=function(){de.call(this,null);var e={};e.HBp02='';this.swapAndCopyPresModel(e)};eZ.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=eZ;var fa=function(){};fa.__typeName='tab.NoopModelEventsHandler';fa.get_noopContext=function(){return fa.$0.value()};global.tab.NoopModelEventsHandler=fa;var fb=function(e){this.$2=[];this.$3=null;this.$1=null;this.$1=e;L.get_instance().registerNotificationHandler(e,ss.mkdel(this,this.$0))};fb.__typeName='tab.NotificationForwarder';global.tab.NotificationForwarder=fb;var fc=function(){this.$b=null;this.$4=null;this.$7=null;this.$a=null;this.$5='';this.$8='';this.$c='';this.$d='';this.$e='';this.$f='';this.$9=null;this.$6=null};fc.__typeName='tab.OnlineAnalyticsClient';fc.add_onLogEvent=function(e){fc.$1$1=ss.delegateCombine(fc.$1$1,e)};fc.remove_onLogEvent=function(e){fc.$1$1=ss.delegateRemove(fc.$1$1,e)};fc.get_telemetryEnabled=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest};fc.$0=function(){if(ss.isNullOrUndefined(fc.$2)){eV.registerRawJsModule('analytics-client.min','analytics-client').andExportResultAs('AnalyticsClient');fc.$2=new fc}return fc.$2};fc.logEvent=function(e,jt){if(fc.get_telemetryEnabled()){fc.$0().$3(e,ss.mkdict(jt))}};global.tab.OnlineAnalyticsClient=fc;var fd=function(){};fd.__typeName='tab.OrderClause';fd.orderFieldFromString=function(e){try{return e}catch(jt){return'unknown'}};global.tab.OrderClause=fd;var fe=function(e){this.$2=null;this.$1=null;this.$2$1=null;eR.call(this,e,new fv('cfW'.toString()));this.$2=e.get_zone()};fe.__typeName='tab.PageModel';global.tab.PageModel=fe;var ff=function(e){var jt=function(){};ss.registerGenericClassInstance(jt,ff,[e],{},function(){return null},function(){return[]});return jt};ff.__typeName='tab.PageOfItem$1';ss.initGenericClass(ff,a,1);global.tab.PageOfItem$1=ff;var fg=function(){};fg.__typeName='tab.PageServerCommands';fg.changePage=function(e,jt){var ju=fg.$0(e,jt);gs.executeServerCommand(bS.newCommand('change-page',ju),'immediately')};fg.syncedChangePage=function(e,jt,ju,jv){var jw=fg.$1(jt,ju,jv);var jx=bS.newCommand$1('synced-change-page-server',jw);var jy=new bt((tab.FeatureFlags.isEnabled('PageCardImprovements')?'none':'immediately'),function(jz){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){var jA=jz.makeMutablePresModel(e,false);jA.f_c=jv;var jB=eU.getVisualModel(L.get_instance(),jt.AVP);var jC=jB.get_sceneModel();var jD=jz.makeMutablePresModel(jC,false);jD.f_c=jv;for(var jE=0;jE<jD.HUq.length;jE++){var jF=jD.HUq[jE];for(var jG=0;jG<jF.MdI.length;jG++){var jH=jF.MdI[jG];if(ss.isValue(jH.SgS)){var jI=jH.SgS.cPa[jv*2];var jJ=jH.SgS.cPa[jv*2+1];jH.SgS.QNi=jI;jH.SgS.sDT=jJ}}}var jK=jB.get_labelsModel();if(ss.isValue(jK)){var jL=jz.makeMutablePresModel(jK,false);jL.f_c=jv;for(var jM=0;jM<jL.HUq.length;jM++){var jN=jL.HUq[jM];for(var jO=0;jO<jN.MdI.length;jO++){var jP=jN.MdI[jO];if(ss.isValue(jP.SgS)){var jQ=jP.SgS.cPa[jv*2];var jR=jP.SgS.cPa[jv*2+1];jP.SgS.QNi=jQ;jP.SgS.sDT=jR}}}}}},jx);bF.SendCommand(jy)};fg.toggleTrails=function(e){var jt=fg.$2(e);gs.executeServerCommand(bS.newCommand('page-toggle-trails',jt),'afterDelay')};fg.$0=function(e,jt){var ju={};bS.addVisualIdToCommand(ju,jt);ju['Onw']=e;return ju};fg.$1=function(e,jt,ju){var jv={};bS.addVisualIdToCommand(jv,e);jv['BCp']=jt;jv['Onw']=ju;return jv};fg.$2=function(e){var jt={};bS.addVisualIdToCommand(jt,e);return jt};global.tab.PageServerCommands=fg;var fh=function(){};fh.__typeName='tab.PaneClientCommands';fh.setPanePrimitive=function(e,jt){var ju=bS.newCommand('set-primitive',null);ju.commandParams=fh.$0(e);ju.commandParams['WnZ']=jt.toString();bF.SendCommand(new fM(ju,'immediately',null,null))};fh.getDefaultShapeType=function(e,jt){var ju=bS.newCommand('get-default-shape',null);ju.commandParams=fh.$0(e);bF.SendCommand(new fM(ju,'none',function(jv){jt((_.isString(jv)?gL.fromString(jv.toString()):null))},function(){jt(null)}))};fh.setDefaultShapeType=function(e,jt){var ju=bS.newCommand('set-default-shape',null);ju.commandParams=fh.$0(e);ju.commandParams['XRK']=fh.$9(jt);var jv=new bt(((L.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(jw){fh.$4(e,jt,jw)},ju,null,null);bF.SendCommand(jv)};fh.setShowMarkLabels=function(e,jt){var ju=bS.newCommand('toggle-mark-labels',null);ju.commandParams={};ju.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(jt)&&jt.get_id()>0){ju.commandParams['FsL']=jt.get_id().toString()}var jv=new bt((e?'immediately':'none'),function(jw){fh.$8(e,jw,(ss.isValue(jt)?jt.get_paneDescriptorKeys():null))},ju);bF.SendCommand(jv)};fh.toggleMarkLabels=function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){}var jt=bS.newCommand('toggle-mark-labels',null);jt.commandParams={};jt.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){jt.commandParams['FsL']=e.get_id().toString()}bF.SendCommand(new fM(jt,'immediately',null,null))};fh.setMarkSize=function(e,jt){var ju=bS.newCommand('set-mark-size',null);ju.commandParams={};ju.commandParams=fh.$0(e);ju.commandParams['_Tb']=jt.toString();bF.SendCommand(new fM(ju,'immediately',null,null))};fh.resetTooltip=function(e){var jt=bS.newCommand('reset-tooltip',null);jt.commandParams={};jt.commandParams['AVP']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){jt.commandParams['FsL']=e.get_id().toString()}bF.SendCommand(new fM(jt,'immediately',null,null))};fh.getDefaultColor=function(e,jt){var ju=bS.newCommand('get-default-color',null);ju.commandParams=fh.$0(e);bF.SendCommand(new fM(ju,'none',function(jv){jt((_.isString(jv)?bC.fromColorCode(jv.toString()):null))},function(){jt(null)}))};fh.setDefaultColor=function(e,jt){var ju=bS.newCommand('set-default-color',null);ju.commandParams=fh.$0(e);ju.commandParams['DFg']=jt.toRgba255();var jv=new bt(((L.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(jw){fh.$3(e,jt,jw)},ju);bF.SendCommand(jv)};fh.setSteppedColor=function(e,jt){var ju=bS.newCommand('set-quantitative-color',null);ju.commandParams=fh.$0(e);ju.commandParams['uUG']=jt.toString();bF.SendCommand(new fM(ju,'immediately',null,null))};fh.reverseColor=function(e,jt){var ju=bS.newCommand('set-quantitative-color',null);ju.commandParams=fh.$0(e);ju.commandParams['mss']=jt.toString();bF.SendCommand(new fM(ju,'immediately',null,null))};fh.setTotalsInEncoding=function(e,jt){var ju=bS.newCommand('set-quantitative-color',null);ju.commandParams=fh.$0(e);ju.commandParams['HKv']=jt.toString();bF.SendCommand(new fM(ju,'immediately',null,null))};fh.setQuantColorPalette=function(e,jt){var ju=bS.newCommand('set-quantitative-color',null);ju.commandParams=fh.$0(e);ju.commandParams['Uka']=jt;bF.SendCommand(new fM(ju,'immediately',null,null))};fh.setCatColorPalette=function(e,jt){var ju=bS.newCommand('set-categorical-color',null);ju.commandParams=fh.$0(e);ju.commandParams['Uka']=jt;var jv=true;ju.commandParams['sNb']=jv.toString();bF.SendCommand(new fM(ju,'immediately',null,null))};fh.setColorAlphaLevel=function(e,jt){if(isNaN(jt)){return}var ju=bS.newCommand('change-alpha-level',null);ju.commandParams=fh.$0(e);ju.commandParams['U$I']=jt.toString();var jv=new bt(((L.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(jw){fh.$2(e,jt,jw)},ju);bF.SendCommand(jv)};fh.setMarksBorderColor=function(e,jt,ju,jv){var jw=bS.newCommand('change-border',null);jw.commandParams={};jw.commandParams['AVP']=tsConfig.current_sheet_name;jw.commandParams['YhU']=jt.toString();jw.commandParams['_uF']=ju.toString();jw.commandParams['lNC']=jv.toString();var jx=((jv||ju)?new bt('immediately',null,jw):new bt('none',function(jy){fh.$5(e,jt,jy)},jw));bF.SendCommand(jx)};fh.setMarksHaloColor=function(e,jt,ju,jv){var jw=bS.newCommand('change-halo',null);jw.commandParams={};jw.commandParams['AVP']=tsConfig.current_sheet_name;jw.commandParams['YhU']=jt.toString();jw.commandParams['_uF']=ju.toString();jw.commandParams['lNC']=jv.toString();var jx=((jv||ju)?new bt('immediately',null,jw):new bt('none',function(jy){fh.$6(e,jt,jy)},jw));bF.SendCommand(jx)};fh.boundingBoxPan=function(e,jt){var ju=bS.newCommand('bounding-box-pan',null);var jv={};jv['v_N']=jt;ju.commandParams=jv;if(ss.isValue(e)){bS.addVisualIdToCommand(ju.commandParams,e)}gs.executeServerCommand(ju,'afterDelay',null,null)};fh.geographicSearchQuery=function(e,jt,ju,jv,jw){var jx=bS.newCommand('geographic-search-query',null);var jy={};jx.commandParams=jy;jx.commandParams['Ikc']=jt;jx.commandParams['wPK']=ju;jx.commandParams['NjF']=jv.toString();if(ss.isValue(e)){bS.addVisualIdToCommand(jx.commandParams,e)}gs.executeServerCommand(jx,'none',function(jz){jw(jz)},null)};fh.setReferenceLineConstantValue=function(e,jt){var ju=bS.newCommand('set-reference-line-constant-value',null);ju.commandParams={};ju.commandParams['is$']=e;ju.commandParams['gFP']=jt;bF.SendCommand(new fM(ju,'immediately',null,null))};fh.$0=function(e){var jt={};jt['AVP']=tsConfig.current_sheet_name;jt['FsL']=e.get_id().toString();return jt};fh.$9=function(e){if(ss.isNullOrUndefined(e)){return null}return e.toString()};fh.$4=function(e,jt,ju){if(ss.isValue(jt.get_palette())&&ss.unbox(jt.get_palette())!=='filled'){return}var jv=ga.convertShapeToNumber(jt);fh.$7(e,jv,'shape_id',ju)};fh.$2=function(e,jt,ju){fh.$7(e,jt,'alpha',ju)};fh.$3=function(e,jt,ju){fh.$7(e,jt.toArgbInt(),'color',ju)};fh.$5=function(e,jt,ju){fh.$7(e,jt.toArgbInt(),'border_color',ju)};fh.$6=function(e,jt,ju){fh.$7(e,jt.toArgbInt(),'halo_color',ju)};fh.$8=function(e,jt,ju){if(L.get_instance().get_renderMode()!=='render-mode-client'){return}var jv=fh.$1(jt);if(ss.isNullOrUndefined(ju)){ju=_.keys(jv)||[]}for(var jw=0;jw<ju.length;jw++){var jx=ju[jw];var jy=jv[jx];jy.knq=e}};fh.$7=function(e,jt,ju,jv){if(L.get_instance().get_renderMode()!=='render-mode-client'){return}var jw=fh.$1(jv);var jx=e.get_paneDescriptorKeys();for(var jy=0,jz=jx.length;jy<jz;jy++){var jA=jw[jx[jy]];jA.LTd[ju]=jt}};fh.$1=function(e){var jt=eU.getVisualModel(L.get_instance(),tsConfig.current_sheet_name);var ju=e.makeMutablePresModel(jt.get_sceneModel(),false);return ju.ObZ};global.tab.PaneClientCommands=fh;var fi=function(e){this.$0=null;this.update(e)};fi.__typeName='tab.PaneIdModel';fi.$ctor1=function(e,jt,ju){this.$0=null;this.$0={};this.$0['_WI']=e;this.$0['ASo']=jt;if(ju!==0){this.$0['jal']=ju}};global.tab.PaneIdModel=fi;var fj=function(){};fj.__typeName='tab.PanZoomCommands';fj.zoomWithAnchorPoint=function(e,jt,ju,jv,jw){var jx=new Object;var jy=iU.create(jx);jy.set_r(e);jy.set_x(jt.x);jy.set_y(jt.y);var jz={};jz['vpK']=jx;jz['BdT']=tab.PointUtil.toPresModel(jt);jz['WR_']=ju;bS.addVisualIdToCommand(jz,eU.getVisualId(jw));var jA=bS.newCommand$1('pane-anchor-zoom-server',jz);var jB=function(){gP.fireSheetDataChanged();jv()};fj.$0(jA,jB,null,jw)};fj.zoom=function(e,jt,ju,jv,jw,jx){if(!tsConfig.allow_filter){return}var jy={};var jz={};jz.thj=e['x'];jz.RAC=e['y'];jz.thj=Math.round(jz.thj);jz.RAC=Math.round(jz.RAC);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){jz.EUR=e['h'];jz.rec=e['w']}jy['cBw']=jz;jy['kFe']=ju;jy['tmF']=false;jy['WR_']=jw;if(ss.isValue(jt)){jt=fj.$1(jt);var jA=tab.PointUtil.toPresModel(jt);jy['koe']=jA}bS.addVisualIdToCommand(jy,eU.getVisualId(jx));var jB=bS.newCommand('pane-zoom',jy);var jC=function(jD){if(ss.isValue(jv)){jv.setDeferLayoutUpdates(false)}gP.fireSheetDataChanged()};fj.$0(jB,jC,null,jx)};fj.pan=function(e,jt,ju,jv,jw){if(!tsConfig.allow_filter){return}var jx={};jx['dpp']=e;jx['KIO']=tab.PointUtil.toPresModel(fj.$1(jt));jx['vGR']=tab.PointUtil.toPresModel(fj.$1(ju));bS.addVisualIdToCommand(jx,eU.getVisualId(jw));var jy=bS.newCommand$1('pane-pan-server',jx);var jz=function(){gP.fireSheetDataChanged()};var jA=function(jB){jv()};fj.$0(jy,jz,jA,jw)};fj.$0=function(e,jt,ju,jv){var jw=new bt('none',function(jx){var jy=eU.getVisualModel(L.get_instance(),jv);eU.setVisualValidStateOnModel(jx,jy,false)},e,jt,ju);bF.SendCommand(jw)};fj.$1=function(e){var jt=e;if(ss.isValue(e)){jt={x:Math.round(e.x),y:Math.round(e.y)}}return jt};fj.zoomDoubleClick=function(e,jt,ju,jv,jw,jx){jv.set_isZoomin(ju);fj.zoom(e,jt,ju,jv,jw,jx)};fj.zoomIn=function(e,jt,ju,jv){fj.zoom(e,jt,true,null,ju,jv)};fj.zoomOut=function(e,jt,ju,jv){fj.zoom(e,jt,false,null,ju,jv)};fj.requestRestoreFixedAxes=function(e){if(!tsConfig.allow_filter){return}var jt=function(jw){P.fireStateChanged(jw)};var ju={};bS.addVisualIdToCommand(ju,e);var jv=bS.newCommand$1('restore-fixed-axes',ju);bF.SendCommand(new fM(jv,'immediately',jt,function(){}))};global.tab.PanZoomCommands=fj;var fk=function(e){this.$1=null;this.$2$1=null;eR.call(this,e,new fv('j_S'.toString()))};fk.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=fk;var fl=function(e){this.$2$1=null;eR.call(this,e,new fv('j_S'.toString()))};fl.__typeName='tab.ParameterFilterDisplayModel';fl.supportsParameterType=function(e){switch(e.NId){case'compact':case'list':{return true}case'type_in':case'slider':case'datetime':default:{return false}}};global.tab.ParameterFilterDisplayModel=fl;var fm=function(e,jt){this.formattedValue=null;this.domainValue=null;this.formattedValue=e;this.domainValue=jt};fm.__typeName='tab.ParameterFilterItem';global.tab.ParameterFilterItem=fm;var fn=function(){};fn.__typeName='tab.ParameterServerCommands';fn.setParameterValue=function(e,jt,ju){fn.setParameterValue$1(e,jt,ju,null,null)};fn.setParameterValue$1=function(e,jt,ju,jv,jw){var jx=fn.$0(e,jt,ss.coalesce(ju,false));var jy=bS.newCommand('set-parameter-value',jx);gs.executeServerCommand(jy,'immediately',jv,jw)};fn.$0=function(e,jt,ju){var jv={};jv['lYz']=e;jv['vau']=jt;jv['DsK']=ju;return jv};global.tab.ParameterServerCommands=fn;var fo=function(e){this.$3$1=null;ix.call(this,e,new fv('oHf'.toString()))};fo.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=fo;var fp=function(){};fp.__typeName='tab.PermissionManager';fp.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);if(!tsConfig.is_mobile){e.push(21)}if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){e.push(22)}}return new bK(e)};fp.filterCommands=function(e,jt){for(var ju=e.length-1;ju>=0;ju--){if(!jt.test(e[ju])){ss.removeAt(e,ju)}}};global.tab.PermissionManager=fp;var fq=function(e,jt){this.$1=null;eR.call(this,e,new fv(jt.toString()))};fq.__typeName='tab.PillModel';global.tab.PillModel=fq;var fr=function(){ss.makeGenericType(O,[Object,fs]).call(this)};fr.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=fr;var fs=function(e){this.$c=null;this.$c=e};fs.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=fs;var ft=function(){};ft.__typeName='tab.PresentationModel';ft.commandResultByName=function(e,jt){var ju=bO.buildQualifiedCommandName(jt.commandNamespace,jt.commandName);var jv=e['kqB'.toString()];var jw=jv.mxu;for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];if(ss.referenceEquals(jy.$iY,ju)){return jy.nCR}}return null};ft.fromCommand=function(e,jt){var ju=ft.commandResultByName(e,jt);if(!jt.preserveRootResult&&ss.isValue(ju)&&ss.getKeyCount(ju)===1&&!ss.keyExists(ju,'XAS'.toString())){var jv=new ss.ObjectEnumerator(ju);try{while(jv.moveNext()){var jw=jv.current();return jw.value}}finally{jv.dispose()}}else{return ju}return null};ft.ensurePath=function(e,jt,ju){var jv=jt;var jw=e;var jx;var jy;var jz=ju.get_pathList();for(var jA=0,jB=jz.length;jA<jB;jA++){var jC=jz[jA];var jD=jC.name;jx=jv[jD];jy=(ss.isValue(jw)?jw[jD]:null);if(!ss.isValue(jx)){var jE=jA===jB-1;var jF=null;if(jC.type===1&&ss.isValue(jy)){var jG=jy;var jH=[];for(var jI=0;jI<jG.length;jI++){jH[jI]=tab.MiscUtil.cloneObject(jG[jI])}jF=jH}else if(!jE&&ss.isValue(jy)){jF=ft.cloneObjWithScalarsOnly(jy)}else if(tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&jC.type===1){jF=[]}else{jF=new Object}jv[jD]=jF}jv=jv[jD];jw=jy}return jv};ft.insertAtPath=function(e,jt,ju,jv){ft.ensurePath(e,jt,ju);ft.$0(jt,ju,jv)};ft.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var jt=new Object;var ju=e;var jv=Object.keys(ju);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];var jy=ju[jx];if(!_.isObject(jy)){jt[jx]=jy}}return jt};ft.$0=function(e,jt,ju){if(jt.get_pathList().length===0){var jv=ju;var jw=new ss.ObjectEnumerator(jv);try{while(jw.moveNext()){var jx=jw.current();e[jx.key]=jx.value}}finally{jw.dispose()}}else{var jy,jz;var jA=e;var jB=jt.get_pathList();for(jy=0,jz=jB.length;jy<jz-1;jy++){jA=jA[jB[jy].name]}jA[jB[jz-1].name]=ju}};global.tab.PresentationModel=ft;var fu=function(){this.$1=null;this.$0=[]};fu.__typeName='tab.PresModelPath';global.tab.PresModelPath=fu;var fv=function(e,jt){this.name=null;this.type=0;this.name=e;this.type=(ss.isValue(jt)?jt:0)};fv.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=fv;var fw=function(){};fw.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=fw;var fx=function(){this.$h=null;this.$n=null;this.$k=null;this.$m=null;this.$i=null;this.$g=false;this.$o=null;this.$j=null;this.$l=null;this.$1$1=null;this.$1$2=null};fx.__typeName='tab.ProgressiveLoader';fx.get_progressiveLoadEnabled=function(){return tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&!tsConfig.is_authoring&&!tsConfig.isPublic};fx.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var jt=e.wqq;e.wqq=null;var ju=tab.MiscUtil.cloneObject(e);ju.wqq=jt;e.wqq=jt;return ju};fx.removeZoneContent=function(e){if(ss.isValue(e)){var jt=e;delete jt['wqq']}return e};fx.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)){return null}var jt=e.res.mmK;if(jt.Jqz){var ju=jt.HCq;jt=null;var jv=_.keys(ju);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];var jy=ju[jx];if(jy.jAM!=='flipboard'){continue}var jz=jr.getContent(jy,'XIo');if(ss.isNullOrUndefined(jz)||ss.isNullOrUndefined(jz.stK)){return null}var jA=jz.stK[jz.P_I.toString()];if(ss.isNullOrUndefined(jA)){return null}jt=jA.mmK;break}}return jt};fx.$3=function(e){if(ss.isNullOrUndefined(e)){return false}var jt=e.res;if(ss.isNullOrUndefined(jt)){return false}var ju=jt.mmK;if(ss.isNullOrUndefined(ju)){return false}var jv=ju.HCq;if(ss.isNullOrUndefined(jv)){return false}return true};fx.$1=function(){if(ss.isValue(fx.$7)){return}fx.$7={};fx.$7['flipboard-nav']=1;fx.$7['flipboard']=1;fx.$7['viz']=2;fx.$7['color']=3;fx.$7['shape']=3;fx.$7['size']=3;fx.$7['map']=3;fx.$7['filter']=4;fx.$7['highlighter']=4;fx.$7['paramctrl']=4;fx.$7['current-page']=4;fx.$7['web']=5;fx.$7['bitmap']=5;fx.$5={};fx.$5[1]={item1:-1,item2:1};fx.$5[2]={item1:1,item2:0.33};fx.$5[3]={item1:3,item2:0.33};fx.$5[4]={item1:3,item2:0.33};fx.$5[5]={item1:-1,item2:1};fx.$5[6]={item1:-1,item2:1}};fx.$2=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};fx.$0=function(e,jt){if(ss.isNullOrUndefined(e)){return jt}return ft.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=fx;var fy=function(e,jt){this.$2$1=null;eR.call(this,e,new fv(jt))};fy.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=fy;var fz=function(e,jt,ju,jv,jw,jx){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=jt;this.$1=ju;this.$0=jv;this.$4=jw;this.$3=jx};fz.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=fz;var fA=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;eR.call(this,e,new fv('WlK'.toString()));this.set_quickFilterType('unknown')};fA.__typeName='tab.QuickFilterDisplayModel';fA.supportsQuickFilterType=function(e){if(e.ps$.VOu==='categorical'){var jt=e.ps$;switch(jt.etp){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=fA;var fB=function(e,jt){eR.call(this,e,jt)};fB.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=fB;var fC=function(e){eR.call(this,e,new fv('mZ_'.toString()))};fC.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=fC;var fD=function(){};fD.__typeName='tab.RangeTransform';global.tab.RangeTransform=fD;var fE=function(e){this.$3$1=null;ix.call(this,e,new fv('jFF'.toString()))};fE.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=fE;var fF=function(){this.range=null;this.index=0;this.type=0;this.checkState=false};fF.__typeName='tab.RawChange';global.tab.RawChange=fF;var fG=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;eR.call(this,e,new fv('jal1'.toString()));this.pm={};this.set_fromFieldPickerCombo(new df(this));this.set_toFieldPickerCombo(new df(this));this.set_validFormulaTypes([]);this.set_validPairedFormulaTypes([])};fG.__typeName='tab.ReferenceBandModel';global.tab.ReferenceBandModel=fG;var fH=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;eR.call(this,e,new fv('Nit'.toString()));this.pm={};this.set_activeModel(null);this.set_activePane('line');this.set_lineModel(new fI(this));this.set_bandModel(new fG(this));this.set_distributionModel(new cH(this))};fH.__typeName='tab.ReferenceLineEditorModel';global.tab.ReferenceLineEditorModel=fH;var fI=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;eR.call(this,e,new fv('jal1'.toString()));this.pm={};this.set_fieldPickerCombo(new df(this));this.set_confidenceLevelCombo(new cW(this,'cuz'))};fI.__typeName='tab.ReferenceLineModel';global.tab.ReferenceLineModel=fI;var fJ=function(e){this.$1=null;de.call(this,e)};fJ.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=fJ;var fK=function(){ss.makeGenericType(O,[Object,fL]).call(this)};fK.__typeName='tab.ReleaseComponentCmd';global.tab.ReleaseComponentCmd=fK;var fL=function(e){this.$c=null;this.$c=e};fL.__typeName='tab.ReleaseComponentCmd$Response';global.tab.ReleaseComponentCmd$Response=fL;var fM=function(e,jt,ju,jv){bt.call(this,jt,null,e,ju,jv)};fM.__typeName='tab.RemoteClientCommand';fM.create=function(e,jt,ju,jv){return new fM(e,jt,ju,jv)};global.tab.RemoteClientCommand=fM;var fN=function(e){this.$2=null;this.$1=null;this.$0=null;var jt=e.split('/');this.$2=jt[0].replace(new RegExp('^ds:'),'');this.$1=jt[1];if(jt.length>2){if(jt.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=jt[2]+'/'+jt[3]}else{this.$0=''}};fN.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=fN;var fO=function(){ss.makeGenericType(O,[Object,fP]).call(this)};fO.__typeName='tab.ResetCategoricalColorMapCmd';global.tab.ResetCategoricalColorMapCmd=fO;var fP=function(e){this.$c=null;this.$c=e};fP.__typeName='tab.ResetCategoricalColorMapCmd$Response';global.tab.ResetCategoricalColorMapCmd$Response=fP;var fQ=function(){ss.makeGenericType(O,[Object,fR]).call(this)};fQ.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=fQ;var fR=function(e){this.$c=null;this.$c=e};fR.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=fR;var fS=function(){ss.makeGenericType(O,[Object,fT]).call(this)};fS.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=fS;var fT=function(e){this.$c=null;this.$c=e};fT.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=fT;var fU=function(){ss.makeGenericType(iZ,[Object,fV]).call(this)};fU.__typeName='tab.SaveAsCmd';fU.get_commandName=function(){return'save-as'};global.tab.SaveAsCmd=fU;var fV=function(e){this.$c=null;this.$c=e};fV.__typeName='tab.SaveAsCmd$Response';global.tab.SaveAsCmd$Response=fV;var fW=function(){ss.makeGenericType(iZ,[Object,fX]).call(this)};fW.__typeName='tab.SaveCmd';fW.get_commandName=function(){return'save'};global.tab.SaveCmd=fW;var fX=function(e){this.$c=null;this.$c=e};fX.__typeName='tab.SaveCmd$Response';global.tab.SaveCmd$Response=fX;var fY=function(e){this.$2$1=null;eR.call(this,e,new fv('pnJ'.toString()))};fY.__typeName='tab.SaveDatasourceDialogModel';global.tab.SaveDatasourceDialogModel=fY;var fZ=function(){};fZ.__typeName='tab.SaveServerCommands';fZ.saveWorkbook=function(e){var jt=function(ju){jo.getWorldUpdate(function(){if(ss.isValue(e)){e(ju)}})};bF.get().SaveWorkbook(tsConfig.current_workbook_name,tsConfig.current_project_id,tsConfig.showTabsWorkbook,jt)};fZ.saveWorkbookAs=function(e,jt,ju,jv,jw,jx,jy){bF.get().SaveWorkbookAs(e,jt.id,ju,jv,jw,jx,jy)};fZ.saveDatasource=function(e,jt,ju,jv,jw,jx){var jy=function(){if(ss.isValue(jw)){jw()}};bF.get().SaveDatasource(e,jt,ju,jv,jy,jx)};fZ.transitionSessionAfterLogon=function(e){bF.get().$C(e)};global.tab.SaveServerCommands=fZ;var ga=function(){};ga.__typeName='tab.SceneDataUtil';ga.isPaneFlagSet=function(e,jt){return(e&ga.$1[jt])!==0};ga.isMarkFlagSet=function(e,jt){return(e&ga.$0[jt])!==0};ga.isCustomShape=function(e){return!ss.keyExists(ga.shapeMapping,e.toString())};ga.getFogBlendFactor=function(e){var jt=0.185000002384186;var ju=0.275000005960464;var jv=75;var jw=e.get_r()<=jv&&e.get_g()<=jv&&e.get_b()<=jv;return(jw?ju:jt)};ga.fogColorTransform=function(e,jt,ju){var jv=ss.Int32.trunc(jt.get_r()+e.get_r()*ju);var jw=ss.Int32.trunc(jt.get_g()+e.get_g()*ju);var jx=ss.Int32.trunc(jt.get_b()+e.get_b()*ju);return new bC(jv,jw,jx,e.get_a())};ga.applyFogToBackgroundColor=function(e,jt){var ju=245;if(e.get_r()>=ju&&e.get_g()>=ju&&e.get_b()>=ju){e=new bC(ju,ju,ju,e.get_a())}var jv=ss.Int32.trunc((1-jt)*e.get_r());var jw=ss.Int32.trunc((1-jt)*e.get_g());var jx=ss.Int32.trunc((1-jt)*e.get_b());return new bC(jv,jw,jx,e.get_a())};ga.createColorCollection=function(e,jt,ju){var jv={};jv['colorOverrideOpaque']=e.toRgb();jv['colorOverrideNone']=e.toRgba();jv['colorOverrideFog']=ga.fogColorTransform(e,jt,ju).toRgba();return jv};ga.createOpaqueColorCollection=function(e){var jt={};var ju=bC.fromColorCode(e['colorOverrideNone']);jt['colorOverrideNone']=ju.toRgb();ju=bC.fromColorCode(e['colorOverrideFog']);jt['colorOverrideFog']=ju.toRgb();ju=bC.fromColorCode(e['colorOverrideOpaque']);jt['colorOverrideOpaque']=ju.toRgb();return jt};ga.applyFoggingToColor=function(e,jt){var ju=ga.getFogBlendFactor(jt);var jv=ga.applyFogToBackgroundColor(jt,ju);return ga.fogColorTransform(e,jv,ju)};ga.convertShapeToNumber=function(e){var jt;var ju=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{jt=(ju?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{jt=(ju?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{jt=(ju?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{jt=(ju?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{jt=(ju?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{jt=(ju?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{jt=(ju?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{jt=(ju?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{jt=(ju?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{jt=(ju?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(ga.reverseShapeMapping[jt])};ga.getNumPaneItems=function(e){return e.sDT-e.QNi};ga.getPaneDomainExtents=function(e){if(ss.isValue(e.MdI)){for(var jt=0;jt<e.MdI.length;jt++){var ju=e.MdI[jt];var jv=ju.SgS;if(ss.isValue(jv)&&ss.isValue(jv.NQL)){return tab.RecordCast.doubleRectPresModelAsDoubleRectXY(jv.NQL)}}}return null};ga.calcCellClip=function(e){var jt=0;var ju=ga.isPaneFlagSet(e,'clip-to-cell-x');var jv=ga.isPaneFlagSet(e,'clip-to-cell-y');if(ju&&jv){jt=3}else if(ju){jt=1}else if(jv){jt=2}return jt};ga.isSupportedStampShape=function(e){if(!ss.keyExists(ga.reverseShapeMapping,e)){return false}var jt=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{jt=false;break}default:{break}}return jt};global.tab.SceneDataUtil=ga;var gb=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;eR.call(this,null,new fv('ZBC'.toString()));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new fi(e.Zpj));this.set_bounds({minX:e.DO$,minY:e.eIN,maxX:e.DO$+e.HBM,maxY:e.eIN+e.XGN})};gb.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=gb;var gc=function(e){this.$8={};this.$4=[];this.$5=[];this.$6=null;this.$7=null;this.$3=null;this.$2$1=null;eR.call(this,e,new fv('X$'.toString()));this.$6=[];this.$7=[]};gc.__typeName='tab.SceneModel';gc.$0=function(e,jt){if(ss.keyExists(e,'background')){var ju=e['background'].get_visualListPresModel().tOA;for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(jw.VzB==='nuS'){var jx=jw;return bC.fromColorCode(jx.YhU)}}}return(ss.isValue(jt.oiS)?bC.fromColorCode(jt.oiS):gc.$1)};global.tab.SceneModel=gc;var gd=function(){};gd.__typeName='tab.SceneUtils';gd.getPaneDescriptorKeyFromTupleId=function(e,jt){for(var ju=0;ju<jt.HUq.length;ju++){var jv=jt.HUq[ju];for(var jw=0;jw<jv.MdI.length;jw++){var jx=jv.MdI[jw];if(ss.isValue(jx.SgS)){var jy=jt.ObZ;var jz=new ss.ObjectEnumerator(jy);try{while(jz.moveNext()){var jA=jz.current();var jB=jA.value.GKA['tuple_id'];var jC=_.find(jB.uBu02,function(jD){return jD===e});if(ss.isValue(jC)){return jA.key}}}finally{jz.dispose()}}}}return''};global.tab.SceneUtils=gd;var ge=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};ge.__typeName='tab.Schedule';ge.$1=function(e){var jt=new Date;jt.setHours(ss.Int32.div(e,60));jt.setMinutes(e%60);jt.setSeconds(0);return jt.toLocaleTimeString()};ge.$2=function(e,jt){var ju=e+jt;ju=ju%1440;if(ju<0){ju=1440+ju}return ju};ge.$0=function(e,jt){var ju=e+jt;if(ju>1440){return 1}else if(ju<0){return-1}return 0};global.tab.Schedule=ge;var gf=function(){};gf.__typeName='tab.SchemaClientCommands';gf.addFieldToSheet=function(e,jt){var ju={};ju['HBp02']=e;ju['AVP']=tsConfig.current_sheet_name;var jv=bS.newCommand('add-to-sheet',ju);bF.SendCommand(fM.create(jv,'immediately',function(jw){jt()},function(jw){jt()}))};gf.$0=function(e,jt){var ju=bS.newCommand(e,{});ju.commandParams['HVp']=jt;bF.SendCommand(new fM(ju,'immediately',null,null))};gf.convertToMeasure=function(e){gf.$0('convert-to-measure',e)};gf.convertToDimension=function(e){gf.$0('convert-to-dimension',e)};gf.validateFieldCaption=function(e,jt,ju){var jv={};jv['GOk']=e;jv['CST02']=jt;var jw=bS.newCommand('validate-field-caption',jv);gs.executeServerCommand(jw,'afterDelay',function(jx){ju(jx)},null)};gf.editFieldCaption=function(e,jt,ju){var jv={};jv['GOk']=e;jv['CST02']=jt;var jw=bS.newCommand('edit-schema-caption',jv);bF.SendCommand(new bt('none',function(jx){var jy=jx.makeMutablePresModel(ju.get_dataSourceModel(),false);for(var jz=0;jz<jy.Dfq.length;++jz){if(ss.referenceEquals(jy.Dfq[jz].HBp02,e)){jy.Dfq[jz].Mej02=jt;break}}},jw))};gf.setActiveDataSourceName=function(e,jt){var ju={};ju['UyO02']=e;var jv=(jt?'set-active-data-source-name':'set-active-datasource');var jw=bS.newCommand(jv,ju);jw.commandParams['UyO02']=e;var jx=L.get_instance().get_workbook().get_uiMode()==='data-tab';var jy=null;if(jx){jy=function(jz){var jA=jz.makeMutablePresModel(L.get_instance().get_workbook().get_dataSchema(),false);jA.UyO02=e}}bF.SendCommand(new bt((jx?'none':'immediately'),jy,jw))};gf.requestSchemaContextMenu=function(e,jt){var ju=bS.newCommand('build-data-schema-context-menu',null);var jv={};jv['UyO02']=e.get_name();ju.commandParams=jv;bF.SendCommand(fM.create(ju,'none',function(jw){jt(jw)},null))};gf.requestSchemaFieldContextMenu=function(e,jt,ju){var jv=bS.newCommand('build-data-schema-field-context-menu',null);var jw={};jw['UyO02']=e.get_name();jw['HBp02']=jt;jv.commandParams=jw;bF.SendCommand(fM.create(jv,'none',function(jx){ju(jx)},null))};gf.requestSchemaDataSourceContextMenu=function(e,jt){var ju=bS.newCommand('build-data-schema-data-source-context-menu',null);var jv={};jv['UyO02']=e.get_name();ju.commandParams=jv;bF.SendCommand(fM.create(ju,'none',function(jw){jt(jw)},null))};gf.convertUnnamedFields=function(e){var jt=$.Deferred();var ju={};ju['HVp']=e;var jv=new fM(bS.newCommand('convert-unnamed-fields',ju),'immediately',bF.$1(Array).call(null,jt),function(){jt.reject()});bF.SendCommand(jv);return jt.promise()};gf.toggleFieldBlending=function(e,jt){var ju=$.Deferred();var jv={};jv['lYz']=e;jv['AVP']=tsConfig.current_sheet_name;var jw=new bt('immediately',jt,bS.newCommand('toggle-field-blending',jv),bF.$1(Object).call(null,ju),function(){ju.reject()});bF.SendCommand(jw);return ju.promise()};gf.renameDataSource=function(e,jt){if(ss.isNullOrUndefined(e)){return}if(ss.referenceEquals(e.get_caption(),jt)){return}var ju=function(jx){var jy=jx.makeMutablePresModel(e,false);jy.Fnn=jt};var jv={};jv['UyO02']=e.get_name();jv['TyD02']=jt;var jw=new bt('none',ju,bS.newCommand('rename-data-source',jv));bF.SendCommand(jw)};global.tab.SchemaClientCommands=gf;var gg=function(){ss.makeGenericType(O,[Object,gh]).call(this)};gg.__typeName='tab.SelectByTupleValueCmd';global.tab.SelectByTupleValueCmd=gg;var gh=function(e){this.$c=null;this.$c=e};gh.__typeName='tab.SelectByTupleValueCmd$Response';global.tab.SelectByTupleValueCmd$Response=gh;var gi=function(){};gi.__typeName='tab.SelectionClientCommands';gi.$k=function(){return tab.Logger.lazyGetLogger(gi)};gi.setActiveZone=function(e,jt){if(!tsConfig.allow_select){return}if(eU.isActiveZone(e)){return}bF.SendCommand(gi.buildActiveZoneClientCommand(e,jt))};gi.clearActiveZone=function(){gi.setActiveZone(0,null)};gi.buildActiveZoneClientCommand=function(e,jt){var ju=new bt('none',function(jv){gi.setActiveZoneLocal(e,jv)},gi.$1(e,jt));return ju};gi.updateShowMeCommandsForSelectedFields=function(e,jt,ju){var jv={};jv['HVp']=e;jv['AVP']=tsConfig.current_sheet_name;jv['UyO02']=jt;var jw=bS.newCommand('get-show-me',jv);bF.SendCommand(fM.create(jw,'none',function(jx){ju(jx)},function(jx){ju(null)}))};gi.toggleLegendHighlight=function(e,jt,ju,jv,jw){if(!tsConfig.allow_highlight){return}var jx=gi.buildToggleLegendHighlightCommand(jt,ju,jv,jw,e);bF.SendCommand(jx)};gi.buildToggleLegendHighlightCommand=function(e,jt,ju,jv,jw){var jx=!eU.isActiveZone(jw);var jy={};jy['dpp']=jt;jy['HhR']=ju;bS.addVisualIdToCommand(jy,e);if(jx){gi.$0(jw,jy)}var jz=bS.newCommand$1('toggle-legend-server',jy);var jA=function(jB){if(ss.isValue(jv)){jv(jB)}};return new bt('immediately',function(jB){if(jx){gi.setActiveZoneLocal(jw,jB)}},jz,jA,null)};gi.$0=function(e,jt){jt['TBd']=eU.findContentDashboard().pm.IJE;jt['BCp']=e};gi.selectRegion=function(e,jt,ju,jv,jw){if(!tsConfig.allow_select||L.get_instance().get_isOffline()){return}var jx=gi.$9(jt,e,ju,jv,jw);var jy=bS.newCommand$1('select-region-no-return-server',jx);gs.executeServerCommand(jy,'afterDelay')};gi.selectRectRegionAndDoUbertip=function(e,jt,ju,jv,jw,jx){if(!tsConfig.allow_select){return}var jy=gi.$9(jt,e,ju,jv,jx);var jz=bS.newCommand$1('select-region-no-return-server',jy);gi.$c(jw,jz)};gi.selectCircleRegionAndDoUbertip=function(e,jt,ju,jv,jw,jx,jy){if(!tsConfig.allow_select){return}var jz=gi.$9(jt,e,jv,jw);var jA={};jA.f_W={};jA.f_W.thj=Math.round(ju.center.x);jA.f_W.RAC=Math.round(ju.center.y);jA.IEh=Math.round(ju.radius);jz['SWH']=jA;jz['Xyn']=jy;var jB=bS.newCommand$1('select-radial-region-no-return-server',jz);gi.$c(jx,jB)};gi.selectPolyRegionAndDoUbertip=function(e,jt,ju,jv,jw,jx){if(!tsConfig.allow_select){return}var jy=gi.$9(jt,e,jv,jw);var jz=ju.length;var jA=new Array(jz);for(var jB=0;jB<jz;jB++){var jC={};jC.thj=Math.round(ju[jB].x);jC.RAC=Math.round(ju[jB].y);jA[jB]=jC}jy['WiQ']=jA;var jD=bS.newCommand$1('select-lasso-region-no-return-server',jy);gi.$c(jx,jD)};gi.$c=function(e,jt){jt.commandNamespace='tabsrv'.toString();var ju=new bt('afterDelay',null,jt,function(){e()},null);bF.SendCommand(ju)};gi.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var jt=eU.getZoneIdForSheetName(e.AVP);if(jt!==-1&&!eU.isActiveZone(jt)){gi.setActiveZone(jt,null);return}var ju=gi.buildClearAllSelectionsCommand(e);bF.SendCommand(ju)};gi.buildClearAllSelectionsCommand=function(e){var jt={};bS.addVisualIdToCommand(jt,e);var ju=bS.newCommand$1('select-none',jt);var jv=new bt((L.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(jw){if(L.get_instance().get_isLocalRenderMode()){var jx=gi.$4(jw);if(jx){G.executeActions(e.AVP,'on-select',[],jw,true)}}},ju);return jv};gi.clearAllSelectionsIncludingMaster=function(){if(!tsConfig.allow_select){return}var e=gi.buildClearAllSelectionsIncludingMasterCommand();bF.SendCommand(e)};gi.buildClearAllSelectionsIncludingMasterCommand=function(){var e={};e['Gge']=tsConfig.current_sheet_name;var jt=bS.newCommand('select-none-including-master',e);var ju=new bt((L.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(jv){gi.$4(jv);gi.$2(jv);var jw=eU.getVisualModelsFromDashboard(eU.findContentDashboard());var jx=ss.getEnumerator(Object.keys(jw));try{while(jx.moveNext()){var jy=jx.current();var jz=jw[jy];G.executeActions(jz.get_visualId().AVP,'on-select',[],jv,true)}}finally{jx.dispose()}},jt);return ju};gi.selectLegendItemsLocal=function(e,jt,ju,jv,jw,jx){if(!tsConfig.allow_select){return}var jy=gi.buildSelectLegendItemsLocalCommand(e,jt,ju,jv,jw,jx);bF.SendCommand(jy)};gi.$5=function(e,jt){var ju=eU.getVisualModelFromVisualId(jt);var jv=ju.get_selectionsModel();var jw=jv.get_allLegendSelections();for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];gi.$7(e,jy,false)}};gi.clearHighlighting=function(e,jt,ju,jv){var jw=bS.newCommand('clear-highlighting',null);var jx={};bS.addVisualIdToCommand(jx,ju);jx['HBp02']=jt;jw.commandParams=jx;var jy=new bt('none',function(jz){if(jv){gi.$5(jz,ju);gi.$d([],e,eU.getVisualModelFromVisualId(ju),jz)}},jw);bF.SendCommand(jy)};gi.highlightItems=function(e,jt,ju,jv,jw){var jx=bS.newCommand('highlight-items',null);var jy={};bS.addVisualIdToCommand(jy,jv);jy['HBp02']=jt;jy['kyj']=ju;jx.commandParams=jy;var jz=new bt('none',function(jA){if(jw){if(ju.length===0){gi.$5(jA,jv)}gi.$d(ju,e,eU.getVisualModelFromVisualId(jv),jA)}},jx);bF.SendCommand(jz)};gi.buildSelectLegendItemsLocalCommand=function(e,jt,ju,jv,jw,jx){var jy=eU.getVisualModelFromVisualId(jv);var jz=jy.get_selectionsModel();var jA=jz.getLegendSelection(jx,jw.get_legendNames());var jB=go.resolveLegendSelection(jt,ju,jw,jA);var jC=bS.newCommand('select-legend-items',gi.$8(jB,jv,jw,jx,e));var jD=new bt('none',function(jE){gi.setActiveZoneLocal(e,jE);if(!jA.isAnyLegendItemSelected()&&jB.length===0&&!eU.isActiveZone(e)){return}var jF=jE.makeMutablePresModel(jA,false);jF.kyj=jB;jF.VNi={jhL:jw.get_legendTypeEnum(),pMg:jw.get_legendNames()};gi.$6(jE,jz.tupleSelection,jy);gi.$6(jE,jz.nodeSelection,jy);var jG=jz.get_allLegendSelections();for(var jH=0;jH<jG.length;jH++){var jI=jG[jH];if(!ss.referenceEquals(jI,jA)){gi.$6(jE,jI,jy)}}gi.$3(jE,jv,true);gi.$f(jB,jw,jy,jE)},jC);return jD};gi.buildSelectNodeCommand=function(e,jt,ju,jv,jw,jx,jy){var jz=eU.getZoneIdForSheetName(jx.AVP);var jA=eU.getVisualModelFromVisualId(jx);var jB=jA.get_selectionsModel();var jC=jB.nodeSelection;var jD=(G.willActionCauseTabChange(jx.AVP,'on-select')?'afterDelay':'none');var jE=2;var jF=null;if(ss.isValue(jw.XqN)&&ss.isValue(jw.$UU)){var jG=jw.nTH||0;var jH=jw.Mk_||0;jF={x:jG,y:jH,w:jw.XqN,h:jw.$UU}}var jI=tab.RectXYUtil.shiftCoordsTowardsCenter(jt,jF,jE);var jJ={x:jI.x,y:jI.y,w:0,h:0};var jK=bS.newCommand$1('select-region-no-return-server',null);jK.commandParams=gi.$9(jJ,e,ju,jx);var jL=jz!==-1&&!eU.isActiveZone(jz);if(jL){gi.$0(jz,jK.commandParams)}var jM=jL||!L.get_instance().get_isTableCalcHighlightingMode();var jN=function(jP){if(jL){gi.setActiveZoneLocal(jz,jP)}if(L.get_instance().get_isTableCalcHighlightingMode()){return}var jQ=jP.makeMutablePresModel(jC,false);go.resolveNodeSelection(ju,jv.get_groupItemNodes(),jw,jC,jQ);var jR=ju!=='toggle'&&ju!=='range';var jS=jB.tupleSelection.get_ids();if(jR){gi.$6(jP,jB.tupleSelection,jA);jS=[]}var jT=jB.get_allLegendSelections();for(var jU=0;jU<jT.length;jU++){var jV=jT[jU];gi.$6(jP,jV,jA)}gi.$3(jP,jx,true);jA.$4(jQ.p$U,jP.modelUpdateContext);G.executeActions(jx.AVP,'on-select',jA.getEffectiveSelectedTuples(jS),jP,true)};var jO=new bt(jD,(jM?jN:null),jK,function(){if(ss.isValue(jy)){jy()}},null);return jO};gi.selectNode=function(e,jt,ju,jv,jw,jx,jy){if(!tsConfig.allow_select){return}var jz=gi.buildSelectNodeCommand(e,jt,ju,jv,jw,jx,jy);bF.SendCommand(jz)};gi.$b=function(e,jt){var ju=false;for(var jv=0;jv<e.length;jv++){var jw=e[jv];for(var jx=0;jx<jw.kDm.length;jx++){var jy=jw.kDm[jx];if(ss.referenceEquals(jy,jt)){ju=true;break}}if(ju){break}}return ju};gi.selectMarksLocal=function(e,jt,ju,jv,jw,jx){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty(e)){gi.clearAllSelections(jt);return}if(L.get_instance().get_isOffline()){var jy=gi.buildSelectMarksLocalCommand(e,jt,ju,jv,null,null);bF.SendCommand(jy);jw()}else{var jz=gi.buildSelectMarksLocalCommand(e,jt,ju,jv,jw,jx);bF.SendCommand(jz)}};gi.buildSelectMarksLocalCommand=function(e,jt,ju,jv,jw,jx){var jy=eU.getZoneIdForSheetName(jt.AVP);var jz=eU.getVisualModelFromVisualId(jt);var jA=jz.get_selectionsModel();var jB=jA.tupleSelection;var jC=G.getApplicableActions(jz.get_visualId().AVP,'on-select','filter');var jD=jC.length>0;var jE=jD&&!L.get_instance().get_isOffline();var jF=false;var jG;if(jE){jG='afterDelay';jF=gi.$b(jC,jt.AVP)}else{jG=(G.willActionCauseTabChange(jt.AVP,'on-select')?'afterDelay':'none')}var jH=bS.newCommand('select',gi.$a(e,'tuples',ju,jt));var jI=jy!==-1&&!eU.isActiveZone(jy);var jJ=jI||!L.get_instance().get_isTableCalcHighlightingMode();var jK=function(jM){if(jI){gi.setActiveZoneLocal(jy,jM)}if(L.get_instance().get_isTableCalcHighlightingMode()){return}var jN=go.resolveMarkSelection(ju,e,jB,jv);var jO=jM.makeMutablePresModel(jB,false);jO.kyj=jN;if(ju!=='toggle'&&ju!=='range'){gi.$6(jM,jA.nodeSelection,jz)}var jP=jA.get_allLegendSelections();for(var jQ=0;jQ<jP.length;jQ++){var jR=jP[jQ];gi.$6(jM,jR,jz)}gi.$3(jM,jt,true);if(jE&&jF&&ss.isValue(jx)){jx(true)}G.executeActions(jt.AVP,'on-select',jz.getEffectiveSelectedTuples(jN),jM,true)};var jL=new bt(jG,(jJ?jK:null),jH,function(jM){if(ss.isValue(jw)){jw()}if(ss.isValue(jx)){jx(false)}},function(jM){if(ss.isValue(jx)){jx(false)}});return jL};gi.$g=function(e,jt){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var ju=eU.getVisualModels(L.get_instance());var jv=_.keys(ju);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];if(!e.hasBrushingForSheet(jx)){continue}var jy=ju[jx];gi.$j(e,jt,jy,jx);gi.$i(e,jt,jy,jx);gi.$h(e,jt,jy,jx);var jz=e.getLegendBrushing(jx);var jA=jy.get_brushingsModel().get_allLegendSelections();for(var jB=0;jB<jA.length;jB++){var jC=jA[jB];gi.$e(jt,jC,jz)}}};gi.$e=function(e,jt,ju){var jv=jt.get_selectionPresModel().VNi;var jw=[];var jx=Q.$0(jv.jhL,jv.pMg);if(ss.isValue(ju[jx])){jw=ju[jx]}if(jw.length!==0||jt.get_selectionPresModel().kyj.length!==0){var jy=e.makeMutablePresModel(jt,false);jy.kyj=jw}};gi.$h=function(e,jt,ju,jv){var jw=e.getNodeBrushing(jv);if(jw.length!==0||!ju.get_brushingsModel().nodeSelection.isEmpty){var jx=jt.makeMutablePresModel(ju.get_brushingsModel().nodeSelection,false);jx.p$U=jw}};gi.$i=function(e,jt,ju,jv){var jw=ju.get_brushingsModel().trendLineSelection;var jx=e.getTrendlineBrushing(jv);if(jx.length!==0||jw.get_selectionPresModel().kyj.length!==0){var jy=jt.makeMutablePresModel(jw,false);jy.kyj=jx}};gi.$j=function(e,jt,ju,jv){var jw=e.getTupleBrushing(jv);if(jw.length!==0||ju.get_brushingsModel().tupleSelection.get_selectionPresModel().kyj.length!==0){var jx=jt.makeMutablePresModel(ju.get_brushingsModel().tupleSelection,false);jx.kyj=jw}};gi.$2=function(e){var jt=eU.getVisualModels(L.get_instance());var ju=ss.getEnumerator(Object.keys(jt));try{while(ju.moveNext()){var jv=ju.current();var jw=jt[jv];if(jw.get_brushingsModel().get_isEmpty()){continue}var jx=e.makeMutablePresModel(jw.get_brushingsModel().tupleSelection,false);jx.kyj=[];var jy=e.makeMutablePresModel(jw.get_brushingsModel().nodeSelection,false);jy.p$U=[];var jz=jw.get_brushingsModel().get_allLegendSelections();for(var jA=0;jA<jz.length;jA++){var jB=jz[jA];if(jB.isEmpty){continue}var jC=e.makeMutablePresModel(jB,false);var jD=[];jC.kyj=jD}}}finally{ju.dispose()}};gi.$1=function(e,jt){var ju=bS.newCommand('set-active-zone',null);var jv={};jv['TBd']=(ss.isNullOrUndefined(jt)?eU.findContentDashboard().pm.IJE:jt);jv['BCp']=e;ju.commandParams=jv;return ju};gi.$d=function(e,jt,ju,jv){var jw=ju.get_vizDataModel();if(ss.isNullOrUndefined(jw)){return}var jx=jw.getVizDataField(jt.get_fieldName());var jy=[jx.get_fieldCaption()];var jz=Q.createBrushingComputer(jt,ju,e,jy,true);gi.$g(jz,jv)};gi.$f=function(e,jt,ju,jv){var jw=null;if(jt.get_isHighlightEnabled()){jw=Q.createBrushingComputer(jt,ju,e,jt.get_fieldCaptions(),jt.get_isOneWay())}gi.$g(jw,jv)};gi.$3=function(e,jt,ju){var jv=false;var jw=eU.getVisualModels(L.get_instance());var jx=ss.getEnumerator(Object.keys(jw));try{while(jx.moveNext()){var jy=jx.current();var jz=!ss.isNullOrUndefined(jt)&&ss.referenceEquals(jy,jt.AVP);if(!ju||!jz){var jA=eU.findContentDashboard();var jB=!ju&&jz||!G.isFilterSource(jA,jy);var jC=jw[jy];var jD=jC.get_selectionsModel().selectionModels;for(var jE=0;jE<jD.length;jE++){var jF=jD[jE];if(jB||jF.get_selectionType()!=='tuples'&&jF.get_selectionType()!=='nodes'){jv=gi.$7(e,jF,true)||jv}}}}}finally{jx.dispose()}return jv};gi.$4=function(e){var jt=false;var ju=eU.getVisualModels(L.get_instance());var jv=ss.getEnumerator(Object.keys(ju));try{while(jv.moveNext()){var jw=jv.current();var jx=ju[jw];var jy=jx.get_selectionsModel().selectionModels;for(var jz=0;jz<jy.length;jz++){var jA=jy[jz];jt=gi.$7(e,jA,true)||jt}}}finally{jv.dispose()}return jt};gi.$9=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,jv);var jy=new Object;var jz=iU.create(jy);jz.set_x(Math.round(e.x));jz.set_y(Math.round(e.y));jz.set_w(Math.round(e.w||0));jz.set_h(Math.round(e.h||0));jz.set_r(jt);if(ss.isValue(jw)){jz.set_fns(jw)}jx['vpK']=jy;jx['Mph0']=ju;return jx};gi.$8=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,jt);jx['HhR']=ju.get_legendNames();jx['jhL']=jv;jx['kyj']=e;jx['BCp']=jw;return jx};gi.$6=function(e,jt,ju){if(ss.isValue(jt)){gi.$7(e,jt,false);if(jt.get_selectionType()==='nodes'){ju.$1(e.modelUpdateContext)}}};gi.$a=function(e,jt,ju,jv){var jw={};if(ss.isValue(jv)){bS.addVisualIdToCommand(jw,jv)}var jx={};jx.kyj=e;jx.coe=jt;jw['Gvh']=jx;jw['bis']=gi.$l[ju];return jw};gi.setActiveZoneLocal=function(e,jt){var ju=eU.findContentDashboard();var jv=jt.makeMutablePresModel(ju,false);jv.xdK=e};gi.$7=function(e,jt,ju){if(jt.isEmpty){return false}var jv=e.makeMutablePresModel(jt,false);jv.kyj=[];jv.p$U=[];if(ju){jt.setOverriddenTupleIds([],e.modelUpdateContext)}return true};global.tab.SelectionClientCommands=gi;var gj=function(e,jt){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;this.isEmpty=false;eR.call(this,e,new fv(jt.toString()));this.isEmpty=true};gj.__typeName='tab.SelectionModel';gj.$0=function(e,jt){var ju=new ss.StringBuilder;if(ss.isValue(e)){ju.append(e.join(';'))}ju.append('=');if(ss.isValue(jt)){ju.append(jt.join(';'))}return ju.toString()};global.tab.SelectionModel=gj;var gk=function(e,jt,ju){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(jt);this.set_objectIds(ju||[])};gk.__typeName='tab.SelectionsDifference';gk.noDifference=function(){return new gk(false,0,null)};global.tab.SelectionsDifference=gk;var gl=function(){};gl.__typeName='tab.SelectionsDiffReason';global.tab.SelectionsDiffReason=gl;var gm=function(e,jt){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;eR.call(this,e,new fv(jt,1));this.selectionModels=[];var ju=fa.get_noopContext();this.tupleSelection=this.$1('tuples',ju);this.nodeSelection=this.$1('nodes',ju);this.trendLineSelection=this.$1('trend-lines',ju);this.refLineSelection=this.$1('ref-lines',ju)};gm.__typeName='tab.SelectionsModel';gm.$1=function(e){var jt={};jt.coe=e;switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{jt.kyj=[];break}case'legend-items':{jt.VNi={};jt.kyj=[];break}case'nodes':{jt.p$U=[];break}default:{break}}return jt};gm.$0=function(e,jt){var ju=[];var jv=new Set;for(var jw=0;jw<e.length;jw++){var jx=e[jw];jv.add(jx)}for(var jy=0;jy<jt.length;jy++){var jz=jt[jy];if(jv.has(jz)){jv.delete(jz)}else{ju.push(jz)}}jv.forEach(function(jA){ju.push(jA)});return ju};gm.computeTupleDictionaryDifference=function(e,jt){var ju=$.extend(true,new Object,e);var jv=$.extend(true,new Object,jt);var jw=[];var jx=ss.getEnumerator(Object.keys(ju));try{while(jx.moveNext()){var jy=jx.current();if(!ss.keyExists(jv,jy)){jw.push(ju[jy])}else{delete jv[jy]}}}finally{jx.dispose()}var jz=ss.getEnumerator(Object.keys(jv));try{while(jz.moveNext()){var jA=jz.current();jw.push(jv[jA])}}finally{jz.dispose()}return jw};global.tab.SelectionsModel=gm;var gn=function(){this.selections=null};gn.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=gn;var go=function(){};go.__typeName='tab.SelectionUtils';go.isCategoricalAndTupleAssociatedHeader=function(e,jt){return!go.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(jt)&&e.length===jt.length};go.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){return tab.MiscUtil.isNullOrEmpty(e)};go.resolveLegendSelection=function(e,jt,ju,jv){var jw=[];if(ss.isValue(jt)){var jx=jv.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(jx.kyj)){ss.arrayAddRange(jw,jx.kyj)}for(var jy=0;jy<jt.length;jy++){var jz=jt[jy];var jA=ss.indexOf(jw,jz.YLs);if(jA>=0){ss.removeAt(jw,jA)}else{jw.push(jz.YLs)}}break}case'range':{jw=go.$2(jt,ju,jx);break}case'simple':{var jB=(ss.isValue(jx.kyj)?jx.kyj:[]);if(jB.length<=1){for(var jC=0;jC<jt.length;jC++){var jD=jt[jC];var jE=ss.indexOf(jB,jD.YLs);if(jE>=0){ss.removeAt(jw,jE)}else{jw.push(jD.YLs)}}}else{ss.arrayAddRange(jw,_.pluck(jt,'YLs'.toString()))}break}}}return Array.prototype.slice.call(jw)};go.resolveMarkSelection=function(e,jt,ju,jv){var jw=[];switch(e){case'simple':{if(!jv&&jt.length===1&&ju.get_ids().length===1&&jt[0]===ju.get_ids()[0]){ss.clear(jw)}else{ss.arrayAddRange(jw,jt)}break}case'range':case'toggle':{ss.arrayAddRange(jw,ju.get_ids());for(var jx=0;jx<jt.length;jx++){var jy=jt[jx];if(!ju.isObjectSelected(jy)){jw.push(jy)}else if(!jv){ss.remove(jw,jy)}}break}}return Array.prototype.slice.call(jw)};go.resolveNodeSelection=function(e,jt,ju,jv,jw){var jx=null;if(ss.isValue(ju)){switch(e){case'simple':{jx=go.$4(ju,jv);break}case'toggle':{jx=go.$5(ju,jv);break}case'range':{jx=go.$3(jt,ju,jv);break}}}jw.p$U=jx||[]};go.$2=function(e,jt,ju){var jv=[];if(!ss.isValue(ju.kyj)){return jv}ss.arrayAddRange(jv,ju.kyj);ss.arrayAddRange(jv,_.pluck(e,'YLs'.toString()));var jw=ju.kyj[ju.kyj.length-1];var jx=-1;for(var jy=0;jy<jt.get_items().length;jy++){if(jt.get_items()[jy].YLs===jw){jx=jy}}var jz=((e.length>0)?ss.indexOf(jt.get_items(),e[0]):-1);if(jx<0||jz<0){return _.uniq(jv)}var jA=Math.min(jx,jz);var jB=jA+Math.abs(jx-jz)+1;for(var jC=jA;jC<jB;jC++){jv.push(jt.get_items()[jC].YLs)}return _.uniq(jv)};go.$0=function(e,jt,ju,jv){var jw=new Set;for(var jx=0;jx<e.length;jx++){var jy=e[jx];if(ss.isValue(jy.ZHX)){tab.SetUtilities.addAll(ss.Int32).call(null,jw,jy.ZHX)}}for(var jz=0;jz<jt.length;jz++){var jA=(ju?jt[jt.length-1-jz]:jt[jz]);if(tab.SetUtilities.interserctWith(ss.Int32).call(null,jw,jA.ZHX).size===0){continue}var jB=go.$1(e,jA,jv);if(jB!==-1){return jB}}return-1};go.$1=function(e,jt,ju){for(var jv=0;jv<e.length;jv++){var jw=e[jv];var jx=ss.isNullOrUndefined(ju)||_.isEqual(ju,jt.ZHX);if(jx&&_.isEqual(jw.ZHX,jt.ZHX)){var jy=tab.MiscUtil.isNullOrEmpty(jw.wwF)&&tab.MiscUtil.isNullOrEmpty(jt.wwF);if(jy||_.isEqual(jw.wwF,jt.wwF)){return jv}}}return-1};go.$3=function(e,jt,ju){var jv=go.$6(jt);var jw=ju.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty(jv.ZHX)){return jw}if(jw.length===0){jw.push(jv);return jw}var jx=go.isCategoricalAndTupleAssociatedHeader(jv.ZHX,jv.wwF);var jy=go.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(jv.wwF);var jz=!jx&&!jy;var jA=go.$0(e,ju.get_nodes(),true,(jx?jv.ZHX:null));if(jA===-1){if(jx||jz&&!ju.isNodeAncestorSelected(jt,false)){jw.push(jv)}return jw}if(ju.isNodeSelected(jt)||ju.isNodeAncestorSelected(jt,jx)){return jw}var jB=go.$0(e,ju.get_nodes(),false,null);var jC=go.$6(e[jB]);if(jx){if(!_.isEqual(jC.ZHX,jv.ZHX)){jw.push(jv);return jw}}else{var jD=go.$1(e,jC,null)!==-1;if(jy&&!jD){return jw}if(jz&&!jD){jw.push(jv);return jw}}var jE=ss.indexOf(e,jt);var jF=Math.min(jA,jE);var jG=jF+Math.abs(jA-jE)+1;for(var jH=jF;jH<jG;jH++){var jI=e[jH];var jJ=!jx||_.isEqual(jI.ZHX,jv.ZHX);if(jJ&&!ju.isNodeAncestorSelected(jI,jx)&&!ju.isNodeSelected(jI)){jw.push(go.$6(jI))}}return jw};go.$4=function(e,jt){if(!jt.isNodeSelected(e)||jt.get_nodes().length>1){return[go.$6(e)]}return null};go.$5=function(e,jt){var ju=[];ss.arrayAddRange(ju,jt.get_nodes());var jv=jt.findNodeSelection(e);if(ss.isValue(jv)){ss.remove(ju,jv)}else{var jw=go.isCategoricalAndTupleAssociatedHeader(e.ZHX,e.wwF);if(!jt.isNodeAncestorSelected(e,jw)){ju.push(go.$6(e))}}return Array.prototype.slice.call(ju)};go.$6=function(e){var jt={};jt.ZHX=e.ZHX||[];jt.wwF=e.wwF||[];return jt};global.tab.SelectionUtils=go;var gp=function(){ss.makeGenericType(O,[Object,gq]).call(this)};gp.__typeName='tab.SelectZoneParentCmd';global.tab.SelectZoneParentCmd=gp;var gq=function(e){this.$c=null;this.$c=e};gq.__typeName='tab.SelectZoneParentCmd$Response';global.tab.SelectZoneParentCmd$Response=gq;var gr=function(e,jt,ju){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=jt;this.scheduleDetails=ju};gr.__typeName='tab.SelfServiceSchedule';global.tab.SelfServiceSchedule=gr;var gs=function(){};gs.__typeName='tab.ServerCommands';gs.get_interceptorCount=function(){var e=0;var jt=new ss.ObjectEnumerator(gs.$1);try{while(jt.moveNext()){var ju=jt.current();e+=ju.value.length}}finally{jt.dispose()}return e};gs.$0=function(e,jt){return e+':'+jt};gs.executeServerCommand=function(e,jt,ju,jv){var jw=gs.$1[gs.$0(e.commandNamespace,e.commandName)];if(ss.isValue(jw)){for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];if(jy(e)===1){return}}}bF.SendCommand(fM.create(e,jt,ju,jv))};gs.intercept=function(e,jt){var ju='tabdoc'.toString();for(var jv=0;jv<e.length;jv++){var jw=e[jv];gs.addCommandInterceptor(jt,ju,jw.toString())}return jt};gs.addCommandInterceptor=function(e,jt,ju){var jv=gs.$0(jt,ju);var jw=gs.$1[jv];if(ss.isNullOrUndefined(jw)){jw=[];gs.$1[jv]=jw}jw.push(e);return e};gs.removeIntercept=function(e,jt){var ju='tabdoc'.toString();for(var jv=0;jv<e.length;jv++){var jw=e[jv];gs.removeCommandInterceptor(jt,ju,jw.toString())}};gs.removeCommandInterceptor=function(e,jt,ju){var jv=gs.$0(jt,ju);var jw=gs.$1[jv];if(!ss.isNullOrUndefined(jw)){for(var jx=0;jx<jw.length;jx++){if(ss.staticEquals(jw[jx],e)){ss.removeAt(jw,jx);if(jw.length===0){delete gs.$1[jv];return}}}}};gs.clearAllCommandInterceptors=function(){ss.clearKeys(gs.$1)};global.tab.ServerCommands=gs;var gt=function(e,jt,ju,jv,jw,jx){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=jt;this.$4=ju;this.$3=jv;if(ss.isNullOrUndefined(jw)||jw){this.$1=this.$5.incrementWait(jx)}};gt.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=gt;var gu=function(e,jt){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=jt;this.$9=e.$4('status')};gu.__typeName='tab.SessionAjaxHandler';var gv=function(){};gv.__typeName='tab.SessionCommands';gv.ping=function(){(new fr).invoke()};global.tab.SessionCommands=gv;var gw=function(){};gw.__typeName='tab.SessionHeartbeat';gw.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();gw.$0=e;if(e-gw.$1>gw.$3){gw.$1=e;gv.ping()}};gw.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();gw.$1=e;if(e-gw.$0>gw.$2){gw.$0=e;ji.extendWorkgroupSession()}};global.tab.SessionHeartbeat=gw;var gx=function(){};gx.__typeName='tab.SessionServerCommands';gx.cancelLatestSetTimeout=function(){window.clearTimeout(gx.$0)};gx.destroySessionAndForward$1=function(e,jt){var ju=2000;var jv=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,jt)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,jt)}};var jw=null;jw=function(){jv();gx.cancelLatestSetTimeout();ju*=2;gx.$0=window.setTimeout(jw,ju)};var jx=function(){jv();if(tab.BrowserSupport.get_isMac()&&(tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isFF())){gx.$0=window.setTimeout(jw,ju)}};gx.destroySessionAndForward(jx)};gx.destroySessionAndForward=function(e){var jt=bF.get().get_legacySession();jt.get_waitHandler().showAndLock(false);var ju=jt.$0(function(){e()},function(){},function(){},'immediately');var jv={};jv.type='DELETE';jv.url=jt.$4('destroy');jv.headers=ss.mkdict(['Accept','text/javascript']);jv.dataType='json';jt.$b(jv,ju)};global.tab.SessionServerCommands=gx;var gy=function(){ss.makeGenericType(O,[Object,gz]).call(this)};gy.__typeName='tab.SetCategoricalItemColorsCmd';global.tab.SetCategoricalItemColorsCmd=gy;var gz=function(e){this.$c=null;this.$c=e};gz.__typeName='tab.SetCategoricalItemColorsCmd$Response';global.tab.SetCategoricalItemColorsCmd$Response=gz;var gA=function(){ss.makeGenericType(O,[Object,gB]).call(this)};gA.__typeName='tab.SetCategoricalLegendItemColorCmd';global.tab.SetCategoricalLegendItemColorCmd=gA;var gB=function(e){this.$c=null;this.$c=e};gB.__typeName='tab.SetCategoricalLegendItemColorCmd$Response';global.tab.SetCategoricalLegendItemColorCmd$Response=gB;var gC=function(){ss.makeGenericType(O,[Object,gD]).call(this)};gC.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=gC;var gD=function(e){this.$c=null;this.$c=e};gD.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=gD;var gE=function(){ss.makeGenericType(O,[Object,gF]).call(this)};gE.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=gE;var gF=function(e){this.$c=null;this.$c=e};gF.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=gF;var gG=function(){ss.makeGenericType(O,[Object,gH]).call(this)};gG.__typeName='tab.SetSelectedLegendItemsCmd';global.tab.SetSelectedLegendItemsCmd=gG;var gH=function(e){this.$c=null;this.$c=e};gH.__typeName='tab.SetSelectedLegendItemsCmd$Response';global.tab.SetSelectedLegendItemsCmd$Response=gH;var gI=function(){ss.makeGenericType(O,[Object,gJ]).call(this)};gI.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=gI;var gJ=function(e){this.$c=null;this.$c=e};gJ.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=gJ;var gK=function(){this.$2={};this.$1={};this.$3={};this.$1$1=null};gK.__typeName='tab.ShapeManager';gK.get_canvasCacheCapacity=function(){return gK.$1};gK.getCacheKey$1=function(e,jt,ju,jv,jw,jx){return e+';'+jt+';'+ju+';'+jv+';'+jw+';'+jx};gK.getCacheKey=function(e,jt,ju,jv,jw){return e+';'+jt+';'+ju+';'+jv+';'+jw};global.tab.ShapeManager=gK;var gL=function(e,jt){this.$0=null;this.$1=null;this.$0=e;this.$1=jt};gL.__typeName='tab.ShapeModel';gL.fromString=function(e){var jt=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var ju=jt.exec(e);if(ss.isNullOrUndefined(ju)){return null}var jv=ju[2];var jw=ju[3];if(ss.isNullOrUndefined(jw)){return null}var jx=null;if(ss.isValue(jv)){if(ss.referenceEquals(jv,'filled'.toString())){jx='filled'}else{return null}}var jy=jw;return new gL(jx,jy)};global.tab.ShapeModel=gL;var gM=function(){};gM.__typeName='tab.SheetClientCommands';gM.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}bF.get().prepareForSheetChange();var jt=gM.createSwitchSheetsCommand(e.sheetName);gs.executeServerCommand(jt,'immediately',e.successCallback,e.errorCallback)};gM.createSwitchSheetsCommand=function(e){var jt={};jt['DYs']=e;return bS.newCommand$1('ensure-layout-for-sheet',jt)};gM.goToSheet=function(e){bF.get().prepareForSheetChange();var jt={};jt['Gge']=e;var ju=bS.newCommand('goto-sheet',jt);gs.executeServerCommand(ju,'immediately')};gM.ensureLayoutForSheet=function(e){var jt=gM.createSwitchSheetsCommand(e);gs.executeServerCommand(jt,'immediately')};gM.createSheet=function(e,jt){var ju=bS.newCommand('new-worksheet',null);gM.$0(ju,e,jt);gs.executeServerCommand(ju,'immediately',null,null)};gM.renameSheet=function(e,jt){var ju={};ju['Gge']=e;ju['tox']=jt;var jv=bS.newCommand('rename-sheet',ju);gs.executeServerCommand(jv,'immediately',null,null)};gM.createDashboardOrStory=function(e,jt,ju){var jv=(ju?'new-storyboard':'new-dashboard');var jw=bS.newCommand(jv,null);gM.$0(jw,e,jt);gs.executeServerCommand(jw,'immediately',null,null)};gM.$0=function(e,jt,ju){e.commandParams={};if(ss.isValue(jt)){e.commandParams['tox']=jt}if(ju){e.commandParams['ncI']=ju.toString()}e.commandParams['De']=true};gM.getSheetTabContextMenu=function(e,jt){var ju=bS.newCommand('build-sheet-tab-context-menu',null);ju.commandParams={};if(ss.isValue(e)){ju.commandParams['DDA']=e}gs.executeServerCommand(ju,'none',function(jv){jt(jv)},null)};gM.getSheetListContextMenu=function(e,jt,ju){var jv=new V;jv.c['DDA']=e;jv.c['$dg']=jt;var jw=jv;jw.invoke().then(ju)};gM.getCaptionContextMenu=function(e,jt){var ju=new R;ju.c['DDA']=e;var jv=ju;jv.invoke().then(jt)};gM.getTitleContextMenu=function(e,jt){var ju=new X;ju.c['DDA']=e;var jv=ju;jv.invoke().then(jt)};gM.$1=function(e){return{EUR:Math.floor(e.EUR),rec:Math.floor(e.rec)}};gM.setPortSize=function(e){var jt=bS.newCommand$1('set-port-size',null);jt.commandParams={};jt.commandParams['Gge']=tsConfig.current_sheet_name;var ju=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');var jv=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet');jt.commandParams['Yqf']=gM.$1({EUR:jv.h,rec:jv.w});jt.commandParams['jWP']=gM.$1({EUR:ju.h,rec:ju.w});jt.commandParams['viI']=gM.$1({EUR:ju.h,rec:ju.w});gs.executeServerCommand(jt,'immediately');L.get_instance().get_workbook().withOuterDashboard(function(jw){jw.set_portSize(e)})};global.tab.SheetClientCommands=gM;var gN=function(e,jt){eR.call(this,e,new fv(jt.toString()))};gN.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=gN;var gO=function(e){this.$2=null;this.$1=null;this.$2$1=null;eR.call(this,e,new fv('Tbf'.toString()));this.$1=new l(this)};gO.__typeName='tab.SheetListModel';global.tab.SheetListModel=gO;var gP=function(e,jt,ju){this.sheetId=null;P.call(this,e,ju);this.sheetId=jt};gP.__typeName='tab.SheetSession';gP.add_sheetDataChanged=function(e){gP.$2$1=ss.delegateCombine(gP.$2$1,e)};gP.remove_sheetDataChanged=function(e){gP.$2$1=ss.delegateRemove(gP.$2$1,e)};gP.fireSheetDataChanged=function(){if(ss.isValue(gP.$2$1)){gP.$2$1()}};global.tab.SheetSession=gP;var gQ=function(){};gQ.__typeName='tab.ShelfClientCommands';gQ.setItemEncodingType=function(e,jt,ju){var jv={};bS.addVisualIdToCommand(jv,gQ.$4());jv['FsL']=e.get_paneId().toString();jv['rsY']=ss.indexOf(e.get_pills(),jt).toString();jv['Srb']=ju.toString();jv['Ene']=e.get_shelfType().toString();var jw=bS.newCommand('set-item-encoding-type',jv);gs.executeServerCommand(jw,'immediately')};gQ.startDrag=function(e,jt,ju){var jv=$.Deferred();var jw={};jw['AVP']=tsConfig.current_sheet_name;jw['beN']=JSON.stringify(false);if(ss.isValue(ju)){jw['FsL']=JSON.stringify(ju)}gQ.$2(jw,e,jt);var jx=bS.newCommand('get-drag-pres-model',jw);gs.executeServerCommand(jx,'none',bF.$1(Object).call(null,jv),function(){jv.reject()});return jv};gQ.executeDragToShowMe=function(e,jt){var ju=$.Deferred();var jv={commandNamespace:'tabdoc'.toString(),commandName:'drop-on-showme'.toString(),commandParams:{}};var jw={Ene:'show-me-shelf',ZMD:0,UYq:'replace',Etu:false,lcO:true};var jx={ZMD:(jt.isFromDataSchemaPane?-1:0),UYq:(jt.isFromDataSchemaPane?'insert':'replace')};if(jt.isFromDataSchemaPane){jx.Ene='none-shelf'}var jy=new Array(jt.infoList.length);for(var jz=0;jz<jt.infoList.length;++jz){var jA=jt.infoList[jz];jy[jz]=gQ.$3(jA.fieldModel,jA.encodingType)}jv.commandParams['J_M']=JSON.stringify(e);jv.commandParams['JPc']=JSON.stringify(jy);jv.commandParams['xyL']='none';jv.commandParams['ikr']=jt.isCopyDrag;jv.commandParams['Pq_']=false;jv.commandParams['Qah']=(jt.isFromDataSchemaPane?'drag-drop-schema':'drag-drop-shelf');jv.commandParams['QjG']='drag-drop-viz';jv.commandParams['tQC']='';jv.commandParams['HzK']=jx;jv.commandParams['FpB']=jw;jv.commandParams['wXB']=jt.isShiftDrag;jv.commandParams['AVP']=tsConfig.current_sheet_name;jv.commandParams['XwZ']=eU.findContentDashboard().pm.IJE;jv.commandParams['beN']=false;gs.executeServerCommand(jv,'immediately',bF.$1(Object).call(null,ju),function(jB){ju.reject()})};gQ.drillOnPill=function(e,jt,ju){var jv={};jv['AVP']=tsConfig.current_sheet_name;jv['Ene']=e.get_shelfType().toString();jv['rsY']=ju.toString();jv['LIP']=JSON.stringify(jt.get_shouldDrill());if(e.get_shelfType()==='encoding-shelf'){jv['FsL']=e.get_paneId().toString()}var jw=bS.newCommand('level-drill-up-down',jv);bF.SendCommand(fM.create(jw,'immediately'))};gQ.removeShelfPill=function(e,jt){var ju=gQ.$1();ju.commandName='drop-nowhere'.toString();var jv=ju.commandParams;jv['FsL']=e.get_paneId();jv['tQC']=e.get_shelfType().toString();gQ.$6(jv,jt.get_column(),jt.get_encodingType());jv['AEa']=[jt.pm.bbx];jv['Qah']='drag-drop-shelf';var jw=jv['HzK'];jw.Ene=e.get_shelfType();jw.ZMD=ss.indexOf(e.get_pills(),jt);jw.UYq='replace';var jx=new bt('immediately',function(jy){gQ.$5(jy.makeMutablePresModel(e,false),jt.pm)},ju);bF.SendCommand(jx)};gQ.replaceShelfPill=function(e,jt,ju,jv,jw,jx){var jy=ss.indexOf(e.get_pills(),jt);var jz=jw.ZMD;var jA=gQ.$1();var jB=jA.commandParams;gQ.$6(jB,jt.get_column(),jt.get_encodingType());jB['AEa']=[jt.pm.bbx];jB['Qah']='drag-drop-shelf';var jC=jB['HzK'];jC.Ene=e.get_shelfType();jC.ZMD=jy;jC.UYq='replace';jB['FsL']=ju.get_paneId();jB['QjG']='drag-drop-shelf';if(ss.isNullOrUndefined(jw)){jw=jB['FpB'];jw.Ene=ju.get_shelfType();jw.ZMD=jz;jw.Srb=jv.get_encodingType();jw.UYq='replace'}else{jB['FpB']=jw}if(jx){jB['ikr']=gQ.$8}var jD=new m(function(jE){if(!jx){var jF=jE.makeMutablePresModel(e,false);gQ.$5(jF,jt.pm)}var jG=jE.makeMutablePresModel(ju,false);gQ.$5(jG,jv.pm);var jH={MzX:jt.pm.MzX,HBp02:jt.pm.HBp02,Srb:jv.get_encodingType(),Sfw:jv.pm.Sfw};gQ.$0(jG,jH,jw,0)},jA,ju.get_shelfType());bF.SendCommand(jD)};gQ.moveShelfPill=function(e,jt,ju,jv,jw){var jx=gQ.$1();var jy=jx.commandParams;jy['AEa']=[ju.pm.bbx];gQ.$6(jy,ju.get_column(),ju.get_encodingType());if(jw){jy['ikr']=gQ.$8}jy['Qah']='drag-drop-shelf';var jz=jy['HzK'];jz.Ene=e.get_shelfType();jz.ZMD=ss.indexOf(e.get_pills(),ju);jz.UYq='replace';if(ss.isNullOrUndefined(jv)){jv=jy['FpB'];jv.Ene=jt.get_shelfType();jv.ZMD=0;jv.UYq=(ss.referenceEquals(e,jt)?'swap':'insert')}jy['QjG']='drag-drop-shelf';jy['FsL']=jt.get_paneId();jy['FpB']=jv;var jA=new m(function(jB){var jC={MzX:ju.pm.MzX,HBp02:ju.pm.HBp02,Srb:jv.Srb};var jD=jB.makeMutablePresModel(jt,false);gQ.$0(jD,jC,jv,0);if(!jw){var jE=jB.makeMutablePresModel(e,false);gQ.$5(jE,ju.pm)}},jx,jt.get_shelfType());bF.SendCommand(jA)};gQ.movePillToEncoding=function(e,jt,ju,jv,jw,jx){var jy=gQ.$1();var jz=jy.commandParams;jz['AEa']=[jv.pm.bbx];jz['Qah']='drag-drop-shelf';var jA=jz['HzK'];jA.Ene=e.get_shelfType();jA.ZMD=ss.indexOf(e.get_pills(),jv);jA.Srb=jv.get_encodingType();jA.UYq='replace';jA.AYC=false;gQ.$6(jz,jv.get_column(),jv.get_encodingType());if(jw){jz['ikr']=gQ.$8}if(ss.isNullOrUndefined(jx)){jx=jz['FpB'];jx.Ene='encoding-shelf';jx.ZMD=0;jx.UYq='insert';jx.Srb=ju;jx.AYC=true}jz['QjG']='drag-drop-shelf';jz['FsL']=jt.get_paneId();jz['FpB']=JSON.stringify(jx);var jB=new m(function(jC){var jD=jC.makeMutablePresModel(e,false);if(!jw){gQ.$5(jD,jv.pm)}var jE={MzX:jv.get_column().get_description(),HBp02:jv.get_column().get_globalName(),Srb:ju,Sfw:jv.pm.Sfw};gQ.$0(jD,jE,jx,0)},jy,jt.get_shelfType());bF.SendCommand(jB)};gQ.addEncodingFields=function(e,jt,ju,jv,jw){var jx=gQ.$1();var jy=jx.commandParams;if(ss.isNullOrUndefined(jv)){jv=jy['FpB'];jv.Ene='encoding-shelf';jv.ZMD=0;jv.UYq='insert';jv.Srb=ju}if(jw){jy['wXB']=gQ.$8}gQ.$2(jy,jt,'invalid-encoding');jy['FsL']=e.get_paneId();jy['Qah']='drag-drop-schema';jy['QjG']='drag-drop-shelf';jy['FpB']=JSON.stringify(jv);var jz=new m(function(jA){var jB=jA.makeMutablePresModel(e,false);for(var jC=0;jC<jt.length;jC++){var jD=jt[jC];var jE={MzX:jD.get_description(),HBp02:jD.get_globalName(),Srb:ju,Sfw:[{}]};jE.Sfw[0].DIk02=true;jE.Sfw[0].Tsz02=true;jE.Sfw[0].Srb=jE.Srb;gQ.$0(jB,jE,jv,0)}},jx,e.get_shelfType());bF.SendCommand(jz)};gQ.addShelfField=function(e,jt,ju,jv){var jw=gQ.$1();var jx=jw.commandParams;if(ss.isNullOrUndefined(jv)){jv=jx['FpB'];jv.Ene=e.get_shelfType();jv.ZMD=0;jv.UYq='insert';jv.Srb=ju}gQ.$2(jx,jt,'invalid-encoding');jx['FsL']=e.get_paneId();jx['Qah']='drag-drop-schema';jx['QjG']='drag-drop-shelf';jx['FpB']=jv;if(ju!=='invalid-encoding'){jx['Srb']=ju.toString()}var jy=new m(function(jz){var jA=0;for(var jB=0;jB<jt.length;jB++){var jC=jt[jB];var jD={MzX:jC.get_description(),HBp02:jC.get_globalName(),Srb:((e.get_shelfType()==='encoding-shelf'&&ju==='invalid-encoding')?'level-of-detail-encoding':ju)};var jE=jz.makeMutablePresModel(e,false);gQ.$0(jE,jD,jv,jA);jA++}},jw,e.get_shelfType());bF.SendCommand(jy)};gQ.replaceShelfPillWithField=function(e,jt,ju,jv){var jw=gQ.$1();var jx=jw.commandParams;if(ss.isNullOrUndefined(jv)){jv=jx['FpB'];jv.Ene=e.get_shelfType();jv.ZMD=ss.indexOf(e.get_pills(),jt);jv.UYq='replace';jv.Srb=jt.get_encodingType()}gQ.$2(jx,ju,'invalid-encoding');jx['FsL']=e.get_paneId();jx['AEa']=[];jx['Qah']='drag-drop-schema';jx['QjG']='drag-drop-shelf';jx['FpB']=jv;var jy=new m(function(jz){var jA=jz.makeMutablePresModel(e,false);var jB=0;for(var jC=0;jC<ju.length;jC++){var jD=ju[jC];var jE={MzX:jD.get_description(),HBp02:jD.get_globalName(),Srb:jt.get_encodingType(),Sfw:jt.pm.Sfw};gQ.$0(jA,jE,jv,jB);jB++}},jw,e.get_shelfType());bF.SendCommand(jy)};gQ.setCommandParams=function(e,jt){bS.addVisualIdToCommand(jt,gQ.$4());var ju=new ss.ObjectEnumerator(jt);try{while(ju.moveNext()){var jv=ju.current();var jw=jv.value;if(ss.isNullOrUndefined(jw)||_.isString(jw)||_.isBoolean(jw)||_.isNumber(jw)){}else if(_.isObject(jw)||_.isArray(jw)){jt[jv.key]=JSON.stringify(jw)}}}finally{ju.dispose()}e.commandParams=jt};gQ.$1=function(){var e={};e['Qah']='drag-drop-none';e['QjG']='drag-drop-none';e['tQC']='';e['ikr']=false;e['Pq_']=false;e['beN']=false;e['xyL']='none';e['HzK']={};e['FpB']={};return bS.newCommand('drop-on-shelf',e)};gQ.$3=function(e,jt){var ju={HBp02:e.get_globalName()};if(ss.isValue(jt)&&jt!=='invalid-encoding'){ju.Srb=jt}return ju};gQ.$6=function(e,jt,ju){e['JPc']=JSON.stringify([gQ.$3(jt,ju)])};gQ.$2=function(e,jt,ju){var jv=_.map(jt,function(jw){return gQ.$3(jw,ju)});e['JPc']=JSON.stringify(jv)};gQ.$0=function(e,jt,ju,jv){var jw=((jv>0)?'insert':(ju.UYq||'insert'));switch(jw){case'insert':{ss.insert(gQ.$7(e.zcg),ju.ZMD+jv,jt);break}case'replace':{e.zcg[ju.ZMD]=jt;break}case'replace-all':{e.zcg[ju.ZMD]=jt;e.zcg=_.filter(e.zcg,function(jx){return jx.Srb!==ju.Srb||ss.referenceEquals(jx,jt)});break}}};gQ.$5=function(e,jt){e.zcg=_.filter(e.zcg,function(ju){return!_.isEqual(ju,jt)})};gQ.$7=function(e){return e};gQ.$4=function(){return eU.getVisualId(tsConfig.current_sheet_name)};global.tab.ShelfClientCommands=gQ;var gR=function(e){eR.call(this,e,new fv('zcg'.toString(),1))};gR.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=gR;var gS=function(e){eR.call(this,e,new fv('PmI'.toString(),1))};gS.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=gS;var gT=function(e,jt){this.$2=null;this.$2$1=null;eR.call(this,e,new fv(jt.toString()))};gT.__typeName='tab.ShelfModel';global.tab.ShelfModel=gT;var gU=function(e){this.$3=[];this.$2$1=null;eR.call(this,e,new fv('MiB'.toString()))};gU.__typeName='tab.ShelvesModel';gU.createShelfModel=function(e,jt,ju,jv,jw){var jx=new gT(new gS(e),jv);jx.update(jt,ju,jw);return jx};global.tab.ShelvesModel=gU;var gV=function(){ss.makeGenericType(O,[Object,gW]).call(this)};gV.__typeName='tab.ShowCaptionCmd';global.tab.ShowCaptionCmd=gV;var gW=function(e){this.$c=null;this.$c=e};gW.__typeName='tab.ShowCaptionCmd$Response';global.tab.ShowCaptionCmd$Response=gW;var gX=function(){ss.makeGenericType(O,[Object,gY]).call(this)};gX.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=gX;var gY=function(e){this.$c=null;this.$c=e};gY.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=gY;var gZ=function(e){this.$0=null;this.$0=e};gZ.__typeName='tab.SimpleCommandsPresModelWrapper';gZ.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new gZ(e)};global.tab.SimpleCommandsPresModelWrapper=gZ;var ha=function(e,jt){this.$2$1=null;eR.call(this,e,new fv(jt.toString()))};ha.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=ha;var hb=function(e){this.$2$1=null;eR.call(this,e,new fv('$tK'.toString()))};hb.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=hb;var hc=function(){};hc.__typeName='tab.SortServerCommands';hc.sortFromIndicator=function(e,jt,ju){var jv=eU.getZoneIdForSheetName(ju.AVP);var jw=hc.$2(e,jt,ju,jv);var jx=bS.newCommand('sort-from-indicator',jw);var jy=new bt('afterDelay',function(jz){if(hc.$0(jv)){gi.setActiveZoneLocal(jv,jz)}},jx);bF.SendCommand(jy)};hc.quickSort=function(e,jt){var ju=hc.$1(e,jt);var jv=bS.newCommand('quick-sort',ju);var jw=new bt('afterDelay',null,jv);bF.SendCommand(jw)};hc.$2=function(e,jt,ju,jv){var jw={};var jx={x:Math.floor(e.x),y:Math.floor(e.y)};var jy={x:Math.floor(jt.x),y:Math.floor(jt.y)};bS.addVisualIdToCommand(jw,ju);jw['hcY']=JSON.stringify(tab.PointUtil.toPresModel(jx));jw['xxA']=JSON.stringify(tab.PointUtil.toPresModel(jy));if(hc.$0(jv)){jw['TBd']=eU.findContentDashboard().pm.IJE;jw['BCp']=jv}return jw};hc.$0=function(e){return tsConfig.allow_select&&e!==-1&&!eU.isActiveZone(e)};hc.$1=function(e,jt){var ju={};bS.addVisualIdToCommand(ju,e);ju['rei02']=jt;return ju};global.tab.SortServerCommands=hc;var hd=function(){ss.makeGenericType(O,[Object,he]).call(this)};hd.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=hd;var he=function(e){this.$c=null;this.$c=e};he.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=he;var hf=function(){};hf.__typeName='tab.StartupUtils';hf.add_modelsInitialized=function(e){hf.$1$1=ss.delegateCombine(hf.$1$1,e)};hf.remove_modelsInitialized=function(e){hf.$1$1=ss.delegateRemove(hf.$1$1,e)};hf.add_clientFullyLoaded=function(e){hf.$1$2=ss.delegateCombine(hf.$1$2,e)};hf.remove_clientFullyLoaded=function(e){hf.$1$2=ss.delegateRemove(hf.$1$2,e)};hf.callAfterBootstrap=function(e){if(hf.$1){e()}else{var jt=null;jt=function(){e();hf.remove_clientFullyLoaded(jt)};hf.add_clientFullyLoaded(jt)}};hf.callAfterModelsInitialized=function(e){if(hf.$2){e()}else{var jt=null;jt=function(){e();hf.remove_modelsInitialized(jt)};hf.add_modelsInitialized(jt)}};hf.notifyModelsInitialized=function(){if(hf.$2){return}hf.$2=true;if(!ss.staticEquals(hf.$1$1,null)){hf.$1$1()}};hf.$0=function(){if(hf.$1){return}hf.$1=true;if(!ss.staticEquals(hf.$1$2,null)){hf.$1$2()}};global.tab.StartupUtils=hf;var hg=function(e,jt){this.$3=null;this.$2$1=null;this.$2$2=null;eR.call(this,e,new fv(jt.toString(),0));this.$3=new cg(this)};hg.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=hg;var hh=function(e){this.$1=null;eR.call(this,e,new fv('stK'.toString()))};hh.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=hh;var hi=function(){this.$3=null;this.$3=new(ss.makeGenericType(eL,[String,v]))(hi.$6);jn.get().add_onCommandResponse(ss.mkdel(this,this.$0));hi.$5=new ss.Lazy(function(){return['capture-story-point'.toString(),'delete-story-point'.toString(),'duplicate-active-story-point'.toString(),'edit-story-point-caption'.toString(),'ensure-layout-for-sheet'.toString(),'get-storyboard'.toString(),'insert-story-point'.toString(),'next-story-point'.toString(),'new-blank-story-point'.toString(),'previous-story-point'.toString(),'replace-story-point'.toString(),'revert'.toString(),'revert-story-point'.toString(),'revert-workbook'.toString(),'save-active-story-point-as-new'.toString(),'set-active-story-point'.toString(),'toggle-storypoints-nav-arrows'.toString()]});if(ss.isValue(hi.$4)){this.$3.add(hi.$4.item1.toString(),hi.$4.item2);hi.$4=null}};hi.__typeName='tab.StoryPointsPresModelCache';hi.$0=function(e){if(!hi.$3(e)){return}var jt=hi.$1(e);if(ss.isValue(jt)){var ju=new v(jt);hi.$4={item1:jt.hVl,item2:ju}}jn.get().remove_onBootstrapResponse(hi.$0)};hi.$3=function(e){if(hi.$2(e)||!e.res.mmK.Jqz||e.ABX!=='render-mode-client'){return false}return true};hi.$2=function(e){if(ss.isNullOrUndefined(e.res)||ss.isNullOrUndefined(e.res.mmK)||ss.isNullOrUndefined(e.res.mmK.HCq)){return true}return false};hi.$1=function(e){if(e.ABX!=='render-mode-client'){return null}if(hi.$2(e)){return null}var jt=null;var ju=e.res.mmK.HCq;var jv=_.keys(ju);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];var jy=ju[jx];if(ss.isNullOrUndefined(jy)||jy.jAM!=='flipboard'){continue}jt=jr.getContent(jy,'XIo');break}if(ss.isNullOrUndefined(jt)){return null}var jz=jt.P_I.toString();var jA=jt.stK[jz];return jA};global.tab.StoryPointsPresModelCache=hi;var hj=function(e){this.$2$1=null;eR.call(this,e,new fv('rPC'.toString(),0))};hj.__typeName='tab.StyledBoxModel';global.tab.StyledBoxModel=hj;var hk=function(){ss.makeGenericType(O,[Object,hl]).call(this)};hk.__typeName='tab.TableCalcAddCmd';global.tab.TableCalcAddCmd=hk;var hl=function(e){this.$c=null;this.$c=e};hl.__typeName='tab.TableCalcAddCmd$Response';global.tab.TableCalcAddCmd$Response=hl;var hm=function(){ss.makeGenericType(O,[Object,hn]).call(this)};hm.__typeName='tab.TableCalcChangeTypeCmd';global.tab.TableCalcChangeTypeCmd=hm;var hn=function(e){this.$c=null;this.$c=e};hn.__typeName='tab.TableCalcChangeTypeCmd$Response';global.tab.TableCalcChangeTypeCmd$Response=hn;var ho=function(){ss.makeGenericType(O,[Object,hp]).call(this)};ho.__typeName='tab.TableCalcCloseCmd';global.tab.TableCalcCloseCmd=ho;var hp=function(e){this.$c=null;this.$c=e};hp.__typeName='tab.TableCalcCloseCmd$Response';global.tab.TableCalcCloseCmd$Response=hp;var hq=function(){ss.makeGenericType(O,[Object,hr]).call(this)};hq.__typeName='tab.TableCalcDialogActivatedCmd';global.tab.TableCalcDialogActivatedCmd=hq;var hr=function(e){this.$c=null;this.$c=e};hr.__typeName='tab.TableCalcDialogActivatedCmd$Response';global.tab.TableCalcDialogActivatedCmd$Response=hr;var hs=function(){ss.makeGenericType(O,[Object,ht]).call(this)};hs.__typeName='tab.TableCalcEditCmd';global.tab.TableCalcEditCmd=hs;var ht=function(e){this.$c=null;this.$c=e};ht.__typeName='tab.TableCalcEditCmd$Response';global.tab.TableCalcEditCmd$Response=ht;var hu=function(){ss.makeGenericType(O,[Object,hv]).call(this)};hu.__typeName='tab.TableCalcEditDefaultsCmd';global.tab.TableCalcEditDefaultsCmd=hu;var hv=function(e){this.$c=null;this.$c=e};hv.__typeName='tab.TableCalcEditDefaultsCmd$Response';global.tab.TableCalcEditDefaultsCmd$Response=hv;var hw=function(){ss.makeGenericType(O,[Object,hx]).call(this)};hw.__typeName='tab.TableCalcEditNestedTableCalcCmd';global.tab.TableCalcEditNestedTableCalcCmd=hw;var hx=function(e){this.$c=null;this.$c=e};hx.__typeName='tab.TableCalcEditNestedTableCalcCmd$Response';global.tab.TableCalcEditNestedTableCalcCmd$Response=hx;var hy=function(e){this.$1=null;this.$0=null;this.update(e)};hy.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=hy;var hz=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;eR.call(this,e,new fv('OKS'.toString()));this.set_tableCalcIdentifier(new hy(null));this.$3=new hA(this)};hz.__typeName='tab.TableCalcModel';hz.$0=function(e,jt){if(!(jt in e.wqq)){return null}return e.wqq[jt]};global.tab.TableCalcModel=hz;var hA=function(e){this.$2$1=null;eR.call(this,e,new fv('xtX'.toString()))};hA.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=hA;var hB=function(e){this.$2$1=null;eR.call(this,e,new fv('bUz'.toString()))};hB.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=hB;var hC=function(){ss.makeGenericType(O,[Object,hD]).call(this)};hC.__typeName='tab.TableCalcSetAddressingFieldsCmd';global.tab.TableCalcSetAddressingFieldsCmd=hC;var hD=function(e){this.$c=null;this.$c=e};hD.__typeName='tab.TableCalcSetAddressingFieldsCmd$Response';global.tab.TableCalcSetAddressingFieldsCmd$Response=hD;var hE=function(){ss.makeGenericType(O,[Object,hF]).call(this)};hE.__typeName='tab.TableCalcSetAddressingFieldsOrderCmd';global.tab.TableCalcSetAddressingFieldsOrderCmd=hE;var hF=function(e){this.$c=null;this.$c=e};hF.__typeName='tab.TableCalcSetAddressingFieldsOrderCmd$Response';global.tab.TableCalcSetAddressingFieldsOrderCmd$Response=hF;var hG=function(){ss.makeGenericType(O,[Object,hH]).call(this)};hG.__typeName='tab.TableCalcSetAtTheLevelFieldCmd';global.tab.TableCalcSetAtTheLevelFieldCmd=hG;var hH=function(e){this.$c=null;this.$c=e};hH.__typeName='tab.TableCalcSetAtTheLevelFieldCmd$Response';global.tab.TableCalcSetAtTheLevelFieldCmd$Response=hH;var hI=function(){ss.makeGenericType(O,[Object,hJ]).call(this)};hI.__typeName='tab.TableCalcSetCompoundRateCmd';global.tab.TableCalcSetCompoundRateCmd=hI;var hJ=function(e){this.$c=null;this.$c=e};hJ.__typeName='tab.TableCalcSetCompoundRateCmd$Response';global.tab.TableCalcSetCompoundRateCmd$Response=hJ;var hK=function(){ss.makeGenericType(O,[Object,hL]).call(this)};hK.__typeName='tab.TableCalcSetCumulativeOptionsCmd';global.tab.TableCalcSetCumulativeOptionsCmd=hK;var hL=function(e){this.$c=null;this.$c=e};hL.__typeName='tab.TableCalcSetCumulativeOptionsCmd$Response';global.tab.TableCalcSetCumulativeOptionsCmd$Response=hL;var hM=function(){ss.makeGenericType(O,[Object,hN]).call(this)};hM.__typeName='tab.TableCalcSetNullIfIncompleteCmd';global.tab.TableCalcSetNullIfIncompleteCmd=hM;var hN=function(e){this.$c=null;this.$c=e};hN.__typeName='tab.TableCalcSetNullIfIncompleteCmd$Response';global.tab.TableCalcSetNullIfIncompleteCmd$Response=hN;var hO=function(){ss.makeGenericType(O,[Object,hP]).call(this)};hO.__typeName='tab.TableCalcSetOrderingTypeCmd';global.tab.TableCalcSetOrderingTypeCmd=hO;var hP=function(e){this.$c=null;this.$c=e};hP.__typeName='tab.TableCalcSetOrderingTypeCmd$Response';global.tab.TableCalcSetOrderingTypeCmd$Response=hP;var hQ=function(){ss.makeGenericType(O,[Object,hR]).call(this)};hQ.__typeName='tab.TableCalcSetPercentTotalOptionsCmd';global.tab.TableCalcSetPercentTotalOptionsCmd=hQ;var hR=function(e){this.$c=null;this.$c=e};hR.__typeName='tab.TableCalcSetPercentTotalOptionsCmd$Response';global.tab.TableCalcSetPercentTotalOptionsCmd$Response=hR;var hS=function(){ss.makeGenericType(O,[Object,hT]).call(this)};hS.__typeName='tab.TableCalcSetRankSortDirectionCmd';global.tab.TableCalcSetRankSortDirectionCmd=hS;var hT=function(e){this.$c=null;this.$c=e};hT.__typeName='tab.TableCalcSetRankSortDirectionCmd$Response';global.tab.TableCalcSetRankSortDirectionCmd$Response=hT;var hU=function(){ss.makeGenericType(O,[Object,hV]).call(this)};hU.__typeName='tab.TableCalcSetRankTypeCmd';global.tab.TableCalcSetRankTypeCmd=hU;var hV=function(e){this.$c=null;this.$c=e};hV.__typeName='tab.TableCalcSetRankTypeCmd$Response';global.tab.TableCalcSetRankTypeCmd$Response=hV;var hW=function(){ss.makeGenericType(O,[Object,hX]).call(this)};hW.__typeName='tab.TableCalcSetReferenceOptionsCmd';global.tab.TableCalcSetReferenceOptionsCmd=hW;var hX=function(e){this.$c=null;this.$c=e};hX.__typeName='tab.TableCalcSetReferenceOptionsCmd$Response';global.tab.TableCalcSetReferenceOptionsCmd$Response=hX;var hY=function(){ss.makeGenericType(O,[Object,hZ]).call(this)};hY.__typeName='tab.TableCalcSetRestartEveryFieldCmd';global.tab.TableCalcSetRestartEveryFieldCmd=hY;var hZ=function(e){this.$c=null;this.$c=e};hZ.__typeName='tab.TableCalcSetRestartEveryFieldCmd$Response';global.tab.TableCalcSetRestartEveryFieldCmd$Response=hZ;var ia=function(){ss.makeGenericType(O,[Object,ib]).call(this)};ia.__typeName='tab.TableCalcSetSortAggregationCmd';global.tab.TableCalcSetSortAggregationCmd=ia;var ib=function(e){this.$c=null;this.$c=e};ib.__typeName='tab.TableCalcSetSortAggregationCmd$Response';global.tab.TableCalcSetSortAggregationCmd$Response=ib;var ic=function(){ss.makeGenericType(O,[Object,id]).call(this)};ic.__typeName='tab.TableCalcSetSortDirectionCmd';global.tab.TableCalcSetSortDirectionCmd=ic;var id=function(e){this.$c=null;this.$c=e};id.__typeName='tab.TableCalcSetSortDirectionCmd$Response';global.tab.TableCalcSetSortDirectionCmd$Response=id;var ie=function(){ss.makeGenericType(O,[Object,ig]).call(this)};ie.__typeName='tab.TableCalcSetSortFieldCmd';global.tab.TableCalcSetSortFieldCmd=ie;var ig=function(e){this.$c=null;this.$c=e};ig.__typeName='tab.TableCalcSetSortFieldCmd$Response';global.tab.TableCalcSetSortFieldCmd$Response=ig;var ih=function(){ss.makeGenericType(O,[Object,ii]).call(this)};ih.__typeName='tab.TableCalcSetSortModeCmd';global.tab.TableCalcSetSortModeCmd=ih;var ii=function(e){this.$c=null;this.$c=e};ii.__typeName='tab.TableCalcSetSortModeCmd$Response';global.tab.TableCalcSetSortModeCmd$Response=ii;var ij=function(){ss.makeGenericType(O,[Object,ik]).call(this)};ij.__typeName='tab.TableCalcSetWindowOptionsCmd';global.tab.TableCalcSetWindowOptionsCmd=ij;var ik=function(e){this.$c=null;this.$c=e};ik.__typeName='tab.TableCalcSetWindowOptionsCmd$Response';global.tab.TableCalcSetWindowOptionsCmd$Response=ik;var il=function(){ss.makeGenericType(O,[Object,im]).call(this)};il.__typeName='tab.TableCalcToggleSecondaryCalcCmd';global.tab.TableCalcToggleSecondaryCalcCmd=il;var im=function(e){this.$c=null;this.$c=e};im.__typeName='tab.TableCalcToggleSecondaryCalcCmd$Response';global.tab.TableCalcToggleSecondaryCalcCmd$Response=im;var io=function(){ss.makeGenericType(O,[Object,ip]).call(this)};io.__typeName='tab.TableCalcToggleShowCalcAssistanceCmd';global.tab.TableCalcToggleShowCalcAssistanceCmd=io;var ip=function(e){this.$c=null;this.$c=e};ip.__typeName='tab.TableCalcToggleShowCalcAssistanceCmd$Response';global.tab.TableCalcToggleShowCalcAssistanceCmd$Response=ip;var iq=function(){};iq.__typeName='tab.TabResources';iq.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};iq.lookupResourceAlias=function(e){return(ss.keyExists(iq.$0,e)?iq.$0[e]:'')};iq.lookupFullResourceAlias=function(e){var jt=e.split('/');var ju=((jt.length>0)?jt[jt.length-1]:e);return iq.lookupResourceAlias(ju)};iq.lookupTabRes=function(e){return iq.lookupResourceAlias(e)};iq.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+iq.lookupResourceAlias(e)};global.tab.TabResources=iq;var ir=function(e,jt){this.$2$1=null;eR.call(this,e,new fv(jt))};ir.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=ir;var it=function(e){this.$2$1=null;eR.call(this,e,new fv('R_T1'.toString()))};it.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=it;var iu=function(){};iu.__typeName='tab.ToolbarServerCommands';iu.get_authoringVizUri=function(){var e;var jt=null;if(ss.isNullOrEmptyString(jt)){e=iV.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=iV.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,jt)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e};iu.setAutoUpdate=function(e){var jt={};jt['chK']=e;var ju=bS.newCommand$1('set-auto-update-server',jt);gs.executeServerCommand(ju,'immediately')};iu.refreshData=function(){var e={};e['IDV']=0;e['jug']=true;var jt=bS.newCommand$1('refresh-data-server',e);gs.executeServerCommand(jt,'immediately')};iu.launchEditing=function(){var e=iu.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};iu.downloadWorkbook=function(e){var jt;if(ss.isValue(e)){jt=e}else{jt=tsConfig.downloadURI}var ju;if(tsConfig.is_metrics_view){ju=bF.get().get_legacySession().metricsViewDownloadUrl()}else{ju=iu.$0(jt)}window.open(ju)};iu.exportData=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(eU.findActiveOrDefaultVisual())){e=eU.findActiveOrDefaultVisual().get_worksheetName()}var jt=eU.findContentDashboard().getViewSession(e);if(ss.isValue(jt)){window.open(jt.formatUnderlyingDataURL(null),jt.getWindow('vud'),'scrollbars,resizable')}};iu.exportImage=function(e){var jt=L.get_instance().get_workbook().get_currentSheetStoryPointId();var ju=tableau.types.ExportDialogType['ExportImage'];var jv=[];var jw=[];if(eU.findContentDashboard().get_isDashboard()){var jx=e.get_sheetScrollPositions();if(ss.isValue(jx)){var jy=ss.getEnumerator(Object.keys(jx));try{while(jy.moveNext()){var jz=jy.current();var jA=jx[jz];var jB=jA.x;var jC=jA.y;if(jB!==0||jC!==0){jw.push({x:jB,y:jC});jv.push(jz)}}}finally{jy.dispose()}}}da.exportImage(tsConfig.current_sheet_name,jt,ju,jv,jw)};iu.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(eU.findActiveOrDefaultVisual())){e=eU.findActiveOrDefaultVisual().get_worksheetName()}var jt=eU.findContentDashboard().getViewSession(e);if(ss.isValue(jt)){var ju=tableau.types.ExportDialogType['ExportCrosstab'];jt.fileDownloadHelper.openDownload(jt.formatExportCrossTabURL('utf16'),ju)}};iu.exportPdf=function(e){e.triggerExportPdfUI()};iu.$0=function(e){if(ss.isValue(e)){var jt=e.match(iu.$1);if(ss.isValue(jt)&&jt.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+jt[1]}}return e};global.tab.ToolbarServerCommands=iu;var iv=function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]};iv.__typeName='tab.Transaction';iv.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(jy){return jy.$1().get_pathList().length});var jt=L.get_instance().pm;var ju=ft.cloneObjWithScalarsOnly(jt);if(ss.isNullOrUndefined(ju)){ju=new Object}var jv=ju;for(var jw=0;jw<e.length;jw++){var jx=e[jw];ft.insertAtPath(jt,jv,jx.$1(),jx.$0())}return jv};global.tab.Transaction=iv;var iw=function(){this.$1=null;this.$0={}};iw.__typeName='tab.Transactor';global.tab.Transactor=iw;var ix=function(e,jt){eR.call(this,e,jt)};ix.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=ix;var iy=function(){};iy.__typeName='tab.UberTipClientCommands';iy.$4=function(){return tab.MiscUtil.lazyInitStaticField(iy,'commandPermissions',function(){return fp.buildCommandPermission()})};iy.executeUbertipAction=function(e,jt,ju){var jv=new x(function(jw){G.executeAction(e,jt,ju,jw)});bF.SendCommand(jv)};iy.executeUbertipCommand=function(e){switch(e.commandType){case 1:{gi.clearAllSelections(eU.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:{var jt=iy.$3(e);gs.executeServerCommand(jt,'immediately');break}case 4:case 11:case 12:case 13:case 15:case 17:case 18:case 22:{gs.executeServerCommand(e.command,'immediately');break}case 21:{gs.executeServerCommand(e.command,'immediately',bS.createCommandRedirectSuccessHandler(null),null);break}case 23:{var ju=bS.newCommand('select-by-tuple-value',e.command.commandParams);gs.executeServerCommand(ju,'immediately');break}case 6:case 9:case 7:default:{return}}};iy.localAndRemoteUberTipCommand=function(e,jt,ju,jv,jw,jx,jy,jz,jA,jB){var jC=iy.$0(e,jt,ju,jv,jx,jy,jz,jA,jB,jw);bF.SendCommand(jC)};iy.$0=function(e,jt,ju,jv,jw,jx,jy,jz,jA,jB){var jC=new b(function(jD){if(!L.get_instance().get_isLocalRenderMode()){return}var jE=iz.createLocalUberTipModel(e,eU.getVisualModelFromVisualId(ju),jw,tsConfig.is_authoring);if(ss.isValue(jE)){jE.isUpdate=false;fp.filterCommands(jE.buttonCommands,iy.$4())}jx(jE);G.executeActions(ju.AVP,'on-hover',jw.get_interactedTupleIds(),jD,false)},iy.$2(jt,ju,jv,jA,jB),iy.$1(true,jy),jz);return jC};iy.localOnlyUbertipCommand=function(e,jt,ju,jv){var jw=iy.buildLocalOnlyUbertipCommand(e,jt,ju,jv);jw.set_commandName('render-tooltip-server'.toString());bF.SendCommand(jw)};iy.buildLocalOnlyUbertipCommand=function(e,jt,ju,jv){var jw=new b(function(jx){var jy=iz.createLocalUberTipModel(e,eU.getVisualModelFromVisualId(jt),ju,tsConfig.is_authoring);if(ss.isValue(jy)){jy.isUpdate=false;fp.filterCommands(jy.buttonCommands,iy.$4())}jv(jy);G.executeActions(jt.AVP,'on-hover',ju.get_interactedTupleIds(),jx,false)},null,null,null);return jw};iy.remoteOnlyUbertipCommand=function(e,jt,ju,jv,jw,jx,jy,jz,jA){var jB=iy.buildRemoteOnlyUberTipCommand(e,jt,ju,jv,jw,jx,jy,jz,jA);bF.SendCommand(jB)};iy.buildRemoteOnlyUberTipCommand=function(e,jt,ju,jv,jw,jx,jy,jz,jA){var jB=null;if(jz&&ss.isValue(jy)){jB=function(jD){G.executeActions(jt.AVP,'on-hover',jy,jD,false)}}var jC=new b(jB,iy.$2(e,jt,ju,jx,jA),iy.$1(false,jv),jw);return jC};iy.$2=function(e,jt,ju,jv,jw){var jx={};bS.addVisualIdToCommand(jx,jt);if(ss.isValue(jw)){jx['nSc']=[ss.unbox(jw)]}var jy=new Object;var jz=iU.create(jy);jz.set_r(e);jz.set_x(Math.round(ju.x));jz.set_y(Math.round(ju.y));jz.set_w(Math.round(ju.w));jz.set_h(Math.round(ju.h));jx['vpK']=jy;jx['QoN']=tsConfig.is_mobile||jv==='on-hover';jx['dhR']=true;jx['_JU']=tsConfig.is_mobile;jx['dkd']=true;return bS.newCommand$1('render-tooltip-server',jx)};iy.$1=function(e,jt){return function(ju){if(!ss.isValue(ju)){return}var jv=ju.toString();var jw=(ss.isNullOrEmptyString(jv)?null:JSON.parse(jv));dq.notifyFontsFromUberTipPresModel(jw);var jx=iz.deserializeUbertip(jw);if(ss.isValue(jx)){jx.isUpdate=e;fp.filterCommands(jx.buttonCommands,iy.$4())}if(ss.isValue(jt)){jt(jx)}dq.$5()}};iy.$3=function(e){var jt=bS.duplicateCommand(e.command);var ju=jt.commandParams;var jv=ju['OBN'];delete ju['OBN'];if(!ss.keyExists(ju,'ArG')&&ss.isValue(jv)){var jw=[parseInt(jv.toString())];var jx={};jx.kyj=jw;jx.coe='tuples';ju['Gvh']=jx}return jt};global.tab.UberTipClientCommands=iy;var iz=function(){};iz.__typeName='tab.UbertipSerializer';iz.deserializeUbertip=function(e){if(ss.isNullOrUndefined(e)){return null}var jt=[];var ju=[];var jv=[];if(ss.isValue(e.Jmx)){iz.$4(e.Jmx,jt,ju,jv)}var jw=[];if(ss.isValue(e.Rii)){iz.$3(e.Rii,jw,0)}var jx=[];if(ss.isValue(e.slk)){iz.$3(e.slk,jx,0)}var jy={};jy.tooltipHtml=iz.$7(e.LSs);jy.selectionHtml=iz.$7(e.lBv);jy.overlayImage=iz.$7(e.tkp);jy.overlayImageKey=iz.$7(e.MHp);jy.tupleId=e.OBN;jy.imageRegion=e.dpp;if(jy.tupleId!==0){jy.interactedTupleId=jy.tupleId}jy.tupleSelected=e.vPt||false;jy.refLineSelected=e.CsR||false;jy.trendLineSelected=e.ioD||false;jy.isExplicitlyEmpty=e.ByD||false;jy.tooltipOffset=tab.PointUtil.fromPresModel(e.vGG);jy.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.nwZ);jy.buttonCommands=jt;jy.subcommands=ju;jy.nestedCommands=jv;jy.contentCommands=jw;jy.actions=jx;if(ss.isValue(jy.overlayImage)||ss.isValue(jy.overlayImageKey)){var jz=e.CNg.length;jy.overlayAnchors=new Array(jz);for(var jA=0;jA<jz;++jA){var jB=e.CNg[jA];var jC=tab.PointUtil.fromPresModel(jB);jy.overlayAnchors[jA]={x:jC.x,y:jC.y}}}iz.$1(e,jt,jv,null);if(ss.isValue(jy.tooltipHtml)||ss.isValue(jy.selectionHtml)||jt.length>0||jx.length>0){return jy}return null};iz.createLocalUberTipModel=function(e,jt,ju,jv){var jw=ju.get_interactedTupleIds();var jx=ju.get_affectedTupleIds();var jy=ju.get_paneDescriptorKey();var jz=jt.get_vizDataModel();if(ss.isNullOrUndefined(jz)){return null}var jA=jz.get_ubertipData();var jB=iz.$6(jA,jy);var jC=L.get_instance().get_dataDictionary();var jD=null;var jE;var jF=jB.LSs.toString().length===0;if(jw.length===1){jD=iz.$8(jC,jB,jz,jw);jE=jw[0]}else{jE=0}var jG=null;var jH=false;if(jx.length>1&&jB.BWC){jH=true;jG=iz.$5(jC,jz,jx,jB.zDK)}var jI=[];var jJ=((jx.length>1)?0:jx[0]);if(jJ<0){jJ=0}var jK=[];var jL=iR.hasTupleWithNonTotalValue(jz,jC,jx);if(jB.BWC&&jz.hasDimensionColumnNotMeasureNames()){if(jL){iz.$3(jA.qCD,jI,jJ)}if(jH){iz.$3(jA.NV$,jI,jJ)}jI=jI.filter(function(jR){return jR.commandType!==10});iz.$1(null,jI,null,e);if(jv){var jM={commandType:10,imageRes:iq.lookupResourceAlias('TQRC_SPLIT'),name:''};if(tsConfig.is_mobile){var jN=tab.Strings.UbertipTooltip_GroupMobile;var jO=tab.Strings.UbertipTooltip_SplitMobile;jM.description=((jO.length>jN.length)?jO:jN)}jK.push(jM)}}var jP;if(jL){jP=G.getApplicableActions(jt.get_visualId().AVP,'explicitly',null);jP=_.filter(jP,function(jR){if(jR.bg$==='explicitly'&&G.getActionType(jR)!=='url'&&jR.kDm.length===0){return false}return true})}else{jP=[]}if(ss.isValue(jD)||ss.isValue(jG)||jI.length>0||jP.length>0){var jQ={tooltipHtml:jD,selectionHtml:jG,tupleId:jJ,interactedTupleId:jE,isExplicitlyEmpty:jF,actionPMs:jP,buttonCommands:jI,placeHolders:jK,visualId:jt.get_visualId()};return jQ}return null};iz.$6=function(e,jt){if(e.cJ$.length===1){return e.cJ$[0]}for(var ju=0;ju<e.cJ$.length;ju++){var jv=e.cJ$[ju];if(ss.isValue(jv.uNv)){if(ss.referenceEquals(jv.uNv.fDN,jt)){return jv}}}return null};iz.$8=function(e,jt,ju,jv){var jw=iz.$2(jt.LSs);return iR.constructHtml(e,jw,ju,jv)};iz.$2=function(e){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')){return e}var jt=$(e);var ju=jt.find('a.relax-selection');for(var jv=0;jv<ju.length;jv++){var jw=ju.eq(jv);var jx=jw.children().eq(0);var jy=ss.replaceAllString(ss.replaceAllString(jx.text(),'<[','['),']>',']');jw.attr('href',jy)}return jt[0].outerHTML};iz.$5=function(e,jt,ju,jv){var jw=jt.getVizDataField(jv||'');if(ss.isValue(jw)){var jx=[];$.extend.apply(null,[true,jx].concat(iz.$9));jx[2]=ju.length.toString();jx[4]=tab.Strings.UbertipItemsSelected;if(jw.get_aggType()!=='sum'){jx[8]=tab.Strings.SumOf}jx[10]=jv;jx[14]='&lt;'+jv+'&gt;';var jy=jx.join('');return iR.constructHtml(e,jy,jt,ju)}else{iz.$a[2]=ju.length.toString();iz.$a[4]=tab.Strings.UbertipItemsSelected;return iz.$a.join('')}};iz.$1=function(e,jt,ju,jv){var jw=ss.isNullOrUndefined(jv);if(jt.length<=0){return}var jx=false;if(ss.isValue(e)&&ss.isValue(e.dpp)){switch(e.dpp){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{jx=true;break}}jx=jx&&!e.CsR&&!e.ioD}if(!tsConfig.previewMode&&(jx||!jw)){var jy={commandType:7,status:'enabled',description:tab.Strings.UbertipTooltip_ViewData,command:bS.newCommand('viewData',{})};if(jw){for(var jz=0;jz<jt.length;jz++){var jA=jt[jz];if(ss.isValue(jA.command)&&ss.isValue(jA.command.commandParams)&&ss.keyExists(jA.command.commandParams,'ArG')){jy.command.commandParams['ArG']=jA.command.commandParams['ArG'];break}}}else{jy.command.commandParams['ArG']=JSON.stringify(tab.PointUtil.toPresModel(jv))}iz.$0(jy,jt,ju)}if(tsConfig.is_mobile){var jB={commandType:1,name:tab.Strings.UbertipClearSelection,status:'enabled'};iz.$0(jB,jt,ju)}};iz.$0=function(e,jt,ju){jt.push(e);if(ss.isValue(ju)){ju.push({item1:true,item2:jt.length-1})}};iz.$3=function(e,jt,ju){var jv=bQ.create(e);if(ss.isNullOrUndefined(jv)||ss.isNullOrUndefined(jv.get_commandItems())){return}var jw=jv.get_commandItems();for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];var jz=bJ.create(jy);var jA={command:bO.deserialize(jz.get_command())};if(ss.isValue(jA.command)){iz.buildCommandModelFromWrapper(jA,jz,ju);jt.push(jA)}if(ss.isValue(jz.get_commands())){iz.$3(jz.get_commands(),jt,ju)}}};iz.$4=function(e,jt,ju,jv){var jw=bQ.create(e);if(ss.isNullOrUndefined(jw)||ss.isNullOrUndefined(jw.get_commandItems())){return}var jx=0;var jy=0;var jz=jw.get_commandItems();for(var jA=0;jA<jz.length;jA++){var jB=jz[jA];var jC=bJ.create(jB);var jD={command:bO.deserialize(jC.get_command())};if(ss.isValue(jD.command)){iz.buildCommandModelFromWrapper(jD,jC,0);jt.push(jD);jv.push({item1:true,item2:jx});jx++}if(ss.isValue(jC.get_commands())){ju.push(jC);jv.push({item1:false,item2:jy});jy++}}};iz.buildCommandModelFromWrapper=function(e,jt,ju){iz.setCommandType(e);e.name=jt.get_name();e.description=jt.get_description();if(!tab.MiscUtil.isNullOrEmpty$1(jt.get_iconRes())){e.imageRes=iq.lookupFullResourceAlias(jt.get_iconRes())}var jv=jt.get_enabled();e.status=((ss.isNullOrUndefined(jv)||jv)?'enabled':'disabled');if(ju!==0&&!ss.isValue(e.command.commandParams['ArG'])){e.command.commandParams['OBN']=ju.toString()}};iz.setCommandType=function(e){var jt=bO.getCommandType(e.command);if(ss.isValue(jt)){e.commandType=ss.unbox(jt)}};iz.$7=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=iz;var iA=function(){ss.makeGenericType(O,[Object,iB]).call(this)};iA.__typeName='tab.UpdateDataAlertCmd';global.tab.UpdateDataAlertCmd=iA;var iB=function(e){this.$c=null;this.$c=e};iB.__typeName='tab.UpdateDataAlertCmd$Response';global.tab.UpdateDataAlertCmd$Response=iB;var iC=function(){ss.makeGenericType(O,[Object,iD]).call(this)};iC.__typeName='tab.UpdateReferenceLineCmd';global.tab.UpdateReferenceLineCmd=iC;var iD=function(e){this.$c=null;this.$c=e};iD.__typeName='tab.UpdateReferenceLineCmd$Response';global.tab.UpdateReferenceLineCmd$Response=iD;var iE=function(){};iE.__typeName='tab.UriPathStripper';iE.getModuleFromPath=function(e,jt){var ju=tsConfig.site_root||'';var jv=e.indexOf(ju,0);var jw;if(jv===-1){jw=e.substr(1)}else{var jx=jv+ju.length;jw=e.substr(jx+1)}for(var jy=0;jy<jt.length;jy++){var jz=jt[jy];if(ss.startsWithString(jw,jz+'/')){return jz}}return''};iE.getMeatFromPath=function(e,jt){var ju=iE.getModuleFromPath(e,jt);var jv=e.indexOf(ju,0);return e.substr(jv+ju.length+1)};global.tab.UriPathStripper=iE;var iF=function(){};iF.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=iF;var iG=function(){};iG.__typeName='tab.UserFactory';iG.currentUser=function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email)}};global.tab.UserFactory=iG;var iH=function(e){eR.call(this,e,new fv('geometry'))};iH.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=iH;var iI=function(e,jt,ju,jv){this.viewid=null;gP.call(this,e,jt,jv);this.viewid=ju};iI.__typeName='tab.ViewSession';global.tab.ViewSession=iI;var iJ=function(){};iJ.__typeName='tab.VisualColumnHelpers';iJ.transformColumn=function(e,jt){if(ss.isNullOrUndefined(e)){return false}e.transform(jt);return true};iJ.createDataArray=function(e,jt,ju){var jv=e.uBu02.slice(jt,jt+ju);return iK.create(jv)};iJ.parseColumns=function(e,jt,ju){var jv=iJ.$0(e);var jw=_.keys(e.GKA);for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];jv[jy]=iJ.createDataArray(e.GKA[jy],jt,ju)}return jv};iJ.buildColorTable=function(e,jt,ju,jv){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(jt)||!ss.keyExists(jt,'color_idx')){return null}var jw=1;if(ss.keyExists(jt,'alpha')&&jt['alpha'].c){var jx=jt['alpha'];jw=jx.v[(jx.c?0:0)]}var jy=[];var jz={};var jA=jt['color_idx'];var jB=jA.length;for(var jC=0;jC<jB;jC++){var jD=jA.v[(jA.c?0:jC)];if(ss.keyExists(jz,jD)){jA.v[(jA.c?0:jC)]=jz[jD]}else{var jE=bC.fromArgbInt(e.DiR[jD]);jE=new bC(jE.get_r(),jE.get_g(),jE.get_b(),jw*jE.get_a());jy.push(ga.createColorCollection(jE,ju,jv));jA.v[(jA.c?0:jC)]=jy.length-1;jz[jD]=jA.v[(jA.c?0:jC)]}}return jy};iJ.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var jt=[];for(var ju=0,jv=e.length;ju<jv;ju++){jt[ju]=ga.createOpaqueColorCollection(e[ju])}return jt};iJ.$0=function(e){var jt={};var ju=[e.LTd,e.DTe,e.HDS];for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(ss.isNullOrUndefined(jw)){continue}var jx=Object.keys(jw);for(var jy=0;jy<jx.length;jy++){var jz=jx[jy];var jA=[jw[jz]];jt[jz]=iK.create(jA)}}return jt};global.tab.VisualColumnHelpers=iJ;var iK=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};iK.__typeName='tab.VisualColumnIterator';iK.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new y(e)}return new iK(e)};global.tab.VisualColumnIterator=iK;var iL=function(e){this.$1=null;this.$2$1=null;eR.call(this,e,new fv('visuallist'))};iL.__typeName='tab.VisualListModel';global.tab.VisualListModel=iL;var iM=function(e){this.$p=null;this.$k=null;this.$b=null;this.$f={};this.$h=null;this.$9=null;this.$q=null;this.$o=null;this.$l=null;this.$n=null;this.$m=null;this.$r=null;this.$v=null;this.$d=null;this.$t=null;this.$s=null;this.$i=null;this.$j=null;this.$8=null;this.$g=null;this.$7=null;this.$c=null;this.$u=false;this.$a=false;this.$e=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;eR.call(this,e,new fv('uqP'.toString()));this.$j={};this.$8={};this.$g={};this.$7={};this.$p=new gm(this,'pUG'.toString());this.$k=new gj(null,-1);this.$b=new gm(this,'iyL'.toString());this.$u=true;this.$a=false;this.$e=false;this.$k.update(gm.$1('tuples'),fa.get_noopContext())};iM.__typeName='tab.VisualModel';iM.$0=function(){return tab.Logger.lazyGetLogger(iM)};global.tab.VisualModel=iM;var iN=function(){};iN.__typeName='tab.VizClientCommands';iN.invalidateVisualModel=function(e){iN.$0(e,false)};iN.validateVisualModel=function(e){iN.$0(e,true)};iN.$0=function(e,jt){var ju=new x(function(jv){eU.setVisualValidStateOnModel(jv,e,jt)});bF.SendCommand(ju)};iN.setUIMode=function(e,jt){var ju=L.get_instance().get_workbook();if(ju.get_uiMode()===e){return}var jv=e!=='document'||ss.referenceEquals(jt,tsConfig.current_sheet_name);jv=jv&&e!=='data-tab';var jw=new bp;jw.c['Olx']=e;jw.set_uiBlocking((jv?'none':'immediately'));var jx=jw;if(!ss.isNullOrEmptyString(jt)){jx.c['DDA']=jt}if(jv){jx.set_localWork(function(jy){var jz=jy.makeMutablePresModel(ju,false);jz.Olx=e})}jx.invoke()};global.tab.VizClientCommands=iN;var iO=function(e,jt){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=jt;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};iO.__typeName='tab.VizDataField';global.tab.VizDataField=iO;var iP=function(){};iP.__typeName='tab.VizDataLookup';iP.lookupDisplayValue=function(e,jt,ju){if(!jt.isTupleIdValid(e)){iP.$2(e,jt.get_fieldCaption());return null}if(jt.get_hasAliases()){var jv=iP.lookupAlias(e,jt,ju);if(ss.isValue(jv)){return jv}}if(jt.get_hasDataValues()){var jw=iP.$3(e,jt,ju);if(ss.isValue(jw)){return jw}}iP.$2(e,jt.get_fieldCaption());return null};iP.$2=function(e,jt){var ju=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,jt)};iP.$1=function(e){return ss.Nullable$1.lt(e,0)};iP.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};iP.lookupAlias=function(e,jt,ju){if(!jt.isTupleIdValid(e)){iP.$2(e,jt.get_fieldCaption());return null}var jv=jt.getAliasIndex(e);return iP.lookupAliasFromIndex(jv,jt,ju)};iP.lookupAliasFromIndex=function(e,jt,ju){var jv=null;if(ss.isValue(e)){if(iP.$1(e)){e=iP.$0(e);jv=ju.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(jv)){jv=tableau.format.formatSpecial(jv,jt.get_specialValuesOverride())}}else{var jw=e;jv=iP.$4(jw,jt,ju)}}return jv};iP.lookupRawDataValue=function(e,jt,ju){var jv=jt.getDataValueIndex(e);return iP.lookupRawDataValueFromIndex(jv,jt,ju)};iP.lookupRawDataValueFromIndex=function(e,jt,ju){var jv=null;if(ss.isValue(e)){var jw;var jx=ss.unbox(e);if(jx>=0){jw=jt.get_dataType()}else{jx=-jx-1;jw='cstring'}var jy=ju.getRawValue(jw,jx);if(ss.isValue(jy)){jv=jy.toString()}}return jv};iP.$3=function(e,jt,ju){var jv=jt.getDataValueIndex(e);return iP.$4(jv,jt,ju)};iP.$4=function(e,jt,ju){var jv=null;var jw=iP.lookupRawDataValueFromIndex(e,jt,ju);if(ss.isValue(jw)){if(tableau.format.isSpecialValue(jw)){jv=tableau.format.formatSpecial(jw,jt.get_specialValuesOverride())}else{jv=tableau.format.formatString(jw,jt.get_vizColumnDoNotUse())}}return jv};iP.reverseLookupAlias=function(e,jt,ju,jv){var jw=null;if(ju.get_hasAliases()){jt.forEachTupleId(function(jx){var jy=iP.lookupAlias(jx,ju,jv);if(ss.compareStrings(jy,e,false)===0){jw=ju.getAliasIndex(jx);return false}return true})}return jw};iP.buildAliasReverseLookup=function(e,jt,ju){var jv={};if(jt.get_hasAliases()){e.forEachTupleId(function(jw){var jx=iP.lookupAlias(jw,jt,ju);if(ss.isNullOrUndefined(jv[jx])){jv[jx]=jt.getAliasIndex(jw)}return true})}return jv};iP.isSpecial=function(e,jt,ju,jv){var jw=iP.lookupRawDataValue(e,jt,ju);if(ss.isNullOrUndefined(jw)){var jx=jt.getAliasIndex(e);if(ss.isValue(jx)){if(iP.$1(jx)){jx=iP.$0(jx)}var jy=jx;jw=iP.lookupRawDataValueFromIndex(jy,jt,ju)}if(ss.isNullOrUndefined(jw)){return false}}return(ss.isNullOrUndefined(jv)?tableau.format.isSpecialValue(jw):ss.referenceEquals(jw,jv))};global.tab.VizDataLookup=iP;var iQ=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;eR.call(this,e,new fv('zFl'.toString()));this.$4=[];this.$5=[]};iQ.__typeName='tab.VizDataModel';global.tab.VizDataModel=iQ;var iR=function(){};iR.__typeName='tab.VizDataUtils';iR.constructUrl=function(e,jt,ju,jv,jw){var jx=function(jy,jz,jA){if(ss.isNullOrEmptyString(jz)){if(ss.isValue(jv)){return iR.$6(e,jy,jv,1,jt)}return null}var jB=iR.$1(e,jy,jz,jt.cqY);if(jt.KAU){jB=encodeURIComponent(jB)}return jB};return iR.decodeAndReplaceData(jt.ZNi,'<','>',ju,jx)};iR.constructUrlForFilterActionFromTargetURL=function(e,jt,ju,jv,jw){var jx=function(jF,jG,jH){return iR.$5(e,jF,jw,jH,ju)};var jy=jt.toString().split('?');if(jy.length===1){return jt}var jz=jy[0]+'?';var jA=jy[1].split('&');var jB=[];for(var jC=0;jC<jA.length;jC++){var jD=jA[jC];var jE=iR.decodeAndReplaceData(jD,'<','>',jv,jx);if(jE.item2==='success'){jB.push(jE.item1)}}jz+=jB.join('&');return jz};iR.constructUrlFromString=function(e,jt,ju,jv,jw,jx){var jy=function(jA,jB,jC){if(ss.isNullOrEmptyString(jB)){return iR.$2(e,jA,jv,1)}else{return iR.$1(e,jA,jB,jx)}};var jz=iR.decodeAndReplaceData(jt,'<','>',ju,jy);return jz.item1};iR.constructHtml=function(e,jt,ju,jv){var jw=function(jA,jB,jC){return iR.$2(e,jA,jv,0)};var jx=iR.decodeAndReplaceData(jt,'&lt;','&gt;',ju,jw);var jy=$(jx.item1);var jz=[];iR.getNodesOfInvalidFields(jy,jz);iR.$0(jy,jz);if(tab.MiscUtil.isNullOrEmpty$1(jy.text())){return''}return jy.wrap('<div>').parent().html()};iR.decodeAndReplaceData=function(e,jt,ju,jv,jw){var jx='success';var jy=iR.$4(e,'escaped_open_tag');var jz=iR.$4(e,'escaped_close_tag');var jA=ss.replaceAllString(ss.replaceAllString(e,jt+jt,jy),ju+ju,jz);var jB=jA.split(jt);var jC=new ss.StringBuilder(jB.shift());for(var jD=0;jD<jB.length;jD++){var jE=jB[jD];var jF=jE.split(ju);var jG=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(jF[0],jy,jt),jz,ju));var jH=jF[1];var jI=true;var jJ=jG.lastIndexOf(String.fromCharCode(126));var jK=jG.lastIndexOf(String.fromCharCode(93));if(jJ>=0&&(jK===-1||jK<jJ)){var jL=jG.substr(jJ);jG=jG.substr(0,jJ);if(jL==='~na'){jI=false}}var jM=null;if(iR.$7(jG)){var jN=jG.indexOf('(');jM=jG.substring(0,jN);jG=jG.substring(jN+1,jG.length-1)}var jO=jG.indexOf(String.fromCharCode(91));var jP=jG.lastIndexOf(String.fromCharCode(93));if(jO>=0&&jO<jP){jG=jG.substring(jO+1,jP)}if(ss.startsWithString(jG,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var jQ=jv.getVizDataField(jG);if(ss.isNullOrUndefined(jQ)){return{item1:'',item2:'urlConstructionFail'}}var jR=jw(jQ,jM,jI);if(ss.isNullOrUndefined(jR)){jx='urlConstructionFail'}else{jC.append(jR)}jC.append(jH)}var jS=ss.replaceAllString(ss.replaceAllString(jC.toString(),jy,jt),jz,ju);return{item1:jS,item2:jx}};iR.hasTupleWithNonTotalValue=function(e,jt,ju){for(var jv=0;jv<ju.length;jv++){var jw={$:ju[jv]};var jx={$:false};e.forEachVizDataField(ss.mkdel({tupleId:jw,tupleHasTotal:jx},function(jy,jz){if(jy.get_role()==='dimension'){if(iP.isSpecial(this.tupleId.$,jy,jt,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!jx.$){return true}}return false};iR.isFieldNameOfColumn=function(e,jt){var ju=iR.stripNewlines(e.HBp02);var jv=iR.stripNewlines(jt);var jw='['+jv+']';return ss.referenceEquals(jv,ju)||ss.referenceEquals(jv,iR.stripNewlines(e._cX))||ss.referenceEquals(jw,ju)||ss.referenceEquals(jw,iR.stripNewlines(e.JDJ))};iR.isFieldCaptionOfColumn=function(e,jt){return ss.referenceEquals(iR.stripNewlines(jt),iR.stripNewlines(e.OLk))};iR.$4=function(e,jt){var ju=jt;while(e.indexOf(ju)>-1){ju+=Math.random()*10000|0}return ju};iR.stripNewlines=function(e){return(ss.isValue(e)?e.replace(iR.$8,''):null)};iR.getNodesOfInvalidFields=function(e,jt){var ju='';var jv=e.contents().get();for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];if(jx.nodeType===3){ju+=jx.textContent||(jx.textContent||'')}else{iR.getNodesOfInvalidFields($(jx),jt)}}if(ju.indexOf('~~~???~~~')!==-1){jt.push(e)}};iR.addVizDataToZones=function(e,jt){var ju=_.keys(jt);var jv=_.keys(e);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];for(var jy=0;jy<ju.length;jy++){var jz=ju[jy];var jA=jt[jz];if(jA.jAM==='viz'&&ss.referenceEquals(jA.Gge,jx)){var jB=jA.wqq['uqP'.toString()];if(ss.isValue(jB)){var jC=e[jx].wqq;jB.zFl=jC['genVizDataPresModel']}break}}}};iR.$0=function(e,jt){for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=iR.$3(e,jv,'tr');if(ss.isValue(jw)){jw.remove()}else{var jx=iR.$3(e,jv,'div');if(ss.isValue(jx)){jx.remove()}else{jv.remove()}}}};iR.$3=function(e,jt,ju){var jv=jt;if(ss.isValue(e)&&ss.isValue(jt)&&e.find(jt).length===1){while(!ss.referenceEquals(jv[0],e[0])){if(ss.referenceEquals(jv[0].tagName.toLowerCase(),ju)){return jv}jv=jv.parent()}}return null};iR.$6=function(e,jt,ju,jv,jw){var jx=[];for(var jy=0;jy<ju.length;jy++){var jz=ju[jy];var jA=iP.lookupAlias(jz,jt,e);if(ss.isNullOrUndefined(jA)){continue}if(iP.isSpecial(jz,jt,e,null)){continue}if(jA.indexOf(jw.cqY)!==-1){jA=ss.replaceAllString(jA,jw.cqY,jw.ivU+jw.cqY)}if(jw.KAU){jA=encodeURIComponent(jA)}jx.push(jA)}if(jx.length===0){return null}if(jx.length>1&&ss.isNullOrUndefined(jw.cqY)){return null}var jB=jx.join(jw.cqY);if(jv===0){jB=tableau.format.escapeHTML(jB)}return jB};iR.$5=function(e,jt,ju,jv,jw){var jx=[];for(var jy=0;jy<ju.length;jy++){var jz=ju[jy];var jA=(jv?iP.lookupAlias(jz,jt,e):iP.lookupRawDataValue(jz,jt,e));jA=iR.replaceUrlStringSpecialValues(jA);jA=ss.replaceAllString(jA,jw.cqY,jw.ivU+jw.cqY);jx.push(jA)}return encodeURIComponent(jx.join(jw.cqY))};iR.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};iR.$2=function(e,jt,ju,jv){var jw;if(ju.length>1){if(!jt.get_hasDataValues()){return'...'}var jx=new Array(ju.length);for(var jy=0;jy<ju.length;++jy){var jz=iP.lookupRawDataValue(ju[jy],jt,e);if(jz===null||tableau.format.isSpecialValue(jz)){jz='0'}else if(typeof(jz)==='undefined'||jz.length===0){return'...'}jx[jy]=jz}var jA=0;for(var jB=0;jB<jx.length;++jB){jA+=parseFloat(jx[jB])}jw=tableau.format.formatString(jA.toString(),jt.get_vizColumnDoNotUse())}else if(ju.length===1){var jC=iP.lookupDisplayValue(ju[0],jt,e);if(ss.isNullOrUndefined(jC)){return'~~~???~~~'}jw=jC}else{return''}if(jv===0){return tableau.format.escapeHTML(jw)}else{return jw}};iR.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};iR.$1=function(e,jt,ju,jv){if(ss.isNullOrUndefined(jt)||ss.isNullOrUndefined(jt.get_filterContext())){return''}var jw=jt.get_filterContext();var jx;switch(ju){case'FILTERMIN':{jx=jw.lHq;break}case'FILTERMAX':{jx=jw.jBo;break}case'FILTERVALUES':{jx=jw.kLT;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty(jx)){return''}var jy=[];for(var jz=0;jz<jx.length;jz++){var jA=jx[jz];var jB=iP.lookupRawDataValueFromIndex(jA,jt,e);jy.push(jB)}return jy.join(jv||',')};global.tab.VizDataUtils=iR;var iS=function(){};iS.__typeName='tab.VizPortalServer';iS.createRequest=function(e,jt,ju,jv){var jw=function(jx){if(iS.$5(jx)){jv(iS.$2(jx))}else{ju(jx)}};return iS.$1(e,jt,jw,jv)};iS.createRequestWithPartialFailureHandling=function(e,jt,ju,jv,jw){var jx=function(jy){if(iS.$5(jy)){jv(jy)}else{ju(jy)}};return iS.$1(e,jt,jx,jw)};iS.$0=function(e){return iS.$1(e.methodName,e.methodParams,e.success,e.error)};iS.$1=function(e,jt,ju,jv){var jw=new Object;jw.type='POST';jw.contentType='application/json;charset=UTF-8';jw.dataType='json';jw.url='/vizportal/api/web/v1/'+e;var jx=iS.$4();if(ss.isValue(jx)){jw.headers=ss.mkdict(['X-XSRF-TOKEN',jx])}jw.data=JSON.stringify(ss.mkdict(['method',e,'params',jt]));jw.success=function(jy,jz,jA){ju(iS.$3(jy))};jw.error=function(){jv(0)};return jw};iS.$4=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};iS.$5=function(e){if(ss.keyExists(e,'errors')){var jt=e['errors'];return jt.length>0}else{return false}};iS.$2=function(e){if(ss.keyExists(e,'errors')){var jt=e['errors'];if(jt.length>0&&ss.keyExists(jt[0],'code')){return jt[0]['code']}}return 0};iS.$3=function(e){var jt=e;return jt['result']};global.tab.VizPortalServer=iS;var iT=function(e,jt,ju,jv){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=jt;this.success=ju;this.error=jv};iT.__typeName='tab.VizqlSessionRequest';global.tab.VizqlSessionRequest=iT;var iU=function(e){this.$0=null;this.$0=e};iU.__typeName='tab.VizRegionRectWrapper';iU.create=function(e){return new iU(e)};global.tab.VizRegionRectWrapper=iU;var iV=function(e){this.explicitNotGuest=false;this.$l=0;this.$m='';this.$k='';this.$e='';this.$i={};this.$f='';this.$g='';this.$h='';this.$j='';if(ss.getKeyCount(iV.$9)===0){iV.$2()}if(ss.isValue(e)){this.$5(e)}};iV.__typeName='tab.VizUriModel';iV.createForCurrentWindowLocation=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var jt=new iV(tab.WindowHelper.getLocation(e));return jt};iV.createForViewingSheet=function(e){var jt=iV.$0();jt.$l=(tsConfig.is_revision_history_preview?6:(jt.$l=1));var ju=new fN(e);jt.$m=ju.get_workbookId();jt.$k=ju.get_sheetId();jt.$f=ju.get_customizedView();jt.$e='';return jt};iV.createForViewingSheets=function(e,jt){if(ss.isNullOrUndefined(e)||e.length===0){return[]}var ju=e.length;var jv=new Array(ju);var jw=iV.$0();jw.$l=1;jw.$e='';if(!jt){jw.removeAllQueryParams()}for(var jx=0;jx<ju;jx++){var jy=jw.clone();var jz=e[jx];var jA=new fN(jz);jy.$m=jA.get_workbookId();jy.$k=jA.get_sheetId();jy.$f=jA.get_customizedView();jv[jx]=jy}return jv};iV.createForCurrentWindowLocationAndVizState=function(e,jt){var ju=iV.createForCurrentWindowLocation();var jv=new fN(e);ju.$m=jv.get_workbookId();ju.$k=jv.get_sheetId();ju.$f=jv.get_customizedView();ju.$e=jt;return ju};iV.createForAuthoringUnpublishedSheet=function(e,jt){var ju=iV.createForAuthoringPublishedSheet(e);ju.$e=jt;return ju};iV.createForAuthoringPublishedSheet=function(e){var jt=iV.$0();jt.$l=2;var ju=new fN(e);jt.$m=ju.get_workbookId();jt.$k=ju.get_sheetId();jt.$e='';return jt};iV.createInvalid=function(){var e=new iV;e.$l=0;return e};iV.$2=function(){var e=ss.getEnumerator(Object.keys(iV.$d));try{while(e.moveNext()){var jt=e.current();iV.$9[iV.$d[jt]]=jt}}finally{e.dispose()}};iV.$0=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var jt=tab.WindowHelper.getLocation(e);var ju=new iV(jt);ju.$i=iV.$1(jt);ju.$g=jt.hash;ju.$h=tab.BrowserSupport.getOrigin(jt);return ju};iV.$1=function(e){var jt=tab.MiscUtil.getUriQueryParameters(e.href);for(var ju=0;ju<iV.$c.length;ju++){var jv=iV.$c[ju];if(ss.keyExists(jt,jv)){delete jt[jv]}}return jt};iV.encodeUserName=function(e){var jt=tab.MiscUtil.percentEncode(e,iV.$a);return ss.replaceAllString(jt,'%40','@')};global.tab.VizUriModel=iV;var iW=function(){};iW.__typeName='tab.VizUriType';global.tab.VizUriType=iW;var iX=function(){this.$7=null;this.$d=null;this.$b=0;this.$8=null;this.$e=null;this.$c=null;this.$a=false;this.$9=false;this.$7=$('#loadingGlassPane');this.$7.on('mousedown',function(e){e.stopImmediatePropagation()});this.$7.on(tab.BrowserSupport.get_mouseWheelEvent(),function(e){e.preventDefault()});this.$d=$('#loadingSpinner');this.$b=0;this.$a=true;this.$9=false};iX.__typeName='tab.WaitHandler';global.tab.WaitHandler=iX;var iY=function(e){this.$2$1=null;eR.call(this,e,new fv('lhW'.toString()))};iY.__typeName='tab.WarningDialogModel';global.tab.WarningDialogModel=iY;var iZ=function(e,jt){var ju=function(){ss.makeGenericType(O,[e,jt]).call(this)};ss.registerGenericClassInstance(ju,iZ,[e,jt],{get_isVisible:function(){return true},get_isEnabled:function(){return true},createCommand:function(){return new x(ss.mkdel(this,function(jv){this.do$1()}))},do$1:null,invoke:function(){var jv=$.Deferred();this.do$1();jv.resolve();return jv.promise()}},function(){return ss.makeGenericType(O,[e,jt])},function(){return[]});return ju};iZ.__typeName='tab.WebBaseCmd$2';ss.initGenericClass(iZ,a,2);global.tab.WebBaseCmd$2=iZ;var ja=function(){this.$1=null;bJ.call(this)};ja.__typeName='tab.WebCommandItemWrapper';ja.$ctor1=function(e){this.$1=null;bJ.call(this,e);var jt=bO.deserialize(this.get_command());if(ss.isValue(jt)&&jb.hasCommand(jt.commandName)){this.$1=jb.createCommand(jt.commandName)}else{}};global.tab.WebCommandItemWrapper=ja;var jb=function(){};jb.__typeName='tab.WebCommandRegistry';jb.registerCommand=function(e,jt){jb.$0[e]=jt};jb.hasCommand=function(e){return ss.keyExists(jb.$0,e)};jb.createCommand=function(e){if(ss.keyExists(jb.$0,e)){var jt=jb.$0[e];return ss.createInstance(jt)}throw new ss.Exception('creating unregistered web command')};global.tab.WebCommandRegistry=jb;var jc=function(e){this.$1=null;this.$2$1=null;eR.call(this,e,new fv('_Ss'.toString()));this.$1=e.get_zone()};jc.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=jc;var jd=function(e){this.$3$1=null;ix.call(this,e,new fv('xKN'.toString()))};jd.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=jd;var je=function(e){this.$4=null;this.$6=null;this.$8=null;this.$9=null;this.$7=null;this.$5=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;eR.call(this,e,new fv('res'.toString()));this.$4=new bP(this);this.$8=new cx(this);this.$7=new co(this);this.set_formatPaneModel(new dt(this));if(tab.FeatureFlags.isEnabled('WebQuickNumberFormatting')){this.set_formatQuickNumberMenuModel(new dt(this))}};je.__typeName='tab.WorkbookModel';je.add_workbookModifiedChanged=function(e){je.$2$1=ss.delegateCombine(je.$2$1,e)};je.remove_workbookModifiedChanged=function(e){je.$2$1=ss.delegateRemove(je.$2$1,e)};je.$1=function(e){if(je.$0(e)){return e.mmK.nhM.xD}return null};je.$0=function(e){return ss.isValue(e)&&ss.isValue(e.mmK)&&ss.isValue(e.mmK.nhM)};je.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(je.$2$1,null)){je.$2$1(e)}E.get().onWorkbookModifiedChanged(e);dojo.publish('workbookModifiedChanged',[e])};global.tab.WorkbookModel=je;var jf=function(){};jf.__typeName='tab.WorkbookViewObjectUtils';jf.createVizUriModelForAuthoringSheetInWorkbook=function(e,jt){var ju;var jv=jf.findSheetIdBySheetNameInWorkbook(e,jt);if(jv.length>0){ju=iV.createForAuthoringPublishedSheet(jt.repositoryUrl+'/'+jv)}else{var jw=jf.findFirstSheetInWorkbook(jt);ju=iV.createForAuthoringUnpublishedSheet(jt.repositoryUrl+'/'+jw,e)}if(tab.MiscUtil.isNullOrEmpty(ju)){ju=iV.createInvalid()}return ju};jf.createVizUriModelForViewingSheetInWorkbook=function(e,jt){var ju;var jv=jf.findSheetIdBySheetNameInWorkbook(e,jt);if(jv.length>0){ju=iV.createForViewingSheet(jt.repositoryUrl+'/'+jv)}else{ju=iV.createInvalid()}return ju};jf.findSheetIdBySheetNameInWorkbook=function(e,jt){var ju=_.find(jt.views,function(jv){return ss.referenceEquals(jv.name,e)});if(ss.isNullOrUndefined(ju)){return''}return ju.sheetId};jf.findFirstSheetInWorkbook=function(e){var jt=_.first(e.views);if(ss.isNullOrUndefined(jt)){return''}return jt.sheetId};global.tab.WorkbookViewObjectUtils=jf;var jg=function(e,jt){this.$1=null;this.$0=null;this.$1=e;this.$0=jt};jg.__typeName='tab.WorkgroupDataAlert';global.tab.WorkgroupDataAlert=jg;var jh=function(e,jt,ju){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=jt;this.$0=ju};jh.__typeName='tab.WorkgroupDataSource';jh.$0=function(e){var jt=(ss.isValue(e)?e.match(jh.$1):null);return(ss.isValue(jt)?jt[1]:e)};global.tab.WorkgroupDataSource=jh;var ji=function(){};ji.__typeName='tab.WorkgroupServerCommands';ji.get_getSessionInfo=function(){var e=$.Deferred();if(!tsConfig.is_guest){jp.helper(iS.createRequest('getSessionInfo',null,function(jt){e.resolve(jt)},function(jt){e.reject(jt)}))}else{e.reject()}return e};ji.getWritableProjects=function(e){var jt=[];C.$0(Object).call(null,'getWritableProjects',new f,ss.mkdel(this,function(ju){var jv=C.$2(Object).call(null,ju,ji.$7);ss.arrayAddRange(jt,jv.items);return jv}),function(){e(jt)})};ji.extendWorkgroupSession=function(){if(!tsConfig.is_guest){jp.helper(iS.createRequest('getSessionInfo',null,function(){},function(){}))}};ji.getSchedules=function(e){var jt=[];C.$0(ge).call(null,'getSchedules',new f,ss.mkdel(this,function(ju){var jv=C.$2(ge).call(null,ju,ji.$8);ss.arrayAddRange(jt,jv.items);return jv}),function(){e(jt)})};ji.getSiteUsers=function(e,jt){var ju=[];C.$0(Object).call(null,'getUsers',ji.$3(e),ss.mkdel(this,function(jv){var jw=C.$2(Object).call(null,jv,ji.$9);_.each(jw.items,function(jx){ju.push(jx)});return jw}),function(){jt(ju)})};ji.getDataAlertsForView=function(e,jt){var ju=[];C.$0(Object).call(null,'getDataAlerts',ji.$1(0,e,tsConfig.current_user_id.toString()),ss.mkdel(this,function(jv){var jw=C.$2(Object).call(null,jv,ji.$5);var jx=_.indexBy(ji.$9(jv),'id');if(ss.isValue(jw)){ju=ju.concat(_.map(jw.items,function(jy){var jz=jx[jy.ownerId];return new jg(jy,jz)}))}return jw}),function(){jt(ju)})};ji.fetchPageOfDataSources=function(e,jt,ju){var jv=$.Deferred();C.$1(Object).call(null,'getDatasources',ji.$2(e,jt,ju),ss.mkdel(this,function(jw){var jx=C.$2(Object).call(null,jw,ji.$6);var jy=_.indexBy(ji.$7(jw),'id');var jz=_.indexBy(ji.$9(jw),'id');var jA={items:_.map(jx.items,function(jB){var jC=jy[jB.projectId.toString()];var jD=jz[jB.ownerId.toString()];return new jh(jB,jC,jD)}),moreItems:jx.moreItems};jv.resolve(jA);return jx}));return jv.promise()};ji.getDatasources=function(e,jt,ju){var jv=[];C.$0(Object).call(null,'getDatasources',ji.$2(0,jt,ju),ss.mkdel(this,function(jw){var jx=C.$2(Object).call(null,jw,ji.$6);var jy=_.indexBy(ji.$7(jw),'id');var jz=_.indexBy(ji.$9(jw),'id');if(ss.isValue(jx)){jv=jv.concat(_.map(jx.items,function(jA){var jB=jy[jA.projectId.toString()];var jC=jz[jA.ownerId.toString()];return new jh(jA,jB,jC)}))}return jx}),function(){e(jv)})};ji.fetchPageOfSiteUsers=function(e,jt){var ju=$.Deferred();var jv=ji.$3(e);jv.$1(jt);jv.$2()['includeGuestIfEnabled']=false;C.$1(Object).call(null,'getUsers',jv,ss.mkdel(this,function(jw){var jx=C.$2(Object).call(null,jw,ji.$9);ju.resolve(jx);return jx}));return ju.promise()};ji.$3=function(e){var jt={field:'displayName',ascending:true};var ju={operator:'and',clauses:[{operator:'matches',value:e}]};return new f.$2(jt,ju)};ji.$1=function(e,jt,ju){var jv={operator:'and',clauses:[{field:'viewId',operator:'eq',value:jt},{field:'userId',operator:'eq',value:ju}]};var jw={field:'title',ascending:true};var jx=new f.$2(jw,jv);jx.$1(e);return jx};ji.$2=function(e,jt,ju){var jv={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};if(ss.isValue(ju)){jv.clauses=jv.clauses.concat([{operator:'matches',value:ju}])}var jw=new f.$1(jt,jv);jw.$1(e);return jw};ji.setUserEmail=function(e,jt,ju){ji.$4(function(jv){var jw=ss.mkdict(['userId',jv,'email',e]);jp.helper(iS.createRequest('updateUserEmail',jw,jt,ju))},ju)};ji.$4=function(e,jt){var ju=tsConfig.current_user_name;var jv=tsConfig.current_user_domain_name;var jw=[{field:'username',operator:'eq',value:ju},{field:'domainName',operator:'eq',value:jv}];var jx=ss.mkdict(['filter',{clauses:jw}]);jp.helper(iS.createRequest('getServerUsers',jx,function(jy){var jz=jy['users'];if(ss.isValue(jz)&&jz.length>0&&ss.keyExists(jz[0],'id')){var jA=jz[0]['id'];e(jA)}else{jt(iS.$2(jy))}},jt))};ji.createSubscription=function(e,jt,ju,jv,jw,jx){var jy=ji.$0(ju.get_schedulePresModel().id,e,jt,ss.coalesce(jv,'Always'));jp.helper(iS.createRequest('createSubscription',jy,jw,jx))};ji.createSubscriptions=function(e,jt,ju,jv,jw,jx,jy,jz){var jA=ji.$0(jv.get_schedulePresModel().id,e,jt,ss.coalesce(jw,'Always'));jA['userIds']=ju;jp.helper(iS.createRequestWithPartialFailureHandling('createSubscriptions',jA,jx,jy,jz))};ji.createDataAlert=function(e,jt,ju){var jv=ji.buildCreateDataAlertRequestParams(e);jp.helper(iS.createRequest('createDataAlert',jv,jt,ju))};ji.buildCreateDataAlertRequestParams=function(e){var jt;var ju;if(ss.isValue(tsConfig.current_custom_view_id)){jt='customizedView';ju=tsConfig.current_custom_view_id+''}else{jt='view';ju=tsConfig.current_view_id}var jv=ss.mkdict(['title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',ss.mkdict(['contextType',jt,'id',ju])]);return jv};ji.logOff=function(e){var jt=function(ju){var jv=ju['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(jv)?jv:'/'))};jp.helper(iS.createRequest('logout',{},jt,e))};ji.createCommentingServer=function(){return new bT(iS.$0,bF.get().get_legacySession())};ji.$0=function(e,jt,ju,jv){return ss.mkdict(['scheduleId',e,'subject',jt.trim(),'targetType',(ju?'Workbook':'View'),'targetId',(ju?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',jv])};ji.$7=function(e){return _.map(e['projects'],function(jt){return jt})};ji.$8=function(e){return _.map(e['schedules'],function(jt){return new ge(jt)})};ji.$9=function(e){return _.map(e['users'],function(jt){return{username:jt['username'].toString(),friendlyName:jt['displayName'].toString(),id:parseInt(jt['id'].toString()),hasEmail:jt['hasEmail']}})};ji.$5=function(e){return e['dataAlerts']};ji.$6=function(e){return e['datasources']};global.tab.WorkgroupServerCommands=ji;var jj=function(){};jj.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=jj;var jk=function(e,jt,ju,jv){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=jt;this.success=ju;this.error=jv};jk.__typeName='tab.WorkgroupServerRequest';global.tab.WorkgroupServerRequest=jk;var jl=function(){};jl.__typeName='tab.WorksheetServerCommands';jl.revert=function(){var e=bS.newCommand$1('revert-workbook',null);bF.SendCommand(fM.create(e,'immediately'))};jl.undo=function(){var e=bS.newCommand('undo',null);e.commandParams={};bF.SendCommand(fM.create(e,'immediately'))};jl.undoToPosition=function(e){var jt=bS.newCommand('undo',null);jt.commandParams=jl.$0(e);bF.SendCommand(fM.create(jt,'immediately'))};jl.redo=function(){var e=bS.newCommand('redo',null);e.commandParams={};bF.SendCommand(fM.create(e,'immediately'))};jl.redoToPosition=function(e){var jt=bS.newCommand('redo',null);jt.commandParams=jl.$0(e);bF.SendCommand(fM.create(jt,'immediately'))};jl.clearFuture=function(){var e=bS.newCommand('clear-future',null);e.commandParams={};bF.SendCommand(fM.create(e,'immediately'))};jl.$0=function(e){var jt={};jt['DfV']=e;return jt};global.tab.WorksheetServerCommands=jl;var jm=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};jm.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=jm;var jn=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null};jn.__typeName='tab.WorldUpdateInterceptor';jn.get=function(){return jn.$0.value()};global.tab.WorldUpdateInterceptor=jn;var jo=function(){};jo.__typeName='tab.WorldUpdateServerCommands';jo.getWorldUpdate=function(e){var jt=bS.newCommand('get-world-update',jo.$0());gs.executeServerCommand(jt,'immediately',e,e)};jo.$0=function(){var e={};e['Gge']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=jo;var jp=function(){};jp.__typeName='tab.XhrUtil';jp.get_currentTabName=function(){return jp.$0};jp.set_currentTabName=function(e){jp.$0=e};jp.helper=function(e,jt){var ju=new jp;if(!ss.isValue(e.success)&&ss.isValue(jt)){e.success=jt.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(jt)){e.complete=jt.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(jt)){e.error=jt.get_errorDelegate()}return ju.request(e)};jp.getMultipartData=function(e,jt){var ju=jp.randomString();var jv='--'+ju;var jw='\r\n';var jx=new ss.StringBuilder;if(ss.isValue(e)){jx.append(jv);jx.append(jw);jx.append('Content-Disposition: form-data; name="');jx.append(e['name']);jx.append('"');if('filename'in e){jx.append('; filename="');jx.append(e['filename']);jx.append('"')}jx.append(jw);jx.append('Content-Type: ');jx.append(e['contentType']);jx.append(jw);jx.append(jw);jx.append(e['content']);jx.append(jw)}if(ss.isValue(jt)){var jy=new ss.ObjectEnumerator(jt);try{while(jy.moveNext()){var jz=jy.current();jx.append(jv);jx.append(jw);jx.append('Content-Disposition: form-data; name="');jx.append(jz.key);jx.append('"');jx.append(jw);jx.append(jw);if(ss.isInstanceOfType(jz.value,String)){jx.append(jz.value)}else{jx.append(JSON.stringify(jz.value))}jx.append(jw)}}finally{jy.dispose()}}jx.append(jv);jx.append('--');jx.append(jw);var jA={};jA.header=ju;jA.body=jx.toString();return jA};jp.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var jt=8;var ju='';for(var jv=0;jv<jt;jv++){var jw=Math.random()*e.length;var jx=jw|0;ju+=e.substring(jx,jx+1)}return ju};global.tab.XhrUtil=jp;var jq=function(e){eR.call(this,e,new fv('wqq'.toString()))};jq.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=jq;var jr=function(e,jt,ju){this.$a=null;this.$c=null;this.$8=null;this.$b=null;this.$5=null;this.$9=null;this.$7=false;this.$6=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;eR.call(this,e,new fv(ju.toString(),0));this.$a=jt;this.$5=new bP(this);this.$b=new hj(this)};jr.__typeName='tab.ZoneModel';jr.typeOfContent=function(e){var jt=e.wqq;if(ss.isNullOrUndefined(jt)){return null}if(ss.getKeyCount(jt)===1){var ju=ss.getEnumerator(Object.keys(jt));try{while(ju.moveNext()){var jv=ju.current();return jv}}finally{ju.dispose()}}switch(e.jAM){case'filter':case'layout-basic':case'layout-flow':case'layout-free-form':case'empty':{return''}}return''};jr.getContent=function(e,jt){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.wqq)){return null}if(!(jt in e.wqq)){return null}return e.wqq[jt]};jr.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};jr.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=jr;var js=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;eR.call(this,e,new fv('HCq'.toString()));this.set_zonePresModels({});this.$7={};this.$6={}};js.__typeName='tab.ZonesModel';js.$0=function(e){return'z_'+e};global.tab.ZonesModel=js;ss.initClass(bt,a,{get_isBlocking:function(){return this.$5!=='none'},get_blockType:function(){return this.$5},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$1},set_commandName:function(e){this.$1=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},execute:function(e,jt,ju){var jv=null;if(!ss.staticEquals(ju,null)){jv=function(jw){_.defer(function(){ju(jw)})}}if(this.$4==='localFirst'){this.executeLocal(e);this.executeRemote(jt,jv)}else if(this.$4==='remoteFirst'){this.executeRemote(jt,jv);this.executeLocal(e)}if(!ss.isValue(this.doRemoteWork)&&ss.isValue(jv)){jv(bH.successResult)}},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var jt=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),8,this.buildCommandMetricsParameters());try{this.doLocalWork(e)}finally{if(ss.isValue(jt)){jt.dispose()}}}}},executeRemote:function(e,jt){if(ss.isValue(this.doRemoteWork)){this.$3=new Array;this.doRemoteWork(e,function(ju){gw.onVizqlPinged();if(ss.isValue(jt)){jt(ju)}})}},buildCommandMetricsParameters:function(){var e={};e['cn']=this.get_commandName();return e},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$3)){return}var e=this.$3;var jt=this.$2;while(jt.length>0){e.push(jt.shift())}this.$2=e;this.$3=jt},enqueueCommand:function(e){this.$2.push(e)},handleRemoteCommandSuccess:function(e,jt){if(ss.isValue(e.get_successCallback())){e.get_successCallback()(jt)}},handleRemoteCommandFailure:function(e,jt){if(ss.isValue(e.get_errorCallback())){e.get_errorCallback()(jt)}},$0:function(e,jt){if(this.$2.length===0){if(ss.isValue(jt)){jt(bH.successResult)}return}var ju=this.$2.shift();this.$3.push(ju);var jv=ju.get_commandToExecute();if(ss.isNullOrUndefined(jv)){if(ss.isValue(jt)){jt(bH.successResult)}return}e.executeCommand(jv,ss.mkdel(this,function(jw){try{this.handleRemoteCommandSuccess(ju,jw)}finally{this.$0(e,jt)}}),ss.mkdel(this,function(jw){try{this.handleRemoteCommandFailure(ju,jw)}finally{if(ss.isValue(jt)){jt(new bH(false,jw))}}}))}});ss.initClass(b,a,{get_isOneAtATime:function(){return true}},bt);ss.initInterface(er,a,{add_commmandSucceeded:null,remove_commmandSucceeded:null,add_commandFailed:null,remove_commandFailed:null,executeCommand:null});ss.initClass(c,a,{add_commmandSucceeded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_commmandSucceeded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_commandFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_commandFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){var jt=e['kqB'.toString()];if(ss.isValue(jt)&&jt.mxu.length>0){var ju=jt.mxu[0];var jv=ju.nCR;if(ss.isValue(jv)&&ss.keyExists(jv,'TXj')){var jw=jv['TXj'];if(!jw.GiX){return new ss.Exception(ss.formatString('{0}: {1}',ju.$iY,jw.BNT))}}}return null},executeCommand:function(e,jt,ju){for(var jv=0;jv<this.$6.length;jv++){var jw=this.$6[jv];if(jw.$2(e,jt,ju)===0){return}}var jx={};jx['cn']=e.commandName;var jy=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),8,jx);var jz=this.$5;var jA=ss.mkdel(this,function(jC){jy.dispose();if(ss.isValue(this.$1$2)){this.$1$2(jz,e,jC)}ju(jC)});var jB=ss.mkdel(this,function(jC){jy.dispose();var jD=this.$0(jC);if(ss.isNullOrUndefined(jD)){if(ss.isValue(this.$1$1)){this.$1$1(jz,e,jC)}var jE=ft.fromCommand(jC,e);jt(jE)}else{jA(jD)}});this.$7.executeServerCommand(e,jB,jA);++this.$5},$3:function(e,jt,ju){var jv=new bR;jv.commandNamespace=e;jv.commandName=jt;this.$2([jv],ju)},$2:function(e,jt){this.$4(e,jt,null,null)},$4:function(e,jt,ju,jv){var jw=new w(this,e,jt,ju,jv);jw.$g(ss.mkdel(this,this.$1));this.$6.push(jw)},$1:function(e,jt,ju){var jv=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');if(!ss.staticEquals(this.$1$2,null)){this.$1$2(0,e,jv)}ju(jv)}},null,[er]);ss.initClass(d,a,{});ss.initClass(f,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(jt){return ss.mkdict(['field',jt.field,'ascending',jt.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});f.$2.prototype=f.$1.prototype=f.$0.prototype=f.prototype;ss.initClass(eR,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new fu)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var jt=(e?tab.MiscUtil.cloneObject(this.pm):ft.cloneObjWithScalarsOnly(this.pm));return jt||new Object},swapAndCopyPresModel:function(e){var jt=this.pm;if(ss.isValue(jt)&&ss.isValue(e)){var ju=e;var jv=jt;var jw=Object.keys(jv);for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];if((!ss.keyExists(ju,jy)||typeof(ju[jy])==='undefined')&&(!_.isBoolean(jv[jy])||!eR.removeUndefinedBoolsOnSwapCopy)){ju[jy]=jv[jy]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(jt,ju,jv,jw){this.simpleSwapToUpdate(jt,function(){if(!ss.staticEquals(ju,null)){ju(jv)}},jw)}},simpleSwapToUpdate:function(e,jt,ju){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(jt,ju);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(jt,ju,jv){if(ss.staticEquals(jt,null)){return}this.raiseEvent(function(){jt(ju)},jv)}},raiseEvent$2:function(e,jt){return function(ju,jv,jw,jx){if(ss.staticEquals(ju,null)){return}this.raiseEvent(function(){ju(jv,jw)},jx)}},raiseEvent:function(e,jt){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(jt)||ss.isNullOrUndefined(jt.eventHandler)){return}jt.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var jt=this.parent;return jt.$0(e)}});ss.initClass(j,a,{},eR);ss.initClass(k,a,{},eR);ss.initClass(l,a,{},eR);ss.initClass(m,a,{handleRemoteCommandSuccess:function(e,jt){bt.prototype.handleRemoteCommandSuccess.call(this,e,jt);if(this.$8){return}this.$8=true;var ju=jt;if(ss.isNullOrUndefined(ju)||ss.getKeyCount(ju)===0){return}var jv=this.$7;var jw=this.$7.commandParams;if(ss.keyExists(ju,'Iee')){var jx=ju['Iee'];var jy=bO.deserialize(gZ.create(jx).get_simpleCommand());if(ss.isValue(jy)){jv=jy;jw=jy.commandParams}}if(ss.keyExists(ju,'JPc')){jw['JPc']=ju['JPc']}else if(ss.keyExists(ju,'HBp02')){var jz={HBp02:ju['HBp02']};jw['JPc']=JSON.stringify([jz])}gQ.setCommandParams(jv,jw);this.enqueueCommand(new bL(jv));if(ss.keyExists(ju,'lSS')&&ju['lSS']&&this.$6==='filter-shelf'){var jA=ju['iDH'];var jB=bS.newCommand('create-default-quick-filter',null);var jC={};jC['HBp02']=jA.HBp02;gQ.setCommandParams(jB,jC);this.enqueueCommand(new bL(jB))}}},bt);ss.initClass(n,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var jt=0;for(var ju=this.$4.length-1;ju>=0;--ju){if(ss.referenceEquals(ss.getInstanceType(this.$4[ju]),e)){++jt;ss.removeAt(this.$4,ju)}}if(jt>0){}}});ss.initEnum(o,a,{$0:0,$1:1});ss.initClass(p,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initClass(q,a,{});ss.initClass(r,a,{$4:function(){return this.$9},$5:function(){return ss.getKeyCount(this.$a)===0},$6:function(){return _.map(this.$a,function(e,jt){return e})},$0:function(e,jt){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(r.$0(jt,e));this.$7=this.$7||this.$2(e);e=r.$1(jt,e);this.$a[e.join(',')]=e},$1:function(e,jt){if(ss.isNullOrUndefined(jt)||jt.length===0){return false}var ju;if(this.$7||this.$2(jt)){ju=this.$3(e,jt)}else{var jv=r.$1(e,jt);ju=ss.keyExists(this.$a,jv.join(','))}return ju},$2:function(e){for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(!ss.isValue(ju)){return true}}return false},$3:function(e,jt){var ju=r.$0(e,jt);for(var jv=0;jv<this.$8.length;jv++){var jw=this.$8[jv];var jx=true;var jy=false;var jz=0;var jA=0;while(jx&&jA<jw.length&&jz<ju.length){var jB=jw[jA];var jC=ju[jz];if(jB.item1<jC.item1){++jA}else if(jB.item1>jC.item1){++jz}else{jx=!ss.isValue(jB.item2)||!ss.isValue(jC.item2)||ss.referenceEquals(jB.item2,jC.item2);jy=jy||ss.referenceEquals(jB.item2,jC.item2);++jA;++jz}}if(jx&&jy){return true}}return false}});ss.initEnum(s,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var jt=this.$2.mmK.HCq;var ju=this.$1;for(var jv=0,jw=e.length;jv<jw;jv++){var jx=e[jv];jt[jx].wqq=ju[jx]}return this.$2}});ss.initClass(w,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,jt,ju){var jv=false;for(var jw=0;jw<this.$5.length;jw++){var jx=this.$5[jw];if(ss.referenceEquals(jx.commandName,e.commandName)&&ss.referenceEquals(jx.commandNamespace,e.commandNamespace)){jv=true;break}}if(!jv){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=jt;this.$c=ju;return 0}var jy=Math.floor(tabBootstrap.MetricsController.getTiming());var jz=jy-this.$7;if(this.$e!==-1&&jz<this.$e){this.$3(e,jt,ju,this.$e-jz)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,jt,ju,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeCommand(e,ss.mkdel(this,function(jA){if(this.$8>0){--this.$8}jt(jA)}),ss.mkdel(this,function(jA){if(this.$8>0){--this.$8}ju(jA)}))}finally{this.$6=false;this.$7=jy}}return 0},$0:function(){var e=this.$b;var jt=this.$d;var ju=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeCommand(e,jt,ju)},$3:function(e,jt,ju,jv){this.$b=e;this.$d=jt;this.$c=ju;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),jv)},$1:function(e,jt,ju){if(ss.isValue(this.$1$1)){this.$1$1(e,jt,ju)}}});ss.initClass(x,a,{},bt);ss.initClass(iK,a,{gv:function(e){return this.v[e]},setValue:function(e,jt){this.v[e]=jt},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var jt=0;jt<this.length;jt++){this.v[jt]=e(this.v[jt])}}}});ss.initClass(y,a,{gv:function(e){return this.v[0]},setValue:function(e,jt){this.v[0]=jt}},iK);ss.initClass(z,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(e){this.$4(this.$3()+1);this.$5.get_waitHandler().addrefAndShowFullWaitHandlerNow(e)},$1:function(e,jt){if(jt){this.$2(jt)}else{this.$4(this.$3()+1);this.$5.incrementWait(e)}},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(A,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$2:function(){return this.$1$3},$3:function(e){this.$1$3=e}});ss.initClass(B,a,{get_waitingOnCommands:function(){return this.$1()},get_deferredServerResponseQueueSize:function(){return this.$0()},get_currentWorldDiffersFromCheckpoint:function(){return this.$2.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$2.worldCheckpoint()}});ss.initClass(C,a,{});ss.initClass(fD,a,{fractionToValue:null,valueToFraction:null});ss.initClass(D,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var jt=(this.$6-this.$5)/(this.$4-this.$3);var ju=this.$5-jt*this.$3;return e*jt+ju}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var jt=(this.$6-this.$5)/(this.$4-this.$3);var ju=this.$5-jt*this.$3;return(e-ju)/jt}var jv=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+jv)/(2*this.$0)}},fD);ss.initClass(E,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var jt=this.$1$2;if(!ss.staticEquals(jt,null)){jt(e)}},onWorkbookModifiedChanged:function(e){var jt=this.$1$3;if(!ss.staticEquals(jt,null)){jt(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(F,a,{highlight:'highlight',filter:'filter',url:'url'},true);ss.initClass(G,a,{});ss.initClass(H,a,{invoke:function(){return this.invoke$1(bS.newCommand$1('add-dataserver-data-source',this.c))}},ss.makeGenericType(O,[Object,I]));ss.initClass(I,a,{});ss.initClass(J,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(K,a,{});ss.initClass(L,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbar:function(){return this.$b},get_workbook:function(){return this.$d},get_colorPalettes:function(){return this.$4},get_calculationModel:function(){return this.$3},get_compoundTableCalcModel:function(){return this.$5},get_isTableCalcHighlightingMode:function(){return tab.FeatureFlags.isEnabled('TableCalcsHighlighting')&&this.$5.get_hasTableCalc()},get_typeInPillCalculationModel:function(){return this.$c},get_calculationFunctionListModel:function(){return this.$2},get_shapeManager:function(){return this.$a},get_dataDictionary:function(){return this.$7},get_dataAlertDialogModel:function(){return this.$6},get_serverFonts:function(){return this.$2$3},set_serverFonts:function(e){this.$2$3=e},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().ABX:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().hkF))?this.get_appPresModel().hkF:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().IzU))?this.get_appPresModel().IzU:'h:mm tt')},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=eU.findContentDashboard();return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var jt=eU.findContentDashboard();if(ss.isValue(jt)){jt.autoUpdate=e}},get_invalid:function(){return eU.findContentDashboard().invalid},set_invalid:function(e){eU.findContentDashboard().invalid=e},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return tab.FeatureParamsLookup.getBool(41)},registerNotificationHandler:function(e,jt){var ju=this.$9[e];if(ss.isNullOrUndefined(ju)){ju=[];this.$9[e]=ju}for(var jv=0;jv<ju.length;jv++){if(ss.staticEquals(ju[jv],jt)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}ju.push(jt);return jt},unRegisterNotificationHandler:function(e,jt){var ju=this.$9[e];if(ss.isValue(ju)){for(var jv=ju.length-1;jv>=0;jv--){if(ss.staticEquals(ju[jv],jt)){ss.removeAt(ju,jv);if(ju.length===0){delete this.$9[e];return}}}}},$1:function(e,jt){var ju=e.NdE;if(ss.isNullOrUndefined(ju)){return}var jv=new ss.ObjectEnumerator(ju);try{while(jv.moveNext()){var jw=jv.current();var jx=jw.key;var jy=this.$9[jx];if(ss.isNullOrUndefined(jy)){continue}var jz=jw.value.wqq;var jA=new ss.ObjectEnumerator(jz);var jB=(jA.moveNext()?jA.current().value:null);for(var jC=0;jC<jy.length;jC++){var jD=jy[jC];jD(jB,jt)}}}finally{jv.dispose()}},addModel:function(e){return function(){var jt=ss.createInstance(e);var ju=ss.safeCast(jt,em);if(ss.isValue(ju)){this.registerNotificationHandler(ju.get_notificationId(),ss.mkdel(ju,ju.onNotify))}this.$8[e]=jt;return jt}},removeModel:function(e){return function(){var jt=this.$8[e];if(ss.isNullOrUndefined(jt)){return}var ju=ss.safeCast(jt,em);if(ss.isValue(ju)){this.unRegisterNotificationHandler(ju.get_notificationId(),ss.mkdel(ju,ju.onNotify))}delete this.$8[e]}},modelInstance:function(e){return function(){var jt=this.$8[e];if(ss.isNullOrUndefined(jt)){jt=this.addModel(e).call(this)}return jt}},update:function(e,jt){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.ABX)){this.get_appPresModel().ABX=e.ABX}if(ss.isValue(e.vZU)){this.$7.update(e.vZU)}if(ss.isValue(e._QK)){this.$1(e._QK,jt)}if(ss.isValue(e.res)){if(!ss.isValue(this.$d)){this.$d=new je(this);this.raiseEvent$1(je).call(this,this.$2$1,this.$d,jt)}this.$d.update(e.res,jt)}if(ss.isValue(e.ZgT1)){this.$4.update(e.ZgT1,jt)}if(ss.isValue(e.Oss)){this.$3.update(e.Oss,jt)}if(ss.isValue(e.QjR)){this.$c.update(e.QjR,jt)}if(ss.isValue(e.Oss)&&ss.isValue(e.Oss.mu_)){this.$2.update(e.Oss.mu_,jt)}if(tab.FeatureFlags.isEnabled('TableCalcsNonModal')){if(ss.isValue(e._Ja)){this.$5.update(e._Ja,jt)}}if(ss.isValue(e.R_T1)){this.$b.update(e.R_T1,jt)}if(tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){if(ss.isValue(e.GLi)){this.$6.update(e.GLi)}}if(ss.isValue(e.nrh)){this.set_serverFonts(ss.arrayClone(e.nrh.m_V))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,jt)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e}},eR);ss.initClass(M,a,{invoke:function(){return this.invoke$1(bS.newCommand('assign-categorical-color-palette',this.c))}},ss.makeGenericType(O,[Object,N]));ss.initClass(N,a,{});ss.initClass(P,a,{get_urlRoot:function(){return this.$h},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return P.$2},set_historyPosition:function(e){P.$2=e},get_waitHandler:function(){if(ss.isNullOrUndefined(P.$3)){P.$3=new iX}return P.$3},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_commonDialogProvider:function(){return this.$e},$d:function(){return this.$h+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$g+'/thumb/views/'+e},formatSessionTempfileReference:function(e,jt,ju){return this.$h+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(jt?'&keepfile=yes':'')+(ju?'&attachment=yes':'')},railsEncode:function(e){var jt=new ss.ObjectEnumerator(P.$1);try{while(jt.moveNext()){var ju=jt.current();e=e.replace(ju.value,ju.key)}}finally{jt.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(P.$3)){return false}P.$3.nudge();return true},incrementWait:function(e){if(ss.isNullOrUndefined(P.$3)){return false}P.$3.addref(e);return true},decrementWait:function(){if(ss.isNullOrUndefined(P.$3)){return false}P.$3.release();return true},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},$7:function(e,jt,ju){var jv={};jv.type='POST';jv.url=this.$4('inform');jv.headers=ss.mkdict(['Accept','text/plain']);jv.contentType='text/plain';var jw=tsConfig.clientErrorReportingMaxRequestSizeBytes;var jx=new ss.StringBuilder;jx.appendLine('url: '+e);jx.appendLine('user-agent: '+jt);var jy=ss.Int32.div(jw-jx.toString().length,ss.getKeyCount(ju));var jz=new ss.ObjectEnumerator(ju);try{while(jz.moveNext()){var jA=jz.current();jx.appendLine(jA.key);jx.appendLine(jA.value.substr(0,jy-jA.key.length-2))}}finally{jz.dispose()}jv.data=jx.toString();this.$b(jv)},$c:function(e,jt){if(jt){jl.redoToPosition(e)}else{jl.undoToPosition(e)}},executeServerCommand:function(e,jt,ju){var jv={};this.$8(jv,e);jv.headers=ss.mkdict(['Accept','text/javascript']);var jw=function(jz,jA,jB){if(ss.isValue(jt)){jz=tab.RleDecoder.decode(jz);jt(jz)}};var jx=ss.mkdel(this,function(jz,jA,jB){this.$6(jB,jz,e.noExceptionDialog,e);if(ss.isValue(ju)){var jC=new ss.Exception(jz.responseText);jC['status']=jz.status;ju(jC)}});var jy=this.$1(null,jw,(ss.isValue(ju)?jx:null));this.$b(jv,jy)},basicPostOpts:function(e,jt){var ju={};ju.type='POST';ju.url=e;ju.headers=ss.mkdict(['Accept','text/javascript']);ju.dataType='json';ju.data=jt;return ju},basicGetOpts:function(e){var jt={};jt.type='GET';jt.url=e;jt.headers=ss.mkdict(['Accept','text/javascript']);jt.dataType='json';return jt},$8:function(e,jt){var ju=jp.getMultipartData(null,jt.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+ju.header;e.data=ju.body;e.url=this.$3(jt.commandNamespace,jt.commandName)},$9:function(e){var jt=this.get_historyPosition();var ju=ss.mkdel(this,function(){this.$c(jt,false)});var jv=ss.mkdel(this,function(){this.$c(jt+1,true)});this.$a(ju,jv);++P.$2},$2:function(e){return this.$h+'/'+e},$4:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$h)},$3:function(e,jt){return this.$d()+'/commands/'+e+'/'+jt},$a:function(e,jt){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(P.$0)){P.$0.onBack=e}else{ed.setInitialState(e)}P.$0=ed.addToHistory(null,jt)}},$6:function(e,jt,ju,jv){this.$f.handle(e,jt,jv,ju)},$b:function(e,jt){return jp.helper(e,jt)},$1:function(e,jt,ju){return new gt(this,e,jt,ju,false,false)},$0:function(e,jt,ju,jv){var jw=jv!=='none';var jx=jv==='immediately'||jv==='immediatelySubtle';return new gt(this,e,jt,ju,jw,jx)},formatLayoutMethod:function(e,jt){var ju=(ss.isValue(jt)?this.$4(jt):this.$d());ju+='/layouts/'+e;return ju},formatViewMethod:function(e,jt){var ju=(ss.isValue(jt)?this.$4(jt):this.$d());ju+='/views/'+e;return ju},formatFilterReference:function(e,jt,ju){return this.$5(e,jt,ju,'filters')},$5:function(e,jt,ju,jv){e=encodeURIComponent(this.railsEncode(e));var jw;if(ss.isValue(ju)){jw=this.$4(ju)}else{jw=this.$d()}jw+='/sheets/'+e+'/'+jv;if(ss.isValue(jt)){jw+='/'+encodeURIComponent(this.railsEncode(jt))}return jw}});ss.initClass(Q,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,jt,ju,jv,jw){var jx=e.get_vizDataModel();var jy=eU.getModelsForViz(bj).call(null,eU.findContentDashboard(),e);for(var jz=0;jz<jy.length;jz++){var jA=jy[jz];if(ss.isNullOrUndefined(jx)){continue}if(!jA.get_isHighlightEnabled()||jw.length===0&&jA.get_isOneWay()){continue}var jB=_.intersection(jt.get_vizDataModel().get_fieldCaptions(),jA.get_fieldCaptions());jB=Q.getHighlightFieldCaptions(jv,jt.get_vizDataModel().get_highlightCaptions(),jB);var jC=t.$3(jt.get_vizDataModel(),ju,jB);var jD=t.$6(jC,jx,jA);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][Q.$0(jA.get_legendTypeEnum(),jA.get_legendNames())]=jD}}});ss.initClass(R,a,{invoke:function(){return this.invoke$1(bS.newCommand('build-caption-context-menu',this.c))}},ss.makeGenericType(O,[Object,S]));ss.initClass(S,a,{});ss.initClass(T,a,{invoke:function(){return this.invoke$1(bS.newCommand('build-main-menu',this.c))}},ss.makeGenericType(O,[Object,U]));ss.initClass(U,a,{});ss.initClass(V,a,{invoke:function(){return this.invoke$1(bS.newCommand('build-sheet-list-context-menu',this.c))}},ss.makeGenericType(O,[Object,W]));ss.initClass(W,a,{});ss.initClass(X,a,{invoke:function(){return this.invoke$1(bS.newCommand('build-title-context-menu',this.c))}},ss.makeGenericType(O,[Object,Y]));ss.initClass(Y,a,{});ss.initClass(Z,a,{get_resultType:function(){return this.$1},get_errorMessage:function(){return this.$0},set_errorMessage:function(e){this.$0=e}});ss.initClass(ba,a,{invoke:function(){return this.invoke$1(bS.newCommand('calculation-auto-complete',this.c))}},ss.makeGenericType(O,[Object,bb]));ss.initClass(bb,a,{});ss.initClass(bc,a,{$1:function(){return this.pm},get_itemType:function(){return(ss.isValue(this.$1().RBQ)?this.$1().RBQ:'func')},get_label:function(){return this.$1().pHt},get_styledLabel:function(){return this.$1().GMD},get_iconResource:function(){return this.$1().OxY},get_tooltip:function(){return this.$1().ApM},get_replaceText:function(){return this.$1().$e$},get_caretIndex:function(){return this.$1().$IL}},eR);ss.initClass(bd,a,{get_functionTooltip:function(){return this.pm.hzT},get_functionHelpPosition:function(){return this.pm.uHK},get_calculation:function(){return this.pm.nKr},get_startIndex:function(){return this.pm.QNi},get_endIndex:function(){return this.pm.sDT},get_items:function(){return this.$1}},eR);ss.initClass(be,a,{});ss.initClass(bf,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().giJ||[]},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(bg,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$1(this.$1().QD)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().MQQ)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().UyO02))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$1().HBp02)},get_isAdhoc:function(){return this.$2&&this.$1().nFA},get_adHocShelf:function(){return this.$1().Ene||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().ZMD},get_adHocPaneSpecId:function(){return this.$1().FsL},$1:function(){return this.pm},get_tokens:function(){return this.$1().rxV||[]},get_name:function(){return this.$1().MQQ||''},get_fieldName:function(){return this.$1().HBp02||''},get_errors:function(){return this.$1().hit||[]},get_errorSummary:function(){return this.$1().bYn||''},get_caption:function(){return this.$1().QD||''},get_formula:function(){return this.$1().Fpl||''},get_dependencies:function(){return this.$1().AAa||''},get_dataSourceName:function(){return this.$1().UyO02||''},get_dataSourceCaption:function(){var e=L.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var jt=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(jt)){return null}return jt.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().oVH,false)},get_calculationContext:function(){return ss.coalesce(this.$1().zZA,'calculation-dialog')},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initInterface(em,a,{get_notificationId:null,onNotify:null});ss.initClass(bh,a,{add_showDialog:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_showDialog:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'Yji'},$1:function(){return this.pm},get_fieldDisplayNames:function(){return this.$1().PNY.Mn},get_itemColors:function(){return this.$1().PNY.lDC.DKF},get_availablePalettes:function(){return this.$1().PNY.zft.HMF},get_currentPaletteIndex:function(){return this.$1().PNY.D_H},get_selectedLegendItemIndexes:function(){return this.$1().PNY.BXu},get_controllerId:function(){return this.$1().PNY.TiU},onNotify:function(e,jt){this.swapPresModel(e);this.raiseEvent(this.$2$1,jt)}},eR,[em]);ss.initClass(bi,a,{get_items:function(){return this.$1().L_v},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},eR);ss.initInterface(eh,a,{getItemNamesFromObjectId:null});ss.initClass(bj,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().MJI||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().JuD||false},get_isOneWay:function(){return this.get_catLegendPresModel().i$I||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().oKr},get_legendNames:function(){return this.get_catLegendPresModel().HhR},get_legendTypeEnum:function(){return this.$2},get_items:function(){return bj.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,jq);return e.get_zone()},getItemNamesFromObjectId:function(e){var jt=_.find(this.get_items(),function(ju){return ju.YLs===e});return jt.nbD},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)){return}dq.notifyFontsFromCategoricalLegendPresModel(e);var ju=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(ju)&&!_.isEqual(ju.HhR,e.HhR)){this.raiseEvent(this.$2$2,jt)}this.raiseEvent(this.$2$1,jt)}},eR,[eh]);ss.initClass(fB,a,{update:function(e,jt){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},eR);ss.initClass(bk,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.etp},get_isAllButtonVisible:function(){return this.$1.dqD},get_isAllButtonSelected:function(){return this.$1.uPU.GtG},get_isSelectionExclusive:function(){return this.$1.uPU.jeJ},get_showApplyAndCancelButtons:function(){return this.$1.WZq},get_showSearchButton:function(){return this.$1.NLs},get_showMoreLessButton:function(){return this.$1.EQS},get_showClearButton:function(){return this.$1.shF},get_getDomainValue:function(){return this.$1.tWP},getDomains:function(){return this.$1.ysh},update:function(e,jt){fB.prototype.update.call(this,e,jt);this.$1=e;this.get_categoricalFilter().update(this.$1.uPU)}},fB);ss.initClass(bl,a,{invoke:function(){return this.invoke$1(bS.newCommand('change-line-interpolation',this.c))}},ss.makeGenericType(O,[Object,bm]));ss.initClass(bm,a,{});ss.initClass(bn,a,{addChange:function(e){this.$0.push(e)},compileForChecklist:function(e){var jt={};for(var ju=0;ju<this.$0.length;++ju){var jv=this.$0[ju];switch(jv.type){case 0:{jt[jv.index]=jv.checkState;break}case 1:{var jw=jv.range;var jx=jv.checkState;var jy=Math.min(jw.get_from(),jw.get_to());var jz=Math.max(jw.get_from(),jw.get_to());for(var jA=jy;jA<=jz;++jA){jt[jA]=jx}break}}}var jB=[];var jC=[];var jD=new ss.ObjectEnumerator(jt);try{while(jD.moveNext()){var jE=jD.current();var jF=parseInt(jE.key,10);var jG=jE.value;if(jG){jB.push(jF)}else{jC.push(jF)}}}finally{jD.dispose()}var jH=new bU;jH.select=jB;jH.deselect=jC;jH.domain=e;return jH},compileForRadiolist:function(e){var jt=this.$0.length-1;var ju=this.$0[jt];var jv=new bV;jv.index=ju.index;jv.domain=e;return jv},reset:function(){ss.clear(this.$0)},appendChangelist:function(e){for(var jt=0;jt<e.$0.length;jt++){this.$0.push(e.$0[jt])}}});ss.initEnum(bo,a,{single:0,range:1});ss.initClass(bp,a,{invoke:function(){return this.invoke$1(bS.newCommand('change-workbook-ui-mode',this.c))}},ss.makeGenericType(O,[Object,bq]));ss.initClass(bq,a,{});ss.initClass(br,a,{invoke:function(){return this.invoke$1(bS.newCommand('clear-highlighting',this.c))}},ss.makeGenericType(O,[Object,bs]));ss.initClass(bs,a,{});ss.initEnum(bu,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initClass(bv,a,{},ss.makeGenericType(iZ,[Object,bw]));ss.initClass(bw,a,{});ss.initClass(bx,a,{invoke:function(){return this.invoke$1(bS.newCommand('close-data-alert-dialog',this.c))}},ss.makeGenericType(O,[Object,by]));ss.initClass(by,a,{});ss.initClass(bz,a,{add_newError:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newError:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheetNames:function(){return this.$1().gxJ},get_dataSourceName:function(){return this.$1().UyO02},get_notificationId:function(){return'bjw'},$1:function(){return this.pm},onNotify:function(e,jt){this.swapPresModel(e);if(this.$1().Ixx){this.raiseEvent(this.$2$1,jt)}}},eR,[em]);ss.initClass(bA,a,{invoke:function(){return this.invoke$1(bS.newCommand('close-ref-line-editor',this.c))}},ss.makeGenericType(O,[Object,bB]));ss.initClass(bB,a,{});ss.initClass(bC,a,{get_r:function(){return this.$6},get_g:function(){return this.$5},get_b:function(){return this.$3},get_a:function(){return this.$2},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},setRGBStr:function(e){this.$7=e},isValueAboveThreshold:function(e){var jt=bC.alphaBlend(this,bC.white);return Math.max(Math.max(jt.get_r(),jt.get_g()),jt.get_b())>e},toString:function(){if(this.$4===''){this.$4=((this.$2>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$4},$0:function(){var e=this.$1();var jt=116*bC.$3(e)-16;return jt},$1:function(){return 0.2126*bC.$c[this.get_r()]+0.7152*bC.$c[this.get_g()]+0.0722*bC.$c[this.get_b()]},toRgba:function(){return'rgba('+this.$6+','+this.$5+','+this.$3+','+this.$2+')'},toRgba255:function(){return'rgba('+this.$6+','+this.$5+','+this.$3+','+ss.Int32.trunc(this.$2*255)+')'},toRgb:function(){if(this.$7===''){return'rgb('+this.$6+','+this.$5+','+this.$3+')'}return this.$7},toRgbHex:function(){return'#'+bC.$5(this.$6,2)+bC.$5(this.$5,2)+bC.$5(this.$3,2)},toArgbHex:function(){var e=ss.Int32.trunc(this.$2)*255;return'#'+bC.$5(e,2)+bC.$5(this.$6,2)+bC.$5(this.$5,2)+bC.$5(this.$3,2)},toArgbInt:function(){var e=ss.Int32.trunc(this.$2)*255;return(e<<24)+(this.$6<<16)+(this.$5<<8)+this.$3}});ss.initClass(bD,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().Jxz},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().RSE},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.HMF},colorPaletteGroup:function(e){var jt=e.HWn;return _.map(jt,ss.mkdel(this,function(ju){return this.get_colorPalettes()[ju]}))},update:function(e,jt){this.simpleSwapToUpdate(e,null,jt)}},eR);ss.initClass(bE,a,{get_command:function(){return this.$1$1},set_command:function(e){this.$1$1=e},addParameter:function(e,jt){if(ss.isNullOrUndefined(this.get_command().commandParams)){this.get_command().commandParams=ss.mkdict([e,jt])}else{this.get_command().commandParams[e]=jt}},toCommandAction$1:function(e){return function(jt,ju){return ss.mkdel(this,function(jv){var jw=ju(jv);this.addParameter(jt,jw);gs.executeServerCommand(this.get_command(),'immediately')})}},toCommandAction:function(e){return ss.mkdel(this,function(){gs.executeServerCommand(this.get_command(),e)})}});ss.initClass(bF,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_destroyView:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_destroyView:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_commandQueueComplete:function(e){this.$1$7=ss.delegateCombine(this.$1$7,e)},remove_commandQueueComplete:function(e){this.$1$7=ss.delegateRemove(this.$1$7,e)},add_undoCommand:function(e){this.$1$8=ss.delegateCombine(this.$1$8,e)},remove_undoCommand:function(e){this.$1$8=ss.delegateRemove(this.$1$8,e)},add_modelsUpdated:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_modelsUpdated:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_intermediateUpdate:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_intermediateUpdate:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_remoteCommandFailure:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_remoteCommandFailure:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},get_loader:function(){return this.$V},$H:function(){return this.$R.length===0&&this.$10.$3()===0},$G:function(){return _.any(this.$R,bF.$4)},get_legacySession:function(){return this.$W},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$5=null},setBrowserViewportFunc:function(e){this.$S=e;if(fx.get_progressiveLoadEnabled()){this.$S(ss.mkdel(this,function(jt){this.$V.setViewport(jt)}))}},prepareForSheetChange:function(){this.$W.get_waitHandler().showAndLock(false)},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var jt=ss.mkdel(this,function(jw){{var jx=tabBootstrap.MetricsController.createContext('RLE Decode Primary',32,null);try{jw=tab.RleDecoder.decode(jw)}finally{if(ss.isValue(jx)){jx.dispose()}}}var jy=jw;try{this.$E(jy);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}this.$f(jy.worldUpdate.hyc);this.$N.handlePotentialBootstrapDataSourceException(jy)}catch(jz){var e=ss.Exception.wrap(jz);bF.handleBootstrapException(e,this.$M)}});var ju=ss.mkdel(this,function(e){var jw=e;if(ss.isValue(jw)){_.defer(ss.mkdel(this,function(){{var jx=tabBootstrap.MetricsController.createContext('RLE Decode Secondary',32,null);try{jw=tab.RleDecoder.decode(jw)}finally{if(ss.isValue(jx)){jx.dispose()}}}{var jy=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$i(jw)}catch(jz){var e1=ss.Exception.wrap(jz);bF.handleBootstrapException(e1,this.$M)}}finally{if(ss.isValue(jy)){jy.dispose()}}}if(fx.get_progressiveLoadEnabled()){this.$B()}else{this.$n()}}))}});var jv=ss.mkdel(this,function(e){gw.onVizqlPinged();var jw=e['status'];if(jw===200){var jx=e['message'];if(jx.substr(0,12)==='Invalid JSON'){bF.sendParentCompletedMessage();var jy=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$M.showAlertDialog(jy,tab.Strings.SessionUnknownErrorTitle,true,null);throw new ss.Exception('Invalid JSON')}}else if(jw===403){var jz=0;var jA='';try{var jB=JSON.parse(e['responseText']);if(ss.isValue(jB)){jz=jB.code;jA=jB.message}}catch(jI){}bF.sendParentCompletedMessage();this.$W.get_sessionErrorHandler().handleSessionForbiddenAction(jz,jA)}else if(jw===401){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var jC=e['responseText'];var jD=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(jC);var jE=(ss.isNullOrUndefined(jD)?jC:jD.RedirectUrl);tab.WindowHelper.locationReplace(window.self,jE)}else{var jF=e['responseText'];tab.WindowHelper.locationReplace(window.self,jF)}}else if(jw===410){this.$W.get_sessionErrorHandler().handleSessionExpiration(true)}else if(jw===413){bF.sendParentCompletedMessage();this.$W.get_sessionErrorHandler().handleSessionLimitExceeded()}else if(jw!==0){bF.sendParentCompletedMessage();var jG=e['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var jH=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(jG);if(ss.isValue(jH)){jG=jH.ErrorMessage}}if(jw===502||jw===503){this.$W.get_sessionErrorHandler().handleSessionKilled(jG)}else{this.$W.get_sessionErrorHandler().handleUnknownErrorStatus(jG)}this.$W.nudgeWait()}});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(jt,jv,ju)},delayLocalUrlActions:function(e){this.$Q=this.$Q.concat.apply(this.$Q,e)},worldCheckpoint:function(){return this.$11.worldCheckpoint()},SaveWorkbook:function(e,jt,ju,jv){this.$7('publish',e,jt,ju,null,null,jv,null)},SaveWorkbookAs:function(e,jt,ju,jv,jw,jx,jy){this.$7('publish_as',e,jt,ju,jv,jw,jx,jy)},SaveDatasource:function(e,jt,ju,jv,jw,jx){this.$8(e,jt,ju,jv,jw,jx)},$C:function(e){var jt=function(){e()};var ju={};ju.type='POST';ju.url=this.$b('transitionGuest');var jv=tab.MiscUtil.get_urlPathnameParts();var jw=(ss.keyExists(jv,3)?jv[3]:'');var jx=tsConfig.current_sheet_name;var jy=ss.mkdict([':authSheet',jx,'sheet_id',jw]);ju.data=jy;var jz=new gt(this.$W,null,jt,null,true,true);jp.helper(ju,jz)},$b:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,this.$W.get_id(),this.$W.get_urlRoot())},$a:function(e){var jt=new ss.StringBuilder;jt.append(this.$W.get_urlRoot());jt.append('/');jt.append(e);jt.append('/datasource/');jt.append(this.$W.get_id());return jt.toString()},$o:function(e,jt,ju,jv,jw){this.$M.showAlertDialog(tab.Strings.UnhandledExceptionMessage(this.$W.get_id(),e),tab.Strings.UnhandledExceptionTitle,true,null);return false},$q:function(e,jt){if(ss.isValue(e)){eR.nonWorldUpdate(ss.mkdel(this,function(ju){ju.dialogProvider=this.$M;L.get_instance().update(e,ju);this.$11.checkpointAppPresModel()}));this.$w();if(!jt){this.$m()}}},$m:function(){if(!ss.staticEquals(this.$1$10,null)){this.$1$10()}},$j:function(){if(fx.get_progressiveLoadEnabled()){this.$V=new fx;this.$V.add_progressiveLoad(ss.mkdel(this,this.$q));this.$V.add_progressiveLoadComplete(ss.mkdel(this,this.$p));this.$K=[]}},$B:function(){this.$V.start()},$1:function(){if(fx.get_progressiveLoadEnabled()&&this.$V.get_hasZonesToLoad()){this.$V.abort();this.$K=[];this.$p()}},$p:function(){this.$A();this.$n();jn.get().raiseOnProgressiveLoadComplete();for(var e=0;e<this.$K.length;e++){var jt=this.$K[e];jt()}this.$K=[]},$f:function(e){{var jt=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var ju=new cE;ju.exceptionHandler=ss.mkdel(this,function(jA){bF.handleBootstrapException(jA,this.$M)});var jv=ju;var jw={dialogProvider:this.$M,eventHandler:jv};jn.get().raiseOnBootstrapResponse(e);if(fx.get_progressiveLoadEnabled()){e=this.$V.extractZoneContent(e)}{var jx=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var jy=L.get_instance();jy.update(e,jw)}finally{if(ss.isValue(jx)){jx.dispose()}}}this.$11.checkpointAppPresModel();hf.notifyModelsInitialized();{var jz=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{jv.fireDeferredEvents()}finally{if(ss.isValue(jz)){jz.dispose()}}}}finally{if(ss.isValue(jt)){jt.dispose()}}}this.$w();if(!fx.get_progressiveLoadEnabled()){this.$A()}this.get_legacySession().nudgeWait()},$i:function(e){var jt=e['UdM'.toString()];if(!ss.isValue(jt)||!ss.isValue(jt.NdE)||ss.getKeyCount(jt.NdE)===0){return}var ju=L.get_instance().get_appPresModel();if(ss.keyExists(jt.NdE,'dataDictionary')){var jv=jt.NdE['dataDictionary'].wqq;var jw=jv['genDataDictionaryPresModel'];if(ss.isValue(jw)){ju.vZU=jw}}var jx=new cE;jx.exceptionHandler=ss.mkdel(this,function(jD){bF.handleBootstrapException(jD,this.$M)});var jy=jx;var jz={dialogProvider:this.$M,eventHandler:jy};if(ss.keyExists(jt.NdE,'vizData')){var jA=ju.res.mmK;var jB=jt.NdE['vizData'].wqq;var jC=jB['genPresModelMapPresModel'];if(fx.get_progressiveLoadEnabled()&&this.$V.get_hasZonesToLoad()){this.$V.updateZonesWithVizData(jC,jz)}else{iR.addVizDataToZones(jC.NdE,jA.HCq)}}L.get_instance().update(ju,jz);this.$11.checkpointAppPresModel();if(eU.hasAnyImpliedSelection()){jy.fireDeferredEvents()}this.$w()},$E:function(e){tsConfig.layoutid=e.layoutId;this.$W.set_layoutId(tsConfig.layoutid);var jt=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$1(jt)){tsConfig.sessionid=jt}var ju=e.workbookLocale;if(!ss.isNullOrEmptyString(ju)){tsConfig.workbookLocale=ju}var jv=e.newClientNum;if(!ss.isNullOrEmptyString(jv)){tsConfig.clientNumber=jv;tabBootstrap.Utility.addToUrlHash(tabBootstrap.Utility.CLIENTNO,jv)}tsConfig.current_sheet_name=e.sheetName;jp.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_supports_background_viz_load=e.workbookSupportsBackgroundVizLoad;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.hyc.res.mmK)){tsConfig.current_sheet_type=e.worldUpdate.hyc.res.mmK.nhM.xD}},$7:function(e,jt,ju,jv,jw,jx,jy,jz){var jA=function(jG,jH,jI){var jJ=jG;if(ss.keyExists(jJ,'workbook')){var jK=jJ['workbook'];jy(jK)}else{jy(null)}};var jB=ss.mkdel(this,function(jG,jH,jI){var jJ;try{jJ=JSON.parse(jG.responseText)}catch(jL){jJ=null}if(ss.isValue(jz)&&ss.isValue(jJ)){var jK=jJ;jz(jK)}else{this.$W.$6(jI,jG,false,null)}});var jC={};jC.type='POST';jC.dataType='json';jC.url=this.$b(e);var jD=ss.mkdict(['project',ju,'name',jt,'display_tabs',jv]);if(ss.isValue(jw)){jD['save_db_passwords']=ss.unbox(jw)}if(ss.isValue(jx)){jD['no_overwrite']=ss.unbox(jx)}var jE=jp.getMultipartData(null,jD);jC.contentType='multipart/form-data; boundary='+jE.header;jC.data=jE.body;var jF=new gt(this.$W,null,jA,jB,true,true);jp.helper(jC,jF)},$8:function(e,jt,ju,jv,jw,jx){var jy=function(jE,jF,jG){jw()};var jz=ss.mkdel(this,function(jE,jF,jG){this.$W.$6(jG,jE,false,null);var jH={};jx(jH)});var jA={};jA.type='POST';jA.dataType='json';jA.url=this.$a('publish');var jB=ss.mkdict(['project',jv,'datasource',e,'name',jt]);if(ss.isValue(ju)){jB['no_overwrite']=ss.unbox(ju)}var jC=jp.getMultipartData(null,jB);jA.contentType='multipart/form-data; boundary='+jC.header;jA.data=jC.body;var jD=new gt(this.$W,null,jy,jz,true,true);jp.helper(jA,jD)},$l:function(){while(this.$10.$3()>0&&!this.$G()){this.$6(this.$10.$0())}},$6:function(jt){this.$R.push(jt);if(jt.get_isBlocking()){this.$Z.$1(jt.get_blockType()==='immediately'||jt.get_blockType()==='immediatelySubtle',jt.get_blockType()==='immediatelySubtle')}var ju=new cE;var jv={dialogProvider:this.$M,eventHandler:ju};var jw=this.$Y.beginTransaction(jv);var jx;try{jt.execute(jw,this.$L,ss.mkdel(this,function(e){this.$3(jt,e)}));jx=this.$Y.endTransaction();if(L.get_instance().get_isLocalRenderMode()&&!bF.fireDeferredUrlActions){this.$9(this.$Q)}}catch(jA){var e=ss.Exception.wrap(jA);tab.ErrorTrace.report(e,false);this.$Y.rollbackTransaction();this.$3(jt,new bH(false,e));return}finally{this.$z()}var jy=null;if(jt.get_hasLocalComponent()){jy=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),8,jt.buildCommandMetricsParameters())}{var jz=jy;try{if(ss.isValue(jx)){if(fx.get_progressiveLoadEnabled()){jx=this.$u(jx,jv,true)}L.get_instance().update(jx,jv);this.$11.markCurrentWorldAsDirty();ju.fireDeferredEvents();this.$w()}}finally{if(ss.isValue(jz)){jz.dispose()}}}if(this.$R.length>0){this.$I=false}},$3:function(e,jt){var ju=null;if(e.get_hasRemoteComponent()){ju=tabBootstrap.MetricsController.createContext('PROREM'.toString(),8,e.buildCommandMetricsParameters())}{var jv=ju;try{try{ss.remove(this.$R,e);if(this.$H()){this.$r()}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(jv)){jv.dispose()}}}this.$d(e,jt);if(this.$H()){this.$Z.$0()}this.$l()},$d:function(e,jt){if(!jt.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ju=this.$N.handle(jt.error,e);if(ju){this.$11.revertLocalChanges();this.$Z.$0()}}},$9:function(e){var jt=(ss.isValue(e)?ss.arrayClone(e):[]);this.$z();if(ss.isValue(this.$1$1)){if(jt.length>0){this.$1$1(jt,this.$M)}}},$z:function(){this.$Q.length=0},$h:function(e,jt,ju){if(!ss.isValue(jt)||!ss.isValue(ju)){return}var jv=ju['kqB'.toString()];if(!ss.isValue(jv)){return}if(ss.isValue(jv.$LE)){var jw=jv.$LE;if(ss.isValue(jw.Uwh)){this.$X|=jw.Uwh}if(ss.isValue(jw.LXK)&&!L.get_instance().get_isLocalRenderMode()||bF.fireDeferredUrlActions){if(jw.LXK.length>0){bF.fireDeferredUrlActions=false;this.$9(jw.LXK)}}this.$D(jw);var jx=null;if(ss.isValue(jt.commandParams)&&!ss.referenceEquals(jt.commandName,'render-tooltip-server'.toString())){if(ss.keyExists(jt.commandParams,'AVP')){jx=jt.commandParams['AVP']}else if(ss.keyExists(jt.commandParams,'J_M')){var jy;if(typeof(jt.commandParams['J_M'])==='string'){var jz=jt.commandParams['J_M'];jy=JSON.parse(jz)}else{jy=jt.commandParams['J_M']}jx=(ss.isValue(jy.AVP)?jy.AVP:null)}}var jA=new eq;jA.primarySheet=jx;jA.layoutStatus=jv.$LE;jA.cmdResult=jv.mxu[0];var jB=null;if(ss.isValue(jv.$LE.hyc)){jB=jv.$LE.hyc}var jC={item1:jB,item2:jA};this.$5(e,jC);var jD=ss.isValue(this.$O)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$O.DDA);var jE=new bN;jE.set_applicationPresModel(jB);jE.set_worldUpdateCommand(jt);jE.set_sheetChanged(jD);jE.set_rebuildTheWorld(this.$X);var jF=jE;jn.get().raiseOnCommandResponse(jF)}},$D:function(e){if(ss.isValue(e.hyc)&&ss.isValue(e.hyc.res)&&ss.isValue(e.hyc.res.mmK)&&ss.isValue(e.hyc.res.mmK.nhM)){this.$O=e.hyc.res.mmK.nhM}},$g:function(e,jt,ju){var jv=new eq;jv.cmdResult={$iY:jt.commandName,nCR:ju};var jw=jv;var jx={item1:null,item2:jw};this.$5(e,jx);this.$x(ju)},$r:function(){if(L.get_instance().get_isOffline()){return}var e=new cE;var jt={dialogProvider:this.$M,eventHandler:e};var ju=ss.getKeyCount(this.$P)>0;var jv=false;var jw=tsConfig.current_sheet_name;if(ss.isValue(this.$O)){jv=!ss.referenceEquals(tsConfig.current_sheet_name,this.$O.DDA);jw=this.$O.DDA;this.get_legacySession().set_layoutId(this.$O.JAR.toString());if(jv){if(!ss.staticEquals(bF.$1$12,null)){bF.$1$12()}}if(jv||this.$X){this.$1$6()}}var jx=this._getRenderMode();var jy=this.$c();this.$Y.rollbackTransactions(jt);if(this.$X){L.get_instance().get_workbook().handleWorldReset()}if(this.$X||jv){this.$1()}this.$2(jw,jx,jt);ss.clearKeys(this.$P);this.$11.checkpointAppPresModel();this.$Y.resetTransactedState();this.$t(jy);this.$s(jv);if(ju){eU.reValidateVisualModels(jt)}e.fireDeferredEvents();this.$e();this.$w();this.$F()},$F:function(){this.$U.push(ss.mkdel(this,this.$v));this.$U.push(ss.mkdel(this,function(){en.callWhenImagesLoaded(ss.mkdel(this,function(){this.$I=true}))}));if(fx.get_progressiveLoadEnabled()&&this.$V.get_hasZonesToLoad()){this.$K.push(ss.mkdel(this,function(){this.$4()}))}else{this.$4()}this.$X=false},$4:function(){for(var e=0;e<this.$U.length;e++){var jt=this.$U[e];jt()}ss.clear(this.$U)},$t:function(e){if(e.$0()){var jt=this.$c();if(jt.$0()&&e.$4()!==jt.$4()&&ss.isValue(e.$2())&&ss.referenceEquals(e.$2(),jt.$2())){this.processingStoryPointChange=true}}},$s:function(e){if(ss.isNullOrUndefined(this.$O)){return}if(!e&&!this.$X){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$O.DDA,this.$O.YnR)}}catch(ju){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$O)){this.$O['sheetName']=this.$O.DDA}var jt={item1:tsConfig.current_sheet_name,item2:this.$O.DDA};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$O)}E.get().onNewLayoutId([this.$O]);dojo.publish('newLayoutId',[this.$O]);this.$U.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(jt)}}));this.$O=null},$2:function(e,jt,ju){var jv=_.keys(this.$P);jv=jv.sort(function(jD,jE){var jF=parseInt(jD);var jG=parseInt(jE);return((jF>jG)?1:-1)});var jw=L.get_instance();for(var jx=0;jx<jv.length;jx++){var jy=jv[jx];var jz=this.$P[jy];var jA=jz.item1;var jB=jz.item2;if(ss.isNullOrUndefined(jA)||ss.isNullOrUndefined(jB)||ss.isNullOrUndefined(jB.layoutStatus)){continue}var jC=jB.layoutStatus.Twp||'';if(!ss.referenceEquals(jC,e)){continue}if(fx.get_progressiveLoadEnabled()){jA=this.$u(jA,ju,false)}jw.update(jA,ju);this.$T.push(jB);if(ss.isValue(jB.layoutStatus.DfV)){if(jB.layoutStatus.DfV<this.get_legacySession().get_historyPosition()){this.$y()}if(jB.layoutStatus.DfV>this.get_legacySession().get_historyPosition()){this.$W.$9('')}this.get_legacySession().set_historyPosition(jB.layoutStatus.DfV)}if(!this.processingRenderModeChange&&jA.ABX!==jt){this.processingRenderModeChange=true;this.$Z.$2(false)}}},$u:function(e,jt,ju){if(fx.get_progressiveLoadEnabled()){var jv=L.get_instance().get_appPresModel();var jw=false;if(L.get_instance().get_workbook().get_isCurrentSheetStoryboard()){var jx=L.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var jy=bF.$3(e);jw=ss.isValue(jy)&&jy!==jx}var jz=bF.$2(e);var jA=!ss.isNullOrEmptyString(jz)&&!ss.referenceEquals(jz,bF.$2(jv));if(jw||jA){this.$1();e=this.$V.extractZoneContent(e);this.$B()}else{e=this.$V.processModelUpdate(e,jt,ju)}}return e},$e:function(){for(var e=0;e<this.$T.length;e++){var jt=this.$T[e];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(jt)}this.$N.handlePotentialTabSwitchDataSourceException(jt.layoutStatus)}ss.clear(this.$T)},$n:function(){if(this.$J){return}this.$J=true;bF.$5();hf.$0();en.callWhenImagesLoaded(ss.mkdel(this,function(){this.$I=true}));bF.sendParentCompletedMessage();gw.onVizqlPinged();bG.$0()},$5:function(e,jt){if(ss.isValue(jt)){this.$P[e.toString()]=jt}},_getRenderMode:function(){return L.get_instance().get_renderMode()},$c:function(){return new A},$v:function(){if(ss.isValue(this.$1$7)){this.$1$7()}},$y:function(){if(ss.isValue(this.$1$8)){this.$1$8()}},$w:function(){if(ss.isValue(this.$1$9)){this.$1$9()}},$x:function(e){if(ss.isValue(this.$1$11)){this.$1$11(e)}},$A:function(){if(this.$J){return}var e=function(){var jt={};jt['t']=tabBootstrap.MetricsController.getTiming();jt['d']='ALLZNS';var ju=new tabBootstrap.MetricsEvent('gen',2,jt);tabBootstrap.MetricsController.logEvent(ju)};en.callWhenImagesLoaded(function(){eV.registerModulesLoadedCallback(e)})},$0:function(e){var jt=e.get_commandName();if(jt==='next-story-point'||jt==='previous-story-point'||jt==='set-active-story-point'||jt==='ensure-layout-for-sheet'||jt==='revert-workbook'){this.$1()}},$k:function(){return ss.getKeyCount(this.$P)>0||this.$R.length>0||this.$10.$3()>0}});ss.initClass(bG,a,{});ss.initClass(bH,a,{});ss.initEnum(bI,a,{proceed:0,stop:1});ss.initClass(bJ,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['dMo02'.toString()]},set_name:function(e){this.$0['dMo02'.toString()]=e},get_description:function(){return this.$0['Mej02'.toString()]},set_description:function(e){this.$0['Mej02'.toString()]=e},get_commandsType:function(){return this.$0['jWE'.toString()]},set_commandsType:function(e){this.$0['jWE'.toString()]=e},get_enabled:function(){var e=this.$0['chK'.toString()];if(ss.isNullOrUndefined(e)){return true}return e},set_enabled:function(e){this.$0['chK'.toString()]=e},get_isChecked:function(){return this.$0['mgL'.toString()]},set_isChecked:function(e){this.$0['mgL'.toString()]=e},get_isDefault:function(){return this.$0['wZB'.toString()]},set_isDefault:function(e){this.$0['wZB'.toString()]=e},get_isRadioOn:function(){return this.$0['Gff'.toString()]},set_isRadioOn:function(e){this.$0['Gff'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['DIk02'.toString()],true)},set_isVisible:function(e){this.$0['DIk02'.toString()]=e},get_commands:function(){return this.$0['Jmx'.toString()]},set_commands:function(e){this.$0['Jmx'.toString()]=e},get_command:function(){return this.$0['zRu'.toString()]},set_command:function(e){this.$0['zRu'.toString()]=e},get_argumentParams:function(){return this.$0['WQt'.toString()]},set_argumentParams:function(e){this.$0['WQt'.toString()]=e},get_iconRes:function(){return this.$0['yFv'.toString()]},set_iconRes:function(e){this.$0['yFv'.toString()]=e}});ss.initClass(bK,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.commandType)){}return ss.isValue(e.commandType)&&ss.keyExists(this.$0,e.commandType)&&this.$0[e.commandType]==='granted'}});ss.initClass(bL,a,{get_commandToExecute:function(){return this.$0},get_successCallback:function(){return this.$2},get_errorCallback:function(){return this.$1}});ss.initClass(bM,a,{});ss.initClass(bN,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(bO,a,{});ss.initClass(bP,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,jt){if(this.get_shouldUpdate()){this.forceUpdate(e,jt)}},forceUpdate:function(e,jt){this.simpleSwapToUpdate$1(bP).call(this,e,this.$2$1,this,jt)}},eR);ss.initClass(bQ,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['Szr'.toString()]},set_commandItems:function(e){this.$0['Szr'.toString()]=e},get_defaultItem:function(){return this.$0['Ayc'.toString()]},set_defaultItem:function(e){this.$0['Ayc'.toString()]=e}});bQ.$ctor1.prototype=bQ.prototype;ss.initClass(bR,a,{});ss.initClass(bS,a,{});ss.initClass(bT,a,{sendRequest:function(e){var jt=$.Deferred();var ju=new jk(e.method,e.params,function(jw){jt.resolve(jw)},function(jw){});var jv=this.$2(ju);jp.helper(jv);return jt},sendVizqlRequest:function(e){var jt=$.Deferred();var ju=function(jx,jy,jz){var jA=jx;delete jA['msg'];delete jA['status'];jt.resolve(jA)};var jv=function(jx,jy,jz){};var jw=new iT(e.method,e.params,ju,jv);this.$0(jw);return jt},$0:function(e){var jt={};jt.type='POST';jt.url=this.$1.$4(e.methodName);jt.headers=ss.mkdict(['Accept','text/javascript']);jt.dataType='json';if(ss.isValue(e.methodParams)){jt.data=e.methodParams}var ju=this.$1.$0(null,e.success,e.error,'immediately');this.$1.$b(jt,ju)}},null,[Object]);ss.initClass(bU,a,{});ss.initClass(bV,a,{});ss.initClass(bW,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().OLk},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().YkF},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().Ltg)},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)){return}var ju=e;this.$1.update(bW.$0(ju,0),jt);this.$2.update(bW.$0(ju,1),jt);this.swapAndCopyPresModel(ju);this.raiseEvent(this.$2$1,jt)}},eR);ss.initClass(bX,a,{invoke:function(){return this.invoke$1(bS.newCommand('create-data-source-from-file-upload',this.c))}},ss.makeGenericType(O,[Object,bY]));ss.initClass(bY,a,{});ss.initClass(de,a,{get_instanceType:null,get_dataSourceModel:function(){return this.parent},get_canHaveChildren:function(){return false},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),de.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),de.nameOfMeasureValuesColumn)},get_fieldIconResource:function(){var e=this.pm.OxY||'';if(e.length===0){return e}if(this.pm.SkN){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.XCW02||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.egc||false},get_isInvalid:function(){return this.pm.SkN},get_isOrphaned:function(){return this.pm.CUl},get_isGenerated:function(){return this.pm.r_$||false},get_isAutoColumn:function(){return this.pm.$su||false},get_isAllowedInCalcs:function(){return this.pm._kV},get_isUnnamedCalc:function(){return this.pm.qu||false},get_isQuickTableCalc:function(){return this.pm.uxk},get_globalName:function(){return this.pm.HBp02},get_localName:function(){return this.pm.dMo02},get_description:function(){return this.pm.Mej02},get_userCaption:function(){return this.pm.KDF},get_ordinal:function(){return this.pm.hUu02},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_defaultRole:function(){return this.pm.tgs02},get_role:function(){return this.pm.YIQ02},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.TOg02:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.SEI02:'unknown')},get_displayName:function(){return(this.get_isDrillPath()?(this.get_localName()||this.get_description()):(this.get_description()||this.get_localName()))},get_tooltip:function(){return this.get_userCaption()||(this.get_description()||this.get_displayName())},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,dc)},asGroup:function(){return ss.safeCast(this,dW)},asDimension:function(){return ss.safeCast(this,bZ)},asHierarchy:function(){return ss.safeCast(this,cb)},asCubeFolder:function(){return ss.safeCast(this,ca)},asFolder:function(){return ss.safeCast(this,dn)},asDrillPath:function(){return ss.safeCast(this,cP)},asRelationalTable:function(){return ss.safeCast(this,fJ)}},eR);ss.initClass(bZ,a,{get_hierarchies:function(){return this.$3},get_childToSelect:function(){var e=this.pm.nkG;if(!ss.isNullOrEmptyString(e)){for(var jt=0;jt<this.$3.length;jt++){var ju=this.$3[jt];if(ss.referenceEquals(ju.get_localName(),e)){return ju.get_levels()[0]}}}var jv=[];for(var jw=0;jw<this.$3.length;jw++){var jx=this.$3[jw];jv.push(jx)}for(var jy=0;jy<this.$2.length;jy++){var jz=this.$2[jy];var jA=jz.get_hierarchies();for(var jB=0;jB<jA.length;jB++){var jC=jA[jB];jv.push(jC)}}jv.sort(function(jD,jE){if(jD.get_levels().length>1&&jE.get_levels().length<=1){return-1}else if(jD.get_levels().length<=1&&jE.get_levels().length>1){return 1}else{return 0}});return((jv.length>0)?jv[0].get_levels()[0]:null)},get_folders:function(){return this.$2},get_attributes:function(){return this.$1},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,jt,ju,jv){this.swapAndCopyPresModel(e);this.$3=jt;this.$2=ju;this.$1=jv}},de);ss.initClass(ca,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,jt,ju){this.swapAndCopyPresModel(e);this.$2=jt;this.$1=ju}},de);ss.initClass(cb,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},update:function(e,jt){this.swapAndCopyPresModel(e);this.$1=jt}},de);ss.initClass(ix,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new hy(null):e.get_tableCalcIdentifier())},update:null},eR);ss.initClass(cc,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().LLA},get_aggregationValues:function(){return this.$1().VRG02},get_aggregationCaptions:function(){return this.$1().iSd},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,jt){this.simpleSwapToUpdate(e,this.$3$1,jt)}},ix);ss.initClass(cd,a,{navigateToCustomizedView:function(e){var jt=tabBootstrap.Utility.get_locationWindow();gx.destroySessionAndForward$1(jt,cd.buildUrl(e,false))},navigateToOriginalView:function(){var e=tabBootstrap.Utility.get_locationWindow();gx.destroySessionAndForward$1(e,cd.buildUrl(null,false))},getCustomizedViews:function(e,jt){var ju=function(jv,jw,jx){if(!ss.isValue(e)){return}var jy;var jz=null;if('customizedViews'in jv){jy=jv['customizedViews']}else{jy=[]}if('defaultCustomizedViewId'in jv){jz=jv['defaultCustomizedViewId']}e(jy,jz)};this.$2(ju,cd.$0(jt),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),'GET','none')},setDefaultCustomizedView:function(e,jt,ju){var jv=function(jx,jy,jz){if(!ss.isValue(jt)){return}var jA=null;if('defaultCv'in jx){jA=jx['defaultCv']}jt(jA)};var jw=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){jw['cvId']=e.id}this.$2(jv,cd.$0(ju),'set_default_customized_view',jw)},destroyCustomizedView:function(e,jt,ju){tab.Param.verifyValue(e,'cv');var jv=function(jw,jx,jy){if(!ss.isValue(jt)){return}jt()};this.$1(jv,cd.$0(ju),'destroy_customized_view',ss.mkdict(['cvId',e.id]))},saveCustomizedView:function(e,jt,ju){tab.Param.verifyValue(e,'cv');var jv=ss.mkdel(this,function(jx,jy,jz){if(!ss.isValue(jt)){return}var jA=null;if('cv'in jx){jA=jx['cv'];this.updateTsConfig(jA,true)}jt(jA)});var jw=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic]);if(ss.isValue(e.id)){jw['cvId']=e.id}this.$2(jv,cd.$0(ju),'save_customized_view',jw)},updateTsConfig:function(e,jt){tsConfig.repositoryUrl=this.$0(e);if(jt){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$0:function(e){var jt=new fN(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',jt.get_workbookId(),jt.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',jt.get_workbookId(),jt.get_sheetId(),iV.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,jt,ju){tab.Param.verifyValue(e,'cv');var jv=ss.mkdel(this,function(jx,jy,jz){if(!ss.isValue(jt)){return}var jA=null;if('cv'in jx){jA=jx['cv'];this.updateTsConfig(jA,false)}jt(jA)});var jw=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);this.$2(jv,cd.$0(ju),'update_customized_view',jw)},$1:function(e,jt,ju,jv){var jw=this.$3.$0(null,e,jt,'immediately');var jx={};jx.type='POST';jx.url=this.$3.$2(ju);jx.headers=ss.mkdict(['Accept','text/javascript']);jx.dataType='json';if(ss.isValue(jv)){jx.data=jv}this.$3.$b(jx,jw)},$2:function(e,jt,ju,jv,jw,jx){var jy={};jy.type=jw||'POST';jy.url=this.$3.$4(ju);jy.headers=ss.mkdict(['Accept','text/javascript']);jy.dataType='json';if(ss.isValue(jv)){jy.data=jv}var jz=jx||'immediately';var jA=this.$3.$0(null,e,jt,jz);this.$3.$b(jy,jA)}});ss.initClass(ce,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().SvL},get_nullIfIncompleteState:function(){return this.$1().UWR},get_allPages:function(){return this.$1().buS},get_allPagesState:function(){return this.$1().YtV},get_nestedCalcsWidgetState:function(){return this.$1().qdd},get_nestedCalcsIndex:function(){return this.$1().Zaq},get_nestedTableCalcInfoArray:function(){return this.$1().A_J},update:function(e,jt){var ju=e;if(this.isNewPresModelSameAsOld(ju)){return}this.swapAndCopyPresModel(ju);this.get_referenceModel().update(ju.bUz,jt);this.raiseEvent(this.$3$1,jt)}},ix);ss.initClass(cf,a,{});ss.initClass(cg,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_readyZoneChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_readyZoneChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_renderModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_renderModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_portSizeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_portSizeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_sizeChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_sizeChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_formatsChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_formatsChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_titleVisibilityChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_titleVisibilityChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_dashboardNameChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_dashboardNameChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.Jqz){this.$d=this.$d||this.$2();return this.$d}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.SJs}return null},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.xYr1)){return this.pm.xYr1['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$f;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$f=e;return this.$f},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.nhM)){return this.pm.nhM.DDA}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.IJE}return null},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.JiV}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&!e){return this.pm.xdK}return 0},get_readyZoneID:function(){return this.$c},set_readyZoneID:function(e){if(e===this.$c){return}this.$c=e;if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(ju.get_zoneId()===this.get_activeZoneID()){return ju.get_visualModel()}}}return null},get_renderMode:function(){return L.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.xYr1}return null},get_portSize:function(){return this.$b},set_portSize:function(e){if(_.isEqual(this.$b,e)){return}this.$b=e;if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.DqN:null)},get_dashboardSizeControlModel:function(){return this.$9},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.IJE)){return this.pm.IJE.WeS}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(jt){return jt.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_deviceLayouts:function(){return this.pm.YOM},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.hWn)==='undefined'){return'default'}return this.pm.hWn},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.yqe},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(ju.get_zoneType()==='flipboard-nav'){return ju.get_model()}}return null},getViewId:function(e){if(!ss.keyExists(this.pm.dux,e)){return null}return this.pm.dux[e]},getViewSession:function(e){return this.$e[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.JiV)&&(e.get_zoneType()!=='viz'||!_.any(this.pm.JiV,function(jt){return ss.referenceEquals(jt.AVP,e.get_worksheetName())}))},getMutableCopyOfPresModel:function(){var e=this.pm.HCq;delete this.pm['HCq'.toString()];var jt=eR.prototype.getMutableCopyOfPresModel.call(this);jt.YOM=this.pm.YOM;this.pm.HCq=e;return jt},update:function(e,jt){if(ss.isValue(this.$a)&&this.$a!==this.get_renderMode()){this.raiseEvent(this.$2$5,jt)}this.$a=this.get_renderMode();e.Jqz=e.Jqz||false;e.yqe=e.yqe||false;this.$d=null;if(ss.isValue(e.HCq)){this.zonesModel.update(e.HCq,jt)}if(ss.isValue(e.XgC)){}if(ss.isValue(e.syO)){this.autoUpdate=e.syO}this.$8(e,jt.dialogProvider);if(ss.isValue(e.xdK)){if(ss.isNullOrUndefined(this.pm)||this.pm.xdK!==e.xdK){this.raiseEvent(this.$2$3,jt)}}if(!(typeof(e.kc$)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.kc$,this.pm.kc$))){this.raiseEvent(cg.$0,jt)}if(ss.isValue(e.Tbf)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new gO(this)}this.sheetListModel.update(e.Tbf,jt)}if(ss.isValue(e.UcY)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new eA(this)}this.layoutTreeModel.update(e.UcY,jt)}if(ss.isValue(this.pm)){if(ss.isValue(e.xYr1)&&!_.isEqual(e.xYr1,this.pm.xYr1)){this.raiseEvent(this.$2$8,jt)}}if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.nhM)&&!ss.referenceEquals(e.nhM.DDA,this.get_sheetName())){this.raiseEvent(this.$2$12,jt)}if(ss.isNullOrUndefined(this.pm)||this.pm.yqe!==e.yqe){this.raiseEvent(this.$2$9,jt)}this.$5(e,jt);this.$6(e,jt);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,jt);this.$7(jt)},$8:function(e,jt){if(ss.isValue(e.dux)){var ju=_.keys(e.dux);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=e.dux[jw];var jy=this.$e[jw];if(ss.isNullOrUndefined(jy)){jy=new iI(bF.get().get_legacySession().get_urlRoot(),jw,jx,jt);this.$e[jw]=jy}jy.set_viewId(jx)}var jz=_.keys(this.$e);var jA=_.difference(jz,_.keys(e.dux));for(var jB=0;jB<jA.length;jB++){var jC=jA[jB];delete this.$e[jC]}}},$5:function(e,jt){if(ss.isValue(e.OJ$)){if(ss.isNullOrUndefined(this.$9)){this.$9=new ci(this)}this.$9.update(e.OJ$,jt)}if(ss.isNullOrUndefined(this.$b)){this.set_portSize(e.DqN)}if(ss.isValue(this.pm)){if(ss.isValue(e.DqN)&&!_.isEqual(e.DqN,this.pm.DqN)){this.raiseEvent(this.$2$7,jt)}}},$6:function(e,jt){e.hWn=ss.coalesce(e.hWn,'default');if(ss.isNullOrUndefined(this.pm)||this.pm.hWn!==e.hWn){this.raiseEvent(this.$2$10,jt);this.raiseEvent(this.$2$3,jt)}if(ss.isNullOrUndefined(e.YOM)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.YOM,e.YOM)){this.raiseEvent(this.$2$11,jt)}},$7:function(e){if(!L.get_instance().get_isLocalRenderMode()){return}var jt=eU.getVisualModelsFromDashboard(this);var ju=_.keys(jt);var jv=_.any(ju,ss.mkdel(this,function(jC){var jD=jt[jC];return this.$4(jD)||this.$3(jD)}));if(jv){for(var jw=0;jw<ju.length;jw++){var jx=ju[jw];jt[jx].setIsBrushedFromAction(true,e)}}else{var jy=cg.$1(ju,jt);for(var jz=0;jz<ju.length;jz++){var jA=ju[jz];var jB=jy.has(jA);jt[jA].setIsBrushedFromAction(jB,e)}}},$4:function(e){var jt=eU.getModelsForViz(bj).call(null,this.get_contentDashboard(),e);return _.any(jt,function(ju){if(!ju.get_isHighlightEnabled()){return false}var jv=e.get_selectionsModel().getLegendSelection(ju.get_legendTypeEnum(),ju.get_legendNames());return!jv.isEmpty})},$3:function(e){var jt=eU.getModelsForViz(cw).call(null,this.get_contentDashboard(),e);return _.any(jt,function(ju){var jv=e.get_selectionsModel().getLegendSelection('highlight',[ju.get_fieldName()]);return!jv.isEmpty})},$2:function(){if(!this.pm.Jqz){return null}var e=null;var jt=this.zonesModel.get_zoneModels();for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];if(ss.isInstanceOfType(jv.get_model(),dk)){e=jv.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bC.fromColorCode(this.get_backgroundColor());e=e||bC.white;var jt=e.isLuminanceAboveThreshold(0.314999997615814);var ju=(jt?0.0199999995529652:0.0299999993294477);var jv=(jt?new bC(0,0,0,ju):new bC(255,255,255,ju));return bC.alphaBlend(jv,e).toRgba255()}},eR);ss.initClass(ch,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},eR);ss.initClass(ci,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.Y_V},get_maxDimension:function(){return this.pm.FUv},get_stepSize:function(){return this.pm.XZP},get_sizeModeOptions:function(){return this.pm.iCp||[]},update:function(e,jt){if(ss.isValue(e._yu)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new cj(this)}this.dashboardSizeModel.update(e._yu,jt)}if(ss.isValue(e.N_b)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new cF(this)}this.layoutInfoModel.update(e.N_b,jt)}this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(cj,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.$hZ},get_sizeMode:function(){if(this.pm.viO!=='unspecified'){return this.pm.viO}switch(this.pm.OTU){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.rec},get_currentMinWidth:function(){return this.pm.EVq},get_currentMaxWidth:function(){return this.pm.PiK},get_currentHeight:function(){return this.pm.EUR},get_currentMinHeight:function(){return this.pm.pAn},get_currentMaxHeight:function(){return this.pm.McJ},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(ck,a,{});ss.initClass(cl,a,{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_recipients:function(){return this.$1$5},set_recipients:function(e){this.$1$5=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$3},set_notificationIntervalInMinutes:function(e){if(this.$3!==e){this.$3=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$5},set_title:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_selectionCaption:function(){return this.$1$6},set_selectionCaption:function(e){this.$1$6=e},get_measurePresModel:function(){return this.$2},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$1.Fcc},get_threshold:function(){return this.$4},set_threshold:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().tbM02)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$7},set_thresholdIsValid:function(e){this.$1$7=e},get_referenceLineSpecId:function(){return this.$1$8},set_referenceLineSpecId:function(e){this.$1$8=e},$0:function(e){return this.get_conditionPresModel().tbM02==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().tbM02==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}if(ss.isNullOrUndefined(L.get_instance().get_appPresModel())){return this.$0(e)}else{var jt=L.get_instance().get_appPresModel().IFh;return this.$0(tableau.format.reformatNumberToJsFormat(e,jt))}},updateRecipients:function(e){this.set_recipients(e)}});cl.$ctor2.prototype=cl.$ctor1.prototype=cl.prototype;ss.initClass(cm,a,{});ss.initClass(cn,a,{get_operation:function(){return this.pm.Fcc},get_thresholdText:function(){return this.pm.Aee},update:function(e){if(ss.isValue(e)){this.swapAndCopyPresModel(e)}}},eR);ss.initClass(co,a,{add_show:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_show:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_serverDataSources:function(){return this.$1},updateServerDataSources:function(e,jt,ju){if(ju){this.$1=e;this.raiseEvent(this.$2$2,jt)}else{ss.arrayAddRange(this.$1,e);this.raiseEvent$1(Array).call(this,this.$2$3,e,jt)}},update:function(e){this.updateServerDataSources(this.$1,e,true);this.raiseEvent(this.$2$1,e)}},eR);ss.initClass(cp,a,{});ss.initClass(cq,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().cmV02||''},get_promptTitle:function(){return this.$1().lYk||''},get_variableListInstruction:function(){return this.$1().Ku_||''},get_variableListNameLabel:function(){return this.$1().qyO||''},get_variableListValueLabel:function(){return this.$1().CDS||''},get_addVariableLabel:function(){return this.$1().QRI||''},get_addVariableTooltip:function(){return this.$1().hhx||''},get_deleteVariableTooltip:function(){return this.$1().lvX||''},get_requiredVariableMessage:function(){return this.$1().XDV||''},get_editSectionTitle:function(){return this.$1().Pog||''},get_editSectionInstruction:function(){return this.$1().IoH||''},get_editSectionFromLabel:function(){return this.$1().IsA||''},get_editSectionToLabel:function(){return this.$1().umJ||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().AlT)){this.$2=[];for(var jt=0;jt<this.$1().AlT.length;jt++){var ju=new cs(new cr(this),jt);ju.update(this.$1().AlT[jt]);this.$2.push(ju)}}}},eR);ss.initClass(cr,a,{},eR);ss.initClass(cs,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1()._Ks},get_description:function(){return this.$1().ZWM},get_guid:function(){return this.$1().tLJ},get_isRequired:function(){return this.$1().Ysn},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().Bdp},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().Isb.lag},get_selectableValues:function(){return this.$1().Isb.Tmi},update:function(e){this.swapAndCopyPresModel(e);this.$2=new cu(null,-1);this.$2.update(this.$1().Isb.WSP);if(ss.isValue(this.$1().mFS)){this.$3=[];for(var jt=0;jt<this.$1().mFS.length;jt++){var ju=new cu(new ct(this),jt);ju.update(this.$1().mFS[jt]);this.$3.push(ju)}}}},eR);ss.initClass(ct,a,{},eR);ss.initClass(cu,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().Ltd},get_valueIndex:function(){return this.$1().Ab$},get_operation:function(){return this.$1().uLd.dJp},set_operation:function(e){this.$1().uLd.dJp=e},get_firstValue:function(){return this.$1().uLd.RXR},get_firstValueIndex:function(){return this.$1().uLd.esa},get_secondValue:function(){return(this.$1().uLd.tSM?this.$1().uLd.HcP:null)},get_secondValueIndex:function(){return(this.$1().uLd.tSM?this.$1().uLd.fgO:-1)},update:function(e){this.swapAndCopyPresModel(e)}},eR);ss.initClass(cv,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty(this.$1())||tab.MiscUtil.isNullOrEmpty(this.$1().SR_)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var jt=e.SR_;if(ss.isValue(jt)){var ju=this.$1().SR_;if(ss.isValue(ju)){var jv=new ss.ObjectEnumerator(ju);try{while(jv.moveNext()){var jw=jv.current();if(!ss.keyExists(jt,jw.key)){jt[jw.key]=jw.value}}}finally{jv.dispose()}}var jx=new ss.ObjectEnumerator(jt);try{while(jx.moveNext()){var jy=jx.current();if(jy.value===null){delete jt[jy.key]}}}finally{jx.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,jt){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().SR_)){return null}if(ss.isNullOrUndefined(this.$2)){this.$2=ss.getKeyCount(this.$1().SR_)}for(var ju=0;ss.Nullable$1.lt(ju,this.$2);ju++){var jv=this.$1().SR_[ju.toString()];for(var jw=0;jw<jv.mDL.length;jw++){var jx=jv.mDL[jw];if(ss.isNullOrUndefined(jx)||jx.tbM02!==e){continue}if(jt<jx.uBu02.length){return jx.uBu02[jt]}jt-=jx.uBu02.length;break}}return null}},eR);ss.initClass(cw,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().HBp02},get_searchPlaceholderString:function(){return this.$2().udV},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().DBQ},get_searchText:function(){return this.$2().gub02},get_maxNumberListItems:function(){return this.$2().Zns},get_isActive:function(){return this.$2().Sic},get_bodyTextStyle:function(){return this.$2().mCc},get_numHighlighted:function(){return this.$2().oDj},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_width()},get_zoneBorderWidth:function(){if(!this.get_zoneHasBorder()){return 0}return this.parent.get_zone().borderWidth()},update:function(e,jt){if(ss.isValue(e)){dq.notifyFontsFromTextStylePresModel(e.mCc)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,jt)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().NGM;for(var jt=0;jt<e.length;jt++){var ju=e[jt];this.$3[ju.YLs]=ju.gjO}}},eR,[eh]);ss.initClass(cx,a,{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$2))},get_dataSchemaPresModel:function(){return this.pm},$1:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().UyO02)){return this.get_dataSchemaPresModel().UyO02}else{return''}},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$1()))},notifyNewDataSourceAdded:function(e,jt){this.raiseEvent$1(String).call(this,this.$2$3,jt,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var jt=null;if(ss.isValue(this.get_dataSchemaPresModel().zmP)&&ss.keyExists(this.get_dataSchemaPresModel().zmP,e)){jt=this.get_dataSchemaPresModel().zmP[e].PoP02}if(ss.isNullOrEmptyString(jt)){return _.chain(this.dataSources.get_dataSources()).filter(ss.mkdel(this,function(ju){return!ss.referenceEquals(ju.get_name(),this.get_dataSchemaPresModel().TTN02)})).first().value()}return this.dataSources.getDataSource(jt)},getDataSourceCount:function(e){var jt=0;if(ss.isValue(this.dataSources)&&ss.isValue(this.dataSources.get_dataSources())){jt=this.dataSources.get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){jt--}}return jt},findField:function(e){var jt=this.findDataSourceFromGlobalFieldName(e);if(ss.isNullOrUndefined(jt)){return null}return jt.findField(e)},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(e))},findDataSourceFromGlobalFieldName:function(e){var jt=cy.splitGlobalFieldName(e);if(jt.length<=1){return null}var ju=jt[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(ju)},update:function(e,jt){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var ju=(ss.isValue(e.Zqk1)?e.Zqk1:[]);var jv=(ss.isValue(e.MLW)?e.MLW:[]);this.currentBlendingFields=ss.arrayClone(ju);this.blendingFieldCandidates=ss.arrayClone(jv);if(ss.isValue(e.TTN02)){this.$2=e.TTN02}var jw=this.getDataSourceCount(true);if(ss.isValue(e.dhm)){this.dataSources=this.dataSources||new cz(this);this.dataSources.update(e.dhm,jt)}if(this.getDataSourceCount(true)>jw){this.notifyNewDataSourceAdded(jt,'')}if(ss.isValue(this.pm)){var jx=this.pm.zmP;var jy=e.zmP;eU.mergeMapPresModelDelta(jx,jy)}if(!ss.referenceEquals(e.UyO02,this.$1())){this.raiseEvent(this.$2$1,jt)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,jt)}},eR);ss.initClass(cy,a,{add_updatedDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.UyO02},get_caption:function(){return this.pm.Fnn},get_fields:function(){return this.$j},get_dataSourceLayoutPresModel:function(){return this.pm.uVu},get_fieldOrderType:function(){return this.pm.Gqb},get_fieldSortOrder:function(){return this.pm.eX$},get_specifiedWidth:function(){return this.$k},set_specifiedWidth:function(e){this.$k=e},getFilteredFields:function(e){var jt=[];var ju=_.keys(this.$f);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=this.$f[jw];if(!ss.referenceEquals(jw,jx.get_globalName())&&e(jx)){jt.push(jx)}}return jt},findField:function(e){if(ss.isValue(this.$f)&&ss.keyExists(this.$f,e)){return this.$f[e]}return null},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)){return}if(ss.isValue(e.Dfq)){ss.clear(this.$j);this.$g=$.extend({},this.$f);this.$i=$.extend({},this.$h);this.$e=$.extend({},this.$d);this.$m=$.extend({},this.$l);for(var ju=0;ju<e.Dfq.length;ju++){var jv=e.Dfq[ju];jv.OxY=jv.OxY||'';switch(jv.VzB){case'fhq':{this.$b(this.$8(jv),true);break}case'Xvi':{var jw=[];for(var jx=0;jx<jv.MWY.length;jx++){var jy=jv.MWY[jx];jw.push(this.$2(jy));this.$b(jw[jw.length-1],false)}this.$b(this.$7(jv,jw),true);break}case'NJp':{var jz=[];for(var jA=0;jA<jv.MWY.length;jA++){var jB=jv.MWY[jA];jz.push(this.$2(jB));this.$b(jz[jz.length-1],false)}this.$b(this.$a(jv,jz),true);break}case'byN':{this.$b(this.$4(jv),true);break}case'KEq':{var jC=jv;var jD=[];var jE=[];for(var jF=0;jF<jC.nIx.length;jF++){var jG=jC.nIx[jF];var jH=[];for(var jI=0;jI<jG.MWY.length;jI++){var jJ=jG.MWY[jI];jH.push(this.$2(jJ));this.$b(jH[jH.length-1],false)}jD.push(this.$6(jG,jH));this.$b(jD[jD.length-1],false)}for(var jK=0;jK<jC.MWY.length;jK++){var jL=jC.MWY[jK];var jM=this.$2(jL);jE.push(jM);this.$b(jM,false)}this.$b(this.$5(jC,jD,jE),true);break}case'ZqW':{this.$b(this.$9(jv),true);break}case'wAR':{this.$b(this.$2(jv),true);break}}}var jN=new ss.ObjectEnumerator(this.$h);try{while(jN.moveNext()){var jO=jN.current();var jP=jO.value;var jQ=jP.pm;var jR=[];for(var jS=0;jS<jQ.rZD.length;jS++){var jT=jQ.rZD[jS];var jU=(ss.keyExists(this.$f,jT)?this.$f[jT]:null);if(ss.isValue(jU)){jR.push(jU);ss.remove(this.$j,jU)}}for(var jV=0;jV<jQ.hIp.length;jV++){var jW=jQ.hIp[jV];var jX=(ss.keyExists(this.$d,jW)?this.$d[jW]:null);if(ss.isValue(jX)){jR.push(jX);ss.remove(this.$j,jX)}}jP.update(jQ,jR)}}finally{jN.dispose()}if(ss.isValue(e.MWY)){for(var jY=0;jY<e.MWY.length;jY++){var jZ=e.MWY[jY];this.$b(this.$2(jZ),false)}}this.$1()}else{ss.clear(this.$j);ss.clearKeys(this.$f);ss.clearKeys(this.$d);ss.clearKeys(this.$h);ss.clearKeys(this.$l)}this.raiseEvent(this.$2$1,jt);this.swapAndCopyPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$c:function(e){this.$j.push(e)},$b:function(e,jt){if(e.get_isColumn()&&!e.asColumn().get_isInstance()){delete this.$g[e.get_localName()];this.$f[e.get_localName()]=e}var ju=(ss.isNullOrEmptyString(e.get_globalName())?e.get_localName():e.get_globalName());switch(e.get_instanceType()){case'drillPath':{this.$d[ju]=e;delete this.$e[ju];break}case'folder':{ju=ju+e.get_folderRole();this.$h[ju]=e;delete this.$i[ju];break}case'relationalTable':{this.$l[ju]=e;delete this.$m[ju];break}case'cubeFolder':{break}default:{this.$f[ju]=e;delete this.$g[ju];break}}if(jt){this.$c(e)}},$1:function(){var e=new ss.ObjectEnumerator(this.$g);try{while(e.moveNext()){var jt=e.current();delete this.$f[jt.key]}}finally{e.dispose()}ss.clearKeys(this.$g);var ju=new ss.ObjectEnumerator(this.$e);try{while(ju.moveNext()){var jv=ju.current();delete this.$d[jv.key]}}finally{ju.dispose()}ss.clearKeys(this.$e);var jw=new ss.ObjectEnumerator(this.$i);try{while(jw.moveNext()){var jx=jw.current();delete this.$h[jx.key]}}finally{jw.dispose()}ss.clearKeys(this.$i);var jy=new ss.ObjectEnumerator(this.$m);try{while(jy.moveNext()){var jz=jy.current();delete this.$l[jz.key]}}finally{jy.dispose()}ss.clearKeys(this.$m)},$7:function(e,jt){var ju=null;if(ss.keyExists(this.$d,e.dMo02)){var jv=this.$d[e.dMo02];if(jv.get_isDrillPath()){ju=jv}else{}}if(ss.isNullOrUndefined(ju)){ju=new cP(this)}ju.update(e,jt);return ju},$8:function(e){var jt=null;var ju=e.dMo02+e.HGC;if(ss.keyExists(this.$h,ju)){var jv=this.$h[ju];if(jv.get_isFolder()){jt=jv}else{}}if(ss.isNullOrUndefined(jt)){jt=new dn(this)}jt.update(e,[]);return jt},$2:function(e){var jt=null;if(ss.keyExists(this.$f,e.HBp02)){var ju=this.$f[e.HBp02];if(ju.get_isColumn()){jt=ju.asColumn()}else{}}if(ss.isNullOrUndefined(jt)){jt=new dc(this)}jt.update(e);return jt},$9:function(e){var jt=null;if(ss.keyExists(this.$f,e.HBp02)){var ju=this.$f[e.HBp02];if(ju.get_isGroup()){jt=ju.asGroup()}else{}}if(ss.isNullOrUndefined(jt)){jt=new dW(this)}jt.update(e);return jt},$a:function(e,jt){var ju=null;if(ss.keyExists(this.$l,e.dMo02)){var jv=this.$l[e.dMo02];if(jv.get_isRelationalTable()){ju=jv.asRelationalTable()}else{}}if(ss.isNullOrUndefined(ju)){ju=new fJ(this)}ju.update(e,jt);return ju},$4:function(e){var jt=[];for(var ju=0;ju<e.nIx.length;ju++){var jv=e.nIx[ju];var jw=[];for(var jx=0;jx<jv.MWY.length;jx++){var jy=jv.MWY[jx];jw.push(this.$2(jy));this.$b(jw[jw.length-1],false)}jt.push(this.$6(jv,jw));this.$b(jt[jt.length-1],false)}var jz=[];for(var jA=0;jA<e.hQl.length;jA++){var jB=e.hQl[jA];var jC=[];var jD=[];for(var jE=0;jE<jB.nIx.length;jE++){var jF=jB.nIx[jE];var jG=[];for(var jH=0;jH<jF.MWY.length;jH++){var jI=jF.MWY[jH];jG.push(this.$2(jI));this.$b(jG[jG.length-1],false)}jC.push(this.$6(jF,jG));this.$b(jC[jC.length-1],false)}for(var jJ=0;jJ<jB.MWY.length;jJ++){var jK=jB.MWY[jJ];jD.push(this.$2(jK))}jz.push(this.$5(jB,jC,jD))}var jL=[];for(var jM=0;jM<e.NLZ.length;jM++){var jN=e.NLZ[jM];jL.push(this.$4(jN))}return this.$3(e,jt,jz,jL)},$3:function(e,jt,ju,jv){var jw=null;if(ss.keyExists(this.$f,e.HBp02)){var jx=this.$f[e.HBp02];if(jx.get_isCubeDimension()){jw=jx.asDimension()}else{}}if(ss.isNullOrUndefined(jw)){jw=new bZ(this)}jw.update(e,jt,ju,jv);return jw},$6:function(e,jt){var ju=null;if(ss.keyExists(this.$f,e.HBp02)){var jv=this.$f[e.HBp02];if(jv.get_isCubeHierarchy()){ju=jv.asHierarchy()}else{}}if(ss.isNullOrUndefined(ju)){ju=new cb(this)}ju.update(e,jt);return ju},$5:function(e,jt,ju){var jv=null;if(ss.keyExists(this.$f,e.dMo02)){var jw=this.$f[e.dMo02];if(jw.get_isCubeFolder()){jv=jw.asCubeFolder()}else{}}if(ss.isNullOrUndefined(jv)){jv=new ca(this)}jv.update(e,jt,ju);return jv}},eR);ss.initClass(cz,a,{get_dataSources:function(){return _.values(this.$1)},get_dataSourceCount:function(){return ss.getKeyCount(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,jt){var ju=_.keys(e);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=e[jw];if(jx===null){delete this.$1[jw]}else{var jy=this.$1[jw];if(ss.isNullOrUndefined(jy)){jy=new cy(this,jw);this.$1[jw]=jy}jy.update(jx,jt)}}if(ss.isValue(this.pm)){eU.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},eR);ss.initInterface(es,a,{handleCommandFailure:null});ss.initClass(cA,a,{handleCommandFailure:function(e,jt,ju,jv){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var jw=null;if(!tab.MiscUtil.isNullOrEmpty$1(jt.responseText)){jw=jt.responseText.match(new RegExp('Fatal exception in vizql engine'))}if(jt.status===410||jt.status===404||jt.status===403){this.handleSessionExpiration(false)}else if(jt.status===401){this.handleAuthenticationFailure()}else if(jt.status===502||jt.status===503){this.handleSessionKilled(null)}else if(jt.status===500&&ss.isValue(jw)&&jw.length>0){this.handleUnknownErrorStatus(jt.responseText)}else if(jt.status===413){this.handleSessionLimitExceeded()}else if(jt.status===0){var jx;if(!tab.MiscUtil.isNullOrEmpty$1(jt.responseText)){var jy=new ss.StringBuilder;jy.append('XHR Response Status: 0\nReadyState:');jy.append(jt.readyState);jy.append('\nHeaders:\n');jy.append(jt.getAllResponseHeaders());jy.append('\nResponse:\n');jy.append(jt.responseText);jx=ss.mkdel(this,function(){this.$5.showAlertDialog(jy.toString(),tab.Strings.RequestAbortedByBrowser,true,null)})}else{jx=ss.mkdel(this,function(){this.$1(e,jt)})}window.setTimeout(jx,5000)}else if(ss.isNullOrUndefined(jv)||!jv){this.$1(e,jt)}return true},handleSessionExpiration:function(e){var jt=iV.createForCurrentWindowLocation();if(e&&jt.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.$2(e)},handleAuthenticationFailure:function(){this.$2(false)},$1:function(e,jt){var ju=ss.safeCast(e,String);var jv=ss.safeCast(e,ss.Exception);var jw='';if(ss.isValue(ju)){jw=ss.replaceAllString(ju,'XMLHttpTransport.watchInFlight Error: ','')}else if(ss.isValue(jv)){jw=ss.replaceAllString(jv.get_message(),'XMLHttpTransport.watchInFlight Error: ','')}jw=ss.replaceAllString(jw,'XMLHttpTransport Error: ','');var jx=tab.Strings.ServerErrorUnexpected;if(jt.status<400){jx=tab.Strings.BrowserErrorProcessing;jw=tab.Strings.BrowserErrorProcessingMessage+'<br>'+jw}else if(jt.status===400){jx=tab.Strings.ServerErrorRejected;jw=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var jy;try{jy=eval('('+jt.responseText+')');jy=jy.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');jy='<ul><li>'+jy+'</ul>'}catch(jz){jy=jt.responseText}if(ss.isNullOrEmptyString(jy)){jw=tab.Strings.ServerErrorGeneral(jt.status)+'<br>'}else{jw=jy}}this.$5.showAlertDialog(jw,jx,true,null)},$0:function(e,jt,ju){var jv=null;try{jv=window.parent.location}catch(jz){}e=ss.coalesce(e,'').trim();var jw=new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi');while(jw.test(e)){e=e.replace(jw,'')}tabBootstrap.Utility.doPostMessage('tableau.completed'.toString());var jx=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){jx+='<br/><br/>'}var jy=ss.mkdel(this,function(){jx+=ju;var jz=ss.mkdel(this,function(){this.$4();document.body.style.cursor='wait';this.$2(false)});this.$5.showConfirmationDialog(jx,jt,true,jz,null)});if(tsConfig.single_frame){jy()}else if(ss.isNullOrUndefined(jv)){this.$5.showAlertDialog(jx,jt,true,null)}else{jy()}},$2:function(e){document.body.style.cursor='wait';var jt=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var ju=iV.createForCurrentWindowLocationAndVizState(jt,tsConfig.current_sheet_name);ju.set_retry(e);ju.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;ju.fullPageLoad()},handleSessionForbiddenAction:function(e,jt){var ju=tab.Strings.SessionForbiddenActionTitle;var jv=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 19:case 21:{jv=jt;break}}this.$5.showAlertDialog(jv,ju,true,null)},handleSessionLimitExceeded:function(){if(cA.$0){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var jt=tab.Strings.TimeLimitExceededTitle;cA.$0=true;this.$5.showAlertDialog(e,jt,true,null)},handleSessionKilled:function(e){this.$0(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$0(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},$4:function(){var e={error:null,success:null,type:'POST',url:this.$6+'/setignore/sessions'};var jt=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);e.data=jt;e.async=false;this.$3(e)},$3:function(e,jt){return jp.helper(e,jt)}},null,[es]);ss.initClass(cB,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(cC,a,{handle:function(e,jt){if(!this.$3){return false}if(ss.isNullOrUndefined(e)){return false}var ju=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(e.get_message());if(ss.isNullOrUndefined(ju)){return false}var jv=e['status'];if(ss.isNullOrUndefined(jv)){return false}if(!cC.shouldHandleWithGivenStatus(jv)){return false}this.$0(jt,ju,false);return true},$1:function(e){if(!this.$3){return}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.sq)||e.sq.length===0){return}var jt=gM.createSwitchSheetsCommand(tsConfig.current_sheet_name);jt.commandParams['ESN']=true;var ju=fM.create(jt,'immediately');var jv=e.sq[0];var jw=new tab.DataSourceConnectionAttemptErrorResponse;jw.ErrorType=jv.ppl;var jx=jw;var jy=cC.$1(jv.ppl);if(jy){var jz=cC.$0(jv);jx.RedirectUrl=jz}else{jx.ErrorMessage=jv.zRk}var jA=!jv.r_S;this.$0(ju,jx,jA)},handlePotentialTabSwitchDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.NHY1)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.connectionAttemptInfo)}},$0:function(e,jt,ju){if(!ss.isNullOrEmptyString(jt.RedirectUrl)){var jv=(ju?'&skippopup=1':'');jt.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',jt.RedirectUrl,jv,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var jw=function(){bF.SendCommand(e)};var jx=!ss.isNullOrUndefined(e.get_commandName())&&ss.equalsT(e.get_commandName().toString(),'ensure-layout-for-sheet'.toString());var jy=cC.$1(jt.ErrorType);if(jx){if(jy){this.$2.showSheetAuthenticationOverlay(jt,jw)}else{this.$2.showGenericDataSourceErrorOverlay(jt,jw)}}else if(jy){this.$2.showSheetAuthenticationDialog(jt,jw)}else{this.$2.showGenericDataSourceErrorDialog(jt,jw)}}});ss.initClass(cD,a,{handleCommandFailure:function(e,jt,ju,jv){if(!this.$0){return false}if(!cC.shouldHandleWithGivenStatus(jt.status)){return false}var jw=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(jt.responseText);if(ss.isNullOrUndefined(jw)){return false}return true}},null,[es]);ss.initInterface(ep,a,{processEvent:null});ss.initClass(cE,a,{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var jt=this.$0;this.$0=null;if(ss.isNullOrUndefined(jt)){return}for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];try{jv()}catch(jw){var e=ss.Exception.wrap(jw);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}},null,[ep,ss.IDisposable]);ss.initClass(cF,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.Bgt},get_defaultHeight:function(){return this.pm.EVK},get_defaultMaxWidth:function(){return this.pm.PiK},get_defaultMaxHeight:function(){return this.pm.McJ},get_defaultMinWidth:function(){return this.pm.EVq},get_defaultMinHeight:function(){return this.pm.pAn},update:function(e,jt){if(ss.isValue(e.ino)){this.$1.length=0;for(var ju=0;ju<e.ino.VGH.length;ju++){var jv=new ha(this.$2,ju);jv.update(e.ino.VGH[ju],jt);this.$1.push(jv)}}this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(cG,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().BVS},get_computeCompoundedRateState:function(){return this.$1().iPy},update:function(e,jt){var ju=e;if(this.isNewPresModelSameAsOld(ju)){return}this.swapAndCopyPresModel(ju);this.get_referenceModel().update(ju.bUz,jt);this.raiseEvent(this.$3$1,jt)}},ix);ss.initClass(cH,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_distributionPresModel:function(){return this.pm},get_isValid:function(){return this.get_distributionPresModel().GiX},get_distributionType:function(){return this.get_distributionPresModel().yPK},get_refLineId:function(){return this.get_distributionPresModel().hGF||''},get_visualId:function(){return this.get_distributionPresModel().J_M},get_scopeType:function(){return ss.coalesce(this.get_distributionPresModel().CAX,'per-pane')},get_labelType:function(){return ss.coalesce(this.get_distributionPresModel().Fj,'automatic')},get_validLabelTypes:function(){return this.$2$2},set_validLabelTypes:function(e){this.$2$2=e},get_customLabel:function(){return this.get_distributionPresModel().pHt||''},get_validCustomLabelTags:function(){return this.$2$3},set_validCustomLabelTags:function(e){this.$2$3=e},get_formulaGroup:function(){return ss.coalesce(this.get_distributionPresModel().iCj,'distribution')},get_instantAnalyticsEnabled:function(){return this.get_distributionPresModel().tDf},get_isInstantAnalyticsAllowed:function(){return this.get_distributionPresModel().xHu},get_isQuantilesAllowed:function(){return this.get_distributionPresModel().lwq},get_isStandardDeviationAllowed:function(){return this.get_distributionPresModel().GBT},get_selectedText:function(){return this.get_distributionPresModel().vwt},get_distributionPercentagesModel:function(){return this.$2$4},set_distributionPercentagesModel:function(e){this.$2$4=e},get_distributionPercentilesModel:function(){return this.$2$5},set_distributionPercentilesModel:function(e){this.$2$5=e},get_distributionQuantilesModel:function(){return this.$2$6},set_distributionQuantilesModel:function(e){this.$2$6=e},get_distributionStandardDeviationModel:function(){return this.$2$7},set_distributionStandardDeviationModel:function(e){this.$2$7=e},$1:function(e){this.set_validCustomLabelTags(_.map(e,function(jt){return jt}))},$2:function(e){this.set_validLabelTypes(_.map(e,function(jt){return{key:jt.Fj,value:jt.MzX}}))},update:function(e,jt){this.$2(e.Uzh);this.$1(e.ZfF);this.get_distributionPercentagesModel().update(e.jih,e.J_M,e.hGF,jt);this.get_distributionPercentilesModel().update(e.nis,e.J_M,e.hGF,jt);this.get_distributionQuantilesModel().update(e.ptw,e.J_M,e.hGF,jt);this.get_distributionStandardDeviationModel().update(e.ltu,e.J_M,e.hGF,jt);this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(cI,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualID:function(){return this.$2$2},set_visualID:function(e){this.$2$2=e},get_refLineID:function(){return this.$2$3},set_refLineID:function(e){this.$2$3=e},get_distributionPercentagesPresModel:function(){return this.pm},get_percentages:function(){return this.get_distributionPercentagesPresModel().rTU},get_validFormulaTypes:function(){return this.$2$4},set_validFormulaTypes:function(e){this.$2$4=e},get_formulaType:function(){return ss.coalesce(this.get_distributionPercentagesPresModel().lqd,'average')},get_formattedConstantValue:function(){return this.get_distributionPercentagesPresModel().ybD||''},get_fieldPickerCombo:function(){return this.$2$5},set_fieldPickerCombo:function(e){this.$2$5=e},get_isParameterSelected:function(){return this.get_distributionPercentagesPresModel().fQh},$1:function(e){var jt=[];if(ss.isNullOrUndefined(e)){return jt}return jt.concat.apply(jt,e)},update:function(e,jt,ju,jv){this.set_visualID(jt);this.set_refLineID(ju);if(ss.isValue(e)){this.get_fieldPickerCombo().update(e.TkR,jv);this.set_validFormulaTypes(this.$1(e.dcD))}this.simpleSwapToUpdate(e,this.$2$1,jv)}},eR);ss.initClass(cJ,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualID:function(){return this.$2$2},set_visualID:function(e){this.$2$2=e},get_refLineID:function(){return this.$2$3},set_refLineID:function(e){this.$2$3=e},get_percentileComboModel:function(){return this.$2$4},set_percentileComboModel:function(e){this.$2$4=e},get_distributionPercentilesPresModel:function(){return this.pm},update:function(e,jt,ju,jv){this.set_visualID(jt);this.set_refLineID(ju);if(ss.isValue(e)){this.get_percentileComboModel().update(e.Omk,jv)}this.simpleSwapToUpdate(e,this.$2$1,jv)}},eR);ss.initClass(cK,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualID:function(){return this.$2$2},set_visualID:function(e){this.$2$2=e},get_distributionQuantilesCombo:function(){return this.$2$3},set_distributionQuantilesCombo:function(e){this.$2$3=e},get_refLineID:function(){return this.$2$4},set_refLineID:function(e){this.$2$4=e},get_distributionQuantilesPresModel:function(){return this.pm},update:function(e,jt,ju,jv){this.set_visualID(jt);this.set_refLineID(ju);if(ss.isValue(e)){this.get_distributionQuantilesCombo().update(e.kRQ,jv)}this.simpleSwapToUpdate(e,this.$2$1,jv)}},eR);ss.initClass(cL,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualID:function(){return this.$2$2},set_visualID:function(e){this.$2$2=e},get_refLineID:function(){return this.$2$3},set_refLineID:function(e){this.$2$3=e},get_distributionStandardDeviationPresModel:function(){return this.pm},get_stDevType:function(){return this.get_distributionStandardDeviationPresModel().eci},get_factors:function(){return this.get_distributionStandardDeviationPresModel().HDV},get_validStDevTypes:function(){return this.$2$4},set_validStDevTypes:function(e){this.$2$4=e},update:function(e,jt,ju,jv){this.set_visualID(jt);this.set_refLineID(ju);this.set_validStDevTypes(_.map(e.foa,function(jw){return{key:jw.eci,value:jw.MzX}}));this.simpleSwapToUpdate(e,this.$2$1,jv)}},eR);ss.initClass(cM,a,{});ss.initClass(cN,a,{add:function(e){this.infoList.push(e)}});ss.initInterface(ej,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(cO,a,{canExtractFont:function(e){return e.VzB==='MqA'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var jt=e;var ju=jt.sGS;if(ss.isNullOrEmptyString(ju)){return null}var jv=[];var jw=new dr;jw.set_fontFamily(ju);jw.set_weight((jt.xjH?'bold':'normal'));jv.push(jw);return jv}},null,[ej]);ss.initClass(cP,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,jt){this.swapAndCopyPresModel(e);this.$1=jt}},de);ss.initClass(cQ,a,{invoke:function(){return this.invoke$1(bS.newCommand('drop-ref-line-on-filter-shelf',this.c))}},ss.makeGenericType(O,[Object,cR]));ss.initClass(cR,a,{});ss.initClass(cS,a,{invoke:function(){return this.invoke$1(bS.newCommand('drop-ref-line-on-schema-viewer',this.c))}},ss.makeGenericType(O,[Object,cT]));ss.initClass(cT,a,{});ss.initClass(cU,a,{invoke:function(){return this.invoke$1(bS.newCommand('drop-ref-line-on-shelf',this.c))}},ss.makeGenericType(O,[Object,cV]));ss.initClass(cV,a,{});ss.initClass(cW,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().Nyl;if(ss.isNullOrUndefined(e)){return null}return{key:e.OLk,value:e.HBp02}},get_parameters:function(){return _.map(this.$1().Ppg,function(e){return{key:e.OLk,value:e.HBp02}})},get_selectedValue:function(){return this.$1().gui},set_selectedValue:function(e){this.$1().gui=e},get_enterValueText:function(){return this.$1().Mpj},get_isCustomValueEnabled:function(){return this.$1().RmR},get_precannedValues:function(){var e=[];var jt=this.$1().Rff;for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];e.push(jv)}return e},update:function(e,jt){this.swapPresModel(e);this.raiseEvent(this.$2$1,jt)}},eR);ss.initClass(cX,a,{invoke:function(){return this.invoke$1(bS.newCommand('edit-web-zone-url',this.c))}},ss.makeGenericType(O,[Object,cY]));ss.initClass(cY,a,{hasCurrentUrl:function(){return ss.keyExists(this.$c,'VvY')},hasZoneID:function(){return ss.keyExists(this.$c,'BCp')},hasCommandRedirectType:function(){return ss.keyExists(this.$c,'XAS')}});ss.initClass(cZ,a,{handle:function(e,jt,ju,jv){var jw=this.$0;for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];if(jy.handleCommandFailure(e,jt,ju,jv)){return}}}});ss.initClass(da,a,{});ss.initClass(db,a,{});ss.initClass(dc,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.fieldCol.tgs02},get_role:function(){return this.fieldCol.YIQ02},get_baseColumnName:function(){return(this.get_isInstance()?this.fieldCol._HL:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.parent.findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.fieldCol.sNb)&&this.fieldCol.sNb},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?de.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.fieldCol.TO_02},get_formattedFamilyName:function(){return this.fieldCol.ANq},update:function(e){this.fieldCol=e;this.swapAndCopyPresModel(e)}},de);ss.initEnum(dd,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple'},true);ss.initClass(df,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldPickerComboPresModel:function(){return this.pm},get_selectedField:function(){return this.get_fieldPickerComboPresModel().HBp02},get_fields:function(){return _.map(this.get_fieldPickerComboPresModel().pnG,function(e){return new dg(e)})},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(dg,a,{});ss.initClass(dh,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,jt){var ju=this.$0[this.$1];delete this.cl[ju];this.$0[this.$1]=e;this.cl[e]=jt;this.$1=(this.$1+1)%this.$2}});ss.initClass(di,a,{openDownload:function(e,jt){if(ss.isValue(jt.popup)){this.$1(e,jt)}else{this.$0(e,jt)}},$0:function(e,jt){var ju=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=ju+'download=true';var jv='_blank';var jw=e;if(ss.isNullOrUndefined(jt.noping)){var jx=ss.mkdel(this,function(){this.$2.showFileDownloadDialog(jt.title,jt.message,jw,jv)});var jy=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=jy+'nodata=true';var jz=this.$3.$0(null,jx,null,'immediately');var jA={};jA.headers=ss.mkdict(['Accept','text/plain']);jA.dataType='text';jA.type='GET';jA.url=e;this.$3.$b(jA,jz)}else{this.$2.showFileDownloadDialog(jt.title,jt.message,jw,jv)}},$1:function(e,jt){var ju=jt.popup;var jv=window.open('about:blank',ju);window.setTimeout(ss.mkdel(this,function(){var jw=new tab.WindowHelper(jv);if(ss.isValue(jv)&&!jv.closed&&jw.get_innerWidth()!==0&&jw.get_innerHeight()!==0){jv.location.href=e}else{if(ss.isValue(jv)){jv.close()}jt.popup=null;this.openDownload(e,jt)}}),500)}});ss.initClass(dj,a,{});ss.initClass(dk,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().P_I},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,jt){if(ss.isValue(e.P_I)){var ju=e.stK[e.P_I.toString()];this.$1.update(ju,jt)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},eR);ss.initClass(dl,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().yTB},get_storyPoints:function(){return this.get_flipboardNavPresModel().mhR},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().RWo.Ovl},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().ELI},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,jt){if(ss.isValue(e)){if(ss.isValue(e.czn)){dq.notifyFontsFromTextStylePresModel(e.czn.mCc)}if(ss.isValue(e.TaK)){dq.notifyFontsFromTextStylePresModel(e.TaK.mCc)}}this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(dm,a,{});ss.initClass(dn,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.HGC},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,jt){this.swapAndCopyPresModel(e);this.$1=jt}},de);ss.initClass(dp,a,{get_fontGroup:function(){return this.$1$1},set_fontGroup:function(e){this.$1$1=e},get_fonts:function(){return this.$1$2},set_fonts:function(e){this.$1$2=e}});dp.$ctor1.prototype=dp.prototype;ss.initClass(dq,a,{});ss.initClass(dr,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(dr.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var jt=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var ju=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(jt,ju,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(ds,a,{});ss.initClass(dw,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().XHt},get_widgetIdentifier:function(){return this.$1().KP$},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatQuickNumberMenu:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatQuickNumberMenu'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,dt)},asFormatControl:function(){return ss.safeCast(this,du)},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(dt,a,{get_typeOfFormatContainer:function(){return this.pm.hfR},get_items:function(){return this.$3},get_name:function(){if(this.get_isFormatSection()){return this.pm.dMo02}else if(this.get_isFormatPane()){return this.pm.dMo02}else if(this.get_isFormatQuickNumberMenu()){return this.pm.dMo02}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.OOg}else if(this.get_isTabGroup()){return this.pm.OOg}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.tNa}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.pHt}else if(this.get_isTab()){return this.pm.pHt}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.x$I}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.YOY}else{return null}},get_isVisible:function(){return this.$4},set_isVisible:function(e){if(this.$4!==e){this.$4=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var jt=tab.FeatureFlags.isEnabled('FormatWorkbookWebAll');var ju=this.asFormatContainer().get_items();for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(jt||jw.get_widgetIdentifier()==='font'||tab.FeatureFlags.isEnabled('WebQuickNumberFormatting')){e.push(jw)}}return e},$2:function(e){this.set_previewProperties({});for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(!ju.get_isFormatControl()){continue}var jv=ju.asFormatControl();var jw=jv.get_widgetKey();switch(jw){case'fontSize':case'lineSize':{this.get_previewProperties()[jw]=jv.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[jw]=jv.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[jw]=jv.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[jw]=jv.get_toggleValue();break}case'percent':case'comma':case'currency':{this.get_previewProperties()[jw]=jv.get_toggleValue();break}case'decimalLeft':case'decimalRight':{this.get_previewProperties()[jw]=jv.get_toggleValue();break}case'numericUnits':{this.get_previewProperties()[jw]=jv.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},update:function(e,jt){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),jt);if(ss.isNullOrUndefined(this.$3)){this.$3=[];for(var ju=0;ju<this.pm.bRh.length;ju++){var jv=this.pm.bRh[ju];this.$3.push(dw.createModel(this,jv,jt))}}else if(ss.isValue(this.pm.bRh)){for(var jw=0;jw<this.pm.bRh.length;jw++){var jx=this.pm.bRh[jw];this.$3[jw].update(jx,jt)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},dw);ss.initClass(du,a,{get_typeOfFormatControl:function(){return this.pm.CFz},get_commandRedirectType:function(){return this.pm.XAS},get_formatCommand:function(){return this.pm.Fks},get_simpleCommand:function(){return bO.deserialize(gZ.create(this.get_formatCommand()).get_simpleCommand())},get_widgetKey:function(){return this.pm.eKx},get_textValue:function(){return this.pm.vau},get_numericValue:function(){return this.pm.hUw},get_colorValue:function(){return this.pm.YhU},get_canBeAuto:function(){return this.pm.yVr},get_canBeNone:function(){return this.pm.FEU},get_canMatchMarkColor:function(){return this.pm.uyN},get_hasOpacity:function(){return this.pm.HUJ},get_colorSwatchType:function(){return this.pm.VZa},get_selectorValue:function(){return this.pm.vau},get_toggleValue:function(){return this.pm.gbN02}},dw);ss.initClass(dv,a,{});ss.initClass(dx,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-alert-measures-from-selection',this.c))}},ss.makeGenericType(O,[Object,dy]));ss.initClass(dy,a,{});ss.initClass(dz,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-dashboard-drag-drop',this.c))}},ss.makeGenericType(O,[Object,dA]));ss.initClass(dA,a,{});ss.initClass(dB,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-dashboard-sizing',this.c))}},ss.makeGenericType(O,[Object,dC]));ss.initClass(dC,a,{});ss.initClass(dD,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-drag-pres-model',this.c))}},ss.makeGenericType(O,[Object,dE]));ss.initClass(dE,a,{});ss.initClass(dF,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-drag-zone-resize',this.c))}},ss.makeGenericType(O,[Object,dG]));ss.initClass(dG,a,{hasResizeInfo:function(){return ss.keyExists(this.$c,'kYM')}});ss.initClass(dH,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-format-quick-number-menu-layout',this.c))}},ss.makeGenericType(O,[Object,dI]));ss.initClass(dI,a,{});ss.initClass(dJ,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-ref-line-drag-info',this.c))}},ss.makeGenericType(O,[Object,dK]));ss.initClass(dK,a,{});ss.initClass(dL,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-ref-line-formula',this.c))}},ss.makeGenericType(O,[Object,dM]));ss.initClass(dM,a,{});ss.initClass(dN,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-thumbnail',this.c))}},ss.makeGenericType(O,[Object,dO]));ss.initClass(dO,a,{hasThumbnailImage:function(){return ss.keyExists(this.$c,'Gqc')}});ss.initClass(dP,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-trend-line-drag-info',this.c))}},ss.makeGenericType(O,[Object,dQ]));ss.initClass(dQ,a,{});ss.initClass(dR,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-url-substitution-keywords',this.c))}},ss.makeGenericType(O,[Object,dS]));ss.initClass(dS,a,{});ss.initClass(dT,a,{invoke:function(){return this.invoke$1(bS.newCommand('get-web-categorical-color-dialog',this.c))}},ss.makeGenericType(O,[Object,dU]));ss.initClass(dU,a,{});ss.initClass(dV,a,{canExtractFont:function(e){return e.VzB==='rOX'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var jt=e.tOA;return this.$0(jt)},$0:function(e){var jt={};for(var ju=0;ju<e.length;ju++){var jv=e[ju];for(var jw=0;jw<dV.$0.length;jw++){var jx=dV.$0[jw];if(jx.canExtractFont(jv)){var jy=jx.extractFontFromPresModel(jv);if(ss.isValue(jy)){for(var jz=0;jz<jy.length;jz++){var jA=jy[jz];jt[jA.get_hash()]=jA}}break}}}return _.values(jt)}},null,[ej]);ss.initClass(dW,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.fieldCol.dhu||false}},dc);ss.initClass(dX,a,{invoke:function(){return this.invoke$1(bS.newCommand('hide-zone',this.c))}},ss.makeGenericType(O,[Object,dY]));ss.initClass(dY,a,{});ss.initClass(dZ,a,{invoke:function(){return this.invoke$1(bS.newCommand('highlight-items-by-pattern-match',this.c))}},ss.makeGenericType(O,[Object,ea]));ss.initClass(ea,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$c,'DBQ')}});ss.initClass(eb,a,{invoke:function(){return this.invoke$1(bS.newCommand('highlight-items',this.c))}},ss.makeGenericType(O,[Object,ec]));ss.initClass(ec,a,{});ss.initClass(ed,a,{});ss.initClass(ee,a,{invoke:function(){return this.invoke$1(bS.newCommand('hit-test-scene',this.c))}},ss.makeGenericType(O,[Object,ef]));ss.initClass(ef,a,{});ss.initEnum(eg,a,{escape:0,noEscape:1});ss.initInterface(ei,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(ek,a,{get_sheetScrollPositions:null});ss.initInterface(el,a,{triggerExportPdfUI:null});ss.initClass(en,a,{});ss.initClass(eo,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(eq,a,{});ss.initClass(et,a,{invoke:function(){return this.invoke$1(bS.newCommand('is-web-zone-url-valid',this.c))}},ss.makeGenericType(O,[Object,eu]));ss.initClass(eu,a,{hasValidationMessage:function(){return ss.keyExists(this.$c,'Azw')}});ss.initClass(ev,a,{andMarkAsRawJavaScriptModule:function(){this.$0.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.$0.loadModuleOnDemand=false;return this},andLoadOnDemendIf:function(e){this.$0.loadModuleOnDemand=e;return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException(e)}this.$0.shouldExportResult=true;this.$0.exportResultName=e;return this}});ss.initClass(ew,a,{});ss.initClass(ex,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.FsL},get_name:function(){return this.pm.dMo02},get_isTableCalc:function(){return this.pm.trO},get_paneDescriptorKeys:function(){return this.pm.N_E},get_encodings:function(){return _.filter(this.pm.Sfw,function(e){return e.DIk02&&e.Tsz02})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(jt){return jt.NPh});return e},get_primitiveTypes:function(){return _.filter(this.pm.Arf,function(e){return e.DIk02&&e.Tsz02})},get_markSizeModel:function(){return this.$1},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt);if(ss.isNullOrUndefined(this.$1)){this.$1=new eP(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),jt)},equals$1:function(e){return this.get_id()===e.FsL},getDropdownPresModel:function(e){var jt=_.filter(this.pm.Sfw,function(ju){return ju.DIk02&&ju.Tsz02&&ju.Srb===e});if(ss.isNullOrUndefined(jt)||jt.length!==1){return null}return jt[0].URw}},eR);ss.initClass(ey,a,{get_layoutId:function(){return this.layoutid},set_layoutId:function(e){this.layoutid=e},formatDashboardTempfileReference:function(e,jt,ju){return this.formatLayoutMethod(this.layoutid,'tempfile')+'/?key='+e+(jt?'&keepfile=yes':'')+(ju?'&attachment=yes':'')},saveSharedView:function(e,jt,ju){var jv=function(jA,jB,jC){jA['button']=e;if(ss.isValue(jA['guid'])){jp.guid=jA['guid']}};var jw=ss.mkdel(this,function(jA,jB,jC){jp.guid=null;if(jA.status===410||jA.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(jA.status===401){this.handleAuthenticationFailure()}else{var jD=new Object;jD['button']=e;ju(jD)}});var jx=this.$0(null,jv,jw,'none');var jy={};jy['sheet_id']=jp.get_currentTabName();jy['parent_id']=jp.parentID;jy['primary_content_url']=jt;jy['share_button']=e;var jz=this.basicPostOpts(this.$4('save_shared_view'),jy);jz.async=false;jz.timeout=2000;this.$b(jz,jx)},saveAndOpenMetricsView:function(){window.open(this.$4('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.$4('download_metrics_view')},getAutocompleteInfo:function(e,jt,ju){var jv=function(jy,jz,jA){jt(jy['new_value'])};var jw=this.basicGetOpts(this.formatLayoutMethod(this.layoutid,'getautocomplete'));var jx=ss.mkdict(['fieldname',ju,'input_string',e]);jw.data=jx;jw.success=jv;this.$b(jw)},performPostLoadOperations:function(e,jt){var ju=function(jz,jA,jB){if(ss.isValue(jt)){jt(jz)}};var jv=ss.mkdel(this,function(jz,jA,jB){this.$6(jB,jz,true,null)});var jw=this.$0(null,ju,jv,'none');var jx=ss.mkdict(['sheet_id',e]);var jy={};jy.data=jx;jy.async=true;jy.type='GET';jy.headers=ss.mkdict(['Accept','text/javascript']);jy.dataType='json';jy.url=this.formatLayoutMethod(this.layoutid,'performPostLoadOperations');this.$b(jy,jw)}},P);ss.initClass(ez,a,{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.dMo02+this.$0.BCp},get_isFloating:function(){return this.$0.Qba},get_zoneType:function(){return this.$0.jAM},get_isHorizontal:function(){return this.$0.oAu},get_name:function(){return this.$0.dMo02},get_zoneID:function(){return this.$0.BCp},appendChildren:function(e){this.$1.push(e)}});ss.initClass(eA,a,{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,jt){if(!_.isEqual(this.pm,e)){this.$3();this.$1(e);this.$2();this.simpleSwapToUpdate(e,this.$2$1,jt)}},saveExpandedState:function(e,jt){this.$4[e]=jt},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$5[e])){return}var jt=this.$5[e].parent;while(ss.isValue(jt)){var ju=jt.get_zoneID();this.$4[ju]=true;jt=this.$5[ju].parent}},isItemExpanded:function(e){return ss.keyExists(this.$4,e)&&this.$4[e]},$1:function(e){var jt=e.boe;this.$5=eA.$0(jt);if(ss.isValue(jt)){for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=jv.SWe;var jx=this.$5[jv.BCp];var jy=jw===0;if(jy){this.rootNodes.push(jx)}else{var jz=this.$5[jw];if(!ss.isNullOrUndefined(jz)){jz.appendChildren(jx);jx.parent=jz}}}}},$2:function(){if(ss.getKeyCount(this.$5)===0){this.$4={}}else{var e=new ss.ObjectEnumerator(this.$4);try{while(e.moveNext()){var jt=e.current();if(!ss.keyExists(this.$5,jt.key)){delete this.$4[jt.key]}}}finally{e.dispose()}}},$3:function(){this.rootNodes=[]}},eR);ss.initClass(eB,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(eD,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var jt=new String;jt='[';for(var ju=0;ju<e.name.length;++ju){if(ss.endsWithString(jt,']')){jt+='.';jt+='['}jt+=e.name[ju];jt+=']'}return jt},update:function(e,jt){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,jt)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,jt)}}},eR);ss.initClass(eC,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples}},eD);ss.initClass(eE,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},eD);ss.initClass(eF,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(eG,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table}},eD);ss.initClass(eH,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().jOs},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().D_I},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$2},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,jt,ju){var jv=!_.isEqual(this.$2,jt);this.$2=jt;if(this.isNewPresModelSameAsOld(e)){if(jv){this.raiseEvent$1(Object).call(this,this.$2$1,e,ju)}return}if(ss.isValue(e)){dq.notifyFontsFromTextStylePresModel(e.mCc)}if(ss.isValue(e)&&ss.isValue(e.D_I)){this.$3=new bP(this)}this.$3.update(e.D_I,ju);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ju)},$1:function(){var e=[];var jt=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var ju=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var jv=['min-max','min-only','max-only','rel-date','rel-pick'];for(var jw=0;jw<jt.length;jw++){var jx=jt[jw];for(var jy=0;jy<ju.length;jy++){var jz=ju[jy];var jA={};jA.Ymv02=jx;jA.etp=jz;e.push(jA)}for(var jB=0;jB<jv.length;jB++){var jC=jv[jB];var jD={};jD.Ymv02=jx;jD.SPS=jC;e.push(jD)}}return e}},eR);ss.initClass(eI,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},eD);ss.initClass(eJ,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},fD);ss.initClass(eK,a,{get_interactedTupleIds:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2},shouldDoLocalUbertip:function(){return ss.isValue(this.$1)&&ss.isValue(this.$3)&&this.$1.length>0}});ss.initClass(eM,a,{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().ssC},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().qKO},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().sx},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().nHX},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().JFr},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().qGS},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().Adc},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().iqu},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().SBS},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().ApB},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,jt){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,jt)}}},eR);ss.initClass(eN,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.get_mapServerPresModel().wKy},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.get_mapServerPresModel().cpo},get_minZoom:function(){return this.get_mapServerPresModel().Tvg},get_maxZoom:function(){return this.get_mapServerPresModel().AqY},get_zoom:function(){var e=Math.log(this.get_mapServerPresModel().nyL)/Math.LN2;var jt=this.get_mapServerPresModel().Vot+e;if(this.get_useFastMaps()){jt-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_tilePixelSize())}return jt},get_centerLatitude:function(){return this.get_mapServerPresModel().koK},get_centerLongitude:function(){return this.get_mapServerPresModel().gJt},get_tilePixelSize:function(){return this.get_mapServerPresModel().WLq},get_numWorldRepeats:function(){return this.get_mapServerPresModel().gub},get_tileUrl:function(){var e=this.get_mapServerPresModel();var jt;if(ss.startsWithString(e.ywq.toString(),'http://')||ss.startsWithString(e.ywq.toString(),'https://')){jt=''}else{var ju=tab.WindowHelper.getLocation(window.self).protocol;jt=ju+'//'}jt+=e.ywq;if(!ss.endsWithString(jt,String.fromCharCode(47))&&!ss.startsWithString(e.hbM.toString(),String.fromCharCode(47))){jt+='/'}jt+=e.hbM;jt=ss.replaceAllString(jt,'{K}',e.Dwf);jt=ss.replaceAllString(jt,'{L}',e.buX);var jv=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(tab.BrowserSupport.get_devicePixelRatio(),2);jt=ss.replaceAllString(jt,'{D}',(jv?'@2x':''));jt=ss.replaceAllString(jt,'{X}','{x}');jt=ss.replaceAllString(jt,'{Y}','{y}');jt=ss.replaceAllString(jt,'{Z}','{z}');jt=ss.replaceAllString(jt,'{P}','{p}');return jt},get_hasValidTileLayer:function(){return this.get_mapServerPresModel().gxH},get_attributionUrl:function(){return this.get_mapServerPresModel().FMn},get_attributionText:function(){return this.get_mapServerPresModel().IRP},get_attributionTextColor:function(){return this.get_mapServerPresModel().Qfp},get_attributionTextSize:function(){return this.get_mapServerPresModel().iff},get_attributionBGColor:function(){return this.$1(this.get_mapServerPresModel().voD)},get_mapBGFillColor:function(){return this.$1(this.get_mapServerPresModel().mZp)},get_hasWashout:function(){return this.get_mapServerPresModel().gEj>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.get_mapServerPresModel().gEj));return new bC(255,255,255,e)},get_intermediateTileLevels:function(){return this.get_mapServerPresModel().nUd},get_mapServerPresModel:function(){return this.pm},get_mapScaleInfoModel:function(){return this.$2},get_radialSelectionDistanceInfoModel:function(){return this.$3},update:function(e,jt){var ju=ss.isValue(this.get_mapServerPresModel())&&ss.isValue(e);if(ju){var jv=!ss.referenceEquals(this.get_mapServerPresModel().ywq,e.ywq);var jw=!ss.referenceEquals(this.get_mapServerPresModel().buX,e.buX);if(jv||jw){this.raiseEvent(this.$2$2,jt)}}this.simpleSwapToUpdate(e,this.$2$1,jt);if(this.get_hasPresModel()){this.$3.update(this.get_mapServerPresModel().mZ_);this.$2.update(this.get_mapServerPresModel().Du$,jt)}},$1:function(e){return bC.fromColorCode(e||'rgb(255,255,255)').toString()}},eR);ss.initClass(eO,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)){return}var ju=[];if(ss.isValue(e)&&ss.isValue(e.baQ)){this.$1(e.baQ,ju,jt)}if(ss.isValue(e)&&ss.isValue(e.CGV)){for(var jv=0;jv<e.CGV.length;jv++){var jw=e.CGV[jv];this.$1(jw,ju,jt)}}this.$3=ju;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,jt)},$1:function(e,jt,ju){var jv=_.find(this.$3,function(jw){return jw.equals$1(e)});if(ss.isNullOrUndefined(jv)){jv=new ex(this,e.FsL)}jv.update(e,ju);jt.push(jv)}},eR);ss.initClass(eP,a,{add_sliderFractionUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sliderFractionUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.wFL},get_maxMarkSize:function(){return this.pm.Utx},get_currentMarkSize:function(){return this.pm.DOI},get_currentSliderFraction:function(){return this.$3.valueToFraction(this.get_currentMarkSize())},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},get_currentFraction:function(){return this.get_currentSliderFraction()},setCurrentFraction:function(e){},markSizeUpdated:function(){if(ss.isValue(this.$2$1)){this.$2$1(this.get_currentSliderFraction())}},update:function(e,jt){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,ss.mkdel(this,this.markSizeUpdated),jt)},$1:function(e){switch(e.Iqw.length){case 0:{this.$3=new eJ(e.wFL,e.Utx);break}case 1:{var jt=e.Iqw[0];this.$3=new D(e.wFL,e.Utx,jt.mOt,jt.dbq,jt.mOt,jt.dbq);break}case 2:default:{var ju=e.Iqw[0];var jv=e.Iqw[1];this.$3=new D(e.wFL,e.Utx,ju.mOt,ju.dbq,jv.mOt,jv.dbq);break}}}},eR,[ei]);ss.initClass(eQ,a,{});ss.initClass(eU,a,{});ss.initClass(eV,a,{});ss.initClass(eW,a,{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var jt=this.$2[e];_.defer(jt)}this.$2.length=0}});ss.initClass(eX,a,{invoke:function(){return this.invoke$1(bS.newCommand('move-dashboard-edge',this.c))}},ss.makeGenericType(O,[Object,eY]));ss.initClass(eY,a,{});ss.initClass(eZ,a,{get_instanceType:function(){return'multiple'}},de);ss.initClass(fa,a,{processEvent:function(e){}},null,[ep]);ss.initClass(fb,a,{dispose:function(){L.get_instance().unRegisterNotificationHandler(this.$1,ss.mkdel(this,this.$0))},setReceiver:function(e){tab.Param.verifyValue(e,'updatedReceiver');this.$3=e;eR.nonWorldUpdate(ss.mkdel(this,function(jt){for(var ju=0;ju<this.$2.length;ju++){var jv=this.$2[ju];this.$3.onNotify(jv,jt)}this.$2.length=0}))},$0:function(e,jt){if(ss.isNullOrUndefined(this.$3)){this.$2.push(e)}else{this.$3.onNotify(e,jt)}}},null,[ss.IDisposable]);ss.initClass(fc,a,{$3:function(e,jt){this.$1().done([ss.mkdel(this,function(){var jv=this.$6.createEvent();jv.ofType(e);var jw=new ss.ObjectEnumerator(jt);try{while(jw.moveNext()){var jx=jw.current();jv.withProperty(jx.key,jx.value)}}finally{jw.dispose()}jv.withProperty('SiteId',this.$c);jv.withProperty('SiteLuid',this.$d);jv.withProperty('SiteUrlName',this.$e);jv.withProperty('UserId',this.$f);jv.withProperty('Language',tsConfig.language);jv.withProperty('Locale',tsConfig.locale);jv.withProperty('SessionId',tsConfig.sessionid);jv.withProperty('ProjectId',parseInt(tsConfig.current_project_id));jv.withProperty('WorkbookId',parseInt(tsConfig.current_workbook_id));jv.withProperty('Public',tsConfig.isPublic);jv.withProperty('SaaS',tsConfig.is_saas);this.$9.reportEvent(jv.build())})]);var ju=fc.$1$1;if(!ss.staticEquals(ju,null)){ju(e,jt)}},$2:function(){return this.$4||(this.$4=eV.load$1('analytics-client',[]))},$0:function(){return this.$b||(this.$b=ji.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$a=e})).fail(function(e){}))},$1:function(){return this.$7||(this.$7=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var e=ss.isValue(this.$a);if(e){var jt=this.$a.server;var ju=this.$a.site;var jv=this.$a.user;e=ss.isValue(jt)&&ss.isValue(ju)&&ss.isValue(jv);if(e){this.$5=jt.analyticsEndpoint;this.$8=jt.logicalServerInstanceId;this.$c=ju.id;this.$d=ju.luid;this.$e=ju.urlName;this.$f=jv.id}}if(!e){}this.$9=new AnalyticsClient.Reporter(this.$5);this.$6=new AnalyticsClient.AnalyticsEventFactory('VizClient',this.$8,window.location.hostname)})]))}});ss.initClass(fd,a,{});ss.initClass(fe,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.us$)},get_zone:function(){return this.$2.pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.$2},update:function(e,jt,ju,jv){this.$1=jt;if(this.isNewPresModelSameAsOld(e)){return}dq.notifyFontsFromPagePresModel(e);if(ju){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,jv)}else{this.swapAndCopyPresModel(e)}}},eR);ss.initClass(fg,a,{});ss.initClass(fh,a,{});ss.initClass(fi,a,{get_rowIndex:function(){return this.$0['ASo']},get_columnIndex:function(){return this.$0['_WI']},get_pageIndex:function(){return(ss.keyExists(this.$0,'jal')?this.$0['jal']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['_WI']=0;this.$0['ASo']=0}}});fi.$ctor1.prototype=fi.prototype;ss.initClass(fj,a,{});ss.initClass(fk,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().nql},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,jt,ju){if(ss.isValue(e)){dq.notifyFontsFromTextStylePresModel(e.mCc)}this.$1=jt;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ju)},updateFrame:function(e,jt){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),jt)}}},eR);ss.initClass(fl,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_displayMode:function(){return this.$2().NId},get_fieldName:function(){return this.$2().DMC},get_titleHtml:function(){return(this.$3().yqe?this.$3().KDk.xBc:'')},get_titleCaption:function(){return(this.$3().yqe?this.$3().KDk.CST02:'')},get_titleHeight:function(){return(this.$3().yqe?this.$3().jZr:0)},get_zoneBackgroundColor:function(){return this.$3().rPC.eBu},get_itemsHeight:function(){return this.$2().$tN},get_itemsFontName:function(){return this.$2().mCc.sGS.toString()},get_itemsFontSize:function(){return this.$2().mCc.Qvi+'pt'},get_itemsTextColor:function(){return this.$2().mCc.YhU},get_itemsFontWeight:function(){return this.$2().mCc.cjf},get_itemsFontStyle:function(){return this.$2().mCc.BxQ},get_itemsTextDecoration:function(){return this.$2().mCc.zwp},get_items:function(){var e=[];for(var jt=0;jt<this.$2().wwu.length;jt++){e.push(new fm(this.$2().wwu[jt],this.$1().domain[jt]))}return e},get_selectedItem:function(){return this.$2().ybD},$2:function(){return this.pm},$1:function(){return this.$2().nql},$3:function(){return this.parent.get_zone().pm},update:function(e,jt){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent$1(Object).call(this,this.$2$1,e,jt)}}},eR);ss.initClass(fm,a,{});ss.initClass(fn,a,{});ss.initClass(fo,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().buS},get_allPagesState:function(){return this.$1().YtV},update:function(e,jt){this.simpleSwapToUpdate(e,this.$3$1,jt)}},ix);ss.initClass(fp,a,{});ss.initClass(fq,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Srb)){return'invalid-encoding'}return this.pm.Srb},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Sfw)){return[]}return _.filter(this.pm.Sfw,function(e){return e.DIk02&&e.Tsz02})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.Obm)){return'no-filter'}return this.pm.Obm},get_hasDrill:function(){return this.pm.IXT||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm._lm||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.iHY)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.tCk)},get_displayName:function(){return this.pm.MzX},get_contextMenuCommands:function(){return this.pm.Jmx},get_isMultipleFields:function(){return this.pm.Srb!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,eZ)},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)){return}this.$1=jt;this.swapAndCopyPresModel(e)}},eR);ss.initClass(fr,a,{invoke:function(){return this.invoke$1(bS.newCommand$1('ping-session',this.c))}},ss.makeGenericType(O,[Object,fs]));ss.initClass(fs,a,{});ss.initClass(ft,a,{});ss.initClass(fu,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(fv,a,{});ss.initEnum(fw,a,{simple:0,array:1});ss.initClass(fx,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$i)&&ss.getKeyCount(this.$i)>0){return true}if(ss.isNullOrUndefined(this.$h)){return false}for(var e=0;e<fx.$6.length;e++){var jt=fx.$6[e];if(ss.isNullOrUndefined(this.$h[jt])){continue}return true}return false},extractZoneContent:function(e){if(!fx.$3(e)){return e}var jt=this.$4(e);if(ss.isNullOrUndefined(jt)){return e}jt.HCq=this.$5(jt.HCq);return e},updateZonesWithVizData:function(e,jt){if(ss.isNullOrUndefined(this.$n)||ss.getKeyCount(this.$n)===0){return}iR.addVizDataToZones(e.NdE,this.$n);var ju=_.keys(this.$n);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=this.$o[jw]||this.$3(this.$n[jw]);if(ss.isValue(jx)&&ss.isValue(jx.get_visualModel())){var jy=jx.get_visualModel();jy.update(jy.pm,jt)}}},processModelUpdate:function(e,jt,ju){if(!fx.$3(e)||!this.get_hasZonesToLoad()){return e}var jv=this.$4(e);if(ss.isNullOrUndefined(jv)){return e}var jw=eR.removeUndefinedBoolsOnSwapCopy;if(ju){eR.removeUndefinedBoolsOnSwapCopy=false}try{var jx=jv.HCq;var jy=_.keys(jx);for(var jz=0;jz<jy.length;jz++){var jA=jy[jz];var jB=jx[jA];if(ss.isNullOrUndefined(jB)){continue}if(!ss.contains(fx.zonesThatDeferContentCreation,jB.jAM)){continue}var jC=false;var jD=jB.BCp;var jE=[fx.$7[jB.jAM],6];for(var jF=0;jF<jE.length;jF++){var jG=jE[jF];var jH=this.$h[jG];if(ss.isValue(jH)){var jI=jH.length;for(var jJ=0;jJ<jI;jJ++){var jK=jH[jJ];if(ss.isValue(jK)&&jK.BCp===jD){jC=true;jH[jJ]=this.$1(jK,jB,jt);break}}}if(jC){break}}if(!jC&&jB.jAM==='viz'){var jL=_.keys(this.$i);for(var jM=0;jM<jL.length;jM++){var jN=jL[jM];var jO=this.$i[jN];if(jD===jO.BCp){jC=true;this.$i[jN]=this.$1(jO,jB,jt);break}}}if(jC){jB=fx.removeZoneContent(jB)}}}finally{eR.removeUndefinedBoolsOnSwapCopy=jw}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$c();return}this.$d();this.$b();this.$e()},abort:function(){this.stopTimers();this.$c()},setViewport:function(e){var jt=e.get_dimensions();if(jt.w===1&&jt.h===1){return}this.$m={x:jt.l,y:jt.t,w:jt.w,h:jt.h};this.$b()},getPendingVisuals:function(){var e={};var jt=_.keys(this.$n);for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=this.$n[jv].AVP;var jx=this.getPendingVisual(jw);if(ss.isValue(jx)){e[jw]=jx}}return e},getPendingVisual:function(e){var jt=null;var ju=_.keys(this.$n);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];if(ss.referenceEquals(this.$n[jw].AVP,e)){jt=this.$n[jw];break}}if(ss.isNullOrUndefined(jt)){return null}var jx=this.$o[jt.BCp]||this.$3(jt);return jx.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$j)){return null}return this.$j[e]},stopTimers:function(){if(ss.isValue(this.$k)){if(ss.isValue(tab.FeatureParamsLookup.getInt(39))){window.clearTimeout(ss.unbox(this.$k))}else{tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$k))}this.$k=null}},$c:function(){this.$h=null;this.$i=null;this.$n=null;this.$o=null;this.$j=null;this.$l=null;this.$k=null;this.$m=null},$8:function(){var e={};for(var jt=0;jt<fx.$6.length;jt++){var ju=fx.$6[jt];if(ju===6&&ss.isValue(this.$i)&&ss.getKeyCount(this.$i)>0){this.$h[6]=this.$h[6]||[];var jv=_.keys(this.$i);for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];this.$h[6].push(this.$i[jx])}this.$i=null}var jy=this.$h[ju];if(ss.isNullOrUndefined(jy)){continue}var jz=jy.length;var jA=fx.$5[ju];var jB=0;if(jA.item1===-1){jB=jz}else{var jC=jA.item2*jz;if(jA.item1<jC){var jD=0;for(var jE=0;jE<jy.length;jE++){var jF=jy[jE];if(ss.isValue(jF)){++jD}}jB=Math.floor(jC);if(jD%jB>0){jB=jB+1}}else{jB=jA.item1}}var jG=0;var jH=0;while(jG<jB&&jH<jz){var jI=jy[jH];jy[jH]=null;jH++;if(ss.isNullOrUndefined(jI)){continue}if(fx.$2(jI.jAM)){var jJ=jI.AVP;if(ss.isValue(this.$i)&&ss.keyExists(this.$i,jJ)){var jK=this.$i[jJ];delete this.$i[jJ];delete this.$n[jK.BCp];e[jK.BCp.toString()]=jK}}delete this.$n[jI.BCp];var jL=this.$o[jI.BCp];if(ss.isValue(jL)){delete this.$o[jI.BCp];this.$j=this.$j||{};this.$j[jI.BCp]=jL.get_model()}e[jI.BCp.toString()]=jI;++jG}if(jH===jz){this.$h[ju]=null}break}return e},$9:function(e){if(ss.isNullOrUndefined(this.$m)){var jt=new tab.WindowHelper(window.self);var ju=jt.get_innerWidth();var jv=jt.get_innerHeight();var jw=jt.get_pageXOffset();var jx=jt.get_pageYOffset();this.$m={x:jw,y:jx,w:ju,h:jv}}var jy={x:e.thj,y:e.RAC,w:e.rec,h:e.EUR};return tab.RectXYUtil.intersectsWith(jy,this.$m)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var jt=tab.MiscUtil.cloneObject(this.$l);fx.getZoneRoot(jt).HCq=e;return jt},$d:function(){var e=tab.FeatureParamsLookup.getInt(39);if(ss.isValue(e)){this.$k=window.setTimeout(ss.mkdel(this,this.$a),ss.unbox(e))}else{this.$k=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$a()}))}},$a:function(){var e=this.$0();var jt=this.get_hasZonesToLoad();if(jt){this.$d()}this.$7(e,!jt);if(!jt){this.$6();this.$c()}},$7:function(e,jt){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,jt)}},$6:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var jt=fx.getZoneRoot(e);if(ss.isNullOrUndefined(jt)&&ss.isNullOrUndefined(this.$l)){return null}this.$2(e);return jt},$5:function(e){if(ss.isNullOrUndefined(e)){return null}fx.$1();this.$n={};this.$h={};this.$o={};var jt=_.keys(e);for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];var jw=e[jv];if(!ss.contains(fx.zonesThatDeferContentCreation,jw.jAM)){continue}var jx=fx.cloneZone(jw);jw=fx.removeZoneContent(jw);if(jx.jAM==='viz'){this.$n[jv]=jx}var jy=5;if(ss.keyExists(fx.$7,jx.jAM)){jy=fx.$7[jx.jAM]}this.$h[jy]=this.$h[jy]||[];this.$h[jy].push(jx)}return e},$b:function(){if(ss.isNullOrUndefined(this.$h)||this.$g){return}this.$i=this.$i||{};for(var e=0;e<fx.$6.length;e++){var jt=fx.$6[e];if(jt===6){continue}var ju=this.$h[jt];if(ss.isNullOrUndefined(ju)||ju.length===0){continue}var jv=0;var jw=new Array(ju.length);for(var jx=0;jx<ju.length;jx++){var jy=ju[jx];if(this.$9(jy)){jw[jv]=jy;jv++}else if(jy.jAM==='viz'){this.$i[jy.AVP]=jy}else{this.$h[6]=this.$h[6]||[];this.$h[6].push(jy)}}if(jv>0){jw.length=jv;this.$h[jt]=jw}else{this.$h[jt]=null}}this.$g=true},$f:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var jt=e.length;var ju={};var jv=new Array(jt);for(var jw=0;jw<jt;jw++){var jx=e[jw];var jy=jx.RAC*5000+jx.thj;while(ss.isValue(ju[jy])){jy+=1}ju[jy]=jx;jv[jw]=jy}jv=jv.sort(function(jC,jD){return((jC>jD)?1:-1)});for(var jz=0;jz<jt;jz++){var jA=jv[jz];var jB=ju[jA];e[jz]=jB}return e},$e:function(){if(ss.isNullOrUndefined(this.$h)){return}for(var e=0;e<fx.$6.length;e++){var jt=fx.$6[e];if(jt===6){continue}var ju=this.$h[jt];this.$h[jt]=this.$f(ju)}},$3:function(e){var jt=eU.findContentDashboard();var ju=new jr(jt.zonesModel,jt,e.BCp);ju.update(e,fa.get_noopContext());this.$o[e.BCp]=ju;return ju},$1:function(e,jt,ju){var jv=this.$o[e.BCp]||this.$3(e);var jw=fx.cloneZone(jt);jv.update(jw,ju);return jw},$2:function(e){if(ss.isNullOrUndefined(e)){return}var jt=this.$l;var ju=e;var jv=null;this.$l=fx.$0(ju,jt);jv=this.$l;ju=ju.res;jt=(ss.isNullOrUndefined(jt)?null:jt.res);jv.res=fx.$0(ju,jt);if(ss.isNullOrUndefined(ju)){return}jv=jv.res;ju=ju.mmK;jt=(ss.isNullOrUndefined(jt)?null:jt.mmK);jv.mmK=fx.$0(ju,jt);if(ss.isNullOrUndefined(ju)){return}if(e.res.mmK.Jqz){jv=jv.mmK;ju=ju.HCq;jt=(ss.isNullOrUndefined(jt)?null:jt.HCq);var jw=null;var jx='';if(ss.isValue(ju)){var jy=ju;var jz=_.keys(jy);for(var jA=0;jA<jz.length;jA++){var jB=jz[jA];if(jy[jB].jAM!=='flipboard'){continue}jw=jy[jB];jx=jB;break}}if(ss.isNullOrUndefined(jw)){jv.HCq=jt;return}jv.HCq={};jv.HCq[jx]=ft.cloneObjWithScalarsOnly(jw);jv=jv.HCq[jx];ju=ju[jx].wqq;jt=(ss.isNullOrUndefined(jt)?null:jt[jx].wqq);jv.wqq=fx.$0(ju,jt);if(ss.isNullOrUndefined(ju)){return}jv=jv.wqq;ju=ju['XIo'];jt=(ss.isNullOrUndefined(jt)?null:jt['XIo']);jv['XIo']=fx.$0(ju,jt);if(ss.isNullOrUndefined(ju)){return}var jC=ju.P_I;jv=jv['XIo'];ju=ju.stK;jt=(ss.isNullOrUndefined(jt)?null:jt.stK);jv.stK=fx.$0(ju,jt);if(ss.isNullOrUndefined(ju)){return}jv=jv.stK;ju=ju[jC.toString()];jt=(ss.isNullOrUndefined(jt)?null:jt[jC.toString()]);jv[jC.toString()]=fx.$0(ju,jt);if(ss.isNullOrUndefined(ju)){return}jv=jv[jC.toString()];ju=ju.mmK;jt=(ss.isNullOrUndefined(jt)?null:jt.mmK);jv.mmK=fx.$0(ju,jt)}}});ss.initClass(fy,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)){return}dq.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,jt)}},eR);ss.initClass(fz,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var jt=true;if(ss.isValue(this.$1)){jt=jt&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){jt=jt&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return jt}});ss.initClass(fA,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$2().D_I},get_zoneHasTitle:function(){return this.parent.get_zone().get_hasTitle()},get_titleCaption:function(){return this.$2().jOs.CST02},get_titleHtml:function(){return this.$2().jOs.xBc},get_titleHeight:function(){return this.$2().jOs.EUR},get_itemsHeight:function(){return this.$2().$tN},get_itemsFontName:function(){return this.$2().mCc.sGS.toString()},get_itemsFontSize:function(){return this.$2().mCc.Qvi+'pt'},get_itemsTextColor:function(){return this.$2().mCc.YhU},get_itemsFontWeight:function(){return this.$2().mCc.cjf},get_itemsFontStyle:function(){return this.$2().mCc.BxQ},get_itemsTextDecoration:function(){return this.$2().mCc.zwp},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.rPC.eBu},get_visualId:function(){var e=this.parent;return eU.getVisualId(e.get_zone().pm.Gge)},get_fieldName:function(){return this.$2().ps$.HBp02},$2:function(){return this.pm},update:function(e,jt){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){dq.notifyFontsFromTextStylePresModel(e.mCc)}this.swapAndCopyPresModel(e);if(e.ps$.VOu!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.ps$));this.set_quickFilterType(e.ps$.VOu)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.ps$,jt)}this.raiseEvent(this.$2$1,jt)}},$1:function(e){switch(e.VOu){case'categorical':{return new bk(this)}default:{return null}}}},eR);ss.initClass(fC,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().uwy},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().Qvi},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().Wec},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().v_N},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().EUR},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().rec},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fDh},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().vZo},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().nKM},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().goC},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().zIs},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().FRN},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().QFu},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().hlO},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},eR);ss.initClass(fE,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().weN},get_rankTypeCaptions:function(){return this.$1().QIk},get_rankTypeIndex:function(){return this.$1().SWx},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().JGE},get_sortDirectionValues:function(){return this.$1().GJK02},get_sortDirectionCaptions:function(){return this.$1().sxj},get_sortDirectionIndex:function(){return this.$1().HcK},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,jt){this.simpleSwapToUpdate(e,this.$3$1,jt)}},ix);ss.initClass(fF,a,{setRange:function(e,jt){this.type=1;this.range=e;this.checkState=jt},setSingle:function(e,jt){this.type=0;this.index=e;this.checkState=jt}});ss.initClass(fG,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_refBandPresModel:function(){return this.pm},get_refLineId:function(){return this.get_refBandPresModel().hGF||''},get_pairedId:function(){return this.get_refBandPresModel().wal||''},get_visualId:function(){return this.get_refBandPresModel().J_M},get_referenceParam:function(){return this.get_refBandPresModel().ltC||''},get_instantAnalyticsEnabled:function(){return this.get_refBandPresModel().tDf},get_isInstantAnalyticsAllowed:function(){return this.get_refBandPresModel().xHu},get_scopeType:function(){return ss.coalesce(this.get_refBandPresModel().CAX,'per-pane')},get_fromLabelType:function(){return ss.coalesce(this.get_refBandPresModel().Fj,'automatic')},get_toLabelType:function(){return ss.coalesce(this.get_refBandPresModel().wQb,'automatic')},get_fromCustomLabel:function(){return this.get_refBandPresModel().pHt||''},get_toCustomLabel:function(){return this.get_refBandPresModel().gjX||''},get_validFormulaTypes:function(){return this.$2$2},set_validFormulaTypes:function(e){this.$2$2=e},get_validPairedFormulaTypes:function(){return this.$2$3},set_validPairedFormulaTypes:function(e){this.$2$3=e},get_validLabelTypes:function(){var e=[];if(ss.isNullOrUndefined(this.get_refBandPresModel().Uzh)){return e}var jt=this.get_refBandPresModel().Uzh;for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];e.push({key:jv.Fj,value:jv.MzX})}return e},get_validCustomLabelTags:function(){var e=[];if(ss.isNullOrUndefined(this.get_refBandPresModel().ZfF)){return e}var jt=this.get_refBandPresModel().ZfF;for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];e.push(jv)}return e},get_fromFormulaType:function(){return ss.coalesce(this.get_refBandPresModel().lqd,'min')},get_toFormulaType:function(){return ss.coalesce(this.get_refBandPresModel().fuT,'max')},get_fromFieldPickerCombo:function(){return this.$2$4},set_fromFieldPickerCombo:function(e){this.$2$4=e},get_toFieldPickerCombo:function(){return this.$2$5},set_toFieldPickerCombo:function(e){this.$2$5=e},get_fromConstantValue:function(){return this.get_refBandPresModel().is$||''},get_toConstantValue:function(){return this.get_refBandPresModel().GXD||''},get_fromFormattedConstantValue:function(){return this.get_refBandPresModel().ybD||''},get_toFormattedConstantValue:function(){return this.get_refBandPresModel().LFt||''},get_isParameterSelectedOnTo:function(){return this.get_refBandPresModel().qrf},get_isParameterSelectedOnFrom:function(){return this.get_refBandPresModel().BtS},$1:function(e){var jt=[];if(ss.isNullOrUndefined(e)){return jt}return jt.concat.apply(jt,e)},update:function(e,jt){if(ss.isValue(e)){this.get_fromFieldPickerCombo().update(e.TkR,jt);this.get_toFieldPickerCombo().update(e.gIj,jt);this.set_validFormulaTypes(this.$1(e.dcD));this.set_validPairedFormulaTypes(this.$1(e.yEp))}this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(fH,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_activePane:function(){return this.$2$2},set_activePane:function(e){this.$2$2=e},get_activeModel:function(){return this.$2$3},set_activeModel:function(e){this.$2$3=e},get_lineModel:function(){return this.$2$4},set_lineModel:function(e){this.$2$4=e},get_bandModel:function(){return this.$2$5},set_bandModel:function(e){this.$2$5=e},get_distributionModel:function(){return this.$2$6},set_distributionModel:function(e){this.$2$6=e},get_editorPresModel:function(){return this.pm},get_isEditing:function(){return ss.isValue(this.get_activeModel())},get_notificationId:function(){return'D$L'},onNotify:function(e,jt){this.update(e,jt)},update:function(e,jt){this.swapAndCopyPresModel(e);this.set_activePane(ss.coalesce(e.iCj,this.get_activePane()));switch(this.get_activePane()){case'none':{this.set_activeModel(null);break}case'line':{this.set_activeModel(this.get_lineModel());break}case'band':{this.set_activeModel(this.get_bandModel());break}case'distribution':{this.set_activeModel(this.get_distributionModel());break}default:{break}}this.get_lineModel().update(e.vsM,jt);this.get_bandModel().update(e.UOR,jt);this.get_distributionModel().update(e.xkU,jt);this.raiseEvent(this.$2$1,jt)}},eR,[em]);ss.initClass(fI,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_refLinePresModel:function(){return this.pm},get_refLineId:function(){return this.get_refLinePresModel().hGF||''},get_visualId:function(){return this.get_refLinePresModel().J_M},get_scopeType:function(){return ss.coalesce(this.get_refLinePresModel().CAX,'per-pane')},get_labelType:function(){return ss.coalesce(this.get_refLinePresModel().Fj,'automatic')},get_customLabel:function(){return this.get_refLinePresModel().pHt||''},get_formulaType:function(){return ss.coalesce(this.get_refLinePresModel().lqd,'average')},get_validFormulaTypes:function(){return this.$2$2},set_validFormulaTypes:function(e){this.$2$2=e},get_validLabelTypes:function(){var e=[];if(ss.isNullOrUndefined(this.get_refLinePresModel().Uzh)){return e}var jt=this.get_refLinePresModel().Uzh;for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];e.push({key:jv.Fj,value:jv.MzX})}return e},get_validCustomLabelTags:function(){var e=[];if(ss.isNullOrUndefined(this.get_refLinePresModel().ZfF)){return e}var jt=this.get_refLinePresModel().ZfF;for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];e.push(jv)}return e},get_fieldPickerCombo:function(){return this.$2$3},set_fieldPickerCombo:function(e){this.$2$3=e},get_confidenceLevelCombo:function(){return this.$2$4},set_confidenceLevelCombo:function(e){this.$2$4=e},get_formattedConstantValue:function(){return this.get_refLinePresModel().ybD||''},get_isConfidenceIntervalAllowed:function(){return this.get_refLinePresModel().jQO},get_isInstantAnalyticsAllowed:function(){return this.get_refLinePresModel().xHu},get_confidenceIntervalSelectedState:function(){return this.get_refLinePresModel().ZUb},get_confidenceIntervalStates:function(){var e=[];if(ss.isNullOrUndefined(this.get_refLinePresModel().rpZ)){return e}var jt=this.get_refLinePresModel().rpZ;for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];e.push({key:jv.ll,value:jv.MzX})}return e},get_instantAnalyticsEnabled:function(){return this.get_refLinePresModel().tDf},get_isParameterSelected:function(){return this.get_refLinePresModel().fQh},$1:function(e){var jt=[];if(ss.isNullOrUndefined(e)){return jt}return jt.concat.apply(jt,e)},update:function(e,jt){if(ss.isValue(e)){this.get_fieldPickerCombo().update(e.TkR,jt);this.get_confidenceLevelCombo().update(e.cuz,jt);this.set_validFormulaTypes(this.$1(e.dcD))}this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(fJ,a,{get_columns:function(){return this.$1},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,jt){this.swapAndCopyPresModel(e);this.$1=jt}},de);ss.initClass(fK,a,{invoke:function(){return this.invoke$1(bS.newCommand('release-component',this.c))}},ss.makeGenericType(O,[Object,fL]));ss.initClass(fL,a,{});ss.initClass(fM,a,{},bt);ss.initClass(fN,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(fO,a,{invoke:function(){return this.invoke$1(bS.newCommand('reset-categorical-color-map',this.c))}},ss.makeGenericType(O,[Object,fP]));ss.initClass(fP,a,{});ss.initClass(fQ,a,{invoke:function(){return this.invoke$1(bS.newCommand$1('resize-axis-region',this.c))}},ss.makeGenericType(O,[Object,fR]));ss.initClass(fR,a,{});ss.initClass(fS,a,{invoke:function(){return this.invoke$1(bS.newCommand$1('resize-header-region',this.c))}},ss.makeGenericType(O,[Object,fT]));ss.initClass(fT,a,{});ss.initClass(fU,a,{},ss.makeGenericType(iZ,[Object,fV]));ss.initClass(fV,a,{});ss.initClass(fW,a,{},ss.makeGenericType(iZ,[Object,fX]));ss.initClass(fX,a,{});ss.initClass(fY,a,{add_showDialog:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_showDialog:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_datasourceId:function(){return this.$1().pAb.UyO02},get_datasourceCaption:function(){return this.$1().pAb.Fnn},get_notificationId:function(){return'pnJ'},$1:function(){return this.pm},onNotify:function(e,jt){this.swapPresModel(e);this.raiseEvent(this.$2$1,jt)}},eR,[em]);ss.initClass(fZ,a,{});ss.initClass(ga,a,{});ss.initClass(gb,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().imC},get_paneIndex:function(){return this.get_sceneElementPM().hJq},get_tupleId:function(){return this.get_sceneElementPM().OBN},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().oqX},get_detail:function(){return this.get_sceneElementPM().NtP},get_hitType:function(){return this.get_sceneElementPM().FCs},get_detailId:function(){return this.get_sceneElementPM().ATa},get_cellId:function(){return this.get_sceneElementPM().OCD},get_worldOffset:function(){return this.get_sceneElementPM().kAz},get_markState:function(){return this.get_sceneElementPM().cwS},get_hitDistance:function(){return this.get_sceneElementPM().JWU},get_overlayHit:function(){return this.get_sceneElementPM().GN_}},eR);ss.initClass(gc,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$8},get_refLineVisualLists:function(){return this.$6},get_trendLineVisualLists:function(){return this.$7},get_drawFirstParts:function(){return this.$4},get_drawLastParts:function(){return this.$5},get_backgroundColor:function(){return this.$3},get_paneDescriptorCount:function(){return ss.getKeyCount(this.pm.ObZ)},update:function(e,jt){if(ss.isValue(e.QV$)){L.get_instance().get_shapeManager().updateCustomImageMap(e.QV$)}this.$2(e);if(ss.isValue(e.KCi)){ss.clear(this.$4);for(var ju=0;ju<e.KCi.length;ju++){var jv=e.KCi[ju];dq.notifyFontsFromVisualListPresModel(jv);var jw=jv.oqX;if(!ss.keyExists(this.$8,jw)){this.$8[jw]=new iL(this)}if(ss.contains(this.$4,jw)){continue}this.$4.push(jw);this.$8[jw].update(jv,jt)}}if(ss.isValue(e.lb_)){ss.clear(this.$5);for(var jx=0;jx<e.lb_.length;jx++){var jy=e.lb_[jx];dq.notifyFontsFromVisualListPresModel(jy);var jz=jy.oqX;if(!ss.keyExists(this.$8,jz)){this.$8[jz]=new iL(this)}this.$5.push(jz);this.$8[jz].update(jy,jt)}}if(ss.isValue(e.HUq)){for(var jA=0;jA<e.HUq.length;jA++){var jB=e.HUq[jA];for(var jC=0;jC<jB.MdI.length;jC++){var jD=jB.MdI[jC];dq.notifyFontsFromVisualListPresModel(jD)}}}if(ss.isValue(e.ObZ)){var jE=_.values(e.ObZ);for(var jF=0;jF<jE.length;jF++){var jG=jE[jF];if(ss.isValue(jG)){dq.notifyFontsFromPDMarksPresModel(jG)}}}var jH=ss.isNullOrUndefined(e.$Ww);this.swapAndCopyPresModel(e);if(jH){this.pm.$Ww=null}this.$3=gc.$0(this.$8,e);this.$1();this.raiseEvent(this.$2$1,jt)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(){ss.clear(this.$6);ss.clear(this.$7);if(ss.isValue(this.pm.HUq)){for(var e=0;e<this.pm.HUq.length;e++){var jt=this.pm.HUq[e];if(ss.isValue(jt.MdI)){for(var ju=0;ju<jt.MdI.length;ju++){var jv=jt.MdI[ju];if(ss.isValue(jv)){if(jv.oqX==='ref-lines'){this.$6.push(jv)}else if(jv.oqX==='trend-lines'){this.$7.push(jv)}}}}}}},$2:function(e){var jt=new ss.ObjectEnumerator(this.get_visualListModels());try{while(jt.moveNext()){var ju=jt.current();var jv={$:ju.key};var jw=_.find(e.KCi,ss.mkdel({currentPart:jv},function(jx){return this.currentPart.$===jx.oqX}));if(ss.isNullOrUndefined(jw)){jw=_.find(e.lb_,ss.mkdel({currentPart:jv},function(jx){return this.currentPart.$===jx.oqX}))}if(ss.isNullOrUndefined(jw)){delete this.get_visualListModels()[jv.$]}}}finally{jt.dispose()}}},eR);ss.initClass(gd,a,{});ss.initClass(ge,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var jt=0-e.getTimezoneOffset();var ju=0;var jv=this.$9.scheduleDetails.startTime;var jw=0;var jx='';if(tsConfig.display_schedules_in_client_timezone){ju=jt-this.$9.serverTimezoneOffset;jv=ge.$2(this.$9.scheduleDetails.startTime,ju);jw=ge.$0(this.$9.scheduleDetails.startTime,ju)}switch(this.$9.scheduleType){case'Hourly':{jx=this.$2(jv,ju);break}case'Daily':{jx=this.$0(jv);break}case'Weekly':{jx=this.$4(jv,jw);break}case'Monthly':{jx=this.$3(jv,jw);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){jx=tab.Strings.SerialScheduleDescription(jx,tab.Strings.SerialScheduleDescriptionSuffix)}return jx},$7:function(e,jt,ju){var jv=ss.Int32.div(e,60);if(jt===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(jv===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),ge.$1(ju))}}else if(jt===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(jv===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(jt)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(jv,ge.$1(ju))}}else if(jt===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(jv===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(jt)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(jv,ge.$1(ju))}}else if(jt===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(jv===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(jt)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(jv,ge.$1(ju))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+jt)}},$2:function(e,jt){var ju=(this.$9.scheduleDetails.endTime+jt)%1440;if(e===ju){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var jv;if(this.$9.scheduleDetails.recurrenceMinutes<60){jv=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){jv=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{jv=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(jv,ge.$1(e),ge.$1(ju))},$0:function(e){return tab.Strings.ScheduleDailyDescription(ge.$1(e))},$4:function(e,jt){var ju=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(jt!==0){ju=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,jt)}var jv=this.$1(ju);return tab.Strings.ScheduleWeeklyDescription(ge.$1(e),jv)},$6:function(e,jt){var ju=[];for(var jv=0;jv<e.length;jv++){var jw=ss.indexOf(ge.$7,e[jv]);var jx=(jw+jt+ge.$7.length)%ge.$7.length;ju.push(ge.$7[jx])}return ju},$1:function(e){switch(e.length){case 1:{return ge.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(ge.$6[e[0]],ge.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(ge.$6[e[0]],ge.$6[e[1]],ge.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(ge.$6[e[0]],ge.$6[e[1]],ge.$6[e[2]],ge.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(ge.$6[e[0]],ge.$6[e[1]],ge.$6[e[2]],ge.$6[e[3]],ge.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(ge.$6[e[0]],ge.$6[e[1]],ge.$6[e[2]],ge.$6[e[3]],ge.$6[e[4]],ge.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(ge.$6[e[0]],ge.$6[e[1]],ge.$6[e[2]],ge.$6[e[3]],ge.$6[e[4]],ge.$6[e[5]],ge.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,jt){var ju=this.$9.scheduleDetails.recurrenceDayOfMonth;if(jt!==0){ju=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,jt)}if(ju==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(ge.$1(e))}else if(ju==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(ge.$1(e))}var jv=ju.charCodeAt(ju.length-1);var jw='';if(jv===49){jw=tab.Strings.FirstEnding(ju)}else if(jv===50&&ju!=='12'){jw=tab.Strings.SecondEnding(ju)}else if(jv===51&&ju!=='13'){jw=tab.Strings.ThirdEnding(ju)}else{jw=tab.Strings.NumberEnding(ju)}return tab.Strings.ScheduleMonthlyDescription(jw,ge.$1(e))},$5:function(e,jt){var ju=new Date;var jv=(new Date(ju.getFullYear(),ju.getMonth()+1,0)).getDate();if(e==='Last'){if(jt>0){return'1'}else if(jt<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&jt<0){return'Last'}var jw=parseInt(e);var jx=(jw+jt+jv)%jv;return jx.toString()}});ss.initClass(gf,a,{});ss.initClass(gg,a,{invoke:function(){return this.invoke$1(bS.newCommand('select-by-tuple-value',this.c))}},ss.makeGenericType(O,[Object,gh]));ss.initClass(gh,a,{});ss.initClass(gi,a,{});ss.initClass(gj,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$4)){var e={};e.coe='tuples';e.kyj=this.$4;return e}return this.$3()},get_selectionType:function(){return this.$3().coe},get_nodes:function(){return this.$3().p$U},get_ids:function(){if(ss.isValue(this.$4)){return this.$4}return this.$3().kyj},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().VNi.jhL+':'+this.get_selectionPresModel().VNi.pMg.join(';')}return e},$3:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$3())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$5)){this.$5={};if(ss.isValue(this.get_ids())){var jt=this.get_ids();for(var ju=0;ju<jt.length;ju++){var jv=jt[ju];this.$5[jv]=true}}}return ss.keyExists(this.$5,e.YLs)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty){return false}return ss.isValue(this.$1(e.ZHX,e.wwF))},findNodeSelection:function(e){return this.$1(e.ZHX,e.wwF)},isNodeAncestorSelected:function(e,jt){if(ss.isNullOrUndefined(e.ZHX)||ss.isNullOrUndefined(e.wwF)){return false}var ju=(jt?0:1);for(var jv=1;jv<e.ZHX.length;jv++){var jw=ss.arrayExtract(e.ZHX,jv);var jx=ss.arrayExtract(e.wwF,jv-ju);if(ss.isValue(this.$1(jw,jx))){return true}}return false},setOverriddenTupleIds:function(e,jt){if(this.$3().coe!=='tuples'){return}if(_.isEqual(this.$4,e)||tab.MiscUtil.isNullOrEmpty(this.$4)&&tab.MiscUtil.isNullOrEmpty(e)){return}this.$4=e;this.$2();this.raiseEvent(this.$2$1,jt)},update:function(e,jt){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$4)){return}this.$6=null;this.$5=null;this.$4=null;this.swapAndCopyPresModel(e);this.$2();this.raiseEvent(this.$2$1,jt)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var jt=e;if(jt.coe!==this.get_selectionPresModel().coe){return false}if(ss.isValue(jt.kyj)&&!_.isEqual(jt.kyj,this.get_selectionPresModel().kyj)){return false}if(ss.isValue(jt.p$U)&&!_.isEqual(jt.p$U,this.get_selectionPresModel().p$U)){return false}if(ss.isValue(jt.VNi)&&!_.isEqual(jt.VNi,this.get_selectionPresModel().VNi)){return false}return true},$1:function(e,jt){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(jt)){return null}if(ss.isNullOrUndefined(this.$6)){this.$6={};var ju=this.$3();if(ss.isValue(ju.p$U)){for(var jv=0;jv<ju.p$U.length;jv++){var jw=ju.p$U[jv];this.$6[gj.$0(jw.ZHX,jw.wwF)]=jw}}}if(ss.getKeyCount(this.$6)===0){return null}return this.$6[gj.$0(e,jt)]},createSelectionToken:function(){return this.get_selectionPresModel()},$2:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty(this.get_ids())&&tab.MiscUtil.isNullOrEmpty(this.$3().p$U)}},eR);ss.initClass(gk,a,{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}});ss.initEnum(gl,a,{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});ss.initClass(gm,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var jt=this.selectionModels[e];if(!jt.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var jt=this.selectionModels[e];if(!jt.isEmpty&&jt.get_selectionType()!=='legend-items'&&jt.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(go.isCategoricalAndTupleAssociatedHeader(ju.ZHX,ju.wwF)){return true}}return false},getLegendSelection:function(e,jt){var ju=_.find(this.selectionModels,function(jv){return jv.get_selectionType()==='legend-items'&&ss.isValue(jv.get_selectionPresModel())&&jv.get_selectionPresModel().VNi.jhL===e&&_.isEqual(jv.get_selectionPresModel().VNi.pMg,jt)});if(ss.isNullOrUndefined(ju)){ju=this.$1('legend-items',fa.get_noopContext());ju.get_selectionPresModel().VNi.jhL=e;ju.get_selectionPresModel().VNi.pMg=jt}return ju},update:function(e,jt){var ju=_.compact(e);var jv=[];var jw=[];for(var jx=0;jx<ju.length;jx++){var jy=ju[jx];var jz;if(jy.coe==='legend-items'){jz=this.getLegendSelection(jy.VNi.jhL,jy.VNi.pMg)}else{jz=this.$2(jy.coe)}if(ss.isNullOrUndefined(jz)){jz=new gj(this,this.selectionModels.length);this.selectionModels.push(jz)}var jA=parseInt(jz.presModelKey.name);jv[jA]=jy;jz.update(jy,jt);jw.push(jz.get_hashKey())}for(var jB=0;jB<this.selectionModels.length;jB++){var jC=this.selectionModels[jB];if(ss.contains(jw,jC.get_hashKey())){continue}var jD=gm.$1(jC.get_selectionType());if(jD.coe==='legend-items'){jD.VNi=jC.get_selectionPresModel().VNi}jC.update(jD,jt);var jE=parseInt(jC.presModelKey.name);jv[jE]=jC.get_selectionPresModel()}for(var jF=0;jF<jv.length;++jF){e[jF]=jv[jF]}var jG=new gn;jG.selections=e;if(this.isNewPresModelSameAsOld(jG)){return}this.swapAndCopyPresModel(jG);this.raiseEvent(this.$2$1,jt)},$2:function(e){return _.find(this.selectionModels,function(jt){return jt.get_selectionType()===e})},$1:function(e,jt){var ju=new gj(this,this.selectionModels.length);this.selectionModels.push(ju);var jv=gm.$1(e);ju.update(jv,jt);return ju},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,jt,ju){if(ss.isNullOrUndefined(e)){return new gk(true,1,null)}var jv=gk.noDifference();for(var jw=0;jw<e.selections.length;jw++){var jx=e.selections[jw];switch(jx.coe){case'ref-lines':case'trend-lines':{var jy=jx.kyj||[];var jz=gm.$0(jy,this.$2(jx.coe).get_ids());if(jz.length>0){return new gk(true,3,null)}break}case'tuples':{var jA=jx.kyj;var jB=this.tupleSelection.get_ids();var jC=(ss.isValue(jt)?jt.kyj:[]);var jD=(ss.isValue(ju)?ju.get_ids():[]);var jE=jA.length+jC.length!==0!==(jB.length+jD.length!==0);if(jE){return new gk(true,2,null)}var jF=gm.$0(jA,jB);var jG=gm.$0(jC,jD);var jH=[];ss.arrayAddRange(jH,jF);ss.arrayAddRange(jH,jG);jv=new gk(false,2,Array.prototype.slice.call(jH));break}default:{break}}}return jv},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(jt){return jt.coe==='tuples'&&jt.kyj.length>0})}},eR);ss.initClass(gn,a,{});ss.initClass(go,a,{});ss.initClass(gp,a,{invoke:function(){return this.invoke$1(bS.newCommand('select-zone-parent',this.c))}},ss.makeGenericType(O,[Object,gq]));ss.initClass(gq,a,{});ss.initClass(gr,a,{});ss.initClass(gs,a,{});ss.initClass(gt,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,jt){try{if(ss.isValue(this.$2)){this.$2(e,jt)}}finally{this.$0()}},onSuccess:function(e,jt,ju){try{var jv=ss.isInstanceOfType(e,Error);if(jv){this.$5.$6(e,ju,false,null)}else if(ju.status===202){var jw=ju['args'];var jx=new gu(this.$5,jw);jx.requestStatus();jv=true}if(!jv){if(ss.isValue(this.$4)){this.$4(e,jt,ju)}}}finally{this.$0()}},onError:function(e,jt,ju){try{if(ss.isValue(this.$3)){this.$3(e,jt,ju)}else{this.$5.$6(ju,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(gu,a,{requestStatus:function(){var e=ss.mkdel(this,function(jw,jx,jy){this.$1(jx,jy)});var jt=ss.mkdel(this,function(jw,jx,jy){this.$0(jw,jx)});var ju=new gt(this.$8,null,e,jt,false,false);var jv={};jv.type='GET';jv.url=this.$9;jv.cache=false;jp.helper(jv,ju)},$1:function(e,jt){if(jt.status===204){this.$6=true}this.$2(e,jt)},$0:function(e,jt){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,jt)}},$2:function(e,jt){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var ju=this.$5['skipResendOriginal'];if(ss.isValue(ju)&&ju){if(ss.isValue(this.$5.complete)){this.$5.complete(jt,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}jp.helper(this.$5)}});ss.initClass(gv,a,{});ss.initClass(gw,a,{});ss.initClass(gx,a,{});ss.initClass(gy,a,{invoke:function(){return this.invoke$1(bS.newCommand('set-categorical-item-colors',this.c))}},ss.makeGenericType(O,[Object,gz]));ss.initClass(gz,a,{});ss.initClass(gA,a,{invoke:function(){return this.invoke$1(bS.newCommand('set-categorical-legend-item-color',this.c))}},ss.makeGenericType(O,[Object,gB]));ss.initClass(gB,a,{});ss.initClass(gC,a,{invoke:function(){return this.invoke$1(bS.newCommand('set-dashboard-current-layout',this.c))}},ss.makeGenericType(O,[Object,gD]));ss.initClass(gD,a,{});ss.initClass(gE,a,{invoke:function(){return this.invoke$1(bS.newCommand('set-dashboard-sizing-with-validation',this.c))}},ss.makeGenericType(O,[Object,gF]));ss.initClass(gF,a,{});ss.initClass(gG,a,{invoke:function(){return this.invoke$1(bS.newCommand('set-selected-legend-items',this.c))}},ss.makeGenericType(O,[Object,gH]));ss.initClass(gH,a,{});ss.initClass(gI,a,{invoke:function(){return this.invoke$1(bS.newCommand('set-variables-prompt-responded',this.c))}},ss.makeGenericType(O,[Object,gJ]));ss.initClass(gJ,a,{});ss.initClass(gK,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$2)},getImageElement:function(e){return this.$2[e]},getCachedCanvas:function(e){return this.$1[e]},generateCachedCanvas:function(e,jt){var ju=null;if(ss.isValue(jt)){ju=jt();if(ss.isValue(ju)){this.$1[e]=ju}}return ju},getCachedStampCanvas:function(e){return this.$3[e]},generateCachedStampCanvas:function(e,jt){var ju=null;if(ss.getKeyCount(this.$3)<gK.$1){if(ss.isValue(jt)){ju=jt();if(ss.isValue(ju)){this.$3[e]=ju}}}return ju},updateCustomImageMap:function(e){for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(ss.isValue(ju)){var jv={$:ju.Yi};var jw=jv.$.toString();var jx=null;var jy={$:false};if(ss.keyExists(this.$2,jw)){jy.$=true;jx=this.$2[jw]}var jz=ju.Gqc;var jA={$:document.createElement('img')};jA.$.src='data:image/png;base64,'+jz;if(!jy.$||ss.isValue(jx)&&jA.$.height>jx.height&&jA.$.width>jx.width){this.$2[jw]=jA.$;var jB={$:null};jB.$=ss.thisFix(ss.mkdel({doesMapContainImage:jy,shapeId:jv,imgElt:jA,imageFinishedLoad:jB,$this:this},function(){if(this.doesMapContainImage.$){ss.clearKeys(this.$this.$1)}this.$this.$0(this.shapeId.$);this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)}));jA.$.addEventListener('load',jB.$,false)}}}},hasShape:function(e){return ss.keyExists(this.$2,e.toString())&&this.$2[e.toString()].complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$3)}});ss.initClass(gL,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(gM,a,{});ss.initClass(gN,a,{get_isDashboard:function(){return this.pm.WeS},get_isIncluded:function(){return this.pm.RuK},get_name:function(){return this.pm.dMo02},update:function(e){this.swapAndCopyPresModel(e)}},eR);ss.initClass(gO,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,jt){if(ss.isValue(e.xl_)){this.$2=[];for(var ju=0;ju<e.xl_.length;ju++){var jv=new gN(this.$1,ju);jv.update(e.xl_[ju]);this.$2.push(jv)}}this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(gP,a,{get_visualId:function(){return eU.getVisualId(this.sheetId)},requestHSMChildren:function(e,jt,ju,jv){if(!tsConfig.allow_filter){return}var jw=function(jC,jD,jE){ju(jC)};var jx=this.$0(null,jw,null,'none');var jy=new Object;jy['name']='file';jy['filename']='file';jy['contentType']='text/javascript';jy['content']=JSON.stringify(jt);var jz=ss.mkdict(['_method','PUT']);var jA=jp.getMultipartData(jy,jz);var jB={};jB.type='POST';jB.url=this.formatFilterReference(this.sheetId,e,'show_children');jB.dataType='json';jB.contentType='multipart/form-data; boundary='+jA.header;jB.data=jA.body;this.$b(jB,jx)},getFilterItems:function(e,jt,ju,jv,jw){if(!tsConfig.allow_filter){return}var jx=function(jB,jC,jD){jv(jB)};var jy=this.$0(null,jx,null,'none');var jz={};jz['fromIndex']=ju.get_from();jz['toIndex']=ju.get_to();jz['domain']=jt;var jA=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));jA.data=jz;this.$b(jA,jy)},searchFilter:function(e,jt,ju,jv,jw,jx,jy){if(!tsConfig.allow_filter){return null}var jz=function(jF,jG,jH){var jI=jF;jx(jI)};var jA=function(jF,jG,jH){jy(jH)};var jB=this.$0(null,jz,jA,'none');var jC=(jv?'searchwithindex':'search');var jD=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,jC));var jE=ss.mkdict(['query',jt,'maxRows',ju,'domain',jw]);jD.data=jE;return this.$b(jD,jB)}},P);ss.initClass(gQ,a,{});ss.initClass(gR,a,{},eR);ss.initClass(gS,a,{},eR);ss.initClass(gT,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().FsL)?this.$1().FsL:0)},get_shelfType:function(){return this.$1().Ene},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().iHY)},get_isVisible:function(){return this.$1().Ugb},$1:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,jt,ju){if(this.isNewPresModelSameAsOld(e)){return}if(e.zcg===null){this.$2=[]}else if(ss.isValue(e.zcg)){var jv=[];var jw=new gR(this);for(var jx=0;jx<e.zcg.length;jx++){var jy=e.zcg[jx];var jz=jy.HBp02;var jA;if(ss.isNullOrEmptyString(jz)&&e.Ene==='encoding-shelf'){jA=new eZ}else{jA=jt.findField(jz)}if(ss.isNullOrUndefined(jA)){jy.SkN=true}if(jy.SkN){var jB=new dc(jt.findDataSourceFromGlobalFieldName(jz));var jC={VzB:'wAR',HBp02:jz,Mej02:jz,wDF:0};jB.update(jC);jA=jB}var jD=new fq(jw,jx);jD.update(jy,jA);jv.push(jD)}this.$2=jv}this.swapAndCopyPresModel(e);this.raiseEvent$1(gT).call(this,this.$2$1,this,ju)}},eR);ss.initClass(gU,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,jt,ju,jv){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,jt,ju,jv);this.raiseEvent(this.$2$1,jv)},$1:function(e,jt,ju,jv){if(ss.isValue(e)){var jw=ss.arrayClone(this.$3);for(var jx=0;jx<e.PmI.length;jx++){var jy={$:e.PmI[jx]};if(ss.isNullOrUndefined(jy.$.FsL)&&ss.isValue(ju)){jy.$.FsL=ss.unbox(ju)}var jz=_.find(this.$3,ss.mkdel({shelf:jy},function(jC){return jC.get_shelfType()===this.shelf.$.Ene&&jC.get_paneId()===(this.shelf.$.FsL||0)}));if(ss.isValue(jz)){ss.remove(jw,jz);jz.update(jy.$,jt,jv)}else{this.$3.push(gU.createShelfModel(this,jy.$,jt,jx,jv))}}for(var jA=0;jA<jw.length;jA++){var jB=jw[jA];ss.remove(this.$3,jB)}}},$2:function(e,jt){return _.find(e,function(ju){return ju.get_shelfType()===jt})}},eR);ss.initClass(gV,a,{invoke:function(){return this.invoke$1(bS.newCommand('show-caption',this.c))}},ss.makeGenericType(O,[Object,gW]));ss.initClass(gW,a,{});ss.initClass(gX,a,{invoke:function(){return this.invoke$1(bS.newCommand('show-dashboard-title',this.c))}},ss.makeGenericType(O,[Object,gY]));ss.initClass(gY,a,{});ss.initClass(gZ,a,{get_simpleCommand:function(){return this.$0['eDX'.toString()]},set_simpleCommand:function(e){this.$0['eDX'.toString()]=e}});ss.initClass(ha,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.dMo02},get_width:function(){return this.pm.rec},get_height:function(){return this.pm.EUR},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(hb,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,jt){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,jt)}},eR);ss.initClass(hc,a,{});ss.initClass(hd,a,{invoke:function(){return this.invoke$1(bS.newCommand('start-new-data-alert',this.c))}},ss.makeGenericType(O,[Object,he]));ss.initClass(he,a,{});ss.initClass(hf,a,{});ss.initClass(hg,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$3},get_isBackingSheetDashboard:function(){return this.$2().QTm},$2:function(){return this.pm},get_storyPointId:function(){return this.$2().hVl},get_currentSheet:function(){return this.$2().U$A},update:function(e,jt){if(ss.isValue(this.$2())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.hVl)){L.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new fv(e.hVl.toString(),0);if(ss.isValue(this.$3)){this.raiseEvent(this.$2$1,jt);this.$3=null}this.$3=new cg(this);this.$1(e.mmK,jt);this.raiseEvent(this.$2$2,jt)}else{this.$1(e.mmK,jt)}this.swapPresModel(e)},$1:function(e,jt){if(ss.isValue(e)){this.get_dashboardModel().update(e,jt)}}},eR);ss.initClass(hh,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,jt){if(!ss.isValue(this.$1)){this.$1=new hg(this,e.hVl)}this.$1.update(e,jt)}},eR);ss.initClass(hi,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var jt=this.$3.get(e.toString());return jt.$0()},addStoryPoint:function(e,jt){this.$3.add(e.toString(),new v(jt))},$0:function(e){var jt=e.get_worldUpdateCommand();var ju=e.get_applicationPresModel();var jv=e.get_sheetChanged();if(this.$2(ju,jv)){this.$1()}if(!hi.$3(ju)){return}if(!_.contains(hi.$5.value(),jt.commandName)){return}var jw=hi.$1(ju);if(ss.isNullOrUndefined(jw)){return}var jx=jw.hVl.toString();this.$3.add(jx,new v(jw))},$2:function(e,jt){if(hi.$2(e)){return false}if(!e.res.mmK.Jqz||jt){return true}return false},$1:function(){this.$3.clear();hi.$4=null},dispose:function(){this.$1();jn.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(hj,a,{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return ss.coalesce(this.pm,new Object)},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)},get_hasFill:function(){return ss.coalesce(this.$1().iKN,false)},get_fillColor:function(){return ss.coalesce(this.$1().eBu,'rgba(0, 0, 0, 0)')},get_margin:function(){return ss.coalesce(this.$1().GjL,0)},get_marginTop:function(){return ss.coalesce(this.$1().Ymv,this.get_margin())},get_marginLeft:function(){return ss.coalesce(this.$1().Ptr,this.get_margin())},get_marginBottom:function(){return ss.coalesce(this.$1().Cc$,this.get_margin())},get_marginRight:function(){return ss.coalesce(this.$1().YCW,this.get_margin())},get_padding:function(){return ss.coalesce(this.$1().uvy,0)},get_paddingTop:function(){return ss.coalesce(this.$1().zRk1,this.get_padding())},get_paddingLeft:function(){return ss.coalesce(this.$1().zoC,this.get_padding())},get_paddingBottom:function(){return ss.coalesce(this.$1().JBW,this.get_padding())},get_paddingRight:function(){return ss.coalesce(this.$1().oXZ,this.get_padding())},get_borderStyle:function(){return ss.coalesce(this.$1().ysh1,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.$1().feH,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.$1().lSd,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.$1().uCj,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.$1().VKK,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.$1().mjt1,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.$1().efz,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.$1().fUv,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.$1().hVj,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.$1().PtG,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.$1().s$V,0)},get_borderWidthTop:function(){return ss.coalesce(this.$1().Fjz,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.$1().kcp,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.$1().eO$,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.$1().Vbt,this.get_borderWidth())}},eR);ss.initClass(hk,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-add',this.c))}},ss.makeGenericType(O,[Object,hl]));ss.initClass(hl,a,{});ss.initClass(hm,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-change-type',this.c))}},ss.makeGenericType(O,[Object,hn]));ss.initClass(hn,a,{});ss.initClass(ho,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-close',this.c))}},ss.makeGenericType(O,[Object,hp]));ss.initClass(hp,a,{});ss.initClass(hq,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-dialog-activated',this.c))}},ss.makeGenericType(O,[Object,hr]));ss.initClass(hr,a,{});ss.initClass(hs,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-edit',this.c))}},ss.makeGenericType(O,[Object,ht]));ss.initClass(ht,a,{});ss.initClass(hu,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-edit-defaults',this.c))}},ss.makeGenericType(O,[Object,hv]));ss.initClass(hv,a,{});ss.initClass(hw,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-edit-nested',this.c))}},ss.makeGenericType(O,[Object,hx]));ss.initClass(hx,a,{});ss.initClass(hy,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.cMO;this.$0=e.HBp02}});ss.initClass(hz,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().too},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().kPv},get_tableCalcTypeCaptions:function(){return this.$2().ygw},get_tableCalcTypeValues:function(){return this.$2().TR$02},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,jt){var ju=e;if(this.isNewPresModelSameAsOld(ju)){return}this.swapAndCopyPresModel(ju);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(ju.LDF);this.$3.update(ju.xtX,jt);this.$1(jt)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,jt)}this.raiseEvent(this.$2$1,jt)},$1:function(e){var jt=null;var ju=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{jt=cG;ju='_fE'.toString();break}case'pct-total':{jt=fo;ju='oHf'.toString();break}case'rank':case'pct-rank':{jt=fE;ju='jFF'.toString();break}case'cumulative':{jt=cc;ju='Wlk'.toString();break}case'window':{jt=jd;ju='xKN'.toString();break}case'custom':{jt=ce;ju='eTk'.toString();break}default:{break}}if(ss.isNullOrUndefined(jt)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),jt)){this.$4=new jt(this)}this.$4.update(hz.$0(this.$2(),ju),e)}},eR);ss.initClass(hA,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().Hin02},get_orderingTypeIndex:function(){return this.get_ordering().Ok$},get_orderingTypeCaptions:function(){return this.get_ordering().BOC},get_addressingIndexes:function(){return this.get_ordering().RoD},get_addressingInvalidIndexes:function(){return this.get_ordering().kxD},get_addressingCaptions:function(){return this.get_ordering().NXj},get_addressingValues:function(){return this.get_ordering().IuE},get_addressingState:function(){return this.get_ordering().hCr},get_atTheLevelState:function(){return this.get_ordering().OVd},get_atTheLevelCaptions:function(){return this.get_ordering().VLX},get_atTheLevelValues:function(){return this.get_ordering().cHO},get_atTheLevelIndex:function(){return this.get_ordering().KsW},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().uCv},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().veT},get_atTheLevelSpecialCaption:function(){return this.get_ordering().tnI},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().OIM},get_restartEveryCaptions:function(){return this.get_ordering().WJC},get_restartEveryIndex:function(){return this.get_ordering().NaB},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().GDE},get_restartEveryValues:function(){return this.get_ordering().yqF},get_restartEverySpecialCaption:function(){return this.get_ordering().kyd},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().IyP},get_sortAggState:function(){return this.get_ordering().mIX},get_sortModeIsAuto:function(){return this.get_ordering().IHq},get_sortModeCaption:function(){return this.get_ordering().IeG},get_sortField:function(){if(this.get_ordering().IHq){return null}return this.get_ordering().uBB[this.get_ordering().C$V]},get_isSortFieldInvalid:function(){return this.get_ordering().ekT},get_sortFieldCaptions:function(){return this.get_ordering().lAu},get_sortFieldIndex:function(){return this.get_ordering().C$V},get_sortFieldValues:function(){return this.get_ordering().uBB},get_sortAgg:function(){if(this.get_ordering().IHq){return null}return this.get_ordering().kqU02[this.get_ordering().JeY]},get_sortAggCaptions:function(){return this.get_ordering().eLv},get_sortAggIndex:function(){return this.get_ordering().JeY},get_sortAggValues:function(){return this.get_ordering().kqU02},get_sortDirectionValues:function(){return this.get_ordering().GJK02},get_sortDirectionIndex:function(){return this.get_ordering().HcK},get_sortDirectionCaptions:function(){return this.get_ordering().sxj},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new hy(null):this.parent.get_tableCalcIdentifier())},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(hB,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm._LW02},get_relativeCaptions:function(){return this.pm.meB},get_fixedValues:function(){return this.pm.xMY},get_fixedCaptions:function(){return this.pm.oGN},get_paramValues:function(){return this.pm.Wkp},get_paramCaptions:function(){return this.pm.QNO},get_referenceOptionsSets:function(){return this.pm.CrB},get_selectionIndex:function(){return this.pm.RP},get_referenceWidgetState:function(){return this.pm.ngD},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new hy(null):e.get_tableCalcIdentifier())},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(hC,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-addressing-fields',this.c))}},ss.makeGenericType(O,[Object,hD]));ss.initClass(hD,a,{});ss.initClass(hE,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-addressing-fields-order',this.c))}},ss.makeGenericType(O,[Object,hF]));ss.initClass(hF,a,{});ss.initClass(hG,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-at-the-level-field',this.c))}},ss.makeGenericType(O,[Object,hH]));ss.initClass(hH,a,{});ss.initClass(hI,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-compound-rate',this.c))}},ss.makeGenericType(O,[Object,hJ]));ss.initClass(hJ,a,{});ss.initClass(hK,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-cumulative-options',this.c))}},ss.makeGenericType(O,[Object,hL]));ss.initClass(hL,a,{});ss.initClass(hM,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-null-if-incomplete',this.c))}},ss.makeGenericType(O,[Object,hN]));ss.initClass(hN,a,{});ss.initClass(hO,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-ordering-type',this.c))}},ss.makeGenericType(O,[Object,hP]));ss.initClass(hP,a,{});ss.initClass(hQ,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-percent-total-options',this.c))}},ss.makeGenericType(O,[Object,hR]));ss.initClass(hR,a,{});ss.initClass(hS,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-rank-sort-direction',this.c))}},ss.makeGenericType(O,[Object,hT]));ss.initClass(hT,a,{});ss.initClass(hU,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-rank-type',this.c))}},ss.makeGenericType(O,[Object,hV]));ss.initClass(hV,a,{});ss.initClass(hW,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-reference-options',this.c))}},ss.makeGenericType(O,[Object,hX]));ss.initClass(hX,a,{});ss.initClass(hY,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-restart-every-field',this.c))}},ss.makeGenericType(O,[Object,hZ]));ss.initClass(hZ,a,{});ss.initClass(ia,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-sort-aggregation',this.c))}},ss.makeGenericType(O,[Object,ib]));ss.initClass(ib,a,{});ss.initClass(ic,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-sort-direction',this.c))}},ss.makeGenericType(O,[Object,id]));ss.initClass(id,a,{});ss.initClass(ie,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-sort-field',this.c))}},ss.makeGenericType(O,[Object,ig]));ss.initClass(ig,a,{});ss.initClass(ih,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-sort-mode',this.c))}},ss.makeGenericType(O,[Object,ii]));ss.initClass(ii,a,{});ss.initClass(ij,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-set-window-options',this.c))}},ss.makeGenericType(O,[Object,ik]));ss.initClass(ik,a,{});ss.initClass(il,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-toggle-secondary-calc',this.c))}},ss.makeGenericType(O,[Object,im]));ss.initClass(im,a,{});ss.initClass(io,a,{invoke:function(){return this.invoke$1(bS.newCommand('table-calc-toggle-show-calc-assistance',this.c))}},ss.makeGenericType(O,[Object,ip]));ss.initClass(ip,a,{});ss.initClass(iq,a,{});ss.initClass(ir,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.weu},get_html:function(){return this.pm.xBc},get_orientation:function(){return this.pm.JxR},get_styledBox:function(){return this.pm.rPC},get_vAlign:function(){return this.pm.Uec},update:function(e,jt){dq.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(it,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var jt=bQ.create(this.pm.sjb);e=jt.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=bQ.create(this.pm.xvl);return e.get_commandItems()},get_legacyMenuItems:function(){return this.pm.kB},update:function(e,jt){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,jt)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var jt=_.find(this.get_legacyMenuItems(),function(ju){return ju.rhe===e});return ss.isValue(jt)&&_.every(jt.FwB,function(ju){return ju!=='grayed'})}},eR);ss.initClass(iu,a,{});ss.initClass(iv,a,{$0:function(){return this.$1},get_transactedChange:function(){return iv.$0(this.$2)},makeMutablePresModel:function(e,jt){var ju=e.getPresModelPath();for(var jv=0;jv<this.$2.length;jv++){var jw=this.$2[jv];if(_.isEqual(jw.$1(),ju)){return jw.$0()}}var jx=e.getMutableCopyOfPresModel();this.$2.push(new p(ju,jx));if(!jt){this.$1.push(new p(ju,e.pm))}return jx}});ss.initClass(iw,a,{beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new iv(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var jt=e.current();if(!ss.keyExists(this.$0,jt.$1().get_pathAsString())){this.$0[jt.$1().get_pathAsString()]=jt}}}finally{e.dispose()}var ju=this.$1.get_transactedChange();this.$1=null;return ju},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){L.get_instance().update(iv.$0(_.values(this.$0)),e)}}});ss.initClass(iy,a,{});ss.initClass(iz,a,{});ss.initClass(iA,a,{invoke:function(){return this.invoke$1(bS.newCommand('update-data-alert',this.c))}},ss.makeGenericType(O,[Object,iB]));ss.initClass(iB,a,{});ss.initClass(iC,a,{invoke:function(){return this.invoke$1(bS.newCommand('update-reference-line',this.c))}},ss.makeGenericType(O,[Object,iD]));ss.initClass(iD,a,{});ss.initClass(iE,a,{});ss.initEnum(iF,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(iG,a,{});ss.initClass(iH,a,{update:function(e){this.pm=e}},eR);ss.initClass(iI,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$j:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,jt,ju){if(e.useUrl){return this.formatTileURL(e,jt,0,0,'',ju)}return this.$j(jt)+'&'+ju},$i:function(e,jt){var ju='';if(!tab.MiscUtil.isNullOrEmpty$1(jt)){ju='&fn='+encodeURIComponent(jt)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+ju},formatLegendRegionTileURL:function(e,jt,ju,jv,jw){jv=(ss.isNullOrUndefined(jv)?'':jv);if(e.useUrl){return this.formatTileURL(e,jt+jv,0,0,ju,jw)}return this.$i(jt,ju)+'&'+jw},formatTileURL:function(e,jt,ju,jv,jw,jx){if(e.useUrl){var jy=e.url;var jz;if(!tab.MiscUtil.isNullOrEmpty$1(jw)){jz='?fn='+encodeURIComponent(jw)+'&'+jx}else{jz='?='+jx}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(jy,'%SESSIONID%',tsConfig.sessionid),'[r]',jt),'[x]',ju.toString()),'[y]',jv.toString())+jz}var jA=this.formatViewMethod(this.viewid,'tile');return jA+'?r='+jt+'&x='+ju+'&y='+jv+'&'+jx},formatUnderlyingDataURL:function(e){var jt=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));jt.append('?maxrows=200');if(ss.isValue(e)){jt.append('&select_x=').append(e.x);jt.append('&select_y=').append(e.y)}return jt.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},executeAction:function(e,jt,ju){if(e.commandType===9){this.executeCommand(e)}else{var jv=bS.newCommand('run-action',e.command.commandParams);gs.executeServerCommand(jv,'immediately',jt,ju)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.commandType){case 9:{var jt={};jt.ZNi=e.command.commandParams.ZNi;jt.ALQ=e.command.commandParams.ALQ;G.launchActionUrls([jt],this.get_commonDialogProvider());break}case 7:{var ju=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)&&ss.keyExists(e.command.commandParams,'ArG')){var jv=JSON.parse(e.command.commandParams['ArG']);ju=tab.PointUtil.fromPresModel(jv)}window.open(this.formatUnderlyingDataURL(ju),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}}},gP);ss.initClass(iJ,a,{});ss.initClass(iL,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().tOA;for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(ju.VzB==='rOX'){this.$1.push(ju)}}}return this.$1},update:function(e,jt){dq.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,jt)}},eR);ss.initClass(iM,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_worksheetName:function(){return this.get_visualId().AVP},get_visualId:function(){return this.pm.J_M},get_containerGeometry:function(){return this.get_zone().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.SmW},get_scenePresModel:function(){return this.pm.X$},get_shelves:function(){return this.$q},get_analyticsModel:function(){return this.$9},get_marksCardModel:function(){return this.$n},get_selectionsModel:function(){return this.$p},get_impliedSelectionModel:function(){return this.$k},get_brushingsModel:function(){return this.$b},get_showMeModel:function(){return this.$r},get_sceneModel:function(){return this.$o},get_labelsModel:function(){return this.$l},get_mapServerModel:function(){return this.$m},get_filters:function(){return _.values(this.$f)},get_filterModels:function(){return this.$f},get_geometryModel:function(){return this.$i},get_sortIndicatorsModel:function(){return this.$s},get_vizDataModel:function(){return this.$v},get_titleModel:function(){return this.$t},get_captionModel:function(){return this.$d},get_hiddenTuples:function(){return this.$8},get_filteredTuples:function(){return this.$7},get_isMap:function(){return this.pm.ri},get_hasBackgroundImage:function(){return this.pm.mqY},get_floatingToolbarVisibility:function(){return this.pm.cqq},get_geoSearchVisibility:function(){return this.pm.pKy},get_vizNavigationSetting:function(){return this.pm.haE},get_defaultMapTool:function(){return this.pm.DpY},get_cacheUrlInfo:function(){return this.$c},get_hasModifiedAxes:function(){return this.pm.qFh},get_backgroundColor:function(){return this.pm.oiS},get_paneBGColor:function(){return this.pm.QLN},get_headerBGColor:function(){return this.pm.ogc},get_shouldUpdate:function(){return L.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=eU.findContentDashboard();return e.get_invalidSheets()},get_isVisualValid:function(){return this.$u},get_isBrushedFromAction:function(){return this.$a},get_emptyHighlightFogAll:function(){return this.$e},get_zone:function(){var e=ss.safeCast(this.parent,jq);return e.get_zone()},setIsVisualValid:function(e,jt){if(this.pm.GiX&&e!==this.$u){this.$u=e;this.raiseEvent(this.$2$5,jt)}},setIsBrushedFromAction:function(e,jt){if(this.$a!==e){this.$a=e;this.raiseEvent(this.$2$6,jt)}},setEmptyHighlightFogAll:function(e,jt){if(this.$e!==e){this.$e=e;this.raiseEvent(this.$2$9,jt)}},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(jt){return ss.referenceEquals(jt,e)}).length>1},setFilteredTuples:function(e,jt){this.$g[e]=jt;var ju={};var jv=ss.getEnumerator(Object.keys(this.$g));try{while(jv.moveNext()){var jw=jv.current();var jx=this.$g[jw];for(var jy=0;jy<jx.length;jy++){var jz=jx[jy];ju[jz.toString()]=jz}}}finally{jv.dispose()}var jA=ss.getKeyCount(this.$7)!==ss.getKeyCount(ju);if(!jA){var jB=ss.getEnumerator(Object.keys(this.$7));try{while(jB.moveNext()){var jC=jB.current();if(!ss.keyExists(ju,jC)){jA=true;break}}}finally{jB.dispose()}}if(jA){this.$7=ju;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,jt){this.$j[e]=jt;var ju={};var jv=ss.getEnumerator(Object.keys(this.$j));try{while(jv.moveNext()){var jw=jv.current();var jx=this.$j[jw];for(var jy=0;jy<jx.length;jy++){var jz=jx[jy];ju[jz.toString()]=jz}}}finally{jv.dispose()}var jA=ss.getKeyCount(this.$8)!==ss.getKeyCount(ju);if(!jA){var jB=ss.getEnumerator(Object.keys(this.$8));try{while(jB.moveNext()){var jC=jB.current();if(!ss.keyExists(ju,jC)){jA=true;break}}}finally{jB.dispose()}}if(jA){this.$8=ju;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.X$;var jt=this.pm.vnA;var ju=this.pm.zFl;delete this.pm['X$'.toString()];delete this.pm['zFl'.toString()];delete this.pm['vnA'.toString()];var jv=eR.prototype.getMutableCopyOfPresModel.call(this);this.pm.X$=e;this.pm.zFl=ju;this.pm.vnA=jt;return jv},reValidate:function(e){if(this.get_isVisualValid()!==this.pm.GiX){this.$u=this.pm.GiX;this.raiseEvent(this.$2$5,e)}},update:function(e,jt){if(ss.isNullOrUndefined(this.$q)){this.$q=new gU(this)}if(ss.isValue(e.MiB)){var ju=this.$2(e);this.$q.update(e.MiB,L.get_instance().get_workbook().get_dataSchema(),ju,jt)}if(ss.isValue(e.OIO)){if(ss.isNullOrUndefined(this.$9)){this.$9=new J(this)}this.$9.update(e.OIO,jt)}if(ss.isValue(e.zFl)){if(ss.isNullOrUndefined(this.$v)){this.$v=new iQ(this)}this.$v.update(e.zFl,jt)}if(ss.isNullOrUndefined(this.$o)){this.$o=new gc(this)}if(ss.isValue(e.X$)){if(ss.isValue(this.$j)){var jv=ss.getKeyCount(this.$8)>0;this.$j={};this.$8={};if(jv){this.raiseEvent(this.$2$2,jt)}}if(ss.isValue(this.$g)){var jw=ss.getKeyCount(this.$7)>0;this.$g={};this.$7={};if(jw){this.raiseEvent(this.$2$3,jt)}}this.$o.update(e.X$,jt)}if(ss.isValue(e.Ucd)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.Ucd,e.Ucd)){this.raiseEvent(this.$2$7,jt)}}if(ss.isValue(e.haE)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.haE,e.haE)){this.raiseEvent(this.$2$8,jt)}}if(ss.isNullOrUndefined(this.$l)){this.$l=new gc(this)}if(ss.isValue(e.vnA)){this.$l.update(e.vnA,jt)}if(ss.isNullOrUndefined(this.$n)){this.$n=new eO(this)}if(ss.isValue(e.Inn)){this.$n.update(e.Inn,jt)}if(ss.isValue(e.pUG)&&e.pUG.length>0){this.$p.update(e.pUG,jt)}if(ss.isValue(e.iyL)){this.$b.update(e.iyL,jt)}this.$4(this.$p.nodeSelection.get_nodes(),jt);if(!ss.isValue(this.$r)){this.$r=new bP(this)}if(ss.isValue(e.kCM)){this.$r.update(e.kCM,jt)}if(ss.isNullOrUndefined(this.$m)){this.$m=new eN(this)}if(ss.isValue(e.RFX)||!e.ri){var jx=(e.ri?e.RFX:null);this.$m.update(jx,jt)}var jy=e.DbF||'';var jz=(ss.isNullOrEmptyString(jy)?null:JSON.parse(jy));if(this.$5(jz,jy)){this.$h=jy;if(ss.isValue(jz)){var jA={};for(var jB=0;jB<jz.length;jB++){var jC=jz[jB];var jD=tableau.format.formatQualifiedName(jC.name);var jE=this.$f[jD];if(ss.isNullOrUndefined(jE)){jE=eU.createFilterModel(this,jC)}jE.update(jC,jt);jA[jD]=jE}this.$f=jA}}var jF=e.XJV||'';var jG=(ss.isNullOrEmptyString(jF)?null:JSON.parse(jF));if(!_.isEqual(jG,this.get_cacheUrlInfo())){this.$c=jG;this.$3(jt)}var jH=e.kI||'';if(!ss.isValue(this.$i)){this.$i=new iH(this)}var jI=(ss.isNullOrEmptyString(jH)?null:JSON.parse(jH));this.$i.update(jI);if(ss.isNullOrUndefined(this.$t)){this.$t=new ir(this,'CTm'.toString())}if(ss.isValue(e.CTm)){this.$t.update(e.CTm,jt)}if(!ss.isValue(this.$d)){this.$d=new ir(this,'vv_'.toString())}if(ss.isValue(e.vv_)){this.$d.update(e.vv_,jt)}if(!ss.isValue(this.$s)){this.$s=new hb(this)}if(ss.isValue(e.$tK)){this.$s.update(e.$tK,jt)}this.setEmptyHighlightFogAll(e.u,jt);this.swapAndCopyPresModel(e);this.reValidate(jt);this.$6(jt)},$6:function(e){this.raiseEvent(this.$2$1,e)},$3:function(e){if(ss.isValue(this.get_cacheUrlInfo())){this.raiseEvent(this.$2$4,e)}},$5:function(e,jt){if(ss.isNullOrUndefined(this.$h)){return true}if(ss.isValue(e)){var ju=_.find(e,function(jv){return jv.isTiled});if(ss.isValue(ju)){return true}}return!ss.referenceEquals(this.$h,jt)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var jt;var ju=this.$k.get_ids();if(tab.MiscUtil.isNullOrEmpty(ju)){jt=e}else if(tab.MiscUtil.isNullOrEmpty(e)){jt=ju}else{var jv=[];ss.arrayAddRange(jv,e);ss.arrayAddRange(jv,ju);jt=Array.prototype.slice.call(jv)}return jt},$4:function(e,jt){var ju=Q.getTuplesAssociatedWithSelectedNodes(this,e);this.$k.setOverriddenTupleIds(ju,jt)},$1:function(e){this.$k.setOverriddenTupleIds([],e)},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.Inn)&&ss.isValue(e.Inn.FsL)){return e.Inn.FsL}return eU.findActivePaneSpecId()}},eR);ss.initClass(iN,a,{});ss.initClass(iO,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.tbM02},get_fieldName:function(){return this.$a.HBp02},get_fieldCaption:function(){return this.$a.OLk},get_baseColumnName:function(){return this.$a._HL},get_role:function(){return this.$a.YIQ02},get_aggType:function(){return this.$a.Ymv02},get_specialValuesOverride:function(){return this.$a.ywi},get_filterContext:function(){return this.$a.HWT},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.ISx},$9:function(){return this.$a.ZHX},$7:function(){return tab.Logger.lazyGetLogger(iO)},isTupleIdValid:function(e){for(var jt=0;jt<this.$a.ISx.length;++jt){var ju=this.$a.ISx[jt];var jv=this.$5(e,ju);if(ss.isValue(jv)){return true}}return false},tupleIdsThatPass:function(e){var jt=[];for(var ju=0;ju<this.$a.ISx.length;ju++){var jv=this.$a.ISx[ju];var jw=this.$d[jv].ZKj[0];for(var jx=0;jx<jw.nSc.length;jx++){var jy=jw.nSc[jx];if(e(jy)){jt.push(jy)}}}return jt},$2:function(e){var jt=this.$3(e,0);var ju={};var jv=0;for(var jw=0;jw<jt.nSc.length;jw++){var jx=jt.nSc[jw];ju[jx]=jv++}this.$e[e]=ju},$5:function(e,jt){if(!ss.keyExists(this.$e,jt)){this.$2(jt)}return this.$e[jt][e]},getAliasIndex:function(e){var jt=null;if(!this.get_hasAliases()){return jt}for(var ju=0;ju<this.$a.ISx.length;++ju){var jv=this.$a.ISx[ju];var jw=this.$5(e,jv);if(ss.isValue(jw)){var jx=this.$a.ZHX[ju];var jy=this.$3(jv,jx);jt=jy.wwF[jw];break}}return jt},getDataValueIndex:function(e){var jt=null;if(this.get_hasDataValues()){for(var ju=0;ju<this.$a.ISx.length;++ju){var jv=this.$a.ISx[ju];var jw=this.$5(e,jv);if(ss.isValue(jw)){var jx=this.$a.ZHX[ju];var jy=this.$3(jv,jx);jt=jy.qtG[jw];break}}}return jt},getPaneDescriptorKey:function(e){var jt=null;for(var ju=0;ju<this.$a.ISx.length;++ju){var jv=this.$8()[ju];var jw=this.$5(e,jv);if(ss.isValue(jw)){var jx=this.$4(jv);jt=jx.uNv.fDN;break}}return jt},$4:function(e){var jt=null;if(this.$d.length>e){jt=this.$d[e]}else{}return jt},$3:function(e,jt){var ju=null;var jv=this.$4(e);if(ss.isValue(jv)){if(jv.ZKj.length>jt){ju=jv.ZKj[jt]}else{}}return ju},$1:function(){var e=false;for(var jt=0;jt<this.$8().length;jt++){var ju=this.$8()[jt];var jv=this.$9()[jt];var jw=this.$3(ju,jv);if(ss.isValue(jw)){e=e||ss.isValue(jw.qtG)&&jw.qtG.length>0}}return e},$0:function(){var e=false;for(var jt=0;jt<this.$8().length;jt++){var ju=this.$8()[jt];var jv=this.$9()[jt];var jw=this.$3(ju,jv);if(ss.isValue(jw)){e=e||ss.isValue(jw.wwF)&&jw.wwF.length>0}}return e},$6:function(){}});ss.initClass(iP,a,{});ss.initClass(iQ,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().RjV},get_filterFields:function(){return this.$3().Ubv},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().sZN},$3:function(){return this.pm},$1:function(){return this.$3().FOi},$2:function(){return this.$1().wIG},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var jt=this.$1().Ekt;for(var ju=0;ju<jt.length;++ju){if(iR.isFieldCaptionOfColumn(jt[ju],e)){return ju}}for(var jv=0;jv<jt.length;++jv){if(iR.isFieldNameOfColumn(jt[jv],e)){return jv}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().Ekt;for(var jt=0;jt<e.length;jt++){var ju=e[jt];if(ju.YIQ02==='dimension'&&ju.JDJ!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var jt=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(ju,jv){if(ju.isTupleIdValid(e)){jt=true;return false}return true})}return jt},forEachTupleId:function(e){for(var jt=0;jt<this.$2().length;++jt){var ju=this.$2()[jt].ZKj[0];for(var jv=0;jv<ju.nSc.length;jv++){var jw=ju.nSc[jv];var jx=!e(jw);if(jx){break}}}},forEachVizDataField:function(e){var jt=this.$4.length;for(var ju=0;ju<jt;++ju){var jv=this.$4[ju];if(ss.isNullOrUndefined(jv)){continue}var jw=!e(jv,ju);if(jw){break}}},update:function(e,jt){var ju=this.simpleSwapToUpdate(e,this.$2$1,jt);if(!ju){return}if(ss.isValue(e.sZN)){dq.notifyFontsFromUberTipDataPresModel(e.sZN)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var jv=this.$1().Ekt;for(var jw=0;jw<jv.length;jw++){var jx=jv[jw];if(jx.HBp02==='[system:visual].[tuple_id]'){this.$6=jx;this.$4.push(null);continue}this.$5.push(jx.OLk);var jy=new iO(jx,this.$1().wIG);this.$4.push(jy)}}}},eR);ss.initClass(iR,a,{});ss.initClass(iS,a,{});ss.initClass(iT,a,{});ss.initClass(iU,a,{get_r:function(){return this.$0['dpp'.toString()]},set_r:function(e){this.$0['dpp'.toString()]=e},get_fns:function(){return this.$0['HVp'.toString()]},set_fns:function(e){this.$0['HVp'.toString()]=e},get_x:function(){return this.$0['thj'.toString()]},set_x:function(e){this.$0['thj'.toString()]=e},get_y:function(){return this.$0['RAC'.toString()]},set_y:function(e){this.$0['RAC'.toString()]=e},get_w:function(){return this.$0['rec'.toString()]},set_w:function(e){this.$0['rec'.toString()]=e},get_h:function(){return this.$0['EUR'.toString()]},set_h:function(e){this.$0['EUR'.toString()]=e}});ss.initClass(iV,a,{get_isViewingUri:function(){return this.$l===1},get_isAuthoringUri:function(){return this.$l===2},get_isAuthorNewWorkbookUri:function(){return this.$l===3},get_isInvalid:function(){return this.$l===0},get_isAdminUri:function(){return this.$l===4},get_isSharedViewUri:function(){return this.$l===5},get_isRevisionHistoryUri:function(){return this.$l===6},get_absoluteUri:function(){return this.$6()},get_uri:function(){return this.$a()},get_path:function(){return this.$9()},get_queryParams:function(){return this.$i},get_retry:function(){return this.$7(':retry')},set_retry:function(e){this.$d(':retry',e)},get_originalView:function(){return this.$7(':original_view')},set_originalView:function(e){this.$d(':original_view',e);if(e){this.$f=''}},get_showSaveAs:function(){return this.$7(':showSaveAs')},set_showSaveAs:function(e){this.$d(':showSaveAs',e)},$7:function(e){return ss.keyExists(this.$i,e)&&tab.MiscUtil.toBoolean(this.$i[e][0],false)},$d:function(e,jt){if(jt){this.$i[e]=[];this.$i[e].push('yes')}else{delete this.$i[e]}},removeQueryParam:function(e){delete this.$i[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$i);return this},clone:function(){var e=new iV;e.$l=this.$l;e.$m=this.$m;e.$k=this.$k;e.$e=this.$e;e.$i=this.$i;e.$f=this.$f;e.$g=this.$g;e.$h=this.$h;e.explicitNotGuest=this.explicitNotGuest;return e},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var jt=ss.getEnumerator(Object.keys(this.$i));try{while(jt.moveNext()){var ju=jt.current();var jv=decodeURIComponent(ju);if(ss.startsWithString(jv,':ff_')||ss.contains(iV.$b,jv)){e[ju]=this.$i[ju]}}}finally{jt.dispose()}this.$i=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation();window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),iV.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),iV.createForCurrentWindowLocation().get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),iV.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$g=''},$6:function(){var e=this.$a();var jt=this.$h;if(!ss.startsWithString(e,'/')){jt+='/'}jt+=e;return jt},$a:function(){var e=new ss.StringBuilder;e.append(this.$9());var jt=tab.MiscUtil.replaceUriQueryParameters('',this.$i);if(!tab.MiscUtil.isNullOrEmpty$1(jt)){e.append(jt)}e.append(this.$8());return e.toString()},$9:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$c(this.$l));if(this.$l===2){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$1(this.$e)){e.push(encodeURIComponent(this.$e))}}else if(this.$l===1){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$1(this.$f)){e.push(this.$f)}}else if(this.$l===4){e.push(this.$m);e.push(this.$k)}else if(this.$l===3){e.push(this.$m)}else if(this.$l===5){e.push(tsConfig.guid)}else if(this.$l===6){e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$1(this.$k)){e.push(this.$k)}e.push('history');e.push(this.$j)}return e.join('/')},$8:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$g},$5:function(e){var jt=_.keys(iV.$d);var ju=iE.getModuleFromPath(e.pathname,jt);this.$l=this.$b(ju);var jv=iE.getMeatFromPath(e.pathname,jt);if(this.$l===1){this.$4(jv)}else if(this.$l===2){this.$2(jv)}else if(this.$l===3){this.$1(jv)}else if(this.$l===4){this.$0(jv)}else if(this.$l===6){this.$3(jv)}this.$i=iV.$1(e);this.$g=e.hash;this.$h=tab.BrowserSupport.getOrigin(e)},$4:function(e){var jt=e.split('/');this.$m=jt[0];this.$k=jt[1];if(jt.length>2){if(jt.length===3){this.$f=jt[2]}this.$f=jt[2]+'/'+jt[3]}},$2:function(e){var jt=e.split('/');this.$m=jt[0];this.$k=jt[1];if(jt.length>2){this.$e=decodeURIComponent(jt[2])}},$0:function(e){var jt=e.split('/');this.$m=jt[0];this.$k=jt[1]},$1:function(e){this.$m=e},$3:function(e){var jt=e.split('/');this.$m=jt[0];if(jt.length>3){this.$k=decodeURIComponent(jt[1]);this.$j=decodeURIComponent(jt[3])}else{this.$j=decodeURIComponent(jt[2])}},$c:function(e){return iV.$9[e]},$b:function(e){return iV.$d[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var jt=new fN(e);this.$m=jt.get_workbookId();this.$k=jt.get_sheetId();this.$e='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var jt=e.startViewId;if(ss.isNullOrUndefined(jt)){jt=this.$k}this.$k=jt;this.$f=ss.formatString('{0}/{1}',iV.encodeUserName(e.owner.username),e.urlId);this.$e='';this.set_originalView(false);return this}});ss.initEnum(iW,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbook:3,admin:4,sharedView:5,revisionHistory:6});ss.initClass(iX,a,{isBusy:function(){return this.$b>0},addref:function(e){this.$b+=1;if(this.$b===1&&!this.$a&&!this.$9){this.$6(e,false,false)}},addrefAndShowFullWaitHandlerNow:function(e){this.$b+=1;this.$6(true,true,e)},showAndLock:function(e){if(!this.$a){this.$6(true,true,e)}this.$3()},$3:function(){this.$9=true},unlock:function(){this.$9=false},release:function(){this.$b-=1;if(this.$b<0){this.$b=0}this.nudge()},nudge:function(){if(this.$b>0||this.$9){return}this.$1()},reset:function(){this.$0();var e=300;this.$d.hide().css('opacity','0');if(this.$7.length===0){return}var jt=ss.mkdel(this,function(ju){ju.css('cursor','default').hide();var jv=$('.facadedom');if(jv.length>0){jv.remove()}});this.loadingElementFadeOut(this.$7,e,jt)},onNextHide:function(e){this.$c=e},$0:function(){this.$8=tab.MiscUtil.clearTimeout(this.$8);this.$e=tab.MiscUtil.clearTimeout(this.$e)},$1:function(){if(ss.isValue(this.$c)){this.$c();this.$c=null;this.$0()}else{this.reset()}this.$a=false},$6:function(e,jt,ju){var jv=400;var jw=500;var jx=1900;var jy=250;var jz=0.419999986886978;var jA=(ju?0:jz);if(e){jv=0;jx-=jv}this.$0();if(jt){this.$4(jw,jA);if(!ju){this.$5(jy)}}else{this.$8=window.setTimeout(ss.mkdel(this,function(){this.$4(jw,jA)}),jv);if(!ju){this.$e=window.setTimeout(ss.mkdel(this,function(){this.$5(jy)}),jx)}}this.$a=true},$4:function(e,jt){if(this.$7.css('display')!=='none'){return}this.$7.css('cursor','wait');this.$2(this.$7,e,jt)},$5:function(e){this.$2(this.$d,e,1)},$2:function(e,jt,ju){e.css('opacity','0');e.css('transition',jt+'ms opacity');e.show();e.css('display');e.css('opacity',ju.toString())},loadingElementFadeOut:function(e,jt,ju){e.css('transition',jt+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){ju(e)},jt)}});ss.initClass(iY,a,{add_newWarningMessage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWarningMessage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){if(!tab.MiscUtil.isNullOrEmpty(this.pm)){return this.pm.dqH}return''},get_text:function(){if(!tab.MiscUtil.isNullOrEmpty(this.pm)){return this.pm.$VV}return''},get_warningType:function(){return this.pm.puI},get_notificationId:function(){return'lhW'},onNotify:function(e,jt){this.swapPresModel(e);this.raiseEvent(this.$2$1,jt)}},eR,[em]);ss.initClass(ja,a,{get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():false)},set_enabled:function(e){},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():false)},set_isVisible:function(e){}},bJ);ja.$ctor1.prototype=ja.prototype;ss.initClass(jb,a,{});ss.initClass(jc,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.ZNi},update:function(e,jt){this.simpleSwapToUpdate(e,this.$2$1,jt)}},eR);ss.initClass(jd,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().LLA},get_aggregationValues:function(){return this.$2().VRG02},get_aggregationCaptions:function(){return this.$2().iSd},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().EQP},get_numberOfNextValues:function(){return this.$2().Xsn},get_minPrevOrNextValues:function(){return this.$2().d$o},get_maxPrevOrNextValues:function(){return this.$2().ysc},get_summaryCaption:function(){return this.$2().Bcu},get_includeCurrentValue:function(){return this.$2().sBD},get_nullIfIncomplete:function(){return this.$2().SvL},update:function(e,jt){this.simpleSwapToUpdate(e,this.$3$1,jt)}},ix);ss.initClass(je,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_sheetTypeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_sheetTypeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},get_sheetType:function(){return ss.coalesce(je.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$8},get_dataConnectionModel:function(){return this.$7},get_commands:function(){return this.$4},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.Olx)},$3:function(){return this.$6},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&this.$6.pm.Jqz},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6)&&this.$6.get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6.get_sheetName())){return null}return this.$6},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.GJq})},get_sheetsInfo:function(){return this.$9},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.$Dn},get_isCurrentDashboardModified:function(){return ss.isValue(this.$3())&&ss.isValue(this.$3().pm)&&ss.isValue(this.$3().pm.kc$)&&this.$3().pm.kc$.length>0},get_removedDataSourceCount:function(){return this.pm.DxN||0},get_removedSheetCount:function(){return this.pm.yNn||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&ss.isValue(this.$6.pm.nhM))?this.$6.pm.nhM.YnR:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6)){return null}var e=this.$6.get_dashboardSize();return{w:e.rec,h:e.EUR}},get_connectionPromptModel:function(){return this.$5},get_formatPaneModel:function(){return this.$2$9},set_formatPaneModel:function(e){this.$2$9=e},get_formatQuickNumberMenuModel:function(){return this.$2$10},set_formatQuickNumberMenuModel:function(e){this.$2$10=e},handleWorldReset:function(){this.$6=null;this.$8=null},withOuterDashboard:function(e){if(ss.isValue(this.$3())){e(this.$3());return}var jt=null;jt=ss.mkdel(this,function(ju){e(ju);this.remove_newDashboard(jt)});this.add_newDashboard(jt)},withDashboard:function(e){var jt=this.findContentDashboard();if(ss.isValue(jt)){e(jt);return}var ju=null;ju=ss.mkdel(this,function(jv){e(jv);this.remove_newDashboard(ju)});this.add_newDashboard(ju)},$2:function(e){return je.$0(e)&&ss.isValue(je.$1(this.pm))&&this.get_sheetType()!==e.mmK.nhM.xD},addNewDashboardHandler:function(e){this.add_newDashboard(e);if(ss.isValue(this.$6)){e(this.$6)}},removeDashboardHandler:function(e){this.remove_newDashboard(e)},findContentDashboard:function(){if(ss.isNullOrUndefined(this.$6)){return null}return this.$6.get_contentDashboard()},$1:function(e){return ss.isValue(e.mmK)&&ss.isValue(e.mmK.nhM)&&!ss.referenceEquals(e.mmK.nhM.DDA,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.$5)&&!ss.isNullOrEmptyString(this.$5.get_connectionName())},update:function(e,jt){if(ss.isValue(e._$p)){this.$5=new cq(this);this.get_connectionPromptModel().update(e._$p);if(!ss.isNullOrEmptyString(this.$5.get_connectionName())){this.raiseEvent$1(cq).call(this,this.$2$6,this.get_connectionPromptModel(),jt)}else{this.raiseEvent(this.$2$7,jt)}}if(ss.isValue(e.$Dn)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.$Dn)){this.raiseEvent(function(){je.fireWorkbookModifiedChanged(e.$Dn)},jt)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$8,e.mmK.nhM.xD,jt)}var ju=false;if(this.$1(e)){this.handleWorldReset();ju=true}if(!ss.isValue(this.$8)){this.$8=new cx(this)}if(ss.isValue(e.dJ$1)){this.$8.update(e.dJ$1,jt)}if(typeof(e.mmK)==='undefined'){}else if(e.mmK===null){var jv=this.$6;this.$6=null;this.raiseEvent$1(cg).call(this,this.$2$3,jv,jt)}else{if(!ss.isValue(this.$6)){this.$6=new cg(this);this.raiseEvent$1(cg).call(this,this.$2$2,this.$6,jt)}this.$6.update(e.mmK,jt)}if(ss.isValue(e.Jmx)){this.$4.update(e.Jmx,jt)}if(ss.isValue(e.jky)&&!_.isEqual(e.jky,this.$9)){this.$9=e.jky;ju=true}if(ju){this.raiseEvent$1(je).call(this,this.$2$4,this,jt)}e.Olx=e.Olx||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.Olx!==e.Olx){this.raiseEvent(this.$2$5,jt)}if(ss.isValue(e.tfj)){this.get_formatPaneModel().update(e.tfj,jt)}this.swapAndCopyPresModel(e)}},eR);ss.initClass(jf,a,{});ss.initClass(jg,a,{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed}});ss.initClass(jh,a,{get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.get_isO8601DateTimeFormat(),2,tableau.format.get_baseTimestamp());var jt={};jt.format=L.get_instance().get_localeDateFormat();jt.locale=tsConfig.locale;jt.timeFormat=L.get_instance().get_localeTimeFormat();jt.locale_formatting_strings=tableau.format.get_defaultLocaleStrings();return tableau.format.formatJsDateTime(new Date(e),jt,2,'t')},get_connectsToDescription:function(){var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=jh.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(ji,a,{});ss.initEnum(jj,a,{none:0,userInvalidEmailAddress:10011});ss.initClass(jk,a,{});ss.initClass(jl,a,{});ss.initClass(jm,a,{checkpointAppPresModel:function(){this.$1=L.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){eR.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;L.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(jn,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var jt=this.$1$1;if(!ss.staticEquals(jt,null)){jt(e)}},raiseOnCommandResponse:function(e){var jt=this.$1$2;if(!ss.staticEquals(jt,null)){jt(e)}}});ss.initClass(jo,a,{});ss.initClass(jp,a,{request:function(e){var jt='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,jt)&&e.headers[jt]===false){delete e.headers[jt]}else{e.headers[jt]=true}if(ss.isValue(jp.$0)&&jp.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(jp.$0)}if(ss.isValue(e.complete)){var ju=e.complete;e.complete=function(jz,jA){jz['args']=e;ju(jz,jA)}}if(ss.isValue(e.success)){var jv=e.success;e.success=function(jz,jA,jB){jB['args']=e;jv(jz,jA,jB)}}if(ss.isValue(e.error)){var jw=e.error;e.error=function(jz,jA,jB){jz['args']=e;jw(jz,jA,jB)}}if(ss.isValue(e.beforeSend)){var jx=e.beforeSend;e.beforeSend=function(jz){jz['args']=e;jx(jz)}}var jy=e;return $.ajax(jy)}});ss.initClass(jq,a,{get_zone:function(){return ss.safeCast(this.parent,jr)}},eR);ss.initClass(jr,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removeZoneContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removeZoneContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_updateZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_updateZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_resizeZone:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_resizeZone:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_childrenAdded:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_childrenAdded:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_changeZoneTitleVisibility:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_changeZoneTitleVisibility:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_changeZoneFloatingState:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_changeZoneFloatingState:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},get_model:function(){return this.$c},get_dashboardModel:function(){return this.$a},get_visualModel:function(){if(this.get_zoneType()==='viz'){return this.$c}return null},get_styledBoxModel:function(){return this.$b},get_zoneDescription:function(){return this.pm.dMo02},get_zoneType:function(){return this.$2(this.pm)},get_parentZoneId:function(){return this.pm.SWe},get_contentHeight:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.pm.PVX-2*this.borderWidth()}return this.pm.PVX},get_contentWidth:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.pm.NSQ-2*this.borderWidth()}return this.pm.NSQ},get_contentX:function(){return this.pm.$HD},get_contentY:function(){return this.pm.x_W},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.pm.EUR},get_width:function(){return this.pm.rec},get_x:function(){return this.pm.thj},get_y:function(){return this.pm.RAC},get_heightWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_height():(this.get_height()+8))}return this.get_height()},get_widthWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_width():(this.get_width()+8))}return this.get_width()},get_xWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_x():(this.get_x()-4))}return this.get_x()},get_yWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_y():(this.get_y()-4))}return this.get_y()},get_zoneId:function(){return this.pm.BCp},get_worksheetName:function(){return this.pm.AVP},get_contentType:function(){return jr.typeOfContent(this.pm)},get_isFloating:function(){return this.pm.Qba},get_hasTitle:function(){return this.pm.yqe},get_canHaveTitle:function(){return this.pm.mqv},get_titleHeight:function(){return this.pm.jZr},get_titleWidth:function(){return this.pm.nkG1},get_canFloat:function(){return this.pm.YmA},get_isHorizontal:function(){return this.pm.oAu},get_hasSpace:function(){return this.pm.zGq},get_isSelectionDisabled:function(){return this.pm.OKP},get_contextMenuCommands:function(){if(this.get_zoneType()==='filter'){if(tab.FeatureFlags.isEnabled('VizCatQF')&&!this.$7){var e=this.get_model();return e.get_quickFilterCommands()}else{var jt=this.get_model();return jt.get_quickFilterCommands()}}return{}},get_chromeCommands:function(){return this.$5},get_backgroundColor:function(){if(ss.isValue(this.pm.oiS)){this.$9=this.$9||bC.convertColorForCanvas(this.pm.oiS);return this.$9}return null},get_relativeZoneZIndex:function(){return this.pm.Vk$+1},get_associatedSheet:function(){return this.pm.Gge},get_isDependentOnViz:function(){switch(this.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasBorder:function(){return eU.hasBorder(this.pm.rPC)},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.wqq)||Object.keys(this.pm.wqq).length>0},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$2,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$5,e)},update:function(e,jt){if(ss.isValue(e)){{e.Gge=e.Gge||'';e.nkG1=e.nkG1||0;e.jZr=e.jZr||0;e.SWe=e.SWe||0;e.Qba=e.Qba||false;e.OKP=e.OKP||false;e.oAu=e.oAu||false;e.zGq=e.zGq||false;e.mqv=ss.coalesce(e.mqv,true);e.YmA=ss.coalesce(e.YmA,true);e.x_W=e.x_W||e.RAC;e.$HD=e.$HD||e.thj;e.NSQ=e.NSQ||e.rec;e.PVX=e.PVX||e.EUR}var ju=!this.$3(e);if(ju){this.raiseEvent(this.$2$4,jt)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.oiS,e.oiS)){this.$9=null}if(ss.isValue(e.OnR)){this.$5.update(e.OnR,jt)}if(ss.isValue(e.rPC)){this.$b.update(e.rPC,jt)}if(ss.isValue(e.wqq)){if(!ss.isValue(this.$8)){this.$8=new jq(this)}var jv=jr.typeOfContent(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),jv)){this.$c=null}var jw=false;if(ss.isNullOrUndefined(this.$c)&&this.get_zoneType()!=='filter'){var jx=eU.getPendingZoneContentModel(e.BCp);if(ss.isValue(jx)){jw=true;this.$c=jx;this.$c.reparent(this.$8);this.$4(this.$c,jt)}}if(!jw){this.$1(jv,e,ju,jt)}}else if(ss.isValue(this.pm)&&ss.isValue(this.$c)&&!ss.referenceEquals(e.dCB,this.pm.dCB)){var jy=jr.$1(e.dCB);if(this.$7&&e.jAM==='filter'){var jz=this.$c;jz.update(jz.get_quickFilterDisplayPresModel(),jy,jt)}if(ss.referenceEquals(jr.typeOfContent(this.pm),jr.$9)){var jA=jr.getContent(e,jr.$9);if(tab.FeatureFlags.isEnabled('VizParam')&&fl.supportsParameterType(jA)){}else{var jB=this.$c;jB.updateFrame(jy,jt)}}}if(ss.isValue(e.KDk)){dq.notifyFontsFromTextRegionPresModel(e.KDk)}}if(ss.isValue(this.pm)&&(this.pm.yqe!==e.yqe||this.pm.mqv!==e.mqv)){this.raiseEvent(this.$2$6,jt)}if(ss.isValue(this.pm)&&(this.pm.Qba!==e.Qba||this.pm.YmA!==e.YmA)){this.raiseEvent(this.$2$7,jt)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$3,jt)},$1:function(e,jt,ju,jv){if(ss.referenceEquals(e,jr.$h)){var jw=jr.getContent(jt,jr.$h);if(ss.isNullOrUndefined(this.$c)){this.$c=new iM(this.$8);this.$4(this.$c,jv)}var jx=this.$c;jx.update(jw,jv)}else if(ss.referenceEquals(e,jr.$g)){var jy=jr.getContent(jt,jr.$g);if(ss.isNullOrUndefined(this.$c)){this.$c=new ir(this.$8,jr.$g);this.$4(this.$c,jv)}var jz=this.$c;jz.update(jy,jv)}else if(ss.referenceEquals(e,jr.$f)){var jA=jr.getContent(jt,jr.$f);if(ss.isNullOrUndefined(this.$c)){this.$c=new ir(this.$8,jr.$f);this.$4(this.$c,jv)}var jB=this.$c;jB.update(jA,jv)}else if(ss.referenceEquals(e,jr.$b)){var jC=jr.getContent(jt,jr.$b);var jD=this.$7;if(tab.FeatureFlags.isEnabled('VizCatQF')&&fA.supportsQuickFilterType(jC)){this.$7=false;if(ss.isNullOrUndefined(this.$c)||jD){this.$c=new fA(this.$8);this.$4(this.$c,jv)}var jE=this.$c;jE.update(jC,jv)}else{this.$7=true;if(ss.isNullOrUndefined(this.$c)||!jD){this.$c=new eH(this.$8);this.$4(this.$c,jv)}var jF=jr.$1(jt.dCB);var jG=this.$c;jG.update(jC,jF,jv)}}else if(ss.referenceEquals(e,jr.$a)){if(L.get_instance().get_isLocalRenderMode()){var jH=jr.getContent(jt,e);if(ss.isNullOrUndefined(this.$c)){this.$c=new fy(this.$8,e);this.$4(this.$c,jv)}var jI=this.$c;jI.update(jH,jv)}}else if(ss.referenceEquals(e,jr.$2)||ss.referenceEquals(e,jr.$e)||ss.referenceEquals(e,jr.$d)||ss.referenceEquals(e,jr.$7)){if(L.get_instance().get_isLocalRenderMode()){var jJ=jr.getContent(jt,e);if(ss.isNullOrUndefined(this.$c)){var jK=this.$2(jt);this.$c=new bj(this.$8,e,jr.$0(jK));this.$4(this.$c,jv)}var jL=this.$c;jL.update(jJ,jv)}}else if(ss.referenceEquals(e,jr.$9)){var jM=jr.getContent(jt,jr.$9);var jN=jr.$1(jM.Vn);jM.nql=jN;var jO=this.$6;if(tab.FeatureFlags.isEnabled('VizParam')&&fl.supportsParameterType(jM)){this.$6=false;if(ss.isNullOrUndefined(this.$c)||jO){this.$c=new fl(this.$8);this.$4(this.$c,jv)}var jP=this.$c;jP.update(jM,jv)}else{this.$6=true;if(ss.isNullOrUndefined(this.$c)||!jO){this.$c=new fk(this.$8);this.$4(this.$c,jv)}var jQ=jr.$1(jt.dCB);var jR=this.$c;jR.update(jM,jQ,jv)}}else if(ss.referenceEquals(e,jr.$8)){var jS=jr.getContent(jt,jr.$8);if(ss.isNullOrUndefined(this.$c)){this.$c=new fe(this.$8);this.$4(this.$c,jv)}var jT=!ju||ss.isNullOrUndefined(this.pm);var jU=jr.$1(jt.dCB);var jV=this.$c;jV.update(jS,jU,jT,jv)}else if(ss.referenceEquals(e,jr.$5)){var jW=jr.getContent(jt,jr.$5);if(ss.isNullOrUndefined(this.$c)){this.$c=new dl(this.$8);this.$4(this.$c,jv)}var jX=this.$c;jX.update(jW,jv)}else if(ss.referenceEquals(e,jr.$4)){var jY=jr.getContent(jt,jr.$4);if(ss.isNullOrUndefined(this.$c)){this.$c=new dk(this.$8);this.$4(this.$c,jv)}var jZ=this.$c;jZ.update(jY,jv)}else if(ss.referenceEquals(e,jr.$c)){var ka=jr.getContent(jt,jr.$c);if(ss.isNullOrUndefined(this.$c)){this.$c=new eF(this.$8);this.$4(this.$c,jv)}var kb=this.$c;kb.update(ka,jv)}else if(ss.referenceEquals(e,jr.$i)){var kc=jr.getContent(jt,jr.$i);if(ss.isNullOrUndefined(this.$c)){this.$c=new jc(this.$8);this.$4(this.$c,jv)}var kd=this.$c;kd.update(kc,jv)}else if(ss.referenceEquals(e,jr.$6)){var ke=jr.getContent(jt,jr.$6);if(ss.isNullOrUndefined(this.$c)){this.$c=new eo(this.$8);this.$4(this.$c,jv)}var kf=this.$c;kf.update(ke,jv)}else if(ss.referenceEquals(e,jr.$3)){var kg=jr.getContent(jt,jr.$3);if(ss.isNullOrUndefined(this.$c)){this.$c=new cw(this.$8);this.$4(this.$c,jv)}var kh=this.$c;kh.update(kg,jv)}},$2:function(e){if(ss.isValue(e)){return e.jAM}return'invalid'},$3:function(e){if(ss.isValue(this.pm)){return e.PVX===this.get_contentHeight()&&e.NSQ===this.get_contentWidth()&&e.$HD===this.get_contentX()&&e.x_W===this.get_contentY()&&e.EUR===this.get_height()&&e.rec===this.get_width()&&e.thj===this.get_x()&&e.RAC===this.get_y()}return false},borderWidth:function(){var e=0;if(this.get_hasBorder()){e=this.pm.rPC.s$V}return e},$4:function(e,jt){this.raiseEvent$1(eR).call(this,this.$2$1,e,jt)}},eR);ss.initClass(js,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$5)){this.$5=_.values(this.$7)}return this.$5},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$7[js.$0(e)]},hasZone:function(e){return ss.keyExists(this.$7,js.$0(e))},getChildren:function(e){var jt=js.$0(e);if(!ss.keyExists(this.$6,jt)){this.$6[jt]=_.filter(this.get_zoneModels(),function(ju){return ju.get_parentZoneId()===e})}return this.$6[js.$0(e)].slice(0)},update:function(jt,ju){this.$2('Zones before update: ');this.$3(jt,ju);this.$6={};var jv={};var jw=_.keys(jt);for(var jx=0;jx<jw.length;jx++){var jy=jw[jx];var jz=jt[jy];if(ss.isValue(jz)){var jA=jz.BCp;try{var jB=js.$0(jA);if(!ss.isValue(this.$7[jB])){var jC=new jr(this,this.parent,jA);this.$7[jB]=jC;this.raiseEvent$1(jr).call(this,this.$2$1,this.$7[jB],ju);this.$5=null;jv[jz.SWe]=true}else{if(this.$7[jB].get_parentZoneId()!==jz.SWe){jv[jz.SWe]=true}if(ss.isValue(jz.wqq)&&(this.$1(jB,jz)||this.$4(jB,jz))){this.$7[jB].raiseRemoveZoneContent(ju);this.raiseEvent$1(jr).call(this,this.$2$1,this.$7[jB],ju)}}this.$7[jB].update(jz,ju)}catch(jH){var e=ss.Exception.wrap(jH);tab.ErrorTrace.report(e,false)}}}this.swapAndCopyPresModel(jt);if(tsConfig.is_authoring){var jD=_.keys(jv);for(var jE=0;jE<jD.length;jE++){var jF=jD[jE];var jG=this.getZone(jF);if(ss.isValue(jG)){jG.raiseChildrenAdded(ju)}}}this.$2('Zones after update: ')},$1:function(e,jt){if(tab.FeatureFlags.isEnabled('VizCatQF')){var ju=this.$7[e].pm;if(ss.isValue(ju.wqq)){var jv='WlK'.toString();if(ss.referenceEquals(jr.typeOfContent(jt),jv)){var jw=jr.getContent(ju,jv);var jx=jr.getContent(jt,jv);if(fA.supportsQuickFilterType(jw)!==fA.supportsQuickFilterType(jx)){return true}}}}return ss.isValue(this.$7[e].get_contentType())&&!ss.referenceEquals(this.$7[e].get_contentType(),jr.typeOfContent(jt))},$4:function(e,jt){return ss.isValue(this.$7[e].get_worksheetName())&&!ss.referenceEquals(this.$7[e].get_worksheetName(),jt.Gge)},$3:function(e,jt){var ju=_.keys(this.$7);for(var jv=0;jv<ju.length;jv++){var jw=ju[jv];var jx=this.$7[jw];var jy=e[jx.get_zoneId().toString()];if(jy===null){var jz=jx.get_zoneId().toString();delete e[jz];delete this.get_zonePresModels()[jz];this.removeZone(jx,jt);continue}if(ss.isValue(jy)&&jx.get_zoneType()!==jy.jAM){this.removeZone(jx,jt)}}},removeZone:function(e,jt){e.raiseRemoveZoneContent(jt);this.raiseEvent$1(jr).call(this,this.$2$2,e,jt);delete this.$7[js.$0(e.get_zoneId())];this.$5=null},$2:function(e){var jt=new ss.StringBuilder;jt.appendLine(e);var ju=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(ju.moveNext()){var jv=ju.current();if(ss.isValue(jv.value)){jt.append('[ ');jt.append(jv.value.BCp);jt.append(' ');jt.append(jv.value.jAM);jt.append(' ] ');jt.appendLine()}}}finally{ju.dispose()}}},eR);(function(){bH.successResult=new bH(true,null)})();(function(){bM.$0=null})();(function(){iR.unknownFieldMarker='~~~???~~~';iR.noLocalSummary='...';iR.invalidTupleId=0;iR.urlStringNull='~~null~';iR.urlStringSkipped='~~skipped~';iR.urlStringRagged='~~ragged~';iR.$8=new RegExp('(\\r|\\n)','g')})();(function(){bO.$5=15;bO.$8={};bO.$6={};bO.$7=[];bO.$8['keep-only-or-exclude']=2;bO.$8['quick-sort']=4;bO.$8['clear-sorts']=6;bO.$8['run-action']=8;bO.$8['load-url']=9;bO.$8['merge-or-split']=10;bO.$8['legend-group-or-ungroup']=13;bO.$8['label-drill']=12;bO.$8['level-drill']=12;bO.$8['level-drill-up-down']=12;bO.$8['remove-reference-line']=15;bO.$8['show-reference-line-constant-value-editor']=21;bO.$8['trend-lines']=17;bO.$8['show-col-totals']=18;bO.$8['show-row-totals']=18;bO.$8['remove-subtotals']=18;bO.$8['set-totals-type']=19;bO.$8['set-reference-line-formula']=20;bO.$8['show-reference-line-editor']=22;bO.$8['select-by-value']=23;bO.$8['select-by-tuple-value']=23})();(function(){eR.removeUndefinedBoolsOnSwapCopy=true})();(function(){de.nameOfMeasuresColumn=':Measure Names';de.nameOfMeasureValuesColumn='Multiple Values'})();(function(){bC.defaultAlpha=1;bC.white=new bC(255,255,255,1);bC.$6=0.999989986419678;bC.$c=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bC.$7=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bC.$8=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bC.$9=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bC.$a=null;bC.$b=new dh(100)})();(function(){dr.defaultWeight='normal';dr.defaultStyle='normal';dr.hashSeparator='-<%>-';dr.matchQuotes=new RegExp('[\'"]','g')})();(function(){cO.boldWeight='bold';cO.normalWeight='normal'})();(function(){dV.$0=[new dV,new cO]})();(function(){dq.fontPropertyName='font';dq.$1$1=null;dq.$1$2=null})();(function(){iQ.tupleIdColumnName='[system:visual].[tuple_id]';iQ.measureNamesColumnName='[:Measure Names]'})();(function(){eN.$1='@2x';eN.$0='rgb(255,255,255)'})();(function(){fa.$0=new ss.Lazy(function(){return{eventHandler:new fa}})})();(function(){jn.$0=new ss.Lazy(function(){return new jn})})();(function(){jp.guid='';jp.parentID='';jp.$0=''})();(function(){ed.$6='_vql_state_';ed.$5=new Map;ed.$8=0;ed.$7=0;tab.WindowHelper.addListener(window.self,'popstate',ed.$3)})();(function(){iV.$7=':retry';iV.$5=':original_view';iV.$8=':showSaveAs';iV.$4=':jsdebug';iV.$6=':render';iV.$3=':app';iV.$b=[':app',':jsdebug',':render'];iV.$d=ss.mkdict(['authoring',2,'authoringNewWorkbook',3,'views',1,'vizql/showadminview',4,'shared',5,'workbooks',6]);iV.$c=[':bootstrapWhenNotified'];iV.$9={};iV.$a={};var e=function(jt,ju){for(var jv=jt;jv<=ju;jv++){var jw=String.fromCharCode(jv);iV.$a[jw]=jw}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){cA.$0=false})();(function(){E.instance=null})();(function(){bW.primaryTableCalcIndex=0;bW.secondaryTableCalcIndex=1})();(function(){gK.$0='data:image/png;base64,';gK.selectionBorderSize=1;gK.$1=(tab.BrowserSupport.get_isMobile()?50:200)})();(function(){hf.$1=false;hf.$2=false;hf.$1$1=null;hf.$1$2=null})();(function(){en.$2=null})();(function(){eV.$9='vql';eV.$c={};eV.$a={};eV.$8={};eV.$d=false;eV.$b=new eW})();(function(){ge.$4='Last';ge.$5='SecondToLast';ge.$3=1440;ge.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];ge.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){w.$0=35;w.$1=1})();(function(){L._instance=null})();(function(){jh.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){jr.zoneMargin=4;jr.rootZoneID=0;jr.$h='uqP'.toString();jr.$g='YYO'.toString();jr.$f='tLp'.toString();jr.$a='ylS'.toString();jr.$2='lDC'.toString();jr.$e='ylX'.toString();jr.$d='nud'.toString();jr.$7='C$K'.toString();jr.$9='j_S'.toString();jr.$8='cfW'.toString();jr.$c='KmA'.toString();jr.$6='wBL'.toString();jr.$i='_Ss'.toString();jr.$b='WlK'.toString();jr.$3='AEl'.toString();jr.$5='lRq'.toString();jr.$4='XIo'.toString()})();(function(){fx.$4=6;fx.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','flipboard','flipboard-nav','highlighter'];fx.$6=[1,2,3,4,5,6];fx.$7=null;fx.$5=null})();(function(){bF.$7=135;bF.$8=false;bF.$9=false;bF._instance=null;bF.$1$12=null;bF.fireDeferredUrlActions=false})();(function(){gw.$2=300000;gw.$0=tab.DateUtil.get_nowAsTime();gw.$3=300000;gw.$1=tab.DateUtil.get_nowAsTime()})();(function(){fc.analyticsClientLibrary='analytics-client';fc.analyticsClientMinifiedLibrary='analytics-client.min';fc.serviceName='VizClient';fc.$1=tab.Logger.getLogger(fc,4);fc.$2=null;fc.$1$1=null})();(function(){eU.visualPartToRegionMap=null;eU.regionToVisualPartMap=null;eU.visualPartToRegionMap={};eU.visualPartToRegionMap['left-axis']='leftaxis';eU.visualPartToRegionMap['right-axis']='rightaxis';eU.visualPartToRegionMap['top-axis']='topaxis';eU.visualPartToRegionMap['bottom-axis']='bottomaxis';eU.visualPartToRegionMap['y-labels']='yheader';eU.visualPartToRegionMap['x-labels']='xheader';eU.regionToVisualPartMap={};eU.regionToVisualPartMap['leftaxis']='left-axis';eU.regionToVisualPartMap['rightaxis']='right-axis';eU.regionToVisualPartMap['topaxis']='top-axis';eU.regionToVisualPartMap['bottomaxis']='bottom-axis';eU.regionToVisualPartMap['yheader']='y-labels';eU.regionToVisualPartMap['xheader']='x-labels'})();(function(){dt.$0='font'})();(function(){gs.$1={}})();(function(){P.linkTarget=null;P.autoUpdate=true;P.$0=null;P.$1=null;P.$2=0;P.$3=null;P.$1$1=null;P.$1=ss.mkdict(['%25',new RegExp('%','g'),'%3B',new RegExp(';','g'),'%2C',new RegExp(',','g'),'%2E',new RegExp('\\.','g'),'%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g'),'%2B',new RegExp('\\+','g'),'%20',new RegExp(' ','g'),'%5C',new RegExp('\\\\','g')])})();(function(){G.$e=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:'];G.$d=false;G.$c=false})();(function(){gi.$l=null;gi.$l={};gi.$l['simple']='select-options-simple';gi.$l['toggle']='select-options-toggle';gi.$l['range']='select-options-range';gi.$l['menu']='select-options-menu'})();(function(){Q.$5='date-time';Q.$4='all'})();(function(){gP.$2$1=null})();(function(){cC.sheetChangedEventName='SheetChangedEvt';cC.$3='badpassword';cC.$2='badoauthcredentials';cC.$4='NoAssociatedCustomOAuthKey'})();(function(){hi.$6=(tsConfig.is_mobile?4:8);hi.$5=null;hi.$4=null;if(tab.FeatureFlags.isEnabled('StoryPointCache')){jn.get().add_onBootstrapResponse(hi.$0)}})();(function(){dk.presModelCache=null})();(function(){gc.$1=new bC(0,0,0,1)})();(function(){cg.$2$1=null})();(function(){je.$2$1=null})();(function(){gQ.$8=JSON.stringify(true)})();(function(){be.registerCommandInterceptors()})();(function(){var e=L.get_instance();e.addModel(bh).call(e)})();(function(){var e=L.get_instance();e.addModel(bz).call(e)})();(function(){jb.$0={}})();(function(){bK.$0='granted'})();(function(){gx.$0=0})();(function(){cd.$4='get_customized_views';cd.$6='set_default_customized_view';cd.$3='destroy_customized_view';cd.$5='save_customized_view';cd.$7='update_customized_view';cd.$2=tab.Logger.getLogger(cd)})();(function(){cB.$0=null})();(function(){db.$0=5000;db.$1=120;db.$2=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();db.$2=window.setInterval(db.reportFailures,5000)}})();(function(){ga.shapeMapping=null;ga.reverseShapeMapping=null;ga.$1=null;ga.$0=null;ga.lineInterpolationMapping=null;ga.lineMarkerPositionMapping=null;ga.$1={};ga.$1['enable-pan-x']=1;ga.$1['enable-pan-y']=2;ga.$1['enable-zoom-x']=4;ga.$1['enable-zoom-y']=8;ga.$1['enable-scale-x']=16;ga.$1['enable-scale-y']=32;ga.$1['clip-to-cell-x']=64;ga.$1['clip-to-cell-y']=128;ga.$1['clip-to-cell-for-selection']=256;ga.$1['x-axis-on-top']=512;ga.$1['y-axis-on-right']=1024;ga.$1['has-cells-x']=2048;ga.$1['has-cells-y']=4096;ga.$0={};ga.$0['end']=1;ga.$0['endprimitive']=2;ga.$0['closedprimitive']=4;ga.$0['marked']=8;ga.$0['markediflabel']=16;ga.$0['debug']=128;ga.$0['user']=65536;ga.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);ga.reverseShapeMapping={};var e=_.keys(ga.shapeMapping);for(var jt=0;jt<e.length;jt++){var ju=e[jt];ga.reverseShapeMapping[ga.shapeMapping[ju]]=ju}ga.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump']);ga.lineMarkerPositionMapping=ss.mkdict(['0','lmp-left','1','lmp-center','2','lmp-right'])})();(function(){fi.currentPage=4294967295})();(function(){if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){var e=L.get_instance();e.addModel(fH).call(e)}})();(function(){var e=L.get_instance();e.addModel(fY).call(e)})();(function(){gd.blackColor=null;var e=(new bC(0,0,0,1)).toRgba();gd.blackColor={};gd.blackColor['colorOverrideNone']=e;gd.blackColor['colorOverrideFog']=e;gd.blackColor['colorOverrideOpaque']=e})();(function(){iq.$0={};iq.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';iq.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';iq.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';iq.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';iq.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';iq.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';iq.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';iq.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';iq.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';iq.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';iq.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';iq.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';iq.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';iq.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';iq.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';iq.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';iq.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';iq.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';iq.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';iq.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';iq.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';iq.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';iq.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';iq.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';iq.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';iq.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';iq.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';iq.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';iq.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';iq.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';iq.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';iq.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';iq.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';iq.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';iq.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';iq.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';iq.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';iq.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';iq.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';iq.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';iq.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';iq.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';iq.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';iq.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';iq.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';iq.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';iq.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';iq.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';iq.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';iq.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';iq.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';iq.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';iq.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';iq.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';iq.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';iq.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';iq.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';iq.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';iq.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';iq.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';iq.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';iq.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';iq.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';iq.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';iq.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';iq.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';iq.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';iq.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';iq.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';iq.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';iq.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';iq.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';iq.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';iq.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';iq.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';iq.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';iq.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';iq.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';iq.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';iq.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';iq.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';iq.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';iq.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';iq.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';iq.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';iq.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';iq.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';iq.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';iq.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';iq.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';iq.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';iq.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';iq.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';iq.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';iq.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';iq.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';iq.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';iq.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';iq.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';iq.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';iq.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';iq.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';iq.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';iq.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';iq.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';iq.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';iq.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';iq.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';iq.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';iq.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';iq.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';iq.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';iq.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';iq.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';iq.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';iq.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';iq.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';iq.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';iq.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';iq.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';iq.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';iq.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';iq.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';iq.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';iq.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';iq.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';iq.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';iq.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';iq.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';iq.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';iq.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';iq.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';iq.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';iq.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';iq.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';iq.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';iq.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';iq.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';iq.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';iq.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';iq.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';iq.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';iq.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';iq.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';iq.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';iq.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';iq.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';iq.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';iq.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';iq.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';iq.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';iq.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';iq.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';iq.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';iq.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';iq.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';iq.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';iq.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';iq.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';iq.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';iq.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';iq.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';iq.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';iq.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';iq.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';iq.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';iq.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';iq.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';iq.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';iq.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';iq.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';iq.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';iq.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';iq.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';iq.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';iq.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';iq.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';iq.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';iq.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';iq.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';iq.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';iq.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';iq.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';iq.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';iq.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';iq.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';iq.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';iq.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';iq.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';iq.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';iq.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';iq.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';iq.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';iq.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';iq.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';iq.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';iq.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';iq.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';iq.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';iq.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';iq.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';iq.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';iq.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';iq.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';iq.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';iq.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';iq.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';iq.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';iq.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';iq.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';iq.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';iq.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';iq.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';iq.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';iq.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';iq.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';iq.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';iq.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';iq.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';iq.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';iq.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';iq.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';iq.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';iq.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';iq.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';iq.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';iq.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){iu.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){iz.$9=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];iz.$a=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})();(function(){var e=L.get_instance();e.addModel(iY).call(e)})()})();;
/*! BEGIN SpiffUI */
/*! iScroll v5.0.6 ~ (c) 2008-2013 Matteo Spinelli ~ http://cubiq.org/license */
var IScroll=function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(n.PointerEvent?(r.addEvent(this.indicator,"pointerdown",this),r.addEvent(n,"pointerup",this)):n.MSPointerEvent&&(r.addEvent(this.indicator,"MSPointerDown",this),r.addEvent(n,"MSPointerUp",this))),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)))}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return+new Date},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.momentum=function(n,t,r,u,f){var s=n-t,o=i.abs(s)/r,e,h,c=.0006;return e=n+o*o/(2*c)*(s<0?-1:1),h=o/c,e<u?(e=f?u-f/2.5*(o/8):u,s=i.abs(e-n),h=s/o):e>0&&(e=f?f/2.5*(o/8):0,s=i.abs(n)+e,h=s/o),{destination:i.round(e),duration:h}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:navigator.msPointerEnabled,hasTransition:u("transition")in f}),r.isAndroidBrowser=/Android/.test(n.navigator.appVersion)&&/Version\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t),n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22,r=.4;return n===0?0:n==1?1:r*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0),r.pageX=n.pageX,r.pageY=n.pageY,n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;i.tagName!="SELECT"&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"&&(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();return u.prototype={version:"5.0.6",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=u.pageX,this.pointY=u.pageY,this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0,u=this.hasVerticalScroll?u:0,f=this.x+t,e=this.y+u,(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX),(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY),this.directionX=t>0?-1:t<0?1:0,this.directionY=u>0?-1:u<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(f,e),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.scrollTo(t,u),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved){this.options.tap&&r.tap(n,this.options.tap),this.options.click&&r.click(n);return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic),this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]),this._events[n].push(t)},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].call(this)}},scrollBy:function(n,t,i,r){n=this.x+n,t=this.y+t,i=i||0,this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular,!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn)},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=u||0,o.top-=f||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t,this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this),i(n,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(n.PointerEvent?(i(this.wrapper,"pointerdown",this),i(u,"pointermove",this),i(u,"pointercancel",this),i(u,"pointerup",this)):n.MSPointerEvent&&(i(this.wrapper,"MSPointerDown",this),i(u,"MSPointerMove",this),i(u,"MSPointerCancel",this),i(u,"MSPointerUp",this))),r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d]/g,""),u=+t.top.replace(/[^-\d]/g,"")),{x:i,y:u}},_initIndicators:function(){var i=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="object",u=typeof this.options.scrollbars!="string",n=[],t,r;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),r=n.length;r--;)this.indicators[r]=new e(this,n[r]);this.on("refresh",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].refresh()});this.on("destroy",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].destroy();delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"mousewheel",this),r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"mousewheel",this),r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){n.preventDefault();var f,u,t,r,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400),"wheelDeltaX"in n)f=n.wheelDeltaX/120,u=n.wheelDeltaY/120;else if("wheelDelta"in n)f=u=n.wheelDelta/120;else if("detail"in n)f=u=-n.detail/3;else return;if(f*=this.options.mouseWheelSpeed,u*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(f=u,u=0),this.options.snap){t=this.currentPage.pageX,r=this.currentPage.pageY,f>0?t--:f<0&&t++,u>0?r--:u<0&&r++,this.goToPage(t,r);return}t=this.x+i.round(this.hasHorizontalScroll?f*this.options.invertWheelDirection:0),r=this.y+i.round(this.hasVerticalScroll?u*this.options.invertWheelDirection:0),t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(t,r,0)}},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c,n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing,n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0),t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r,this.currentPage={x:f,y:e,pageX:n,pageY:t},this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++),this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,r--),this.goToPage(i,r,n,t)},_initKeys:function(){var u={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i;if(typeof this.options.keyBindings=="object")for(i in this.options.keyBindings)typeof this.options.keyBindings[i]=="string"&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in u)this.options.keyBindings[i]=this.options.keyBindings[i]||u[i];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,h=.25,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+h,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX,f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0,f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(u,f,0),this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1,f._translate(n,t),f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i,v=u(a),y=(n-e)*v+e,p=(t-s)*v+s,f._translate(y,p),f.isAnimating&&o(c)}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0,c()},handleEvent:function(n){if(n.type!="MSPointerDown"&&n.type!="MSPointerMove"&&n.type!="MSPointerCancel"&&n.type!="MSPointerUp"&&n.type!="pointerdown"&&n.type!="pointermove"&&n.type!="pointercancel"&&n.type!="pointerup"||n.pointerType!="mouse"&&n.pointerType!=4)switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}},e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,"MSPointerDown",this),r.removeEvent(this.indicator,"pointerdown",this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,"MSPointerUp",this),r.removeEvent(n,"pointerup",this),r.removeEvent(n,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(0),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=r.getTime(),this.options.disableTouch||r.addEvent(n,"touchmove",this),this.options.disablePointer||(n.PointerEvent?r.addEvent(n,"pointermove",this):n.MSPointerEvent&&r.addEvent(n,"MSPointerMove",this)),this.options.disableMouse||r.addEvent(n,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,i=t.pageX-this.lastPointX,this.lastPointX=t.pageX,u=t.pageY-this.lastPointY,this.lastPointY=t.pageY,f=this.x+i,e=this.y+u,this._pos(f,e),n.preventDefault(),n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0,this.indicatorStyle[r.style.transitionDuration]=n+"ms"},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var n=i.round(this.sizeRatioX*this.scroller.x)||0,t=i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY)),this.x=n,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x,t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(n,t)}},u.ease=r.ease,u}(window,document,Math);!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e(44),o=e(162),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{162:162,44:44}],2:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case S.topCompositionStart:return k.compositionStart;case S.topCompositionEnd:return k.compositionEnd;case S.topCompositionUpdate:return k.compositionUpdate}}function a(e,t){return e===S.topKeyDown&&t.keyCode===_}function s(e,t){switch(e){case S.topKeyUp:return b.indexOf(t.keyCode)!==-1;case S.topKeyDown:return t.keyCode!==_;case S.topKeyPress:case S.topMouseDown:case S.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var o,l;if(E?o=i(e):R?s(e,n)&&(o=k.compositionEnd):a(e,n)&&(o=k.compositionStart),!o)return null;P&&(R||o!==k.compositionStart?o===k.compositionEnd&&R&&(l=R.getData()):R=v.getPooled(r));var c=g.getPooled(o,t,n,r);if(l)c.data=l;else{var p=u(n);null!==p&&(c.data=p)}return h.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case S.topCompositionEnd:return u(t);case S.topKeyPress:var n=t.which;return n!==N?null:(M=!0,w);case S.topTextInput:var r=t.data;return r===w&&M?null:r;default:return null}}function p(e,t){if(R){if(e===S.topCompositionEnd||!E&&s(e,t)){var n=R.getData();return v.release(R),R=null,n}return null}switch(e){case S.topPaste:return null;case S.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case S.topCompositionEnd:return P?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=x?c(e,n):p(e,n),!o)return null;var i=y.getPooled(k.beforeInput,t,n,r);return i.data=o,h.accumulateTwoPhaseDispatches(i),i}var f=e(16),h=e(20),m=e(154),v=e(21),g=e(106),y=e(110),C=e(172),b=[9,13,27,32],_=229,E=m.canUseDOM&&"CompositionEvent"in window,T=null;m.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var x=m.canUseDOM&&"TextEvent"in window&&!T&&!r(),P=m.canUseDOM&&(!E||T&&T>8&&T<=11),N=32,w=String.fromCharCode(N),S=f.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:C({onBeforeInput:null}),captured:C({onBeforeInputCapture:null})},dependencies:[S.topCompositionEnd,S.topKeyPress,S.topTextInput,S.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:C({onCompositionEnd:null}),captured:C({onCompositionEndCapture:null})},dependencies:[S.topBlur,S.topCompositionEnd,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:C({onCompositionStart:null}),captured:C({onCompositionStartCapture:null})},dependencies:[S.topBlur,S.topCompositionStart,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:C({onCompositionUpdate:null}),captured:C({onCompositionUpdateCapture:null})},dependencies:[S.topBlur,S.topCompositionUpdate,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]}},M=!1,R=null,A={eventTypes:k,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};t.exports=A},{106:106,110:110,154:154,16:16,172:172,20:20,21:21}],3:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],4:[function(e,t,n){"use strict";var r=e(3),o=e(154),i=(e(71),e(156),e(124)),a=e(167),s=e(173),u=(e(175),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=u(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)o[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var p in u)o[p]="";else o[a]=""}}}};t.exports=d},{124:124,154:154,156:156,167:167,173:173,175:175,3:3,71:71}],5:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e(143),i=e(176),a=e(26);e(168);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),t.exports=r},{143:143,168:168,176:176,26:26}],6:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=x.getPooled(M.change,A,e,P(e));b.accumulateTwoPhaseDispatches(t),T.batchedUpdates(i,t)}function i(e){C.enqueueEvents(e),C.processEventQueue(!1)}function a(e,t){R=e,A=t,R.attachEvent("onchange",o)}function s(){R&&(R.detachEvent("onchange",o),R=null,A=null)}function u(e,t){if(e===k.topChange)return t}function l(e,t,n){e===k.topFocus?(s(),a(t,n)):e===k.topBlur&&s()}function c(e,t){R=e,A=t,O=e.value,D=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",U),R.attachEvent?R.attachEvent("onpropertychange",d):R.addEventListener("propertychange",d,!1)}function p(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",d):R.removeEventListener("propertychange",d,!1),R=null,A=null,O=null,D=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,o(e))}}function f(e,t){if(e===k.topInput)return t}function h(e,t,n){e===k.topFocus?(p(),c(t,n)):e===k.topBlur&&p()}function m(e,t){if((e===k.topSelectionChange||e===k.topKeyUp||e===k.topKeyDown)&&R&&R.value!==O)return O=R.value,A}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if(e===k.topClick)return t}var y=e(16),C=e(17),b=e(20),_=e(154),E=e(44),T=e(97),x=e(108),P=e(132),N=e(139),w=e(140),S=e(172),k=y.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:S({onChange:null}),captured:S({onChangeCapture:null})},dependencies:[k.topBlur,k.topChange,k.topClick,k.topFocus,k.topInput,k.topKeyDown,k.topKeyUp,k.topSelectionChange]}},R=null,A=null,O=null,D=null,I=!1;_.canUseDOM&&(I=N("change")&&(!document.documentMode||document.documentMode>8));var L=!1;_.canUseDOM&&(L=N("input")&&(!document.documentMode||document.documentMode>11));var U={get:function(){return D.get.call(this)},set:function(e){O=""+e,D.set.call(this,e)}},F={eventTypes:M,extractEvents:function(e,t,n,o){var i,a,s=t?E.getNodeFromInstance(t):window;if(r(s)?I?i=u:a=l:w(s)?L?i=f:(i=m,a=h):v(s)&&(i=g),i){var c=i(e,t);if(c){var p=x.getPooled(M.change,c,n,o);return p.type="change",b.accumulateTwoPhaseDispatches(p),p}}a&&a(e,s,t)}};t.exports=F},{108:108,132:132,139:139,140:140,154:154,16:16,17:17,172:172,20:20,44:44,97:97}],7:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):v(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(v(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&v(r,document.createTextNode(n),o):n?(m(o,n),u(r,o,t)):u(r,e,t)}var c=e(8),p=e(12),d=e(76),f=(e(44),e(71),e(123)),h=e(145),m=e(146),v=f(function(e,t,n){e.insertBefore(t,n)}),g=p.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case d.INSERT_MARKUP:o(e,s.content,r(e,s.afterNode));break;case d.MOVE_EXISTING:i(e,s.fromNode,r(e,s.afterNode));break;case d.SET_MARKUP:h(e,s.content);break;case d.TEXT_CONTENT:m(e,s.content);break;case d.REMOVE_NODE:a(e,s.fromNode)}}}};t.exports=y},{12:12,123:123,145:145,146:146,44:44,71:71,76:76,8:8}],8:[function(e,t,n){"use strict";function r(e){if(v){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)g(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&f(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){v?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){v?e.html=t:p(e.node,t)}function s(e,t){v?e.text=t:f(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=e(9),p=e(145),d=e(123),f=e(146),h=1,m=11,v="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=d(function(e,t,n){t.node.nodeType===m||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=g,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{123:123,145:145,146:146,9:9}],9:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],10:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(143),i=(e(168),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?o("48",p):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o("50",p),u.hasOwnProperty(p)){var m=u[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:i};t.exports=s},{143:143,168:168}],11:[function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=e(10),a=(e(44),e(71),e(142)),s=(e(175),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{10:10,142:142,175:175,44:44,71:71}],12:[function(e,t,n){"use strict";var r=e(143),o=e(8),i=e(154),a=e(159),s=e(160),u=(e(168),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});t.exports=u},{143:143,154:154,159:159,160:160,168:168,8:8}],13:[function(e,t,n){"use strict";var r=e(172),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{172:172}],14:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getHostProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};t.exports=o},{}],15:[function(e,t,n){"use strict";var r=e(16),o=e(20),i=e(44),a=e(112),s=e(172),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var p,d;if(e===u.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;d=f?i.getClosestInstanceFromNode(f):null}else p=null,d=t;if(p===d)return null;var h=null==p?s:i.getNodeFromInstance(p),m=null==d?s:i.getNodeFromInstance(d),v=a.getPooled(l.mouseLeave,p,n,r);v.type="mouseleave",v.target=h,v.relatedTarget=m;var g=a.getPooled(l.mouseEnter,d,n,r);return g.type="mouseenter",g.target=m,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(v,g,p,d),[v,g]}};t.exports=c},{112:112,16:16,172:172,20:20,44:44}],16:[function(e,t,n){"use strict";var r=e(171),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};t.exports=a},{171:171}],17:[function(e,t,n){"use strict";var r=e(143),o=e(18),i=e(19),a=e(62),s=e(119),u=e(128),l=(e(168),{}),c=null,p=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?r("94",t,typeof n):void 0;var i=h(e),a=l[t]||(l[t]={});a[i]=n;var s=o.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t],r=h(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=l[t];if(r){var i=h(e);delete r[i]}},deleteAllListeners:function(e){var t=h(e);for(var n in l)if(l.hasOwnProperty(n)&&l[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete l[n][t]}},extractEvents:function(e,t,n,r){for(var i,a=o.plugins,u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(e,t,n,r);c&&(i=s(i,c))}}return i},enqueueEvents:function(e){e&&(c=s(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,d):u(t,f),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=m},{119:119,128:128,143:143,168:168,18:18,19:19,62:62}],18:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a("96",e),!l.plugins[n]){t.extractEvents?void 0:a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]?a("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(143),s=(e(168),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]?a("102",n):void 0,u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{143:143,168:168}],19:[function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function i(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=C.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(o,n,e):v.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?C.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(143),m=e(16),v=e(62),g=(e(168),e(175),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),y=m.topLevelTypes,C={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:g};t.exports=C},{143:143,16:16,168:168,175:175,62:62}],20:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return C(e,r)}function o(e,t,n){var o=t?y.bubbled:y.captured,i=r(e,n,o);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchInstances=v(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=C(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchInstances=v(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){g(e,i)}function c(e){g(e,a)}function p(e,t,n,r){m.traverseEnterLeave(n,r,s,e,t)}function d(e){g(e,u)}var f=e(16),h=e(17),m=e(19),v=e(119),g=e(128),y=(e(175),f.PropagationPhases),C=h.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=b},{119:119,128:128,16:16,17:17,175:175,19:19}],21:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(176),i=e(26),a=e(136);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{136:136,176:176,26:26}],22:[function(e,t,n){"use strict";var r=e(10),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=l},{10:10}],23:[function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],24:[function(e,t,n){"use strict";var r=e(72),o=e(92),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=i},{72:72,92:92}],25:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(143),u=e(82),l=e(81),c=e(83),p=(e(168),e(175),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||p[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},f={},h={checkPropTypes:function(e,t,n){for(var r in d){if(d.hasOwnProperty(r))var o=d[r](t,r,e,l.prop,null,c);o instanceof Error&&!(o.message in f)&&(f[o.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=h},{143:143,168:168,175:175,81:81,82:82,83:83}],26:[function(e,t,n){"use strict";var r=e(143),o=(e(168),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};t.exports=f},{143:143,168:168}],27:[function(e,t,n){"use strict";var r=e(176),o=e(32),i=e(34),a=e(84),s=e(33),u=e(47),l=e(60),c=e(82),p=e(98),d=e(141),f=(e(175),l.createElement),h=l.createFactory,m=l.cloneElement,v=r,g={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:d},Component:i,PureComponent:a,createElement:f,cloneElement:m,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:h,createMixin:function(e){return e},DOM:u,version:p,__spread:v};t.exports=g},{141:141,175:175,176:176,32:32,33:33,34:34,47:47,60:60,82:82,84:84,98:98}],28:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,d[e[v]]={}),d[e[v]]}var o,i=e(176),a=e(16),s=e(18),u=e(63),l=e(118),c=e(137),p=e(139),d={},f=!1,h=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=i({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=s.registrationNameDependencies[e],u=a.topLevelTypes,l=0;l<i.length;l++){var c=i[l];o.hasOwnProperty(c)&&o[c]||(c===u.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=g.supportsEventPageXY()),!o&&!f){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});t.exports=g},{118:118,137:137,139:139,16:16,176:176,18:18,63:63}],29:[function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var o=e(176),i=e(27),a=e(95),s=e(30),u=i.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:i.PropTypes.bool,transitionEnter:i.PropTypes.bool,transitionLeave:i.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return i.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return i.createElement(a,o({},this.props,{childFactory:this._wrapChild}))}});t.exports=u},{176:176,27:27,30:30,95:95}],30:[function(e,t,n){"use strict";var r=e(27),o=e(40),i=e(152),a=e(94),s=e(141),u=17,l=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=o.findDOMNode(this);if(!r)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||s+"-active",l=null,c=function(e){e&&e.target!==r||(clearTimeout(l),i.removeClass(r,s),i.removeClass(r,u),a.removeEndEventListener(r,c),t&&t())};i.addClass(r,s),this.queueClassAndNode(u,r),n?(l=setTimeout(c,n),this.transitionTimeouts.push(l)):a.addEndEventListener(r,c)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,u))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){i.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});t.exports=l},{141:141,152:152,27:27,40:40,94:94}],31:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=e(86),i=e(138),a=(e(23),e(148)),s=e(149);e(175);"undefined"!=typeof n&&n.env,1;var u={instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var d,f;for(d in t)if(t.hasOwnProperty(d)){f=e&&e[d];var h=f&&f._currentElement,m=t[d];if(null!=f&&a(h,m))o.receiveComponent(f,m,s,c),t[d]=f;else{f&&(r[d]=o.getHostNode(f),o.unmountComponent(f,!1));var v=i(m,!0);t[d]=v;var g=o.mountComponent(v,s,u,l,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(f=e[d],r[d]=o.getHostNode(f),o.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=u}).call(this,void 0)},{138:138,148:148,149:149,175:175,23:23,86:86}],32:[function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,o,n,v.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,i+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function l(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,o,i);g(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return l(e,t,null,v.thatReturnsArgument),t}var h=e(26),m=e(60),v=e(160),g=e(149),y=h.twoArgumentPooler,C=h.fourArgumentPooler,b=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,C);var _={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:f};t.exports=_},{149:149,160:160,26:26,60:60}],33:[function(e,t,n){"use strict";function r(e,t){var n=E.hasOwnProperty(t)?E[t]:null;x.hasOwnProperty(t)&&(n!==b.OVERRIDE_BASE?p("73",t):void 0),e&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?p("74",t):void 0)}function o(e,t){if(t){"function"==typeof t?p("75"):void 0,h.isValidElement(t)?p("76"):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(C)&&T.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==C){var a=t[i],l=n.hasOwnProperty(i);if(r(l,i),T.hasOwnProperty(i))T[i](e,a);else{var c=E.hasOwnProperty(i),d="function"==typeof a,f=d&&!c&&!l&&t.autobind!==!1;if(f)o.push(i,a),n[i]=a;else if(l){var m=E[i];!c||m!==b.DEFINE_MANY_MERGED&&m!==b.DEFINE_MANY?p("77",m,i):void 0,m===b.DEFINE_MANY_MERGED?n[i]=s(n[i],a):m===b.DEFINE_MANY&&(n[i]=u(n[i],a))}else n[i]=a}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in T;o?p("78",n):void 0;var i=n in e;i?p("79",n):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:p("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?p("81",n):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return a(o,n),a(o,r),o}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=l(e,o)}}var p=e(143),d=e(176),f=e(34),h=e(60),m=(e(81),e(80),e(78)),v=e(161),g=(e(168),e(171)),y=e(172),C=(e(175),y({mixins:null})),b=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],E={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},T={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){i(e,t)},autobind:function(){}},x={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};d(P.prototype,f.prototype,x);var N={createClass:function(e){var t=function(e,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=n,this.refs=v,this.updater=r||m,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?p("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=o};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],_.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:p("83");for(var n in E)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};t.exports=N},{143:143,161:161,168:168,171:171,172:172,175:175,176:176,34:34,60:60,78:78,80:80,81:81}],34:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}var o=e(143),i=e(78),a=(e(121),e(161));e(168),e(175);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};t.exports=r},{121:121,143:143,161:161,168:168,175:175,78:78}],35:[function(e,t,n){"use strict";var r=e(7),o=e(49),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},{49:49,7:7}],36:[function(e,t,n){"use strict";var r=e(143),o=(e(168),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r("104"):void 0,i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{143:143,168:168}],37:[function(e,t,n){"use strict";var r=e(147),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=o},{147:147}],38:[function(e,t,n){"use strict";function r(e){}function o(e,t){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=e(143),u=e(176),l=e(36),c=e(39),p=e(60),d=e(62),f=e(70),h=(e(71),e(77)),m=(e(81),e(86)),v=e(122),g=e(161),y=(e(168),e(174)),C=e(148),b=(e(175),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=f.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var _=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var l,c=this._currentElement.props,d=this._processContext(u),h=this._currentElement.type,m=e.getUpdateQueue(),v=i(h),y=this._constructComponent(v,c,d,m);v||null!=y&&null!=y.render?a(h)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(l=y,o(h,l),null===y||y===!1||p.isValidElement(y)?void 0:s("105",h.displayName||h.name||"Component"),y=new r(h),this._compositeType=b.StatelessFunctional),y.props=c,y.context=d,y.refs=g,y.updater=m,this._instance=y,f.set(y,this);var C=y.state;void 0===C&&(y.state=C=null),"object"!=typeof C||Array.isArray(C)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var E;return E=y.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,u):this.performInitialMount(l,t,n,e,u),y.componentDidMount&&e.getReactMountReady().enqueue(y.componentDidMount,y),E},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var s=h.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==h.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,r,t,n,this._processChildContext(o),a);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,f.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var o in t)o in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",o);return u({},e,t)}return e},_checkContextTypes:function(e,t,n){v(e,t,n,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===o?a=i.context:(a=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var p=this._processPendingState(c,a),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,p,a):this._compositeType===b.PureClass&&(d=!y(l,c)||!y(i.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,a,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=u({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];u(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent(),i=0;if(C(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=h.getType(o);this._renderedNodeType=s;var u=this._instantiateReactComponent(o,s!==h.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),i);this._replaceNodeWithMarkup(a,l,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||p.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),o=n.refs===g?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null},T={Mixin:E};t.exports=T},{122:122,143:143,148:148,161:161,168:168,174:174,175:175,176:176,36:36,39:39,60:60,62:62,70:70,71:71,77:77,81:81,86:86}],39:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e(44),o=e(59),i=e(74),a=e(86),s=e(97),u=e(98),l=e(126),c=e(133),p=e(144);e(175);o.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});t.exports=d},{126:126,133:133,144:144,175:175,44:44,59:59,74:74,86:86,97:97,98:98}],41:[function(e,t,n){"use strict";var r=e(14),o={getHostProps:r.getHostProps};t.exports=o},{14:14}],42:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&($[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?m("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&K in t.dangerouslySetInnerHTML?void 0:m("61")),null!=t.style&&"object"!=typeof t.style?m("62",r(e)):void 0)}function i(e,t,n,r){if(!(r instanceof I)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===z,s=i?o._node:o._ownerDocument;B(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;M.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function l(){var e=this;R.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:m("63");var t=j(e);switch(t?void 0:m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(N.trapBubbledEvent(T.topLevelTypes[n],G[n],t));break;case"source":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topError,"error",t),N.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topReset,"reset",t),N.trapBubbledEvent(T.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[N.trapBubbledEvent(T.topLevelTypes.topInvalid,"invalid",t)]}}function p(){A.postUpdateWrapper(this)}function d(e){ee.call(J,e)||(Z.test(e)?void 0:m("65",e),J[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function h(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=e(143),v=e(176),g=e(1),y=e(4),C=e(8),b=e(9),_=e(10),E=e(11),T=e(16),x=e(17),P=e(18),N=e(28),w=e(41),S=e(43),k=e(44),M=e(50),R=e(51),A=e(52),O=e(56),D=(e(71),e(75)),I=e(90),L=(e(160),e(125)),U=(e(168),e(139),e(172)),F=(e(174),e(151),e(175),S),V=x.deleteListener,j=k.getNodeFromInstance,B=N.listenTo,W=P.registrationNameModules,H={string:!0,number:!0},q=U({style:null}),K=U({__html:null}),Y={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},z=11,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},$=v({menuitem:!0},X),Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},ee={}.hasOwnProperty,te=1;h.displayName="ReactDOMComponent",h.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=te++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":i=w.getHostProps(this,i,t);break;case"input":M.mountWrapper(this,i,t),i=M.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"option":R.mountWrapper(this,i,t),i=R.getHostProps(this,i);break;case"select":A.mountWrapper(this,i,t),i=A.getHostProps(this,i),e.getReactMountReady().enqueue(c,this);break;case"textarea":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(c,this)}o(this,i);var a,p;null!=t?(a=t._namespaceURI,p=t._tag):n._tag&&(a=n._namespaceURI,p=n._tag),(null==a||a===b.svg&&"foreignobject"===p)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var d;if(e.useCreateElement){var f,h=n._ownerDocument;if(a===b.html)if("script"===this._tag){var m=h.createElement("div"),v=this._currentElement.type;m.innerHTML="<"+v+"></"+v+">",f=m.removeChild(m.firstChild)}else f=i.is?h.createElement(this._currentElement.type,i.is):h.createElement(this._currentElement.type);else f=h.createElementNS(a,this._currentElement.type);k.precacheNode(this,f),this._flags|=F.hasCachedChildNodes,this._hostParent||E.setAttributeForRoot(f),this._updateDOMProperties(null,i,e);var y=C(f);this._createInitialChildren(e,i,r,y),d=y}else{var _=this._createOpenTagMarkupAndPutListeners(e,i),T=this._createContentMarkup(e,i,r);d=!T&&X[this._tag]?_+"/>":_+">"+T+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"select":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"button":i.autoFocus&&e.getReactMountReady().enqueue(g.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(W.hasOwnProperty(r))o&&i(this,r,o,e);else{r===q&&(o&&(o=this._previousStyleCopy=v({},t.style)),o=y.createMarkupForStyles(o,this));var a=null;null!=this._tag&&f(this._tag,t)?Y.hasOwnProperty(r)||(a=E.createMarkupForCustomAttribute(r,o)):a=E.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+E.createMarkupForRoot()),n+=" "+E.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=H[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=L(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return Q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&C.queueHTML(r,o.__html);else{var i=H[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)C.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)C.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"button":i=w.getHostProps(this,i),a=w.getHostProps(this,a);break;case"input":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"option":i=R.getHostProps(this,i),a=R.getHostProps(this,a);break;case"select":i=A.getHostProps(this,i),a=A.getHostProps(this,a);break;case"textarea":i=O.getHostProps(this,i),a=O.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":M.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(p,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else W.hasOwnProperty(r)?e[r]&&V(this,r):f(this._tag,e)?Y.hasOwnProperty(r)||E.deleteValueForAttribute(j(this),r):(_.properties[r]||_.isCustomAttribute(r))&&E.deleteValueForProperty(j(this),r);for(r in t){var u=t[r],l=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===q)if(u?u=this._previousStyleCopy=v({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(W.hasOwnProperty(r))u?i(this,r,u,n):l&&V(this,r);else if(f(this._tag,t))Y.hasOwnProperty(r)||E.setValueForAttribute(j(this),r,u);else if(_.properties[r]||_.isCustomAttribute(r)){var c=j(this);null!=u?E.setValueForProperty(c,r,u):E.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(j(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=H[typeof e.children]?e.children:null,i=H[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return j(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return j(this)}},v(h.prototype,h.Mixin,D.Mixin),t.exports=h},{1:1,10:10,11:11,125:125,139:139,143:143,151:151,16:16,160:160,168:168,17:17,172:172,174:174,175:175,176:176,18:18,28:28,4:4,41:41,43:43,44:44,50:50,51:51,52:52,56:56,71:71,75:75,8:8,9:9,90:90}],43:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],44:[function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._hostNode=t,t[m]=n}function i(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function a(e,t){if(!(e._flags&h.hasCachedChildNodes)){var n=e._renderedChildren,i=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(0!==u){for(;null!==i;i=i.nextSibling)if(1===i.nodeType&&i.getAttribute(f)===String(u)||8===i.nodeType&&i.nodeValue===" react-text: "+u+" "||8===i.nodeType&&i.nodeValue===" react-empty: "+u+" "){o(s,i);continue e}c("32",u)}}e._flags|=h.hasCachedChildNodes}}function s(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function u(e){var t=s(e);return null!=t&&t._hostNode===e?t:null}function l(e){if(void 0===e._hostNode?c("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:c("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode}var c=e(143),p=e(10),d=e(43),f=(e(168),p.ID_ATTRIBUTE_NAME),h=d,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:o,uncacheNode:i};t.exports=v},{10:10,143:143,168:168,43:43}],45:[function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(e(151),9);t.exports=r},{151:151}],46:[function(e,t,n){"use strict";var r=e(176),o=e(8),i=e(44),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{176:176,44:44,8:8}],47:[function(e,t,n){"use strict";var r=e(60),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},{60:60}],48:[function(e,t,n){"use strict";var r={useCreateElement:!0};t.exports=r},{}],49:[function(e,t,n){"use strict";var r=e(7),o=e(44),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=i},{44:44,7:7}],50:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);p.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==a&&f.form===a.form){var h=c.getInstanceFromNode(f);h?void 0:i("90"),p.asap(r,h)}}}return n}var i=e(143),a=e(176),s=e(14),u=e(11),l=e(25),c=e(44),p=e(97),d=(e(168),e(175),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t),o=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),o=l.getValue(t);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==t.value&&null!=t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=d},{11:11,14:14,143:143,168:168,175:175,176:176,25:25,44:44,97:97}],51:[function(e,t,n){"use strict";function r(e){var t="";return i.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=e(176),i=e(32),a=e(44),s=e(52),u=(e(175),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};t.exports=l},{175:175,176:176,32:32,44:44,52:52}],52:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=u.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=l.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=e(176),s=e(14),u=e(25),l=e(44),c=e(97),p=(e(175),!1),d={getHostProps:function(e,t){return a({},s.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=u.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=u.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d},{14:14,175:175,176:176,25:25,44:44,97:97}],53:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+l,h=document.createRange();h.setStart(n,o),h.setEnd(i,a);var m=h.collapsed;return{start:m?f:d,end:m?d:f}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e(154),l=e(135),c=e(136),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};t.exports=d},{135:135,136:136,154:154}],54:[function(e,t,n){"use strict";var r=e(59),o=e(89),i=e(98);r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};t.exports=a},{59:59,89:89,98:98}],55:[function(e,t,n){"use strict";var r=e(143),o=e(176),i=e(7),a=e(8),s=e(44),u=e(125),l=(e(168),e(151),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(i),d=c.createComment(l),f=a(c.createDocumentFragment());return a.queueChild(f,a(p)),this._stringText&&a.queueChild(f,a(c.createTextNode(this._stringText))),a.queueChild(f,a(d)),s.precacheNode(this,p),this._closingComment=d,f}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+i+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},{125:125,143:143,151:151,168:168,176:176,44:44,7:7,8:8}],56:[function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return c.asap(r,this),n}var i=e(143),a=e(176),s=e(14),u=e(25),l=e(44),c=e(97),p=(e(168),e(175),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?i("91"):void 0;var n=a({},s.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=u.getValue(t),r=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a?i("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:i("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=u.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e);t.value=t.textContent}});t.exports=p},{14:14,143:143,168:168,175:175,176:176,25:25,44:44,97:97}],57:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-->0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,o);for(l=u.length;l-->0;)n(u[l],!1,i)}var u=e(143);e(168);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{143:143,168:168}],58:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(176),i=e(97),a=e(117),s=e(160),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};t.exports=d},{117:117,160:160,176:176,97:97}],59:[function(e,t,n){"use strict";function r(){E||(E=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(f),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:b,BeforeInputEventPlugin:o}),g.HostComponent.injectGenericComponentClass(c),g.HostComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(C),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(m),g.Component.injectEnvironment(l))}var o=e(2),i=e(6),a=e(13),s=e(15),u=e(22),l=e(35),c=e(42),p=e(44),d=e(46),f=e(57),h=e(55),m=e(58),v=e(64),g=e(68),y=e(85),C=e(101),b=e(102),_=e(103),E=!1;t.exports={inject:r}},{101:101,102:102,103:103,13:13,15:15,2:2,22:22,35:35,42:42,44:44,46:46,55:55,57:57,58:58,6:6,64:64,68:68,85:85}],60:[function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var i=e(176),a=e(39),s=(e(175),e(121),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,o,i,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i};return s};c.createElement=function(e,t,n){var i,u={},p=null,d=null,f=null,h=null;if(null!=t){r(t)&&(d=t.ref),o(t)&&(p=""+t.key),f=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!l.hasOwnProperty(i)&&(u[i]=t[i])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var v=Array(m),g=0;g<m;g++)v[g]=arguments[g+2];u.children=v}if(e&&e.defaultProps){var y=e.defaultProps;for(i in y)void 0===u[i]&&(u[i]=y[i])}return c(e,p,d,f,h,a.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var u,p=i({},e.props),d=e.key,f=e.ref,h=e._self,m=e._source,v=e._owner;if(null!=t){r(t)&&(f=t.ref,v=a.current),o(t)&&(d=""+t.key);var g;e.type&&e.type.defaultProps&&(g=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==g?p[u]=g[u]:p[u]=t[u])}var y=arguments.length-2;if(1===y)p.children=n;else if(y>1){for(var C=Array(y),b=0;b<y;b++)C[b]=arguments[b+2];p.children=C}return c(e.type,d,f,h,m,v,p)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},c.REACT_ELEMENT_TYPE=u,t.exports=c},{121:121,175:175,176:176,39:39}],61:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],62:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(e){return void(null===o&&(o=e))}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],63:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(17),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};t.exports=i},{17:17}],64:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){var t=h(window);e(t)}var s=e(176),u=e(153),l=e(154),c=e(26),p=e(44),d=e(97),f=e(132),h=e(165);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{132:132,153:153,154:154,165:165,176:176,26:26,44:44,97:97}],65:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],66:[function(e,t,n){"use strict";var r=e(143),o=e(32),i=e(60),a=e(160),s=(e(168),e(175),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType?r("0"):void 0;var t=[];for(var n in e)o.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});t.exports=s},{143:143,160:160,168:168,175:175,32:32,60:60}],67:[function(e,t,n){"use strict";function r(e){return u?void 0:a("111",e.type),new u(e)}function o(e){return new c(e)}function i(e){return e instanceof c}var a=e(143),s=e(176),u=(e(168),null),l={},c=null,p={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){s(l,e)}},d={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:p};t.exports=d},{143:143,168:168,176:176}],68:[function(e,t,n){"use strict";var r=e(10),o=e(17),i=e(19),a=e(36),s=e(33),u=e(61),l=e(28),c=e(67),p=e(97),d={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:p.injection};t.exports=d},{10:10,17:17,19:19,28:28,33:33,36:36,61:61,67:67,97:97}],69:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e(53),i=e(157),a=e(162),s=e(163),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{157:157,162:162,163:163,53:53}],70:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],71:[function(e,t,n){"use strict";var r=null;t.exports={debugTool:r}},{}],72:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function o(e){var t={value:void 0===e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=e(27);r.PropTypes={link:o},t.exports=r},{27:27}],73:[function(e,t,n){"use strict";var r=e(120),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=a},{120:120}],74:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===D?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(R)||""}function a(e,t,n,r,o){var i;if(_.logTopLevelRenders){var a=e._currentElement.props,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=x.mountComponent(e,n,null,y(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,V._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=N.ReactReconcileTransaction.getPooled(!n&&C.useCreateElement);o.perform(a,null,e,t,o,n,r),N.ReactReconcileTransaction.release(o)}function u(e,t,n){for(x.unmountComponent(e,n),t.nodeType===D&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=g.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==O&&e.nodeType!==D&&e.nodeType!==I)}function p(e){var t=o(e),n=t&&g.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=e(143),h=e(8),m=e(10),v=e(28),g=(e(39),e(44)),y=e(45),C=e(48),b=e(60),_=e(65),E=e(70),T=(e(71),e(73)),x=e(86),P=e(96),N=e(97),w=e(161),S=e(138),k=(e(168),e(145)),M=e(148),R=(e(175),m.ID_ATTRIBUTE_NAME),A=m.ROOT_ATTRIBUTE_NAME,O=1,D=9,I=11,L={},U=1,F=function(){this.rootID=U++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props};var V={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return V.scrollMonitor(r,function(){P.enqueueElementInternal(e,t,n),o&&P.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:f("37"),v.ensureScrollValueMonitoring();var o=S(e,!1);N.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return L[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)?void 0:f("38"),V._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){P.validateCallback(r,"ReactDOM.render"),b.isValidElement(t)?void 0:f("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=b(F,null,null,null,null,null,t);if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=w;var c=d(n);if(c){var p=c._currentElement,h=p.props;if(M(h,t)){var m=c._renderedComponent.getPublicInstance(),v=r&&function(){r.call(m)};return V._updateRootComponent(c,s,a,n,v),m}V.unmountComponentAtNode(n)}var g=o(n),y=g&&!!i(g),C=l(n),_=y&&!c&&!C,T=V._renderNewRootComponent(s,n,_,a)._renderedComponent.getPublicInstance();return r&&r.call(T),T},render:function(e,t,n){return V._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:f("40");var t=d(e);return t?(delete L[t._instance.rootID],N.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(A),!1)},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)?void 0:f("41"),i){var s=o(t);if(T.canReuseMarkup(e,s))return void g.precacheNode(n,s);var u=s.getAttribute(T.CHECKSUM_ATTR_NAME);s.removeAttribute(T.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(T.CHECKSUM_ATTR_NAME,u);var p=e,d=r(p,l),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===D?f("42",m):void 0}if(t.nodeType===D?f("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else k(t,e),g.precacheNode(n,t.firstChild)}};t.exports=V},{10:10,138:138,143:143,145:145,148:148,161:161,168:168,175:175,28:28,39:39,44:44,45:45,48:48,60:60,65:65,70:70,71:71,73:73,8:8,86:86,96:96,97:97}],75:[function(e,t,n){"use strict";function r(e,t,n){return{type:d.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:d.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:f.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:d.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:d.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:d.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=e(143),p=e(36),d=(e(70),e(71),e(76)),f=(e(39),e(86)),h=e(31),m=(e(160),e(127)),v=(e(168),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a,s=0;return a=m(t,s),h.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=f.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,d=0,h=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=u(c,this.moveChild(v,m,p,d)),d=Math.max(v._mountIndex,d),v._mountIndex=p):(v&&(d=Math.max(v._mountIndex,d)),c=u(c,this._mountChildAtIndex(g,i[h],m,p,t,n)),h++),p++,m=f.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=v},{127:127,143:143,160:160,168:168,31:31,36:36,39:39,70:70,71:71,76:76,86:86}],76:[function(e,t,n){"use strict";var r=e(171),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{171:171}],77:[function(e,t,n){"use strict";var r=e(143),o=e(60),i=(e(168),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});t.exports=i},{143:143,168:168,60:60}],78:[function(e,t,n){"use strict";function r(e,t){}var o=(e(175),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});t.exports=o},{175:175}],79:[function(e,t,n){"use strict";var r=e(143),o=(e(168),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=o},{143:143,168:168}],80:[function(e,t,n){"use strict";var r={};t.exports=r},{}],81:[function(e,t,n){"use strict";var r=e(171),o=r({prop:null,context:null,childContext:null});t.exports=o},{171:171}],82:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function i(e){function t(t,n,r,i,a,s,u){if(i=i||N,s=s||r,null==n[r]){var l=E[a];return t?new o("Required "+l+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,a,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,i,a,s){var u=t[n],l=y(u);if(l!==e){var c=E[i],p=C(u);return new o("Invalid "+c+" `"+a+"` of type "+("`"+p+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function s(){return i(x.thatReturns(null))}function u(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=E[i],l=y(s);return new o("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var p=e(s,c,r,i,a+"["+c+"]",T);if(p instanceof Error)return p}return null}return i(t)}function l(){function e(e,t,n,r,i){var a=e[t];if(!_.isValidElement(a)){var s=E[r],u=y(a);return new o("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return i(e)}function c(e){function t(t,n,r,i,a){if(!(t[n]instanceof e)){var s=E[i],u=e.name||N,l=b(t[n]);return new o("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return i(t)}function p(e){function t(t,n,i,a,s){for(var u=t[n],l=0;l<e.length;l++)if(r(u,e[l]))return null;var c=E[a],p=JSON.stringify(e);return new o("Invalid "+c+" `"+s+"` of value `"+u+"` "+("supplied to `"+i+"`, expected one of "+p+"."))}return Array.isArray(e)?i(t):x.thatReturnsNull}function d(e){function t(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=y(s);if("object"!==u){var l=E[i];return new o("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,i,a+"."+c,T);if(p instanceof Error)return p}return null}return i(t)}function f(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,i,a,T))return null}var l=E[i];return new o("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?i(t):x.thatReturnsNull}function h(){function e(e,t,n,r,i){if(!v(e[t])){var a=E[r];return new o("Invalid "+a+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function m(e){function t(t,n,r,i,a){var s=t[n],u=y(s);if("object"!==u){var l=E[i];return new o("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var p=e[c];if(p){var d=p(s,c,r,i,a+"."+c,T);if(d)return d}}return null}return i(t)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||_.isValidElement(e))return!0;var t=P(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!v(o[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function C(e){var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:N}var _=e(60),E=e(80),T=e(83),x=e(160),P=e(134),N=(e(175),"<<anonymous>>"),w={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:c,node:h(),objectOf:d,oneOf:p,oneOfType:f,shape:m};o.prototype=Error.prototype,t.exports=w},{134:134,160:160,175:175,60:60,80:80,83:83}],83:[function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},{}],84:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function o(){}var i=e(176),a=e(34),s=e(78),u=e(161);o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r,i(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},{161:161,176:176,34:34,78:78}],85:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(176),i=e(5),a=e(26),s=e(28),u=e(69),l=(e(71),e(117)),c=e(96),p={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l.Mixin,m),a.addPoolingTo(r),t.exports=r},{117:117,176:176,26:26,28:28,5:5,69:69,71:71,96:96}],86:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(87),i=(e(71),e(175),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=i},{175:175,71:71,87:87}],87:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(79),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{79:79}],88:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],89:[function(e,t,n){"use strict";function r(e,t){var n;try{return h.injection.injectBatchingStrategy(d),n=f.getPooled(t),g++,n.perform(function(){var r=v(e,!0),o=p.mountComponent(r,n,null,s(),m,0);return t||(o=c.addChecksumToMarkup(o)),o},null)}finally{g--,f.release(n),g||h.injection.injectBatchingStrategy(u)}}function o(e){return l.isValidElement(e)?void 0:a("46"),r(e,!1)}function i(e){return l.isValidElement(e)?void 0:a("47"),r(e,!0)}var a=e(143),s=e(45),u=e(58),l=e(60),c=(e(71),e(73)),p=e(86),d=e(88),f=e(90),h=e(97),m=e(161),v=e(138),g=(e(168),0);t.exports={renderToString:o,renderToStaticMarkup:i}},{138:138,143:143,161:161,168:168,45:45,58:58,60:60,71:71,73:73,86:86,88:88,90:90,97:97}],90:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=e(176),i=e(26),a=e(117),s=(e(71),e(91)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a.Mixin,c),i.addPoolingTo(r),t.exports=r},{117:117,176:176,26:26,71:71,91:91}],91:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){}var i=e(96),a=(e(117),e(175),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?i.enqueueForceUpdate(e):o(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?i.enqueueReplaceState(e,t):o(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?i.enqueueSetState(e,t):o(e,"setState")},e}());t.exports=a},{117:117,175:175,96:96}],92:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,a,s){var u=t.call(e,n,r,o,i,a,s);u&&e.setState(u)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],93:[function(e,t,n){"use strict";var r=e(127),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};t.exports=o},{127:127}],94:[function(e,t,n){"use strict";function r(){var e=s("animationend"),t=s("transitionend");e&&u.push(e),t&&u.push(t)}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var a=e(154),s=e(137),u=[];a.canUseDOM&&r();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){o(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){i(e,n,t)})}};t.exports=l},{137:137,154:154}],95:[function(e,t,n){"use strict";var r=e(176),o=e(27),i=(e(70),e(93)),a=e(160),s=o.createClass({displayName:"ReactTransitionGroup",propTypes:{component:o.PropTypes.any,childFactory:o.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t;t=i.getChildMapping(e.children);var n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n;n=i.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var i=r({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,o.createElement(this.props.component,i,e)}});t.exports=s},{160:160,176:176,27:27,70:70,93:93}],96:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n?n:null}var a=e(143),s=(e(39),e(70)),u=(e(71),e(97)),l=(e(168),e(175),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void r(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,o(e)):void 0}});t.exports=l},{143:143,168:168,175:175,39:39,70:70,71:71,97:97}],97:[function(e,t,n){"use strict";function r(){w.ReactReconcileTransaction&&_?void 0:c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){r(),_.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?c("124",t,g.length):void 0,g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){return r(),_.isBatchingUpdates?(g.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void _.batchedUpdates(u,e)}function l(e,t){_.isBatchingUpdates?void 0:c("125"),C.enqueue(e,t),b=!0}var c=e(143),p=e(176),d=e(5),f=e(26),h=e(65),m=e(86),v=e(117),g=(e(168),[]),y=0,C=d.getPooled(),b=!1,_=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),P()):g.length=0}},T={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[E,T];p(o.prototype,v.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var P=function(){for(;g.length||b;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(b){b=!1;var t=C;C=d.getPooled(),t.notifyAll(),d.release(t)}}},N={injectReconcileTransaction:function(e){e?void 0:c("126"),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,_=e}},w={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:P,injection:N,asap:l};t.exports=w},{117:117,143:143,168:168,176:176,26:26,5:5,65:65,86:86}],98:[function(e,t,n){"use strict";t.exports="15.3.2"},{}],99:[function(e,t,n){"use strict";var r=e(24),o=e(27),i=e(37),a=e(29),s=e(66),u=e(95),l=e(147),c=e(150);o.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:u,createFragment:s.create,shallowCompare:l,update:c},t.exports=o},{147:147,150:150,24:24,27:27,29:29,37:37,66:66,95:95}],100:[function(e,t,n){"use strict";var r=e(176),o=e(40),i=e(54),a=e(99),s=r({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:i},a);t.exports=s},{176:176,40:40,54:54,99:99}],101:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],102:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==y||y!==p())return null;var n=r(y);if(!b||!h(b,n)){b=n;var o=c.getPooled(g.select,C,e,t);return o.type="select",o.target=y,a.accumulateTwoPhaseDispatches(o),o}return null}var i=e(16),a=e(20),s=e(154),u=e(44),l=e(69),c=e(108),p=e(163),d=e(140),f=e(172),h=e(174),m=i.topLevelTypes,v=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,C=null,b=null,_=!1,E=!1,T=f({onSelect:null}),x={eventTypes:g,extractEvents:function(e,t,n,r){if(!E)return null;var i=t?u.getNodeFromInstance(t):window;switch(e){case m.topFocus:(d(i)||"true"===i.contentEditable)&&(y=i,C=t,b=null);break;case m.topBlur:y=null,C=null,b=null;break;case m.topMouseDown:_=!0;break;case m.topContextMenu:case m.topMouseUp:return _=!1,o(n,r);case m.topSelectionChange:if(v)break;case m.topKeyDown:case m.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===T&&(E=!0)}};t.exports=x},{108:108,140:140,154:154,16:16,163:163,172:172,174:174,20:20,44:44,69:69}],103:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}var o=e(143),i=e(16),a=e(153),s=e(20),u=e(44),l=e(104),c=e(105),p=e(108),d=e(109),f=e(111),h=e(112),m=e(107),v=e(113),g=e(114),y=e(115),C=e(116),b=e(160),_=e(129),E=(e(168),e(172)),T=i.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:E({onAbort:!0}),captured:E({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:E({onAnimationEnd:!0}),captured:E({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:E({onAnimationIteration:!0}),captured:E({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:E({onAnimationStart:!0}),captured:E({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:!0}),captured:E({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:!0}),captured:E({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:!0}),captured:E({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:E({onClick:!0}),captured:E({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:!0}),captured:E({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:!0}),captured:E({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:!0}),captured:E({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:!0}),captured:E({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:!0}),captured:E({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:!0}),captured:E({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:!0}),captured:E({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:!0}),captured:E({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:!0}),captured:E({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:!0}),captured:E({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:!0}),captured:E({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:!0}),captured:E({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:!0}),captured:E({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:!0}),captured:E({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:!0}),captured:E({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:!0}),captured:E({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:E({onError:!0}),captured:E({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:!0}),captured:E({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:E({onInput:!0}),captured:E({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:E({onInvalid:!0}),captured:E({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:!0}),captured:E({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:!0}),captured:E({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:!0}),captured:E({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:!0}),captured:E({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:!0}),captured:E({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:!0}),captured:E({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:!0}),captured:E({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:!0}),captured:E({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:!0}),captured:E({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:!0}),captured:E({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:!0}),captured:E({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:!0}),captured:E({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:!0}),captured:E({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:!0}),captured:E({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:!0}),captured:E({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:!0}),captured:E({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:!0}),captured:E({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:!0}),captured:E({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:!0}),captured:E({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:!0}),captured:E({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:!0}),captured:E({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:!0}),captured:E({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:E({onStalled:!0}),captured:E({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:!0}),captured:E({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:!0}),captured:E({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:!0}),captured:E({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:!0}),captured:E({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:!0}),captured:E({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:!0}),captured:E({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:!0}),captured:E({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:E({onTransitionEnd:!0}),captured:E({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:!0}),captured:E({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:!0}),captured:E({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:!0}),captured:E({onWheelCapture:!0})}}},P={topAbort:x.abort,topAnimationEnd:x.animationEnd,topAnimationIteration:x.animationIteration,topAnimationStart:x.animationStart,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topInvalid:x.invalid,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topTransitionEnd:x.transitionEnd,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var N in P)P[N].dependencies=[N];var w=E({onClick:null}),S={},k={eventTypes:x,extractEvents:function(e,t,n,r){var i=P[e];if(!i)return null;var a;switch(e){case T.topAbort:case T.topCanPlay:case T.topCanPlayThrough:case T.topDurationChange:case T.topEmptied:case T.topEncrypted:case T.topEnded:case T.topError:case T.topInput:case T.topInvalid:case T.topLoad:case T.topLoadedData:case T.topLoadedMetadata:case T.topLoadStart:case T.topPause:case T.topPlay:case T.topPlaying:case T.topProgress:case T.topRateChange:case T.topReset:case T.topSeeked:case T.topSeeking:case T.topStalled:case T.topSubmit:case T.topSuspend:case T.topTimeUpdate:case T.topVolumeChange:case T.topWaiting:a=p;break;case T.topKeyPress:if(0===_(n))return null;case T.topKeyDown:case T.topKeyUp:a=f;break;case T.topBlur:case T.topFocus:a=d;break;case T.topClick:if(2===n.button)return null;case T.topContextMenu:case T.topDoubleClick:case T.topMouseDown:case T.topMouseMove:case T.topMouseOut:case T.topMouseOver:case T.topMouseUp:a=h;break;case T.topDrag:case T.topDragEnd:case T.topDragEnter:case T.topDragExit:case T.topDragLeave:case T.topDragOver:case T.topDragStart:case T.topDrop:a=m;break;case T.topTouchCancel:case T.topTouchEnd:case T.topTouchMove:case T.topTouchStart:a=v;break;case T.topAnimationEnd:case T.topAnimationIteration:case T.topAnimationStart:a=l;break;case T.topTransitionEnd:a=g;break;case T.topScroll:a=y;break;case T.topWheel:a=C;break;case T.topCopy:case T.topCut:case T.topPaste:a=c}a?void 0:o("86",e);var u=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if(t===w){var o=r(e),i=u.getNodeFromInstance(e);S[o]||(S[o]=a.listen(i,"click",b))}},willDeleteListener:function(e,t){if(t===w){var n=r(e);S[n].remove(),delete S[n]}}};t.exports=k},{104:104,105:105,107:107,108:108,109:109,111:111,112:112,113:113,114:114,115:115,116:116,129:129,143:143,153:153,16:16,160:160,168:168,172:172,20:20,44:44}],104:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{108:108}],105:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{108:108}],106:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={data:null};o.augmentClass(r,i),t.exports=r},{108:108}],107:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(112),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{112:112}],108:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(176),i=e(26),a=e(160),s=(e(175),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},{160:160,175:175,176:176,26:26}],109:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{115:115}],110:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={data:null};o.augmentClass(r,i),t.exports=r},{108:108}],111:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i=e(129),a=e(130),s=e(131),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{115:115,129:129,130:130,131:131}],112:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i=e(118),a=e(131),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{115:115,118:118,131:131}],113:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(115),i=e(131),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{115:115,131:131}],114:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{108:108}],115:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),i=e(132),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{108:108,132:132}],116:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(112),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{112:112}],117:[function(e,t,n){"use strict";var r=e(143),o=(e(168),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}}),i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},{143:143,168:168}],118:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],119:[function(e,t,n){"use strict";function r(e,t){return null==t?o("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(143);e(168);t.exports=r},{143:143,168:168}],120:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=i&-4;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],121:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],122:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,u,l){for(var c in e)if(e.hasOwnProperty(c)){var p;try{"function"!=typeof e[c]?o("84",r||"React class",i[n],c):void 0,p=e[c](t,c,r,n,null,a)}catch(e){p=e}p instanceof Error&&!(p.message in s)&&(s[p.message]=!0)}}var o=e(143),i=e(80),a=e(83);e(168),e(175);"undefined"!=typeof n&&n.env,1;var s={};t.exports=r}).call(this,void 0)},{143:143,168:168,175:175,80:80,83:83}],123:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],124:[function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);return o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(3),i=(e(175),o.isUnitlessNumber);t.exports=r},{175:175,3:3}],125:[function(e,t,n){"use strict";function r(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function o(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var i=/["'&<>]/;t.exports=o},{}],126:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?i.getNodeFromInstance(t):null):void("function"==typeof e.render?o("44"):o("45",Object.keys(e)))}var o=e(143),i=(e(39),e(44)),a=e(70),s=e(133);e(168),e(175);t.exports=r},{133:133,143:143,168:168,175:175,39:39,44:44,70:70}],127:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e,i=void 0===o[n];i&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(23),e(149));e(175);"undefined"!=typeof n&&n.env,t.exports=o}).call(this,void 0)},{149:149,175:175,23:23}],128:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],129:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],130:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(129),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{129:129}],131:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],132:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(77);t.exports=r},{77:77}],134:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],135:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],136:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(154),i=null;t.exports=r},{154:154}],137:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(154),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{154:154}],138:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||e===!1)n=l.create(i);else if("object"==typeof e){var s=e;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(143),s=e(176),u=e(38),l=e(61),c=e(67),p=(e(168),e(175),function(e){this.construct(e)});s(p.prototype,u.Mixin,{_instantiateReactComponent:i});t.exports=i},{143:143,168:168,175:175,176:176,38:38,61:61,67:67}],139:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(154);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{154:154}],140:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],141:[function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o("143"),e}var o=e(143),i=e(60);e(168);t.exports=r},{143:143,168:168,60:60}],142:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(125);t.exports=r},{125:125}],143:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],144:[function(e,t,n){"use strict";var r=e(74);t.exports=r.renderSubtreeIntoContainer},{74:74}],145:[function(e,t,n){"use strict";var r,o=e(154),i=e(9),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=e(123),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=l},{123:123,154:154,9:9}],146:[function(e,t,n){"use strict";var r=e(154),o=e(125),i=e(145),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),t.exports=a},{125:125,145:145,154:154}],147:[function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=e(174);t.exports=r},{174:174}],148:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],149:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||s.isValidElement(e))return n(i,e,""===t?c+r(e,0):t),1;var f,h,m=0,v=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var C,b=y.call(e);if(y!==e.entries)for(var _=0;!(C=b.next()).done;)f=C.value,h=v+r(f,_++),m+=o(f,h,n,i);else for(;!(C=b.next()).done;){var E=C.value;E&&(f=E[1],h=v+l.escape(E[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){var T="",x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,T)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(143),s=(e(39),e(60)),u=e(134),l=(e(168),e(23)),c=(e(175),"."),p=":";t.exports=i},{134:134,143:143,168:168,175:175,23:23,39:39,60:60}],150:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)?void 0:a("1",n,e);var r=t[n];Array.isArray(r)?void 0:a("2",n,r)}function i(e,t){if("object"!=typeof t?a("3",v.join(", "),f):void 0,l.call(t,f))return 1!==Object.keys(t).length?a("4",f):void 0,t[f];var n=r(e);if(l.call(t,h)){var u=t[h];u&&"object"==typeof u?void 0:a("5",h,u),n&&"object"==typeof n?void 0:a("6",h,n),s(n,t[h])}l.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,p)&&(o(e,t,p),t[p].forEach(function(e){n.unshift(e)})),l.call(t,d)&&(Array.isArray(e)?void 0:a("7",d,e),Array.isArray(t[d])?void 0:a("8",d,t[d]),t[d].forEach(function(e){Array.isArray(e)?void 0:a("8",d,t[d]),n.splice.apply(n,e)})),l.call(t,m)&&("function"!=typeof t[m]?a("9",m,t[m]):void 0,n=t[m](n));for(var y in t)g.hasOwnProperty(y)&&g[y]||(n[y]=i(e[y],t[y]));return n}var a=e(143),s=e(176),u=e(172),l=(e(168),{}.hasOwnProperty),c=u({$push:null}),p=u({$unshift:null}),d=u({$splice:null}),f=u({$set:null}),h=u({$merge:null}),m=u({$apply:null}),v=[c,p,d,f,h,m],g={};v.forEach(function(e){g[e]=!0}),t.exports=i},{143:143,168:168,172:172,176:176}],151:[function(e,t,n){"use strict";var r=(e(176),e(160)),o=(e(175),r);t.exports=o},{160:160,175:175,176:176}],152:[function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var o=e(168),i={addClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?o(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};t.exports=i},{168:168}],153:[function(e,t,n){"use strict";var r=e(160),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{160:160}],154:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],155:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],156:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e(155),i=/^-ms-/;t.exports=r},{155:155}],157:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e(170);t.exports=r},{170:170}],158:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(168);t.exports=i},{168:168}],159:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:u(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e(154),a=e(158),s=e(164),u=e(168),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{154:154,158:158,164:164,168:168}],160:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],161:[function(e,t,n){"use strict";var r={};t.exports=r},{}],162:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],163:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],164:[function(e,t,n){"use strict";function r(e){return a?void 0:i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=e(154),i=e(168),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,s[e]=!0}),t.exports=r},{154:154,168:168}],165:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],166:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],167:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e(166),i=/^ms-/;t.exports=r},{166:166}],168:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}t.exports=r},{}],169:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],170:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(169);t.exports=r},{169:169}],171:[function(e,t,n){"use strict";var r=e(168),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{168:168}],172:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],173:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],174:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],175:[function(e,t,n){"use strict";var r=e(160),o=r;t.exports=o},{160:160}],176:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(e,t){for(var n,o,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s}},{}]},{},[100])(100)});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,f.ReactDOM=e(f.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.SharedWidgets=e(require("react"),require("react-dom")):t.SharedWidgets=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="/dist/",e(0)}([function(t,e,o){"use strict";var i=o(1);e.SuppressClickBustingClass=i.SuppressClickBustingClass;var n=o(2);e.setConfig=n.setConfig;var r=o(3);e.TabStyles=r.TabStyles;var s=o(4);e.assign=s.assign;var a=o(9);e.conditional=a.conditional,e.testId=a.testId,e.isAlphabeticChar=a.isAlphabeticChar;var l=o(10);e.InteractiveDomHoC=l.InteractiveDomHoC,e.InteractiveDomHoCDecorator=l.InteractiveDomHoCDecorator,e.InteractiveDomWrapper=l.InteractiveDomWrapper;var c=o(17);e.VerticalOriginOption=c.VerticalOriginOption,e.HorizontalOriginOption=c.HorizontalOriginOption,e.Overlay=c.Overlay;var d=o(14);e.PointerEventAdapterManager=d.PointerEventAdapterManager;var p=o(12);e.PointerEventWrapper=p.PointerEventWrapper,e.PointerEventHoC=p.PointerEventHoC,e.PointerEventHoCDecorator=p.PointerEventHoCDecorator;var u=o(15);e.mergeEventHandlers=u.mergeEventHandlers,e.convertToStatefulComponentClass=u.convertToStatefulComponentClass,e.getComponentName=u.getComponentName;var h=o(27);e.StackingComponentHOC=h.StackingComponentHOC,e.StackingComponentWrapper=h.StackingComponentWrapper;var g=o(28);e.SingletonStyleSheet=g.SingletonStyleSheet,e.StyleSheet=g.StyleSheet;var y=o(29);e.Unicode=y.Unicode;var I=o(30);e.isMouseEvent=I.isMouseEvent,e.isTouchEvent=I.isTouchEvent,e.getClientPosition=I.getClientPosition;var b=o(31);e.ButtonType=b.ButtonType,e.ButtonWidget=b.ButtonWidget;var f=o(33);e.CheckBoxWidget=f.CheckBoxWidget;var m=o(36);e.CheckBoxWithLabelGroupWidget=m.CheckBoxWithLabelGroupWidget;var M=o(37);e.CheckBoxWithLabelWidget=M.CheckBoxWithLabelWidget;var C=o(39);e.DialogPositioningBehavior=C.DialogPositioningBehavior,e.DialogType=C.DialogType,e.DialogFooterButtonsWidget=C.DialogFooterButtonsWidget,e.DialogWidget=C.DialogWidget;var w=o(50);e.DiscreteProgressBarWidget_UNFINISHED=w.DiscreteProgressBarWidget_UNFINISHED;var v=o(34);e.Block=v.Block,e.InlineBlock=v.InlineBlock;var L=o(52);e.DropdownType=L.DropdownType,e.DropdownWidget=L.DropdownWidget;var S=o(32);e.DynamicThemeComponent=S.DynamicThemeComponent;var D=o(54);e.FlyoutListMenuWidget=D.FlyoutListMenuWidget;var T=o(38);e.InputLabelWidget=T.InputLabelWidget;var x=o(59);e.LineTextFieldWidget=x.LineTextFieldWidget;var z=o(62);e.OutlineTextFieldWidget=z.OutlineTextFieldWidget;var j=o(64);e.RadioButtonWithLabelGroupWidget=j.RadioButtonWithLabelGroupWidget;var H=o(67);e.RichTextEditOutlineWidget_UNFINISHED=H.RichTextEditOutlineWidget_UNFINISHED;var N=o(68);e.RichTextEditWidget_UNFINISHED=N.RichTextEditWidget_UNFINISHED;var P=o(69);e.SearchFieldWidget=P.SearchFieldWidget;var W=o(70);e.StepperType=W.StepperType,e.StepperWidget=W.StepperWidget;var k=o(61);e.TextInputType=k.TextInputType;var A=o(75);e.ToggleTextWidget=A.ToggleTextWidget,e.SelectedToggle=A.SelectedToggle},function(t,e){"use strict";e.SuppressClickBustingClass="tabDontBustMyClicks"},function(t,e,o){"use strict";var i=o(3),n=o(5),r=o(6),s=o(7),a=o(8),l=function(t){t.styleMediaQueries&&s.StyleMediaQueryManager.setMediaStyleQueries(t.styleMediaQueries)},c=function(t){t.styles&&(i.overrideTabStyles(t.styles),a.WidgetManager.rerenderWidgets())},d=function(t){t.defaultStackingRootId&&r.StackingRootConfig.setDefaultRootContainerId(t.defaultStackingRootId)},p=function(t){t.defaultScrollingRootId&&n.ScrollingRootConfig.setDefaultRootContainerId(t.defaultScrollingRootId)},u=function(t){c(t),d(t),p(t),l(t)};e.setConfig=u},function(t,e,o){"use strict";var i=o(4),n=6,r=n,s="Benton Sans, Arial, Helvetica, sans-serif",a={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},l={PrimaryDark:"rgba(0, 0, 0, 0.90)",Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.56)",SubHead:"rgba(0, 0, 0, 0.40)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 1)",InvertedSecondary:"rgba(255, 255, 255, .56)",InvertedDisabled:"rgba(255, 255, 255, .35)"},c={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.35)"},d={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",Focus:"rgb(52, 152, 219)",L1:c.Grey250,L2:c.Grey245,L2_5:c.Grey235,L3:c.Grey230,L4:c.Grey225,L5:c.Grey212,L6:c.Grey203,L7:c.Grey180,L8:c.Grey102,L9:c.Grey51,L9Disabled:c.Grey51Disabled,F1:c.Grey250,F2:c.Grey245,F2_5:c.Grey235,F3:c.Grey230,F4:c.Grey225,F5:c.Grey212,F6:c.Grey203,F7:c.Grey180,F7Disabled:c.Grey180Disabled,F8:c.Grey102,F9:c.Grey51},p={Colors:d,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:n/2,DefaultSpace:n,MediumSpace:2*n,LargeSpace:3*n},Sizing:{BaseUnit:r,RowHeight:24,ButtonMinWidth:15*r,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:r/2,ListRowHeight:20,MultiLineInputLineHeight:14},Typography:{FontFamily:s,Sizing:a,Color:l},Opacity:{OpaqueGlass:.33,ClearGlass:.01}};e.TabStyles=p;var u=function(t){p.Colors=i.assign({},p.Colors,t.Colors),p.Opacity=i.assign({},p.Opacity,t.Opacity),p.Shadow=i.assign({},p.Shadow,t.Shadow),p.Sizing=i.assign({},p.Sizing,t.Sizing),p.Spacing=i.assign({},p.Spacing,t.Spacing),t.Typography&&(p.Typography.FontFamily=t.Typography.FontFamily?t.Typography.FontFamily:p.Typography.FontFamily,p.Typography.Color=i.assign({},p.Typography.Color,t.Typography.Color),p.Typography.Sizing=i.assign({},p.Typography.Sizing,t.Typography.Sizing))};e.overrideTabStyles=u},function(t,e){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=Object.assign||function(t,e){for(var r,s,a=o(t),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r)i.call(r,c)&&(a[c]=r[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var d=0;d<s.length;d++)n.call(r,s[d])&&(a[s[d]]=r[s[d]])}}return a};e.assign=r},function(t,e){"use strict";var o=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultScrollingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultScrollingRootId?document.getElementById(t.defaultScrollingRootId):document.body;if(!e)throw Error("Could not find scrolling root with the id scrollingRootId.");return e},t}();e.ScrollingRootConfig=o},function(t,e){"use strict";var o=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultStackingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultStackingRootId?document.getElementById(t.defaultStackingRootId):document.body;if(!e)throw Error("Could not find stacking root.");return e},t}();e.StackingRootConfig=o},function(t,e,o){"use strict";var i=o(2),n=function(){function t(){}return t.setMediaStyleQueries=function(e){t.mediaQueryLists={};for(var o=0;o<e.length;o++){var i=e[o],n=t.registerMediaQuery(i),r=t.getMediaQueryListListener(i);r(n),n.addListener(r)}},t.registerMediaQuery=function(e){var o=e.mediaQuery;return o in t.mediaQueryLists||(t.mediaQueryLists[o]=window.matchMedia(o)),t.mediaQueryLists[o]},t.getMediaQueryListListener=function(t){return function(e){e.matches?i.setConfig({styles:t.matchingStyle}):i.setConfig({styles:t.nonMatchingStyle})}},t}();e.StyleMediaQueryManager=n},function(t,e){"use strict";var o=function(){function t(){}return t.registerWidget=function(e){t.widgets.push(e)},t.unregisterWidget=function(e){t.widgets=t.widgets.filter(function(t){return t!==e})},t.rerenderWidgets=function(){for(var e=0;e<t.widgets.length;e++)t.widgets[e].forceUpdate()},t.widgets=[],t}();e.WidgetManager=o},function(t,e){"use strict";function o(t,e){return t?e:null}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.join("-")}function n(t){return t&&/^[a-z0-9]$/i.test(t)}e.conditional=o,e.testId=i,e.isAlphabeticChar=n},function(t,e,o){"use strict";function i(t,e){var o=e.props,i=o.disabled,n=o.interactiveStyles;return n?a.assign({},t,e.state.hover&&!i&&n.hover,e.state.focus&&!i&&n.focus,e.state.active&&!i&&n.active,i&&n.disabled):t}function n(t,e){var o=i(e.props.style,t),n=t.props.pointerDown,r={pointerDown:c.mergeEventHandlers(n,function(){t.interactiveIsMounted&&(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0),t.removePointerUpListener||p(t))})},d=e.props,u=d.onMouseOver,h=d.onMouseOut,g=d.onKeyDown,y=d.onKeyUp,I=d.onFocus,b=d.onBlur,f={onMouseOver:c.mergeEventHandlers(u,function(){t.interactiveIsMounted&&(t.setState({hover:!0}),t.props.handleHover&&t.props.handleHover(!0))}),onMouseOut:c.mergeEventHandlers(h,function(){t.interactiveIsMounted&&(t.setState({hover:!1}),t.props.handleHover&&t.props.handleHover(!1))}),onKeyDown:c.mergeEventHandlers(g,function(e){t.interactiveIsMounted&&(" "!==e.key&&"Enter"!==e.key||(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0)))}),onKeyUp:c.mergeEventHandlers(y,function(e){t.interactiveIsMounted&&(" "!==e.key&&"Enter"!==e.key||(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1)))}),onFocus:c.mergeEventHandlers(I,function(){t.interactiveIsMounted&&(t.setState({focus:!0}),t.props.handleFocus&&t.props.handleFocus(!0))}),onBlur:c.mergeEventHandlers(b,function(){t.interactiveIsMounted&&(t.setState({focus:!1}),t.props.handleFocus&&t.props.handleFocus(!1))})},m=a.assign({style:o,disabled:t.props.disabled},f),M=a.assign({},t.props,r),C=s.createElement(l.PointerEventWrapper,M,s.cloneElement(e,m));return C}var r=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},s=o(11),a=o(4),l=o(12),c=o(15),d=o(16),p=function(t){var e=function(){t.interactiveIsMounted&&(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1),t.removePointerUpListener(),t.removePointerUpListener=void 0)};t.removePointerUpListener=d.GlobalPointerUpListener.subscribe(e)},u=function(t){function e(e){t.call(this,e),this.state=a.assign({},this.state,{hover:!1,active:!1,focus:!1}),this.interactiveIsMounted=!0}return r(e,t),e.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},e.prototype.render=function(){var t=s.Children.only(this.props.children);return n(this,t)},e}(s.Component);e.InteractiveDomWrapper=u;var h=function(t){var e=c.convertToStatefulComponentClass(t),o=function(o){function i(t){o.call(this,t),this.state=a.assign({},this.state,{hover:!1,active:!1,focus:!1}),this.interactiveIsMounted=!0}return r(i,o),i.prototype.callComponentClassWillUnmount=function(){var t=e.prototype.componentWillUnmount;t&&t.apply(this)},i.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},i.prototype.render=function(){return n(this,o.prototype.render.call(this))},i.displayName="InteractiveDom("+c.getComponentName(t)+")",i}(e);return o};e.InteractiveDomHoC=h;var g=h;e.InteractiveDomHoCDecorator=g},function(e,o){e.exports=t},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(14),a=o(15),l=function(t){function e(e){t.call(this,e),this.pointerEventAdapter=s.PointerEventAdapterManager.adapterFactory()}return i(e,t),e.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var t=r.findDOMNode(this);this.pointerEventAdapter.didMount(t,this.props)}},e.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},e.prototype.render=function(){var t=this.pointerEventAdapter.getHtmlAttributes(this.props),e=n.Children.only(this.props.children),o={};Object.keys(t).forEach(function(i){o[i]=a.mergeEventHandlers(t[i],e.props[i])});var i=n.cloneElement(e,o,e.props.children);return i},e}(n.Component);e.PointerEventWrapper=l;var c=function(t){var e=a.convertToStatefulComponentClass(t),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return n.createElement(l,this.props,t.prototype.render.call(this))},e}(e);return o.displayName="PointerEventHoC("+a.getComponentName(t)+")",o};e.PointerEventHoC=c;var d=c;e.PointerEventHoCDecorator=d},function(t,o){t.exports=e},function(t,e){"use strict";var o=function(){function t(){}return t.prototype.getHtmlAttributes=function(t){var e={onDoubleClick:t.pointerDoubleClick,onMouseDown:t.pointerDown,onMouseUp:t.pointerUp,onClick:t.pointerClick};return e},t}(),i=function(){function t(){}return t.adapterFactory=function(){return new o},t}();e.PointerEventAdapterManager=i},function(t,e,o){"use strict";function i(t){return!t.prototype.render}function n(t){if(i(t)){var e=t;return function(t){function o(){t.apply(this,arguments)}return a(o,t),o.prototype.render=function(){return e(this.props)},o.displayName=s(e),o}(l.Component)}return t}function r(t,e){return t&&e&&function(o){t(o),e(o)}||t||e}function s(t){return t.displayName||t.name||"AnonymousComponent"}var a=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},l=o(11);e.convertToStatefulComponentClass=n,e.mergeEventHandlers=r,e.getComponentName=s},function(t,e){"use strict";var o=function(){function t(){}return t.subscribe=function(t){return window.addEventListener("mouseup",t),window.addEventListener("touchend",t),function(){window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t)}},t}();e.GlobalPointerUpListener=o},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(11),a=o(13),l=o(18),c=o(27),d=o(6),p=o(5),u=100,h=50;!function(t){t[t.top=0]="top",t[t.centerY=1]="centerY",t[t.bottom=2]="bottom"}(i||(i={})),e.VerticalOriginOption=i;var g;!function(t){t[t.left=0]="left",t[t.centerX=1]="centerX",t[t.right=2]="right"}(g||(g={})),e.HorizontalOriginOption=g;var y=function(t){function e(){var e=this;t.apply(this,arguments),this.onResize=l(function(){return e.setPlacement()},u)}return n(e,t),e.prototype.componentDidMount=function(){this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize)},e.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},e.prototype.componentDidUpdate=function(t){this.resetScrollingRootBehaviorIfNeeded(t),this.setPlacement()},e.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},e.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},e.prototype.resetScrollingRootBehaviorIfNeeded=function(t){t.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&t.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},e.prototype.setOnScroll=function(){var t=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var e=function(){t.props.shouldAutoPositionOnScrollingRootScroll&&t.setPlacement(),t.props.handleScrollOnScrollingRoot&&t.props.handleScrollOnScrollingRoot()};this.onScroll=l(e,h)}else this.onScroll=null},e.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):p.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},e.prototype.getAnchorPosition=function(){var t=this.props.anchorEl?this.props.anchorEl:a.findDOMNode(this),e=t.getBoundingClientRect(),o=t.offsetWidth,i=t.offsetHeight,n={top:e.top,left:e.left};return n.right=e.right||n.left+o,n.bottom=e.bottom||n.top+i,n.centerX=n.left+(n.right-n.left)/2,n.centerY=n.top+(n.bottom-n.top)/2,n},e.prototype.getStackedElCurrentPosition=function(){var t=this.getStackedEl();return{top:0,centerX:t.offsetHeight/2,bottom:t.offsetHeight,left:0,centerY:t.offsetWidth/2,right:t.offsetWidth}},e.prototype.getContainerRect=function(){var t=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):d.StackingRootConfig.getDefaultRootContainer();if(!t)throw Error("Could not find stacking root.");return t.getBoundingClientRect()},e.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var t=this.getStackedElAdjustedPosition(),e=this.getStackedEl();e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.position="absolute"}},e.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},e.prototype.getStackedElAdjustedPosition=function(){var t=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(t=this.getAutoPositionIfNeeded(t));var e=this.getAdjustStackedElPositionForContainer(t);return e},e.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},e.prototype.getAdjustStackedElPositionForContainer=function(t){var e=this.getContainerRect(),o={top:t.top-e.top,left:t.left-e.left};return o},e.prototype.getStackedElViewportPosition=function(t,e){var o=this.getAnchorPosition(),n=this.getStackedElCurrentPosition(),r=i[t.vertical],s=g[t.horizontal],a=i[e.vertical],l=g[e.horizontal],c=o[r],d=o[s],p=n[a],u=n[l],h={top:c-p,left:d-u};return h},e.prototype.getAutoPositionIfNeeded=function(t){var e=this.getStackedElCurrentPosition(),o=this.getOppositeOriginPosition(),i=t.top<0||t.top+e.bottom>window.innerHeight,n=t.left<0||t.left+e.right>window.innerWidth;return i&&o.top+e.bottom<=window.innerHeight&&(t.top=Math.max(0,o.top)),n&&o.left+e.right<=window.innerWidth&&(t.left=Math.max(0,o.left)),t},e.prototype.getOppositeOriginPosition=function(){var t=this.getOppositeOriginsOptions(this.props.anchorOrigin),e=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(t,e)},e.prototype.getOppositeOriginsOptions=function(t){return{horizontal:this.getOppositeHorizontalOption(t.horizontal),vertical:this.getOppositeVerticalOption(t.vertical)}},e.prototype.getOppositeVerticalOption=function(t){return t===i.centerY?i.centerY:t===i.top?i.bottom:i.top},e.prototype.getOppositeHorizontalOption=function(t){return t===g.centerX?g.centerX:t===g.left?g.right:g.left},e.prototype.setStackingWrapper=function(t){this.stackingWrapper=t,this.setPlacement()},e.prototype.render=function(){var t=this;return s.createElement("div",{display:"none"},s.createElement(c.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(e){return t.setStackingWrapper(e)},zIndex:this.props.zIndex},this.props.children))},e.defaultProps={anchorOrigin:{vertical:i.top,horizontal:g.left},stackedOrigin:{vertical:i.top,horizontal:g.left}},e}(r.Component);e.Overlay=y},function(t,e,o){function i(t,e,o){var i=!0,a=!0;if("function"!=typeof t)throw new TypeError(s);return r(o)&&(i="leading"in o?!!o.leading:i,a="trailing"in o?!!o.trailing:a),n(t,e,{leading:i,maxWait:e,trailing:a})}var n=o(19),r=o(20),s="Expected a function";t.exports=i},function(t,e,o){function i(t,e,o){function i(e){var o=f,i=m;return f=m=void 0,L=e,C=t.apply(i,o)}function d(t){return L=t,w=setTimeout(h,e),S?i(t):C}function p(t){var o=t-v,i=t-L,n=e-o;return D?c(n,M-i):n}function u(t){var o=t-v,i=t-L;return void 0===v||o>=e||o<0||D&&i>=M}function h(){var t=r();return u(t)?g(t):void(w=setTimeout(h,p(t)))}function g(t){return w=void 0,T&&f?i(t):(f=m=void 0,C)}function y(){void 0!==w&&clearTimeout(w),L=0,f=v=m=w=void 0}function I(){return void 0===w?C:g(r())}function b(){var t=r(),o=u(t);if(f=arguments,m=this,v=t,o){if(void 0===w)return d(v);if(D)return w=setTimeout(h,e),i(v)}return void 0===w&&(w=setTimeout(h,e)),C}var f,m,M,C,w,v,L=0,S=!1,D=!1,T=!0;if("function"!=typeof t)throw new TypeError(a);return e=s(e)||0,n(o)&&(S=!!o.leading,D="maxWait"in o,M=D?l(s(o.maxWait)||0,e):M,T="trailing"in o?!!o.trailing:T),b.cancel=y,b.flush=I,b}var n=o(20),r=o(21),s=o(24),a="Expected a function",l=Math.max,c=Math.min;t.exports=i},function(t,e){function o(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=o},function(t,e,o){var i=o(22),n=function(){return i.Date.now()};t.exports=n},function(t,e,o){var i=o(23),n="object"==typeof self&&self&&self.Object===Object&&self,r=i||n||Function("return this")();t.exports=r},function(t,e){(function(e){var o="object"==typeof e&&e&&e.Object===Object&&e;t.exports=o}).call(e,function(){return this}())},function(t,e,o){function i(t){if("number"==typeof t)return t;if(r(t))return s;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var o=c.test(t);return o||d.test(t)?p(t.slice(2),o?2:8):l.test(t)?s:+t}var n=o(20),r=o(25),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt;t.exports=i},function(t,e,o){function i(t){return"symbol"==typeof t||n(t)&&a.call(t)==r}var n=o(26),r="[object Symbol]",s=Object.prototype,a=s.toString;t.exports=i},function(t,e){function o(t){return null!=t&&"object"==typeof t}t.exports=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(6),a=o(15),l=function(t){function e(e){if(t.call(this,e),this.stackingRoot=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):s.StackingRootConfig.getDefaultRootContainer(),!this.stackingRoot)throw Error("Could not find stacking root.");this.warnIfRootIsNotPositioned()}return i(e,t),e.prototype.warnIfRootIsNotPositioned=function(){var t=window.getComputedStyle(this.stackingRoot).position;if("relative"!==t&&"absolute"!==t)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")},e.prototype.componentDidMount=function(){this.renderLayer()},e.prototype.componentDidUpdate=function(){this.renderLayer()},e.prototype.componentWillUnmount=function(){this.unrenderLayer()},e.prototype.getMountPoint=function(){return this.mountPoint},e.prototype.renderLayer=function(){this.createMountPointIfNeeded();var t=n.Children.only(this.props.children);r.unstable_renderSubtreeIntoContainer(this,t,this.mountPoint)},e.prototype.createMountPointIfNeeded=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.stackingRoot.appendChild(this.mountPoint))},e.prototype.unrenderLayer=function(){this.mountPoint&&(r.unmountComponentAtNode(this.mountPoint),this.stackingRoot.removeChild(this.mountPoint),this.mountPoint=null)},e.prototype.render=function(){return null},e}(n.Component);e.StackingComponentWrapper=l,e.StackingComponentHOC=function(t){var e=a.convertToStatefulComponentClass(t),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return n.createElement(l,this.props,t.prototype.render.call(this))},e}(e);return o.displayName="StackingComponentHOC("+a.getComponentName(t)+")",o}},function(t,e){"use strict";var o="shared-widgets",i=function(){function t(){if(this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document){var t=document.createElement("style");document.head.appendChild(t);for(var e=0;e<document.styleSheets.length;e++){var o=document.styleSheets[e];o.ownerNode===t&&(this.styleSheet=o)}}}return t.prototype.addRawSelector=function(t,e){var o=this.toRuleBody(e);if(t in this.rawSelectorLookup)throw new Error(t+" has already been defined.");this.rawSelectorLookup[t]=!0,this.addRule(t+" {"+o+"}")},t.prototype.addClass=function(t,e){var i=this.toRuleBody(t),n=this.classNameLookup[i];if(n){if(e&&e!==n)throw new Error("Attempting to define css rule using class name '"+e+"', but a class with the given\n           rule body already exists under class name '"+n+"'. Rule body: "+i+".");return n}return e||(e=o+"_"+this.idCounter++),this.classNameLookup[i]=e,this.addRule("."+e+" {"+i+"}"),e},t.prototype.addAnimation=function(t,e){var o=t.options,i=JSON.stringify(t),n=this.classNameLookup[i];if(n){if(e&&e!==n)throw new Error("Attempting to define css animation using class name '"+e+"', but a css rule with that\n           definition already exists under class name '"+n+"'. Definition: "+t);return n}var r=this.addKeyframes(t.keyframes),s=this.addClass({"animation-duration":o.durationMs/1e3+"s","animation-timing-function":o.timingFunction,"animation-iteration-count":""+(o.count===1/0?"infinite":o.count),"animation-direction":o.direction,"animation-name":r},e);return this.classNameLookup[i]=s,s},t.prototype.dispose=function(){var t=this.styleSheet.ownerNode;t.parentElement.removeChild(t)},t.prototype.addKeyframes=function(t){var e=this,i=t.fromCSSLines,n=t.toCSSLines,r=t.tweenFrames,s=o+"_"+this.idCounter++,a=[{percent:0,cssLines:i},{percent:100,cssLines:n}].concat(r),l=a.map(function(t){return t?t.percent+"% { "+e.toRuleBody(t.cssLines)+" }":""});return this.addRule("@keyframes "+s+" { "+l.join(" ")+"}"),s},t.prototype.toRuleBody=function(t){return Object.keys(t).map(function(e){if(e.toLowerCase()!==e)throw new Error("The CSS prop '"+e+"' should be written kebab-case, not camelCase");return e+": "+t[e]+";"}).join("")},t.prototype.addRule=function(t){try{this.styleSheet.insertRule(t,this.styleSheet.cssRules.length)}catch(e){throw new Error(e+". Stylesheet injection of "+t+" failed.  This browser may not support the given CSS rule or selector")}},t}();e.StyleSheet=i;var n=new i;e.SingletonStyleSheet=n},function(t,e){"use strict";var o={NonBreakingSpace:""};e.Unicode=o},function(t,e){"use strict";function o(t){var e=t;return"number"==typeof e.clientX}function i(t){var e=t;return!!e.touches}function n(t){if(o(t))return{x:t.clientX,y:t.clientY};if(i(t))return{x:t.touches[0].clientX,y:t.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}e.isMouseEvent=o,e.isTouchEvent=i,e.getClientPosition=n},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(4),a=o(3),l=o(10),c=o(32);!function(t){t[t.Attention=0]="Attention",t[t.Grey=1]="Grey",t[t.Go=2]="Go",t[t.Outline=3]="Outline",t[t.LightOutline=4]="LightOutline",t[t.OutlineGo=5]="OutlineGo",t[t.OutlineAttention=6]="OutlineAttention",t[t.Text=7]="Text",t[t.DarkText=8]="DarkText",t[t.DarkBoldText=9]="DarkBoldText"}(i||(i={})),e.ButtonType=i;var d=a.TabStyles.Colors,p=a.TabStyles.Sizing,u=a.TabStyles.Typography,h=function(){return p.RowHeight},g=function(){return{backgroundColor:d.F7Disabled,borderColor:d.Transparent,color:u.Color.Disabled}},y=function(){return{fontSize:u.Sizing.Default,fontFamily:u.FontFamily,fontWeight:"normal",color:u.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:h(),paddingRight:h(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:p.BorderWidth,borderRadius:p.BorderRadius,height:p.RowHeight,lineHeight:p.RowHeight-2*p.BorderWidth+"px",minWidth:p.ButtonMinWidth,userSelect:"none",boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"}},I=function(){return{base:s.assign({},y(),{backgroundColor:d.AttentionLight,borderColor:d.AttentionLight,color:u.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:d.AttentionLight,borderColor:d.AttentionDark,color:u.Color.InvertedPrimary},focus:{backgroundColor:d.AttentionLight,borderColor:d.AttentionDark,color:u.Color.InvertedPrimary},active:{backgroundColor:d.AttentionDark,borderColor:d.AttentionDark,color:u.Color.InvertedPrimary},disabled:g()}}},b=function(){return{base:s.assign({},y(),{backgroundColor:d.GoLight,borderColor:d.GoLight,color:u.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:d.GoLight,borderColor:d.GoDark,color:u.Color.InvertedPrimary},focus:{backgroundColor:d.GoLight,borderColor:d.GoDark,color:u.Color.InvertedPrimary},active:{backgroundColor:d.GoDark,borderColor:d.GoDark,color:u.Color.InvertedPrimary},disabled:g()}}},f=function(){return{base:s.assign({},y(),{backgroundColor:d.F5,borderColor:d.L5,color:u.Color.Primary}),interactive:{hover:{backgroundColor:d.F5,borderColor:d.L8,color:u.Color.Primary},focus:{backgroundColor:d.F5,borderColor:d.L8,color:u.Color.Primary},active:{backgroundColor:d.F8,borderColor:d.L8,color:u.Color.InvertedPrimary},disabled:g()}}},m=function(){return{base:s.assign({},y(),{backgroundColor:d.White,borderColor:d.L6,color:u.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:d.White,borderColor:d.L8,color:u.Color.Primary},focus:{backgroundColor:d.White,borderColor:d.Focus,color:u.Color.PrimaryMedium},active:{backgroundColor:d.F2,borderColor:d.L9,color:u.Color.Primary},disabled:s.assign({},g(),{backgroundColor:d.White,borderColor:d.L9Disabled,color:u.Color.Disabled})}}},M=function(){return{base:s.assign({},y(),{backgroundColor:d.Transparent,borderColor:d.L6,color:u.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:d.Transparent,borderColor:d.White,color:u.Color.InvertedPrimary},focus:{backgroundColor:d.Transparent,borderColor:d.White,color:u.Color.InvertedPrimary},active:{backgroundColor:d.WhiteTransparent,borderColor:d.White,color:u.Color.InvertedPrimary},disabled:s.assign({},g(),{borderColor:d.WhiteDisabled,backgroundColor:d.Transparent,color:u.Color.InvertedDisabled})}}},C=function(){return{base:s.assign({},y(),{fontWeight:"bold",backgroundColor:d.Transparent,borderColor:d.Transparent,color:d.GoLight}),interactive:{hover:{backgroundColor:d.F2,borderColor:d.F2,color:d.GoLight},focus:{backgroundColor:d.F2,borderColor:d.F2,color:d.GoLight},active:{backgroundColor:d.F2,borderColor:d.F2,color:d.GoDark},disabled:s.assign({},g(),{backgroundColor:d.Transparent,borderColor:d.Transparent,color:d.GoDarkDisabled})}}},w=function(){return{base:s.assign({},y(),{backgroundColor:d.White,borderColor:d.GoLight,color:u.Color.PrimaryDark,borderWidth:p.ButtonBorderWidth,lineHeight:p.RowHeight-2*p.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:d.White,borderColor:d.GoDark,color:d.Black},focus:{backgroundColor:d.White,borderColor:d.Focus,color:d.Black},active:{backgroundColor:d.F2,borderColor:d.GoDark,color:d.Black},disabled:s.assign({},g(),{backgroundColor:d.White,borderColor:d.GoDarkDisabled,color:u.Color.Disabled})}}},v=function(){return{base:s.assign({},y(),{backgroundColor:d.White,borderColor:d.AttentionLight,color:u.Color.PrimaryDark,borderWidth:p.ButtonBorderWidth,lineHeight:p.RowHeight-2*p.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:d.White,borderColor:d.AttentionDark,color:d.Black},focus:{backgroundColor:d.White,borderColor:d.Focus,color:d.Black},active:{backgroundColor:d.F2,borderColor:d.AttentionDark,color:d.Black},disabled:s.assign({},g(),{backgroundColor:d.White,borderColor:d.AttentionDarkDisabled,color:u.Color.Disabled})}}},L=function(){return{base:s.assign({},y(),{backgroundColor:d.Transparent,borderColor:d.Transparent,color:u.Color.Primary}),interactive:{hover:{backgroundColor:d.F2,borderColor:d.F2,color:u.Color.Primary},focus:{backgroundColor:d.F2,borderColor:d.F2,color:u.Color.Primary},active:{backgroundColor:d.F2_5,borderColor:d.F2_5,color:d.Black},disabled:s.assign({},g(),{backgroundColor:d.Transparent,borderColor:d.Transparent,color:u.Color.Disabled})}}},S=function(){return{base:s.assign({},y(),{fontWeight:"bold",backgroundColor:d.Transparent,borderColor:d.Transparent,color:u.Color.Primary}),interactive:{hover:{backgroundColor:d.F2,borderColor:d.F2,color:u.Color.Primary},focus:{backgroundColor:d.F2,borderColor:d.F2,color:u.Color.Primary},active:{backgroundColor:d.F2_5,borderColor:d.F2_5,color:d.Black},disabled:s.assign({},g(),{backgroundColor:d.Transparent,borderColor:d.Transparent,color:u.Color.Disabled})}}},D=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleClick=function(){return e.handleClick()},this.boundHandleKeyUp=function(t){return e.handleKeyUp(t)},this.boundHandleKeyDown=function(t){return e.handleKeyDown(t)}}return n(e,t),e.prototype.handleClick=function(){this.props.disabled||this.props.handleClick()},e.prototype.handleKeyUp=function(t){this.props.disabled||" "!==t.key&&"Enter"!==t.key||this.props.handleClick()},e.prototype.handleKeyDown=function(t){" "!==t.key&&"Enter"!==t.key||t.preventDefault()},e.prototype.render=function(){var t;switch(this.props.buttonType){case i.Attention:t=I();break;case i.Grey:t=f();break;case i.Go:t=b();break;case i.Outline:t=m();break;case i.LightOutline:t=M();break;case i.OutlineGo:t=w();break;case i.OutlineAttention:t=v();break;case i.Text:t=C();break;case i.DarkText:t=L();break;case i.DarkBoldText:t=S();break;default:throw new Error("ButtonWidget attempted to render invalid ButtonType: "+this.props.buttonType)}return r.createElement(l.InteractiveDomWrapper,{interactiveStyles:t.interactive,disabled:this.props.disabled,pointerClick:this.boundHandleClick},r.createElement("div",{style:s.assign({},t.base,this.props.style),onKeyUp:this.boundHandleKeyUp,onKeyDown:this.boundHandleKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","data-tb-test-id":this.props.testId+"-Button"},this.props.label,this.props.children))},e}(c.DynamicThemeComponent);e.ButtonWidget=D},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(8),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},e.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},e}(n.Component);e.DynamicThemeComponent=s},function(t,e,o){"use strict";function i(t,e){var o;return o=t.checked?t.disabled?c.CheckBoxIcon.selectedDisabled:t.hover||e.hover||e.focus?c.CheckBoxIcon.selectedActive:c.CheckBoxIcon.selected:t.disabled?c.CheckBoxIcon.unselectedDisabled:t.hover||e.hover||e.focus?c.CheckBoxIcon.unselectedActive:c.CheckBoxIcon.unselected}var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=o(11),a=o(34),l=o(10),c=o(35),d=o(32),p=o(3),u=function(){return{baseDiv:{marginLeft:p.TabStyles.Spacing.DefaultSpace,marginRight:p.TabStyles.Spacing.DefaultSpace,verticalAlign:"middle",height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,minWidth:c.CheckBoxIcon.width,flexShrink:0},checkbox:{opacity:0,height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,margin:0,cursor:"default"},fakeCheckBox:{height:c.CheckBoxIcon.height,width:c.CheckBoxIcon.width,position:"absolute"}}},h=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(t.target.checked)},e.prototype.render=function(){var t=this,e=i(this.props,this.state),o=u();return s.createElement(a.InlineBlock,{style:o.baseDiv},s.DOM.img({style:o.fakeCheckBox,src:e}),s.DOM.input({style:o.checkbox,type:"checkbox",onChange:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox",id:this.props.id}))},e=r([l.InteractiveDomHoCDecorator],e)}(d.DynamicThemeComponent);e.CheckBoxWidget=h},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},a,this.props.style)}))},e}(n.Component);e.Block=l;var c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},a,{display:"inline-block"},this.props.style)}))},e}(n.Component);e.InlineBlock=c},function(t,e){"use strict";e.CloseButtonIcon={height:14,width:14,enabled:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg==",active:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg=="},e.CheckBoxIcon={height:16,width:16,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTIgICBjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyQzE1LDEuNSwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjcgIGwxLjMsMC44TDcuOSwxMkM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiNDQkNCQ0I7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjUsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC41LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjQsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTE0LDJ2MTJIMlYySDE0IE0xNCwxSDJDMS41LDEsMSwxLjQsMSwydjEyYzAsMC42LDAuNSwxLDEsMWgxMmMwLjYsMCwxLTAuNCwxLTFWMiAgIEMxNSwxLjQsMTQuNiwxLDE0LDFMMTQsMXoiLz4KPC9nPgo8L3N2Zz4="},e.DropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42QzEzLjMsNy4xLDEzLjIsNywxMyw3SDZDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4=",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42YzAuMS0wLjIsMC0wLjMtMC4yLTAuM0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2ICBDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4="},e.MenuItemArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOCAgQzcuMSw1LjcsNyw1LjgsNyw2djdDNywxMy4yLDcuMSwxMy4zLDcuMywxMy4yeiIvPgo8L3N2Zz4="},e.RadioButtonIcon={height:16,width:16,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9yZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8Y2lyY2xlIHN0eWxlPSJmaWxsOiM2NjY3NjY7IiBjeD0iOCIgY3k9IjgiIHI9IjMiLz4KPHBhdGggc3R5bGU9ImZpbGw6IzY2Njc2NjsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMUM0LjEsMSwxLDQuMSwxLDhzMy4xLDcsNyw3czctMy4xLDctNyAgUzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4=",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPGNpcmNsZSBzdHlsZT0iZmlsbDojMzMzMzMzOyIgY3g9IjgiIGN5PSI4IiByPSIzIi8+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNOCwyYzMuMywwLDYsMi43LDYsNnMtMi43LDYtNiw2cy02LTIuNy02LTZTNC43LDIsOCwyIE04LDFDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTcgIFMxMS45LDEsOCwxTDgsMXoiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiNGRkZGRkY7IiBkPSJNOCwxLjVDNC40LDEuNSwxLjUsNC40LDEuNSw4czIuOSw2LjUsNi41LDYuNXM2LjUtMi45LDYuNS02LjVTMTEuNiwxLjUsOCwxLjVMOCwxLjV6Ii8+CjxjaXJjbGUgc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGN4PSI4IiBjeT0iOCIgcj0iMyIvPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxICBDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTdTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJSZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojQ0JDQkNBOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJVbnNlbGVjdGVkX2hvdmVyIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaXNhYmxlZCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMSAgQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03UzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4="},e.StepperRightIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBpZD0ic3ZnXzEiIGZpbGw9IiMzMzMzMzMiIGQ9Im03LjMsMTUuNDM5MjNsNC42LC0zLjVjMC4xLC0wLjEgMC4xLC0wLjIgMCwtMC4zbC00LjYsLTMuNmMtMC4yLC0wLjEgLTAuMywwIC0wLjMsMC4ybDAsN2MwLDAuMiAwLjEsMC4zIDAuMywwLjJ6Ii8+CiA8L2c+Cjwvc3ZnPg==",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg=="},e.StepperLeftIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTEuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xIiBmaWxsPSIjMzMzMzMzIiBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIiBzdHJva2U9Im51bGwiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA5LjQ4NzUwMDE5MDczNDg2MywxMS43MzkyMzAxNTU5NDQ4MjQpICIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE0LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTAuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIvPgogPC9nPgo8L3N2Zz4="},e.StepperUpIcon={height:11,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},e.StepperDownIcon={height:10,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},e.TextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4="},e.SearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="}},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(37),a=o(34),l=o(32),c=o(35),d=o(3),p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getContainerStyleOfIndex=function(t){return t!==this.props.checkBoxWithLabelPropsList.length-1?{paddingBottom:d.TabStyles.Sizing.ListRowHeight-d.TabStyles.Sizing.MultiLineInputLineHeight-(c.CheckBoxIcon.height-d.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},e.prototype.render=function(){var t=this;return n.createElement(a.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(e,o){var i=r.assign({},e.containerStyle,t.getContainerStyleOfIndex(o)),a=r.assign({},e,{containerStyle:i,key:o});return n.createElement(s.CheckBoxWithLabelWidget,a)}))},e}(l.DynamicThemeComponent);e.CheckBoxWithLabelGroupWidget=p},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(33),a=o(34),l=o(1),c=o(32),d=o(35),p=o(10),u=o(38),h=o(3),g=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:h.TabStyles.Sizing.MultiLineInputLineHeight},text:{width:"100%",paddingTop:(d.CheckBoxIcon.height-h.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},y=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=g();return r.createElement(a.Block,{className:l.SuppressClickBustingClass,style:this.props.containerStyle,role:"checkbox"},r.createElement(u.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:t.label},r.createElement(s.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:t.text},this.props.label)))},e=n([p.InteractiveDomHoCDecorator],e)}(c.DynamicThemeComponent);e.CheckBoxWithLabelWidget=y},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(3),l=o(10),c=o(32),d=a.TabStyles.Typography,p=function(){return{base:{fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,lineHeight:"normal"},disabled:{color:d.Color.Disabled}}},u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t,e=p();return t=this.props.disabled?s.assign({},e.base,this.props.style,e.disabled):s.assign({},e.base,this.props.style),r.DOM.label({style:t,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},e=n([l.InteractiveDomHoCDecorator],e)}(c.DynamicThemeComponent);e.InputLabelWidget=u},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(11),a=o(13),l=o(40),c=o(4),d=o(31),p=o(34),u=o(3),h=o(41),g=o(9),y=o(42),I=o(43),b=o(32),f=o(30),m=o(12),M=o(46),C=o(44),w=o(47),v=o(17),L=o(48),S=o(49);!function(t){t[t.Centered=0]="Centered",t[t.Maximized=1]="Maximized",t[t.Draggable=2]="Draggable",t[t.Anchored=3]="Anchored"}(i||(i={})),e.DialogPositioningBehavior=i;var D;!function(t){t[t.NormalWithTitleBar=0]="NormalWithTitleBar",t[t.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",t[t.Uber=2]="Uber"}(D||(D={})),e.DialogType=D;var T=5*u.TabStyles.Sizing.BaseUnit,x=8*u.TabStyles.Sizing.BaseUnit,z="SharedWidgetsDialogLabel";e.SharedWidgetsDialogLabel=z;var j=500,H=0,N=function(){return{Dialog:{borderWidth:u.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:u.TabStyles.Colors.L5,borderRadius:u.TabStyles.Sizing.BorderRadius,backgroundColor:u.TabStyles.Colors.White,cursor:"default",boxShadow:u.TabStyles.Shadow.Medium,display:"flex",flexDirection:"column"},DialogContent:{outline:"none",display:"flex",flexDirection:"column"},Header:{height:T,flexShrink:0},DraggableHeader:{cursor:"move"},TitleBar:c.assign({},h.TextEllipsis,{color:u.TabStyles.Colors.F8,backgroundColor:u.TabStyles.Colors.F2,height:"100%",paddingRight:u.TabStyles.Spacing.LargeSpace,paddingLeft:u.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"}),TitleBarWithCloseButton:{paddingRight:0},Title:c.assign({},h.TextEllipsis,{fontFamily:u.TabStyles.Typography.FontFamily,fontSize:u.TabStyles.Typography.Sizing.Default,flexGrow:1}),Body:{paddingLeft:u.TabStyles.Spacing.LargeSpace,paddingRight:u.TabStyles.Spacing.LargeSpace,paddingBottom:u.TabStyles.Spacing.LargeSpace,outline:"none",overflow:"auto"},NormalBodyWithTitleBar:{paddingTop:u.TabStyles.Spacing.LargeSpace},NormalBodyWithoutTitleBar:{paddingTop:0},UberBody:{paddingTop:u.TabStyles.Spacing.MediumSpace},BodyWithFooter:{paddingBottom:0},Footer:{paddingLeft:u.TabStyles.Spacing.LargeSpace,paddingRight:u.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:x,flexShrink:0},FooterContent:{height:"100%"},ButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},FooterButton:{paddingLeft:u.TabStyles.Spacing.MediumSpace}}},P=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleStart=function(t){return e.handleStart(t)},this.boundHandleMove=function(t){return e.handleMove(t)},this.boundHandleStop=function(t){return e.handleStop(t)},this.boundHandleCloseButtonRef=function(t){return e.handleCloseButtonRef(t)}}return n(e,t),e.prototype.componentDidMount=function(){this.titleBar=a.findDOMNode(this),this.props.positioningBehavior===i.Draggable&&this.addMouseEventListeners()},e.prototype.componentDidUpdate=function(t){this.props.positioningBehavior!==t.positioningBehavior&&(t.positioningBehavior===i.Draggable&&this.removeMouseEventListeners(),this.props.positioningBehavior===i.Draggable&&this.addMouseEventListeners())},e.prototype.componentWillUnmount=function(){this.props.positioningBehavior===i.Draggable&&this.removeMouseEventListeners()},e.prototype.addMouseEventListeners=function(){window.addEventListener("touchend",this.boundHandleStop),window.addEventListener("mouseup",this.boundHandleStop)},e.prototype.removeMouseEventListeners=function(){window.removeEventListener("touchend",this.boundHandleStop),window.removeEventListener("touchmove",this.boundHandleMove),window.removeEventListener("mouseup",this.boundHandleStop),window.removeEventListener("mousemove",this.boundHandleMove)},e.prototype.handleStart=function(t){if(!this.isEventWithinCloseButton(t)&&this.props.positioningBehavior===i.Draggable){t.preventDefault();var e=f.getClientPosition(t),o=this.props.getDraggableDialogClientRect();this.startXPosition=e.x-o.left,this.startYPosition=e.y-o.top,window.addEventListener("touchmove",this.boundHandleMove),window.addEventListener("mousemove",this.boundHandleMove)}},e.prototype.isEventWithinCloseButton=function(t){var e=t.target;return!!this.closeButton&&this.closeButton.contains(e)},e.prototype.handleMove=function(t){t.preventDefault();var e=f.getClientPosition(t);this.props.setDraggableDialogPosition({top:e.y-this.startYPosition,left:e.x-this.startXPosition})},e.prototype.handleStop=function(t){window.removeEventListener("mousemove",this.boundHandleMove),window.removeEventListener("touchmove",this.boundHandleMove)},e.prototype.handleCloseButtonRef=function(t){this.closeButton=a.findDOMNode(t)},e.prototype.render=function(){var t=N(),e=c.assign({},t.Header,g.conditional(this.props.positioningBehavior===i.Draggable,t.DraggableHeader)),o=this.props.type===D.NormalWithTitleBar,n=c.assign({},t.TitleBar,g.conditional(this.props.showCloseButton,t.TitleBarWithCloseButton)),r={testId:this.props.testId,requestClose:this.props.onCloseRequestHandler,ref:this.boundHandleCloseButtonRef};return s.createElement(m.PointerEventWrapper,{pointerDown:this.boundHandleStart},s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"Header"),style:e},g.conditional(o,s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"TitleBar"),style:n},g.conditional(!!this.props.title,s.createElement(p.Block,{style:t.Title,id:z+String(this.props.instanceId)},this.props.title)),g.conditional(this.props.showCloseButton,s.createElement(y.CloseButtonWidget,r))))))},e}(r.Component),W=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t=N(),e=c.assign({},t.Body,g.conditional(this.props.type===D.NormalWithTitleBar,t.NormalBodyWithTitleBar),g.conditional(this.props.type===D.NormalWithoutTitleBar,t.NormalBodyWithoutTitleBar),g.conditional(this.props.type===D.Uber,t.UberBody),g.conditional(this.props.showFooter,t.BodyWithFooter));return s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"Body"),style:e},this.props.children)},e}(r.Component),k=function(t){var e=N();return s.createElement(p.Block,{"data-tb-test-id":g.testId(t.testId,"Footer"),style:e.Footer},g.conditional(!!t.footerContent,s.createElement(p.Block,{style:e.FooterContent},t.footerContent)))},A=new M.EventCallbackStack(window,"keydown"),B=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleWindowKeyDown=function(t){return e.handleWindowKeyDown(t)},this.boundHandleDialogKeyDown=function(t){return e.handleDialogKeyDown(t)},this.boundHandleDialogHeaderRef=function(t){return e.handleDialogHeaderRef(t)},this.boundHandlePointerClick=function(t){return e.handlePointerClick(t)}}return n(e,t),e.prototype.handleDialogHeaderRef=function(t){this.dialogHeader=a.findDOMNode(t)},e.prototype.handleWindowKeyDown=function(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode&&27!==t.which||this.props.onCloseRequestHandler()},e.prototype.handleDialogKeyDown=function(t){if("Tab"===t.key){var e=l(this.dialog),o=e.length>0?e[0]:null,i=e.length>0?e[e.length-1]:null;t.target!==i||t.shiftKey?t.target===o&&t.shiftKey&&(t.preventDefault(),i.focus()):(t.preventDefault(),o.focus())}},e.prototype.handlePointerClick=function(t){this.modifyKeyDownStackedListener.moveToTopOfStack()},e.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=a.findDOMNode(this),this.initializeFocusOnMount(),this.setFocusEventListener(),this.modifyKeyDownStackedListener=A.stackEventCallback(this.boundHandleWindowKeyDown),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},e.prototype.initializeFocusOnMount=function(){var t=l(this.dialog);if(0===t.length)throw Error("Something within the dialog must be focusable as to dismiss it");var e=0;if(this.dialogHeader)for(var o=0;o<t.length;o++)if(!this.dialogHeader.contains(t[o])){e=o;break}var i=t[e];setTimeout(function(){i.focus()},0)},e.prototype.setFocusEventListener=function(){var t=this;this.focusEventListener=function(e){if(!t.props.isModal){var o=e.target;t.dialog.contains(o)||(t.elementToReturnFocus=o)}}},e.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.modifyKeyDownStackedListener.remove(),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},e.prototype.returnFocusToElement=function(){var t=this;setTimeout(function(){t.elementToReturnFocus.focus()},0)},e.prototype.render=function(){var t=N(),e=c.assign({},this.props,{ref:this.boundHandleDialogHeaderRef});return s.createElement(m.PointerEventWrapper,{pointerClick:this.boundHandlePointerClick},s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"Content"),tabIndex:-1,style:t.DialogContent,onKeyDown:this.boundHandleDialogKeyDown,role:"dialog","aria-labelledby":g.conditional(!!this.props.title,z+String(this.props.instanceId))},g.conditional(this.props.type!==D.Uber,s.createElement(P,e)),s.createElement(W,this.props),g.conditional(this.props.showFooter,s.createElement(k,this.props))))},e}(r.Component);e.DialogContent=B;var O=function(t){function e(e){var o=this;t.call(this,e),this.boundOnCloseRequestHandler=function(){return o.onCloseRequestHandler()},this.boundGetDialogClientRect=function(){return o.getDialogFloaterClientRect()},this.boundDragBoundedDialogPosition=function(t){return o.dragBoundedDialogFloaterPosition(t)},this.boundHandleFloaterWidgetRef=function(t){return o.handleFloaterWidgetRef(t)},this.boundHandleOverlayRef=function(t){return o.handleOverlayRef(t)},this.boundHandleSizingWrapperRef=function(t){return o.handleSizingWrapperRef(t)},this.boundHandleOrientationChange=function(){return o.handleOrientationChange()},this.instanceId=H++,this.state={hasBeenDragged:!1}}return n(e,t),e.prototype.handleFloaterWidgetRef=function(t){this.floaterWidget=t},e.prototype.handleOverlayRef=function(t){this.overlay=t},e.prototype.handleSizingWrapperRef=function(t){this.sizingWrapper=t},e.prototype.onCloseRequestHandler=function(){this.props.onCloseRequest&&this.props.onCloseRequest()},e.prototype.getDialogFloaterClientRect=function(){return this.floaterWidget?this.floaterWidget.getFloaterClientRect():null},e.prototype.dragBoundedDialogFloaterPosition=function(t){this.state.hasBeenDragged||this.setState(c.assign({},this.state,{hasBeenDragged:!0})),this.floaterWidget&&this.floaterWidget.setPosition(this.getBoundedFloaterPos(t))},e.prototype.handleOrientationChange=function(){var t=this;return this.resizeAndRepositionTimeoutId?(clearTimeout(this.resizeAndRepositionTimeoutId),void(this.resizeAndRepositionTimeoutId=setTimeout(this.resizeAndRepositionCallback,j))):void this.hideDialogAndThen(function(e){t.forceRepaintHack(),t.resizeAndRepositionCallback=function(){t.resizeAndRepositionTimeoutId=null,t.resizeAndRepositionCallback=null,t.sizingWrapper.updateSize(),e()},t.resizeAndRepositionTimeoutId=setTimeout(t.resizeAndRepositionCallback,j)})},e.prototype.hideDialogAndThen=function(t){var e,o=this;switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4}),e=function(){o.floaterWidget&&o.floaterWidget.centerInVisualViewport()};break;case i.Draggable:var n=this.getDialogFloaterClientRect();this.floaterWidget.setPosition({top:-1e4,left:-1e4}),e=function(){o.state.hasBeenDragged?o.dragBoundedDialogFloaterPosition(n):o.floaterWidget&&o.floaterWidget.centerInVisualViewport()};break;case i.Anchored:var r=a.findDOMNode(this.sizingWrapper),s=r.style.display;r.style.display="none",e=function(){r.style.display=s,o.overlay&&o.overlay.setPlacement()};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}t(e)},e.prototype.forceRepaintHack=function(){var t=a.findDOMNode(this),e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e},e.prototype.getBoundedFloaterPos=function(t){var e=this.floaterWidget.getFloaterClientRect(),o={top:t.top,left:t.left,width:e.width,height:e.height},i={top:0,left:0,width:window.innerWidth,height:window.innerHeight};return C.computePositionToContainBounds(o,i)},e.prototype.getPositionedDialogElem=function(t){switch(this.props.positioningBehavior){case i.Centered:case i.Draggable:case i.Maximized:return s.createElement(I.FloaterWidget,{testId:g.testId(this.props.testId,"Dialog"),stackingRootId:this.props.stackingRootId,ref:this.boundHandleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged},t);case i.Anchored:return s.createElement(v.Overlay,{anchorEl:this.props.anchorEl,anchorOrigin:this.props.anchorOrigin||{vertical:v.VerticalOriginOption.bottom,horizontal:v.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:v.VerticalOriginOption.top,horizontal:v.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,ref:this.boundHandleOverlayRef},t);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},e.prototype.getGlassElem=function(){return s.createElement(w.GlassWidget,{testId:g.testId(this.props.testId,"Dialog"),handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex})},e.prototype.componentDidMount=function(){S.OrientationChange.addListener(this.boundHandleOrientationChange)},e.prototype.componentWillUnmount=function(){S.OrientationChange.removeListener(this.boundHandleOrientationChange)},e.prototype.render=function(){var t=N(),e=c.assign({},this.props,{onCloseRequestHandler:this.boundOnCloseRequestHandler,getDraggableDialogClientRect:this.boundGetDialogClientRect,setDraggableDialogPosition:this.boundDragBoundedDialogPosition,instanceId:this.instanceId,testId:g.testId(this.props.testId,"Dialog")}),o={isMaximized:this.props.positioningBehavior===i.Maximized,style:c.assign({},t.Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.boundHandleSizingWrapperRef},n=s.createElement(L.ViewportConstrainedDomWrapper,o,s.createElement(B,e));return s.createElement("div",{display:"none"},g.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(n))},e}(b.DynamicThemeComponent);e.DialogWidget=O;var E=function(t){var e=N();return s.createElement(p.Block,{"data-tb-test-id":g.testId(t.testId,"Confirm-Cancel-Footer"),style:e.ButtonsContainer},t.buttons.map(function(t,o){return s.createElement(p.InlineBlock,{style:g.conditional(0!==o,e.FooterButton),key:o},s.createElement(d.ButtonWidget,t))}))};e.DialogFooterButtonsWidget=E},function(t,e){function o(){var t=[];return function e(o){if(o===document.documentElement)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i][0]===o)return t[i][1];var r=!1,s=window.getComputedStyle(o);return"hidden"===s.visibility||"none"===s.display?r=!0:o.parentNode&&(r=e(o.parentNode)),t.push([o,r]),r}}t.exports=function(t){for(var e,i,n=[],r=[],s=o(),a=t.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,c=a.length;l<c;l++)e=a[l],i=e.tabIndex,i<0||"INPUT"===e.tagName&&"hidden"===e.type||e.disabled||s(e)||(0===i?n.push(e):r.push({tabIndex:i,node:e}));var d=r.sort(function(t,e){return t.tabIndex-e.tabIndex}).map(function(t){return t.node});return Array.prototype.push.apply(d,n),d}},function(t,e){"use strict";var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.TextEllipsis=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(3),a=o(10),l=o(9),c=o(34),d=o(35),p=o(32),u=function(){return{containerBase:{width:5*s.TabStyles.Sizing.BaseUnit,height:5*s.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none"},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*s.TabStyles.Sizing.BaseUnit,height:3*s.TabStyles.Sizing.BaseUnit}}},h=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleHover=function(t){return o.handleHover(t)},this.boundHandleFocus=function(t){return o.handleFocus(t)},this.boundHandleActive=function(t){return o.handleActive(t)},this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.state={hover:!1,active:!1,focus:!1}}return i(e,t),e.prototype.handleHover=function(t){this.setState(r.assign({},this.state,{hover:t}))},e.prototype.handleFocus=function(t){this.setState(r.assign({},this.state,{focus:t}))},e.prototype.handleActive=function(t){this.setState(r.assign({},this.state,{active:t}))},e.prototype.handleKeyDown=function(t){"Enter"!==t.key&&" "!==t.key||this.props.requestClose()},e.prototype.render=function(){var t,e,o=u();return this.state.hover||this.state.focus||this.state.active?(t=d.CloseButtonIcon.active,e=r.assign({},o.imageContainer,{backgroundColor:s.TabStyles.Colors.F3})):(t=d.CloseButtonIcon.enabled,e=o.imageContainer),n.createElement(a.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.boundHandleHover,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus},n.createElement(c.Block,{style:o.containerBase,tabIndex:0,onKeyDown:this.boundHandleKeyDown,role:"button",title:"Close dialog"},n.createElement(c.Block,{style:e},n.createElement("img",{src:t,draggable:!1,style:{width:d.CloseButtonIcon.width,height:d.CloseButtonIcon.height},"data-tb-test-id":l.testId(this.props.testId,"CloseButton")}))))},e}(p.DynamicThemeComponent);e.CloseButtonWidget=h},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(11),a=o(4),l=o(34),c=o(9),d=o(44),p=o(27),u=o(45),h={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},g=function(t){function e(){var e=this;t.apply(this,arguments),this.boundFloaterRefHandler=function(t){return e.floaterRefHandler(t)}}return i(e,t),e.prototype.floaterRefHandler=function(t){this.floater=r.findDOMNode(t),this.props.handleFloaterRef&&this.props.handleFloaterRef(t)},e.prototype.getCenteredFloaterRectInLayoutCoords=function(){var t=u.getVisualViewportRectRelativeToLayoutViewport(),e={width:this.floater.offsetWidth,height:this.floater.offsetHeight},o=d.computePositionToCenterAreaInBounds(e,t);return d.makeClientRect(o,e)},e.prototype.getMinimumPageRectInLayoutCoords=function(){var t=u.getElementPositionRelativeToLayoutViewport(document.documentElement),e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},o=u.getVisualViewportRectRelativeToLayoutViewport(),i={width:o.right-t.left,height:o.bottom-t.top},n=d.getMaxWidthAndHeight(e,i);return d.makeClientRect(t,n)},e.prototype.centerInVisualViewport=function(){var t=this.getCenteredFloaterRectInLayoutCoords(),e=this.getMinimumPageRectInLayoutCoords(),o=d.computePositionToContainBounds(t,e);this.setPosition(o)},e.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},e.prototype.setPosition=function(t){var e=this.floater.offsetParent||document.documentElement,o=u.getElementPositionRelativeToLayoutViewport(e),i=d.subtractPositions(t,o);this.floater.style.top=i.top+"px",this.floater.style.left=i.left+"px"},e.prototype.componentDidMount=function(){this.centerInVisualViewport()},e.prototype.componentDidUpdate=function(t){var e=this;this.props.shouldRecenterOnUpdate&&setTimeout(function(){e.centerInVisualViewport()},0)},e.prototype.render=function(){var t={"data-tb-test-id":c.testId(this.props.testId,"Floater"),style:a.assign({},h.Floater,this.props.customFloaterStyle||{}),ref:this.boundFloaterRefHandler};return s.createElement(l.Block,t,this.props.children)},e}(n.Component);e.FloaterWidgetDefault=g;var y=p.StackingComponentHOC(g);e.FloaterWidget=y},function(t,e){"use strict";function o(t){return{top:t.top+t.height/2,left:t.left+t.width/2}}function i(t,e){return{top:t.top-e.top,left:t.left-e.left}}function n(t,e){return{width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)}}function r(t,e){var i=o(e);return{top:i.top-t.height/2,left:i.left-t.width/2}}function s(t,e){var o=e.top+e.height,i=e.left+e.width;return{top:Math.max(e.top,Math.min(t.top,o-t.height)),left:Math.max(e.left,Math.min(t.left,i-t.width))}}function a(t,e){return{top:t.top,left:t.left,bottom:t.top+e.height,right:t.left+e.width,width:e.width,height:e.height}}e.computeCenter=o,e.subtractPositions=i,e.getMaxWidthAndHeight=n,e.computePositionToCenterAreaInBounds=r,e.computePositionToContainBounds=s,e.makeClientRect=a},function(t,e,o){"use strict";function i(t){return t.getBoundingClientRect()}function n(){var t=document.documentElement.getBoundingClientRect();return{top:-t.top,left:-t.left}}function r(){var t=s(),e=a();return l.makeClientRect(t,e)}function s(){var t=n(),e={top:window.pageYOffset,left:window.pageXOffset};return l.subtractPositions(e,t)}function a(){return{width:window.innerWidth,height:window.innerHeight}}var l=o(44);e.getElementPositionRelativeToLayoutViewport=i,e.getLayoutViewportPositionRelativeToPage=n,e.getVisualViewportRectRelativeToLayoutViewport=r,e.getVisualViewportPositionRelativeToLayoutViewport=s,e.getVisualViewportSize=a},function(t,e){"use strict";var o=function(){function t(t,e){var o=this;this.tail=null,this.boundFireTopOfStackCallback=function(t){return o.fireTopOfStackCallback(t)},this.eventTarget=t,this.eventType=e}return t.prototype.fireTopOfStackCallback=function(t){this.tail.callback(t)},t.prototype.initializeListener=function(){this.eventTarget.addEventListener(this.eventType,this.boundFireTopOfStackCallback)},t.prototype.removeListener=function(){this.eventTarget.removeEventListener(this.eventType,this.boundFireTopOfStackCallback)},t.prototype.stackNode=function(t){this.tail?(t.prev=this.tail,this.tail.next=t,this.tail=t):(this.tail=t,this.initializeListener())},t.prototype.removeNode=function(t){var e=t.prev,o=t.next;e&&(e.next=o),o&&(o.prev=e),t===this.tail&&(this.tail=e),this.tail||this.removeListener()},t.prototype.moveToTopOfStack=function(t){this.tail!==t&&(this.removeNode(t),this.stackNode(t))},t.prototype.stackEventCallback=function(t){var e=this,o={callback:t,prev:null,next:null};return this.stackNode(o),{remove:function(){return e.removeNode(o)},moveToTopOfStack:function(){return e.moveToTopOfStack(o)}}},t}();e.EventCallbackStack=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(34),a=o(9),l=o(3),c=o(10),d=o(32),p=o(27),u=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:l.TabStyles.Colors.White,opacity:l.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:l.TabStyles.Colors.F2,opacity:l.TabStyles.Opacity.OpaqueGlass}}},h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=u(),o=r.assign({},e.Glass,this.props.isTransparent?e.Clear:e.Opaque);return n.createElement(c.InteractiveDomWrapper,{pointerClick:function(e){e.preventDefault(),t.props.handleClick&&t.props.handleClick()}},n.createElement(s.Block,{style:o,"data-tb-test-id":a.testId(this.props.testId,"Glass")}))},e}(d.DynamicThemeComponent);e.GlassWidgetBase=h;var g=p.StackingComponentHOC(h);e.GlassWidget=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(9),l=o(45),c=20,d=function(t){function e(e){t.call(this,e),this.state=this.getStateForCurrentViewport()}return i(e,t),e.prototype.getStateForCurrentViewport=function(){return{visualViewportSize:l.getVisualViewportSize(),documentClientSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},e.prototype.getMaxSize=function(){var t={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&(this.props.style.minWidth||(t.width=Math.max(t.width,this.state.documentClientSize.width)),this.props.style.minHeight||(t.height=Math.max(t.height,this.state.documentClientSize.height))),{width:t.width-2*c,height:t.height-2*c}},e.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},e.prototype.render=function(){var t=this.getMaxSize(),e=s.assign({},{maxWidth:t.width,maxHeight:t.height},this.props.style,a.conditional(this.props.isMaximized,{width:t.width,height:t.height}));return r.createElement("div",{style:e},this.props.children)},e}(n.Component);e.ViewportConstrainedDomWrapper=d},function(t,e){"use strict";var o=250;e.PendingOrientationChangeTimeoutMs=o;var i=200;e.PendingResizeTimeoutMs=i;var n=function(){function t(){}return t.init=function(){window.addEventListener("orientationchange",t.handleOrientationChange),window.addEventListener("resize",t.handleResize)},t.handleOrientationChange=function(){null!==t.latestPendingResizeTimestamp&&Date.now()-t.latestPendingResizeTimestamp<=i?t.fireOrientationChange():t.latestPendingOrientationChangeTimestamp=Date.now()},t.handleResize=function(){null!==t.latestPendingOrientationChangeTimestamp&&Date.now()-t.latestPendingOrientationChangeTimestamp<=o?t.fireOrientationChange():t.latestPendingResizeTimestamp=Date.now()},t.fireOrientationChange=function(){t.latestPendingOrientationChangeTimestamp=null,t.latestPendingResizeTimestamp=null,t.listeners.forEach(function(t){t()})},t.addListener=function(e){e&&t.listeners.push(e)},t.removeListener=function(e){t.listeners=t.listeners.filter(function(t){return t!==e})},t.latestPendingOrientationChangeTimestamp=null,t.latestPendingResizeTimestamp=null,t.listeners=[],t}();e.OrientationChange=n,n.init()},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(51),s=o(32),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.props.currentStep/this.props.totalSteps;return n.createElement(r.ProgressBarContainer,{width:this.props.width},n.createElement(r.ProgressCompleteBar,{fractionComplete:t},1===t?null:n.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*t})))},e}(s.DynamicThemeComponent);e.DiscreteProgressBarWidget_UNFINISHED=a},function(t,e,o){"use strict";var i=o(11),n=o(4),r=o(28),s=o(3),a=o(34),l=function(){return{backgroundColor:s.TabStyles.Colors.F3,borderRadius:s.TabStyles.Sizing.BorderRadius,height:s.TabStyles.Sizing.BaseUnit}},c=function(t){var e=n.assign({},l(),{width:t.width});return i.createElement(a.Block,{style:e},t.children)};e.ProgressBarContainer=c;var d=function(){return{backgroundColor:s.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},p=function(t){var e=n.assign({},d(),{width:100*t.fractionComplete+"%"});return i.createElement(a.Block,{style:e},t.children)};e.ProgressCompleteBar=p;var u=function(){return s.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:u(),height:"100%",backgroundColor:s.TabStyles.Colors.GoDark}},g=function(t){var e=t.containerWidth,o=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(e-u())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return i.createElement(a.Block,{style:h(),className:o})};e.ProgressBarAnimation=g},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=o(11),a=o(11),l=o(13),c=o(4),d=o(53),p=o(9),u=o(41),h=o(3),g=o(10),y=o(34),I=o(35),b=o(54),f=o(17),m=o(32),M=h.TabStyles.Sizing,C=h.TabStyles.Colors,w=h.TabStyles.Spacing,v=h.TabStyles.Typography;!function(t){t[t.Outline=0]="Outline",t[t.Line=1]="Line",t[t.Text=2]="Text"}(i||(i={})),e.DropdownType=i;var L=function(){var t=M.RowHeight-2*M.BorderWidth;return{OutlineDropdownStyle:{container:{},button:{base:c.assign({},u.TextEllipsis,{borderWidth:M.BorderWidth,borderRadius:M.BorderRadius,borderColor:C.L6,borderStyle:"solid",backgroundColor:C.Transparent,height:M.RowHeight,paddingLeft:w.DefaultSpace,paddingRight:w.LargeSpace+w.DefaultSpace,outline:"none",fontSize:v.Sizing.Default,fontFamily:v.FontFamily,fontWeight:"normal",color:v.Color.Primary,cursor:"default"}),interactive:{hover:{borderColor:C.L8},active:{borderColor:C.L9},focus:{borderColor:C.L8},disabled:{borderColor:C.L9Disabled,color:v.Color.Disabled}}},value:{lineHeight:t+"px"},iconContainer:{position:"absolute",right:0,height:t,borderWidth:M.BorderWidth,borderColor:C.L3,borderStyle:"none none none solid"},icon:{marginTop:(t-I.DropdownArrowIcon.height)/2}},LineDropdownStyle:{container:{},button:{base:c.assign({},u.TextEllipsis,{borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:M.BorderWidth,borderBottomColor:C.L6,borderBottomStyle:"solid",backgroundColor:C.Transparent,height:M.RowHeight,paddingRight:w.LargeSpace+w.DefaultSpace,outline:"none",fontSize:v.Sizing.Default,fontFamily:v.FontFamily,fontWeight:"normal",color:v.Color.Primary,cursor:"default"}),interactive:{hover:{borderBottomColor:C.L8},active:{borderBottomColor:C.L9},focus:{borderBottomColor:C.L8},disabled:{borderBottomColor:C.L9Disabled,color:v.Color.Disabled}}},value:{top:M.BorderWidth,lineHeight:t+"px"},iconContainer:{position:"absolute",right:-4,border:"none"},icon:{marginTop:(t-I.DropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:v.Sizing.Tiny,fontFamily:v.FontFamily,fontWeight:"normal",color:v.Color.SubHead,lineHeight:v.Sizing.Small+"px"}},TextDropdownStyle:{container:{display:"inline-block",width:"auto"},button:{base:{border:"none",backgroundColor:C.Transparent,height:M.RowHeight,outline:"none",fontSize:v.Sizing.Default,fontFamily:v.FontFamily,fontWeight:"normal",color:v.Color.Primary,cursor:"default",lineHeight:M.RowHeight+"px",display:"inline-block",paddingRight:I.DropdownArrowIcon.width},interactive:{active:{color:C.Black},disabled:{color:v.Color.Disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(M.RowHeight-I.DropdownArrowIcon.height)/2}}}},S=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState(c.assign({},this.state,{active:!1}))},e.prototype.getDropdownIcon=function(){return this.props.disabled?I.DropdownArrowIcon.disabled:this.state.active||this.props.dropdownOpen||this.props.dropdownType===i.Text&&this.state.hover?I.DropdownArrowIcon.active:I.DropdownArrowIcon.enabled},e.prototype.render=function(){var t=c.assign({},this.props.dropdownStyles.button.base,p.conditional(this.props.dropdownOpen,this.props.dropdownStyles.button.interactive.active));return a.createElement(y.Block,{disabled:this.props.disabled,style:t,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","aria-haspopup":!0,"aria-labelledby":this.props.labelledById},a.createElement("span",{style:this.props.dropdownStyles.value},this.props.children),a.createElement(y.InlineBlock,{style:this.props.dropdownStyles.iconContainer},s.DOM.img({style:this.props.dropdownStyles.icon,src:this.getDropdownIcon()})))},e=r([g.InteractiveDomHoCDecorator],e)}(s.Component);e.DropdownButtonWidget=S;var D="SharedWidgetsDropdownLabel",T=0,x=function(t){function e(e){var o=this;t.call(this,e),this.boundToggleMenu=function(){return o.toggleMenu()},this.boundKeyDown=function(t){return o.handleKeyDown(t)},this.boundOnRequestClose=function(){return o.onRequestClose()},this.boundSetButtonElement=function(t){return o.setButtonElement(t)},this.boundHandleSelect=function(t){return o.handleSelect(t)},this.labelId=D+String(T++),this.setEnabledItems(),this.state={isOpen:!1}}return n(e,t),e.prototype.componentDidMount=function(){this.domNode=l.findDOMNode(this)},e.prototype.componentWillReceiveProps=function(t){this.setEnabledItems()},e.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},e.prototype.getMenuWidth=function(){return this.props.dropdownType===i.Text&&this.props.containerStyle?this.props.containerStyle.width:this.buttonEl?window.getComputedStyle(this.buttonEl).width:null},e.prototype.getIndexOfSelectedItem=function(){var t=this;return d.findIndex(this.enabledItems,function(e){return e.value===t.props.selectedValue},0,this)},e.prototype.setEnabledItems=function(){this.props.menuItemInfos?this.enabledItems=this.props.menuItemInfos.filter(function(t){return!t.isDivider&&!t.disabled}):this.enabledItems=[]},e.prototype.toggleMenu=function(){this.props.disabled||this.setState({isOpen:!this.state.isOpen})},e.prototype.handleSelect=function(t){this.props.onSelect(t),this.onRequestClose()},e.prototype.handleKeyDown=function(t){if(!this.state.isOpen){var e=this.getIndexOfSelectedItem();if(p.isAlphabeticChar(t.key)){var o=d.findIndex(this.enabledItems,function(e){return"string"==typeof e.displayValue&&e.displayValue.charAt(0).toUpperCase()===t.key.toUpperCase()},e+1,this);o>-1&&this.props.onSelect(this.enabledItems[o].value)}else{switch(t.key){case" ":case"Enter":this.toggleMenu();break;case"ArrowUp":e>0?this.props.onSelect(this.enabledItems[e-1].value):this.props.onSelect(this.enabledItems[this.enabledItems.length-1].value);break;case"ArrowDown":e<this.enabledItems.length-1?this.props.onSelect(this.enabledItems[e+1].value):this.props.onSelect(this.enabledItems[0].value);break;case"Home":this.props.onSelect(this.enabledItems[0].value);break;case"End":this.props.onSelect(this.enabledItems[this.enabledItems.length-1].value);break;default:return}t.preventDefault(),t.stopPropagation()}}},e.prototype.onRequestClose=function(){this.toggleMenu()},e.prototype.getButtonDisplayValue=function(){var t=this.getIndexOfSelectedItem();return t>-1?this.enabledItems[t].displayValue:this.props.placeholder||""},e.prototype.getDropdownStylesByType=function(t){var e=L();switch(t){case i.Outline:return e.OutlineDropdownStyle;case i.Line:return e.LineDropdownStyle;case i.Text:return e.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+t)}},e.prototype.setButtonElement=function(t){this.buttonEl=l.findDOMNode(t)},e.prototype.render=function(){var t=this.getDropdownStylesByType(this.props.dropdownType),e=this.props.dropdownType===i.Line&&!!this.props.label,o=c.assign({},this.props.containerStyle,t.container),n={width:this.getMenuWidth()};return a.createElement(y.Block,{style:o,"data-tb-test-id":this.props.testId+"-Dropdown"},p.conditional(e,a.createElement("label",{style:t.label,id:this.labelId},this.props.label)),a.createElement(y.Block,{},a.createElement(S,{disabled:this.props.disabled,dropdownOpen:this.state.isOpen,dropdownStyles:t,dropdownType:this.props.dropdownType,interactiveStyles:t.button.interactive,onKeyDown:this.boundKeyDown,pointerClick:this.boundToggleMenu,labelledById:p.conditional(e,this.labelId),ref:this.boundSetButtonElement},this.getButtonDisplayValue())),p.conditional(this.state.isOpen,a.createElement(b.FlyoutListMenuWidget,{anchorEl:this.buttonEl,stackingRootId:this.props.stackingRootId,anchorOrigin:{vertical:f.VerticalOriginOption.bottom,horizontal:f.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.boundToggleMenu,onSelect:this.boundHandleSelect,initialHighlightedValue:this.props.selectedValue,maxHeight:this.props.maxHeight,menuStyle:n,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.boundOnRequestClose,zIndex:this.props.zIndex,testId:this.props.testId})))},e}(m.DynamicThemeComponent);e.DropdownWidget=x},function(t,e){"use strict";var o=function(t,e,o,i){void 0===o&&(o=0);for(var n=o;n<t.length+o;n++){var r=n%t.length;if(e.call(i,t[r],r))return r}return-1};e.findIndex=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(55),s=o(32),a=o(17),l=o(58),c={vertical:a.VerticalOriginOption.bottom,horizontal:a.HorizontalOriginOption.left},d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentWillMount=function(){this.toggleElement=document.activeElement},e.prototype.componentDidMount=function(){this.toggleElement&&(this.pointerDownOutsideListenerUnsubscribe=l.GlobalPointerDownOutsideListener.subscribe(this.toggleElement,this.props.requestCloseAll))},e.prototype.componentWillUnmount=function(){var t=this;this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe(),this.toggleElement&&setTimeout(function(){t.toggleElement.focus()},0)},e.prototype.render=function(){return n.createElement(a.Overlay,{anchorEl:this.props.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:this.props.anchorOrigin||c,stackedOrigin:this.props.stackedOrigin,allowAutoPosition:this.props.allowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,scrollingRootId:this.props.scrollingRootId,zIndex:this.props.zIndex},n.createElement(r.ListMenuWidget,{menuItemInfos:this.props.menuItemInfos,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,initialHighlightedValue:this.props.initialHighlightedValue,menuStyle:this.props.menuStyle,maxHeight:this.props.maxHeight,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,testId:this.props.testId,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onEscapeKeyDown:this.props.onEscapeKeyDown}))},e}(s.DynamicThemeComponent);e.FlyoutListMenuWidget=d},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(13),r=o(11),s=o(4),a=o(34),l=o(9),c=o(53),d=o(3),p=o(56),u=o(32),h=o(57),g=o(58),y=d.TabStyles.Sizing,I=d.TabStyles.Colors,b=d.TabStyles.Spacing,f=d.TabStyles.Typography,m=d.TabStyles.Shadow,M=function(){return{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:I.L6,borderStyle:"solid",backgroundColor:I.White,padding:b.DefaultSpace,outline:"none",fontSize:f.Sizing.Default,fontFamily:f.FontFamily,fontWeight:"normal",color:f.Color.Primary,boxShadow:m.Low}},C=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.stopPropagation=function(t){t.stopPropagation()};var i=[];this.props.menuItemInfos&&(i=this.props.menuItemInfos.filter(function(t){return!t.isDivider&&!t.disabled}));var n=c.findIndex(i,function(t){return t.value===o.props.initialHighlightedValue},0,this);this.state={highlightedItemIndex:n>-1?n:0,enabledMenuItems:i,keyboardFocused:!0}}return i(e,t),e.prototype.componentDidMount=function(){this.domNode=n.findDOMNode(this),this.pointerDownOutsideListenerUnsubscribe=g.GlobalPointerDownOutsideListener.subscribe(this.domNode,this.props.requestCloseAll),this.addStopPropogationListeners()},e.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe(),this.removeStopPropogationListeners()},e.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},e.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},e.prototype.handleKeyDown=function(t){if(l.isAlphabeticChar(t.key)){var e=c.findIndex(this.state.enabledMenuItems,function(e){return"string"==typeof e.displayValue&&e.displayValue.charAt(0).toUpperCase()===t.key.toUpperCase()},this.state.highlightedItemIndex+1,this);e>-1&&this.setHighlightedItemIndexAndKeyboardFocus(e,!0)}else{switch(t.key){case"Escape":this.props.onEscapeKeyDown?this.props.onEscapeKeyDown():this.props.requestCloseAll();break;case"Tab":this.props.requestCloseAll();break;case"ArrowUp":this.state.highlightedItemIndex>0?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex-1,!0):this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;case"ArrowDown":this.state.highlightedItemIndex<this.state.enabledMenuItems.length-1?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex+1,!0):this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"ArrowLeft":this.props.onLeftArrowKeyDown&&this.props.onLeftArrowKeyDown();break;case"Home":this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"End":this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;default:return}t.preventDefault(),t.stopPropagation()}},e.prototype.setHighlightedItemIndexAndKeyboardFocus=function(t,e){this.setState(s.assign({},this.state,{highlightedItemIndex:t,keyboardFocused:e})),e||this.domNode.focus()},e.prototype.buildMenuFromMenuItemInfos=function(){var t,e=this,o=0,i=0;return this.props.menuItemInfos.map(function(n){if(n.isDivider)t=r.createElement(h.DividerWidget,{key:"divider"+i++});else{var s=e.setHighlightedItemIndexAndKeyboardFocus.bind(e,o,!!n.menuItemInfos),a=function(t){return e.props.onSelect(t)};if(t=r.createElement(p.MenuItemWidget,{value:n.value,key:n.value,isHighlighted:!n.disabled&&e.state.highlightedItemIndex===o,onHover:n.disabled?null:s,onSelect:a,keyboardFocused:e.state.keyboardFocused,disabled:n.disabled,menuItemInfos:n.menuItemInfos,subMenuStyle:n.subMenuStyle,subMenuMaxHeight:n.subMenuMaxHeight,stackingRootId:e.props.stackingRootId,requestCloseAll:e.props.requestCloseAll,displayValue:n.displayValue,zIndex:e.props.zIndex,testId:e.props.testId}),n.disabled||o++,!n.value)throw new Error("Each non-divider menu item requires a value")}return t})},e.prototype.render=function(){var t=s.assign({},M(),this.props.menuStyle,{maxHeight:this.props.maxHeight,overflowY:this.props.maxHeight?"auto":null});return r.createElement(a.Block,{style:t,onKeyDown:this.boundHandleKeyDown,tabIndex:-1,role:"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},e}(u.DynamicThemeComponent);e.ListMenuWidget=C},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(13),s=o(4),a=o(9),l=o(17),c=o(41),d=o(3),p=o(10),u=o(35),h=o(32),g=o(54),y=d.TabStyles.Sizing,I=d.TabStyles.Colors,b=d.TabStyles.Spacing,f=d.TabStyles.Typography,m=function(){return{MenuItem:s.assign({},c.TextEllipsis,{height:y.ListRowHeight,paddingLeft:b.DefaultSpace,paddingRight:b.DefaultSpace,lineHeight:y.ListRowHeight+"px",cursor:"default",outline:"none"}),Highlighted:{backgroundColor:I.F2_5},Active:{backgroundColor:I.F3},WithSubMenu:{paddingRight:u.MenuItemArrowIcon.width},InteractiveStyles:{disabled:{color:f.Color.Disabled}},ArrowIcon:{position:"absolute",right:b.DefaultSpace}}},M=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleKeyDown=function(t){return o.handleKeyDown(t)},this.boundOnSelect=function(){return o.onSelect()},this.boundOnHover=function(t){return o.onHover(t)},this.boundSetDomNode=function(t){return o.setDomNode(t)},this.boundRequestClose=function(){return o.requestClose()},this.boundOnActive=function(t){return o.onActive(t)},this.hasSubMenu=!!this.props.menuItemInfos,this.state={menuItemActive:!1}}return i(e,t),e.prototype.componentDidMount=function(){this.updateFocus()},e.prototype.componentDidUpdate=function(){!this.props.isHighlighted&&this.state.menuItemActive&&this.setState(s.assign({},this.state,{menuItemActive:!1})),this.updateFocus()},e.prototype.updateFocus=function(){var t=r.findDOMNode(this);this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused&&setTimeout(function(){return t.focus()},0)},e.prototype.handleKeyDown=function(t){switch(t.key){case" ":case"Enter":this.boundOnSelect(),t.preventDefault();break;case"ArrowRight":this.hasSubMenu&&this.boundOnSelect();break;default:return}},e.prototype.onSelect=function(){this.props.disabled||(this.hasSubMenu?this.setState(s.assign({},this.state,{menuItemActive:!0})):this.props.onSelect(this.props.value))},e.prototype.onHover=function(t){t&&(this.props.onHover&&this.props.onHover(),this.hasSubMenu&&this.setState(s.assign({},this.state,{menuItemActive:!0})))},e.prototype.onActive=function(t){this.hasSubMenu||(t?this.setState(s.assign({},this.state,{menuItemActive:!0})):this.setState(s.assign({},this.state,{menuItemActive:!1})))},e.prototype.setDomNode=function(t){this.domNode=t},e.prototype.requestClose=function(){this.setState(s.assign({},this.state,{menuItemActive:!1}))},e.prototype.render=function(){var t=m(),e=t.InteractiveStyles,o=s.assign({},t.MenuItem,a.conditional(!!this.props.menuItemInfos,t.WithSubMenu),a.conditional(this.props.isHighlighted,t.Highlighted),a.conditional(this.state.menuItemActive,t.Active)),i=this.props.disabled?u.MenuItemArrowIcon.disabled:u.MenuItemArrowIcon.enabled,r=this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&this.hasSubMenu;return n.createElement(p.InteractiveDomWrapper,{pointerClick:this.boundOnSelect,handleHover:this.boundOnHover,handleActive:this.boundOnActive,interactiveStyles:e,disabled:this.props.disabled},n.createElement("div",{onKeyDown:this.boundHandleKeyDown,style:o,tabIndex:-1,ref:this.boundSetDomNode,role:"menuitem","aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},a.conditional(this.hasSubMenu,n.createElement("img",{style:t.ArrowIcon,src:i})),this.props.displayValue,a.conditional(r,n.createElement(g.FlyoutListMenuWidget,{anchorEl:this.domNode,stackingRootId:this.props.stackingRootId,anchorOrigin:{vertical:l.VerticalOriginOption.top,horizontal:l.HorizontalOriginOption.right},stackedOrigin:{vertical:l.VerticalOriginOption.top,horizontal:l.HorizontalOriginOption.left},allowAutoPosition:!1,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:this.props.subMenuStyle,onLeftArrowKeyDown:this.boundRequestClose,onEscapeKeyDown:this.boundRequestClose,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},e}(h.DynamicThemeComponent);e.MenuItemWidget=M},function(t,e,o){"use strict";var i=o(11),n=o(3),r=n.TabStyles.Sizing,s=n.TabStyles.Colors,a=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,borderStyle:"solid",borderWidth:r.BorderWidth,borderColor:s.L3,borderBottom:"none"}},l=function(t){return i.createElement("hr",{style:a(),role:"separator","aria-orientation":"horizontal"})};e.DividerWidget=l},function(t,e){"use strict";var o=function(){function t(){}return t.subscribe=function(e,o){return!this.callback&&o&&(this.callback=o),0===this.domNodes.length&&(document.addEventListener("mousedown",this.handleClickAway.bind(this)),document.addEventListener("touchstart",this.handleClickAway.bind(this))),this.domNodes.push(e),function(){t.unsubscribe(e)}},t.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,document.removeEventListener("mousedown",this.handleClickAway.bind(this)),document.removeEventListener("touchstart",this.handleClickAway.bind(this)))},t.handleClickAway=function(t){if(this.callback){for(var e=t.target,o=0,i=this.domNodes;o<i.length;o++){var n=i[o];if(n.contains(e))return}this.callback()}},t.domNodes=[],t}();e.GlobalPointerDownOutsideListener=o},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(9),a=o(34),l=o(3),c=o(60),d=o(61);e.TextInputType=d.TextInputType;var p=o(29),u=l.TabStyles.Colors,h=l.TabStyles.Sizing,g=l.TabStyles.Spacing,y=l.TabStyles.Typography,I=function(){return{baseInput:{base:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomWidth:h.BorderWidth,borderBottomRadius:h.BorderRadius,borderBottomColor:u.L6,borderBottomStyle:"solid",height:h.RowHeight,outline:"none",backgroundColor:u.Transparent,fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Primary,position:"relative",paddingBottom:g.DefaultSpace,marginBottom:g.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:u.L8},active:{borderBottomColor:u.GoLight},focus:{borderBottomColor:u.GoLight},disabled:{borderBottomColor:u.L9Disabled,color:y.Color.Disabled}}},errorInput:{borderBottomColor:u.AttentionLight},placeholder:{base:{fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:h.RowHeight+"px",bottom:g.DefaultSpace},disabled:{color:y.Color.Disabled}},errorLabel:{fontSize:y.Sizing.Tiny,fontFamily:y.FontFamily,fontWeight:"normal",color:u.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:y.Sizing.Small,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.SubHead,lineHeight:h.RowHeight+"px"}}},b=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=I(),o=r.assign({},e.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,e.placeholder.disabled)),i=r.assign({},e.floatingLabel,this.props.floatingLabelStyle),l=this.isPlaceholderShowing(),c=r.assign({},e.baseInput.base,this.props.hasError?e.errorInput:null,this.props.inputStyle),u=this.props.hasError?null:e.baseInput.interactive,h={type:this.props.type,style:c,interactiveStyles:u,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return n.createElement(a.Block,{style:this.props.containerStyle},this.props.floatingLabel?n.createElement(a.Block,{},n.createElement("label",{style:i,"data-tb-test-id":this.props.testId+"-FloatingLabel"},l?p.Unicode.NonBreakingSpace:this.props.floatingLabel)):null,n.createElement(a.Block,{},l?n.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(d.TextFieldInputWidget,h)),n.createElement(a.Block,{},n.createElement("label",{style:e.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:p.Unicode.NonBreakingSpace)))},e}(c.TextFieldBase);e.LineTextFieldWidget=b},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(4),r=o(32),s=function(t){function e(e){t.call(this,e),this.state=n.assign({},this.state,{inputFocus:!1,inputActive:!1,inputHover:!1})}return i(e,t),e.prototype.handleInputActive=function(t){this.props.disabled||this.setState(n.assign({},this.state,{inputActive:t}))},e.prototype.handleInputFocus=function(t){this.props.disabled||this.setState(n.assign({},this.state,{inputFocus:t}))},e.prototype.handleInputHover=function(t){this.props.disabled||this.setState(n.assign({},this.state,{inputHover:t}))},e.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},e}(r.DynamicThemeComponent);e.TextFieldBase=s},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(11),a=o(4),l=o(10),c=o(28),d=o(3),p="shared-widgets-text-input";c.SingletonStyleSheet.addRawSelector("."+p+":focus",{"background-color":d.TabStyles.Colors.Transparent});try{c.SingletonStyleSheet.addRawSelector("."+p+"::-ms-clear",{display:"none"})}catch(u){}var h;!function(t){t[t.Text=0]="Text",t[t.Password=1]="Password"}(h||(h={})),e.TextInputType=h;var g={input:{width:"100%",boxSizing:"border-box"}},y=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.handleChangeWrapper=function(t){this.props.disabled||this.props.handleChange(t.target.value)},e.prototype.render=function(){var t=this,e=this.props.type===h.Password?"password":"text",o={className:p,type:e,style:a.assign({},g.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:function(e){return t.handleChangeWrapper(e)},onKeyDown:function(e){t.props.disabled||!t.props.handleEnter&&!t.props.onKeyDown||("Enter"===e.key&&t.props.handleEnter&&t.props.handleEnter(),t.props.onKeyDown&&t.props.onKeyDown(e))},disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength};return s.createElement("input",o)},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldInputWidget=y},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(35),a=o(9),l=o(34),c=o(3),d=o(61);e.TextInputType=d.TextInputType;var p=o(60),u=o(63),h=c.TabStyles.Colors,g=c.TabStyles.Sizing,y=c.TabStyles.Spacing,I=c.TabStyles.Typography,b=function(){return{input:{base:{borderWidth:g.BorderWidth,borderRadius:g.BorderRadius,borderColor:h.L6,borderStyle:"solid",height:g.RowHeight,paddingLeft:y.DefaultSpace,outline:"none",backgroundColor:h.Transparent,fontSize:I.Sizing.Default,fontFamily:I.FontFamily,color:I.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text",paddingRight:s.TextFieldClearIcon.width+2*y.DefaultSpace},interactive:{hover:{borderColor:h.L8},active:{borderColor:h.L8},focus:{borderColor:h.L8},disabled:{borderColor:h.L9Disabled,color:I.Color.Disabled}}},placeholder:{base:{fontSize:I.Sizing.Default,fontFamily:I.FontFamily,fontWeight:"normal",color:I.Color.Secondary,position:"absolute",left:y.DefaultSpace,textAlign:"start",lineHeight:g.RowHeight+"px"},disabled:{color:I.Color.Disabled}}}};e.getTextOutlineStyles=b;var f=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleClearSearch=function(){return o.handleCancelSearchWrapper()},this.boundHandleClearHover=function(t){return o.handleClearHover(t)},this.state=r.assign({},this.state,{clearHover:!1})}return i(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=r.assign({},this.state,{clearHover:!1}))},e.prototype.handleCancelSearchWrapper=function(){this.props.disabled||this.props.handleClearText()},e.prototype.handleClearHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{clearHover:t}))},e.prototype.getInputStyle=function(){var t=b();return r.assign({},t.input.base,a.conditional(this.state.clearHover,t.input.interactive.hover),this.props.inputStyle)},e.prototype.render=function(){var t=this,e=b(),o=r.assign({},e.placeholder.base,this.props.placeholderStyle,a.conditional(this.props.disabled,e.placeholder.disabled)),i=this.isPlaceholderShowing(),s={type:this.props.type,style:this.getInputStyle(),interactiveStyles:e.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return n.createElement(l.Block,{style:this.props.containerStyle},i?n.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(d.TextFieldInputWidget,s),this.props.text?n.createElement(u.TextFieldClearButton,{pointerClick:this.boundHandleClearSearch,handleHover:this.boundHandleClearHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled}):null)},e}(p.TextFieldBase);e.OutlineTextFieldWidget=f},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(11),a=o(3),l=o(10),c=o(9),d=o(35),p=a.TabStyles.Sizing,u=a.TabStyles.Spacing,h=function(){var t=(p.RowHeight-d.TextFieldClearIcon.height)/2,e=p.RowHeight-t-d.TextFieldClearIcon.height;return{icon:{position:"absolute",right:0,paddingRight:u.DefaultSpace,paddingLeft:u.DefaultSpace,paddingTop:t,paddingBottom:e}}},g=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getIcon=function(t,e){return!t.disabled&&(t.active||e.active||e.focus||e.hover)?d.TextFieldClearIcon.clearActive:d.TextFieldClearIcon.clear},e.prototype.render=function(){var t=h();return s.createElement("img",{style:t.icon,src:this.getIcon(this.props,this.state),"data-tb-test-id":c.testId(this.props.testId,"ClearIcon")})},e=n([l.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldClearButton=g},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(34),a=o(35),l=o(3),c=o(65),d="RadioButtonWithLabelGroup",p=function(t){function e(o){t.call(this,o),this.groupId=e.groupIdIncrementor++}return i(e,t),e.prototype.getContainerStyleOfIndex=function(t){return t!==this.props.buttonList.length-1?{paddingBottom:l.TabStyles.Sizing.ListRowHeight-l.TabStyles.Sizing.MultiLineInputLineHeight-(a.RadioButtonIcon.height-l.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},e.prototype.render=function(){var t=this;return r.createElement(s.Block,{role:"radiogroup"},this.props.buttonList.map(function(e,o){var i=t.getContainerStyleOfIndex(o);return r.createElement(c.RadioButtonWithLabelWidget,{index:o,groupName:d+t.groupId.toString(),value:e.value,testId:e.testId,checked:o===t.props.checkedIndex,disabled:e.disabled,handleChange:t.props.handleChange,label:e.label,containerStyle:i,key:o})}))},e.groupIdIncrementor=0,e}(n.Component);e.RadioButtonWithLabelGroupWidget=p},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(66),a=o(34),l=o(1),c=o(35),d=o(10),p=o(38),u=o(3),h=o(32),g=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:u.TabStyles.Sizing.MultiLineInputLineHeight},text:{width:"100%",paddingTop:(c.RadioButtonIcon.height-u.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},y=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=g();return r.createElement(a.Block,{style:this.props.containerStyle,className:l.SuppressClickBustingClass,role:"radio"},r.createElement(p.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:t.label},r.createElement(s.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,value:this.props.value,index:this.props.index}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:t.text},this.props.label)))},e=n([d.InteractiveDomHoCDecorator],e)}(h.DynamicThemeComponent);e.RadioButtonWithLabelWidget=y},function(t,e,o){"use strict";function i(t,e){var o;return o=t.checked?t.disabled?c.RadioButtonIcon.selectedDisabled:t.hover||e.hover||e.focus?c.RadioButtonIcon.selectedActive:c.RadioButtonIcon.selected:t.disabled?c.RadioButtonIcon.unselectedDisabled:t.hover||e.hover||e.focus?c.RadioButtonIcon.unselectedActive:c.RadioButtonIcon.unselected}var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=o(11),a=o(34),l=o(10),c=o(35),d=o(3),p=o(32),u=function(){return{baseDiv:{marginLeft:d.TabStyles.Spacing.DefaultSpace,marginRight:d.TabStyles.Spacing.DefaultSpace,height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,minWidth:c.RadioButtonIcon.width,flexShrink:0},radioButton:{opacity:0,height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,margin:0,cursor:"default"},fakeRadioButton:{height:c.RadioButtonIcon.height,width:c.RadioButtonIcon.width,position:"absolute"}}},h=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},e.prototype.render=function(){var t=this,e=i(this.props,this.state),o=u();return s.createElement(a.InlineBlock,{style:o.baseDiv},s.DOM.img({style:o.fakeRadioButton,src:e}),s.DOM.input({style:o.radioButton,type:"radio",name:this.props.groupName,readOnly:this.props.checked,onChange:this.props.checked?null:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id}))},e=r([l.InteractiveDomHoCDecorator],e)}(p.DynamicThemeComponent);e.RadioButtonWidget=h},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(13),a=o(11),l=o(4),c=o(34),d=o(9),p=o(10),u=o(3),h=o(68),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=u.TabStyles.Spacing,b=u.TabStyles.Typography,f=function(){var t=5*y.ListRowHeight+2*y.BorderWidth;return{container:{background:g.White},input:{base:{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:g.L6,borderStyle:"solid",paddingLeft:I.DefaultSpace,paddingRight:I.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:b.Sizing.Default,fontFamily:b.FontFamily,color:b.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:y.ListRowHeight+"px",minHeight:y.RowHeight,maxHeight:t,overflowY:"auto",overflowX:"hidden",wordWrap:"break-word"},interactive:{hover:{borderColor:g.L8},active:{borderColor:g.L8},focus:{borderColor:g.L8},disabled:{borderColor:g.L9Disabled,color:b.Color.Disabled}}},placeholder:{position:"absolute",fontWeight:"normal",fontSize:b.Sizing.Default,fontFamily:b.FontFamily,color:b.Color.Disabled,top:I.SmallSpace,left:I.DefaultSpace,textAlign:"start",lineHeight:y.ListRowHeight+"px"}}};e.getRichTextEditOutlineStyles=f;var m=function(t){function e(){var e=this;t.apply(this,arguments),this.boundInputRef=function(t){e.textInputRef=s.findDOMNode(t),e.props.handleInputRef(t)},this.shouldShowPlaceholder=function(){if(e.state.focus)return!1;var t=!e.textInputRef||0===e.textInputRef.innerText.length;return t}}return i(e,t),e.prototype.render=function(){var t=f(),e=this.shouldShowPlaceholder(),o={style:l.assign({},t.container,this.props.containerStyle)},i={style:t.placeholder,"data-tb-test-id":d.testId(this.props.testId,"Placeholder")},n={style:t.input.base,interactiveStyles:t.input.interactive,testId:this.props.testId,handleInputRef:this.boundInputRef,disabled:this.props.disabled,handleEnter:this.props.handleEnter,handleChange:this.props.handleChange};return a.createElement(c.Block,o,d.conditional(e,a.createElement("label",i,this.props.placeholder)),a.createElement(h.RichTextEditWidget_UNFINISHED,n))},e=n([p.InteractiveDomHoCDecorator],e)}(r.Component);e.RichTextEditOutlineWidget_UNFINISHED=m},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(34),l=o(11),c=o(10),d="shared-widgets-content-editable-div",p=function(){return{userSelect:"text",WebkitUserSelect:"text"}},u=function(t){function e(){var e=this;t.apply(this,arguments),this.boundOnKeyDown=function(t){return e.handleUserInput(t)},this.boundOnKeyUp=function(t){return e.handleChange(t)}}return i(e,t),e.prototype.handleUserInput=function(t){this.props.disabled||"Enter"!==t.key||t.shiftKey||this.props.handleEnter&&(this.props.handleEnter(),t.preventDefault(),t.stopPropagation())},e.prototype.handleChange=function(t){this.props.disabled||this.props.handleChange&&this.props.handleChange()},e.prototype.render=function(){var t={className:d,"data-tb-test-id":this.props.testId+"-TextInput",style:s.assign({},p(),this.props.style),contentEditable:!0,onKeyDown:this.boundOnKeyDown,onKeyUp:this.boundOnKeyUp,ref:this.props.handleInputRef};return l.createElement(a.Block,t)},e=n([c.InteractiveDomHoCDecorator],e)}(r.Component);e.RichTextEditWidget_UNFINISHED=u},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(9),a=o(34),l=o(35),c=o(3),d=o(62),p=o(60),u=o(63),h=o(61);e.TextInputType=h.TextInputType;var g=c.TabStyles.Sizing,y=c.TabStyles.Spacing,I=function(){return{iconPadding:{paddingRight:l.SearchIcon.width+2*y.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:y.DefaultSpace,paddingLeft:y.DefaultSpace,marginTop:(g.RowHeight-l.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},b=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleClearSearch=function(){return o.handleCancelSearchWrapper()},this.boundHandleCancelHover=function(t){return o.handleCancelHover(t)},this.state=r.assign({},this.state,{cancelHover:!1})}return i(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=r.assign({},this.state,{cancelHover:!1}))},e.prototype.handleCancelSearchWrapper=function(){this.props.disabled||this.props.handleCancelSearch()},e.prototype.handleCancelHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{cancelHover:t}))},e.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?l.SearchIcon.searchActive:l.SearchIcon.search},e.prototype.getInputStyle=function(){var t=d.getTextOutlineStyles(),e=I();return r.assign({},t.input.base,e.iconPadding,this.state.cancelHover?t.input.interactive.hover:{},this.props.inputStyle)},e.prototype.render=function(){var t=this,e=I(),o=d.getTextOutlineStyles(),i=r.assign({},o.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,o.placeholder.disabled)),l=this.isPlaceholderShowing(),c=this.getInputStyle(),p={type:this.props.type,style:c,interactiveStyles:o.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},handleHover:function(e){return t.handleInputHover(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return n.createElement(a.Block,{style:this.props.containerStyle},this.props.text?null:n.createElement("img",{src:this.getIcon(),style:e.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"}),l?n.createElement("label",{style:i,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,n.createElement(h.TextFieldInputWidget,p),this.props.text?n.createElement(u.TextFieldClearButton,{pointerClick:this.boundHandleClearSearch,handleHover:this.boundHandleCancelHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled}):null)},e}(p.TextFieldBase);e.SearchFieldWidget=b},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(4),s=o(34),a=o(32),l=o(62),c=o(71),d=o(35),p=o(3),u=o(9),h=o(61);e.TextInputType=h.TextInputType;var g,y=o(74);!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(g||(g={})),e.StepperType=g;var I=p.TabStyles.Spacing,b=p.TabStyles.Sizing,f=function(){return{verticalIconPadding:{paddingRight:d.StepperDownIcon.width+I.DefaultSpace},horizontalIconPadding:{paddingRight:d.StepperRightIcon.width+d.StepperLeftIcon.width+I.DefaultSpace+2*b.BorderWidth},outlineContainer:{width:"100%"}}},m=function(t){function e(e){var o=this;t.call(this,e),this.boundhandleKeyDown=function(t){return o.handleKeyDown(t)},this.boundHandleActive=function(t){return o.handleInputActive(t)},this.boundHandleFocus=function(t){return o.handleInputFocus(t)},this.boundHandleHover=function(t){return o.handleInputHover(t)},this.boundHandleIncrementWrapper=function(){return o.handleIncrementWrapper()},this.boundHandleDecrementWrapper=function(){return o.handleDecrementWrapper()},this.boundHandleChangeWrapper=function(t){return o.handleChangeWrapper(t)},this.boundHandleStepperHover=function(t){return o.handleStepperHover(t)},this.state={inputFocus:!1,inputActive:!1,inputHover:!1,stepperHover:!1}}return i(e,t),e.prototype.handleInputActive=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputActive:t}))},e.prototype.handleInputFocus=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputFocus:t}))},e.prototype.handleInputHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputHover:t}))},e.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},e.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},e.prototype.handleChangeWrapper=function(t){isNaN(+t)||this.props.handleChange(+t)},e.prototype.getInputStyle=function(){var t=this.props.stepperType===g.Vertical,e=l.getTextOutlineStyles(),o=f();return r.assign({},e.input.base,u.conditional(this.state.stepperHover,e.input.interactive.hover),this.props.inputStyle,t?o.verticalIconPadding:o.horizontalIconPadding)},e.prototype.handleStepperHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{stepperHover:t}))},e.prototype.handleKeyDown=function(t){this.props.disabled||("ArrowUp"===t.key?this.handleIncrementWrapper():"ArrowDown"===t.key&&this.handleDecrementWrapper())},e.prototype.render=function(){var t={style:this.props.containerStyle},e=this.props.stepperType===g.Vertical,o=e?y.VerticalStepperArrowGroup:c.HorizontalStepperArrowGroup,i=l.getTextOutlineStyles(),r=this.getInputStyle(),a={style:r,interactiveStyles:i.input.interactive,text:String(this.props.value),testId:u.testId(this.props.testId,"StepperWidget"),handleChange:this.boundHandleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus,handleHover:this.boundHandleHover,readOnly:this.props.readOnly,maxLength:this.props.maxLength,onKeyDown:this.boundhandleKeyDown},d={testId:u.testId(this.props.testId,"StepperWidget"),isIncrementDisabled:this.props.isIncrementDisabled,isDecrementDisabled:this.props.isDecrementDisabled,disabled:this.props.disabled,inputStyle:this.props.inputStyle,handleIncrement:this.boundHandleIncrementWrapper,handleDecrement:this.boundHandleDecrementWrapper,handleHover:this.boundHandleStepperHover};return n.createElement(s.Block,t,n.createElement(h.TextFieldInputWidget,a),n.createElement(o,d))},e}(a.DynamicThemeComponent);e.StepperWidget=m},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(34),l=o(72),c=o(10),d=o(73),p=o(35),u=o(3),h=o(9),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=function(){return{iconContainer:{position:"absolute",top:y.BorderWidth,borderWidth:y.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"none",outline:"none",backgroundColor:g.Transparent},arrowLayout:{position:"none"},incrementStyle:{right:y.BorderWidth},decrementStyle:{borderLeft:"solid",borderRight:"solid",right:y.BorderWidth+p.StepperRightIcon.width}}},b=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getIncrementIconStyle=function(){var t=I();return s.assign({},t.incrementStyle,t.iconContainer,this.props.inputStyle)},e.prototype.getDecrementIconStyle=function(){var t=I();return s.assign({},t.decrementStyle,t.iconContainer,this.props.inputStyle)},e.prototype.render=function(){var t={style:I().arrowLayout},e={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:p.StepperLeftIcon.active,enabledIcon:p.StepperLeftIcon.enabled,disabledIcon:p.StepperLeftIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled},o={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:p.StepperRightIcon.active,enabledIcon:p.StepperRightIcon.enabled,disabledIcon:p.StepperRightIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled};return r.createElement(a.Block,t,r.createElement(l.IconButtonBase,e),r.createElement(l.IconButtonBase,o))},e=n([c.InteractiveDomHoCDecorator],e)}(d.StepperArrowGroup);e.HorizontalStepperArrowGroup=b},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(10),l=o(9),c=function(t){function e(e){var o=this;t.call(this,e),this.boundHandleActive=function(t){return o.handleActiveWrapper(t)},this.boundPointerClick=function(){return o.handleClickWrapper()},this.state={active:!1}}return i(e,t),e.prototype.handleClickWrapper=function(){!this.props.disabled&&this.props.handleClick&&this.props.handleClick()},e.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon:this.state.active?this.props.activeIcon:this.props.enabledIcon},e.prototype.handleActiveWrapper=function(t){this.setState(s.assign({},this.state,{active:t}))},e.prototype.render=function(){var t={pointerClick:this.boundPointerClick,handleActive:this.boundHandleActive},e={src:this.getIcon(),draggable:!1,style:this.props.style,"data-tb-test-id":l.testId(this.props.testId,"IconButtonBase")};return r.createElement(a.InteractiveDomWrapper,t,r.createElement("img",e))},e}(n.Component);e.IconButtonBase=c},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleIncrementWrapper=function(){return e.handleIncrementWrapper()},this.boundHandleDecrementWrapper=function(){return e.handleDecrementWrapper()}}return i(e,t),e.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},e.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},e.prototype.handleHoverWrapper=function(t){this.props.disabled||this.props.handleHover(t)},e}(n.Component);e.StepperArrowGroup=r},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=o(11),s=o(4),a=o(34),l=o(72),c=o(10),d=o(73),p=o(35),u=o(3),h=o(9),g=u.TabStyles.Colors,y=u.TabStyles.Sizing,I=function(){return{icon:{position:"absolute",right:y.BorderWidth,paddingRight:y.BorderWidth,paddingLeft:y.BorderWidth,borderWidth:y.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderBottom:"none",backgroundColor:g.Transparent},arrowLayout:{position:"none"},incrementStyle:{top:y.BorderWidth},decrementStyle:{top:y.RowHeight-p.StepperDownIcon.height-2*y.BorderWidth,borderTop:"solid"}}},b=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getIncrementIconStyle=function(){var t=I();return s.assign({},t.incrementStyle,t.icon,this.props.inputStyle)},e.prototype.getDecrementIconStyle=function(){var t=I();return s.assign({},t.decrementStyle,t.icon,this.props.inputStyle)},e.prototype.render=function(){var t={style:I().arrowLayout},e={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:p.StepperUpIcon.active,enabledIcon:p.StepperUpIcon.enabled,disabledIcon:p.StepperUpIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled},o={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:p.StepperDownIcon.active,enabledIcon:p.StepperDownIcon.enabled,disabledIcon:p.StepperDownIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled};return r.createElement(a.Block,t,r.createElement(l.IconButtonBase,e),r.createElement(l.IconButtonBase,o))},e=n([c.InteractiveDomHoCDecorator],e)}(d.StepperArrowGroup);e.VerticalStepperArrowGroup=b},function(t,e,o){"use strict";var i,n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(11),s=o(4),a=o(32),l=o(3),c=o(76);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(i||(i={})),e.SelectedToggle=i;var d=function(){return{container:{display:"flex"},toggleBase:{flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:l.TabStyles.Spacing.MediumSpace,paddingRight:l.TabStyles.Spacing.MediumSpace,borderWidth:l.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:l.TabStyles.Sizing.RowHeight-2*l.TabStyles.Sizing.BorderWidth+"px",userSelect:"none"},selectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:l.TabStyles.Colors.F1,color:l.TabStyles.Typography.Color.Primary,borderColor:l.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:l.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:l.TabStyles.Colors.L9},focusSelectedToggle:{borderColor:l.TabStyles.Colors.L9},focusUnselectedToggle:{borderColor:l.TabStyles.Colors.L9},activeSelectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.L9},unactiveToggle:{backgroundColor:l.TabStyles.Colors.F1,color:l.TabStyles.Typography.Color.Primary,borderColor:l.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:l.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:l.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:l.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:l.TabStyles.Sizing.BorderRadius}}},p=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleChange=function(t){return e.handleChangeHelper(t)}}return n(e,t),e.prototype.handleChangeHelper=function(t){1===t?this.props.handleRightToggleSelected():this.props.handleLeftToggleSelected()},e.prototype.render=function(){var t=d();return t.container=s.assign({},t.container,this.props.containerStyle),r.createElement(c.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===i.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.boundHandleChange,style:t,testId:this.props.testId})},e}(a.DynamicThemeComponent);e.ToggleTextWidget=p},function(t,e,o){"use strict";var i=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},n=o(11),r=o(11),s=o(4),a=o(34),l=o(1),c=o(9),d=o(38),p="SwitcherTextGroup",u=function(t){function e(){var e=this;t.apply(this,arguments),this.boundedChange=function(t){return e.props.handleChange(e.props.idx)},this.boundHandleActive=function(t){return e.handleActive(t)}}return i(e,t),e.prototype.handleActive=function(t){this.props.handleActive(t?this.props.idx:-1)},e.prototype.render=function(){return r.createElement(d.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.boundHandleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.props.checked?null:this.boundedChange,type:"radio",checked:this.props.checked,name:this.props.groupName,readOnly:this.props.checked,"data-tb-test-id":c.testId(this.props.testId,"input")}),this.props.children)},e}(n.Component),h=function(t){function e(o){var i=this;t.call(this,o),this.boundHandleActive=function(t){return i.handleActive(t)},this.groupId=e.groupIdIncrementor++,this.state={activerSwitcherIdx:-1}}return i(e,t),e.prototype.handleActive=function(t){this.setState({activerSwitcherIdx:t})},e.prototype.getToggleStyling=function(t){var e=s.assign({},this.props.style.toggleBase,0===t?this.props.style.firstToggle:null,t===this.props.toggleTexts.length-1?this.props.style.lastToggle:null);return e=this.state.activerSwitcherIdx>=0?s.assign({},e,this.state.activerSwitcherIdx!==t?this.props.style.unactiveToggle:this.props.checkedIndex===t?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle):s.assign({},e,this.props.checkedIndex===t?this.props.style.selectedToggle:this.props.style.unselectedToggle)},e.prototype.render=function(){var t=this,e=p+String(this.groupId),o=this.props.toggleTexts.map(function(o,i){var n=t.getToggleStyling(i),s=t.props.checkedIndex===i?t.props.style.hoverSelectedToggle:t.props.style.hoverUnselectedToggle,a=t.props.checkedIndex===i?t.props.style.focusSelectedToggle:t.props.style.focusUnselectedToggle;return r.createElement(u,{groupName:e,handleChange:t.props.handleChange,checked:t.props.checkedIndex===i,testId:c.testId(t.props.testId,o),idx:i,style:n,hoverStyle:s,focusStyle:a,key:i,handleActive:t.boundHandleActive},o)});return r.createElement(a.Block,{style:this.props.style.container,className:l.SuppressClickBustingClass},o)},e.groupIdIncrementor=0,e}(n.Component);e.SwitcherTextBase=h}])});;(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(ei,ej){dq.call(this,ei,ej)};b.__typeName='spiff.$0';b.$1=function(){var ei=new ch;ei.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};ei.ref='iscroll-component';return ei};b.$0=function(ei){var ej=b.$1();ej.augmentedScrollX=ei.augmentedScrollX;ej.augmentedScrollY=ei.augmentedScrollY;ej.extraCssClass=ei.extraCssClass;ej.iScrollOptions.scrollX=ei.scrollX;ej.iScrollOptions.scrollY=ei.scrollY;ej.scrollStopCallback=ei.onScrollStop;ej.alwaysShowScrollbarsIfScrollable=ei.alwaysShowScrollbarsIfScrollable;ej.startingY=ei.startingY;if(ei.scrollbars){ej.iScrollOptions.scrollbars='custom'}return ej};var c=function(ei){this.$0=null;this.$0=ei};c.__typeName='spiff.$1';var d=function(ei){this.$0=null;this.$0=ei};d.__typeName='spiff.$10';var e=function(ei){this.$0=null;this.$0=ei};e.__typeName='spiff.$11';var f=function(ei,ej){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,ei,ej.iScrollOptions);this.$2=ei;if(ss.isValue(ej)){this.$0=ej.augmentedScrollX;this.$1=ej.augmentedScrollY}};f.__typeName='spiff.$2';var g=function(){};g.__typeName='spiff.$3';g.$2=function(ei,ej){if(ei===9){g.$3[0]=ej}else if(ei===27){g.$3[1]=ej}else if(ei>=33&&ei<=40){g.$3[ei-31]=ej}};g.$0=function(ei){if(ei===9){return g.$3[0]}else if(ei===27){return g.$3[1]}else if(ei>=33&&ei<=40){return g.$3[ei-31]}else{return false}};g.$1=function(){for(var ei=0;ei<g.$3.length;ei++){if(g.$3[ei]){return true}}return false};var h=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dP.call(this,$("\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"))};h.__typeName='spiff.$4';var i=function(ei,ej){this.$6=new h;this.$6.$6=this.$6.getElementBySelector('.tabMenuItemName');this.$6.$6.text(ei);if(!ej){this.$6.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}};i.__typeName='spiff.$5';var j=function(){this.$3=null;this.$2=null;this.$4=null;dP.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('span')};j.__typeName='spiff.$6';var k=function(){this.$0=null;dP.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};k.__typeName='spiff.$7';var l=function(){this.$1=null;this.$0=null;dP.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};l.__typeName='spiff.$8';var m=function(){dP.call(this,$("<span class='tabTabLabel' />"))};m.__typeName='spiff.$9';var n=function(){};n.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=n;var o=function(){};o.__typeName='spiff.AriaAttrName';global.spiff.AriaAttrName=o;var p=function(){};p.__typeName='spiff.AriaRole';global.spiff.AriaRole=p;var q=function(ei){df.call(this,ei)};q.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=q;var r=function(ei){var ej=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(ei);v.call(this)};ss.registerGenericClassInstance(ej,r,[ei],{add_propsUpdated:function(ek){this.$2$1=ss.delegateCombine(this.$2$1,ek)},remove_propsUpdated:function(ek){this.$2$1=ss.delegateRemove(this.$2$1,ek)},get_props:function(){return this.$2$2},set_props:function(ek){this.$2$2=ek},updateProps$1:function(ek){this.set_props(ek);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return v},function(){return[ss.IDisposable,cp,ss.makeGenericType(cc,[ei])]});return ej};r.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(r,a,1);global.spiff.BaseComponentViewModel$1=r;var s=function(ei){var ej=function(ek,el){ss.makeGenericType(u,[ei]).call(this,ek,el)};ss.registerGenericClassInstance(ej,s,[ei],{positionMenu:function(ek,el,em){var en=$(window).scrollLeft()+6;var eo=en+$(window).width()-12;var ep=$(window).innerWidth()-12;var eq=em.domRoot.outerHeight(false);var er=em.domRoot.outerWidth(false);var es=eq-em.domRoot.height();var et=tab.DomUtil.getPageOffset(el.relativeDom);var eu=el.relativeDom.outerWidth(false);var ev=el.relativeDom.outerHeight(false);if(ss.isValue(el.cursorPosition)){et=el.cursorPosition;eu=0;ev=0}var ew,ex;var ey=ek.getVisibleRoom(tab.PointUtil.fromPosition(et));var ez=null;if(!el.preferUp&&ey.roomBelow>=eq+ev){ex=et.top+ev}else if(ey.roomAbove>eq){ex=et.top-eq}else if(ey.roomBelow-ev>=ey.roomAbove){ex=et.top+ev;ez=ey.roomBelow-ev-es-6}else{ex=et.top-ey.roomAbove+6;ez=ey.roomAbove-es-6}if(el.preferLeft){ew=et.left+eu-er}else{ew=et.left}ew=Math.max(ew,en);if(ew+er>eo){ew=eo-er}ew=Math.max(6,ew);var eA={};eA['top']=ex+'px';eA['left']=ew+'px';eA['max-height']=(ss.isValue(ez)?(ez+'px'):'');eA['max-width']=ep+'px';em.domRoot.css(eA)}},function(){return ss.makeGenericType(u,[ei])},function(){return[bO,ss.IDisposable,ss.makeGenericType(co,[ei])]});ej.$0=6;return ej};s.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(s,a,1);global.spiff.BaseMenuView$1=s;var t=function(ei){var ej=function(){this.$1=null;this.$2$1=null;v.call(this)};ss.registerGenericClassInstance(ej,t,[ei],{add_propsUpdated:function(ek){this.$2$1=ss.delegateCombine(this.$2$1,ek)},remove_propsUpdated:function(ek){this.$2$1=ss.delegateRemove(this.$2$1,ek)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(ek){this.$1=ek},incrementProps:function(){var ek=this.createUpdatedProps();var el=$.extend(false,ss.createInstance(ei),this.get_props(),ek);this.set_props(el);if(ss.isNullOrUndefined(ek)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(ek){var el=ss.mkdel(this,this.incrementProps);ek.add_propsUpdated(el);return new tab.CallOnDispose(function(){ek.remove_propsUpdated(el)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return ss.createInstance(ei)},createUpdatedProps:function(){return null}},function(){return v},function(){return[ss.IDisposable,cp,ss.makeGenericType(cc,[ei])]});return ej};t.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(t,a,1);global.spiff.BaseReactViewModel$1=t;var u=function(ei){var ej=function(ek,el){this.$3=null;this.$4=ss.getDefaultValue(ei);eh.call(this,el.domRoot);tab.Param.verifyValue(ek,'viewModel');tab.Param.verifyValue(el,'t');this.$3=el;this.$4=ek;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(ej,u,[ei],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();eh.prototype.dispose.call(this)},onViewModelPropertyChanged:function(ek,el){},$2:function(ek){this.dispose()}},function(){return eh},function(){return[bO,ss.IDisposable,ss.makeGenericType(co,[ei])]});return ej};u.__typeName='spiff.BaseView$1';ss.initGenericClass(u,a,1);global.spiff.BaseView$1=u;var v=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};v.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=v;var w=function(ei){var ej=function(){React.Component.call(this)};ss.registerGenericClassInstance(ej,w,[ei],{componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var ek=this.$0();this.props.reportWidth(this.props.col.name,ek)},shouldComponentUpdate:function(ek,el){return!ss.staticEquals(this.props,ek)||!ss.staticEquals(this.state,el)},render:null,$0:function(){var ek=ReactDOM.findDOMNode(this);var el=ek.getBoundingClientRect();return Math.ceil(el.right-el.left)},handleCellClick:function(ek){if(!ss.staticEquals(this.props.onClick,null)){this.props.onClick(this.props.row,this.props.col)}},handleCellRightClick:function(ek){if(!ss.staticEquals(this.props.onRightClick,null)){this.props.onRightClick(ek.target,this.props.row,this.props.col)}}},function(){return React.Component},function(){return[]});return ej};w.__typeName='spiff.BodyCell$1';ss.initGenericClass(w,a,1);global.spiff.BodyCell$1=w;var x=function(){React.Component.call(this)};x.__typeName='spiff.BodyRow';x.createBodyRow=function(ei){return React.createElement(x,ei)};global.spiff.BodyRow=x;var y=function(ei){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;eh.call(this,ei);this.$2()};y.__typeName='spiff.Button';global.spiff.Button=y;var z=function(ei){var ej=function(ek){React.Component.call(this,ek)};ss.registerGenericClassInstance(ej,z,[ei],{get_className:function(){var ek=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){ek.push(this.props.customClassName)}if(this.props.border){ek.push('bordered')}if(this.props.disabled){ek.push('disabled')}return ek.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var ek={className:this.get_className(),style:this.props.buttonStyle,title:this.props.label,onKeyDown:ss.mkdel(this,function(el){var em=el.keyCode;if(em===32||em===13){this.$0(new cT(el,ReactDOM.findDOMNode(this),null));el.preventDefault();el.stopPropagation()}}),'data-test-id':this.props.testId};if(ss.isValue(this.props.tabIndex)){ek.tabIndex=ss.unbox(this.props.tabIndex)}return bt.div({tap:ss.mkdel(this,this.$0)},ek,[this.customContentBefore(),React.DOM.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter()])},$0:function(ek){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ek)}}},function(){return React.Component},function(){return[]});return ej};z.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(z,a,1);global.spiff.ButtonBaseComponent$1=z;var A=function(ei){ss.makeGenericType(z,[Object]).call(this,ei)};A.__typeName='spiff.ButtonComponent';A.create=function(ei,ej,ek){return React.createElement(A,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+ei,label:ej,onTap:ek})};global.spiff.ButtonComponent=A;var B=function(){};B.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=B;var C=function(){};C.__typeName='spiff.CellType';global.spiff.CellType=C;var D=function(){ss.makeGenericType(w,[Object]).call(this)};D.__typeName='spiff.CheckboxCell';D.createCheckboxCell=function(ei){return React.createElement(D,ei)};global.spiff.CheckboxCell=D;var E=function(ei,ej){ss.makeGenericType(dk,[cs,Object,Object]).call(this,cs.newCheckbox(ei.label,ei.isSelected),ei,ej);this.get_widget().set_disabled(ei.disabled)};E.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=E;var F=function(ei,ej,ek,el){this.$a=null;this.$b=null;this.$3$1=null;dR.call(this,ei,ej,ek,null,false);this.$a=ei;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new y(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(el);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};F.__typeName='spiff.ClearableTextInputView';F.newClearableTextInputView=function(ei,ej,ek){var el=new G;return new F(el,ei,ej,ek)};global.spiff.ClearableTextInputView=F;var G=function(){this.$0=null;this.$1=null;this.$2=null;dP.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};G.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=G;var H=function(){};H.__typeName='spiff.ClickBuster';H.add_clickBustDetected=function(ei){H.$1$1=ss.delegateCombine(H.$1$1,ei)};H.remove_clickBustDetected=function(ei){H.$1$1=ss.delegateRemove(H.$1$1,ei)};H.preventGhostClick=function(ei,ej,ek){if(!tsConfig.is_touch||!tab.BrowserSupport.get_addEventListener()){return}if(ss.isNullOrUndefined(H.$3)){H.$3=[];document.addEventListener('click',H.$0,true)}H.$3.push({item1:ei,item2:ej});window.setTimeout(H.$1,ss.coalesce(ek,600))};H.$1=function(){ss.removeAt(H.$3,0)};H.$0=function(ei){var ej=ei;var ek=$(ei.target).parents('.'+H.suppressClickBustingClass).length>0;if(ek){return}var el=ej.pageX;var em=ej.pageY;for(var en=0;en<H.$3.length;en++){var eo=H.$3[en];if(Math.abs(eo.item1-el)<25&&Math.abs(eo.item2-em)<25){ei.stopPropagation();ei.preventDefault();if(ss.isValue(H.$1$1)){H.$1$1(ei)}}}};global.spiff.ClickBuster=H;var I=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+I.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};I.__typeName='spiff.ClickHandler';I.targetAndClick=function(ei,ej){return(new I).setTarget(ei).onClick(ej)};I.targetAndRightClick=function(ei,ej){return(new I).setTarget(ei).onRightClick(ej)};I.targetAndPress=function(ei,ej){return(new I).setTarget(ei).onPress(ej)};global.spiff.ClickHandler=I;var J=function(){React.Component.call(this);var ei=new Q;ei.isSelecting=false;this.state=ei};J.__typeName='spiff.ComboBoxComponent';J.createCustomIconElements=function(ei){if(ss.isNullOrEmptyString(ei)){return null}return[React.DOM.div({className:'tab-Icon '+ei})]};global.spiff.ComboBoxComponent=J;var K=function(ei){cL.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+ei};K.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=K;var L=function(ei,ej,ek,el){this.$2=null;this.$3=null;this.$0=null;this.$1=null;this.$2=ei;this.$3=ej;this.$0=ek;this.$1=el};L.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=L;var M=function(){cL.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};M.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=M;var N=function(){};N.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=N;var O=function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.enabled=false;Object.call(this)};O.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=O;var P=function(){};P.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=P;var Q=function(){this.isSelecting=false};Q.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=Q;var R=function(){this.icon=null;this.name=null;this.button=null;dP.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};R.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=R;var S=function(){};S.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=S;var T=function(ei,ej){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(u,[U]).call(this,ei,ej);this.$d=ei;this.$c=ej;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=dH.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(T.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};T.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=T;var U=function(){this.$h=[];this.$k=null;this.$o=null;this.$d=null;this.$p=0;this.$j=0;this.$n=0;this.$m=true;this.$l=false;this.$e=true;this.$g=false;this.$i='';this.$c=null;this.$f='hasIcons';this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$6=false;this.$3$7=null;ss.makeGenericType(r,[O]).call(this);this.generateProps=false};U.__typeName='spiff.ComboBoxViewModel';U.newUnificationComboBoxViewModel=function(){var ei=new U;ei.set_theme(2);ei.set_menuTheme(2);return ei};U.newLineAndArrowComboBoxViewModel=function(){var ei=new U;ei.set_theme(3);ei.set_menuTheme(2);return ei};U.newReactLineAndArrowComboBoxViewModel=function(){var ei=new U;ei.set_theme(3);ei.set_menuTheme(2);ei.generateProps=true;return ei};global.spiff.ComboBoxViewModel=U;var V=function(ei){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;eh.call(this,ei.get_domRootElement());this.compositeSearchWidgetTemplate=ei;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bw.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bw.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};V.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=V;var W=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};W.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=W;var X=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dP.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=dR.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=cr.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.$0=cr.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};X.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=X;var Y=function(ei,ej,ek,el,em){this.$4=null;L.call(this,ej,ek,el,em);this.$4=ei};Y.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=Y;var Z=function(ei,ej){this.$0=null;if(ss.isValue(ei)){this.$0='url('+tableau.util.assetUrl(ei,true)+'), '+ej}else{this.$0=ej}};Z.__typeName='spiff.CustomCursor';Z.copyFromElement=function(ei){var ej=(ss.isValue(ei)?ei.css('cursor'):'');return new Z(null,ej)};global.spiff.CustomCursor=Z;var ba=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;ci.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};ba.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=ba;var bb=function(ei){cj.call(this,ei,new ba);this.$9();this.$a();if(ei.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};bb.__typeName='spiff.CustomIScrollView';bb.$0=function(ei,ej,ek){return Math.max(ss.round(ei*ej/Math.max(ek,1)),8)};global.spiff.CustomIScrollView=bb;var bc=function(){this.$0=null;cE.call(this)};bc.__typeName='spiff.CustomMenuItem';bc.newCustomMenuItem=function(ei){var ej=new bc;ej.set_domRoot(ei);return ej};global.spiff.CustomMenuItem=bc;var bd=function(){ci.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};bd.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=bd;var be=function(ei){this.$a=null;this.$9=null;cj.call(this,ei,new bd);this.addScroller();this.setUpEvents()};be.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=be;var bf=function(){this.canAccept=null;this.onFeedbackType=null;this.onDragOver=null;this.onDragExit=null;this.onAcceptDrop=null;this.onGetDropTarget=null;this.onGetDropCursor=null};bf.__typeName='spiff.DelegateDropTarget';global.spiff.DelegateDropTarget=bf;var bg=function(ei,ej){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;eh.call(this,$("\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(ei);this.set_body(ej);this.$f=cr.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var ek=$('#loadingSpinner');if(ek.length===1){this.$s.append(ek.html())}this.set_resizeable(false);this.$g.attr('tabIndex','-1');bE.add_firstTouch(ss.mkdel(this,this.$4));bE.add_lastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bE.remove_firstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bE.remove_lastTouch(ss.mkdel(this,this.$5))})));bm.attachDropTarget(this.$g,bg.$3)};bg.__typeName='spiff.Dialog';global.spiff.Dialog=bg;var bh=function(ei){this.$f=null;this.$n=0;this.$o=0;this.$j=false;this.$i=false;this.$h=false;this.$m=0;this.$l=null;this.$g=null;this.$k=null;bC.call(this,ei,'discrete',true)};bh.__typeName='spiff.Discrete';global.spiff.Discrete=bh;var bi=function(){L.call(this,null,null,null,null)};bi.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=bi;var bj=function(ei,ej,ek,el){this.$z=false;this.$A=0;this.$y=null;this.template=null;bg.call(this,ei,ej);this.template=new dP(ej);this.$z=ek;this.$A=el;this.$w()};bj.__typeName='spiff.DockableSideDialog';global.spiff.DockableSideDialog=bj;var bk=function(){};bk.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=bk;var bl=function(ei){this.$6=false;this.$8=null;this.$7=null;this.$5=false;bC.call(this,ei,'drag',true)};bl.__typeName='spiff.Drag';global.spiff.Drag=bl;var bm=function(){};bm.__typeName='spiff.DragDropManager';bm.add_dragStarted=function(ei){bm.$1$1=ss.delegateCombine(bm.$1$1,ei)};bm.remove_dragStarted=function(ei){bm.$1$1=ss.delegateRemove(bm.$1$1,ei)};bm.add_dragMoved=function(ei){bm.$1$2=ss.delegateCombine(bm.$1$2,ei)};bm.remove_dragMoved=function(ei){bm.$1$2=ss.delegateRemove(bm.$1$2,ei)};bm.add_dragEnded=function(ei){bm.$1$3=ss.delegateCombine(bm.$1$3,ei)};bm.remove_dragEnded=function(ei){bm.$1$3=ss.delegateRemove(bm.$1$3,ei)};bm.add_currentTargetChanged=function(ei){bm.$1$4=ss.delegateCombine(bm.$1$4,ei)};bm.remove_currentTargetChanged=function(ei){bm.$1$4=ss.delegateRemove(bm.$1$4,ei)};bm.get_isDragging=function(){return ss.isValue(bm.get_currentDrag())};bm.$f=function(){return tab.Logger.lazyGetLogger(bm)};bm.get_lastDragEvent=function(){return bm.$x};bm.get_currentTarget=function(){return bm.$n};bm.set_currentTarget=function(ei){var ej=!ss.referenceEquals(bm.$n,ei);bm.$n=ei;if(ej&&!ss.staticEquals(bm.$1$4,null)){bm.$1$4(bm.$n)}};bm.get_currentDrag=function(){return bm.$1$5};bm.set_currentDrag=function(ei){bm.$1$5=ei};bm.init=function(){bm.$q=new dI.$ctor1(document.body,bm.$t)};bm.$0=function(ei,ej){var ek=ei.get(0);var el=ek.getAttribute('class');if(ss.isNullOrEmptyString(el)){ek.setAttribute('class',ej);return}var em=el.split(' ');if(ss.indexOf(em,ej)===-1){ek.setAttribute('class',em.concat([ej]).join(' '))}};bm.$b=function(ei,ej){var ek=ei.get(0);var el=ek.getAttribute('class');if(ss.isNullOrEmptyString(el)){return}var em=el.split(' ');var en=ss.indexOf(em,ej);if(en>=0){em.splice(en,1);ek.setAttribute('class',em.join(' '))}};bm.attachDropTarget=function(ei,ej){bm.$0(ei,'tabDropTarget');ei.data('tabDropTarget',ej)};bm.detachDropTarget=function(ei){ei.removeData('tabDropTarget');bm.$b(ei,'tabDropTarget')};bm.isDragTarget=function(ei){return ei.hasClass('tabDropTarget')};bm.attachDragSource=function(ei,ej){bm.$0(ei,'tabDragSource');ei.data('tabDragSource',ej)};bm.removeDragSource=function(ei){ei.removeData('tabDragSource');bm.$b(ei,'tabDragSource')};bm.isDragSource=function(ei){return ei.hasClass('tabDragSource')};bm.$2=function(){bm.$r=new bo;bm.$r.show();if(bm.get_currentDrag().get_hasPayload()&&bm.get_currentDrag().get_dragType()==='dragmove'){bm.setDragCursor(Z.copyFromElement(bm.$u))}bm.$s=new dI.$ctor1(bm.$r.element.get(0),bm.$t);bm.$p=new tab.DisposableHolder;bm.$p.add$1(bm.$r);bm.$p.add$1(bm.$s);bm.$p.add$1(bw.bindWithDispose($(document.body),'keydown',bm.$9));bm.$p.add$1(bw.bindWithDispose($(document.body),'keyup',bm.$a))};bm.$3=function(){bm.$p=tab.MiscUtil.dispose$1(bm.$p)};bm.startDrag=function(ei,ej){if(ss.isNullOrUndefined(ei)||ss.isNullOrUndefined(ej)||!ei.get_hasPayload()){return}bm.$x=ej;bm.cancelDrag(null);bm.set_currentDrag(ei);bm.$c(bm.get_currentDrag().get_dragAvatar());bm.$e();bm.$m=tab.WindowHelper.requestAnimationFrame(bm.$e);bm.$2();bm.$d(ej);if(ss.isValue(bm.$1$1)){bm.$1$1(bm.get_currentDrag())}};bm.cancelDrag=function(ei){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}if(ss.isNullOrUndefined(ei)||ss.referenceEquals(ei,bm.get_currentDrag())){bm.get_currentDrag().cancelDrag();bm.$6(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bm.drop=function(ei,ej,ek){bm.get_currentDrag().isCopyDrag=ss.isValue(ej)&&ej;bm.get_currentDrag().set_isShiftDrag(ss.isValue(ek)&&ek);bm.$6(ei,false,bm.get_currentDrag().isCopyDrag,function(){if(ss.isValue(ei)){return ei.acceptDrop(bm.get_currentDrag()).always(function(el){})}else{bm.get_currentDrag().dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bm.firstTouch=function(ei){var ej=$(ei.target).closest('.tabDragSource');if(ss.isNullOrUndefined(ej)||ej.length===0){bm.$v=null;bm.$u=null;return}bm.$v=ej.data('tabDragSource');bm.$u=ej};bm.dragEnd=function(ei){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}switch(bm.get_currentDrag().get_dragType()){case'dragdrop':{bm.drop(bm.get_currentTarget(),ei.get_isCtrlKey(),ei.shiftKey);break}case'dragmove':{bm.$6(null,false,false,function(){bm.get_currentDrag().endDragAt(ei);return $.Deferred().resolve(true).promise()});break}}};bm.dragMove=function(ei){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}bw.stopEvent(ei);bm.$x=ei;bm.get_currentDrag().isCopyDrag=ei.get_isCtrlKey();bm.get_currentDrag().set_isShiftDrag(ei.shiftKey);tab.WindowHelper.clearSelection();var ej=tab.DateUtil.get_nowAsTime();if(ej-bm.$w>75){if(ss.isValue(bm.$m)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bm.$m))}bm.$e()}bm.$d(ei);if(ss.isValue(bm.$1$2)){bm.$1$2(bm.get_currentDrag())}};bm.$9=function(ei){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}bw.stopEvent(ei);switch(ei.which){case 16:{bm.get_lastDragEvent().shiftKey=true;bm.dragMove(bm.get_lastDragEvent());break}case 27:{bm.cancelDrag(bm.get_currentDrag());break}}};bm.$a=function(ei){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}bw.stopEvent(ei);switch(ei.which){case 16:{bm.get_lastDragEvent().shiftKey=false;bm.dragMove(bm.get_lastDragEvent());break}}};bm.$d=function(ei){switch(bm.get_currentDrag().get_dragType()){case'dragdrop':{var ej=bm.findDropTarget(ei);if(ss.isValue(bm.get_currentTarget())){if(!ss.referenceEquals(bm.get_currentTarget(),ej)){bm.get_currentTarget().dragExit(bm.get_currentDrag())}else if(bm.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(ej)){var ek=ej.dragOver(bm.get_currentDrag());while(ss.isValue(ek)&&!ss.referenceEquals(ek,ej)){ej=ek;ek=ej.dragOver(bm.get_currentDrag())}ej=ek}if(ss.isValue(ej)){bm.setDragCursor(ej.getDropCursor(bm.get_currentDrag()))}else{bm.setDragCursor(bm.get_currentDrag().get_defaultDropCursor())}bm.set_currentTarget(ej);break}case'dragmove':{bm.get_currentDrag().moveTo(ei);break}default:{break}}};bm.setDragCursor=function(ei){ei.setCursor(bm.$r.element)};bm.dragStart=function(ei){if(bm.get_isDragging()){return}var ej=bm.$v;if(ss.isNullOrUndefined(ej)){var ek=$(ei.target).closest('.tabDragSource');ej=ek.data('tabDragSource')}if(ss.isNullOrUndefined(ej)){return}var el=ej.startDrag(ei);if(ss.isNullOrUndefined(el)){return}bm.startDrag(el,ei)};bm.$6=function(ei,ej,ek,el){bm.$c(null);bm.$3();if(ss.isValue(bm.$m)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bm.$m));bm.$m=null}el().always(function(em){if(ss.isValue(bm.$1$3)){bm.$1$3({drag:bm.get_currentDrag(),target:ei,dropAccepted:em,canceled:ej,isCopyDrop:ek})}bm.set_currentDrag(null);bm.set_currentTarget(null)})};bm.$c=function(ei){if(ss.isValue(bm.$o)){bm.$o.get_rootElement().detach();var ej=bm.$o;ej.dispose();bm.$o=null}bm.$o=ei;if(ss.isValue(bm.$o)){bm.$o.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none');bm.$o.addToDom($('body'))}};bm.$e=function(){if(ss.isNullOrUndefined(bm.$o)){return}var ei=function(ek,el,em){if(el<ss.Int32.div(em,2)){return 0}else if(el>ek-ss.Int32.div(em,2)){return ek-em}else{return el-ss.Int32.div(em,2)}};var ej=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bm.$o.get_rootElement(),ei(ej.scrollWidth,bm.$x.pageX,tab.DoubleUtil.roundToInt(bm.$o.get_rootElement().outerWidth())),ei(ej.scrollHeight,bm.$x.pageY,tab.DoubleUtil.roundToInt(bm.$o.get_rootElement().outerHeight())));bm.$w=tab.DateUtil.get_nowAsTime();bm.$m=tab.WindowHelper.requestAnimationFrame(bm.$e)};bm.$7=function(ei){bm.$4();var ej=ei.clientX;var ek=ei.clientY;if(tab.BrowserSupport.get_useAlternateHitStrategy()){if(ss.isValue(ei.touches)&&ei.touches.length>0&&ss.isValue(ei.touches[0].screenX)){ej=ei.touches[0].screenX;ek=ei.touches[0].screenY}else{ej=ei.originalEvent['screenX'];ek=ei.originalEvent['screenY']}}var el=$(document.elementFromPoint(ej,ek));bm.$5();return el};bm.$4=function(){for(var ei=0;ei<bm.$y.length;ei++){var ej=bm.$y[ei];ej.disableHitTests()}};bm.$5=function(){for(var ei=0;ei<bm.$y.length;ei++){var ej=bm.$y[ei];ej.enableHitTests()}};bm.findDropTarget=function(ei){if(!bm.get_isDragging()){return null}var ej=bm.get_currentDrag();var ek=bm.$8(ei);for(var el=0;el<ek.length;el++){var em=ek[el];var en=em.data('tabDropTarget');if(bm.$1(en,ej)){return en.getDropTarget(em)}}return null};bm.$8=function(ei){var ej=[];var ek=bm.$7(ei).closest('.tabDropTarget');if(ek.length>0){ej.push(ek);ek.parents('.tabDropTarget').each(function(el,em){ej.push($(em))})}return ej};bm.$1=function(ei,ej){return ss.isValue(ei)&&ss.isValue(ej)&&ss.isValue(ei.dragOver(ej))};bm.registerDragGlass=function(ei){bm.$y.push(ei)};bm.unregisterDragGlass=function(ei){ss.remove(bm.$y,ei)};global.spiff.DragDropManager=bm;var bn=function(ei,ej){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.draggedObject=ei;this.$0=ej;this.isCopyDrag=false;this.$1=false};bn.__typeName='spiff.DragInstance';global.spiff.DragInstance=bn;var bo=function(ei){bD.call(this,ei,false);bm.registerDragGlass(this)};bo.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bo;var bp=function(ei){this.$0=null;this.$0=ei.element.clone(false).addClass('dragAvatar')};bp.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=bp;var bq=function(){React.Component.call(this);this.state={isSelecting:false}};bq.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bq;var br=function(ei,ej,ek){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showTooltip=false;dR.call(this,ei,ej,ek,null,false);this.$9=ei;this.updateTextElement(ej);var el=new y(this.get_textElement());el.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){el.remove_click(ss.mkdel(this,this.edit));el.dispose()})));this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(en){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var em=new bN(this,null,ss.mkdel(this,function(){this.element.addClass('hover');this.$8(true)}),ss.mkdel(this,function(){this.element.removeClass('hover');this.$8(false)}));this.disposables.add$1(em)}this.set_isEditing(false);this.stopPropogationOfInputEvents()};br.__typeName='spiff.EditableTextView';br.newEditableTextView=function(ei,ej){var ek=new j;return new br(ek,ei,ej)};global.spiff.EditableTextView=br;var bs=function(){React.Component.call(this)};bs.__typeName='spiff.EmptyBody';bs.createEmptyBody=function(ei){return React.createElement(bs,ei)};global.spiff.EmptyBody=bs;var bt=function(ei){this.$2=null;this.$1=null;this.$3=null;React.Component.call(this,ei,null);this.$2=dJ.createEmpty()};bt.__typeName='spiff.EventForwarder';bt.$0=function(ei,ej,ek,el){var em=new bu;em.tagName=ei;em.htmlAttributes=ek;em.spec=ej;em.key=ek.key;var en=em;if(ss.isValue(ek.ref)){en.ref=ek.ref;delete ek['ref']}if(ss.isValue(el)&&el.length===1){return React.createElement(bt,en,el[0])}return React.createElement(bt,en,el)};bt.div=function(ei,ej,ek){return bt.$0('div',ei,ej,ek)};bt.span=function(ei,ej,ek){return bt.$0('span',ei,ej,ek)};bt.$1=function(ei,ej){return!_.every(Object.keys(ej),function(ek){return ss.contains(Object.keys(ei),ek)})};global.spiff.EventForwarder=bt;var bu=function(){this.tagName=null;this.htmlAttributes=null;this.spec=null};bu.__typeName='spiff.EventForwarderProps';global.spiff.EventForwarderProps=bu;var bv=function(){};bv.__typeName='spiff.EventSource';global.spiff.EventSource=bv;var bw=function(){};bw.__typeName='spiff.EventUtil';bw.bindWithDispose=function(ei,ej,ek){var el=ss.formatString('{0}.{1}',ej,++bw.$0);ei.on(el,ek);return new tab.CallOnDispose(function(){ei.off(el)})};bw.isCtrlKey=function(ei){if(ss.isNullOrUndefined(ei)){return false}return(tab.BrowserSupport.get_isMac()?ei.metaKey:ei.ctrlKey)};bw.getDragFileList=function(ei){if(ss.isNullOrUndefined(ei)||ss.isNullOrUndefined(ei.dataTransfer)){return null}return ei.dataTransfer.files};bw.stopEvent=function(ei){ei.stopPropagation();ei.preventDefault()};global.spiff.EventUtil=bw;var bx=function(ei){cR.call(this,ei)};bx.__typeName='spiff.ExclusiveMultiSelectGroupSelection';bx.op_Equality=function(ei,ej){if(bx.op_Inequality(ei,null)&&bx.op_Inequality(ej,null)){return ei.groupSize===ej.groupSize&&ei.get_theAllItemIsSelected()===ej.get_theAllItemIsSelected()&&ei.get_selectedCount()===ej.get_selectedCount()&&_.isEqual(ei.get_selectedIndexes(),ej.get_selectedIndexes())}return bx.op_Equality(ei,null)&&bx.op_Equality(ej,null)};bx.op_Inequality=function(ei,ej){return!bx.op_Equality(ei,ej)};bx.buildExclusiveMultiSelectGroupSelection=function(ei){return function(ej,ek){var el=new bx(ej.length);var em=ej.length;for(var en=0;en<em;++en){if(ek(ej[en])){el.get_selectedIndexes()[en]=true}}el.validateAllSelectedState();return el}};global.spiff.ExclusiveMultiSelectGroupSelection=bx;var by=function(ei){dA.call(this,ei)};by.__typeName='spiff.ExclusiveSingleSelectGroupSelection';by.op_Equality=function(ei,ej){if(by.op_Inequality(ei,null)&&by.op_Inequality(ej,null)){return ei.groupSize===ej.groupSize&&ei.get_theAllItemIsSelected()===ej.get_theAllItemIsSelected()&&ei.get_selectedCount()===ej.get_selectedCount()&&_.isEqual(ei.get_selectedIndexes(),ej.get_selectedIndexes())}return by.op_Equality(ei,null)&&by.op_Equality(ej,null)};by.op_Inequality=function(ei,ej){return!by.op_Equality(ei,ej)};by.buildExclusiveSingleSelectGroupSelection=function(ei){return function(ej,ek){var el=new by(ej.length);var em=ej.length;for(var en=0;en<em;++en){if(ek(ej[en])){el.get_selectedIndexes()[en]=true}}el.validateAllSelectedState();return el}};global.spiff.ExclusiveSingleSelectGroupSelection=by;var bz=function(){ss.makeGenericType(w,[Object]).call(this)};bz.__typeName='spiff.FixedValueCell';bz.createFixedValueCell=function(ei){return React.createElement(bz,ei)};global.spiff.FixedValueCell=bz;var bA=function(){{bA.$0('focus',bA.$3);bA.$0('blur',bA.$1);bA.$0('keydown',bA.$4);bA.$0('keyup',bA.$4);bE.add_firstTouch(bA.$2)}};bA.__typeName='spiff.FocusManager';bA.shutdown=function(){if(ss.isNullOrUndefined(bA.$7)){return}bA.$5('focus',bA.$3);bA.$5('blur',bA.$1);bA.$5('keydown',bA.$4);bA.$5('keyup',bA.$4);bE.remove_firstTouch(bA.$2);bA.$7=null};bA.initialize=function(){if(ss.isNullOrUndefined(bA.$7)){bA.$7=new bA}};bA.$0=function(ei,ej){document.body.addEventListener(ei,ej,true)};bA.$5=function(ei,ej){document.body.removeEventListener(ei,ej,true)};bA.updateFocusIndicatorVisibility=function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',!bA.$8)};bA.$3=function(ei){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,ei.target)&&g.$1()){bA.$8=false}bA.updateFocusIndicatorVisibility()};bA.$1=function(ei){window.setTimeout(function(){if(document.hasFocus()){$(ei.target).removeClass('tab-showFocusIndicator')}})};bA.$4=function(ei){var ej=ei.keyCode;g.$2(ej,ei.type==='keydown')};bA.$2=function(ei,ej){bA.$8=true};bA.wasFocusedByClick=function(){return bA.$8};global.spiff.FocusManager=bA;var bB=function(ei){df.call(this,ei)};bB.__typeName='spiff.GenericDropdownButtonComponent';global.spiff.GenericDropdownButtonComponent=bB;var bC=function(ei,ej,ek,el){this.$2=null;this.slop=5;this.numTouches=1;this.type='gesture';if(ss.isValue(ej)){this.type=ej}if(ss.isValue(ek)){this.slop=(ek?bC.defaultSlop:0)}if(ss.isValue(el)){this.numTouches=el}this.$2={};this.update(ei)};bC.__typeName='spiff.Gesture';bC.$0=function(ei,ej){return ei.data('tab-'+ej)};global.spiff.Gesture=bC;var bD=function(ei,ej){this.$3=null;this.$2=null;this.$2$1=null;eh.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=ei||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}var ek={};dI.setHandler(ek,'firstTouch',ss.mkdel(this,this.handleClick));if(ej){ek.doubleTap=function(el){el.preventDefault()};ek.pinchStart=function(el){el.preventDefault()}}this.$2=dH.targetAndConfig(this.element[0],ek).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bD.__typeName='spiff.Glass';global.spiff.Glass=bD;var bE=function(){};bE.__typeName='spiff.GlobalUIEvents';bE.add_firstTouch=function(ei){bE.$1$1=ss.delegateCombine(bE.$1$1,ei)};bE.remove_firstTouch=function(ei){bE.$1$1=ss.delegateRemove(bE.$1$1,ei)};bE.add_press=function(ei){bE.$1$2=ss.delegateCombine(bE.$1$2,ei)};bE.remove_press=function(ei){bE.$1$2=ss.delegateRemove(bE.$1$2,ei)};bE.add_tap=function(ei){bE.$1$3=ss.delegateCombine(bE.$1$3,ei)};bE.remove_tap=function(ei){bE.$1$3=ss.delegateRemove(bE.$1$3,ei)};bE.add_lastTouch=function(ei){bE.$1$4=ss.delegateCombine(bE.$1$4,ei)};bE.remove_lastTouch=function(ei){bE.$1$4=ss.delegateRemove(bE.$1$4,ei)};bE.add_rightClick=function(ei){bE.$1$5=ss.delegateCombine(bE.$1$5,ei)};bE.remove_rightClick=function(ei){bE.$1$5=ss.delegateRemove(bE.$1$5,ei)};bE.add_dragEnd=function(ei){bE.$1$6=ss.delegateCombine(bE.$1$6,ei)};bE.remove_dragEnd=function(ei){bE.$1$6=ss.delegateRemove(bE.$1$6,ei)};bE.add_dismissTemporaryElements=function(ei){bE.$1$7=ss.delegateCombine(bE.$1$7,ei)};bE.remove_dismissTemporaryElements=function(ei){bE.$1$7=ss.delegateRemove(bE.$1$7,ei)};bE.fireFirstTouch=function(ei,ej){bE.$0(bE.$1$1,ei,ej)};bE.firePress=function(ei,ej){bE.$0(bE.$1$2,ei,ej)};bE.fireTap=function(ei,ej){bE.$0(bE.$1$3,ei,ej)};bE.fireLastTouch=function(ei,ej){bE.$0(bE.$1$4,ei,ej)};bE.fireRightClick=function(ei,ej){bE.$0(bE.$1$5,ei,ej)};bE.fireDragEnd=function(ei,ej){bE.$0(bE.$1$6,ei,ej)};bE.fireDismissTemporaryElements=function(){if(!ss.staticEquals(bE.$1$7,null)){bE.$1$7()}};bE.$0=function(ei,ej,ek){if(!ss.staticEquals(ei,null)){ei(ej,ek)}};global.spiff.GlobalUIEvents=bE;var bF=function(ei){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=ei;this.allSelected=false;this.set_selectedIndexes({})};bF.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=bF;var bG=function(ei){this.$2={hovered:false};df.call(this,ei)};bG.__typeName='spiff.HeaderColumn';bG.createHeaderColumn=function(ei){return React.createElement(bG,ei)};global.spiff.HeaderColumn=bG;var bH=function(ei){this.$0=null;this.$1=null;df.call(this,ei);this.$1=ss.mkdel(this,this.handleReportHeaderWidth)};bH.__typeName='spiff.HeaderRow';bH.createHeaderRow=function(ei){return React.createElement(bH,ei)};global.spiff.HeaderRow=bH;var bI=function(){};bI.__typeName='spiff.HorizonalSpinnerDirection';global.spiff.HorizonalSpinnerDirection=bI;var bJ=function(ei,ej){React.Component.call(this,ei,ej)};bJ.__typeName='spiff.HorizontalSpinnerComponent';global.spiff.HorizontalSpinnerComponent=bJ;var bK=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.disabled=false;this.onSpinnerClicked=null};bK.__typeName='spiff.HorizontalSpinnerProps';global.spiff.HorizontalSpinnerProps=bK;var bL=function(ei){this.$a=0;this.$b=0;this.$9=true;this.$8=false;this.$7=null;this.$6=0;bC.call(this,ei,'hover',false);this.$6=(ss.isValue(ei.hoverDelay)?ei.hoverDelay:150)};bL.__typeName='spiff.Hover';global.spiff.Hover=bL;var bM=function(){};bM.__typeName='spiff.HoverAddClassBehavior';bM.attach=function(ei,ej,ek){ej=ss.coalesce(ej,'hover');return new bN(ei,ek,function(el){bM.$0(el,ej)},function(el){bM.$1(el,ej)})};bM.$0=function(ei,ej){$(ei.currentTarget).addClass(ej)};bM.$1=function(ei,ej){$(ei.currentTarget).removeClass(ej)};global.spiff.HoverAddClassBehavior=bM;var bN=function(ei,ej,ek,el){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=ei;this.$4=ej;this.$5=ek;this.$6=el;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(ej)){this.$7.element.on('mouseenter'+this.$3(),ej,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ej,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bN.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bN;var bO=function(){};bO.__typeName='spiff.IAppendableView';global.spiff.IAppendableView=bO;var bP=function(){};bP.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bP;var bQ=function(){this.iconElement=null;y.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bQ.__typeName='spiff.IconButton';global.spiff.IconButton=bQ;var bR=function(ei){React.Component.call(this,ei);this.state=this.$0()};bR.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bR;var bS=function(){this.isActive=false};bS.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=bS;var bT=function(){};bT.__typeName='spiff.IContent';global.spiff.IContent=bT;var bU=function(){};bU.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=bU;var bV=function(){};bV.__typeName='spiff.IDragSource';global.spiff.IDragSource=bV;var bW=function(){};bW.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=bW;var bX=function(){};bX.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=bX;var bY=function(){};bY.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=bY;var bZ=function(){};bZ.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=bZ;var ca=function(){};ca.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=ca;var cb=function(){};cb.__typeName='spiff.IMouseCaptureEventHandler';global.spiff.IMouseCaptureEventHandler=cb;var cc=function(ei){var ej=function(){};ss.registerGenericInterfaceInstance(ej,cc,[ei],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return ej};cc.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(cc,a,1);global.spiff.IPropsProvider$1=cc;var cd=function(){};cd.__typeName='spiff.IScrollable';global.spiff.IScrollable=cd;var ce=function(ei,ej){this.$3=null;React.Component.call(this,ei,ej);this.state={hovered:false,scrolling:false}};ce.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=ce;var cf=function(){};cf.__typeName='spiff.IScroller';global.spiff.IScroller=cf;var cg=function(){};cg.__typeName='spiff.IScrollingControl';global.spiff.IScrollingControl=cg;var ch=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.scrollStopCallback=null};ch.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=ch;var ci=function(ei){this.content=null;this.scroll=null;dP.call(this,$(ei))};ci.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=ci;var cj=function(ei,ej){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;dm.call(this,ei,ej)};cj.__typeName='spiff.IScrollView';global.spiff.IScrollView=cj;var ck=function(){};ck.__typeName='spiff.ISelectable';global.spiff.ISelectable=ck;var cl=function(){};cl.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=cl;var cm=function(){};cm.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cm;var cn=function(){};cn.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=cn;var co=function(ei){var ej=function(){};ss.registerGenericInterfaceInstance(ej,co,[ei],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,bO]});ss.setMetadata(ej,{variance:[1]});return ej};co.__typeName='spiff.IView$1';ss.initGenericInterface(co,a,1);global.spiff.IView$1=co;var cp=function(){};cp.__typeName='spiff.IViewModel';global.spiff.IViewModel=cp;var cq=function(){};cq.__typeName='spiff.JQueryGestureExtensions';cq.fireTableauGesture=function(ei,ej,ek,el){if(ss.isNullOrUndefined(ek)){var em=new Object;em.type='touchend';em.timeStamp=tab.DateUtil.get_nowAsTime();em.keyCode=null;em.ctrlKey=false;em.altKey=false;em.metaKey=false;em.shiftKey=false;em.charOrCode=null;em.clientX=0;em.clientY=0;em.touches=new Array;em.targetTouches=new Array;em.changedTouches=new Array;em.target=ei;ek=em}var en;switch(ej){case'dragMove':case'dragStart':case'dragEnd':{en='drag';break}case'hover':case'moving':case'mouseleave':{en='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{en='pinch';break}default:{en='discrete';break}}var eo=new cT(ek,ei,null);bC.$0($(ei),en).$0(ej,eo,el||{})};global.spiff.JQueryGestureExtensions=cq;var cr=function(ei,ej){this.$b='.label';y.call(this,ei);this.$b=ej};cr.__typeName='spiff.LabelButton';cr.newAnchorButton=function(){return new cr($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};cr.newAnchorButton$1=function(ei,ej){var ek=new cr($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');ek.element.attr('href',ei);ek.element.attr('target',ss.coalesce(ej,'_blank').toString());return ek};cr.newNativeButton=function(){return new cr($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};cr.newTextButton=function(ei,ej){var ek=new cr($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(ei)){ek.add_click(ei);ek.disposables.add$1(new tab.CallOnDispose(function(){ek.remove_click(ei)}))}if(ss.isValue(ej)){ek.set_label(ej)}return ek};global.spiff.LabelButton=cr;var cs=function(ei,ej){this.$e='.label';dS.call(this,ei);this.$e=ej};cs.__typeName='spiff.LabelToggleButton';cs.newCheckbox=function(ei,ej){var ek=cs.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ei,ej);ek.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return ek};cs.newRadioButton=function(ei,ej){var ek=cs.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ei,ej);ek.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return ek};cs.newNativeCheckbox=function(ei,ej){return cs.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",ei,ej)};cs.newNativeRadioButton=function(ei,ej){var ek=cs.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",ei,ej);ek.set_preventMouseDeselect(true);return ek};cs.newLabelToggleButton=function(ei,ej){return cs.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ei,ej)};cs.$0=function(ei,ej,ek){var el=new cs($(ei),'.label');el.set_label(ej);el.set_selected(ek);var em=el;var en=em.get_inputElement();if(ss.isValue(en)){en.click(function(eo){eo.preventDefault()})}return em};global.spiff.LabelToggleButton=cs;var ct=function(ei,ej){var ek=function(el,em){React.Component.call(this,el,em)};ss.registerGenericClassInstance(ek,ct,[ei,ej],{render:function(){var el=_.map(this.props.items,ss.mkdel(this,function(em){var en=this.getEventHandleSpecForItem(em);var eo={className:'tabListItem',key:this.getItemKey(em.data)};if(ss.isNullOrUndefined(en)){return React.DOM.div(eo,this.buildItem(em.data))}else{return bt.div(en,eo,[this.buildItem(em.data)])}}));return React.DOM.div({className:'tabList'},el)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(el){return null}},function(){return React.Component},function(){return[]});return ek};ct.__typeName='spiff.ListComponent$2';ss.initGenericClass(ct,a,2);global.spiff.ListComponent$2=ct;var cu=function(ei,ej){this.$1$1=null;this.$1$2=null;this.set_parentListView(ei);this.set_draggableListItemView(ej)};cu.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=cu;var cv=function(ei){this.$f=null;this.$g=null;dv.call(this);this.set_selectionType(ei)};cv.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cv;var cw=function(ei,ej){this.$g=null;this.$f=null;dS.call(this,cw.$0(ei));tab.Param.verifyValue(ej,'viewModel');tab.Param.verifyValue(ej.get_id(),'viewModel.Id');this.$g=ej;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(ej.get_id());this.set_widgetId(ej.get_id());this.$f=ei};cw.__typeName='spiff.ListItemView';cw.$0=function(ei){var ej=$('<div/>').addClass('tab-list-item');ej.append(ei);return ej};global.spiff.ListItemView=cw;var cx=function(ei,ej,ek,el,em){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;v.call(this);this.$2=ei;if(ss.isValue(ej)){this.$0=ej}this.$5=ek;this.$4=el;this.$3=em};cx.__typeName='spiff.ListItemViewModel';cx.newListItem=function(ei,ej,ek,el,em){tab.Param.verifyString(ei,'id');return new cx(ei,ej,ek,el,em)};global.spiff.ListItemViewModel=cx;var cy=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};cy.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=cy;var cz=function(ei,ej){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(u,[cB]).call(this,ei,new cC);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new e(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=ej;this.$5()};cz.__typeName='spiff.ListView';cz.createListView=function(ei,ej){return new cz(ei,ej)};global.spiff.ListView=cz;var cA=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cA.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cA;var cB=function(ei,ej){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;v.call(this);this.$8={};this.$6=new cv(ej);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(ei)};cB.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cB;var cC=function(){this.$0=null;dP.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};cC.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=cC;var cD=function(ei){this.menuItems=null;this.defaultItem=null;this.menuItems=ei;this.defaultItem=_.find(ei,function(ej){return ej.isDefault})};cD.__typeName='spiff.Menu';global.spiff.Menu=cD;var cE=function(){this.name=null;this.description=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cE.$0;this.id='menuItem'+cE.$0};cE.__typeName='spiff.MenuItem';cE.newDivider=function(){var ei=new cE;ei.isDivider=true;ei.enabled=false;return ei};cE.newTextInput=function(ei,ej){var ek=new cE;ek.isTextInput=true;if(!ss.staticEquals(ei,null)){ek.data=ei;ek.enabled=true}ek.description=ej;return ek};cE.newActionItem=function(ei,ej){var ek=new cE;ek.name=ei;if(ss.isValue(ej)){ek.data=ej;ek.enabled=true}return ek};cE.newActionItemWithItemClass=function(ei,ej,ek){var el=new cE;el.name=ei;el.itemClass=ek;if(ss.isValue(ej)){el.data=ej;el.enabled=true}return el};cE.newItemWithIcon=function(ei,ej,ek){var el=new cE;el.data=ei;el.name=ej;el.iconClass=ek;el.iconClassTwo=null;el.enabled=true;return el};cE.newItemWithIconAndDescription=function(ei,ej,ek,el){var em=new cE;em.data=ei;em.name=ej;em.iconClass=ek;em.enabled=true;em.description=el;return em};cE.newItem=function(ei,ej,ek,el){var em=new cE;em.data=ei;em.name=ej;if(ss.isValue(ek)){em.checkState=ek}if(ss.isValue(el)){em.subMenu=el;em.enabled=el.menuItems.some(function(en){return en.enabled})}else{em.enabled=true}return em};global.spiff.MenuItem=cE;var cF=function(){};cF.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cF;var cG=function(){dP.call(this,$("<div class='tabMenuItemDivider' role='separator' />"))};cG.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cG;var cH=function(){this.textInput=null;dP.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cH.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cH;var cI=function(ei){this.content=null;dP.call(this,$(ei));this.content=this.getElementBySelector('.tabMenuContent')};cI.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cI;var cJ=function(ei,ej){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$c={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(s,[cK]).call(this,ei,ej);this.menuViewModel=ei;this.dom=ej;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$a));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur))};cJ.__typeName='spiff.MenuView';cJ.getMenuItem=function(ei){return ei.data('tabMenuMenuItem')};cJ.getMenuItemLevel=function(ei){return ss.coalesce(ei.data('tabMenuMenuItemLevel'),1)};global.spiff.MenuView=cJ;var cK=function(ei){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;v.call(this);this.set_shouldAnimateOnClose(ei);this.set_theme(new ee);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cK.__typeName='spiff.MenuViewModel';cK.createForMenu=function(ei,ej,ek,el,em){var en=new cK(em);en.set_menu(ei);var eo=en;if(ss.isValue(ej)){eo.add_menuItemClicked(ej);eo.disposables.add$1(new tab.CallOnDispose(function(){eo.remove_menuItemClicked(ej)}))}eo.set_disposeOnHide(true);eo.set_theme(ek||new ee);if(ss.isValue(el)){eo.add_hidden(el);eo.disposables.add$1(new tab.CallOnDispose(function(){eo.remove_hidden(el)}))}cV.newView(cJ).call(null,[eo]);return eo};cK.handleMenuActionItemClicked=function(ei){if($.isFunction(ei.data)){ei.data()}};global.spiff.MenuViewModel=cK;var cL=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cL.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cL;var cM=function(ei,ej){this.$y=null;this.template=null;bg.call(this,ei,ej.domRoot);this.template=ej;this.$w()};cM.__typeName='spiff.ModalDialog';cM.$ctor1=function(ei,ej){this.$y=null;this.template=null;bg.call(this,ei,ej);this.template=new dP(ej);this.$w()};global.spiff.ModalDialog=cM;var cN=function(){};cN.__typeName='spiff.MouseCapture';cN.$6=function(){return tab.Logger.lazyGetLogger(cN)};cN.$7=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};cN.$5=function(){return tab.BrowserSupport.get_isIE()&&tabBootstrap.Utility.get_embedMode()!=='notEmbedded'};cN.setCapture=function(ei,ej,ek){tab.Param.verifyValue(ei,'element');tab.Param.verifyValue(ej,'handler');if(cN.$7()){if(ss.isNullOrUndefined(cN.$8)||ss.isNullOrUndefined(ek)||!ek){cN.releaseCapture();document.addEventListener('mousemove',cN.$2,true);document.addEventListener('mouseup',cN.$4,true);document.addEventListener('mouseout',cN.$3,true);cN.$8=ej}else{}}};cN.releaseCapture=function(){if(cN.$7()){document.removeEventListener('mousemove',cN.$2,true);document.removeEventListener('mouseup',cN.$4,true);document.removeEventListener('mouseout',cN.$3,true)}};cN.$2=function(ei){if(ss.isValue(cN.$8)){cN.$8.handleCapturedMouseMove(ei)}};cN.$4=function(ei){cN.$1(ei)};cN.$3=function(ei){if(cN.$5()&&cN.$0(ei)){cN.$1(ei)}};cN.$1=function(ei){cN.releaseCapture();if(ss.isValue(cN.$8)){cN.$8.handleCapturedMouseComplete(ei);cN.$8=null}};cN.$0=function(ei){var ej=ei.toElement;return ss.isNullOrUndefined(ej)||ej.nodeName==='HTML'};global.spiff.MouseCapture=cN;var cO=function(){};cO.__typeName='spiff.MouseEventUtil';cO.get_clickEvent=function(){return(tsConfig.is_touch?'touchstart':'click')};cO.getMouseButtonEnum=function(ei){cO.$0();var ej='none';var ek=ei['which'];if(ss.isValue(ek)){var el=ek;if(ss.keyExists(cO.$3,el)){ej=cO.$3[el]}}else if(ss.isValue(ei['button'])){var em=ei['button'];if(ss.keyExists(cO.$2,em)){ej=cO.$2[em]}}return ej};cO.$0=function(){if(!cO.$1){cO.$2={};cO.$2[1]='left';cO.$2[4]='middle';cO.$2[2]='right';cO.$3={};cO.$3[1]='left';cO.$3[2]='middle';cO.$3[3]='right';cO.$1=true}};global.spiff.MouseEventUtil=cO;var cP=function(ei,ej,ek,el){cP.$ctor1.call(this,ei,ej,ek,cP.$0,el)};cP.__typeName='spiff.MoveDragInstance';cP.$ctor1=function(ei,ej,ek,el,em){this.$4=null;this.$3=null;this.$2=null;bn.call(this,ei,em);this.$4=ej;this.$3=ek;this.$2=el};global.spiff.MoveDragInstance=cP;var cQ=function(ei,ej,ek){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=ei;this.$2=ej;this.$1='useScrollSize';this.$0=ek;bm.attachDragSource(this.$3,this)};cQ.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=cQ;var cR=function(ei){bF.call(this,ei)};cR.__typeName='spiff.MultiSelectGroupSelection';cR.op_Equality=function(ei,ej){if(cR.op_Inequality(ei,null)&&cR.op_Inequality(ej,null)){return ei.groupSize===ej.groupSize&&ei.get_theAllItemIsSelected()===ej.get_theAllItemIsSelected()&&ei.get_selectedCount()===ej.get_selectedCount()&&_.isEqual(ei.get_selectedIndexes(),ej.get_selectedIndexes())}return cR.op_Equality(ei,null)&&cR.op_Equality(ej,null)};cR.op_Inequality=function(ei,ej){return!cR.op_Equality(ei,ej)};cR.buildMultiSelectGroupSelection$1=function(ei){return function(ej,ek){var el=new cR(ej.length);var em=ej.length;for(var en=0;en<em;++en){if(ek(ej[en])){el.get_selectedIndexes()[en]=true}}el.validateAllSelectedState();return el}};cR.buildMultiSelectGroupSelection=function(ei){return function(ej,ek){var el=new cR(ej.length);if(ek){el.handleTapAll()}return el}};global.spiff.MultiSelectGroupSelection=cR;var cS=function(){bf.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(ei,ej){return ej};this.onAcceptDrop=function(ei){return $.Deferred().resolve(false)};this.onGetDropCursor=function(ei){return Z.noOp}};cS.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=cS;var cT=function(ei,ej,ek){this.originalEvent=null;this.reactEvent=null;this.type=null;this.target=null;this.currentTarget=null;this.timeStamp=0;this.keyCode=0;this.ctrlKey=false;this.altKey=false;this.metaKey=false;this.shiftKey=false;this.clientX=0;this.clientY=0;this.pageX=0;this.pageY=0;this.touches=null;this.targetTouches=null;this.changedTouches=null;this.touchesById=null;this.gestureName=null;this.$0=null;this.originalEvent=ei;this.reactEvent=ek;this.type=ei.type;this.timeStamp=ei.timeStamp;this.keyCode=ei['keyCode'];this.ctrlKey=ei.ctrlKey;this.altKey=ei.altKey;this.metaKey=ei.metaKey;this.shiftKey=ei.shiftKey;this.clientX=ei['clientX'];this.clientY=ei['clientY'];if(ss.isValue(ei.touches)){this.touches=ei.touches;this.targetTouches=ei.targetTouches;this.changedTouches=ei.changedTouches;var el=ei.target;this.target=((el.nodeType===3)?el.parentNode:el);this.currentTarget=ej}else{this.targetTouches=((ei.type==='mouseup')?[]:[ei]);this.touches=this.targetTouches;this.changedTouches=[ei];this.currentTarget=ei.currentTarget;this.target=ei.target}var em=this.touches.length;this.touchesById=new Array(em);while(em>0){em-=1;var en=this.touches[em].identifier||0;this.touchesById[en]=this.touches[em]}em=this.changedTouches.length;while(em>0){em-=1;var eo=this.changedTouches[em].identifier||0;this.touchesById[eo]=this.changedTouches[em]}};cT.__typeName='spiff.NormalizedEvent';global.spiff.NormalizedEvent=cT;var cU=function(){ss.makeGenericType(w,[Object]).call(this)};cU.__typeName='spiff.NumberCell';cU.createBodyCell=function(ei){return React.createElement(cU,ei)};global.spiff.NumberCell=cU;var cV=function(){};cV.__typeName='spiff.ObjectRegistry';cV.registerType=function(ei,ej){return function(){if(ss.isNullOrUndefined(cV.$2)){cV.$2={}}cV.$2[ss.getTypeFullName(ei)]=ej}};cV.newView$1=function(ei){return function(ej,ek){return cV.$1(ei).call(null,ej,ek)}};cV.newView=function(ei){return function(ej){return cV.$1(ei).call(null,ei,ej)}};cV.newWidget$2=function(ei){return function(ej,ek){return cV.$1(ei).call(null,ej,ek)}};cV.newWidget=function(ei){return function(){return cV.$1(ei).call(null,ei,[])}};cV.newWidget$1=function(ei){return function(ej){return cV.$1(ei).call(null,ei,ej)}};cV.$1=function(ei){return function(ej,ek){if(ss.isNullOrUndefined(cV.$2)){throw new ss.Exception('No types registered')}var el=cV.$2[ss.getTypeFullName(ej)];if(ss.isNullOrUndefined(el)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(ej))}var em=((ek.length===0)?ss.createInstance(el):ss.applyConstructor(el,ek));return(cV.$0(el,ei)?em:em)}};cV.newLegacyTooltip=function(ei){return function(ej,ek,el){if(ss.isNullOrUndefined(cV.$2)){throw new ss.Exception('No types registered')}var em=cV.$2[ss.getTypeFullName(ej)];if(ss.isNullOrUndefined(em)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(ej))}var en=new em(ek,el);return en}};cV.newLegacyTooltipBehavior=function(ei){return function(ej,ek){if(ss.isNullOrUndefined(cV.$2)){throw new ss.Exception('No types registered')}var el=cV.$2[ss.getTypeFullName(ej)];if(ss.isNullOrUndefined(el)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(ej))}var em=new el(ek);return em}};cV.resolve=function(ei){return function(ej){var ek=ei;if(ss.isNullOrUndefined(cV.$2)){throw new ss.Exception('No types registered')}var el=cV.$2[ss.getTypeFullName(ek)];if(ss.isNullOrUndefined(el)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(ek))}return ss.applyConstructor(el,ej)}};cV.$0=function(ei,ej){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(ej))||ss.isValue(ss.getGenericTypeDefinition(ei))};global.spiff.ObjectRegistry=cV;var cW=function(){};cW.__typeName='spiff.OrientationHandler';cW.add_orientationChanged=function(ei){cW.$1$1=ss.delegateCombine(cW.$1$1,ei)};cW.remove_orientationChanged=function(ei){cW.$1$1=ss.delegateRemove(cW.$1$1,ei)};cW.get_isLandscape=function(){return cW.$e===90||cW.$e===-90};cW.get_isPortrait=function(){return cW.$e===0||cW.$e===180};cW.get_windowInstHelper=function(){return cW.$k};cW.init=function(){if(!tsConfig.is_mobile_device){cW.$e=0;return}cW.$j=cW.$1();cW.$k=new tab.WindowHelper(cW.$j);cW.$e=cW.$3();cW.$f=cW.$k.get_innerWidth();if(tab.BrowserSupport.get_orientationChange()){$(cW.$j).on('orientationchange'.toString(),cW.$6)}$(cW.$j).on('resize'.toString(),cW.$7);if('addEventListener'in window.self){window.addEventListener('unload',cW.$a,true)}};cW.$a=function(ei){cW.unbindEvents()};cW.unbindEvents=function(){if(ss.isNullOrUndefined(cW.$j)){return}$(cW.$j).off('orientationchange'.toString(),cW.$6);$(cW.$j).off('resize'.toString(),cW.$7)};cW.$1=function(){var ei=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_embedMode()!=='notEmbedded'){try{while(ss.isValue(ei.parent)&&!ss.referenceEquals(ei.parent,ei)){var ej=ei.parent;var ek=new tab.WindowHelper(ej);if(ss.isNullOrUndefined(ek.get_outerWidth())){break}ei=ej}}catch(el){}}return ei};cW.$6=function(ei){cW.$h=new Date;cW.$5()};cW.$5=function(){var ei=new Date;if(ei-cW.$h>=2500||cW.$g||cW.$9()||cW.$8()){cW.$b();cW.$2()}else{cW.$0();cW.$i=window.setTimeout(cW.$5,75)}};cW.$7=function(ei){if(cW.$g||cW.$9()){cW.$b();cW.$2()}};cW.$2=function(){cW.$0();if(cW.$8()){cW.$e=cW.$3();cW.$g=false;if(ss.isValue(cW.$1$1)){cW.$1$1()}}};cW.$9=function(){var ei=cW.$k.get_innerWidth();if(cW.$f!==ei){return true}return false};cW.$8=function(){var ei=cW.$3();if(cW.$e!==ei){return true}return false};cW.$b=function(){cW.$f=cW.$k.get_innerWidth();cW.$g=true};cW.$3=function(){var ei;if(!tab.BrowserSupport.get_isAndroid()){ei=cW.$4();if(ss.isValue(ei)){return ss.unbox(ei)}}ei=((cW.$k.get_innerWidth()<cW.$k.get_innerHeight())?0:90);return ss.unbox(ei)};cW.$4=function(){try{return cW.$j.orientation}catch(ei){}return null};cW.$0=function(){cW.$i=tab.MiscUtil.clearTimeout(cW.$i)};global.spiff.OrientationHandler=cW;var cX=function(ei,ej){var ek=function(el){React.Component.call(this,el)};ss.registerGenericClassInstance(ek,cX,[ei,ej],{render:function(){var el=_.map(this.props.items,ss.mkdel(this,function(ep,eq){var er=this.getEventHandleSpecForItem(ep);var es=['tabListItem'];if(eq%2===1){es.push('tabListItemAlternate')}var et={className:es.join(' '),key:this.getUniqueKey(ep.data)};if(ss.isNullOrUndefined(er)){return React.DOM.div(et,this.buildItem(ep.data))}else{return bt.div(er,et,[this.buildItem(ep.data)])}}));var em=new dr;em.scrollY=true;em.scrollbars=true;em.onScrollStop=ss.mkdel(this,this.onScrollStop);em.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();em.startingY=this.props.startingY;var en=em;var eo=dq.createScroller(en,el);return React.DOM.div({className:'tabPagableList'},eo)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(el){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return ek};cX.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(cX,a,2);global.spiff.PagableListComponent$2=cX;var cY=function(ei){this.$1=null;ss.makeGenericType(cX,[Object,dO]).call(this,ei)};cY.__typeName='spiff.PagableTableRowList';global.spiff.PagableTableRowList=cY;var cZ=function(ei){this.$6=false;this.$8=null;this.$9=null;this.$7=null;this.$5=null;bC.call(this,ei,'pinch',true,2)};cZ.__typeName='spiff.Pinch';global.spiff.Pinch=cZ;var da=function(){ss.makeGenericType(w,[Object]).call(this)};da.__typeName='spiff.PlainTextCell';da.createBodyCell=function(ei){return React.createElement(da,ei)};global.spiff.PlainTextCell=da;var db=function(ei){cz.call(this,ei,ei.get_listItemCreator())};db.__typeName='spiff.PopupListView';global.spiff.PopupListView=db;var dc=function(ei,ej,ek){this.$b=null;cB.call(this,ei,ek);this.$b=ej};dc.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=dc;var dd=function(ei){this.$0=null;ss.EventArgs.call(this);this.$0=ei};dd.__typeName='spiff.PropertyChangedEventArgs';global.spiff.PropertyChangedEventArgs=dd;var de=function(){};de.__typeName='spiff.PureRender';de.mixIn=function(ei){var ej=function(ek,el){return de.$0(ei,ek,el)};ei['shouldComponentUpdate']=ej};de.$0=function(ei,ej,ek){var el=!tab.MiscUtil.shallowEquals(ei.props,ej)||!tab.MiscUtil.shallowEquals(ei.state,ek);if(!el){}return el};global.spiff.PureRender=de;var df=function(ei){React.Component.call(this,ei)};df.__typeName='spiff.PureRenderComponent';df.$ctor1=function(ei,ej){React.Component.call(this,ei,ej)};global.spiff.PureRenderComponent=df;var dg=function(){};dg.__typeName='spiff.ReactComponentExtensions';dg.generateUniqueKeys=function(ei){return function(ej,ek){var el={};for(var em=0;em<ej.length;++em){el[ej[em].toString()]=0}for(var en=0;en<ek.length;++en){el[ek[en]]=1}return _.map(ej,function(eo){var ep=eo.toString();var eq=el[ep];if(eq===0){el[ep]=1;return ep}var er=null;do er=[ep,'_',++eq].join('');while(ss.isValue(el[er]));el[ep]=eq;el[er]=1;return er})}};global.spiff.ReactComponentExtensions=dg;var dh=function(){};dh.__typeName='spiff.ReactElement';dh.div$1=function(ei,ej){return React.DOM.div.apply(null,[{className:ei}].concat(ej))};dh.div=function(ei,ej){var ek=(ss.isValue(ei)?ei.join(' '):null);return React.DOM.div.apply(null,[{className:ek}].concat(ej))};dh.span$1=function(ei,ej){return React.DOM.span.apply(null,[{className:ei}].concat(ej))};dh.span=function(ei,ej){var ek=(ss.isValue(ei)?ei.join(' '):null);return React.DOM.span.apply(null,[{className:ek}].concat(ej))};dh.br=function(ei){return React.DOM.br({className:ei})};global.spiff.ReactElement=dh;var di=function(ei,ej,ek){var el=function(em){this.$5=ss.getDefaultValue(ei);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=em;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(el,di,[ei,ej,ek],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(em){this.$1$1=em},$3:function(){return this.$1$2},$4:function(em){this.$1$2=em},addToDom:function(em){em.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(em){ReactDOM.render(React.createElement(ej,em),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(em){this.dispose()},addClass:function(em){this.get_rootElement().addClass(em)}},function(){return null},function(){return[ss.IDisposable,bO,ss.makeGenericType(co,[ei])]});el.$0="<div class='tab-ReactView' />";cV.registerType(el,el).call(null);return el};di.__typeName='spiff.ReactHostView$3';ss.initGenericClass(di,a,3);global.spiff.ReactHostView$3=di;var dj=function(){};dj.__typeName='spiff.ReactRefs';dj.attachDragSource=function(ei){var ej=null;return function(ek){if(ss.isValue(ek)){ej=ReactDOM.findDOMNode(ek);bm.attachDragSource($(ej),ei())}else{bm.removeDragSource($(ej))}}};dj.attachDropTarget=function(ei){var ej=null;return function(ek){if(ss.isValue(ek)){ej=ReactDOM.findDOMNode(ek);bm.attachDropTarget($(ej),ei())}else{bm.detachDropTarget($(ej))}}};global.spiff.ReactRefs=dj;var dk=function(ei,ej,ek){var el=function(em,en,eo){this.$3$1=null;React.Component.call(this,en,eo);this.set_widget(em);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(el,dk,[ei,ej,ek],{get_widget:function(){return this.$3$1},set_widget:function(em){this.$3$1=em},render:function(){return React.DOM.div(null,'')},componentDidMount:function(){var em=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(em)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(em){this.updateWidgetState(em)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return el};dk.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(dk,a,3);global.spiff.ReactSpiffAdapter$3=dk;var dl=function(ei,ej,ek){this.$5='bottomRight';cQ.call(this,ei,ej,false);this.$5=ek};dl.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=dl;var dm=function(ei,ej){ss.makeGenericType(u,[dn]).call(this,ei,ej)};dm.__typeName='spiff.ScrollableView';dm.createScrollableView=function(ei){if(ei.get_hasCustomIndicator()){return new bb(ei)}else{return new be(ei)}};global.spiff.ScrollableView=dm;var dn=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;v.call(this);this.$0(true)};dn.__typeName='spiff.ScrollableViewModel';dn.$ctor1=function(ei){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;v.call(this);this.$0(ei)};global.spiff.ScrollableViewModel=dn;var dp=function(){};dp.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=dp;var dq=function(ei,ej){React.Component.call(this,ei,ej)};dq.__typeName='spiff.ScrollingComponent';dq.$0=function(ei){var ej=ei.forceScrollerType;if(ss.isNullOrUndefined(ej)){ej=0}return ss.unbox(ej)};dq.createScroller=function(ei,ej){var ek=dq.$0(ei);var el=dq.$1[ek];if(ej.length===1){return React.createElement(el,ei,ej[0])}return React.createElement(el,ei,ej)};global.spiff.ScrollingComponent=dq;var dr=function(){this.extraCssClass=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true};dr.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=dr;var ds=function(ei){ss.makeGenericType(z,[Object]).call(this,ei)};ds.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=ds;var dt=function(ei){React.Component.call(this,ei);this.state=this.$1(this.props.selection)};dt.__typeName='spiff.SelectableButtonGroupComponent';dt.getDesiredHeight=function(ei){return $('.tab-vScrollable',ei).get(0).scrollHeight};dt.getMinimumWidth=function(ei){return $('.tab-vScrollable',ei).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dt;var du=function(){this.label=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null};du.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=du;var dv=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};dv.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=dv;var dw=function(ei,ej,ek){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=ei;this.$2=ej;this.$0=ek};dw.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=dw;var dx=function(){};dx.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dx;var dy=function(){this.$0=null;this.$0=dJ.createEmpty()};dy.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=dy;var dz=function(ei,ej,ek){this.relativeDom=null;this.cursorPosition=null;this.preferUp=false;this.preferLeft=false;this.minWidth=null;this.additionalMenuClass=null;this.expanded=false;this.relativeDom=ei;this.cursorPosition=null;this.preferUp=ej;this.preferLeft=false;this.minWidth=ek;this.additionalMenuClass=null;this.expanded=false};dz.__typeName='spiff.ShowMenuOptions';dz.create=function(ei,ej,ek){return new dz(ei,ej,ek)};dz.preferDownAndLeft=function(ei,ej){var ek=new dz(ei,false,ej);ek.preferLeft=true;return ek};dz.anchorToCursorLocation=function(ei,ej){var ek=new dz(ei,false,null);ek.cursorPosition=ej;return ek};global.spiff.ShowMenuOptions=dz;var dA=function(ei){bF.call(this,ei)};dA.__typeName='spiff.SingleSelectGroupSelection';dA.op_Equality=function(ei,ej){if(dA.op_Inequality(ei,null)&&dA.op_Inequality(ej,null)){return ei.groupSize===ej.groupSize&&ei.get_theAllItemIsSelected()===ej.get_theAllItemIsSelected()&&ei.get_selectedCount()===ej.get_selectedCount()&&_.isEqual(ei.get_selectedIndexes(),ej.get_selectedIndexes())}return dA.op_Equality(ei,null)&&dA.op_Equality(ej,null)};dA.op_Inequality=function(ei,ej){return!dA.op_Equality(ei,ej)};dA.buildSingleSelectGroupSelection$1=function(ei){return function(ej,ek){var el=new dA(ej.length);var em=ej.length;if(em===0){}for(var en=0;en<em;++en){if(ek(ej[en])){el.get_selectedIndexes()[en]=true}}el.validateAllSelectedState();return el}};dA.buildSingleSelectGroupSelection=function(ei){return function(ej,ek){var el=new dA(ej.length);if(ek){el.handleTapAll()}return el}};global.spiff.SingleSelectGroupSelection=dA;var dB=function(ei,ej){this.$0=null;this.$1=null;this.$0=ei;this.$1=ej};dB.__typeName='spiff.SpiffBrowserViewport';dB.getViewport=function(ei){if(!ss.staticEquals(dB.getSpiffBrowserViewportFunc,null)){dB.getSpiffBrowserViewportFunc(ei)}else{ei(new dB(null,null))}};global.spiff.SpiffBrowserViewport=dB;var dC=function(ei,ej){this.$4=null;this.$5=null;React.Component.call(this,ei,ej);this.$4=ss.mkdel(this,function(ek){this.$5=ek})};dC.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=dC;var dD=function(ei){cr.call(this,dD.$0(ei),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dD.__typeName='spiff.StyledButton';dD.createStyledButton=function(ei,ej,ek,el){var em=new dD(ek);em.set_label(ej);em.add_click(ei);em.disposables.add$1(new tab.CallOnDispose(function(){em.remove_click(ei)}));if(ss.isValue(el)){em.tabIndex(ss.unbox(el))}return em};dD.$0=function(ei){return $('<span>').addClass('tab-styled-button').addClass(ei).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dD;var dE=function(ei,ej){ss.makeGenericType(dk,[cr,Object,Object]).call(this,dF.createUnificationLabelButton(ei.clickHandler,ei.label,ei.buttonClass,ss.coalesce(ei.buttonStyle,0),ei.tabIndex),ei,ej);this.get_widget().set_disabled(ss.coalesce(ei.disabled,false));this.get_widget().set_hoverTooltipText(ei.tooltipText)};dE.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dE;var dF=function(){};dF.__typeName='spiff.StyledTextButton';dF.createUnificationLabelButton=function(ei,ej,ek,el,em){var en=dF.$0(ei,ej,ek,1,em);var eo;switch(el){case 0:{eo='tabStyledTextButtonFilledGreen';break}case 1:{eo='tabStyledTextButtonFilledRed';break}case 2:{eo='tabStyledTextButtonFilledGrey';break}case 3:{eo='tabStyledTextButtonOutline';break}default:{eo='';break}}en.addClass(eo);return en};dF.createUnificationIconTextButton=function(ei,ej,ek){var el=new cr($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(ei,null)){el.onClick(function(em){ei()})}if(!ss.isNullOrEmptyString(ej)){el.set_label(ej)}if(!ss.isNullOrEmptyString(ek)){el.addClass(ek)}return el};dF.createActionButton=function(ei,ej,ek,el,em){var en=dF.$0(ei,ej,ek,el,em);en.addClass('tabStyledTextButtonAction');return en};dF.$0=function(ei,ej,ek,el,em){var en=cr.newTextButton(ei,ej);en.addClass('tabStyledTextButton');switch(el){case 2:{en.addClass('tabLargeStyledTextButton');break}case 1:{en.addClass('tabMediumStyledTextButton');break}}en.addClass(ek);if(ss.isValue(em)){en.tabIndex(ss.unbox(em))}return en};global.spiff.StyledTextButton=dF;var dG=function(ei){this.$1=new dv;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;if(ss.isNullOrUndefined(ei)){ei=new l}this.$5=ei};dG.__typeName='spiff.TabControl';global.spiff.TabControl=dG;var dH=function(ei,ej){this.eventConfig=null;this.handler=null;this.$1=new tab.DisposableHolder;this.$2=0;this.$3=0;this.$4=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.eventConfig=ej||{};dI.setHandler(this.eventConfig,'firstTouch',ss.mkdel(this,this.handlePressEvent));dI.setHandler(this.eventConfig,'tap',ss.mkdel(this,this.handleClickEvent));dI.setHandler(this.eventConfig,'rightClick',ss.mkdel(this,this.handleRightClickEvent));this.handler=new dI.$ctor1(ei,this.eventConfig)};dH.__typeName='spiff.TableauClickHandler';dH.target=function(ei){return new dH(ei,null)};dH.targetAndConfig=function(ei,ej){return new dH(ei,ej)};dH.targetAndClick=function(ei,ej){return(new dH(ei,null)).onClick(ej)};dH.targetAndPress=function(ei,ej){return(new dH(ei,null)).onPress(ej)};dH.targetAndRightClick=function(ei,ej){return(new dH(ei,null)).onRightClick(ej)};dH.targetAndDoubleClick=function(ei,ej){return(new dH(ei,null)).onDoubleClick(ej)};global.spiff.TableauClickHandler=dH;var dI=function(){this.handledEvents={};this.isTouch=false;this.config=null;this.mousedown=false;this.lastMouseButtonPressed=null;this.handlingContextMenu=false;this.startEvents={};this.moveEvents={};this.endEvents={};this.outEvents={};this.scrollEvents={};this.cancelEvents={};this.$3={};this.$4=null};dI.__typeName='spiff.TableauEventHandler';dI.$ctor1=function(ei,ej){this.handledEvents={};this.isTouch=false;this.config=null;this.mousedown=false;this.lastMouseButtonPressed=null;this.handlingContextMenu=false;this.startEvents={};this.moveEvents={};this.endEvents={};this.outEvents={};this.scrollEvents={};this.cancelEvents={};this.$3={};this.$4=null;this.config=ej||{};this.config.domElem=ei;this.makeRecognizers(this.config);this.configureDomElem(ei);this.setupPressDrag();this.setupEventNames();this.$0(ei)};dI.$2=function(){return dI.$4};dI.$3=function(ei){if(dI.$4!==ei){dI.$4=ei}};dI.setHandler=function(ei,ej,ek){ei[ej]=ek};dI.removeHandler=function(ei,ej){ei[ej]=null};dI.isHandling=function(ei,ej){var ek=ei;return ss.isValue(ek[ej])};dI.$1=function(ei,ej){return ei[ej]};dI.$0=function(ei){if(ss.isValue(ei)){ei.dispose()}};global.spiff.TableauEventHandler=dI;var dJ=function(){this.$2$1=null;dI.call(this);this.setupEventNames();this.set_eventHandlingAttributesForReact(this.$5())};dJ.__typeName='spiff.TableauEventHandlerForReact';dJ.createEmpty=function(){return new dJ};dJ.$0=function(ei){if(ss.isNullOrUndefined(dJ.$1)){dJ.$1={};dJ.$1['touchstart']='onTouchStart';dJ.$1['touchmove']='onTouchMove';dJ.$1['touchend']='onTouchEnd';dJ.$1['touchcancel']='onTouchCancel';dJ.$1['mousedown']='onMouseDown';dJ.$1['mousemove']='onMouseMove';dJ.$1['mouseup']='onMouseUp';dJ.$1['mouseout']='onMouseOut';dJ.$1['scroll']='onScroll';dJ.$1['contextmenu']='onContextMenu'}return dJ.$1[ei]};global.spiff.TableauEventHandlerForReact=dJ;var dK=function(){this.$4={indexOfFirstVisibleSection:0,indexOfLastVisibleSection:0};React.Component.call(this)};dK.__typeName='spiff.TableBody';dK.createTableBody=function(ei){return React.createElement(dK,ei)};global.spiff.TableBody=dK;var dL=function(){this.name=null;this.dataKey=null;this.text=null;this.tooltip=null;this.defaultSortDirection=0;this.resizable=false;this.sortable=false;this.growToFit=false;this.preferredWidth=null;this.preferredCellType=1};dL.__typeName='spiff.TableColumn';global.spiff.TableColumn=dL;var dM=function(){};dM.__typeName='spiff.TableColumnSort';global.spiff.TableColumnSort=dM;var dN=function(){this.$b=null;this.$a=null;this.$7=0;this.$9=null;this.$8=null;this.$c=null;this.$6=null;React.Component.call(this);this.$9=ss.mkdel(this,this.$3);this.$8=ss.mkdel(this,this.$2);this.$c=ss.mkdel(this,this.$5);this.$6=ss.mkdel(this,this.$0)};dN.__typeName='spiff.TableComponent';dN.createTable=function(ei){return React.createElement(dN,ei)};global.spiff.TableComponent=dN;var dO=function(){this.key=null;this.data=null};dO.__typeName='spiff.TableRow';global.spiff.TableRow=dO;var dP=function(ei){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=ei};dP.__typeName='spiff.Template';dP.fromHtml=function(ei){return new dP($(ei))};global.spiff.Template=dP;var dQ=function(ei,ej){df.$ctor1.call(this,ei,ej)};dQ.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=dQ;var dR=function(ei,ej,ek,el,em){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;eh.call(this,ei.get_domRootElement());this.$5=ei;this.$6=ej;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',ek);this.$5.get_inputElement().attr('title',ek);if(ss.isValue(el)){var en='textinput-'+this.get_instanceId();ei.get_inputElement().attr('id',en);ei.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",en,el)))}if(em){ei.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(eo){this.$4=true})).on('compositionend',ss.mkdel(this,function(eo){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};dR.__typeName='spiff.TextInputView';dR.newTextInputView=function(ei,ej,ek,el){var em=new k;return new dR(em,ei,ej,ek,el)};global.spiff.TextInputView=dR;var dS=function(ei,ej){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;y.call(this,ei);this.$d=dS.$0();this.$c=ss.coalesce(ej,'selected')};dS.__typeName='spiff.ToggleButton';dS.createButton=function(ei,ej,ek){var el=new dS(ei,ej);el.set_selected(ek.get_toggleValue());var em=function(en,eo){if(eo.get_propertyName()==='selected'){ek.raiseToggled()}};el.add_propertyChanged(em);el.disposables.add$1(new tab.CallOnDispose(function(){el.remove_propertyChanged(em)}));return el};dS.$0=function(){dS.$1++;return'toggleBtn-'+dS.$1.toString()};global.spiff.ToggleButton=dS;var dT=function(ei,ej){this.$0=false;this.$2$1=null;this.$2$2=null;v.call(this);this.$0=ej;this.set_data({});this.add_toggled(ei);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(ei)})))};dT.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=dT;var dU=function(){};dU.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=dU;var dV=function(){};dV.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=dV;var dW=function(){};dW.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=dW;var dX=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dX.startingGlassZIndex};dX.__typeName='spiff.UberPopupShowOptions';dX.$ctor1=function(ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dX.startingGlassZIndex;this.horizontalAlign=ei;this.horizontalAttach=ej;this.theme=ek;this.preferUp=el;this.coverRelativeElement=em;this.limitPopupHeight=en;this.maxPopupHeight=eo;this.additionalClassNames=ep;this.isToolbarFlyout=eq;this.popupMode=er;this.globalTouchWhitelist=es;this.glassZIndex=et;this.focusOnShown=eu};global.spiff.UberPopupShowOptions=dX;var dY=function(){this.content=null;dP.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent')};dY.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=dY;var dZ=function(){};dZ.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=dZ;var ea=function(ei,ej){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(u,[eb]).call(this,ei,ej);this.popupViewModel=ei;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()};ea.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=ea;var eb=function(ei){this.$0=null;this.$1=null;this.options=new dX;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;v.call(this);this.$1=ei;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};eb.__typeName='spiff.UberPopupViewModel';eb.$ctor1=function(ei){eb.call(this,function(){return ei})};eb.createForContent=function(ei,ej,ek,el){var em=new eb(ej);if(!ss.staticEquals(ek,null)){em.add_hidden(ek);em.addDisposables(new tab.CallOnDispose(function(){em.remove_hidden(ek)}))}em.set_content(ei);em.set_disposeOnHide(true);cV.newView(ea).call(null,[em]);if(el){em.disposables.add$1(new tab.CallOnDispose(function(){ei.disposeViewModel()}))}return em};eb.createForContent$1=function(ei,ej,ek,el){return eb.createForContent(ei,function(){return ej},ek,el)};global.spiff.UberPopupViewModel=eb;var ec=function(){};ec.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=ec;var ed=function(){cL.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};ed.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=ed;var ee=function(){cL.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};ee.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=ee;var ef=function(ei,ej){this.$b=null;React.Component.call(this,ei,ej);this.state=ef.$0(this.props.initialValue)};ef.__typeName='spiff.VerticalSpinnerComponent';ef.$0=function(ei){return{value:ei,pendingValue:ei,displayValue:ei.toString()}};global.spiff.VerticalSpinnerComponent=ef;var eg=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0;this.tabIndex=0};eg.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=eg;var eh=function(ei){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(ei,'element');this.element=ei;ei.addClass('tab-widget');ei.data('widgetInstance',this);eh.$3++;this.$0=eh.$3};eh.__typeName='spiff.Widget';eh.enableTextSelectionOnElement=function(ei){ei.removeClass('tab-unselectable');ei.addClass(eh.selectableNodeClass);ei.off('.tab-disableSelection')};eh.disableTextSelectionOnElement=function(ei){if(tab.BrowserSupport.get_isIE()){return}if(tab.BrowserSupport.get_isMobile()){return}ei.removeClass(eh.selectableNodeClass);ei.addClass('tab-unselectable');if(tab.BrowserSupport.get_selectStart()){var ej='selectstart'+'.tab-disableSelection';ei.on(ej,function(ek){if(tab.DomUtil.isFocusableTextElement(ek.target)){return}ek.preventDefault()})}};eh.findWidget=function(ei,ej){tab.Param.verifyValue(ei,'element');var ek=ei;var el;ej=ej||eh;do{el=ek.data('widgetInstance');if(ss.isValue(el)&&!ss.isAssignableFrom(ej,ss.getInstanceType(el))){el=null}ek=ek.parent('.tab-widget')}while(ss.isNullOrUndefined(el)&&!ek.is('body')&&ek.length>0);return(ss.isNullOrUndefined(el)?null:el)};eh.getWidgets=function(ei,ej){var ek=[];ej=ej||eh;var el;ei.each(function(em,en){el=$(en).data('widgetInstance');if(ss.isValue(el)&&ss.isAssignableFrom(ej,ss.getInstanceType(el))){ek.push(el)}});return ek};global.spiff.Widget=eh;ss.initClass(dq,a,{get_scrollingControl:null,render:null},React.Component);ss.initClass(b,a,{get_scrollingControl:function(){var ei=this.refs['iscroll-component'];if(ss.isValue(ei)&&ss.isValue(ei.get_iScroll())){return new c(ei.get_iScroll())}return null},render:function(){var ei=b.$0(this.props);return React.createElement(ce,ei,this.props.children)}},dq);ss.initInterface(cg,a,{scrollBy:null,scrollTo:null,scrollToElement:null});ss.initClass(c,a,{scrollBy:function(ei,ej){this.$0.scrollBy(-ei,-ej,0,null)},scrollTo:function(ei,ej){this.$0.scrollTo(-ei,-ej,0,null)},scrollToElement:function(ei,ej,ek){this.$0.scrollToElement(ei,0,ej,ek)}},null,[cg]);ss.initInterface(ca,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(d,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(ei,ej){var ek=ei.offsetTop;var el=ek+ei.offsetHeight;var em=this.$0.get_scrollerY();var en=em+tab.DoubleUtil.roundToInt(this.$0.element.height());if(ek<em){var eo=((ek<=ej)?0:ek);this.$0.scrollTo(this.$0.get_scrollerX(),eo,0,null)}else if(el>en){this.$0.scrollTo(this.$0.get_scrollerX(),em+el-en,0,null)}}},null,[ca]);ss.initClass(e,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(ei,ej){var ek=ei.offsetTop;var el=ek+ei.offsetHeight;var em=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var en=em+this.$0[0].offsetHeight;if(ek<em){var eo=((ek<=ej)?0:ek);this.$0.scrollTop(eo)}else if(el>en){this.$0.scrollTop(em+el-en)}}},null,[ca]);ss.initClass(f,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var ei=$(this.$2).find('.iScrollHorizontalScrollbar');ei.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var ej=$(this.$2).find('.iScrollVerticalScrollbar');ej.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initClass(g,a,{});ss.initClass(dP,a,{getElementsBySelector:function(ei){return this.domRoot.find(ei)},getElementBySelector:function(ei){var ej=this.getElementsBySelector(ei);return ej},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(ei){if(ss.isValue(ei)){this.disposables.add$1(ei)}}},null,[ss.IDisposable]);ss.initClass(h,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},dP,[ss.IDisposable]);ss.initClass(i,a,{$2:function(ei,ej){switch(ei){case 1:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}case 2:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}default:{if(ei===0&&!ss.isNullOrEmptyString(ej)){this.$6.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",ej));this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true}break}}return this},$3:function(ei){if(ss.isNullOrEmptyString(ei)){return this}this.$6.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",ei));this.$6.$7().append(this.$6.$5);this.$6.$3=true;return this},$1:function(ei){if(ss.isNullOrEmptyString(ei)){return this}this.$6.$0=$("<div class='tabMenuItemDesc'/>");this.$6.$0.text(ei);this.$6.$7().append(this.$6.$0);this.$6.$1=true;return this},$4:function(ei){if(ss.isNullOrUndefined(ei)){return this}this.$6.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$6.domRoot.append(this.$6.$8);return this},$5:function(ei){for(var ej=0;ej<ei.length;ej++){var ek=ei[ej];if(ss.isValue(ek)){this.$6.domRoot.addClass(ek)}}return this},$0:function(){var ei=this.$6;this.$6=null;return ei},dispose:function(){this.$6.dispose()}},null,[ss.IDisposable]);ss.initInterface(cm,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(j,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},dP,[ss.IDisposable,cm]);ss.initClass(k,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},dP,[ss.IDisposable,cm]);ss.initInterface(cl,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(l,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(ei,ej){return new m}},dP,[ss.IDisposable,cl]);ss.initClass(m,a,{},dP,[ss.IDisposable]);ss.initEnum(n,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(o,a,{});ss.initClass(p,a,{});ss.initClass(df,a,{render:null,shouldComponentUpdate:function(ei,ej){return de.$0(this,ei,ej)}},React.Component);df.$ctor1.prototype=df.prototype;ss.initClass(q,a,{render:function(){return React.DOM.div({className:'tab-ArrowDropdownButton'},React.DOM.div({className:'arrow down'}))}},df);ss.initInterface(cp,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initClass(v,a,{add_disposed:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_disposed:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},add_propertyChanged:function(ei){this.$1$2=ss.delegateCombine(this.$1$2,ei)},remove_propertyChanged:function(ei){this.$1$2=ss.delegateRemove(this.$1$2,ei)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(ei){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new dd(ei))}},raiseEvent:function(ei,ej){if(ss.isValue(ei)){ei(this,ej||ss.EventArgs.Empty)}},raiseActionEvent$1:function(ei){return function(ej,ek){if(ss.isValue(ej)){ej(ek)}}},raiseActionEvent:function(ei){if(ss.isValue(ei)){ei()}}},null,[ss.IDisposable,cp]);ss.initInterface(bO,a,{addToDom:null,onAddedToDom:null});ss.initClass(eh,a,{add_disposed:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_disposed:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},add_propertyChanged:function(ei){this.$1$2=ss.delegateCombine(this.$1$2,ei)},remove_propertyChanged:function(ei){this.$1$2=ss.delegateRemove(this.$1$2,ei)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(ei){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=ei;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(ei){tab.DomUtil.setNativeTooltip(this.element,ei)},enableTextSelection:function(){eh.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){eh.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(ei){if(ss.isValue(this.$1$2)){this.$1$2(this,new dd(ei))}},createNamespacedEventName:function(ei){return ei+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(ei){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),ei)},onDisposed:function(ei){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(ei){ei.append(this.element);this.onAddedToDom()},prependToDom:function(ei){ei.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(ei){this.element.addClass(ei)}},null,[bO,ss.IDisposable]);ss.initClass(x,a,{shouldComponentUpdate:function(ei,ej){return!ss.staticEquals(this.props,ei)||!ss.staticEquals(this.state,ej)},render:function(){var ei=this.props.row;var ej=this.props.colWidths;var ek=[];ek.push('tab-table-brow');if(this.props.showGridLines){ek.push('tab-table-brow-gridline')}if(this.props.isSelected){ek.push(x.$1)}var el=(ss.isValue(ei)?_.map(this.props.cols,ss.mkdel(this,function(eo,ep){var eq={key:ep,col:eo,row:ei,val:ei.data[eo.dataKey],cssWidth:(ss.isValue(ej)?(ej.widths[eo.name]+'px'):'auto'),reportWidth:this.props.handleReportCellWidth,isSelected:this.props.isSelected,onClick:this.props.onClick,onRightClick:this.props.onRightClick};return((eo.preferredCellType===1)?da.createBodyCell(eq):cU.createBodyCell(eq))})):null);var em={className:ek.join(' '),style:{height:x.innerHeight,whiteSpace:'nowrap'}};var en={};return bt.div(en,{ref:'bodyRow'},[React.DOM.div(em,el)])}},React.Component);ss.initClass(y,a,{add_press:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_press:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_click:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_click:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},add_shiftClick:function(ei){this.$2$3=ss.delegateCombine(this.$2$3,ei)},remove_shiftClick:function(ei){this.$2$3=ss.delegateRemove(this.$2$3,ei)},add_ctrlClick:function(ei){this.$2$4=ss.delegateCombine(this.$2$4,ei)},remove_ctrlClick:function(ei){this.$2$4=ss.delegateRemove(this.$2$4,ei)},add_hover:function(ei){this.$2$5=ss.delegateCombine(this.$2$5,ei)},remove_hover:function(ei){this.$2$5=ss.delegateRemove(this.$2$5,ei)},add_mouseEnter:function(ei){this.$2$6=ss.delegateCombine(this.$2$6,ei)},remove_mouseEnter:function(ei){this.$2$6=ss.delegateRemove(this.$2$6,ei)},add_mouseLeave:function(ei){this.$2$7=ss.delegateCombine(this.$2$7,ei)},remove_mouseLeave:function(ei){this.$2$7=ss.delegateRemove(this.$2$7,ei)},$9:function(ei){this.$2$8=ss.delegateCombine(this.$2$8,ei)},$a:function(ei){this.$2$8=ss.delegateRemove(this.$2$8,ei)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(ei){this.element.prop('disabled',ei);this.element.toggleClass(this.$5,ei);if(ei){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(ei){this.$7=ei},get_focusClass:function(){return this.$6},set_focusClass:function(ei){this.$6=ei},get_disabledClass:function(){return this.$5},set_disabledClass:function(ei){this.$5=ei},get_context:function(){return this.$4},set_context:function(ei){this.$4=ei},get_tableauClickHandler:function(){return this.$8},tabIndex:function(ei){this.element.attr('tabindex',ei.toString());return this},onClick:function(ei){var ej=ss.mkdel(this,function(){ei(this)});this.add_click(ej);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(ej)}))},onDoubleClick:function(ei){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var ej=ss.mkdel(this,function(){ei(this)});this.$9(ej);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(ej)}))},onShiftClick:function(ei){var ej=ss.mkdel(this,function(){ei(this)});this.add_shiftClick(ej);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(ej)}))},onMouseEnter:function(ei){var ej=ss.mkdel(this,function(){ei(this)});this.add_mouseEnter(ej);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(ej)}))},onMouseMove:function(ei){var ej=ss.mkdel(this,function(){ei(this)});this.add_hover(ej);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(ej)}))},onMouseLeave:function(ei){var ej=ss.mkdel(this,function(){ei(this)});this.add_mouseLeave(ej);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(ej)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bw.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var ei={};ei.hoverDelay=0;dI.setHandler(ei,'mouseleave',ss.mkdel(this,this.handleMouseLeave));dI.setHandler(ei,'hover',ss.mkdel(this,this.handleHover));this.$8=dH.targetAndConfig(this.element.get(0),ei).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(ei){if(ss.isValue(ei)){ei()}},$3:function(ei){if(ei.which===13){bw.stopEvent(ei);this.handleClick(null)}if(ei.which===32){bw.stopEvent(ei);this.handleClick(null)}},handleFocusOut:function(ei){this.element.removeClass(this.$6)},handleFocusIn:function(ei){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(ei){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(ei){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(ei)&&ei.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bw.isCtrlKey(ei)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(ei){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},eh,[bO,ss.IDisposable]);ss.initClass(A,a,{},ss.makeGenericType(z,[Object]));ss.initEnum(B,a,{medium:1,large:2});ss.initEnum(C,a,{numberCell:0,plainTextCell:1});ss.initClass(D,a,{render:function(){var ei=this.props;var ej=[];ej.push('tb-checkbox');if(ei.isSelected){ej.push('tb-checked')}return React.DOM.span({className:'tb-checkbox-cell'},React.DOM.span({className:ej.join(' ')}))}},ss.makeGenericType(w,[Object]));ss.initClass(E,a,{updateWidgetState:function(ei){this.get_widget().set_label(ei.label);this.get_widget().set_disabled(ei.disabled);this.get_widget().set_selected(ei.isSelected)},handleWidgetPropertyChanged:function(ei,ej){if(ej.get_propertyName()==='selected'){if(!ss.staticEquals(this.props.onSelectedChanged,null)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(dk,[cs,Object,Object]));ss.initClass(dR,a,{add_enterKeyPressed:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_enterKeyPressed:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_escapeKeyPressed:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_escapeKeyPressed:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},get_text:function(){return this.$6},set_text:function(ei){if(ss.referenceEquals(this.$6,ei)){return}this.get_inputElement().val(ei).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(ei){var ej=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,ej)){this.$6=ej;this.raisePropertyChanged('text')}},$3:function(ei){if(this.$4){return}switch(ei.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){this.$2$1();ei.stopPropagation()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();ei.stopPropagation()}break}}}},eh,[bO,ss.IDisposable]);ss.initClass(F,a,{add_clearButtonClicked:function(ei){this.$3$1=ss.delegateCombine(this.$3$1,ei)},remove_clearButtonClicked:function(ei){this.$3$1=ss.delegateRemove(this.$3$1,ei)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(ei,ej){this.$7()},$8:function(ei){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},dR,[bO,ss.IDisposable]);ss.initClass(G,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},dP,[ss.IDisposable,cm]);ss.initClass(H,a,{});ss.initClass(I,a,{$j:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},$k:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},$h:function(ei){this.$1$2=ss.delegateCombine(this.$1$2,ei)},$i:function(ei){this.$1$2=ss.delegateRemove(this.$1$2,ei)},$l:function(ei){this.$1$3=ss.delegateCombine(this.$1$3,ei)},$m:function(ei){this.$1$3=ss.delegateRemove(this.$1$3,ei)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(ei){this.$j(ei);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(ei)})));return this},onClick:function(ei){this.$h(ei);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(ei)})));return this},onRightClick:function(ei){this.$l(ei);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(ei)})));return this},setTarget:function(ei){this.$g=ei;ei.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ei.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!tsConfig.is_touch){ei.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ei.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{ei.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ei.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(ei){return ei+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(ei){this.$e=ei.pageX;this.$f=ei.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(ei)}},$1:function(ei){var ej=(ss.isValue(ei)?ei['originalEvent']:null);if(ss.isValue(ej)&&ss.isValue(ej.touches)&&ss.isValue(ej.touches[0])){return ej.touches[0]}return null},$7:function(ei){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ei.target)){ei.preventDefault()}else{return}}var ej=this.$1(ei);var ek=0;var el=0;if(ss.isValue(ej)){ek=ss.coalesce(ej.pageX,0);el=ss.coalesce(ej.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(tab.BrowserSupport.get_addEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=ek;this.$f=el;if(ss.isValue(this.$1$1)){this.$1$1(ei)}},$5:function(ei){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ei.target)){ei.preventDefault()}else{return}}this.$2(ei)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(ei,ej){var ek=ej;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ei)){ej.preventDefault()}else{return}}var el=ek.touches[0].pageX;var em=ek.touches[0].pageY;if(Math.abs(el-this.$e)>10||Math.abs(em-this.$f)>10){this.$8()}},$4:function(ei){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ei.target)){ei.preventDefault()}else{return}}this.$8()},$2:function(ei){ei.stopPropagation();this.$8();if(ei.type==='contextmenu'){ei.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(ei)}}else{if(ss.isValue(this.$1$2)){this.$1$2(ei)}if(ei.type==='touchend'){H.preventGhostClick(this.$e,this.$f)}}}},null,[ss.IDisposable]);ss.initClass(J,a,{render:function(){var ei=$.extend(new Object,this.props);ei.onSelectionChanged=ss.mkdel(this,function(em){this.onSelect(em,this.props.onSelectionChanged)});var ej=React.createElement(dt,ei);var ek=new Object;ek.styleClass=this.props.styleClass;ek.isSelecting=this.state.isSelecting;ek.getDesiredHeight=dt.getDesiredHeight;ek.getMinimumWidth=dt.getMinimumWidth;ek.onSelectorToggled=ss.mkdel(this,this.$1);ek.onFocusLost=ss.mkdel(this,this.$0);ek.renderButton=ss.mkdel(this,function(){return React.createElement(dQ,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var el=React.createElement(dC,ek,ej);return el},onSelect:function(ei,ej){var ek=new Q;ek.isSelecting=false;this.setState(ek);if(!ss.staticEquals(ej,null)){ej(ei)}},$1:function(){if(!this.props.enabled){var ei=new Q;ei.isSelecting=false;this.setState(ei)}else{var ej=new Q;ej.isSelecting=!this.state.isSelecting;this.setState(ej)}},$0:function(){var ei=new Q;ei.isSelecting=false;this.setState(ei)}},React.Component);ss.initClass(cL,a,{});ss.initClass(K,a,{},cL);ss.initClass(L,a,{get_iconClass:function(){return this.$2},get_name:function(){return this.$3},get_data:function(){return this.$0},get_description:function(){return this.$1},asMenuItem:function(){return cE.newItemWithIconAndDescription(this,this.get_name(),this.get_iconClass(),this.get_description())}});ss.initClass(M,a,{},cL);ss.initEnum(N,a,{standard:0,dropdown:1,unification:2});ss.initClass(O,a,{},Object);ss.initEnum(P,a,{standard:0,autoFit:1});ss.initClass(Q,a,{});ss.initClass(R,a,{},dP,[ss.IDisposable]);ss.initEnum(S,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(T,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass(T.pressedClass)},$9:function(ei){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass(T.pressedClass);if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(ei){var ej=0;switch(ei.which){case 40:{ej=1;break}case 38:{ej=-1;break}default:{return}}ei.preventDefault();ei.stopPropagation();var ek=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(ek<0){return}ek+=ej;if(ek>=0&&ek<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[ek])}},$b:function(ei){if(ss.isInstanceOfType(ei,Y)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(ei)){var ej=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(ej);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(ei.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(ei.get_iconClass())){this.$c.domRoot.addClass(T.noIconClass)}this.$c.name.text(ei.get_name())},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass(T.disabledClass,!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){eh.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var ei=cV.newView(cJ).call(null,[this.$d.get_menu()]);var ej=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(ej);ei.addToDom(ej);this.$c.domRoot.css({width:ei.element.width()+'px'});ei.dispose();ej.remove()}}},ss.makeGenericType(u,[U]),[bO,ss.IDisposable,ss.makeGenericType(co,[U])]);ss.initClass(U,a,{add_itemsChanged:function(ei){this.$3$1=ss.delegateCombine(this.$3$1,ei)},remove_itemsChanged:function(ei){this.$3$1=ss.delegateRemove(this.$3$1,ei)},add_selectedItemChanged:function(ei){this.$3$2=ss.delegateCombine(this.$3$2,ei)},remove_selectedItemChanged:function(ei){this.$3$2=ss.delegateRemove(this.$3$2,ei)},add_menuHidden:function(ei){this.$3$3=ss.delegateCombine(this.$3$3,ei)},remove_menuHidden:function(ei){this.$3$3=ss.delegateRemove(this.$3$3,ei)},add_enabledChanged:function(ei){this.$3$4=ss.delegateCombine(this.$3$4,ei)},remove_enabledChanged:function(ei){this.$3$4=ss.delegateRemove(this.$3$4,ei)},add_isSelectionInvalidChanged:function(ei){this.$3$5=ss.delegateCombine(this.$3$5,ei)},remove_isSelectionInvalidChanged:function(ei){this.$3$5=ss.delegateRemove(this.$3$5,ei)},get_theme:function(){return this.$p},set_theme:function(ei){this.$p=ei},get_menu:function(){if(ss.isNullOrUndefined(this.$d)){this.$4()}return this.$d},get_menuTheme:function(){return this.$j},set_menuTheme:function(ei){this.$j=ei},get_sizing:function(){return this.$n},set_sizing:function(ei){this.$n=ei},get_menuStyleClass:function(){return this.$i},set_menuStyleClass:function(ei){this.$i=ei},get_items:function(){return this.$h},get_selectedItem:function(){return this.$k},set_selectedItem:function(ei){if(ss.referenceEquals(this.$k,ei)&&!this.get_allowSetToSameValue()){return}this.$k=ei;this.$9();this.raiseActionEvent$1(L).call(this,this.$3$2,this.$k)},get_summary:function(){return this.$o},set_summary:function(ei){this.$o=ei},get_showSelectedItem:function(){return this.$m},set_showSelectedItem:function(ei){this.$m=ei},get_showDropdownIcon:function(){return this.$l},set_showDropdownIcon:function(ei){this.$l=ei},get_enabled:function(){return this.$e},set_enabled:function(ei){if(this.$e===ei){return}this.$e=ei;this.$9();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$g},set_isSelectionInvalid:function(ei){if(this.$g===ei){return}this.$g=ei;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$c},set_additionalMenuClass:function(ei){this.$c=ei},get_allowSetToSameValue:function(){return this.$3$6},set_allowSetToSameValue:function(ei){this.$3$6=ei},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$a:function(){var ei=this.get_items();for(var ej=0;ej<ei.length;ej++){var ek=ei[ej];if(!tab.MiscUtil.isNullOrEmpty$1(ek.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$7},set_dropdownStyleClass:function(ei){this.$3$7=ei},$b:function(){var ei='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){ei+=' disabled'}if(this.$a()){ei+=' '+this.$f}return ei},dispose:function(){if(ss.isValue(this.$d)){this.$d.dispose()}v.prototype.dispose.call(this);this.$d=null},setItems:function(ei){ss.clear(this.$h);var ej=ss.getEnumerator(ei);try{while(ej.moveNext()){var ek=ej.current();this.$h.push(ek)}}finally{ej.dispose()}this.$7();this.$9()},setItemsWithInitialSelection:function(ei,ej){ss.clear(this.$h);var ek=ss.getEnumerator(ei);try{while(ek.moveNext()){var el=ek.current();this.$h.push(el)}}finally{ek.dispose()}this.$k=ej;this.$7();this.$9()},addItem:function(ei){this.$h.push(ei);this.$7();this.$9()},clearItems:function(){ss.clear(this.$h);this.$7();this.set_selectedItem(null);this.$9()},updateCurrentMenu:function(){if(this.$h.length===0||!this.$e||!ss.isValue(this.$d)){return}this.$0();this.$d.set_menu(new cD(this.menuItems));this.$d.set_selectedItem(this.selectedMenuItem)},$4:function(){if(this.$h.length===0||!this.$e){return}this.$0();this.$d=cK.createForMenu(new cD(this.menuItems),ss.mkdel(this,this.$5),this.$1(),null,true);this.$d.set_selectedItem(this.selectedMenuItem);this.$d.set_focusedItem(this.selectedMenuItem);this.$d.add_hidden(ss.mkdel(this,this.$8))},comboClicked:function(ei){if(this.$h.length===0||!this.$e){return}this.$4();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_hidden(ss.mkdel(this,this.$8))})));var ej=dz.create(ei,false);ej.minWidth=tab.DoubleUtil.roundToInt(ei.outerWidth(false));ej.additionalMenuClass='tabComboBoxMenu';if(ss.isValue(this.$c)){ej.additionalMenuClass+=' '+this.$c}this.$d.show(ej)},$9:function(){if(this.generateProps){this.updateProps$1(this.$2())}},$0:function(){var ei=[];var ej=null;if(ss.isValue(this.$h)){for(var ek=0;ek<this.$h.length;ek++){var el=this.$h[ek];if(this.$m||!ss.referenceEquals(el,this.$k)){var em=el.asMenuItem();if(ss.referenceEquals(el,this.$k)){ej=em}ei.push(em)}}}this.menuItems=ei;this.selectedMenuItem=ej},$1:function(){switch(this.$j){case 0:{return new M}case 1:{return new K(this.get_menuStyleClass())}case 2:{return new ee}default:{return new M}}},$8:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$7:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$5:function(ei){var ej=ei.data;this.set_selectedItem(ej)},$6:function(ei){this.set_selectedItem(ei.mapSelected(L).call(ei,ss.mkdel(this,function(ej){return this.get_items()[ej]}))[0])},$3:function(ei){return J.createCustomIconElements(ei.get_iconClass())},$2:function(){var ei=new O;ei.items=_.map(this.get_items(),ss.mkdel(this,function(ej){var ek=new du;ek.label=ej.get_name();ek.getCustomContentBefore=ss.mkdel(this,function(){return this.$3(ej)});return ek}));ei.selection=dA.buildSingleSelectGroupSelection$1(L).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(ej){return ss.equals(ej,this.get_selectedItem())}));ei.selectedText=this.get_selectedText();ei.selectedIconClass=this.get_selectedIconClass();ei.onSelectionChanged=ss.mkdel(this,this.$6);ei.hasAnyIcons=this.$a();ei.buttonStyleClass=this.$b();ei.styleClass=this.get_dropdownStyleClass();ei.enabled=this.get_enabled();return ei}},ss.makeGenericType(r,[O]),[ss.IDisposable,cp,ss.makeGenericType(cc,[O])]);ss.initClass(V,a,{add_inputTextChanged:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_inputTextChanged:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_listItemClicked:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_listItemClicked:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},add_listItemMouseEnter:function(ei){this.$2$3=ss.delegateCombine(this.$2$3,ei)},remove_listItemMouseEnter:function(ei){this.$2$3=ss.delegateRemove(this.$2$3,ei)},add_listItemMouseMove:function(ei){this.$2$4=ss.delegateCombine(this.$2$4,ei)},remove_listItemMouseMove:function(ei){this.$2$4=ss.delegateRemove(this.$2$4,ei)},add_textInputElementClicked:function(ei){this.$2$5=ss.delegateCombine(this.$2$5,ei)},remove_textInputElementClicked:function(ei){this.$2$5=ss.delegateRemove(this.$2$5,ei)},add_textInputClearButtonClicked:function(ei){this.$2$6=ss.delegateCombine(this.$2$6,ei)},remove_textInputClearButtonClicked:function(ei){this.$2$6=ss.delegateRemove(this.$2$6,ei)},add_textInputSearchButtonClicked:function(ei){this.$2$7=ss.delegateCombine(this.$2$7,ei)},remove_textInputSearchButtonClicked:function(ei){this.$2$7=ss.delegateRemove(this.$2$7,ei)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(ei){this.$2$8=ei},setPlaceholderText:function(ei){this.get_textInputView().get_inputElement().attr('placeholder',ei)},showList:function(ei,ej,ek){this.removeList();if(ei.length>0){this.set_listViewModel(new dc(ei,ej,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(em){this.$2$3(em)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(em){this.$2$4(em)}))}var el=new db(this.get_listViewModel());el.addClass('tabCompositeSearchWidgetList');el.addToDom(ek||this.get_domRoot())}},showListInsideUberPopup:function(ei,ej,ek,el,em){if(ei.length<=0){this.removeList();return}this.set_listViewModel(new dc(ei,ej,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(eq){this.$2$3(eq)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(eq){this.$2$4(eq)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=eb.createForContent$1(this.get_listViewModel(),ek,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var en=(ss.isValue(el)?['tabCompositeSearchWidgetList',el]:['tabCompositeSearchWidgetList']);var eo=this.$8;var ep=new dX;ep.additionalClassNames=en;ep.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];ep.horizontalAttach=1;ep.limitPopupHeight=true;ep.maxPopupHeight=em;ep.popupMode=1;ep.theme=1;ep.focusOnShown=false;eo.options=ep;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(ei,ej){var ek=ei.children('.tab-list').eq(0);var el=ek.prop('scrollHeight');if(el<1){ej.show();el=ek.prop('scrollHeight');ej.hide()}var em=this.$8.get_relativeElement().outerWidth();ek.css('min-width',em+'px').css('max-width',Math.max(em,400)+'px');var en=this.$8.options;if(ss.isValue(en.maxPopupHeight)&&el>ss.unbox(en.maxPopupHeight)){ek.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(ei){this.$7=true;this.get_textInputView().set_text(ei);this.$7=false},$3:function(ei,ej){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(ei){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},eh,[bO,ss.IDisposable]);ss.initClass(W,a,{});ss.initInterface(bP,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(X,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},dP,[ss.IDisposable,bP]);ss.initClass(Y,a,{get_domRoot:function(){return this.$4},asMenuItem:function(){return bc.newCustomMenuItem(this.get_domRoot())}},L);ss.initClass(Z,a,{setCursor:function(ei){ei.css('cursor',this.$0)}});ss.initClass(ci,a,{},dP,[ss.IDisposable]);ss.initClass(ba,a,{},ci,[ss.IDisposable]);ss.initClass(dm,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(u,[dn]),[bO,ss.IDisposable,ss.makeGenericType(co,[dn])]);ss.initClass(cj,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(I.targetAndClick(this.get_verticalScrollbar(),function(ei){ei.stopPropagation()}));this.disposables.add$1(I.targetAndClick(this.get_horizontalScrollbar(),function(ei){ei.stopPropagation()}));this.get_dom().domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ei){ei.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){eh.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(tab.BrowserSupport.get_mouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(tab.BrowserSupport.get_addEventListener()&&!tsConfig.is_mobile){var ei=ss.mkdel(this,function(ek){this.sendEventToScroller(ek)});var ej=ss.mkdel(this,function(ek){var el=ek.toElement;if(ss.isNullOrUndefined(el)||el.nodeName==='HTML'){if('createEvent'in document){var em=document.createEvent('MouseEvent');em.initEvent('mouseup',false,false);this.sendEventToScroller(em)}}});document.addEventListener('mousemove',ei,true);document.addEventListener('mouseup',ei,true);document.addEventListener('mouseout',ej,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',ei,true);document.removeEventListener('mouseup',ei,true);document.removeEventListener('mouseout',ej,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(ei){this.scroller.handleEvent(ei);for(var ej=0;ej<this.scroller.indicators.length;ej++){var ek=this.scroller.indicators[ej];if(!ss.referenceEquals(ei.type,'mousemove'.toString())||ek.moved){ek.handleEvent(ei)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(ei,ej,ek,el){this.scroller.scrollTo(-ei,-ej,ek,el)},scrollToElement:function(ei,ej,ek,el){this.scroller.scrollToElement(ei,ej,ek,el)}},dm,[bO,ss.IDisposable,ss.makeGenericType(co,[dn])]);ss.initClass(bb,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(tab.BrowserSupport.get_addEventListener()){var ei=ss.mkdel(this,function(ej){this.sendEventToScroller(ej)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(tab.BrowserSupport.get_mouseWheelEvent(),ei,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(tab.BrowserSupport.get_mouseWheelEvent(),ei,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(bb.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(bb.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},cj,[bO,ss.IDisposable,ss.makeGenericType(co,[dn])]);ss.initClass(cE,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(bc,a,{get_domRoot:function(){return this.$0},set_domRoot:function(ei){this.$0=ei}},cE);ss.initClass(bd,a,{},ci,[ss.IDisposable]);ss.initClass(be,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},cj,[bO,ss.IDisposable,ss.makeGenericType(co,[dn])]);ss.initInterface(bW,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initClass(bf,a,{get_feedbackType:function(){return(!ss.staticEquals(this.onFeedbackType,null)?this.onFeedbackType():'dropfeedbackuponentry')},dragOver:function(ei){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(ei)){return null}return(!ss.staticEquals(this.onDragOver,null)?this.onDragOver(ei,this):this)},dragExit:function(ei){if(!ss.staticEquals(this.onDragExit,null)){this.onDragExit(ei)}},acceptDrop:function(ei){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(ei)){return $.Deferred().resolve(false)}return(!ss.staticEquals(this.onAcceptDrop,null)?this.onAcceptDrop(ei):$.Deferred().resolve(false))},getDropTarget:function(ei){return(!ss.staticEquals(this.onGetDropTarget,null)?this.onGetDropTarget(ei,this):this)},getDropCursor:function(ei){return(!ss.staticEquals(this.onGetDropCursor,null)?this.onGetDropCursor(ei):Z.noOp)}},null,[bW]);ss.initClass(bg,a,{add_closing:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_closing:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_closed:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_closed:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},add_resizeMove:function(ei){this.$2$3=ss.delegateCombine(this.$2$3,ei)},remove_resizeMove:function(ei){this.$2$3=ss.delegateRemove(this.$2$3,ei)},add_resizeEnd:function(ei){this.$2$4=ss.delegateCombine(this.$2$4,ei)},remove_resizeEnd:function(ei){this.$2$4=ss.delegateRemove(this.$2$4,ei)},get_body:function(){return this.$e},set_body:function(ei){if(ss.referenceEquals(this.$e,ei)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=ei;this.element.find('.tab-dialogBodyContainer').html('').append(ei);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(ei){if(this.get_maximized()){return}if(ss.isNullOrUndefined(ei)){this.positionInWindow()}else{this.$m=ei.x;this.$n=ei.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(ei){if(ei!==this.$h){this.$h=ei;this.$g.toggleClass('active',ei);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(ei){if(this.get_maximized()){return}if(ei){if(ss.isNullOrUndefined(this.$o)){this.$o=new dl(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(ei){this.element.css('z-index',ei.toString())},get_maximized:function(){return this.$j},set_maximized:function(ei){this.$j=ei;this.$g.toggleClass('maximized',ei)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(ei){this.$2$5=ei},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(ei){this.$2$6=ei},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(ei){this.get_titleElement().text(ei);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(ei){this.$r=ei},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(ei){if(ei){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.get_stayInWindow()},set_stayInWindow:function(ei){if(ei&&!this.$t){this.$2()}else if(!ei){this.$9()}this.$t=ei},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(ei){this.$v=ei},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(ei){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=ei(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(ei){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(ei,null)){ei()}return}var ej=new ss.CancelEventArgs;this.onClosing(ej);if(ej.cancel){return}tab.DomUtil.blur();this.$d=ei;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(ei){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,ei)}},onClosed:function(ei){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,ei)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(ei,ej){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(ei)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],ei.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],ei.target)){this.moveToTop();this.$k=true}},$5:function(ei,ej){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),ei.target)||ss.isNullOrUndefined(ei)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){cW.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){cW.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bg.$9,this)){bg.$9=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();eh.prototype.dispose.call(this);if(ss.referenceEquals(bg.$9,this)){bg.$9=null}},setInitialFocus:function(){if(this.$i&&!tsConfig.is_mobile_app){var ei=this.element.find('.tab-dialogBodyContainer :tabbable');if(ei.length>0){ei.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dB.getViewport(ss.mkdel(this,function(ei){var ej=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var ek=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(ej>ei.get_dimensions().w){var el=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(ei.get_dimensions().w-(ej-el));ej=ei.get_dimensions().w}if(ek>ei.get_dimensions().h){var em=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(ei.get_dimensions().h-(ek-em));ek=ei.get_dimensions().h}}var en=null;if(this.$m+ej>ei.get_dimensions().w){en=Math.max(0,ei.get_dimensions().w-ej)}var eo=null;if(this.$n+ek>ei.get_dimensions().h){eo=Math.max(0,ei.get_dimensions().h-ek)}if(ss.isValue(en)||ss.isValue(eo)){var ep=en;if(ss.isNullOrUndefined(ep)){ep=this.$m}en=ep;var eq=eo;if(ss.isNullOrUndefined(eq)){eq=this.$n}eo=eq;this.set_position({x:ss.unbox(en),y:ss.unbox(eo)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(ei,ej){if(this.get_maximized()){return}dB.getViewport(ss.mkdel(this,function(ek){var el=0;var em=0;var en=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+ei;var eo=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+ej;var ep=tab.DoubleUtil.roundToInt($(window).width());var eq=tab.DoubleUtil.roundToInt($(window).height());var er=0;var es=0;if(ss.isValue(ek.get_dimensions())){ep=ek.get_dimensions().w;eq=ek.get_dimensions().h;var et=new tab.WindowHelper(window.self);er=ek.get_dimensions().l-et.get_pageXOffset();es=ek.get_dimensions().t-et.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var eu=Math.min(ss.unbox(this.get_startingPositionX())+en,ep);el=Math.max(0,eu-en)}else{el=Math.max(0,Math.round((ep-en)/2)+er)}if(ss.isValue(this.get_startingPositionY())){var ev=Math.min(ss.unbox(this.get_startingPositionY())+eo,eq);em=Math.max(0,ev-eo)}else{em=Math.max(0,Math.round((eq-eo)/2)+es)}this.set_position({x:el,y:em})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bg.$9)){bg.$9=this}else if(!ss.referenceEquals(bg.$9,this)){bg.$9.set_isActive(false);bg.$9=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(ei){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(ei){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(ei){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(ei){if(ei.which===9){this.$6(ei);return}},$6:function(ei){var ej=this.element.find(':tabbable');var ek=ej.filter(':first');var el=ej.filter(':last');if(ss.referenceEquals(ei.target,ek[0])&&ei.shiftKey){el.focusDelayed(1);bw.stopEvent(ei)}else if(ss.referenceEquals(ei.target,el[0])&&!ei.shiftKey){ek.focusDelayed(1);bw.stopEvent(ei)}}},eh,[bO,ss.IDisposable]);ss.initClass(bC,a,{$1:function(){return'tab-'+this.type},update:function(ei){if(ss.isValue(ei)){$.extend(this.$2,ei);$(this.$2.domElem).data(this.$1(),this)}},start:function(ei){},move:function(ei){},end:function(ei){},cancel:function(){},$0:function(ei,ej,ek){if(dI.isHandling(this.$2,ei)){var el=ej;$.extend(el,ek);el.gestureName=this.type;el.$0=ei;var em=dI.$1(this.$2,ei);em(el)}},dispose:function(){this.cancel();$(this.$2.domElem).removeData(this.$1())}},null,[ss.IDisposable]);ss.initClass(bh,a,{start:function(ei){var ej=ei.touches[0];if(ei.touches.length!==this.numTouches){this.reset();return}var ek=this.$c(ei);if(!this.$e(bE.fireFirstTouch,ei)){return}this.$0('firstTouch',ei,ek);this.$n=ej.pageX;this.$o=ej.pageY;this.$j=true;this.$l=tab.MiscUtil.clearTimeout(this.$l);if(!ss.isValue(this.$f)){this.$m=(new Date).getTime();this.$k=window.setTimeout(ss.mkdel(this,function(){this.$6(ei,ek)}),500);this.$l=window.setTimeout(ss.mkdel(this,function(){this.$7(ei,ek)}),750)}},move:function(ei){if(this.$d(ei)){this.reset()}if(ei.type==='touchmove'){this.$0('touchMove',ei,this.$c(ei))}},end:function(ei){var ej=this.$c(ei);if(this.$h){this.$8(ei,ej)}this.$3();if(this.$j){if(ss.isValue(this.$f)&&ss.unbox(this.$f)){this.$4(ei,ej)}else{this.$a(ei,ej)}}if(ei.type==='contextmenu'){if(!this.$e(bE.fireRightClick,ei)){return}this.$9(ei,ej)}if(ei.touches.length===0){if(!this.$e(bE.fireLastTouch,ei)){return}this.$0('lastTouch',ei,ej)}},cancel:function(){this.reset()},reset:function(){this.$3();this.$j=false;this.$f=null;this.$i=false;this.$h=false;this.$g=tab.MiscUtil.clearTimeout(this.$g)},$5:function(ei,ej,ek,el){this.$0(ei,ej,ek);if(ss.isValue(el)&&el['reset']===true){this.reset()}},$4:function(ei,ej){this.$g=tab.MiscUtil.clearTimeout(this.$g);this.$5('doubleTap',ei,ej,ss.mkdict(['reset',true]))},$7:function(ei,ej){this.$i=false;if(!this.$e(bE.firePress,ei)){return}this.$5('press',ei,ej,ss.mkdict(['reset',true]));this.$h=true},$6:function(ei,ej){this.$i=true;this.$5('potentialPress',ei,ej)},$8:function(ei,ej){this.$5('pressEnd',ei,ej);this.$h=false},$3:function(){this.$k=tab.MiscUtil.clearTimeout(this.$k);this.$l=tab.MiscUtil.clearTimeout(this.$l);if(this.$i){this.$5('cancelPotentialPress',{},null)}},$a:function(ei,ej){this.$f=true;if(!this.$e(bE.fireTap,ei)){return}if(dI.isHandling(this.$2,'doubleTap')){this.$g=window.setTimeout(ss.mkdel(this,function(){this.reset();this.$0('cancelPotentialDoubleTap',ei,ej)}),390-this.$b())}else{this.reset()}this.$0('tap',ei,ej)},$9:function(ei,ej){this.$0('rightClick',ei,ej)},$e:function(ei,ej){var ek=false;var el=ss.mkdel(this,function(em){this.reset();if(em){bw.stopEvent(ej)}ek=true});ei(ej,el);return!ek},$b:function(){var ei=(new Date).getTime()-this.$m;return ei},$d:function(ei){var ej=ei.changedTouches[0];return Math.abs(ej.pageX-this.$n)>this.slop||Math.abs(ej.pageY-this.$o)>this.slop},$c:function(ei){var ej={};ej.pageX=ei.changedTouches[0].pageX;ej.pageY=ei.changedTouches[0].pageY;ej.clientX=ei.changedTouches[0].clientX;ej.clientY=ei.changedTouches[0].clientY;ej.startX=ei.changedTouches[0].pageX;ej.startY=ei.changedTouches[0].pageY;return ej}},bC,[ss.IDisposable]);ss.initClass(bi,a,{asMenuItem:function(){return cE.newDivider()}},L);ss.initClass(bj,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}if(this.$z){this.$y=new bD;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString())}bg.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bg.prototype.bindToEvents.call(this);this.disposables.add$1(bw.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bw.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bg.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bg.prototype.dispose.call(this)},$x:function(){if(this.$z&&ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bg.defaultStationaryDialogConfigurer);if(tsConfig.is_mobile){this.set_startingPositionY(100);this.set_startingPositionX(0);this.get_dialogElement().css('height','50%')}else{this.set_startingPositionX(2000);this.set_startingPositionY(this.$A);this.get_dialogElement().css('height','95%')}},onWindowResize:function(ei){this.positionInWindow()},onDocumentKeyDown:function(ei){if(ei.which===27){this.close(null);ei.preventDefault();return}}},bg,[bO,ss.IDisposable]);ss.initEnum(bk,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initInterface(cb,a,{handleCapturedMouseMove:null,handleCapturedMouseComplete:null});ss.initClass(bl,a,{start:function(ei){var ej=ei.touches[0];if(ss.isValue(ei.target)&&ei.target.tagName.toUpperCase()==='IMG'&&!tsConfig.is_mobile){ei.preventDefault()}if(ei.touches.length!==this.numTouches){if(this.$6){this.$0('dragEnd',ei,this.$7)}this.$8=null;this.$6=false;this.$5=true;return}if(ss.isValue(this.$8)&&!tsConfig.is_touch){this.end(ei)}this.$5=false;this.$8={pageX:ej.pageX,pageY:ej.pageY};this.$7=this.$8},move:function(ei){if(this.$5){return}this.$7=this.$3(ei);if(this.$6){this.$0('dragMove',ei,this.$7)}else if(this.$4(ei)){this.$6=true;this.$0('dragStart',ei,this.$7);this.$0('dragMove',ei,this.$7);if(ss.isValue(this.$2.dragEnd)){cN.setCapture(document.body,this,false)}}},end:function(ei){var ej;if(!this.$6){if(ei.touches.length!==this.numTouches||ss.isNullOrUndefined(ei.touches[0].identifier)){return}if(!this.$4(ei)){return}this.$8={pageX:ei.touches[0].pageX,pageY:ei.touches[0].pageY};this.$7=this.$8;ej=this.$3(ei);this.$5=false;this.$6=true;this.$0('dragStart',ei,ej);return}cN.releaseCapture();ej=this.$3(ei);this.$6=false;this.$8=null;if(dI.isHandling(this.$2,'dragEnd')){var ek=new cT(ei.originalEvent,null,null);$.extend(ek,this.$7);var el=function(){bm.cancelDrag(null)};bE.fireDragEnd(ek,el)}this.$0('dragEnd',ei,ej)},cancel:function(){this.$5=true},$3:function(ei){var ej=ei.changedTouches[0];if(ss.isNullOrUndefined(this.$8)){this.$8={pageX:ei['pageX'],pageY:ei['pageY']}}if(ss.isNullOrUndefined(this.$7)){this.$7=this.$8}var ek={clientX:ej.clientX,clientY:ej.clientY};ek.pageX=ej.pageX;ek.pageY=ej.pageY;ek.startX=this.$8.pageX;ek.startY=this.$8.pageY;ek.deltaX=ek.pageX-this.$8.pageX;ek.deltaY=ek.pageY-this.$8.pageY;ek.deltaXSinceLast=ek.pageX-this.$7.pageX;ek.deltaYSinceLast=ek.pageY-this.$7.pageY;ek.scale=1;return ek},$4:function(ei){var ej=ei.touches[0];if(ss.isNullOrUndefined(this.$8)){return false}return Math.abs(ej.pageX-this.$8.pageX)>this.slop||Math.abs(ej.pageY-this.$8.pageY)>this.slop},handleCapturedMouseMove:function(ei){var ej=ei['offsetX'];var ek=ei['offsetY'];if(ej<0||ej>document.body.offsetWidth||ek<0||ek>document.body.offsetHeight){var el=new cT(ei,this.$2.domElem,null);this.move(el)}},handleCapturedMouseComplete:function(ei){var ej=document.createEvent('MouseEvents');ej.initMouseEvent('mouseup'.toString(),false,true,window.self,null,this.$7.pageX,this.$7.pageY,this.$7.clientX,this.$7.clientY,ei.ctrlKey,ei.altKey,ei.shiftKey,ei.metaKey,null,null);document.body.dispatchEvent(ej)}},bC,[ss.IDisposable,cb]);ss.initClass(bm,a,{});ss.initClass(bn,a,{add_shiftStateChanged:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_shiftStateChanged:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(ei){if(this.$1!==ei){this.$1=ei;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return Z.noOp},moveTo:function(ei){},endDragAt:function(ei){},cancelDrag:function(){},payloadEquals:function(ei){if(ss.referenceEquals(this.draggedObject,ei)){return true}if($.isArray(this.draggedObject)){var ej=this.draggedObject;if(ej.length===1&&ss.referenceEquals(ej[0],ei)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bD,a,{add_click:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_click:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(ei){this.element.css('z-index',ei.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(ei){this.element.toggleClass('clear-glass',!ei);this.element.toggleClass('opaque-glass',ei)},set_preventWebPageScroll:function(ei){if(ei){this.element.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ej){ej.preventDefault()})}else{this.element.off(tab.BrowserSupport.get_mouseWheelEvent(),function(ej){ej.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(ei){this.element.css('background-color',ei)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}eh.prototype.dispose.call(this)},handleClick:function(ei){if(ss.isValue(this.$2$1)){this.$2$1()}}},eh,[bO,ss.IDisposable]);ss.initClass(bo,a,{dispose:function(){bm.unregisterDragGlass(this);bD.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bD,[bO,ss.IDisposable]);ss.initClass(bp,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(ei){ei.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,bO,ss.makeGenericType(co,[cp])]);ss.initClass(bq,a,{componentWillReceiveProps:function(ei){if(ei.resetSelector){this.setState({isSelecting:false})}},render:function(){var ei=new Object;ei.styleClass=this.props.styleClass;ei.isSelecting=this.state.isSelecting;ei.getDesiredHeight=this.props.getDesiredHeight;ei.getMinimumWidth=this.props.getMinimumWidth;ei.children=this.props.children;ei.renderButton=this.props.renderButton;ei.onSelectorToggled=ss.mkdel(this,this.$1);ei.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dC,ei)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(br,a,{add_hoverStateChanged:function(ei){this.$3$1=ss.delegateCombine(this.$3$1,ei)},remove_hoverStateChanged:function(ei){this.$3$1=ss.delegateRemove(this.$3$1,ei)},add_editing:function(ei){this.$3$2=ss.delegateCombine(this.$3$2,ei)},remove_editing:function(ei){this.$3$2=ss.delegateRemove(this.$3$2,ei)},add_committed:function(ei){this.$3$3=ss.delegateCombine(this.$3$3,ei)},remove_committed:function(ei){this.$3$3=ss.delegateRemove(this.$3$3,ei)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(ei){this.$3$4=ei},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(ei){if(ss.isValue(this.$3$1)){this.$3$1(ei)}},updateTextElement:function(ei){this.$9.$1().text(ei);var ej=this.$9.$1().get(0);ej.title=(this.showTooltip?ei:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){this.get_inputElement().hide();this.get_textElement().show();this.set_isEditing(false);this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}},$7:function(){var ei=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(ei);var ej=this.element.children('div');var ek=tab.DoubleUtil.roundToInt(ej.height());this.get_textElement().css('height',ek+'px');this.get_textElement().css('line-height',ek+'px');this.get_inputElement().css('height',ek+'px');this.get_inputElement().css('line-height',ek+'px')},onAddedToDom:function(){this.$7();eh.prototype.onAddedToDom.call(this)}},dR,[bO,ss.IDisposable]);ss.initClass(bs,a,{shouldComponentUpdate:function(ei,ej){return!ss.staticEquals(this.props,ei)||!ss.staticEquals(this.state,ej)},render:function(){return React.DOM.div({className:'tab-table-body tab-table-empty-body'},this.props.emptyChild)}},React.Component);ss.initClass(bt,a,{render:function(){return React.createElement(this.props.tagName,$.extend({},this.$2.get_eventHandlingAttributesForReact(),this.props.htmlAttributes),this.props.children)},componentDidMount:function(){this.$0()},componentDidUpdate:function(){this.$0()},componentWillUnmount:function(){if(ss.isValue(this.$2)){this.$2.dispose()}},$0:function(){if(ss.isValue(this.props.spec)){var ei=ReactDOM.findDOMNode(this);if(!ss.referenceEquals(this.$1,ei)||bt.$1(this.$3,this.props.spec)){this.$2.updateEventHandleSpec(ei,this.props.spec);this.$1=ei;this.$3=this.props.spec}}}},React.Component);ss.initClass(bu,a,{});ss.initEnum(bv,a,{mouse:1,touch:2});ss.initClass(bw,a,{});ss.initClass(bF,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(ei){if(this.groupSize>0){this.allSelected=ei;if(ei===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(ei){this.$1$1=ei},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(ei){return function(ej){return this.mapSelected$1(ei).call(this,ej,true)}},mapSelected$1:function(ei){return function(ej,ek){var el;if(this.get_theAllItemIsSelected()&&ek){el=[];var em=this.groupSize;for(var en=0;en<em;++en){el.push(en)}}else{el=_.map(this.get_selectedIndexes(),function(eo,ep){return ep}).sort()}return _.map(el,function(eo){return ej(eo)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(cR,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(ei){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var ej=0;ej<this.groupSize;++ej){if(ej!==ei){this.get_selectedIndexes()[ej]=true}}}else if(this.get_selectedIndexes()[ei]){delete this.get_selectedIndexes()[ei]}else{this.get_selectedIndexes()[ei]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var ei=new cR(this.groupSize);ei.allSelected=this.allSelected;ei.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ei},isSelected:function(ei){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ei)},getHashCode:function(){return ss.defaultHashCode(this)},equals:function(ei){return cR.op_Equality(this,ei)}},bF);ss.initClass(bx,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(ei){return function(ej){return this.mapSelected$1(ei).call(this,ej,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(ei){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[ei]=true}else if(this.get_selectedIndexes()[ei]){delete this.get_selectedIndexes()[ei];this.validateAllSelectedState()}else{this.get_selectedIndexes()[ei]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var ei=0;ei<this.groupSize;++ei){this.get_selectedIndexes()[ei]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var ei=new bx(this.groupSize);ei.allSelected=this.allSelected;ei.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ei},isSelected:function(ei){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ei)},getHashCode:function(){return cR.prototype.getHashCode.call(this)},equals:function(ei){return bx.op_Equality(this,ei)}},cR);ss.initClass(dA,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(ei){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[ei]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[ei]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var ei=new dA(this.groupSize);ei.allSelected=this.allSelected;ei.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ei},isSelected:function(ei){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ei)},getHashCode:function(){return ss.defaultHashCode(this)},equals:function(ei){return dA.op_Equality(this,ei)}},bF);ss.initClass(by,a,{mapSelected:function(ei){return function(ej){return this.mapSelected$1(ei).call(this,ej,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var ei=new by(this.groupSize);ei.allSelected=this.allSelected;ei.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ei},getHashCode:function(){return dA.prototype.getHashCode.call(this)},equals:function(ei){return by.op_Equality(this,ei)}},dA);ss.initClass(bz,a,{render:function(){return React.DOM.span({title:this.props.fixedValue},this.props.fixedValue)}},ss.makeGenericType(w,[Object]));ss.initClass(bA,a,{});ss.initClass(bB,a,{render:function(){var ei=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');if(this.props.isDisabled){ei=ei+' disabled'}return React.DOM.div({className:'tab-GenericDropdownButton '+ei},React.DOM.div({className:'tab-SelectionDisplay'},this.props.selectionDisplay()),React.DOM.div({className:'tab-DownArrowButton'},React.DOM.div({className:'arrow down'})))}},df);ss.initClass(bE,a,{});ss.initClass(bG,a,{componentWillMount:function(){this.setState(this.$2)},$1:function(ei){ei.preventDefault()},render:function(){var ei=this.props.col;var ej=ei.sortable;var ek=ei.resizable;var el=[];var em='';el.push('tab-table-hcell');if(ej){el.push('tab-table-hcell-sortable')}if(this.props.sorted){var en=(this.props.sortAscending?'tab-table-hcell-sort-asc':'tab-table-hcell-sort-desc');el.push(en);em=en+'-icon'}if(ek){el.push('tab-table-hcell-resizable')}var eo={className:el.join(' ')};if(ss.isValue(ei.tooltip)){eo.title=ei.tooltip}var ep=React.DOM.span({className:'tab-table-hcell-text'},ei.text);var eq={className:'tab-table-hdivider tb-disable-selection'};var er={tap:ss.mkdel(this,function(es){if(ej&&!ss.staticEquals(this.props.onHeaderClicked,null)){this.props.onHeaderClicked(ei.dataKey,ei.defaultSortDirection)}})};return React.DOM.span({className:'tab-table-hcol',style:{width:this.props.cssWidth}},React.DOM.div({className:em}),bt.div(er,{},[React.DOM.div(eo,ep)]),(!ei.resizable?null:React.DOM.div(eq)))},componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var ei=this.$0();this.props.reportWidth(this.props.col.name,ei)},$0:function(){var ei=ReactDOM.findDOMNode(this);var ej=ei.getBoundingClientRect();return Math.ceil(ej.right-ej.left)}},df);ss.initClass(bH,a,{componentWillMount:function(){this.$0={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$0)}},handleReportHeaderWidth:function(ei,ej){this.$0[ei]=Math.max(ej,(ss.keyExists(this.$0,ei)?this.$0[ei]:0))},render:function(){var ei=ss.arrayClone(this.props.cols);var ej=this.props.colWidths;var ek=this.props.onColumnResize;var el=this.props.onHeaderClicked;var em=_.map(ei,ss.mkdel(this,function(en){return bG.createHeaderColumn({key:en.name,col:en,sorted:ss.referenceEquals(this.props.sortKey,en.dataKey),sortAscending:this.props.sortAscending,reportWidth:(ss.isNullOrUndefined(en.preferredWidth)?this.$1:null),cssWidth:(ss.isNullOrUndefined(ej)?'auto':(ej.widths[en.name]+'px')),onColumnResize:ek,onHeaderClicked:el})}));return React.DOM.div({className:'tab-table-hrow'},React.DOM.span({className:'tab-table-hcols'},em))}},df);ss.initEnum(bI,a,{left:0,right:1});ss.initClass(bJ,a,{render:function(){var ei=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-horizontal'},bt.div({tap:ss.mkdel(this,function(ej){this.$0(0)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-left'})]),bt.div({tap:ss.mkdel(this,function(ej){this.$0(1)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-right'})]));ei=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},ei);ei=React.DOM.div({className:this.props.styleClass},ei);if(ss.isValue(this.props.extraCssClass)){ei=React.DOM.div({className:this.props.extraCssClass},ei)}return ei},$0:function(ei){if(this.props.disabled){return}if(!ss.staticEquals(this.props.onSpinnerClicked,null)){this.props.onSpinnerClicked(ei)}}},React.Component);ss.initClass(bK,a,{});ss.initClass(bL,a,{start:function(ei){this.cancel();this.$9=false},move:function(ei){var ej=ei.touches[0];if(!this.$9){return}if(!this.$5(ei)){return}var ek=this.$4(ei);if(ss.isValue(this.$7)){this.cancel()}this.$0('moving',ei,ek);this.$a=ej.pageX;this.$b=ej.pageY;this.$7=window.setTimeout(ss.mkdel(this,function(){if(!this.$8){this.$0('hover',ei,ek)}this.$3()}),this.$6)},end:function(ei){if(ei.touches.length===0){this.$9=true}},out:function(ei){var ej=ei.originalEvent['relatedTarget'];if(!ss.referenceEquals(this.$2.domElem,ej)&&!tab.DomUtil.isAncestorOf(this.$2.domElem,ej)){this.cancel();this.$0('mouseleave',ei,this.$4(ei))}},suppressHover:function(){if(!this.$8){}this.$8=true},unsuppressHover:function(){if(this.$8){}this.$8=false;this.$9=true},cancel:function(){this.$3();this.$a=0;this.$b=0;this.$9=true},$3:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)},$5:function(ei){var ej=ei.touches[0];var ek=Math.abs(ej.pageX-this.$a);var el=Math.abs(ej.pageY-this.$b);return ek+el>this.slop},$4:function(ei){var ej={};ej.pageX=ei.changedTouches[0].pageX;ej.pageY=ei.changedTouches[0].pageY;ej.clientX=ei.changedTouches[0].clientX;ej.clientY=ei.changedTouches[0].clientY;return ej}},bC,[ss.IDisposable]);ss.initClass(bM,a,{});ss.initClass(bN,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var ei=this.$7.element;var ej=this.$4;ei.off(this.$3(),ej)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(ei){if(ss.isValue(this.$5)){this.$5(ei)}},$1:function(ei){if(ss.isValue(this.$6)){this.$6(ei)}},$2:function(ei,ej){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bQ,a,{get_buttonElement:function(){return this.element},setEnabled:function(ei){if(ei){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(ei){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(ei);return this}},y,[bO,ss.IDisposable]);ss.initClass(bR,a,{get_className:function(){var ei=['tab-IconBtn'];ei.push(this.props.customClassName);if(this.props.disabled){ei.push('disabled')}return ei.join(' ')},$0:function(){var ei=new bS;ei.isActive=(ss.isValue(this.state)?this.state.isActive:false);return ei},render:function(){return bt.div({tap:ss.mkdel(this,this.$1),firstTouch:ss.mkdel(this,function(ei){if(tsConfig.is_mobile){var ej=new bS;ej.isActive=true;this.setState(ej)}}),lastTouch:ss.mkdel(this,function(ei){if(tsConfig.is_mobile){var ej=new bS;ej.isActive=false;this.setState(ej)}})},{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(ei){if(!tsConfig.is_mobile){var ej=new bS;ej.isActive=true;this.setState(ej)}}),onMouseLeave:ss.mkdel(this,function(ei){if(!tsConfig.is_mobile){var ej=new bS;ej.isActive=false;this.setState(ej)}})},[React.DOM.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':'')})])},$1:function(ei){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ei)}}},React.Component);ss.initClass(bS,a,{});ss.initInterface(bT,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(bU,a,{dragStarted:null,dragEnded:null});ss.initInterface(bV,a,{startDrag:null});ss.initInterface(bX,a,{createListItemContent:null});ss.initInterface(bY,a,{createListItemDragAvatar:null});ss.initInterface(bZ,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initInterface(cd,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(ce,a,{get_iScroll:function(){return this.$3},render:function(){var ei=['tab-iscroll-component'];if(this.state.hovered){ei.push('hover')}if(this.state.scrolling){ei.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){ei.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){ei.push('showIfScrollable')}var ej=ss.arrayFromEnumerable(ei).join(' ');return React.DOM.div({ref:'iscroll-wrapper',className:ej,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},React.DOM.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){$(window).on('resize'.toString(),ss.mkdel(this,this.$1));var ei=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.$3=new f(ei,this.props);this.$3.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.$3.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$2()},componentWillUnmount:function(){$(window).off('resize'.toString(),ss.mkdel(this,this.$1));this.$3.destroy()},componentDidUpdate:function(ei){if(!ss.referenceEquals(this.props.startingY,ei.startingY)&&ss.isValue(this.props.startingY)){this.get_iScroll().scrollTo(this.get_iScroll().x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$2()},handleOnMouseOver:function(ei){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(ei){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(ei){this.$2()},$2:function(){window.setTimeout(ss.mkdel(this,function(){this.$3.refresh()}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var ei=new Object;ei.x=this.get_iScroll().maxScrollX;ei.y=this.get_iScroll().maxScrollY;var ej=ei;this.props.scrollStopCallback(this.get_iScroll().getComputedPosition(),ej)}}},React.Component);ss.initInterface(cf,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(ch,a,{});ss.initInterface(ck,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(cn,a,{updateUberPopupViewModel:null},[bT]);ss.initClass(cq,a,{});ss.initClass(cr,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(ei){this.get_labelElement().text(ei);if(ss.isNullOrEmptyString(ei)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(ei){if(ss.isValue(ei)){this.get_labelElement().html(ei);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},y,[bO,ss.IDisposable]);ss.initClass(dS,a,{add_selectableDisposed:function(ei){this.$3$1=ss.delegateCombine(this.$3$1,ei)},remove_selectableDisposed:function(ei){this.$3$1=ss.delegateRemove(this.$3$1,ei)},add_selectedChanging:function(ei){this.$3$2=ss.delegateCombine(this.$3$2,ei)},remove_selectedChanging:function(ei){this.$3$2=ss.delegateRemove(this.$3$2,ei)},add_selectedChanged:function(ei){this.$3$3=ss.delegateCombine(this.$3$3,ei)},remove_selectedChanged:function(ei){this.$3$3=ss.delegateRemove(this.$3$3,ei)},get_selectedClass:function(){return this.$c},set_selectedClass:function(ei){if(ss.referenceEquals(this.$c,ei)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(ei,true)}this.$c=ei},get_selectionId:function(){return this.$d},set_selectionId:function(ei){this.$d=ei},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(ei){if(this.get_selected()===ei){return}this.element.toggleClass(this.$c,ei);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(ei){this.$3$4=ei},handleClick:function(ei){if(this.get_disabled()){return}var ej=!this.get_selected();if(this.get_preventMouseDeselect()&&!ej){return}if(!ss.staticEquals(this.$3$2,null)){var ek=new dw(ej,ss.isValue(ei)&&ei.shiftKey,bw.isCtrlKey(ei));this.$3$2(this,ek);if(ek.cancel){return}}this.set_selected(ej);y.prototype.handleClick.call(this,ei)},$b:function(ei,ej){if(!ss.staticEquals(ei,null)){ei(this,ej)}},onDisposed:function(ei){this.$b(this.$3$1,null);eh.prototype.onDisposed.call(this,ei)}},y,[bO,ss.IDisposable,ck]);ss.initClass(cs,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(ei){this.get_labelElement().text(ei);if(ss.isNullOrEmptyString(ei)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return dS.prototype.get_selected.call(this)},set_selected:function(ei){if(this.get_selected()===ei){return}var ej=this.get_inputElement();if(ss.isValue(ej)){ej.prop('checked',(ei?'checked':''))}dS.prototype.set_selected.call(this,ei)},get_disabled:function(){return y.prototype.get_disabled.call(this)},set_disabled:function(ei){var ej=this.get_inputElement();if(ss.isValue(ej)){ej.prop('disabled',ei)}y.prototype.set_disabled.call(this,ei)}},dS,[bO,ss.IDisposable,ck]);ss.initClass(cu,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(ei){this.$1$1=ei},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(ei){this.$1$2=ei},startDrag:function(ei){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[bV]);ss.initClass(dv,a,{add_selectionChanged:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_selectionChanged:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},get_selectedClass:function(){return this.$8},set_selectedClass:function(ei){this.$8=ei},get_selectionType:function(){return this.$a},set_selectionType:function(ei){this.$a=ei},get_items:function(){return this.$7},get_selectedItems:function(){var ei=[];var ej=ss.getEnumerator(Object.keys(this.$9));try{while(ej.moveNext()){var ek=ej.current();ei.push(this.$9[ek])}}finally{ej.dispose()}return ei},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var ei=Object.keys(this.$9)[0];return this.$9[ei]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(ei){ei.set_selectedClass(this.$8);this.$7.push(ei);if(ei.get_selected()){this.$6(ei,false,false)}this.$0(ei)},containsItem:function(ei){return ss.contains(this.get_items(),ei)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(ei,ej){var ek=ei;this.$5(ek);if(this.isItemSelected$1(ek)){delete this.$9[ek.get_selectionId()]}ss.remove(this.$7,ek)},$0:function(ei){ei.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));ei.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));ei.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(ei){ei.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));ei.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));ei.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(ei){return ss.isValue(ei)&&ss.keyExists(this.$9,ei.get_selectionId())},isItemSelected:function(ei){return ss.keyExists(this.$9,ei)},selectItem:function(ei){this.$6(ei,false,true)},selectSingleItem:function(ei){this.$6(ei,true,true)},$6:function(ei,ej,ek){var el=false;if(ej||this.get_selectionType()===0){el=this.$1(ei)}el=this.$2(ei)||el;if(ek&&el){this.$4()}},selectItems:function(ei,ej){switch(this.get_selectionType()){case 0:{var ek=((ss.isValue(ei)&&ei.length>0)?ei[0]:null);this.selectItem(ek);break}case 1:case 2:{var el=false;if(ej){el=this.$1(null)}if(ss.isValue(ei)){for(var em=0,en=ei.length;em<en;em++){el=this.$2(ei[em])||el}}if(el){this.$4()}break}}},$2:function(ei){if(ss.isNullOrUndefined(ei)){return false}if(ss.isNullOrUndefined(ei.get_selectionId())){return false}if(this.isItemSelected$1(ei)){return false}if(!this.containsItem(ei)){return false}this.$9[ei.get_selectionId()]=ei;ei.set_selected(true);return true},clearSelection:function(ei){if(this.$1(ei)){this.$4()}},$1:function(ei){var ej=ss.getKeyCount(this.$9);var ek=ss.getEnumerator(Object.keys(this.$9));try{while(ek.moveNext()){var el=ek.current();if(ss.isValue(ei)&&ss.referenceEquals(el,ei.get_selectionId())){continue}this.$3(this.$9[el])}}finally{ek.dispose()}return ej>0&&ss.getKeyCount(this.$9)!==ej},unselectItem:function(ei){if(!this.isItemSelected$1(ei)){return}this.$3(ei);this.$4()},$3:function(ei){delete this.$9[ei.get_selectionId()];ei.set_selected(false)},handleSelectionChanging:function(ei,ej){var ek=ei;if(ej.get_selecting()){this.selectItem(ek)}else if(this.get_selectionType()!==0){this.unselectItem(ek)}else if(ss.referenceEquals(this.get_selectedItem(),ek)){ej.cancel=true}},handleSelectionChanged:function(ei,ej){var ek=ei;var el=this.isItemSelected$1(ek);if(ek.get_selected()&&!el){this.$2(ek)}else if(!ek.get_selected()&&el){this.$3(ek)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cv,a,{$e:function(ei){this.$d(ss.indexOf(this.get_items(),ei))},$d:function(ei){if(ei<0||ei>=this.get_items().length){return}this.$f=ei;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(ei){dv.prototype.addItem.call(this,ei);if(ei.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(ei)}},onItemDisposed:function(ei,ej){this.$b();dv.prototype.onItemDisposed.call(this,ei,ej)},dispose:function(){this.$b();dv.prototype.dispose.call(this)},selectItem:function(ei){this.selectItemAtIndex(ss.indexOf(this.get_items(),ei))},selectSingleItem:function(ei){var ej=ss.indexOf(this.get_items(),ei);if(ej<0){return}dv.prototype.selectSingleItem.call(this,ei);this.$d(ej)},selectItemAtIndex:function(ei){dv.prototype.selectItem.call(this,this.get_items()[ei]);this.$d(ei)},selectItems:function(ei,ej){this.$c(ei,ej);this.$g=null},$c:function(ei,ej){dv.prototype.selectItems.call(this,ei,ej)},clearSelection:function(ei){dv.prototype.clearSelection.call(this,ei);this.$b()},selectItemForKey:function(ei,ej){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var ek=ei===38;var el=ei===40;if(ek||el){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var em=ss.unbox(this.$f)+(ek?-1:1);if(em<0||em>=this.get_items().length){return null}if(this.get_selectionType()===1&&ej){var en=this.$g;if(ss.isValue(this.$g)){var eo=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var ep=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(em>=eo&&em<=ep){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{en=this.$f}this.selectItem(this.get_items()[em]);this.$g=en}else{this.selectSingleItem(this.get_items()[em]);this.$g=null}this.$f=em;return this.get_items()[em]}return null},handleSelectionChanging:function(ei,ej){var ek=ei;var el=ss.indexOf(this.get_items(),ek);if(el<0){return}if(this.get_selectionType()===0){dv.prototype.handleSelectionChanging.call(this,ei,ej);return}var em=this.$f;var en=this.$g;this.$d(el);if(this.get_selectionType()===2||ej.get_ctrlKey()){if(ej.get_selecting()){this.selectItem(ek)}else{this.unselectItem(ek)}return}if(ej.get_shiftKey()&&(ss.isValue(em)||ss.isValue(en))){this.$g=ss.coalesce(en,em);var eo=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var ep=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var eq=[];for(var er=eo;er<=ep;er++){eq.push(this.get_items()[er])}this.$c(eq,true);ej.cancel=true;return}this.selectSingleItem(ek);if(ss.referenceEquals(this.get_selectedItem(),ek)){ej.cancel=true}},handleSelectionChanged:function(ei,ej){dv.prototype.handleSelectionChanged.call(this,ei,ej);this.$e(ei)}},dv,[ss.IDisposable]);ss.initClass(cw,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?dS.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(ei){dS.prototype.set_selected.call(this,ei);this.get_viewModel().set_selected(ei)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(ei){this.$f.toggleClass('invalid',ei);this.get_viewModel().set_isInvalid(ei)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(ei){this.$f.toggleClass('bold',ei);this.get_viewModel().set_isBold(ei)},get_disabled:function(){return y.prototype.get_disabled.call(this)},set_disabled:function(ei){this.$f.toggleClass(this.get_disabledClass(),ei);y.prototype.set_disabled.call(this,ei)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(ei,ej){switch(ej.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},dS,[bO,ss.IDisposable,ck]);ss.initClass(cx,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(ei){if(this.$5===ei){return}this.$5=ei;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(ei){if(this.$4===ei){return}this.$4=ei;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(ei){if(this.$3===ei){return}this.$3=ei;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(ei){if(this.$1===ei){return}this.$1=ei;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(ei){if(this.$6===ei){return}this.$6=ei;this.notifyPropertyChanged('spotlighted')}},v,[ss.IDisposable,cp]);ss.initClass(cy,a,{create:function(){this.$0();var ei=[];for(var ej=0,ek=this.itemDatas.length;ej<ek;ej++){var el=this.itemIds[ej];var em=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,ej):false);var en=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,ej):false);var eo=this.itemDatas[ej];var ep=new cx(el,eo,em,en,false);ep.set_draggable(ek>1);var eq=ep;ei.push(eq)}return ei},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cz,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(ei){this.$3$1=ei},add_listItemsUpdated:function(ei){this.$3$2=ss.delegateCombine(this.$3$2,ei)},remove_listItemsUpdated:function(ei){this.$3$2=ss.delegateRemove(this.$3$2,ei)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(ei){this.$m=ei||new e(this.element)},useScrollableView:function(ei){this.set_scrollHandler(new d(ei))},$5:function(){for(var ei=0;ei<this.get_viewModel().get_collection().length;ei++){var ej={$:this.get_viewModel().get_collection()[ei]};if(ss.isValue(ej.$)){var ek=this.$k.createListItemContent(ej.$);var el=new cw(ek,ej.$);el.init();el.onDoubleClick(ss.mkdel(this,this.$8));el.set_disabled(!this.get_viewModel().get_enabled());el.set_isInvalid(ej.$.get_isInvalid());el.set_isBold(ej.$.get_isBold());el.onMouseEnter(ss.mkdel({itemViewModel:ej,$this:this},function(em){this.$this.$a(this.itemViewModel.$)}));el.onMouseMove(ss.mkdel({itemViewModel:ej,$this:this},function(em){this.$this.$b(this.itemViewModel.$)}));this.$i(el);this.$l.push(el);this.get_viewModel().addItemToGroup(el);el.addToDom(this.get_dom().get_listItemContainer());ej.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(ei){if(!ss.isValue(ei)){return}this.$h(this.$l[ss.unbox(ei)])},$d:function(ei){if(ss.isValue(ei)){this.$h(this.$l[ss.unbox(ei)])}},$8:function(ei){this.get_viewModel().selectionSubmitted()},$a:function(ei){this.get_viewModel().handleListItemMouseEnter(ei)},$b:function(ei){this.get_viewModel().handleListItemMouseMove(ei)},$9:function(ei){var ej=this.get_viewModel().get_listItemGroup().selectItemForKey(ei.which,ei.shiftKey);if(ss.isValue(ej)){bw.stopEvent(ei);this.$h(ej)}},onViewModelPropertyChanged:function(ei,ej){if(ej.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(ej.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(ek){ek.set_disabled(!this.get_viewModel().get_enabled());this.$i(ek)}))}ss.makeGenericType(u,[cB]).prototype.onViewModelPropertyChanged.call(this,ei,ej)},$f:function(ei,ej){if(ej.get_propertyName()==='draggable'){var ek=this.$7(ei);this.$i(ek)}},$i:function(ei){if(ei.get_viewModel().get_draggable()&&!ei.get_disabled()){bm.attachDragSource(ei.element,new cu(this,ei))}else{bm.removeDragSource(ei.element)}},tabIndex:function(ei){this.get_dom().get_listItemContainer().attr('tabindex',ei.toString());return this},showItemAtIndex:function(ei){this.$h(this.get_itemViews()[ei])},$h:function(ei){if(ss.isNullOrUndefined(ei)){return}var ej=ei.element[0];this.$m.scrollToElement(ej,this.$j())},$e:function(ei,ej){if(ei===ej||ei<0||ei>=this.get_itemViews().length||ej<0||ej>=this.get_itemViews().length){return}var ek=this.get_itemViews()[ei];ek.element.hide();if(ej<ei){ek.element.insertBefore(this.get_itemViews()[ej].element)}else{ek.element.insertAfter(this.get_itemViews()[ej].element)}ek.element.fadeIn();ss.removeAt(this.get_itemViews(),ei);ss.insert(this.get_itemViews(),ej,ek)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(u,[cB]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(ei){ei.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));ei.dispose()}));ss.clear(this.$l)},$g:function(ei){if(ss.isValue(ei)){ei()}},$7:function(ei){for(var ej=0,ek=this.$l.length;ej<ek;ej++){if(ss.referenceEquals(this.$l[ej].get_selectionId(),ei.get_id())){return this.$l[ej]}}return null}},ss.makeGenericType(u,[cB]),[bO,ss.IDisposable,ss.makeGenericType(co,[cB])]);ss.initClass(cA,a,{add_dragStarting:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_dragStarting:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},add_dragEnded:function(ei){this.$1$2=ss.delegateCombine(this.$1$2,ei)},remove_dragEnded:function(ei){this.$1$2=ss.delegateRemove(this.$1$2,ei)},get_dragClassName:function(){return this.$b},set_dragClassName:function(ei){this.$b=ei},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(ei){this.$c=ei},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(ei){this.$1$3=ei},dispose:function(){bm.remove_dragStarted(ss.mkdel(this,this.$8));bm.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(ei,ej){if(ss.isNullOrUndefined(ei)||ss.isNullOrUndefined(ei.get_itemViews())){return null}var ek=ss.indexOf(ei.get_itemViews(),ej);if(ek<0){return null}this.$5(ei,ek);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bm.add_dragStarted(ss.mkdel(this,this.$8));bm.add_dragEnded(ss.mkdel(this,this.$7));var el=this.$1(ei.get_itemViews()[ek]);return new cP(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),el)},$5:function(ei,ej){this.$k=ei;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=ej;this.$l=ej;var ek=ei.get_itemViews()[ej];this.$f=ek.get_viewModel();this.$e=ek.element},$6:function(ei){this.$g=this.$2(ei).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(ei){return $("<div class='tab-list-item-insertion-pointer'>").width(ei)},$1:function(ei){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(ei.get_viewModel())}return new bp(ei)},$8:function(ei){bm.remove_dragStarted(ss.mkdel(this,this.$8));bm.setDragCursor(new Z(null,'move'));bm.setDragCursor(new Z(null,'-webkit-grabbing'));bm.setDragCursor(new Z(null,'-moz-grabbing'));bm.setDragCursor(new Z(null,'grabbing'))},$7:function(ei){bm.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(ei){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var ej=this.$k.get_itemViews()[this.$l].element;var ek=tab.DomUtil.getElementPosition(ej);var el=this.$l>0&&(ei.pageY<this.$j||ei.pageY<ek.y);var em=this.$l<this.$m-1&&(ei.pageY>this.$i||ei.pageY>ek.y+ej.outerHeight());if(!el&&!em){return}var en=(el?-1:1);this.$l+=en;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bm.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var ei=this.$k.get_itemViews()[this.$l].element;var ej=tab.DomUtil.getElementPosition(ei);if(this.$l>this.$n){ej.y+=tab.DoubleUtil.roundToInt(ei.outerHeight())}tab.DomUtil.setElementPosition(this.$g,ej.x,ej.y-this.$h,null,false);this.$g.show()},$4:function(ei){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[bZ,ss.IDisposable]);ss.initClass(cB,a,{add_propsUpdated:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_propsUpdated:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_selectionChanged:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_selectionChanged:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},add_submitSelection:function(ei){this.$2$3=ss.delegateCombine(this.$2$3,ei)},remove_submitSelection:function(ei){this.$2$3=ss.delegateRemove(this.$2$3,ei)},add_listItemMouseEnter:function(ei){this.$2$4=ss.delegateCombine(this.$2$4,ei)},remove_listItemMouseEnter:function(ei){this.$2$4=ss.delegateRemove(this.$2$4,ei)},add_listItemMouseMove:function(ei){this.$2$5=ss.delegateCombine(this.$2$5,ei)},remove_listItemMouseMove:function(ei){this.$2$5=ss.delegateRemove(this.$2$5,ei)},add_selectionModelUpdated:function(ei){this.$2$6=ss.delegateCombine(this.$2$6,ei)},remove_selectionModelUpdated:function(ei){this.$2$6=ss.delegateRemove(this.$2$6,ei)},add_spotlightedItemChanged:function(ei){this.$2$7=ss.delegateCombine(this.$2$7,ei)},remove_spotlightedItemChanged:function(ei){this.$2$7=ss.delegateRemove(this.$2$7,ei)},add_itemMoved:function(ei){this.$2$8=ss.delegateCombine(this.$2$8,ei)},remove_itemMoved:function(ei){this.$2$8=ss.delegateRemove(this.$2$8,ei)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(ei){this.$4=ei;this.$0()},get_sort:function(){return this.$9},set_sort:function(ei){this.$9=ei;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var ei=this.$1(1);return((ei.length>0)?ei[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(ei){if(this.$3===ei){return}this.$3=ei;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);v.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(ei){this.raiseActionEvent$1(cx).call(this,this.$2$4,ei)},handleListItemMouseMove:function(ei){this.raiseActionEvent$1(cx).call(this,this.$2$5,ei)},update:function(ei){this.$7=ss.arrayClone(ei);this.$0();this.$8.items=_.map(this.get_collection(),function(ej){return{data:ej.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(ei){this.$6.addItem(ei)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(ei){var ej=[];var ek=this.$6.get_numberOfSelectedItems();if(ek===1){ej.push(this.$6.get_selectedItem().get_viewModel());return ej}var el=Math.min(ek,ei);for(var em=0,en=this.get_collection().length;em<en&&ej.length<el;em++){if(this.$6.isItemSelected(this.get_collection()[em].get_id())){ej.push(this.get_collection()[em])}}return ej},setSelectedItems:function(ei){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var ej=null;for(var ek=0,el=ei.length;ek<el;ek++){var em=ei[ek];ej=Math.min(ss.coalesce(ej,em),em);this.get_collection()[em].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(ej,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(ei){for(var ej=0,ek=this.get_collection().length;ej<ek;++ej){this.get_collection()[ej].set_isInvalid(ss.contains(ei,ej))}},selectItemById:function(ei){for(var ej=0,ek=this.get_collection().length;ej<ek;ej++){var el=this.get_collection()[ej];if(ss.referenceEquals(el.get_id(),ei)){this.selectItemAtIndex(ej);break}}},selectItemAtIndex:function(ei){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var ej=this.get_collection()[ei];var ek=!ej.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}ej.set_selected(true);if(ek){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ei);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(ei){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var ej=this.get_collection()[ei];if(ss.isNullOrUndefined(ej)){return}ej.set_spotlighted(true);this.$a=ei;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(ei,ej){if(ei===ej){return}var ek=this.get_collection()[ei];ss.removeAt(this.get_collection(),ei);ss.insert(this.get_collection(),ej,ek);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(ei,ej)}}},v,[ss.IDisposable,cp,ss.makeGenericType(cc,[Object])]);ss.initClass(cC,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},dP,[ss.IDisposable]);ss.initClass(cD,a,{});ss.initEnum(cF,a,{none:0,check:1,radio:2});ss.initClass(cG,a,{},dP,[ss.IDisposable]);ss.initClass(cH,a,{},dP,[ss.IDisposable]);ss.initClass(cI,a,{},dP,[ss.IDisposable]);ss.initClass(cJ,a,{$b:function(){var ei=this.dom.domRoot;for(var ej=0;ej<this.menuStack.length;ej++){var ek=this.menuStack[ej];ei=ei.add(ek.domRoot)}return ei},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$a));var ei=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var ej=0;ej<this.menuStack.length;ej++){var ek=this.menuStack[ej];ek.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(u,[cK]).prototype.dispose.call(this)});this.$5(ei)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(ei){return(ss.isValue(ei)?this.$c[ei.id]:null)},getMenuElementForMenuItem:function(ei){var ej=this.getElementForMenuItem(ei);if(ss.isNullOrUndefined(ej)){return null}var ek=this.menuStack[cJ.getMenuItemLevel(ej)-1];if(ss.isNullOrUndefined(ek)){return null}else{return ek.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$c={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var ei=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(ei)},shown:function(ei){if(ss.isValue(ei.minWidth)){var ej=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',ss.unbox(ei.minWidth)-ej+'px')}var ek=989;if(ei.relativeDom.length>0){var el=tab.DomUtil.getComputedZIndex(ei.relativeDom[0]);if(el>=ek){ek=Math.max(1000,el+1)}}this.removeGlass();var em=new bD;em.set_zIndex(ek-1);this.glass=em;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',ek);if(ss.isValue(ei.additionalMenuClass)){this.dom.domRoot.addClass(ei.additionalMenuClass)}dB.getViewport(ss.mkdel(this,function(eo){this.dom.domRoot.appendTo($('body'));this.positionMenu(eo,ei,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show()}));this.disposables.add$1(bw.bindWithDispose($(window),'resize',ss.mkdel(this,function(eo){this.menuViewModel.hide()})));var en=ss.mkdel(this,function(eo){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',en);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',en)}));bE.add_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bE.remove_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},$a:function(ei,ej){var ek=this.$c[ei.id];if(ss.isValue(ek)&&ek.is(':visible')){ek.toggleClass('tabMenuSelectedItem',ej);if(ej){this.scrollToMenuItem(ek)}}},scrollToMenuItem:function(ei){ei.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(ei.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(ei,ej){var ek=ej.data('tabMenuMenuItemLevel');if(ss.isValue(ek)&&ek<this.menuStack.length){return}var el=new cI("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>");el.domRoot.addClass(this.menuViewModel.get_theme().menuClass);el.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(el);this.buildMenu(el,ei.subMenu);this.showSubmenu(ei,ej,el);el.domRoot.focus();el.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(ei,ej){var ek=false;var el=false;var em=false;var en=[];var eo=dH.targetAndClick(ei.domRoot.get(0),ss.mkdel(this,this.$9));this.menuDisposables.add$1(eo);for(var ep=0;ep<ej.menuItems.length;ep++){var eq=ej.menuItems[ep];var er;if(eq.isDivider){er=(new cG).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(eq.isTextInput){var es=this.$6(eq);er=es.domRoot}else if(ss.isInstanceOfType(eq,bc)){er=eq.get_domRoot()}else{var et=(new i(eq.name,eq.enabled)).$2(eq.checkState,eq.iconClass).$3(eq.iconClassTwo).$1(eq.description).$4(eq.subMenu).$5([this.menuViewModel.get_theme().itemClass,eq.itemClass]).$0();ek=ek||et.$2;el=el||et.$3;em=em||et.$1;et.domRoot.data('tabMenuMenuItem',eq);et.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);er=et.domRoot}er.addClass('tabMenuMenuItem');if(eq.isDefault){er.addClass('tabMenuDefaultItem')}}en.push(er);this.$c[eq.id]=er}ei.content.append(en);if(!ek){ei.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(el){ei.domRoot.addClass('tabMenuHasIconTwo')}if(!em){ei.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$a(this.menuViewModel.get_selectedItem(),true)}},$9:function(ei){var ej=$(ei.target).closest('.tabMenuMenuItem');var ek=ej.data('tabMenuMenuItem');if(ss.isNullOrUndefined(ek)){return}else if(ss.isValue(ek.subMenu)){this.activateSubmenu(ek,ej)}else{this.menuViewModel.clickMenuItem(ek)}},onBlur:function(ei){window.setTimeout(ss.mkdel(this,function(){var ej=this.$b();if(ej.index(document.activeElement)<0&&ej.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(ei){ei.stopPropagation();switch(ei.which){case 13:{var ej=ei.data['callback'];if($.isFunction(ej)){ej($(ei.target).val())}break}case 9:{ei.preventDefault();ei.target.blur();this.menuViewModel.iterateFocus((ei.shiftKey?-1:1),null);break}}},$8:function(ei){ei.stopPropagation()},$6:function(ei){var ej=new cH;ej.textInput.keydown(ss.mkdict(['callback',ei.data]),ss.mkdel(this,this.$7)).keypress(ss.mkdel(this,this.$8)).focus(ss.mkdel(this,function(ek){this.get_viewModel().set_focusedItem(ei)})).attr('placeholder',ei.description);if(!ss.isNullOrEmptyString(ei.itemClass)){ej.domRoot.addClass(ei.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){ej.textInput.off()}));return ej},$5:function(ei){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){ei()}else{this.$b().fadeOut(50,ei)}}},ss.makeGenericType(s,[cK]),[bO,ss.IDisposable,ss.makeGenericType(co,[cK])]);ss.initClass(cK,a,{add_shown:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_shown:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_hidden:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_hidden:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},add_menuChanged:function(ei){this.$2$3=ss.delegateCombine(this.$2$3,ei)},remove_menuChanged:function(ei){this.$2$3=ss.delegateRemove(this.$2$3,ei)},add_menuItemClicked:function(ei){this.$2$4=ss.delegateCombine(this.$2$4,ei)},remove_menuItemClicked:function(ei){this.$2$4=ss.delegateRemove(this.$2$4,ei)},add_menuItemSelectionChanged:function(ei){this.$2$5=ss.delegateCombine(this.$2$5,ei)},remove_menuItemSelectionChanged:function(ei){this.$2$5=ss.delegateRemove(this.$2$5,ei)},add_menuItemFocusChanged:function(ei){this.$2$6=ss.delegateCombine(this.$2$6,ei)},remove_menuItemFocusChanged:function(ei){this.$2$6=ss.delegateRemove(this.$2$6,ei)},get_visible:function(){return this.$2$7},set_visible:function(ei){this.$2$7=ei},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(ei){this.$2$8=ei},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(ei){this.$2$9=ei},set_disposeOnHide:function(ei){this.remove_hidden(this.$0);if(ei){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(ei){if(_.isEqual(this.$2,ei)){return}this.$2=ei;if(ss.isValue(this.$2$3)){this.$2$3()}},get_theme:function(){return this.$2$10},set_theme:function(ei){this.$2$10=ei},get_selectedItem:function(){return this.$3},set_selectedItem:function(ei){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(ei)){this.$3=null;return}this.$3=ei;if(ss.isValue(this.$2$5)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(ei){if(ss.referenceEquals(this.$1,ei)){return}if(ss.isValue(this.$1)){if(ss.isValue(this.$2$6)){this.$2$6(this.$1,false)}}if(ss.isNullOrUndefined(ei)||!ei.enabled){this.$1=null;return}this.$1=ei;if(ss.isValue(this.$2$6)){this.$2$6(this.$1,true)}},show:function(ei){this.set_isExpanded(ei.expanded);if(this.get_visible()){return}this.set_visible(true);if(ss.isValue(this.$2$1)){this.$2$1(ei)}},dispose:function(){this.hide();v.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(ei){if(!ei.enabled){return}this.hide();if(ss.isValue(this.$2$4)){this.$2$4(ei)}},iterateFocus:function(ei,ej){var ek=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ek)){return}var el=ej;if(ss.isNullOrUndefined(el)){el=ss.indexOf(ek.menuItems,this.get_focusedItem())}var em=el;var en=em;do{en+=ei;if(en>=ek.menuItems.length){en=0}else if(en<0){en=ek.menuItems.length-1}}while(!ek.menuItems[en].get_selectable()&&en!==em);if(en!==em){this.set_focusedItem(ek.menuItems[en])}},focusByNamePrefix:function(ei){ei=ei.toLowerCase();var ej=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(ej)){return}var ek=ss.indexOf(ej.menuItems,this.get_focusedItem())+1;if(ek>=ej.menuItems.length){ek=0}var el=ek;do{if(ej.menuItems[el].enabled&&!ej.menuItems[el].isDivider){if(ss.isValue(ej.menuItems[el].name)&&ss.startsWithString(ej.menuItems[el].name.toLowerCase(),ei)){this.set_focusedItem(ej.menuItems[el]);return}}++el;if(el>=ej.menuItems.length){el=0}}while(el!==ek)},findMenuForMenuItem:function(ei){if(ss.isNullOrUndefined(ei)){return null}var ej=null;ej=function(ek){if(ss.contains(ek.menuItems,ei)){return ek}for(var el=0;el<ek.menuItems.length;el++){var em=ek.menuItems[el];if(ss.isValue(em.subMenu)){var en=ej(em.subMenu);if(ss.isValue(en)){return en}}}return null};return ej(this.get_menu())},findItemContainingSubMenu:function(ei){if(ss.isNullOrUndefined(ei)||ss.referenceEquals(this.get_menu(),ei)){return null}var ej=null;ej=function(ek){var el=null;for(var em=0;em<ek.menuItems.length;em++){var en=ek.menuItems[em];if(ss.isValue(en.subMenu)){el=(ss.referenceEquals(en.subMenu,ei)?en:ej(en.subMenu));if(ss.isValue(el)){break}}}return el};return ej(this.get_menu())}},v,[ss.IDisposable,cp]);ss.initClass(cM,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bD;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bg.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bg.prototype.bindToEvents.call(this);this.disposables.add$1(bw.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bw.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bg.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bg.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bg.defaultStationaryDialogConfigurer)},onWindowResize:function(ei){this.positionInWindow()},onDocumentKeyDown:function(ei){if(ei.which===27){this.close(null);ei.preventDefault();return}}},bg,[bO,ss.IDisposable]);cM.$ctor1.prototype=cM.prototype;ss.initClass(cN,a,{});ss.initClass(cO,a,{});ss.initClass(cP,a,{get_dragType:function(){return'dragmove'},moveTo:function(ei){if(ss.isValue(this.$4)){this.$4(ei)}},endDragAt:function(ei){if(ss.isValue(this.$3)){this.$3(ei)}},cancelDrag:function(){if(ss.isValue(this.$2)){this.$2()}}},bn);cP.$ctor1.prototype=cP.prototype;ss.initClass(cQ,a,{add_moveAction:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_moveAction:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},add_endAction:function(ei){this.$1$2=ss.delegateCombine(this.$1$2,ei)},remove_endAction:function(ei){this.$1$2=ss.delegateRemove(this.$1$2,ei)},get_offset:function(){return this.$4},set_offset:function(ei){this.$4=ei},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(ei){this.$1=ei},dispose:function(){bm.removeDragSource(this.$3)},calculateOffset:function(ei){var ej=this.$2.position();return{x:ei.pageX-tab.DoubleUtil.roundToInt(ej.left),y:ei.pageY-tab.DoubleUtil.roundToInt(ej.top)}},startDrag:function(ei){this.$4=this.calculateOffset(ei);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cP(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(ei){this.performMove(ei);if(ss.isValue(this.$1$1)){this.$1$1(ei)}},performMove:function(ei){var ej=ei.pageX-this.$4.x;var ek=ei.pageY-this.$4.y;var el=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var em=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);ej=Math.max(0,Math.min(el-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),ej));ek=Math.max(0,Math.min(em-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),ek));tab.DomUtil.setElementPosition(this.$2,ej,ek)},dragEnd:function(ei){this.performMove(ei);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(ei)}}},null,[ss.IDisposable,bV]);ss.initClass(cS,a,{},bf,[bW]);ss.initClass(cT,a,{get_isCtrlKey:function(){return(tab.BrowserSupport.get_isMac()?this.metaKey:this.ctrlKey)},get_gestureInfo:function(){return this},getSelectAction:function(){var ei='simple';var ej=this.get_isCtrlKey();if(this.shiftKey){ei='range'}if(ej){ei='toggle'}return ei},preventDefault:function(){if(typeof(this.originalEvent['preventDefault'])==='function'){this.originalEvent.preventDefault()}},stopPropagation:function(){if(typeof(this.originalEvent['stopPropagation'])==='function'){this.originalEvent.stopPropagation()}}});ss.initClass(cU,a,{render:function(){var ei=this.props.val;var ej={className:cU.$0,style:{width:this.props.cssWidth}};var ek={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bt.div(ek,ej,[React.DOM.div({},ei)])}},ss.makeGenericType(w,[Object]));ss.initClass(cV,a,{});ss.initClass(cW,a,{});ss.initClass(cY,a,{$0:function(ei,ej){this.$1[ei]=Math.max(ej,(ss.keyExists(this.$1,ei)?this.$1[ei]:0))},componentWillMount:function(){this.$1={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$1)}},buildItem:function(ei){var ej=this.props.cols;var ek=this.props.colWidths;var el=this.props.onClick;var em=null;if(!ss.staticEquals(this.props.measureColumnWidths,null)){em=ss.mkdel(this,function(en,eo){this.$0(en,eo)})}return x.createBodyRow({row:ei,cols:ej,colWidths:ek,onClick:el,onRightClick:this.props.onRightClick,isSelected:ss.isValue(ei)&&ss.contains(this.props.selectedKeys,ei.key),showGridLines:this.props.showGridLines,handleReportCellWidth:em})},getUniqueKey:function(ei){return ei.key},onScrollStop:function(ei,ej){if(ei.y===ej.y&&!ss.staticEquals(this.props.fetchNextPage,null)){this.props.fetchNextPage()}}},ss.makeGenericType(cX,[Object,dO]));ss.initClass(cZ,a,{start:function(ei){if(ei.touches.length<this.numTouches){return}if(this.$6){return}this.$8=ei.touches[0];this.$9=ei.touches[1];this.$7=this.$4();this.$5=this.$7;var ej=this.$3();this.$0('pinchStart',ei,ej);this.$6=true},move:function(ei){if(!this.$6){return}if(ei.touches.length<2){this.end(ei);return}this.$8=ei.touches[0];this.$9=ei.touches[1];this.$5=this.$3();this.$0('pinchMove',ei,this.$5)},end:function(ei){if(ei.touches.length>this.numTouches){return}if(this.$6){this.$6=false;var ej=this.$3();this.$0('pinchEnd',ei,ej)}},$4:function(){var ei=this.$8;var ej=this.$9;var ek=ej.pageX-ei.pageX;var el=ej.pageY-ei.pageY;var em=Math.sqrt(ek*ek+el*el);var en=ss.Int32.div(ek,2)+ei.pageX;var eo=ss.Int32.div(el,2)+ei.pageY;var ep={pageX:en,pageY:eo,distance:em};return ep},$3:function(){var ei=this.$8;var ej=this.$9;var ek=ej.pageX-ei.pageX;var el=ej.pageY-ei.pageY;var em=Math.sqrt(ek*ek+el*el);var en=ss.Int32.div(ek,2)+ei.pageX;var eo=ss.Int32.div(el,2)+ei.pageY;var ep={pageX:en,pageY:eo,scale:em/this.$7.distance,deltaX:en-this.$7.pageX,deltaY:eo-this.$7.pageY,startX:this.$7.pageX,startY:this.$7.pageY,deltaXSinceLast:en-this.$5.pageX,deltaYSinceLast:eo-this.$5.pageY};return ep}},bC,[ss.IDisposable]);ss.initClass(da,a,{render:function(){var ei=this.props.val;var ej={title:(ss.isValue(ei)?ei.toString():''),className:da.$0,style:{width:this.props.cssWidth}};var ek={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bt.div(ek,ej,[React.DOM.div({},ei)])}},ss.makeGenericType(w,[Object]));ss.initClass(db,a,{},cz,[bO,ss.IDisposable,ss.makeGenericType(co,[cB])]);ss.initClass(dc,a,{get_viewType:function(){return db},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(ei){}},cB,[ss.IDisposable,cp,ss.makeGenericType(cc,[Object]),bT,cn]);ss.initClass(dd,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(de,a,{});ss.initClass(dg,a,{});ss.initClass(dh,a,{});ss.initClass(dj,a,{});ss.initClass(dl,a,{calculateOffset:function(ei){var ej=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ek={x:0,y:0};switch(this.$5){case'bottomRight':{ek.x=ej.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-ei.pageX;ek.y=ej.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-ei.pageY;break}case'topLeft':{ek.x=ei.pageX-ej.x;ek.y=ei.pageY-ej.y;break}case'left':{ek.x=ei.pageX-ej.x;break}case'right':{ek.x=ej.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-ei.pageX;break}case'top':{ek.y=ei.pageY-ej.y;break}case'bottom':{ek.y=ej.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-ei.pageY;break}}return ek},performMove:function(ei){var ej=tab.PointUtil.fromPosition(this.get_elementToChange().position());var ek=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var el=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var em=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var en=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(ei.pageX+this.get_offset().x,em)-ej.x);this.get_elementToChange().height(Math.min(ei.pageY+this.get_offset().y,en)-ej.y);break}case'topLeft':{this.get_elementToChange().width(ek+(ej.x-Math.max(ei.pageX-this.get_offset().x,0)));this.get_elementToChange().height(el+(ej.y-Math.max(ei.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ej.x+ek-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),ej.y+el-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'left':{this.get_elementToChange().width(ek+(ej.x-Math.max(ei.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ej.x+ek-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),ej.y);break}case'right':{this.get_elementToChange().width(Math.min(ei.pageX+this.get_offset().x,em)-ej.x);break}case'top':{this.get_elementToChange().height(el+(ej.y-Math.max(ei.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),ej.x,ej.y+el-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'bottom':{this.get_elementToChange().height(Math.min(ei.pageY+this.get_offset().y,en)-ej.y);break}}}},cQ,[ss.IDisposable,bV]);ss.initClass(dn,a,{add_contentChanged:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_contentChanged:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_refresh:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_refresh:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},get_content:function(){return this.$3},set_content:function(ei){this.$3=ei;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(ei){this.$4.scrollX=ei;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=ei}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(ei){this.$4.scrollY=ei;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=ei}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(ei){if(ei){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(ei){this.$4={};this.set_hasCustomIndicator(ei);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},v,[ss.IDisposable,cp]);dn.$ctor1.prototype=dn.prototype;ss.initEnum(dp,a,{iScroll:0});ss.initClass(dr,a,{});ss.initClass(ds,a,{get_className:function(){var ei=[ss.makeGenericType(z,[Object]).prototype.get_className.call(this)];ei.push('selectable');if(this.props.isSelected){ei.push('selected');if(this.props.isButtonTextMarkedAsExcluded){ei.push('excluded')}}else{ei.push('unselected');ei.push('tab-DesignTint')}return ei.join(' ')}},ss.makeGenericType(z,[Object]));ss.initClass(dt,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(ei){var ej=ei;if(ss.isValue(ej)){ej=ej.clone()}return{currentlyAppliedSelection:ei,currentSelection:ej}},componentWillReceiveProps:function(ei){if(!ss.referenceEquals(ei.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(ei.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var ei=this.props.allOption&&this.$7().groupSize>0;var ej;ej=dg.generateUniqueKeys(String).call(null,_.map(this.props.items,function(em){return em.label}),[(ei?'__ALL__':null)]);var ek=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){ek+=' apply-cancel'}var el='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return React.DOM.div({className:el},React.DOM.div({className:ek},(ei?ss.mkdel(this,function(){return React.createElement(ds,{border:this.props.borders,label:this.props.allItem.label,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(em){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter})})():null),_.map(this.props.items,ss.mkdel(this,function(em,en){return React.createElement(ds,{border:this.props.borders,label:em.label,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(en),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(eo){this.$4(en)}),key:ej[en],testId:em.testId,getCustomContentBefore:em.getCustomContentBefore,getCustomContentAfter:em.getCustomContentAfter})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return React.DOM.div({className:'tab-ApplyCancelPanel'},React.createElement(A,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(em){this.$0()}),disabled:!this.$6()}),React.createElement(A,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(em){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(ei){this.$7().handleTap(ei);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(du,a,{});ss.initClass(dw,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dx,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(dy,a,{didMount:function(ei,ej){var ek={};if(!ss.staticEquals(ej.pointerClick,null)){ek.tap=function(el){ej.pointerClick(el.reactEvent)}}if(!ss.staticEquals(ej.pointerDown,null)){ek.firstTouch=function(el){ej.pointerDown(el.reactEvent)}}if(!ss.staticEquals(ej.pointerUp,null)){ek.lastTouch=function(el){ej.pointerUp(el.reactEvent)}}this.$0.updateEventHandleSpec(ei,ek)},getHtmlAttributes:function(ei){return this.$0.get_eventHandlingAttributesForReact()},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(dz,a,{});ss.initClass(dB,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(ei){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(ei)}var ej=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(dC,a,{componentDidMount:function(){bE.add_firstTouch(ss.mkdel(this,this.$2));bE.add_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){bE.remove_firstTouch(ss.mkdel(this,this.$2));bE.remove_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){dB.getViewport(ss.mkdel(this,this.$3))}},$2:function(ei,ej){if(ss.isValue(this.$5)&&this.$5.contains(ei.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(ei){if(this.props.isSelecting){dB.getViewport(ss.mkdel(this,this.$3))}},$3:function(ei){var ej=ReactDOM.findDOMNode(this.refs['selector']);var ek=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(ej)||ss.isNullOrUndefined(ek)){return}var el=$(ej);var em=this.props.getDesiredHeight(el);var en=$(ek);var eo=tab.PointUtil.fromPosition(en.offset());var ep=ei.getVisibleRoom(eo);var eq=en.innerHeight();var er=ep.roomBelow-eq-3;var es=ep.roomAbove-3;var et=er>=Math.min(em,es);var eu=(et?er:es);em=Math.min(em,ss.Int32.trunc(eu));var ev=(et?'auto':(eq+'px'));var ew=(et?(eq+'px'):'auto');el.css('bottom',ev);el.css('top',ew);el.height(em);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var ex=this.props.getMinimumWidth(el);if(ex>ep.roomRight){var ey=ex-ep.roomRight+13;el.css('left',-1*ey+'px')}el.css('min-width',ex)}},render:function(){return React.DOM.div({className:ss.coalesce('tab-Dropdown '+this.props.styleClass,''),ref:this.$4},bt.div({tap:ss.mkdel(this,function(ei){this.props.onSelectorToggled()})},{className:'tab-DropdownButton',ref:'relative'},[this.props.renderButton()]),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[React.DOM.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},React.DOM.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}},React.Component);ss.initClass(dD,a,{},cr,[bO,ss.IDisposable]);ss.initClass(dE,a,{updateWidgetState:function(ei){this.get_widget().set_label(ei.label);this.get_widget().set_disabled(ss.coalesce(ei.disabled,false));this.get_widget().set_hoverTooltipText(ei.tooltipText)},handleWidgetPropertyChanged:function(ei,ej){}},ss.makeGenericType(dk,[cr,Object,Object]));ss.initClass(dF,a,{});ss.initClass(dG,a,{add_tabChanged:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},remove_tabChanged:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(ei){if(!ss.referenceEquals(this.$4,ei)){this.$4=ei;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(ei,ej,ek,el){if(ss.keyExists(this.$3,ei)){return}var em=this.$5.createTabLabel(ei,ej);em.domRoot.addClass('tabTabLabelId-'+ei);var en=new dS(em.domRoot);var eo=ss.mkdel(this,function(ep,eq){if(eq.get_propertyName()==='selected'&&en.get_selected()){this.$0(ek.get_rootElement(),ei)}});en.add_propertyChanged(eo);this.$2.add$1(new tab.CallOnDispose(function(){en.remove_propertyChanged(eo)}));this.$2.add$1(en);this.$1.addItem(en);this.$3[ei]=en;this.$5.get_tabs().append(em.domRoot);ek.addToDom(this.$5.get_contentArea());if(el){this.selectTab(ei)}else{en.set_disabled(true)}},selectTab:function(ei){if(!ss.keyExists(this.$3,ei)){return}this.$1.selectItem(this.$3[ei])},enableTab:function(ei,ej){if(!ss.keyExists(this.$3,ei)){return}this.$3[ei].set_disabled(!ej);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(ei,ej){this.$5.get_contentArea().children().hide();ei.show();this.set_activeTabId(ej)}},null,[ss.IDisposable]);ss.initClass(dH,a,{$9:function(ei){this.$1$1=ss.delegateCombine(this.$1$1,ei)},$a:function(ei){this.$1$1=ss.delegateRemove(this.$1$1,ei)},$5:function(ei){this.$1$2=ss.delegateCombine(this.$1$2,ei)},$6:function(ei){this.$1$2=ss.delegateRemove(this.$1$2,ei)},$7:function(ei){this.$1$3=ss.delegateCombine(this.$1$3,ei)},$8:function(ei){this.$1$3=ss.delegateRemove(this.$1$3,ei)},$b:function(ei){this.$1$4=ss.delegateCombine(this.$1$4,ei)},$c:function(ei){this.$1$4=ss.delegateRemove(this.$1$4,ei)},get_stopPropagationOnEvent:function(){return this.$4},set_stopPropagationOnEvent:function(ei){this.$4=ei},dispose:function(){if(ss.isValue(this.handler)){this.handler.dispose();this.handler=null}this.$1.dispose()},onPress:function(ei){this.$9(ei);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(ei)})));return this},onClick:function(ei){this.$5(ei);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6(ei)})));return this},onDoubleClick:function(ei){this.$7(ei);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8(ei)})));this.$0('doubleTap',ss.mkdel(this,this.handleDoubleClickEvent));return this},onRightClick:function(ei){this.$b(ei);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c(ei)})));return this},$0:function(ei,ej){if(!dI.isHandling(this.eventConfig,ei)){var ek={};dI.setHandler(ek,ei,ej);this.handler.update(ek);$.extend(this.eventConfig,ek)}},raiseEvent:function(ei,ej,ek){if(ss.isValue(ej)){if(ek){ei.stopPropagation()}ej(ei)}},handlePressEvent:function(ei){this.$2=ei.pageX;this.$3=ei.pageY;this.raiseEvent(ei,this.$1$1,false)},handleClickEvent:function(ei){this.raiseEvent(ei,this.$1$2,this.$4);if(ei.type==='touchend'){H.preventGhostClick(this.$2,this.$3)}},handleDoubleClickEvent:function(ei){this.raiseEvent(ei,this.$1$3,this.$4)},handleRightClickEvent:function(ei){ei.preventDefault();this.raiseEvent(ei,this.$1$4,this.$4)}},null,[ss.IDisposable]);ss.initClass(dI,a,{get_usingHover:function(){return dI.isHandling(this.config,'hover')||dI.isHandling(this.config,'moving')},isStartEvent:function(ei){return ss.keyExists(this.startEvents,ei)},isMoveEvent:function(ei){return ss.keyExists(this.moveEvents,ei)},isEndEvent:function(ei){return ss.keyExists(this.endEvents,ei)},isOutEvent:function(ei){return ss.keyExists(this.outEvents,ei)},isScrollEvent:function(ei){return ss.keyExists(this.scrollEvents,ei)},isCancelEvent:function(ei){return ss.keyExists(this.cancelEvents,ei)},isMouseEvent:function(ei){return this.handledEvents[ei]===1},isTouchEvent:function(ei){return this.handledEvents[ei]===2},isRightClickEvent:function(ei){return ei==='contextmenu'&&this.handledEvents[ei]===1},isLeftMouseEvent:function(ei){if(this.isMouseEvent(ei.type)){var ej=cO.getMouseButtonEnum(ei.originalEvent);if(ej==='left'){if(tab.BrowserSupport.get_isMac()&&ei.ctrlKey){return false}return true}}return false},suppressHover:function(){if(this.get_usingHover()){this.$3.hover.suppressHover()}},unsuppressHover:function(){if(this.get_usingHover()){this.$3.hover.unsuppressHover()}},cancelHover:function(){if(this.get_usingHover()){this.$3.hover.cancel()}},update:function(ei){$.extend(this.config,ei);var ej=new ss.ObjectEnumerator(this.$3);try{while(ej.moveNext()){var ek=ej.current();var el=ek.value;el.update(this.config)}}finally{ej.dispose()}this.setupPressDrag()},destroy:function(){this.dispose()},dispose:function(){if(ss.isValue(this.$4)){var ei=_.keys(this.handledEvents);for(var ej=0;ej<ei.length;ej++){var ek=ei[ej];this.$4.domElement.removeEventListener(ek.toString(),this.$4.eventHandler)}}if(ss.isValue(this['debugger'])){this['debugger']['destroy']()}dI.$0(this.$3.discrete);dI.$0(this.$3.drag);dI.$0(this.$3.hover);dI.$0(this.$3.pinch)},setupEventNames:function(){this.startEvents['touchstart']=2;this.moveEvents['touchmove']=2;this.endEvents['touchend']=2;this.cancelEvents['touchcancel']=2;if(tsConfig.is_mobile){if(!tsConfig.is_touch){this.startEvents['mousedown']=1;this.moveEvents['mousemove']=1;this.endEvents['mouseup']=1;this.outEvents['mouseout']=1}}else{this.startEvents['mousedown']=1;this.moveEvents['mousemove']=1;this.endEvents['mouseup']=1;this.outEvents['mouseout']=1;this.scrollEvents['scroll']=1;this.endEvents['contextmenu']=1}$.extend(this.handledEvents,this.startEvents,this.moveEvents,this.endEvents,this.outEvents,this.scrollEvents,this.cancelEvents)},makeRecognizers:function(ei){this.$3.drag=new bl(ei);this.$3.discrete=new bh(ei);this.$3.pinch=new cZ(ei);if(this.get_usingHover()){this.$3.hover=new bL(ei)}},configureDomElem:function(ei){if(!ss.equalsT(ei.tagName.toLowerCase(),'input')&&(ss.isNullOrUndefined(ei.style['user-select'])||ss.staticEquals(ei.style['user-select'],''))&&(ss.isNullOrUndefined(ei.style['-webkit-user-select'])||ss.staticEquals(ei.style['-webkit-user-select'],''))){ei.style['-webkit-user-select']='none'}ei.style['-webkit-touch-callout']='none';ei.style['-webkit-tap-highlight-color']='transparent';ei.style['-ms-touch-action']='none'},handler:function(ei){if(!tsConfig.is_mobile&&this.isTouchEvent(ei.type)){if(tab.DomUtil.handleTouchEvents(ei.target)){ei.originalEvent.preventDefault()}else{return}}if(this.mousedown&&dI.$2()!=='left'){this.mousedown=false}if(ei.touches.length>1&&!this.$1(ei)){var ej=new ss.ObjectEnumerator(this.$3);try{while(ej.moveNext()){var ek=ej.current();var el=ek.value;el.cancel()}}finally{ej.dispose()}return}if(this.isScrollEvent(ei.type)){this.mousedown=false}else if(this.isOutEvent(ei.type)){if(this.get_usingHover()){this.$3.hover.out(ei)}}else if(this.isStartEvent(ei.type)){this.handlingContextMenu=false;this.lastMouseButtonPressed=cO.getMouseButtonEnum(ei.originalEvent);if(this.isMouseEvent(ei.type)){if(!this.isLeftMouseEvent(ei)){return}this.mousedown=true;dI.$3(this.lastMouseButtonPressed)}if(this.get_usingHover()){this.$3.hover.start(ei)}this.$3.discrete.start(ei);this.$3.drag.start(ei);if(ss.isValue(this.$3.pinch)){this.$3.pinch.start(ei)}}else if(this.isMoveEvent(ei.type)){if(this.get_usingHover()){this.$3.hover.move(ei)}if(this.isMouseEvent(ei.type)&&this.lastMouseButtonPressed!=='left'){return}if(this.isMouseEvent(ei.type)&&!this.mousedown){return}this.$3.discrete.move(ei);this.$3.drag.move(ei);if(ss.isValue(this.$3.pinch)){this.$3.pinch.move(ei)}}else{dI.$3('none');if(this.isMouseEvent(ei.type)){this.mousedown=false}if(this.get_usingHover()){this.$3.hover.end(ei)}if(ss.isValue(this.$3.pinch)){this.$3.pinch.end(ei)}this.$3.drag.end(ei);if(this.isMouseEvent(ei.type)&&(this.isRightClickEvent(ei.type)||this.lastMouseButtonPressed==='right')){this.handlingContextMenu=true}if(tab.BrowserSupport.get_isMac()&&this.handlingContextMenu&&this.isMouseEvent(ei.type)&&ei.type==='mouseup'){return}if(this.handlingContextMenu&&this.isMouseEvent(ei.type)&&!this.isRightClickEvent(ei.type)){return}this.$3.discrete.end(ei)}},$0:function(ei){var ej=ss.mkdel(this,function(en){var eo=new cT(en,this.config.domElem,null);this.handler(eo)});this.$4={domElement:ei,eventHandler:ej};var ek=_.keys(this.handledEvents);for(var el=0;el<ek.length;el++){var em=ek[el];ei.addEventListener(em.toString(),ej,false)}},$2:function(){return dI.isHandling(this.config,'pressDragStart')||dI.isHandling(this.config,'pressDragMove')||dI.isHandling(this.config,'pressDragEnd')||dI.isHandling(this.config,'doublePressDragStart')||dI.isHandling(this.config,'doublePressDragMove')||dI.isHandling(this.config,'doublePressDragEnd')},$1:function(ei){var ej=ei.touches[0].target;var ek=ei.touches[1].target;if(!ss.isInstanceOfType(ej,Element)||!ss.isInstanceOfType(ek,Element)){return false}var el=document.body;var em=ei.currentTarget;var en=false;while(!en&&ss.isValue(ej)&&ss.isValue(ek)){en=true;if(!ss.referenceEquals(ej,em)&&!ss.referenceEquals(ej,el)&&ss.isInstanceOfType(ej,Element)){ej=ej.parentNode;en=false}if(!ss.referenceEquals(ek,em)&&!ss.referenceEquals(ek,el)&&ss.isInstanceOfType(ek,Element)){ek=ek.parentNode;en=false}if(ss.referenceEquals(ej,ek)){en=true}}return ss.referenceEquals(ej,ek)},setupPressDrag:function(){if(!this.$2()){return}var ei=ss.mkdel(this,function(el){if(dI.isHandling(this.config,'press')){var em=dI.$1(this.config,'press');em(el)}var en={};dI.setHandler(en,'dragStart',dI.$1(this.config,'pressDragStart'));dI.setHandler(en,'dragMove',dI.$1(this.config,'pressDragMove'));dI.setHandler(en,'dragEnd',dI.$1(this.config,'pressDragEnd'));dI.setHandler(en,'pinchStart',dI.$1(this.config,'doublePressDragStart'));dI.setHandler(en,'pinchMove',dI.$1(this.config,'doublePressDragMove'));dI.setHandler(en,'pinchEnd',dI.$1(this.config,'doublePressDragEnd'));this.$3.drag.update(en);if(ss.isValue(this.$3.pinch)){this.$3.pinch.update(en)}});var ej=ss.mkdel(this,function(el){if(dI.isHandling(this.config,'lastTouch')){var em=dI.$1(this.config,'lastTouch');em(el)}this.$3.drag.update(this.config);if(ss.isValue(this.$3.pinch)){this.$3.pinch.update(this.config)}});var ek={};dI.setHandler(ek,'press',ei);dI.setHandler(ek,'lastTouch',ej);this.$3.discrete.update(ek)}},null,[ss.IDisposable]);dI.$ctor1.prototype=dI.prototype;ss.initClass(dJ,a,{get_eventHandlingAttributesForReact:function(){return this.$2$1},set_eventHandlingAttributesForReact:function(ei){this.$2$1=ei},updateEventHandleSpec:function(ei,ej){this.config=ej||{};this.config.domElem=ei;this.makeRecognizers(this.config);this.configureDomElem(ei);this.setupPressDrag()},$5:function(){var ei={};var ej=ss.mkdel(this,function(en){var eo=new cT(en.nativeEvent,this.config.domElem,en);this.handler(eo)});var ek=ss.getEnumerator(Object.keys(this.handledEvents));try{while(ek.moveNext()){var el=ek.current();var em=dJ.$0(el);if(ss.isValue(em)){ei[em]=ej}else{}}}finally{ek.dispose()}return ei}},dI,[ss.IDisposable]);ss.initClass(dK,a,{componentWillMount:function(){this.setState(this.$4)},render:function(){var ei=this.props.rows;if(ss.isNullOrUndefined(ei)||ei.length===0){return React.DOM.div({className:'tab-table-body'})}var ej=this.$2();var ek=this.state.indexOfFirstVisibleSection*dK.sectionHeight;var el=React.DOM.div({style:{paddingTop:ek,height:ei.length*x.outerHeight-ek}},ej);var em=[];em.push('tab-table-body');if(this.props.showHeaders){em.push('tab-table-body-below-headers')}return React.DOM.div({className:em.join(' ')},el)},$2:function(){return React.createElement(cY,{items:_.map(this.props.rows,function(ei){return{data:ei}}),fetchNextPage:this.props.fetchNextPage,cols:this.props.cols,colWidths:this.props.colWidths,measureColumnWidths:this.props.measureColumnWidths,onClick:this.props.onClick,onRightClick:this.props.onRightClick,selectedKeys:this.props.selectedKeys,showGridLines:this.props.showGridLines})},componentDidMount:function(){this.$0(this.props.requestedFocusedRowIndex)},$1:function(){var ei=this.props.reportScrollLeft;if(!ss.staticEquals(ei,null)){ei(ReactDOM.findDOMNode(this).scrollLeft)}},componentWillReceiveProps:function(ei){if(!ss.referenceEquals(ei.requestedFocusedRowIndex,this.props.requestedFocusedRowIndex)){this.$0(ei.requestedFocusedRowIndex)}},$0:function(ei){if(ss.isValue(ei)){this.setState({focusedRowIndex:Math.min(Math.max(ss.unbox(ei),0),this.props.rows.length-1)},ss.mkdel(this,function(){this.$3();return null}))}},$3:function(){var ei=$(ReactDOM.findDOMNode(this));var ej=tab.DoubleUtil.roundToInt(ei.scrollTop());var ek=tab.DoubleUtil.roundToInt(ei.height())-dN.scrollbarWidth;var el=ss.unbox(this.state.focusedRowIndex)*x.outerHeight;var em=el+x.outerHeight;if(el<ej){window.setTimeout(function(){ei.scrollTop(el)},0)}else if(em>ej+ek){window.setTimeout(function(){ei.scrollTop(em-ek)},0)}}},React.Component);ss.initClass(dL,a,{});ss.initEnum(dM,a,{ascending:0,descending:1});ss.initClass(dN,a,{componentWillReceiveProps:function(ei){this.$4(ei)},componentWillMount:function(){this.setState({isShowingLoadingIndicator:true})},componentDidMount:function(){var ei=ReactDOM.findDOMNode(this).getBoundingClientRect();this.$7=Math.ceil(ei.right-ei.left);this.$4(this.props)},$5:function(ei,ej){var ek={};ek[ei.name]=ej},$3:function(ei){this.$b=ei;this.$4(this.props)},$2:function(ei){this.$a=ei;this.$4(this.props)},$4:function(ei){if(ss.isValue(this.$a)&&(!ei.showHeaders||ss.isValue(this.$b))){var ej={};var ek={};var el=0;_.each(ei.cols,ss.mkdel(this,function(et){var eu=et.name;var ev;if(ss.isValue(et.preferredWidth)){ev=ss.unbox(et.preferredWidth)}else{ev=Math.max(this.$a[eu],(ss.isValue(this.$b)?this.$b[eu]:0))}ej[eu]=ev;var ew=(ss.isNullOrUndefined(ei.maxColumnWidth)?dN.$2:ss.unbox(ei.maxColumnWidth));ek[eu]=((ew===-1)?ev:Math.min(ev,dN.$2));el+=ek[eu]}));var em=this.$7-el;var en=0;for(var eo=0;eo<ei.cols.length&&em>0;eo++){var ep=ei.cols[eo];var eq=ej[ep.name]-ek[ep.name];if(eq>0){var er=Math.min(eq,em);ek[ep.name]+=er;em-=er}if(ep.growToFit){en+=1}}if(em>0&&en>0){var es=ss.Int32.div(em,en);_.each(ei.cols,function(et){if(et.growToFit){ek[et.name]+=es}})}this.setState({colWidths:{widths:ek}});if(!ss.staticEquals(ei.reportWidth,null)){ei.reportWidth(el+dN.scrollbarWidth)}}return null},render:function(){var ei=this.props.cols;var ej=this.props.rows;var ek=this.state.colWidths;var el=this.state.scrollLeft;var em=null;var en=null;if(this.props.showHeaders){em=bH.createHeaderRow({key:'header',cols:ei,colWidths:ek||this.$1(),sortKey:this.props.sortKey,sortAscending:this.props.sortAscending,onHeaderClicked:this.props.onHeaderClicked,measureColumnWidths:this.$9,scrollLeft:el,onColumnResize:this.$c})}if(ss.isValue(ej)&&ej.length>0){en=dK.createTableBody({key:'body',showHeaders:this.props.showHeaders,showGridLines:this.props.showGridLines,cols:ei,colWidths:ek,measureColumnWidths:this.$8,reportScrollLeft:this.$6,rows:ej,requestedFocusedRowIndex:this.props.requestedFocusedRowIndex,selectedKeys:this.props.selectedKeys||dN.$1,onClick:this.props.onCellClick,onRightClick:this.props.onCellRightClick,fetchNextPage:this.props.fetchNextPage})}else{en=bs.createEmptyBody({key:'emptyBody',emptyChild:React.DOM.div({},this.props.emptyChild)})}var eo=new dr;eo.augmentedScrollY=false;eo.extraCssClass='tab-react-data-grid-hscroll';eo.mouseWheel=false;eo.scrollbars=true;eo.scrollX=true;eo.scrollY=false;var ep=eo;var eq=dq.createScroller(ep,[React.DOM.div({className:'tb-react-data-grid',tabIndex:0,style:{outline:'none',height:this.props.height}},em,en)]);return React.DOM.div({ref:'TableComponent'},eq)},$1:function(){if(ss.isNullOrUndefined(this.$b)){return null}var ei=0;var ej=0;_.each(this.props.cols,ss.mkdel(this,function(en){if(ss.isValue(en.preferredWidth)){ei+=ss.unbox(en.preferredWidth)}else{ei+=this.$b[en.name]}if(en.resizable){ej++}}));var ek=this.$7-dN.scrollbarWidth-ei;var el={widths:{}};if(ek>0&&ej>0){var em=ss.Int32.div(ek,ej);_.each(this.props.cols,ss.mkdel(this,function(en){if(en.resizable){var eo;if(ss.isValue(en.preferredWidth)){eo=ss.unbox(en.preferredWidth)}else{eo=this.$b[en.name]}el.widths[en.name]=eo+em}}))}else if(ej===0){el.widths=this.$b}return el},$0:function(ei){if(ei!==this.state.scrollLeft){this.setState({scrollLeft:ei})}}},React.Component);ss.initClass(dO,a,{});ss.initClass(dQ,a,{render:function(){var ei='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var ej=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(bB,{styleClass:'tab-TextDropdownButton '+ej,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return React.DOM.span({className:'tab-Icon '+this.props.selectionIconClass,key:'icon'})})():null),React.DOM.span({className:ei,key:'text'},this.props.selectionText)]})})}},df);ss.initClass(dT,a,{add_toggled:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_toggled:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},get_toggleValue:function(){return this.$0},set_toggleValue:function(ei){if(ei!==this.get_toggleValue()){this.raiseToggled()}this.$0=ei},get_data:function(){return this.$2$2},set_data:function(ei){this.$2$2=ei},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},v,[ss.IDisposable,cp]);ss.initEnum(dU,a,{left:0,center:1,right:2});ss.initEnum(dV,a,{left:0,right:1});ss.initEnum(dW,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(dX,a,{});dX.$ctor1.prototype=dX.prototype;ss.initClass(dY,a,{},dP,[ss.IDisposable]);ss.initEnum(dZ,a,{standard:0,minimalist:1});ss.initClass(ea,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},set_width:function(ei){this.element.width(ei+'px')},get_height:function(){return this.element.outerHeight(false)},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(ei){if(ei.which===27&&!(ei.metaKey||ei.shiftKey||ei.ctrlKey||ei.altKey)){this.get_viewModel().hide(false);ei.preventDefault();ei.stopPropagation()}}))},dispose:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(u,[eb]).prototype.dispose.call(this)},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(ei,ej){if(ej.get_propertyName()==='mode'){this.updateMode()}else if(ej.get_propertyName()==='size'){this.positionPopup()}else if(ej.get_propertyName()==='content'){this.updateContent()}},shown:function(){var ei=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(ei.theme===1){this.element.addClass('tabUberPopupMinimal')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(ei.additionalClassNames)){ei.additionalClassNames.forEach(ss.mkdel(this,function(ej){this.element.addClass(ej)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bD;this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){bE.add_firstTouch(ss.mkdel(this,this.$8));bE.add_dismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){bE.remove_firstTouch(ss.mkdel(this,this.$8));bE.remove_dismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(ei,ej){if(this.get_template().domRoot.get(0).contains(ei.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var ek=0;ek<this.popupViewModel.options.globalTouchWhitelist.length;ek++){var el=this.popupViewModel.options.globalTouchWhitelist[ek];if(el.contains(ei.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);this.positionPopupHorizontally();if(this.popupViewModel.options.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}},positionPopupHorizontally:function(){var ei=this.get_viewModel().options;var ej=this.get_viewModel().get_relativeElement();var ek=$(ej.prop('ownerDocument'));var el=this.get_width();var em=tab.DomUtil.getPageOffset(ej).left;if(ei.horizontalAlign===1){em+=ej.outerWidth(false)/2;em-=el/2}else if(ei.horizontalAlign===2){em+=ej.outerWidth(false);em-=el}var en=em+el-ek.width();if(en>0){em-=en}if(ei.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(em,0)+'px')}else{var eo=$('body').outerWidth(true);var ep=eo-(em+el);ep-=Math.max(0,ep+el-eo);this.element.css('left','');this.element.css('right',ep+'px')}if(ei.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(ej.outerWidth(false)))}},$9:function(){var ei=this.get_viewModel().options;var ej=this.get_viewModel().get_relativeElement();var ek=$('body');var el=tab.DomUtil.getPageOffset(ej).top;if(ei.preferUp){el+=1;el+=(ei.coverRelativeElement?ej.outerHeight(false):0);var em=ek.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(em-el)+'px')}else{el-=1;el+=(ei.coverRelativeElement?0:ej.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(el)+'px')}},positionPopupVertically:function(){var ei=this.get_viewModel().options;var ej=this.get_viewModel().get_relativeElement();var ek=tab.DomUtil.getPageOffset(ej);var el=tab.DomUtil.roomAroundPosition(ek);var em=ej.innerHeight();var en=((ei.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());var eo=null;if(ei.limitPopupHeight){eo=Math.max(el.roomAbove-en,el.roomBelow-em-en)}if(ss.isValue(ei.maxPopupHeight)){var ep=eo;if(ss.isNullOrUndefined(ep)){ep=Number.MAX_VALUE}var eq=ep;eo=Math.min(eq,ss.unbox(ei.maxPopupHeight))}if(ss.isValue(eo)){this.element.css('max-height',eo+'px')}var er=this.get_height();var es=el.roomBelow>=er+em+en;var et=el.roomAbove>er+en;var eu=ek.top+em;var ev=ek.top-er;var ew;if(ei.preferUp&&et){ew=ev}else if(es){ew=eu}else if(et){ew=ev}else if(el.roomBelow>=el.roomAbove){ew=ek.top-(er-el.roomBelow+en)}else{ew=ek.top-el.roomAbove+en}this.element.css('top',ew+'px')},updateContent:function(){var ei=this.get_template().content;if(ss.isValue(this.contentView)){this.contentView.dispose()}ei.children().detach();this.contentView=cV.newView$1(ss.makeGenericType(co,[cp])).call(null,this.popupViewModel.get_content().get_viewType(),[this.popupViewModel.get_content().get_viewModel()]);if(this.visible){this.contentView.addToDom(ei)}}},ss.makeGenericType(u,[eb]),[bO,ss.IDisposable,ss.makeGenericType(co,[eb])]);ss.initClass(eb,a,{add_shown:function(ei){this.$2$1=ss.delegateCombine(this.$2$1,ei)},remove_shown:function(ei){this.$2$1=ss.delegateRemove(this.$2$1,ei)},add_hidden:function(ei){this.$2$2=ss.delegateCombine(this.$2$2,ei)},remove_hidden:function(ei){this.$2$2=ss.delegateRemove(this.$2$2,ei)},add_commit:function(ei){this.$2$3=ss.delegateCombine(this.$2$3,ei)},remove_commit:function(ei){this.$2$3=ss.delegateRemove(this.$2$3,ei)},get_mode:function(){return this.options.popupMode},set_mode:function(ei){if(this.options.popupMode===ei){return}this.options.popupMode=ei;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(ei){this.$0=ei;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(ei){this.remove_hidden(ss.mkdel(this,this.dispose));if(ei){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(ei){this.$1=function(){return ei}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(ei){this.$2$4=ei},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(ei){if(ei&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(ei){this.disposables.add$1(ei)}},v,[ss.IDisposable,cp]);eb.$ctor1.prototype=eb.prototype;ss.initClass(ec,a,{});ss.initClass(ed,a,{},cL);ss.initClass(ee,a,{},cL);ss.initClass(ef,a,{render:function(){var ei=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){ei=this.props.disabledText}var ej=React.DOM.input({type:'text',value:ei,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,tabIndex:this.props.tabIndex,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)});var ek=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},bt.div({tap:ss.mkdel(this,function(em){this.$7()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-up'})]),bt.div({tap:ss.mkdel(this,function(em){this.$2()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-down'})]));var el=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},ej,ek);if(ss.isValue(this.props.label)){el=React.DOM.div(null,React.DOM.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),el)}el=React.DOM.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},el);if(ss.isValue(this.props.extraCssClass)){el=React.DOM.div({className:this.props.extraCssClass},el)}return el},componentWillReceiveProps:function(ei){this.setState(ef.$0(ei.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(ei){this.$1();var ej=ei.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:ej.value})},$0:function(ei){this.$1();var ej={};if(!ss.Int32.tryParse(this.state.displayValue,ej)){ej.$=this.state.value}this.$a(ej.$)},$5:function(ei){switch(ei.keyCode){case 38:{this.$1();this.$9(this.state.pendingValue+this.props.stepSize);break}case 40:{this.$1();this.$9(this.state.pendingValue-this.props.stepSize);break}case 13:{this.$0(null);break}}},$6:function(ei){switch(ei.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(ei){this.$1();if(this.props.actionDelay===0){this.$a(ei)}else{this.$9(ei);this.$b=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b)},$a:function(ei){ei=this.$4(ei);var ej=ei!==this.state.value;this.setState(ef.$0(ei));if(ej&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(ei)}},$4:function(ei){if(ss.isValue(this.props.minValue)){ei=Math.max(ei,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){ei=Math.min(ei,ss.unbox(this.props.maxValue))}return ei},$9:function(ei){ei=this.$4(ei);this.setState({value:this.state.value,pendingValue:ei,displayValue:ei.toString()})}},React.Component);ss.initClass(eg,a,{});ss.setMetadata(co,{variance:[1]});(function(){dq.$1=null;dq.$1={};dq.$1[0]=b})();(function(){g.$3=new Array(10)})();(function(){h.$0="\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){j.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){k.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){m.$0="<span class='tabTabLabel' />"})();(function(){l.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){eh.$2='widgetInstance';eh.$1='tab-widget';eh.$0='.tab-disableSelection';eh.$3=0;eh.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}eh.selectableNodeClass='tab-selectable'})();(function(){cT.$0=0})();(function(){cO.$2=null;cO.$3=null;cO.$1=false})();(function(){cN.$8=null})();(function(){H.suppressClickBustingClass=SharedWidgets.SuppressClickBustingClass;H.$2=25;H.$3=null;H.$1$1=null})();(function(){Z.noOp=new Z('cursors/dragnop-black.cur','auto');Z.delete$1=new Z('cursors/dragdel-black.cur','auto');Z.copy=new Z('cursors/dragcopy-black.cur','auto');Z.move=new Z('cursors/dragmove-black.cur','auto')})();(function(){bw.$0=0})();(function(){bE.$1$1=null;bE.$1$2=null;bE.$1$3=null;bE.$1$4=null;bE.$1$5=null;bE.$1$6=null;bE.$1$7=null})();(function(){bL.hoverTime=150;bL.fastHoverTime=120})();(function(){bh.$0=390;bh.$1=500;bh.$2=750})();(function(){bC.defaultSlop=5;bC.$1='tab-'})();(function(){bD.$1="<div class='tab-glass clear-glass'></div>";bD.$0='clear-glass';bD.$2='opaque-glass'})();(function(){dI.$4='none'})();(function(){bm.$g='tabDragSource';bm.$i='.tabDragSource';bm.$h='tabDragSource';bm.$j='tabDropTarget';bm.$l='.tabDropTarget';bm.$k='tabDropTarget';bm.$n=null;bm.$o=null;bm.$v=null;bm.$u=null;bm.$x=null;bm.$w=0;bm.$m=null;bm.$t=null;bm.$q=null;bm.$r=null;bm.$y=[];bm.$s=null;bm.$p=null;bm.$1$1=null;bm.$1$2=null;bm.$1$3=null;bm.$1$4=null;bm.$1$5=null;bm.$t={};bm.$t.dragStart=bm.dragStart;bm.$t.dragMove=bm.dragMove;bm.$t.dragEnd=bm.dragEnd;bm.$t.pressEnd=bm.dragEnd;bm.$t.firstTouch=bm.firstTouch})();(function(){dJ.$1=null})();(function(){da.$0='tab-table-bcell tab-table-textcell'})();(function(){cU.$0='tab-table-bcell tab-table-numcell'})();(function(){x.$0='bodyRow';x.innerHeight=30;x.outerHeight=x.innerHeight;x.$1='tab-table-brow-selected'})();(function(){dS.defaultSelectedClassName='selected';dS.selectedProperty='selected';dS.toggleClassProperty='selectedClass';dS.$1=0})();(function(){cs.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";cs.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";cs.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";cs.$3="<span class='innerIcon'></span>";cs.$6='.label';cs.$1='hide';cs.$7='tab-unification-check';cs.$8='tab-img-check';cs.$9='tab-unification-radio'})();(function(){dR.textPropertyName='text'})();(function(){G.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){I.$1=10;I.$0=300;I.$2=0})();(function(){dt.$0='__ALL__'})();(function(){dB.getSpiffBrowserViewportFunc=null})();(function(){dC.$2='selector';dC.$0='relative';dC.$1=3;dC.$3=13})();(function(){cE.$0=0})();(function(){R.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){cV.$2=null})();(function(){cI.htmlTemplate="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"})();(function(){cG.$0="<div class='tabMenuItemDivider' role='separator' />"})();(function(){cH.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cJ.defaultMenuItem='tabMenuDefaultItem';cJ.classMenuItem='tabMenuMenuItem';cJ.keyMenuItem='tabMenuMenuItem';cJ.menuFadeDurationMs=50;cJ.$3='tabMenuMenuItemLevel';cJ.$1='tabMenuHasIconTwo';cJ.$0=989;cJ.$2=1000})();(function(){T.iconPressedClass='tabComboBoxNoIconPressed';T.invalidClass='invalid';T.noIconClass='tabComboBoxNoIcon';T.pressedClass='pressed';T.disabledClass='disabled';T.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cw.listItemSpotlightedClassName='tab-list-item-spotlighted';cw.boldClass='bold';cw.invalidClass='invalid'})();(function(){cx.selectedProperty='selected';cx.invalidProperty='invalid';cx.draggableProperty='draggable';cx.spotlightedProperty='spotlighted';cx.boldProperty='bold'})();(function(){cB.collectionProperty='collection';cB.enabledProperty='enabled'})();(function(){cC.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){cV.registerType(db,db).call(null)})();(function(){dX.startingGlassZIndex=987})();(function(){ea.minimalistThemeClass='tabUberPopupMinimal'})();(function(){eb.modeProperty='mode';eb.sizeProperty='size';eb.contentProperty='content'})();(function(){V.listClassName='tabCompositeSearchWidgetList';V.$0=400})();(function(){cr.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";cr.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";cr.$2="<span class='tab-text-button'><span class='label hide'></span></span>";cr.$3='.label'})();(function(){X.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){ba.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){bd.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){be.$1=1;be.$0=9})();(function(){bb.centeredVerticallyClassName='centeredVertically';bb.scrollableClassName='scrollable';bb.$1=8})();(function(){cP.$0=function(){}})();(function(){cW.$c=2500;cW.$d=75;cW.$j=null;cW.$k=null;cW.$e=0;cW.$f=0;cW.$i=null;cW.$h=null;cW.$g=false;cW.$1$1=null;cW.init()})();(function(){bg.positionProperty='position';bg.isActiveProperty='isActive';bg.$0='active';bg.$2='.tab-dialogCloseButton';bg.$1='.tab-dialogBodyContainer';bg.$7='.tab-dialogTitleBar';bg.$8='.tab-dialogTitle';bg.$5='.tab-dialogResizer';bg.$6='.tab-dialogSpinnerContainer';bg.$4="\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bg.$9=null;bg.$3=new cS;bg.defaultDraggableDialogConfigurer=null;bg.defaultStationaryDialogConfigurer=null;bg.defaultDraggableDialogConfigurer=function(ei){var ej=new cQ(ei.$u,ei.$g,false);ej.set_documentBodySize('useClientSize');return ej};bg.defaultStationaryDialogConfigurer=function(){return null}})();(function(){br.$0='editing';br.$1='hover'})();(function(){bA.$6='tab-showFocusIndicator';bA.$8=false;bA.$7=null})();(function(){cA.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new dy}})();(function(){dF.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){dN.dataGridClass='tb-react-data-grid';dN.$0='TableComponent';dN.$2=200;dN.$1=[];dN.scrollbarWidth=20;dN.minimumColumnWidth=35})();(function(){dK.sectionRows=10;dK.sectionHeight=dK.sectionRows*x.outerHeight})();(function(){dY.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/></div>"})();(function(){ec.designTint='tab-DesignTint';ec.text='tab-Text';ec.bold='tab-bold';ec.italic='tab-italic';ec.underline='tab-underline';ec.darkBackground='tab-darkBackground';ec.title='tab-Title';ec.button='tab-UnifiedButton';ec.icon='tab-Icon';ec.iconButton='tab-IconBtn';ec.vScrollable='tab-vScrollable';ec.selectableButtonGroup='tab-SelectableButtonGroup';ec.selectionMark='tab-SelectionMark';ec.active='active';ec.hover='hover';ec.hitTestArea='tab-HitTestArea';ec.focused='focused';ec.bordered='bordered';ec.disabled='disabled';ec.selectable='selectable';ec.selected='selected';ec.unselected='unselected';ec.excluded='excluded';ec.search='tab-Search';ec.searchField='tab-UnifiedSearchField';ec.searchClearButton='tab-SearchClearButton';ec.positioningContainer='tab-PositioningContainer';ec.searchInput='tab-SearchInput';ec.ghostText='tab-GhostText';ec.textInput='tab-TextInput';ec.glass='tab-Glass';ec.catQF='tab-NewQF-CategoricalQuickFilter';ec.titleAndCtrl='tab-TitleAndControls';ec.horizontalLayout='tab-HorizontalLayout';ec.qfTitleBarButton='tab-NewQFTitleBarBtn';ec.dropdownButtonIcon='tab-NewQFTitleBarDropdownBtnIcon';ec.searchButtonIcon='tab-NewQFTitleBarSearchBtnIcon';ec.clearButtonEnabledIcon='tab-NewQFTitleBarFilteredBtnIcon';ec.clearButtonDisabledIcon='tab-NewQFTitleBarNonFilteredBtnIcon';ec.domainButtonAllIcon='tab-NewQFTitleBarDomainAllIcon';ec.domainButtonContextIcon='tab-NewQFTitleBarDomainContextIcon';ec.domainButtonRelevantIcon='tab-NewQFTitleBarDomainRelevantIcon';ec.applyCancelPanel='tab-ApplyCancelPanel';ec.applyCancel='apply-cancel';ec.apply$1='apply';ec.cancel='cancel'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,b,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};b.__typeName='tab.ICategoricalLegendView$1';ss.initGenericInterface(b,a,1);global.tab.ICategoricalLegendView$1=b;var c=function(){};c.__typeName='tab.ICategoricalLegendViewModel';global.tab.ICategoricalLegendViewModel=c;var d=function(){};d.__typeName='tab.IContinuousSlider';global.tab.IContinuousSlider=d;var e=function(){};e.__typeName='tab.IContinuousSliderViewModel';global.tab.IContinuousSliderViewModel=e;var f=function(){};f.__typeName='tab.ICurrentPagePanelWidgetShim';global.tab.ICurrentPagePanelWidgetShim=f;var g=function(){};g.__typeName='tab.IFilterPanelWidgetShim';global.tab.IFilterPanelWidgetShim=g;var h=function(){};h.__typeName='tab.ILegacyDojoUIModule';global.tab.ILegacyDojoUIModule=h;var i=function(){};i.__typeName='tab.ILegacyDojoWidgetMaker';global.tab.ILegacyDojoWidgetMaker=i;var j=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,j,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};j.__typeName='tab.ILegacyLegendView$1';ss.initGenericInterface(j,a,1);global.tab.ILegacyLegendView$1=j;var k=function(){};k.__typeName='tab.ILegacyLegendViewModel';global.tab.ILegacyLegendViewModel=k;var l=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,l,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};l.__typeName='tab.ILegacyQuickFilterDisplayView$1';ss.initGenericInterface(l,a,1);global.tab.ILegacyQuickFilterDisplayView$1=l;var m=function(){};m.__typeName='tab.ILegacyQuickFilterDisplayViewModel';global.tab.ILegacyQuickFilterDisplayViewModel=m;var n=function(){};n.__typeName='tab.ILegacyWidgetShim';global.tab.ILegacyWidgetShim=n;var o=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,o,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};o.__typeName='tab.IPageView$1';ss.initGenericInterface(o,a,1);global.tab.IPageView$1=o;var p=function(){};p.__typeName='tab.IPageViewModel';global.tab.IPageViewModel=p;var q=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,q,[w],{updateViewProperties:null},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};q.__typeName='tab.IParameterControlView$1';ss.initGenericInterface(q,a,1);global.tab.IParameterControlView$1=q;var r=function(){};r.__typeName='tab.IParameterControlViewModel';global.tab.IParameterControlViewModel=r;var s=function(){};s.__typeName='tab.IParameterControlWidgetShim';global.tab.IParameterControlWidgetShim=s;var t=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,t,[w],{},function(){return[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};t.__typeName='tab.IQuantitativeColorLegendView$1';ss.initGenericInterface(t,a,1);global.tab.IQuantitativeColorLegendView$1=t;var u=function(){};u.__typeName='tab.IQuantitativeColorLegendViewModel';global.tab.IQuantitativeColorLegendViewModel=u;var v=function(){};v.__typeName='tab.ITabbedNavigation';global.tab.ITabbedNavigation=v;ss.initInterface(c,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(d,a,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,a,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(n,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,a,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(m,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(p,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(r,a,{get_parameterCtrlModel:null,get_hasBorder:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(s,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(v,a,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){};b.__typeName='tab.IAuthoringStoryboardViewModel';global.tab.IAuthoringStoryboardViewModel=b;var c=function(){};c.__typeName='tab.ICommentingFactory';global.tab.ICommentingFactory=c;var d=function(){};d.__typeName='tab.ICommentingModuleViewModel';global.tab.ICommentingModuleViewModel=d;var e=function(){};e.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=e;var f=function(){};f.__typeName='tab.IGroupDialogModule';global.tab.IGroupDialogModule=f;var g=function(){};g.__typeName='tab.IPaneContent';global.tab.IPaneContent=g;var h=function(){};h.__typeName='tab.IParameterFilterViewModel';global.tab.IParameterFilterViewModel=h;var i=function(){};i.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=i;var j=function(){};j.__typeName='tab.IQuickFilterViewModel';global.tab.IQuickFilterViewModel=j;var k=function(){};k.__typeName='tab.ISelfServiceSchedulesModule';global.tab.ISelfServiceSchedulesModule=k;var l=function(){};l.__typeName='tab.IStoryAuthoringModule';global.tab.IStoryAuthoringModule=l;var m=function(){};m.__typeName='tab.IStoryContentPaneViewModel';global.tab.IStoryContentPaneViewModel=m;var n=function(){};n.__typeName='tab.IStoryLayoutPaneViewModel';global.tab.IStoryLayoutPaneViewModel=n;var o=function(){};o.__typeName='tab.IStoryModule';global.tab.IStoryModule=o;var p=function(){};p.__typeName='tab.IUnificationStyleQuickFiltersModule';global.tab.IUnificationStyleQuickFiltersModule=p;var q=function(){};q.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=q;ss.initInterface(b,a,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null});ss.initInterface(c,a,{createCommentingModuleViewModel:null});ss.initInterface(d,a,{},[spiff.IContent]);ss.initInterface(e,a,{showDataTab:null,hideDataTab:null});ss.initInterface(f,a,{showGroupDialog:null});ss.initInterface(g,a,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(h,a,{},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(i,a,{createPdfExportDialog:null});ss.initInterface(j,a,{get_filterType:null},[ss.IDisposable,spiff.IViewModel]);ss.initInterface(k,a,{createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(o,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null});ss.initInterface(l,a,{newAuthoringStoryboardViewModel:null},[o]);ss.initInterface(m,a,{},[ss.IDisposable,spiff.IViewModel,g]);ss.initInterface(n,a,{},[ss.IDisposable,spiff.IViewModel,g]);ss.initInterface(p,a,{newQuickFilterViewModel:null,newParameterFilterViewModel:null,getQuickFilterView:null,getParameterFilterView:null});ss.initInterface(q,a,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null})})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='tab.$0';d.$0=function(e,L,go){var gp=e.zmP[L].PoP02;var gq=e.TTN02;var gr=[];var gs=e.dhm;var gt=_.keys(gs);for(var gu=0;gu<gt.length;gu++){var gv=gt[gu];if(ss.referenceEquals(gv,gq)){continue}var gw=gs[gv];if(!ss.isNullOrEmptyString(go)&&!ss.referenceEquals(gw.UyO02,go)){continue}var gx=[];for(var gy=0;gy<gw.Dfq.length;gy++){var gz=gw.Dfq[gy];if(ss.isValue(gz._HL)){continue}if(gz.VzB==='fhq'){continue}var gA=gz;if(ss.isValue(gA.MWY)){for(var gB=0;gB<gA.MWY.length;gB++){var gC=gA.MWY[gB];var gD=P.newField(gC.dMo02,f.$2(gC.YIQ02),f.$1(gC.Ymv02));gx.push(gD)}}else{var gE=P.newField(gz.dMo02,f.$2(gz.tgs02),f.$1(gz.fuT02));gx.push(gE)}}var gF=ss.referenceEquals(gw.UyO02,gp);var gG=P.newDataSource(gw.UyO02,Array.prototype.slice.call(gx),gF);gr.push(gG)}var gH=P.newDataSourcesForWorksheet(L,Array.prototype.slice.call(gr));return gH};var f=function(){};f.__typeName='tab.$1';f.$0=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};f.$6=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};f.$1=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};f.$2=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};f.$3=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};f.$4=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};f.$5=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};f.$7=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};var g=function(e,L,go,gp,gq,gr){this.$v=0;F.call(this,e,L,go,gp,gq,gr);this.$e(this.$q());this.$o().width(this.$i())};g.__typeName='tab.$10';var h=function(e,L,go,gp,gq,gr){this.$v=0;F.call(this,e,L,go,gp,gq,gr);this.$f(this.$q());this.$o().height(this.$i())};h.__typeName='tab.$11';var i=function(e,L,go,gp,gq,gr){this.$v=0;F.call(this,e,L,go,gp,gq,gr);this.$e(this.$q());this.$o().width(this.$i())};i.__typeName='tab.$12';var j=function(e,L,go,gp,gq,gr){this.$v=0;F.call(this,e,L,go,gp,gq,gr);this.$f(this.$q());this.$o().height(this.$i())};j.__typeName='tab.$13';var k=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};k.__typeName='tab.$14';var l=function(){};l.__typeName='tab.$15';var m=function(e,L){this.$1=null;this.$0=null;this.$1=e;this.$0=L};m.__typeName='tab.$16';var n=function(e,L,go,gp,gq){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=L;this.$4=go;this.$2=gp;this.$3=gq};n.__typeName='tab.$17';var o=function(e){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=e;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};o.__typeName='tab.$18';var p=function(e){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=e.get_alpha();this.$4=e.get_lineJoin();this.$3=e.get_lineCap();this.$5=e.get_linePattern();this.$8=e.get_strokeStyle();this.$6=e.get_lineWidth();this.$a=e.get_textAngle();this.$2=e.get_font();this.$7=e.get_shapeFillStyle();this.$b=e.get_textFillStyle();this.$9=e.get_textAlign()};p.__typeName='tab.$19';var q=function(){};q.__typeName='tab.$2';q.$0=function(e,L){var go={};go['api.commandResult']=e;go['api.commandData']=L;var gp=JSON.stringify(go);return gp};var r=function(e,L,go,gp,gq,gr,gs){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=L;this.$2=go;this.$6=gp;this.$3=gq;this.$4=gr;this.$7=gs.clone()};r.__typeName='tab.$20';var s=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};s.__typeName='tab.$21';var t=function(){this.$b=null;this.$a=null;this.$e=null;this.$i=null;this.$d=null;this.$g=null;this.$h=null;this.$c=null;this.$f=null;spiff.Template.call(this,$("\n<div class='tabDataConnVarEditControl'>\n    <span class='tabDataConnVarEditCtrlVarArea'>\n        <div class='tabDataConnVarEditCtrlName'/>\n        <div class='tabDataConnVarEditCtrlDesc'/>\n    </span>\n    <span class='tabDataConnVarEditCtrlOpSelector'/>\n    <input class='tabDataConnVarEditCtrlValInput' type='text'/>\n    <span class='tabDataConnVarEditCtrlValSelector'>\n        <div class='tabDataConnVarEditCtrlFirstValSelector'>\n            <span class='tabDataConnVarEditCtrlFromLabel'/>\n        </div>\n        <div class='tabDataConnVarEditCtrlSecondValSelector'>\n            <span class='tabDataConnVarEditCtrlToLabel'/>\n        </div>\n    </span>\n</div>"));this.$b=this.getElementBySelector('.tabDataConnVarEditCtrlName');this.$a=this.getElementBySelector('.tabDataConnVarEditCtrlDesc');this.$e=this.getElementBySelector('.tabDataConnVarEditCtrlOpSelector');this.$i=this.getElementBySelector('.tabDataConnVarEditCtrlValInput');this.$d=this.getElementBySelector('.tabDataConnVarEditCtrlFromLabel');this.$g=this.getElementBySelector('.tabDataConnVarEditCtrlToLabel');this.$h=this.getElementBySelector('.tabDataConnVarEditCtrlValSelector');this.$c=this.getElementBySelector('.tabDataConnVarEditCtrlFirstValSelector');this.$f=this.getElementBySelector('.tabDataConnVarEditCtrlSecondValSelector')};t.__typeName='tab.$22';var u=function(){this.$1=null;spiff.Template.call(this,$("<div class='refLineConstantValueEditor'><span class='refLineConstantValueEditorTitle'></span><input class='refLineConstantValueEditorInput' type='text'/></div>"));this.$1=this.getElementBySelector('.refLineConstantValueEditorInput');this.getElementBySelector('.refLineConstantValueEditorTitle').text(tab.Strings.RefLineEditorInputTitle)};u.__typeName='tab.$23';var v=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};v.__typeName='tab.$24';var w=function(e){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=e;this.$9=false;this.$a=0};w.__typeName='tab.$25';var x=function(e){this.$a=0;this.$c=-1;this.$b=null;this.$9=true;this.$1$1=null;this.$1$2=null;this.$a=e;this.$c=-1;this.$9=true};x.__typeName='tab.$26';var y=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var e=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(e);this.$7.css(e);this.$6.css('left','0px');this.$7.css('right','0px');if(tab.BrowserSupport.get_isIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};y.__typeName='tab.$27';var z=function(){this.$3=[]};z.__typeName='tab.$28';z.$1=function(e,L,go){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var gp=L.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(gp)||ss.isNullOrUndefined(gp.get_visualListPM().tOA)){return}var gq=gp.get_visualListPM().tOA;var gr={};var gs=e.ri.length;for(var gt=0;gt<gs;gt++){var gu=e.ri[gt];gr[gu.r]=gu}var gv=null;if(ss.isValue(L)&&ss.isValue(L.get_scene())){gv=L.get_scene().get_imageDictionary()}var gw=en.calculatePixelRatio();var gx=L.get_visualModel().get_backgroundColor();var gy=[{name:'uleft'.toString(),node:go.topLeftSpacer},{name:'uright'.toString(),node:go.topRightSpacer},{name:'lleft'.toString(),node:go.bottomLeftSpacer},{name:'lright'.toString(),node:go.bottomRightSpacer}];for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];var gB=gr[gA.name];if(ss.isNullOrUndefined(gB)){continue}var gC=gA.node;var gD=gC.get(0).firstChild;if(ss.isNullOrUndefined(gD)){continue}z.$2(gD,gx,gw,gB,gq,gv)}};z.$2=function(e,L,go,gp,gq,gr){var gs=bg.getRenderContext(e,'opaque');gs.set_shapeFillStyle(L);gs.fillRect(0,0,e.width,e.height);gs.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(go,1)){bi.scaleCanvasDrawing(gs,go)}var gt=new cd(e,gs,dk.defaultColors);gt.set_renderOffset({x:gp.x,y:gp.y});var gu=gt;gu.renderDrawItems(gq,null,gr,null)};z.$0=function(e,L){var go=e.get(0).firstChild;if(!(ss.compareStrings(go.tagName,L,true)===0)){go=document.createElement(L);e.children().first().replaceWith(go)}return go};var A=function(){this.$4=null;this.$1=0;this.$1=-1};A.__typeName='tab.$29';var B=function(){};B.__typeName='tab.$3';B.$9=function(e){var L=JSON.parse(e.toString());var go=[];if(ss.isValue(L)){for(var gp=0;gp<L.length;gp++){var gq=L[gp];var gr=B.$5(gq);if(ss.isValue(gr)){go.push(gr)}}}var gs=new Object;gs.filters=Array.prototype.slice.call(go);return gs};B.$8=function(e){var L=B.$0(e);if(ss.isValue(L)){return L}return e};B.$d=function(e){var L=B.$0(e);if(ss.isValue(L)){return L}var go=JSON.parse(e.toString());if(ss.isValue(go)){return B.$5(go)}return null};B.$0=function(e){var L=e;if(ss.keyExists(L,'BhX')){if(ss.isValue(L['oIc'])){return P.newCommandError('invalidFilterFieldName',L['oIc'])}else if(ss.isValue(L['cVZ'])){return P.newCommandError('invalidFilterFieldValue',L['cVZ'])}else if(ss.isValue(L['sRL'])){return P.newCommandError('invalidAggregationFieldName',L['OLk'])}else{return P.newCommandError('serverError',null)}}return null};B.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};B.$5=function(e){var L=B.$2(e.type);switch(L){case'categorical':{return B.$7(e)}case'relativedate':{return B.$c(e)}case'hierarchical':{return B.$a(e)}case'quantitative':{return B.$b(e)}default:{throw new ss.Exception('Unknown FilterType: '+L)}}};B.$6=function(e,L){var go=e.fieldName;var gp=e.fieldCaption;var gq=B.$2(e.type);var gr=null;var gs=null;var gt=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){gr=e.fieldDatasource;var gu=JSON.parse(e.fieldDetailsJson);var gv=gu['genFieldColumnPresModel'];gs=f.$2(gv.YIQ02);gt=f.$1(gv.Ymv02)}return L(go,gq,gp,gr,gs,gt)};B.$7=function(e){var L=e.exclude||false;var go=null;if(ss.isValue(e.table)){var gp=e.table;if(ss.isValue(gp.tuples)){var gq=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var gr=gp.tuples;var gs=[];for(var gt=0;gt<gr.length;gt++){var gu=gr[gt];if(gq||ss.isValue(gu.s)&&gu.s){var gv=gu.t[0];var gw=gu.d;gs.push(B.$4(e,gv,gw))}}go=Array.prototype.slice.call(gs)}}var gx=function(gy,gz,gA,gB,gC,gD){return P.newCategoricalFilter(gy,gz,gA,gB,gC,gD,L,go)};return B.$6(e,gx)};B.$b=function(e){var L=null;var go=null;var gp=null;var gq=null;var gr=false;if(ss.isValue(e.range)){var gs=e.range;if(ss.isValue(gs.min)&&ss.isValue(gs.min.v)){L=B.$3(e,gs.min,null)}if(ss.isValue(gs.max)&&ss.isValue(gs.max.v)){go=B.$3(e,gs.max,null)}}if(ss.isValue(e.table)){var gt=e.table;if(ss.isValue(gt.min)&&ss.isValue(gt.min.v)){gp=B.$3(e,gt.min,null)}if(ss.isValue(gt.max)&&ss.isValue(gt.max.v)){gq=B.$3(e,gt.max,null)}if(ss.isValue(gt.included)){var gu=gt.included;gr=gu==='include-all'||gu==='include-null'||gu==='include-range-or-null'}}var gv=function(gw,gx,gy,gz,gA,gB){return P.newQuantitativeFilter(gw,gx,gy,gz,gA,gB,L,go,gp,gq,gr)};return B.$6(e,gv)};B.$c=function(e){var L=null;var go=null;var gp=null;var gq=e.table;if(ss.isValue(gq)){if(ss.isValue(gq.periodType)){L=f.$4(gq.periodType)}if(ss.isValue(gq.rangeType)){go=f.$5(gq.rangeType)}if(ss.isValue(gq.rangeN)){gp=gq.rangeN}}var gr=function(gs,gt,gu,gv,gw,gx){return P.newRelativeDateFilter(gs,gt,gu,gv,gw,gx,L,go,gp)};return B.$6(e,gr)};B.$4=function(e,L,go){return B.$3(e,L,go)};B.$3=function(e,L,go){var gp=new Object;if(ss.isNullOrUndefined(L)){return gp}var gq=B.$1(L.t);var gr=[L];if(ss.isValue(e.range)){gr.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){gr.push(e.table.min,e.table.max)}var gs=ee.getDateTimeFormatMode(gr,'none',e.date_format,null);gp.type=f.$0(gq);var gt=((gq==='date'||gq==='datetime')?e.date_format:e.format);gp.formattedValue=tableau.format.formatDataValue(L,e.role,gt,null,gs);if(ss.isValue(go)){gp.aliasedValue=go}gp.value=I.serializeDataValue(L.v,gq);return gp};B.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};B.$a=function(e){var L=0;if(ss.isValue(e.levels)){L=e.levels.length}var go=function(gp,gq,gr,gs,gt,gu){return P.newHierarchicalFilter(gp,gq,gr,gs,gt,gu,L)};return B.$6(e,go)};var C=function(){};C.__typeName='tab.$4';C.$8=function(e){var L=e;var go=[];if(ss.isValue(L)){for(var gp=0;gp<L.length;gp++){var gq=L[gp];var gr=C.$1(gq);if(ss.isValue(gr)&&gr.isValidPresModel){go.push(gr)}}}var gs=new Object;gs.parameters=Array.prototype.slice.call(go);return gs};C.$6=function(e){var L=e;if(ss.isValue(L.GiX)&&!L.GiX){var go=new Object;go.isValidPresModel=false;return go}else{var gp=e;if(ss.isValue(gp)){return C.$1(gp)}}return null};C.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};C.$1=function(e){if(!ss.isValue(e.DMC)||!ss.isValue(e.OLk)){return null}var L=e.tbM02;var go=[];for(var gp=0;gp<e.vdO.length;gp++){var gq=e.vdO[gp];var gr=e.wwu[gp];go.push(C.$4(L,gq,gr))}var gs=new Object;gs.isValidPresModel=true;gs.parameterName=e.DMC;gs.name=e.OLk;gs.currentValue=C.$4(L,e.UIt,e.ybD);gs.dataType=C.$0(L);gs.allowableValuesType=f.$3(e.ReU);gs.allowableValues=Array.prototype.slice.call(go);gs.stepSize=C.$7(L,e.FcN);gs.minValue=C.$5(L,e.JLD,e.Qza,null);gs.maxValue=C.$5(L,e.zG$,e.Deq,null);if(L==='date'||L==='datetime'){gs.dateStepPeriod=f.$4(e.JAO)}return gs};C.$5=function(e,L,go,gp){var gq=new Object;gq.type=f.$0(e);gq.value=I.serializeDataValue(L,e);if(!tab.MiscUtil.isNullOrEmpty$1(gp)){gq.aliasedValue=gp}if(!tab.MiscUtil.isNullOrEmpty$1(go)){gq.formattedValue=go}return gq};C.$4=function(e,L,go){return C.$5(e,C.$3(L),go,C.$2(L))};C.$7=function(e,L){if(ss.isValue(L)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(L)}if(e==='real'){return parseFloat(L)}}return null};C.$3=function(e){return e[0]};C.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var D=function(){};D.__typeName='tab.$5';D.$6=function(e){var L=e;var go=D.$5(L,true);return go};D.$7=function(e){var L=e;var go=D.$5(L,false);return go};D.$3=function(e,L){L['xsP']=e['api.maxRows'];L['Srq']=e['api.ignoreAliases'];L['XfQ']=e['api.ignoreSelection']};D.$4=function(e,L){D.$3(e,L);L['Dtn']=e['api.includeAllColumns']};D.$5=function(e,L){var go=new tab.DataDictionaryModel(null);go.update(e.vZU);var gp=e.gzG;var gq=D.$1(gp);var gr=D.$0(go,gp);var gs=P.newUnderlyingDataTablePM(gr,gq,L);return gs};D.$1=function(e){var L=[];for(var go=0;go<e.length;go++){var gp=e[go];var gq=f.$6(gp.tbM02);var gr=P.newUnderlyingDataColumnsPM(gq,gp.OLk,gp.GWZ,go);L.push(gr)}return L};D.$0=function(e,L){var go=L[0].Sul.length;var gp=new Array(go);for(var gq=0;gq<go;gq++){gp[gq]=new Array(L.length)}for(var gr=0;gr<L.length;gr++){var gs=L[gr];for(var gt=0;gt<gs.Sul.length;gt++){var gu=new Object;gu.formattedValue=D.$2(e,gs.Sul[gt],'cstring');gu.value=D.$2(e,gs.qtG[gt],gs.tbM02);gu.aliasedValue=gu.formattedValue;gp[gt][gr]=gu}}return gp};D.$2=function(e,L,go){var gp=null;var gq;if(L>=0){gq=go}else{gq='cstring';L=-L-1}var gr=e.getRawValue(gq,L);if(ss.isValue(gr)){gp=gr.toString()}return gp};var E=function(){};E.__typeName='tab.$6';var F=function(e,L,go,gp,gq,gr){this.$u=null;this.$2$1=null;this.$2$2=null;this.$2$3=0;this.$2$4=0;this.$2$5=0;this.$2$6=0;spiff.BaseViewModel.call(this);this.$t(e);this.$p(L);this.$r(go);this.$j(gp);this.$n(gq);this.$l(gr)};F.__typeName='tab.$7';F.$0=function(e){return Math.abs(e)>1};var G=function(e,L,go,gp,gq){this.$w=0;this.$v=null;F.call(this,e,L,go,gp,gq,2147483647);this.$f(this.$q());this.$o().height(this.$i())};G.__typeName='tab.$8';var H=function(e,L,go,gp,gq){this.$w=0;this.$v=null;F.call(this,e,L,go,gp,gq,2147483647);this.$e(this.$q());this.$o().width(this.$i())};H.__typeName='tab.$9';var I=function(){};I.__typeName='tab._ApiSerializer';I.serializeClientInfo=function(e,L){var go=e.get_applicationPresModel().res.mmK;var gp=e.get_toolbarCommands().$2();var gq=!ss.isNullOrEmptyString(go.nhM.VrA)||e.get_toolbarCommands().$3();var gr=tsConfig.current_sheet_name;var gs=tsConfig.current_workbook_name;var gt=I.serializeDashboardZones(go.HCq);var gu=I.serializePublishedSheets(e.get_applicationPresModel().res.jky);var gv=I.serializeStory(L);var gw=P.newClientInfo(gp,gq,gs,gr,ss.coalesce(tsConfig.clientNumber,''),gu,gt,gv);return gw};I.serializeSheetInfo=function(e,L){var go;if(e.Jqz){go='story'}else if(e.WeS){go='dashboard'}else{go='worksheet'}var gp=P.newSheetInfo(e.Gge,go,e.EVq,e.pAn,e.PiK,e.McJ,L);return gp};I.serializePublishedSheets=function(e){var L={};for(var go=0;go<e.length;go++){var gp=e[go];L[gp.Gge]=gp}var gq=[];var gr=I.$0(tsConfig.repository_urls);for(var gs=0;gs<tsConfig.visible_sheets.length;gs++){var gt=L[tsConfig.visible_sheets[gs]];var gu=I.serializeSheetInfo(gt,gr[gs]);gq.push(gu)}return gq};I.serializeDashboardZones=function(e){var L=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return L}var go=_.keys(e);go.sort(function(gA,gB){return parseInt(gA,10)-parseInt(gB,10)});for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=e[gq];if(ss.isNullOrUndefined(gr)){continue}var gs=f.$7(gr.jAM);if(!ss.isValue(gs)){continue}var gt=(ss.isValue(gr.AVP)?gr.AVP:null);var gu=gr.thj;var gv=gr.RAC;var gw=gr.rec;var gx=gr.EUR;var gy=gr.BCp;var gz=P.newDashboardZone(gt,gy,ss.unbox(gs),gx,gw,gu,gv);L.push(gz)}return L};I.serializeStory=function(e){var L=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(L)){return null}var go=L.get_currentPointIndex();var gp=I.serializeStoryPoints(L.get_captions(),e);var gq=P.newStory(go,gp);return gq};I.serializeStoryPoints=function(e,L){var go=[];var gp=ss.getEnumerator(e);try{while(gp.moveNext()){var gq=gp.current();var gr=I.serializeStoryPoint(gq,L);go.push(gr)}}finally{gp.dispose()}return go};I.serializeStoryPoint=function(e,L){var go=null;if(e.get_isCurrentPoint()&&L.get_hasContainedSheet()){var gp=L.get_containedSheetName();var gq=L.get_containedSheetType();var gr=I.serializeDashboardZones(L.get_containedDashboardZones());go=P.newContainedSheetInfo(gp,gq,ss.unbox(L.get_containedSheetZoneId()),gr)}var gs=P.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),go);return gs};I.serializeDataValue=function(e,L){if(L==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(L){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var go=null;if(_.isDate(e)){go=e}else if(_.isNumber(e)){if(isNaN(e)){go=null}else{go=new Date(tableau.types.JsDateFromOleDate(e))}}else{go=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(go)||isNaN(go)){return null}return go.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var gp=parseInt(e.toString(),10);return(isNaN(gp)?null:gp)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var gq=parseFloat(e.toString());return(isNaN(gq)?null:gq)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};I.serializeCustomView=function(e,L){return P.newCustomView(e.id,e.name,e.urlId,L,e.startViewId,e.isPublic,I.serializeUser(e.owner))};I.serializeUser=function(e){return P.newUser(e.id,e.friendlyName,e.username)};I.convertToCustomizedView=function(e){var L=new Object;L.id=e.id;L.isPublic=e.isPublic;L.name=e.name;L.owner=I.convertToUser(e.owner);L.startViewId=e.startViewId;L.urlId=e.urlId;return L};I.convertToUser=function(e){var L={friendlyName:e.friendlyName,id:e.id,username:e.username};return L};I.$0=function(e){var L=e.length;var go=tab.VizUriModel.createForViewingSheets(e,false);var gp=new Array(L);for(var gq=0;gq<L;gq++){var gr=go[gq];gp[gq]=gr.get_absoluteUri()}return gp};global.tab._ApiSerializer=I;var J=function(){this.action=null;ss.EventArgs.call(this)};J.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=J;var K=function(e,L){React.Component.call(this,e,L)};K.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=K;var M=function(){};M.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=M;var N=function(){};N.__typeName='tab.AddSubscribersComponentProps';N.createInstance=function(){return N.$ctor()};N.$ctor=function(){var e={};e.addSubscribersViewModel=null;e.userSearchSelectorProps=null;return e};global.tab.AddSubscribersComponentProps=N;var O=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.set_userSearchSelectorViewModel(new fG(e));var L=N.$ctor();L.addSubscribersViewModel=this;L.userSearchSelectorProps=this.get_userSearchSelectorViewModel().get_props();this.set_props(L);this.get_userSearchSelectorViewModel().add_propsUpdated(ss.mkdel(this,this.$2));this.disposables.add$1(this.get_userSearchSelectorViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchSelectorViewModel().remove_propsUpdated(ss.mkdel(this,this.$2))})))};O.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=O;var P=function(){};P.__typeName='tab.ApiCrossDomainPresModelsFactory';P.newClientInfo=function(e,L,go,gp,gq,gr,gs,gt){var gu=new Object;gu.isAutoUpdate=e;gu.isDownloadAllowed=L;gu.workbookName=go;gu.instanceId=gq;gu.currentSheetName=gp;gu.publishedSheets=gr;gu.dashboardZones=gs;gu.story=gt;return gu};P.newAutoUpdateState=function(e){var L=new Object;L.isAutoUpdate=e;return L};P.newCommandError=function(e,L){var go=new Object;go.errorCode=e;go.additionalInformation=L;return go};P.newSheetInfo=function(e,L,go,gp,gq,gr,gs){var gt=new Object;gt.maxHeight=gr;gt.maxWidth=gq;gt.minHeight=gp;gt.minWidth=go;var gu=new Object;gu.name=e;gu.sizeConstraints=gt;gu.repositoryUrl=gs;gu.sheetType=L;return gu};P.newContainedSheetInfo=function(e,L,go,gp){var gq=new Object;gq.name=e;gq.sheetType=L;gq.zoneId=go;gq.dashboardZones=gp;return gq};P.newDashboardZone=function(e,L,go,gp,gq,gr,gs){var gt=new Object;gt.name=e;gt.zoneId=L;gt.zoneType=go;gt.height=gp;gt.width=gq;gt.x=gr;gt.y=gs;return gt};P.newStory=function(e,L){var go=new Object;go.activeStoryPointIndex=e;go.storyPoints=L;return go};P.newStoryPoint=function(e,L,go,gp,gq){var gr=new Object;gr.caption=e;gr.index=L;gr.storyPointId=go;gr.isUpdated=gp;gr.containedSheetInfo=gq;return gr};P.$0=function(e,L,go,gp,gq,gr){var gs=new Object;gs.fieldName=e;gs.filterType=L;gs.caption=go;gs.dataSourceName=gp;gs.fieldRole=gq;gs.fieldAggregation=gr;return gs};P.newCategoricalFilter=function(e,L,go,gp,gq,gr,gs,gt){var gu=P.$0(e,L,go,gp,gq,gr);gu.isExclude=gs;gu.appliedValues=gt;return gu};P.newQuantitativeFilter=function(e,L,go,gp,gq,gr,gs,gt,gu,gv,gw){var gx=P.$0(e,L,go,gp,gq,gr);gx.domainMinValue=gs;gx.domainMaxValue=gt;gx.minValue=gu;gx.maxValue=gv;gx.includeNullValues=gw;return gx};P.newHierarchicalFilter=function(e,L,go,gp,gq,gr,gs){var gt=P.$0(e,L,go,gp,gq,gr);gt.levels=gs;return gt};P.newRelativeDateFilter=function(e,L,go,gp,gq,gr,gs,gt,gu){var gv=P.$0(e,L,go,gp,gq,gr);gv.periodType=gs;gv.rangeType=gt;gv.rangeN=gu;return gv};P.newDataSourcesForWorksheet=function(e,L){var go=new Object;go.worksheetName=e;go.dataSources=L;return go};P.newDataSource=function(e,L,go){var gp=new Object;gp.name=e;gp.fields=L;gp.isPrimary=go;return gp};P.newField=function(e,L,go){var gp=new Object;gp.name=e;gp.role=L;gp.aggregation=go;return gp};P.newCustomViewsInfo=function(e,L,go,gp){var gq=new Object;gq.customViewLoaded=e;gq.defaultCustomViewId=L;gq.currentView=go;gq.customViews=gp;return gq};P.newCustomView=function(e,L,go,gp,gq,gr,gs){var gt=new Object;gt.id=e;gt.name=L;gt.urlId=go;gt.url=gp;gt.startViewId=gq;gt.isPublic=gr;gt.owner=gs;return gt};P.newUser=function(e,L,go){var gp=new Object;gp.id=e;gp.friendlyName=L;gp.username=go;return gp};P.newUnderlyingDataTablePM=function(e,L,go){var gp=new Object;gp.dataTable=e;gp.headers=L;gp.isSummary=go;return gp};P.newUnderlyingDataColumnsPM=function(e,L,go,gp){var gq=new Object;gq.dataType=e;gq.fieldName=L;gq.isReferenced=go;gq.index=gp;return gq};P.newToolbarStatePM=function(e,L,go,gp,gq,gr,gs,gt,gu,gv,gw){var gx=new Object;gx.canUndo=e;gx.canRedo=L;gx.canRevert=go;gx.isPaused=gp;gx.canRefreshData=gq;gx.canShowCustomViews=gr;gx.canShowPerformance=gs;gx.canShowDataAlert=gt;gx.canShowSubscribe=gu;gx.canShowShare=gv;gx.canShowDownload=gw;return gx};global.tab.ApiCrossDomainPresModelsFactory=P;var Q=function(e,L,go){this.$15=new tab.DisposableHolder;this.$12=null;this.$1b={};this.$17=new Set;this.$13=null;this.$18=null;this.$19=null;this.$14=false;this.$16=false;this.$1a=null;this.$12=go;this.updateClients(e,L);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))};Q.__typeName='tab.ApiEventHandler';Q.$2=function(e,L){var go=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(go)){var gp=_.find(go.get_filters(),function(gq){return ss.referenceEquals(gq.get_globalFieldName(),L)});if(ss.isValue(gp)){return gp.get_filterPresModel().fieldCaption}}return null};Q.$0=function(e){var L=new ss.StringBuilder;for(var go=0;go<e.length;go++){var gp=e[go];if(!(L.length===0)){L.append('.')}L.append('['+gp+']')}return L.toString()};Q.$1=function(){var e={};var L=tab.ModelUtils.findContentDashboard();var go=L.get_zoneModels();for(var gp=0;gp<go.length;gp++){var gq=go[gp];if(gq.get_zoneType()==='filter'&&ss.referenceEquals(gq.get_worksheetName(),tsConfig.current_sheet_name)){var gr=JSON.parse(gq.pm.dCB);e[gr.param]=true}}var gs={};var gt=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(gt)){var gu=gt.get_filters();for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];var gx=Q.$0(gw.get_filterPresModel().name);if(ss.keyExists(e,gx)){var gy=gw.get_filterPresModel().fieldCaption;if(gw.get_filterPresModel().type!=='H'){gs[gy]=gw.get_filterPresModel().type}else{gy='';var gz=gw.get_filterPresModel().table[0].table;if(ss.isValue(gz)&&ss.isValue(gz.schema)&&ss.isValue(gz.schema[0])&&ss.isValue(gz.schema[0].name)){var gA=gz.schema[0].name;for(var gB=1;gB<gA.length;gB++){gy+='['+gA[gB]+']';gs[gy]=gw.get_filterPresModel().type;gy+='.'}}}}}}return gs};Q.$3=function(e){return null};Q.$4=function(e){var L=e;if(ss.isValue(L['eck'])){return P.newCommandError('invalidSelectionFieldName',L['eck'])}else if(ss.isValue(L['cVZ'])){return P.newCommandError('invalidSelectionValue',L['cVZ'])}else if(ss.isValue(L['ifc'])){return P.newCommandError('invalidSelectionDate',L['ifc'])}return null};global.tab.ApiEventHandler=Q;var R=function(e,L){this.$7=null;this.$a=null;this.$8=new tab.DisposableHolder;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(L,'responder');this.$7=e;this.$a=L;var go=ss.mkdel(this,function(){var gp=e.get_flipboardNavigatorViewModel();if(ss.isValue(gp)){gp.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gp.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(gp)});if(!go()){_.defer(ss.mkdel(this,function(){if(this.$9){return}go()}))}};R.__typeName='tab.ApiStorytellingHandler';R.$0=function(e,L){var go=($.isArray(L)?L:[L]);var gp=_.any(go,function(gq){return gq===e.get_name()});if(!gp){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=R;var S=function(e,L){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=L;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))};S.__typeName='tab.ApiToolbarStateManager';S.$1=function(e,L){var go=e[L];return ss.isValue(go)&&go.get_enabled()};S.$2=function(e,L,go){var gp=e[L];if(ss.isNullOrUndefined(gp)){return false}var gq=new tab.CommandsPresModelWrapper.$ctor1(gp.get_commands());var gr=gq.get_commandItems();for(var gs=0;gs<gr.length;gs++){var gt=gr[gs];var gu=new tab.CommandItemWrapper(gt);if(ss.equals(gu.get_name(),go)){return gu.get_enabled()}}return false};S.$0=function(e,L){var go=ss.getEnumerator(L);try{while(go.moveNext()){var gp=go.current();var gq=new tab.CommandItemWrapper(gp);e[gq.get_iconRes()]=gq}}finally{go.dispose()}};global.tab.ApiToolbarStateManager=S;var T=function(){this.$m=null;this.$q=null;this.$o=null;this.$p=null;this.$l=null;this.$r=null;this.$n=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;T.add_starting(ss.mkdel(this,function(){this.$h();tab.ApplicationModel.get_instance().get_workbook().add_dashboardDeleted(ss.mkdel(this,this.$k));tab.ApplicationModel.get_instance().get_workbook().add_uiModeChanged(ss.mkdel(this,this.$8));var e=new tab.LayoutSession(null,null,T.get_commonDialogProvider());var L=tab.CommandController.create(e,T.get_commonDialogProvider());L.setBrowserViewportFunc(bf.getViewport);L.add_newLayoutId(ss.mkdel(this,this.$6));L.add_tabChangeCompleted(ss.mkdel(this,this.$7));T.add_onTabSelect(ss.mkdel(this,this.$3));L.add_destroyView(ss.mkdel(this,this.$2));L.add_intermediateUpdate(ss.mkdel(this,this.$i));this.$n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$6));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$7));T.remove_onTabSelect(ss.mkdel(this,this.$3))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var go=T.$0(false,e);this.$m=go;this.$q=go;this.$m.startup();this.$b(this.$m,this.$q);if(tab.BrowserSupport.get_isIE()){this.$0()}this.$p=new dI;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(gp){bf.getViewport(function(gq){var gr=new spiff.SpiffBrowserViewport(gq.get_dimensions(),function(gs){return gq.getVisibleRoom(gs,0)});gp(gr)})}}))};T.__typeName='tab.Application';T.add_starting=function(e){T.$1$1=ss.delegateCombine(T.$1$1,e)};T.remove_starting=function(e){T.$1$1=ss.delegateRemove(T.$1$1,e)};T.add_started=function(e){T.$1$2=ss.delegateCombine(T.$1$2,e)};T.remove_started=function(e){T.$1$2=ss.delegateRemove(T.$1$2,e)};T.add_onTabSelect=function(e){T.$1$3=ss.delegateCombine(T.$1$3,e)};T.remove_onTabSelect=function(e){T.$1$3=ss.delegateRemove(T.$1$3,e)};T.get_instance=function(){if(ss.isNullOrUndefined(T.$4)){T.$4=new T}return T.$4};T.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};T.get_commonDialogProvider=function(){if(ss.isNullOrUndefined(T.$3)){T.$3=new bo}return T.$3};T.startup=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPSTR'.toString();var L=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(L);if(ss.isValue(T.$5)&&T.$5){throw new ss.Exception('Application.Startup() can only be called once')}var go=T.get_instance();if(!ss.staticEquals(T.$1$1,null)){T.$1$1(go,ss.EventArgs.Empty)}if(!ss.staticEquals(T.$1$2,null)){T.$1$2(go,ss.EventArgs.Empty)}spiff.DragDropManager.init();SharedWidgets.setConfig(T.$1());T.$5=true};T.$1=function(){var e={styles:{Typography:{FontFamily:'inherit'}}};return e};T.$0=function(e,L){var go=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new go(e,L)};T.handleAllFontsFound=function(){ev.get_instance().downloadFonts();ev.get_instance().allFontsFound()};T.$2=function(){bq.get_instance().reset(1);bq.get_instance().addCompletedHandler(1,cy.logUIStabilized);ev.get_instance().initialize();var e=(en.isHighDpi()?ev.bentonSansFontNames:ev.bentonSansLowDpiFontNames);ev.get_instance().registerServerLoadedFonts(e);if(tab.FeatureFlags.isEnabled('TableauFontWeb')){ev.get_instance().registerServerLoadedFonts(ev.tableauFontNames)}ev.get_instance().notifyDownloadableFont(e)};T.fireOnTabSelect=function(e){if(!ss.staticEquals(T.$1$3,null)){T.$1$3(e)}};global.tab.Application=T;var U=function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,$("<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"));this.domNode=this.domRoot;this.toolbarContainer=$('.tab-toolbar-container')};U.__typeName='tab.ApplicationTemplate';global.tab.ApplicationTemplate=U;var V=function(e){this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[X]).call(this,e,new U);tab.FullscreenUtil.add_fullscreenStateChanged(V.$0);this.disposables.add(function(){tab.FullscreenUtil.remove_fullscreenStateChanged(V.$0)})};V.__typeName='tab.ApplicationView';V.$0=function(){if(tab.FullscreenUtil.get_inFullscreenMode()){var e=document.body;if(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight){$('html, body').css('overflow','scroll')}}else{$('html, body').css('overflow','')}};global.tab.ApplicationView=V;var W=function(e,L){this.session=null;this._connections=[];this._subscriptions=[];this.skipInit=false;this.$z=null;this.$G=null;this.$C=false;this.$F=null;this.$J=null;this.$B=null;this.$A=null;this.$D=false;this.$E=false;this.$H=0;this.$I=null;spiff.Widget.call(this,$(null));this.session=L;this.skipInit=e;var go=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(go)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(go.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$l();this.$J=new fL(this);this.enableTextSelection()};W.__typeName='tab.ApplicationViewModel';W.add_activeViewChanged=function(e){W.$2$1=ss.delegateCombine(W.$2$1,e)};W.remove_activeViewChanged=function(e){W.$2$1=ss.delegateRemove(W.$2$1,e)};W.selectCenteringContainer=function(){return $('#centeringContainer')};W.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var L=tabBootstrap.ViewerBootstrap.get_instance().get_tabsHeight();var go={l:0,t:L,w:e.w,h:e.h};if(!fk.get_toolbarIsBottom()&&!tsConfig.is_authoring){go.t+=tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight()}return go};global.tab.ApplicationViewModel=W;var X=function(e){this.$5=null;this.$7=null;this.$6=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$5=e;this.$5.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$5.get_workbook())){this.handleNewWorkbook(this.$5.get_workbook())}this.$5.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));if(!tsConfig.is_authoring&&!this.$5.get_isOffline()){this.$6=new fk(this.$5.get_toolbar());this.$6.set_shouldShowCommenting(this.get_shouldShowCommenting());tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,this.$3))}};X.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=X;var Y=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};Y.__typeName='tab.AreYouSureButtons';Y.create=function(e,L){var go=new Y(new Z);if(ss.isValue(e)){go.$a(e);go.disposables.add$1(new tab.CallOnDispose(function(){go.$b(e)}))}if(ss.isValue(L)){go.$c(L);go.disposables.add$1(new tab.CallOnDispose(function(){go.$d(L)}))}return go};global.tab.AreYouSureButtons=Y;var Z=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};Z.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=Z;var ba=function(e,L){this.$0=null;bb.call(this,e,L);this.$0=e.RedirectUrl};ba.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=ba;var bb=function(e,L){bc.call(this,e,L)};bb.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=bb;var bc=function(e,L){this.onProceed=null;this.dataSourceConnectionAttemptErrorResponse=null;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=L};bc.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=bc;var bd=function(e,L){var go=function(gp,gq,gr){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[L,ss.makeGenericType(fc,[e]),Object]).call(this,gp(gq.viewModel),gq,gr);this.$1=gp};ss.registerGenericClassInstance(go,bd,[e,L],{handleWidgetPropertyChanged:function(gp,gq){},updateWidgetState:function(gp){if(!ss.referenceEquals(this.props.viewModel,gp.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(gp.viewModel));var gq=$(ReactDOM.findDOMNode(this));if(ss.isValue(gq)){gq.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[L,ss.makeGenericType(fc,[e]),Object])},function(){return[]});return go};bd.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(bd,a,2);global.tab.BaseToolbarButtonComponent$2=bd;var be=function(){this.$1$1=null;this.$1$2=null};be.__typeName='tab.BasicFontLoader';global.tab.BasicFontLoader=be;var bf=function(e){this.$0=null;this.$0=e};bf.__typeName='tab.BrowserViewport';bf.$8=function(){return tab.Logger.lazyGetLogger(bf)};bf.$7=function(){var e=new tab.WindowHelper(window.self);return{l:e.get_pageXOffset(),t:e.get_pageYOffset(),w:e.get_clientWidth(),h:e.get_clientHeight()}};bf.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(!bf.$a){e(new bf(bf.$7()))}else{bf.$b=e;bf.$6()}};bf.$0=function(e){if(tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'){if(ss.isValue(bf.$c)){e.y+=bf.$c.y;e.x+=bf.$c.x}}else{try{var L=window.self;while(ss.isValue(L.frameElement)){var go=$(L.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(go.top);e.x+=tab.DoubleUtil.roundToInt(go.left);L=L.parent}}catch(gp){var e=ss.Exception.wrap(gp)}}};bf.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var L=e.data;if(ss.isNullOrUndefined(L)||typeof(L)!=='string'){return}var go=L;var gp=go.split(',');if(!ss.isValue(gp)){return}if(ss.referenceEquals(gp[0],'layoutInfoResp'.toString())){var gq={l:parseInt(gp[1],10),t:parseInt(gp[2],10),w:parseInt(gp[3],10),h:parseInt(gp[4],10)};bf.$2(gq)}else if(ss.referenceEquals(gp[0],'tableau.enableVisibleRectCommunication'.toString())){bf.$a=true}else if(ss.referenceEquals(gp[0],'vizOffsetResp'.toString())){bf.$c={x:parseInt(gp[1],10),y:parseInt(gp[2],10)};bf.$a=true}};bf.$2=function(e){var L=new bf(e);if(ss.isValue(bf.$b)){bf.$b(L);bf.$b=null}};bf.$6=function(){if(tab.BrowserSupport.get_postMessage()){window.parent.postMessage('layoutInfoReq'.toString(),'*')}else{bf.$2(bf.$7())}};bf.$5=function(){if(bf.$9){if('removeEventListener'in window.self){window.removeEventListener('message',bf.$3,true)}else{window.self.detachEvent('onmessage',bf.$3)}bf.$9=false}};bf.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',bf.$4,true)}else{window.self.attachEvent('onunload',bf.$4)}};bf.$4=function(e){bf.$5()};global.tab.BrowserViewport=bf;var bg=function(e,L){this.$0=null;this.$1=null;this.$3=null;this.$4=null;this.$6=false;this.$2=null;this.$5=null;this.$7=null;this.cachedVisibleRect=null;this.$0=e;this.$1=L;this.$6=false;this.$7={x:0,y:0}};bg.__typeName='tab.CanvasRenderer';bg.get_multipolyLineSizeOffset=function(){return(tab.BrowserSupport.get_isChrome()?0.400000005960464:0)};bg.bBoxMultipolygon=function(e,L,go,gp,gq,gr){var gs;if(ss.isNullOrUndefined(gr)){var gt=gq/2;var gu=Math.floor(gq+1);var gv={x:L-gt,y:go-gt};gs={minX:gv.x,minY:gv.y,maxX:gv.x+gu,maxY:gv.y+gu}}else{gs={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(gr.TDA){case'multipolygon':{bg.boundsMultipolygon(gr.Zmn,gs);break}case'multipoint':{bg.boundsMultipoint(gr.gvB,gs,gq);break}default:{break}}}if(e){return tab.RectXYUtil.rectXYFromBBoxRectF(gs)}var gw=tab.Transform.domainToPixel(L,go,gp);return gw.transformBounds(gs)};bg.modifyLineEndpoints=function(e,L,go){if(Math.round(go)%2===1){var gp=L.x-e.x;var gq=L.y-e.y;if(gp!==0||gq!==0){var gr=gp*gp+gq*gq;gr=Math.sqrt(gr);var gs=Math.abs(0.5*(gp/gr));var gt=Math.abs(0.5*(gq/gr));e.x+=gt;e.y+=gs;L.x+=gt;L.y+=gs}}};bg.getShapeColorForLayer=function(e,L,go,gp){switch(go){case'highlightedUnder':case'normalUnder':{return e.c['halo_color'].gv(L)[gp]}case'selectedOn':case'highlightedOn':case'normalOn':{return e.getMarkColors(L)[gp]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return e.c['selected_halo_color'].gv(L)[gp]}}return bg.$8};bg.getRenderContext=function(e,L){var go;if(L==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var gp=ss.mkdict(['alpha',false]);go=e.getContext('2d',gp)}else{go=e.getContext('2d')}return new eS(go)};bg.addMultipolygonPath=function(e,L){var go=L.KCe;var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq].jWM;var gs=gr.length;for(var gt=0;gt<gs;gt++){var gu=gr[gt].xCr;var gv=gu.length;if(gv<2){continue}e.moveTo(gu[0],gu[1]);for(var gw=2;gw<gv;gw=gw+2){e.lineTo(gu[gw],gu[gw+1])}}}};bg.addMultipointPath=function(e,L,go){var gp=L.xCr;var gq=gp.length;for(var gr=0;gr<gq;gr=gr+2){var gs=gp[gr];var gt=gp[gr+1];e.moveTo(gs+go,gt);e.arc(gs,gt,go,0,bg.twoPI,true)}};bg.boundsMultipolygon=function(e,L){var go=L.minX;var gp=L.minY;var gq=L.maxX;var gr=L.maxY;var gs=e.KCe;var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu].jWM;var gw=gv.length;for(var gx=0;gx<gw;gx++){var gy=gv[gx].xCr;var gz=gy.length;for(var gA=0;gA<gz;gA=gA+2){var gB=gy[gA];var gC=gy[gA+1];go=Math.min(go,gB);gp=Math.min(gp,gC);gq=Math.max(gq,gB);gr=Math.max(gr,gC)}}}L.minX=go;L.minY=gp;L.maxX=gq;L.maxY=gr};bg.boundsMultipoint=function(e,L,go){var gp=L.minX;var gq=L.minY;var gr=L.maxX;var gs=L.maxY;var gt=e.xCr;var gu=gt.length;for(var gv=0;gv<gu;gv=gv+2){var gw=gt[gv];var gx=gt[gv+1];gp=Math.min(gp,gw);gq=Math.min(gq,gx);gr=Math.max(gr,gw);gs=Math.max(gs,gx)}var gy=go/2;L.minX=gp-gy;L.minY=gq-gy;L.maxX=gr+gy;L.maxY=gs+gy};bg.fillPath=function(e,L,go){var gp=Math.floor(L.length/2);if(gp<2){return}e.beginPath();e.moveTo(L[0],L[1]);for(var gq=2;gq<gp*2;gq+=2){e.lineTo(L[gq],L[gq+1])}if(go){e.closePath()}e.fill()};bg.strokePath=function(e,L,go,gp){var gq=Math.floor(L.length/2);if(gq<2){return}e.beginPath();var gr=e.get_lineWidth();for(var gs=0;gs<gq*2-2;gs+=2){var gt={x:L[gs],y:L[gs+1]};var gu={x:L[gs+2],y:L[gs+3]};if(gq<=2&&gp){bg.modifyLineEndpoints(gt,gu,gr)}if(gs===0){e.moveTo(gt.x,gt.y)}bg.$1(e,gt,gu)}if(go){e.closePath();var gv=gq*2;var gw={x:L[gv-2],y:L[gv-1]};var gx={x:L[0],y:L[1]};if(gq<=2&&gp){bg.modifyLineEndpoints(gw,gx,gr)}bg.$1(e,gw,gx)}e.stroke()};bg.toCanvasAngle=function(e){return e*bg.twoPI-bg.halfPI};bg.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};bg.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};bg.lineEdgeContains=function(e,L,go,gp,gq,gr,gs,gt){var gu=bg.$5(go,gp,gq,gr,gs,gt);return cF.isPointInPoly(gu,{x:e,y:L})};bg.boundLineEdgeInPlace=function(e,L,go,gp,gq,gr,gs){var gt=bg.$5(L,go,gp,gq,gr,gs);var gu=gt[0];var gv=gu;var gw=gt[1];var gx=gw;var gy=gt.length;for(var gz=0;gz<gy;gz=gz+2){gu=Math.min(gu,gt[gz]);gv=Math.max(gv,gt[gz]);gw=Math.min(gw,gt[gz+1]);gx=Math.max(gx,gt[gz+1])}tab.RectXYUtil.unionInPlace(e,{x:gu<<0,y:gw<<0,w:(gv-gu<<0)+1,h:(gx-gw<<0)+1})};bg.boundWedge=function(e,L,go,gp,gq){if(gp>gq){var gr=gp;gp=gq;gq=gr}if(gq-gp>=1){var gs=Math.ceil(2*go);return{x:Math.floor(e-go),y:Math.floor(L-go),w:gs,h:gs}}var gt=bg.toCanvasAngle(gp);var gu=bg.toCanvasAngle(gq);var gv=[];gv.push({x:e,y:L});gv.push({x:e+go*Math.cos(gt),y:L+go*Math.sin(gt)});gv.push({x:e+go*Math.cos(gu),y:L+go*Math.sin(gu)});var gw=gv;gt=cF.normalizeAngle(gt);gu=cF.normalizeAngle(gu);if(cF.isInBetweenAngles(0,gt,gu)){gw.push({x:e+go,y:L})}if(cF.isInBetweenAngles(bg.halfPI,gt,gu)){gw.push({x:e,y:L+go})}if(cF.isInBetweenAngles(bg.onePI,gt,gu)){gw.push({x:e-go,y:L})}if(cF.isInBetweenAngles(bg.oneAndHalfPI,gt,gu)){gw.push({x:e,y:L-go})}var gx=Number.POSITIVE_INFINITY;var gy=Number.POSITIVE_INFINITY;var gz=Number.NEGATIVE_INFINITY;var gA=Number.NEGATIVE_INFINITY;for(var gB=0;gB<gw.length;gB++){var gC=gw[gB];gx=Math.min(gx,gC.x);gy=Math.min(gy,gC.y);gz=Math.max(gz,gC.x);gA=Math.max(gA,gC.y)}return tab.RectXYUtil.rectXYFromMinAndMax(gx,gy,gz,gA)};bg.roundStartAndExtent=function(e,L,go){var gp=Math.round(e+L);e=Math.round(e);L=Math.max(Math.abs(gp-e),go);return{item1:e,item2:L}};bg.isPointInExpandedRectHelperF=function(e,L,go,gp,gq,gr,gs,gt,gu,gv){if(go<0){e+=go;go=Math.abs(go)}if(gp<0){L+=gp;gp=Math.abs(gp)}var gw=bg.roundStartAndExtent(e-gq,go+gq+gq,gs+gq+gq);var gx=bg.roundStartAndExtent(L-gr,gp+gr+gr,gt+gr+gr);var gy={x:ss.Int32.trunc(gx.item1),y:ss.Int32.trunc(gw.item1),w:ss.Int32.trunc(gx.item2),h:ss.Int32.trunc(gw.item2)};if(tab.RectXYUtil.inRectPointF(gy,{x:gu,y:gv})){return true}return false};bg.renderCustomShape=function(e,L,go,gp,gq){var gr=L.c['shape_id'].gv(go);if(ss.isValue(gr)){var gs=tab.ApplicationModel.get_instance().get_shapeManager();var gt=gs.getImageElement(gr);if(!ss.isValue(gt)){bg.renderCircle(e,L.c['x'].gv(go),L.c['y'].gv(go),L.c['size'].gv(go),bg.getShapeColorForLayer(L,go,gp,gq),2);return}if(!gt.complete){return}var gu=L.hasConstantColor;var gv=L.c['size'].gv(go);var gw=L.c['left'].gv(go);var gx=L.c['top'].gv(go);var gy;var gz;if(gt.naturalWidth>gt.naturalHeight){var gA=gt.naturalWidth/gt.naturalHeight;gy=gv;gz=gv/gA;gx+=Math.round((gv-gz)/2)}else{var gB=gt.naturalHeight/gt.naturalWidth;gy=gv/gB;gz=gv;gw+=Math.round((gv-gy)/2)}gy=Math.round(gy);gz=Math.round(gz);var gC=bg.$2(L,go,gp,gq);gp=((gp==='normalOn'&&gq==='colorOverrideOpaque')?'selectedOn':gp);var gD=tab.ShapeManager.getCacheKey$1(gr,gp,gq,gC.toString(),gy,gz);var gE=gs.getCachedCanvas(gD);if(ss.isNullOrUndefined(gE)){var gF=null;switch(gp){case'normalUnder':case'highlightedUnder':case'selectedUnder':{gF=function(){return eA.generateSelectedUnderCustomShape(gt,gC,tab.ShapeManager.selectionBorderSize,gy,gz)};break}case'normalOn':{if(gu){if(gq==='colorOverrideFog'){gF=function(){return eA.applyFoggingToImage(gt,L.foggedBackgroundColor,L.fogBlendFactor,gy,gz)}}}else{gF=function(){return eA.colorTransformImage(gt,gC,gy,gz)}}break}case'highlightedOn':{if(!gu){gF=function(){return eA.colorTransformImage(gt,gC,gy,gz)}}break}case'selectedOn':{if(!gu){gF=function(){gC=tab.ColorModel.fromColorModelPlusAlpha(gC,255);return eA.colorTransformImage(gt,gC,gy,gz)}}break}case'hoverOverlay':{gF=function(){return eA.generateOverlayForShape(gt,gC,tab.ShapeManager.selectionBorderSize,gy,gz)};break}case'pressedOverlay':{gF=function(){return eA.generateOverlayForShape(gt,gC,tab.ShapeManager.selectionBorderSize*2,gy,gz)};break}}if(!ss.isValue(gF)){gF=function(){return eA.generateCanvasAndPrescaleAsNeeded(gt,gy,gz)}}gE=gs.generateCachedCanvas(gD,gF)}if(ss.isValue(gE)){switch(gp){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{e.drawImage3(gE,gw-tab.ShapeManager.selectionBorderSize,gx-tab.ShapeManager.selectionBorderSize,gE.width,gE.height);break}case'pressedOverlay':{e.drawImage3(gE,gw-tab.ShapeManager.selectionBorderSize*2,gx-tab.ShapeManager.selectionBorderSize*2,gE.width,gE.height);break}case'normalOn':{e.set_alpha(gC.get_a());e.drawImage3(gE,gw,gx,gy,gz);break}default:{e.drawImage3(gE,gw,gx,gy,gz);break}}}else{}}};bg.$2=function(e,L,go,gp){var gq=bg.getShapeColorForLayer(e,L,go,gp);return tab.ColorModel.fromColorCode(gq)};bg.renderBarOutline=function(e,L,go,gp,gq,gr,gs,gt,gu,gv){e.set_lineWidth(gs);e.set_strokeStyle(gr);var gw=((Math.round(gs)%2===0)?0:0.5);var gx=bg.roundStartAndExtent(go,gq,gu);var gy=bg.roundStartAndExtent(L,gp,gt);if(gv){var gz=Math.min(gy.item2,gx.item2);gy={item1:gy.item1,item2:gz};gx={item1:gx.item1,item2:gz}}e.strokeRect(gy.item1+gw,gx.item1+gw,gy.item2,gx.item2)};bg.renderFilledBar=function(e,L,go,gp,gq,gr,gs,gt,gu){e.set_shapeFillStyle(gr);{var gv=bg.roundStartAndExtent(go,gq,gt);go=gv.item1;gq=gv.item2;var gw=bg.roundStartAndExtent(L,gp,gs);L=gw.item1;gp=gw.item2}if(gu){gp=gq=Math.min(gp,gq)}e.fillRect(L,go,gp,gq)};bg.renderRectangle=function(e,L,go,gp,gq,gr,gs){var gt=gp/2;var gu=gq/2;e.set_lineJoin('miter');e.set_lineWidth(gs);e.set_strokeStyle(gr);e.strokeRect(L-gt,go-gu,gp,gq)};bg.renderCircle=function(e,L,go,gp,gq,gr){e.beginPath();e.arc(L,go,gp/2,0,bg.twoPI,true);e.closePath();e.set_lineWidth(gr);e.set_strokeStyle(gq);e.stroke()};bg.renderFilledCircle=function(e,L,go,gp,gq){e.beginPath();e.arc(L,go,gp/2,0,bg.twoPI,true);e.closePath();e.set_shapeFillStyle(gq);e.fill()};bg.renderWedge=function(e,L,go,gp,gq,gr,gs,gt,gu,gv){var gw=bg.toCanvasAngle(gq);var gx=bg.toCanvasAngle(gr);if(Math.abs(gx-gw)<bg.angleEpsilon){return}if(ss.isNullOrUndefined(gu)){gu=false}var gy=Math.abs(gr-gq)>=1;e.beginPath();if(!gy){e.moveTo(L,go)}gw=bg.$6(gw);gx=bg.$6(gx);e.arc(L,go,gp,gw,gx,gu);e.closePath();e.set_lineJoin((gv?'miter':'round'));e.set_lineWidth(gt);e.set_strokeStyle(gs);e.stroke()};bg.createMultipolygonPath=function(e,L,go,gp,gq,gr,gs){if(ss.isNullOrUndefined(gs)){e.beginPath();e.arc(go,gp,gr/2,0,bg.twoPI,true);e.closePath()}else{if(!L){e.save();e.translate(go,gp);e.scale(gq,gq)}e.beginPath();switch(gs.TDA){case'multipolygon':{bg.addMultipolygonPath(e,gs.Zmn);break}case'multipoint':{bg.addMultipointPath(e,gs.gvB,gr/2);break}default:{break}}e.closePath();if(!L){e.restore()}}};bg.$5=function(e,L,go,gp,gq,gr){var gs=Math.atan2(gq-L,gp-e);var gt=Math.cos(gs);var gu=Math.sin(gs);go/=2;gr/=2;var gv=go*gu;var gw=gr*gu;var gx=go*gt;var gy=gr*gt;var gz=new Array(8);gz[0]=e+gv;gz[1]=L-gx;gz[2]=gp+gw;gz[3]=gq-gy;gz[4]=gp-gw;gz[5]=gq+gy;gz[6]=e-gv;gz[7]=L+gx;return gz};bg.$1=function(e,L,go){if(tab.BrowserSupport.get_canvasLinePattern()){e.lineTo(go.x,go.y)}else{switch(e.get_linePattern()){case'dashed':{bg.$0(e,L,go,eS.defaultLineDashDashed[0],eS.defaultLineDashDashed[1]);break}case'dotted':{bg.$0(e,L,go,eS.defaultLineDashDotted[0],eS.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(go.x,go.y);break}}}};bg.$0=function(e,L,go,gp,gq){var gr=e.get_lineWidth();gp=gr*gp;gq=gr*gq;e.moveTo(L.x,L.y);var gs=false;var gt=gp;var gu=L.x;var gv=L.y;var gw=go.x-L.x;var gx=go.y-L.y;var gy=gw*gw+gx*gx;gy=Math.sqrt(gy);var gz=gw/gy;var gA=gx/gy;while(gy>0){var gB=((gy>gt)?gt:gy);var gC=gu+gB*gz;var gD=gv+gB*gA;if(gs){e.moveTo(gC,gD)}else{e.lineTo(gC,gD)}gy-=gB;gt-=gB;if(gt===0){gs=!gs;gt=(gs?gq:gp)}gu=gC;gv=gD}};bg.$4=function(e,L){var go=tab.DomUtil.parseWidthFromStyle(e.style);go=(isNaN(go)?L:go);return go};bg.$3=function(e,L){var go=tab.DomUtil.parseHeightFromStyle(e.style);go=(isNaN(go)?L:go);return go};bg.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=bg;var bh=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot};bh.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=bh;var bi=function(){};bi.__typeName='tab.CanvasUtil';bi.sizeCanvasWithHighDPISupport=function(e,L,go){var gp=en.calculatePixelRatio();bi.setCanvasSizeAndDensify(e,gp,go);if(!tab.DoubleUtil.isApproximatelyEqual(gp,1)){bi.scaleCanvasDrawing(L,gp)}};bi.setCanvasSizeAndDensify=function(e,L,go){if(ss.isValue(e)){var gp={w:ss.Int32.trunc(go.w*L),h:ss.Int32.trunc(go.h*L)};bi.densifyCanvasUsingSize(e,gp,go)}};bi.densifyCanvasUsingSize=function(e,L,go){if(ss.isValue(e)&&ss.isValue(L)&&ss.isValue(go)){e.width=L.w;e.height=L.h;e.style.width=bi.$0(go.w);e.style.height=bi.$0(go.h)}};bi.scaleCanvasDrawing=function(e,L){if(ss.isValue(e)){e.pixelRatio=L;e.scale(L,L)}};bi.isOverCanvasSizeLimit=function(e,L,go){var gp=Math.floor(go*e*go*L+0.5);return gp>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};bi.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,bi.$0(e.height))};bi.$0=function(e){return e+'px'};global.tab.CanvasUtil=bi;var bj=function(e){var L=function(go,gp){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[e]).call(this,go,new bh);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=gp;this.context=bg.getRenderContext(this.canvasElt,gp);this.$h=en.calculatePixelRatio();tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(L,bj,[e],{add_sizeChange:function(go){this.$3$1=ss.delegateCombine(this.$3$1,go)},remove_sizeChange:function(go){this.$3$1=ss.delegateRemove(this.$3$1,go)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(go){if(!ss.isValue(this.canvasElt)){return}if(bi.isOverCanvasSizeLimit(go.w,go.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==go.w||this.get_effectiveViewSize().h!==go.h){this.$e={w:go.w,h:go.h};bi.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(go){if(!tab.PointUtil.equals(this.scrollOffset,go)){var gp=tab.PointFUtil.timesScalar(go,this.$h);var gq=tab.PointFUtil.round(gp);var gr=tab.PointUtil.subtract(gq,this.$g);var gs=tab.PointUtil.subtract(go,this.scrollOffset);this.$g=gq;this.scrollOffset=go;if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var gt={x:-gs.x,y:-gs.y};var gu=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),gt);this.set_dirtyRect(gu)}if(gs.x!==0&&gs.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var gv=gr.x;var gw=gr.y;var gx=this.get_actualViewSize().w-Math.abs(gv);var gy=((gv>0)?gv:0);var gz=((gv>0)?0:-gv);var gA=this.get_actualViewSize().h-Math.abs(gw);var gB=((gw>0)?gw:0);var gC=((gw>0)?0:-gw);if(gx<=0||gA<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,gy,gB,gx,gA,gz,gC,gx,gA);var gD={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(gs.x>0){gD.x=gD.w-gs.x}else if(gs.x<0){gD.w=-gs.x}if(gs.y>0){gD.y=gD.h-gs.y}else if(gs.y<0){gD.h=-gs.y}if(gs.x===0){gD.h=Math.abs(gs.y)}if(gs.y===0){gD.w=Math.abs(gs.x)}gD=tab.RectXYUtil.dialate(gD,3);this.invalidateRect(gD,true)}}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(go){if(ss.isValue(this.context)){this.context.dirtyRect=go}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[e]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(go){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.triggerRedraw(go)},invalidateRect:function(go,gp){var gq;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){gq=tab.RectXYUtil.clone(go)}else{gq=tab.RectXYUtil.union(this.get_dirtyRect(),go)}if(gq.x<0){gq.x=0}if(gq.x+gq.w>this.get_effectiveViewSize().w){gq.w=this.get_effectiveViewSize().w-gq.x}if(gq.y<0){gq.y=0}if(gq.y+gq.h>this.get_effectiveViewSize().h){gq.h=this.get_effectiveViewSize().h-gq.y}this.set_dirtyRect(gq);this.triggerRedraw(gp)},setXPos:function(go){this.set_scrollPos({x:go,y:this.get_scrollPos().y})},setYPos:function(go){this.set_scrollPos({x:this.get_scrollPos().x,y:go})},redraw:null,redrawFinished:null,triggerRedraw:function(go){var gp=ss.isValue(this.$i);go=go||false;if(go){this.$a();this.redraw();this.$9();if(gp){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()}else if(!gp){this.$a();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){if(ss.isValue(this.$i)){this.triggerRedraw(true)}},$a:function(){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();var go=!this.$f&&this.$j.isBusy();if(go){this.$j.addref(false);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=bq.get_instance().hold(1)}return false},$9:function(){if(this.$f){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e]),spiff.IScrollable]});return L};bj.__typeName='tab.CanvasView$1';ss.initGenericClass(bj,a,1);global.tab.CanvasView$1=bj;var bk=function(e,L){this.$i=null;this.$j=null;this.$k=null;ey.call(this,e,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=L};bk.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=bk;var bl=function(){this.$0=null;this.$1=null;ez.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};bl.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=bl;var bm=function(e,L){React.Component.call(this,e,L);this.state={isOpen:false}};bm.__typeName='tab.CollapsibleComponent';global.tab.CollapsibleComponent=bm;var bn=function(){this.command=null;ss.EventArgs.call(this)};bn.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=bn;var bo=function(){};bo.__typeName='tab.CommonDialogProviderImpl';bo.$0=function(){var e=document.createElement('div');return e};global.tab.CommonDialogProviderImpl=bo;var bp=function(){};bp.__typeName='tab.CommonDialogProviderTelemetry';bp.$1=function(e,L,go){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',['Title',e,'Content',L,'Links',(_.isArray(go)?JSON.stringify(go):'')])}};bp.$0=function(e,L){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var go=ss.coalesce(L.ErrorType,'');var gp=ss.coalesce(L.ErrorMessage,'');var gq=ss.coalesce(L.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',['Context',e,'ErrorType',go,'Message',gp,'RedirectUrl',gq])}};global.tab.CommonDialogProviderTelemetry=bp;var bq=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};bq.__typeName='tab.CompletionMonitor';bq.get_instance=function(){if(ss.isNullOrUndefined(bq.$0)){bq.$0=new bq}return bq.$0};global.tab.CompletionMonitor=bq;var br=function(){};br.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=br;var bs=function(e,L){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=L};bs.__typeName='tab.CompletionToken';global.tab.CompletionToken=bs;var bt=function(){};bt.__typeName='tab.ConfirmationCommandRedirectHandler';bt.$0=function(e){var L=$.Deferred();var go=e['bQT'.toString()];var gp=$('<div>').append($('<div>').text(go.E_S).css('white-space','pre-wrap'));var gq=gp.html();bv.showConfirmation(gq,function(gr){var gs=((gr==='confirm')?go.MUY:go.XNG);if(ss.isNullOrUndefined(gs)){L.resolve();return}var gt=tab.CommandSerializer.deserialize(tab.SimpleCommandsPresModelWrapper.create(gs).get_simpleCommand());tab.ServerCommands.executeServerCommand(gt,'immediately',tab.CommandUtils.createCommandRedirectSuccessHandler(L),function(){L.reject()})});return L.promise()};global.tab.ConfirmationCommandRedirectHandler=bt;var bu=function(e){this.confirmViewModel=null;this.$g=null;this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bv]).call(this,e,spiff.Template.fromHtml("<div class='tabConfirmation'>"));this.confirmViewModel=e;this.confirmViewModel.add_shown(ss.mkdel(this,this.$d));this.confirmViewModel.add_hidden(ss.mkdel(this,this.$c));this.buildDom()};bu.__typeName='tab.ConfirmationView';global.tab.ConfirmationView=bu;var bv=function(){this.$5=null;this.$3=tab.Strings.ConfirmationButtonConfirm;this.$4=tab.Strings.ConfirmationButtonDeny;this.$8=tab.Strings.ConfirmationTitle;this.$6=true;this.$7=true;this.$a=false;this.$9=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};bv.__typeName='tab.ConfirmationViewModel';bv.create=function(e,L){var go=new bv;go.set_messageHtml(e);go.disposeOnHide();go.add_hidden(L);go.disposables.add$1(new tab.CallOnDispose(function(){go.remove_hidden(L)}));return go};bv.showConfirmation=function(e,L){var go=bv.create(e,L);go.show()};bv.showNotification=function(e,L){var go=bv.create(e,L);go.set_titleText(tab.Strings.WarningTitle);go.set_showDenyButton(false);go.set_confirmText(tab.Strings.DialogButtonOK);go.show()};global.tab.ConfirmationViewModel=bv;var bw=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bz,bx,Object]).call(this,spiff.ObjectRegistry.newView(bz).call(null,[e.viewModel]),e,L)};bw.__typeName='tab.CustomViewsComponent';global.tab.CustomViewsComponent=bw;var bx=function(){this.viewModel=null};bx.__typeName='tab.CustomViewsProps';global.tab.CustomViewsProps=bx;var by=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};by.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=by;var bz=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[bA]).call(this,e,new by);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};bz.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=bz;var bA=function(){this.$s=null;this.$q=[];this.$r=[];this.$p=bA.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$s=new tab.CustomizedViewSession(tab.CommandController.get().get_legacySession());if(tsConfig.allow_custom_views){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};bA.__typeName='tab.CustomViewsViewModel';bA.$0=function(e,L){return ss.compareStrings(e.name,L.name,true)};global.tab.CustomViewsViewModel=bA;var bB=function(e,L){this.dashboardNode=null;spiff.Template.call(this,$(e));if(L){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bB.__typeName='tab.DashboardTemplate';bB.newDashboardTemplate=function(){var e='';var L=false;if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){e="<div class='tab-gutter'><div class='tab-dashboard' role='main'/></div>";L=true}else{e="<div class='tab-dashboard' role='main'/>"}return new bB(e,L)};global.tab.DashboardTemplate=bB;var bC=function(e){this.$f=null;ss.makeGenericType(spiff.BaseView$1,[bD]).call(this,e,bB.newDashboardTemplate());this.$f=e;this.$f.add_formatsChanged(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_formatsChanged(ss.mkdel(this,this.$a))})));this.$f.add_newZone(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_newZone(ss.mkdel(this,this.$b))})));this.$f.add_vizRebuildStart(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_vizRebuildStart(ss.mkdel(this,this.$d))})));this.$f.add_sizeChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_sizeChanged(ss.mkdel(this,this.$c))})))};bC.__typeName='tab.DashboardView';bC.findDashboard=function(){return $('.tab-dashboard')};bC.uniquefyClonedFilterRadioElements=function(e){var L=e.find('input:radio');for(var go=0;go<L.length;++go){var gp=L[go];var gq=ss.coalesce(gp.getAttribute('name'),'');gq+='_%%%CLONE%%%';gp.setAttribute('name',gq)}};global.tab.DashboardView=bC;var bD=function(e){this.$n={};this.$m=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$8));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$9));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$k));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$h))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$e))})));this.viewControllers=[];this.$2()};bD.__typeName='tab.DashboardViewModel';bD.new$1=function(e){return new bD(e)};global.tab.DashboardViewModel=bD;var bE=function(e,L){React.Component.call(this,e,L)};bE.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bE;var bF=function(e){this.$u=null;this.$y=null;this.$t=null;this.$w=null;this.$x=false;this.$v='';this.$s=null;this.$3$1=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);if(!tsConfig.is_guest){this.$u=e;this.$s=new fG.$ctor1(e.get_recipients(),tab.Strings.DataAlertsRecipientsSearchPlaceholder);this.$s.setUserValidator(ss.mkdel(this,this.$o),tab.Strings.UserHasNoEmailAddressWarning);this.$l();var L=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(L.length>bF.maxTitleLength){L=L.substr(0,bF.maxTitleLength-3)+'...'}this.$g(L);this.$k();this.refresh()}};bF.__typeName='tab.DataAlertCreateViewModel';bF.getOperationTypeText=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};bF.getNotificationIntervalText=function(e){switch(e){case 0:{return tab.Strings.NotificationIntervalEveryTime}case 2147483647:{return tab.Strings.NotificationIntervalOnlyOnce}case 60:{return tab.Strings.NotificationIntervalHourly}case 1440:{return tab.Strings.NotificationIntervalDaily}case 10080:{return tab.Strings.NotificationIntervalWeekly}default:{return''}}};global.tab.DataAlertCreateViewModel=bF;var bG=function(e){this.$a=null;this.dataAlertDialogClass='tab-dataAlertDialog';ss.makeGenericType(spiff.BaseView$1,[bH]).call(this,e,new spiff.Template($("<div class='tab-ignored' />")));var L=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bF,bE,Object])).call(null,[this.get_viewModel().get_createViewModel()]);if(tab.FeatureFlags.isEnabled('AlertSidePanel')){this.$a=new spiff.DockableSideDialog(this.get_viewModel().titleUnescaped,L.get_rootElement(),true,fk.get_toolbarHeight())}else{this.$a=new spiff.ModalDialog.$ctor1(this.get_viewModel().titleUnescaped,L.get_rootElement());if(tsConfig.is_mobile){this.$a.set_maximized(true)}this.$a.set_position(this.get_viewModel().dialogPosition)}this.$9();this.$a.set_stayInWindow(true);this.$a.set_setFocusOnShow(true);this.$a.set_titleUnescaped(this.get_viewModel().titleUnescaped);this.$a.set_position(this.get_viewModel().dialogPosition);this.$a.disableTextSelection();this.$a.configMoveDragSource(spiff.Dialog.defaultDraggableDialogConfigurer);this.$a.get_dialogElement().addClass(this.dataAlertDialogClass);this.$a.show();this.get_viewModel().get_createViewModel().refresh()};bG.__typeName='tab.DataAlertDialogView';global.tab.DataAlertDialogView=bG;var bH=function(e){this.$6=null;this.dialogViewModelDisposed=null;this.dialogPosition=null;this.titleUnescaped=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.titleUnescaped=tab.Strings.DataAlertDialogTitle;if(ss.isValue(e)){this.updateFromDialogPresModel(e)}};bH.__typeName='tab.DataAlertDialogViewModel';bH.get_dataAlertModelExistsAndVisibleInApplicationModel=function(){return ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel())&&ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)&&tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm.KPJ};bH.handleDataAlertClick=function(e,L){if(!ss.isNullOrEmptyString(L)){dN.showNotification(L);return}if(!e){dN.showNotification(tab.Strings.DataAlertDisabledExplanation);return}tab.DataAlertCommands.newDataAlert(function(){dN.showNotification(tab.Strings.DataAlertInitFailure)})};global.tab.DataAlertDialogViewModel=bH;var bI=function(){this.$5=null;this.$9=null;this.$7=null;this.$8=null;this.$6=null;this.$1=null;this.$2=null;this.$4=null;this.$3=null;spiff.Template.call(this,$("\n<div class='tabDataConnectionPrompt'>\n    <div class='tabDataConnPromptCtrlArea'>\n        <div class='tabDataConnPromptVarListArea'>\n            <div class='tabDataConnPromptVarListInstr'/>\n            <div class='tabDataConnPromptVarListHeader'>\n                <span class='tabDataConnPromptVarListHeaderName'/>\n                <span class='tabDataConnPromptVarListHeaderValue'/>\n            </div>\n            <div class='tabDataConnPromptVarListContainer'/>\n        </div>\n        <div class='tabDataConnPromptEditArea'>\n            <div class='tabDataConnPromptEditTitle'/>\n            <div class='tabDataConnPromptEditInstr'/>\n        </div>\n    </div>\n    <div class='tabDataConnPromptBtnArea'/>\n</div>"));this.$5=this.getElementBySelector('.tabDataConnPromptVarListArea');this.$9=this.getElementBySelector('.tabDataConnPromptVarListInstr');this.$7=this.getElementBySelector('.tabDataConnPromptVarListHeaderName');this.$8=this.getElementBySelector('.tabDataConnPromptVarListHeaderValue');this.$6=this.getElementBySelector('.tabDataConnPromptVarListContainer');this.$1=this.getElementBySelector('.tabDataConnPromptBtnArea');this.$2=this.getElementBySelector('.tabDataConnPromptEditArea');this.$4=this.getElementBySelector('.tabDataConnPromptEditTitle');this.$3=this.getElementBySelector('.tabDataConnPromptEditInstr')};bI.__typeName='tab.DataConnectionPromptTemplate';global.tab.DataConnectionPromptTemplate=bI;var bJ=function(e){this.$j=null;this.$g=null;this.$h=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[bK]).call(this,e,new bI);var L=this.get_viewModel();L.variableFirstEdited=ss.delegateCombine(L.variableFirstEdited,ss.mkdel(this,this.$b));var go=this.get_viewModel();go.variableInEditDeleted=ss.delegateCombine(go.variableInEditDeleted,ss.mkdel(this,this.$c));var gp=this.get_viewModel();gp.contentChanged=ss.delegateCombine(gp.contentChanged,ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var gq=this.get_viewModel();gq.variableFirstEdited=ss.delegateRemove(gq.variableFirstEdited,ss.mkdel(this,this.$b));var gr=this.get_viewModel();gr.variableInEditDeleted=ss.delegateRemove(gr.variableInEditDeleted,ss.mkdel(this,this.$c));var gs=this.get_viewModel();gs.contentChanged=ss.delegateRemove(gs.contentChanged,ss.mkdel(this,this.$e))})));this.$j=spiff.ObjectRegistry.newView(bQ).call(null,[this.get_viewModel().get_variableListViewModel()]);this.$d()};bJ.__typeName='tab.DataConnectionPromptView';global.tab.DataConnectionPromptView=bJ;var bK=function(e){this.$6=null;this.$4=null;this.$5=null;this.variableFirstEdited=null;this.variableInEditDeleted=null;this.contentChanged=null;this.promptUpdated=null;spiff.BaseViewModel.call(this);this.$4=e;this.$6=new bR(this.$4);this.promptUpdated=ss.delegateCombine(this.promptUpdated,ss.mkdel(this,this.$2));var L=this.get_variableListViewModel();L.selectedVariableChanged=ss.delegateCombine(L.selectedVariableChanged,ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.promptUpdated=ss.delegateRemove(this.promptUpdated,ss.mkdel(this,this.$2));var go=this.get_variableListViewModel();go.selectedVariableChanged=ss.delegateRemove(go.selectedVariableChanged,ss.mkdel(this,this.$3))})))};bK.__typeName='tab.DataConnectionPromptViewModel';global.tab.DataConnectionPromptViewModel=bK;var bL=function(e,L,go){this.$4=null;this.$3=null;this.$2=false;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$4=e;this.$3=L;this.$2=go};bL.__typeName='tab.DataConnectionVariableDisplayViewModel';global.tab.DataConnectionVariableDisplayViewModel=bL;var bM=function(e){this.$k=null;this.$j=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[bN]).call(this,e,new t);this.$k=new spiff.ComboBoxViewModel;this.$j=new spiff.ComboBoxViewModel;this.$l=new spiff.ComboBoxViewModel;this.$k.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$j.add_selectedItemChanged(ss.mkdel(this,this.$a));this.$l.add_selectedItemChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_selectedItemChanged(ss.mkdel(this,this.$a));this.$l.remove_selectedItemChanged(ss.mkdel(this,this.$c))})));this.$i().$9().blur(ss.mkdel(this,function(L){this.$d()}));this.$i().$9().keyup(ss.mkdel(this,this.$e));this.get_viewModel().add_contentUpdated(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_contentUpdated(ss.mkdel(this,this.$f))})));this.$9();this.$f()};bM.__typeName='tab.DataConnectionVariableEditView';global.tab.DataConnectionVariableEditView=bM;var bN=function(e,L,go,gp,gq){this.$4=null;this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$4=e;this.$3=L;this.$2=go;this.set_fromLabel(gp);this.set_toLabel(gq)};bN.__typeName='tab.DataConnectionVariableEditViewModel';global.tab.DataConnectionVariableEditViewModel=bN;var bO=function(){this.$2=null;this.$3=null;this.$1=null;spiff.Template.call(this,$("\n<span class='tabDataConnPromptVarListItem'>\n    <div class='tabDataConnPromptVarName tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptVarValue tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptDeleteVarBtnArea'/>\n</span>"));this.$2=this.getElementBySelector('.tabDataConnPromptVarName');this.$3=this.getElementBySelector('.tabDataConnPromptVarValue');this.$1=this.getElementBySelector('.tabDataConnPromptDeleteVarBtnArea')};bO.__typeName='tab.DataConnectionVariableListItemTemplate';global.tab.DataConnectionVariableListItemTemplate=bO;var bP=function(e){ss.makeGenericType(spiff.BaseView$1,[bL]).call(this,e,new bO)};bP.__typeName='tab.DataConnectionVariableListItemView';global.tab.DataConnectionVariableListItemView=bP;var bQ=function(e){this.$j=null;this.$f=null;this.$i=null;this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[bR]).call(this,e,new fI);var L=this.get_viewModel();L.contentChanged=ss.delegateCombine(L.contentChanged,ss.mkdel(this,this.$d));var go=this.get_viewModel();go.selectedVariableChanged=ss.delegateCombine(go.selectedVariableChanged,ss.mkdel(this,this.onSelectedVariableChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var gp=this.get_viewModel();gp.contentChanged=ss.delegateRemove(gp.contentChanged,ss.mkdel(this,this.$d));var gq=this.get_viewModel();gq.selectedVariableChanged=ss.delegateRemove(gq.selectedVariableChanged,ss.mkdel(this,this.onSelectedVariableChanged))})))};bQ.__typeName='tab.DataConnectionVariableListView';global.tab.DataConnectionVariableListView=bQ;var bR=function(e){this.$7=null;this.$5=null;this.$8=null;this.$6=null;this.contentChanged=null;this.selectedVariableChanged=null;this.variableAdded=null;spiff.BaseViewModel.call(this);this.$5=e;this.$6=_.map(this.$5.get_connectionVariables(),function(L){return new bS(L)});this.$7=new spiff.ListViewModel(this.$4(),0);this.$7.add_selectionChanged(ss.mkdel(this,this.$3))};bR.__typeName='tab.DataConnectionVariableListViewModel';global.tab.DataConnectionVariableListViewModel=bR;var bS=function(e){this.$2=null;this.$4=null;this.$3=null;spiff.BaseViewModel.call(this);this.$2=e;_.each(this.$4,function(L){L.dispose()});this.$4=_.map(this.$2.get_values(),ss.mkdel(this,function(L){return new bL(this.$2,L,false)}));this.$3=new bL(this.$2,this.$2.get_defaultValue(),true)};bS.__typeName='tab.DataConnectionVariableViewModel';global.tab.DataConnectionVariableViewModel=bS;var bT=function(e,L){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[bV]).call(this,e,L);this.dataHighlighterViewModel=e;this.$m=L.domRoot;this.dataHighlighterContentElement=L.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=L.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=L.get_zoneTitleRegionRootElement();this.$l=spiff.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_fullDomainTotalNumItemsInSetChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_fullDomainTotalNumItemsInSetChanged(ss.mkdel(this,this.$9));this.$g()})))};bT.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=bT;var bU=function(){};bU.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=bU;var bV=function(e,L,go){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=0;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=L;this.$8=go;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=this.$5.get_fullDomainItemSet().hjl;if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)&&this.$8.get_hasTitle()){this.$b=this.$8.get_model().pm.KDk}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};bV.__typeName='tab.DataHighlighterViewModel';global.tab.DataHighlighterViewModel=bV;var bW=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};bW.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=bW;var bX=function(e,L){this.$0=null;bc.call(this,e,L);this.$0=new cq(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};bX.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=bX;var bY=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var L=new Date;this.$p=bY.$4(bY.$2(e.monthToShow)||L);this.$B=bY.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var go=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());go.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(gp){spiff.EventUtil.stopEvent(gp)});this.$l()};bY.__typeName='tab.DatePicker';bY.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};bY.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};bY.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};bY.$1=function(e,L,go,gp){if(e+L>gp){e=gp-L;if(e<go){e+=Math.ceil((go-e)/2)}}return e};bY.$0=function(e,L){return(e+L+14)%7};bY.$5=function(e,L){return e.getFullYear()===L.getFullYear()&&e.getMonth()===L.getMonth()&&e.getDate()===L.getDate()};global.tab.DatePicker=bY;var bZ=function(e,L,go,gp,gq,gr,gs,gt,gu){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(L)?null:new Date(L.getTime()));this.minDate=(ss.isNullOrUndefined(go)?null:new Date(go.getTime()));this.maxDate=(ss.isNullOrUndefined(gp)?null:new Date(gp.getTime()));this.firstDayOfWeek=ss.coalesce(gq,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(gr)?['S','M','T','W','T','F','S']:ss.arrayClone(gr));this.todayFormatTemplate=(ss.isNullOrUndefined(gs)?'Today: {0}':gs);this.monthYearFormatter=(ss.isNullOrUndefined(gt)?function(gv){return ss.localeFormatDate(bY.$2(gv),'MMMM yyyy')}:gt);this.fullDateFormatter=(ss.isNullOrUndefined(gu)?function(gv){return ss.localeFormatDate(bY.$2(gv),'MMMM d, yyyy')}:gu)};bZ.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=bZ;var ca=function(){React.Component.call(this)};ca.__typeName='tab.DialogHostComponent';global.tab.DialogHostComponent=ca;var cb=function(){this.$7=false;this.$6=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};cb.__typeName='tab.DialogHostViewModel';global.tab.DialogHostViewModel=cb;var cc=function(){};cc.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=cc;var cd=function(e,L,go){this.$c=null;bg.call(this,e,L);this.$c=go||dk.defaultColors};cd.__typeName='tab.DisplayList2DRenderer';cd.setTextProperties=function(e,L,go){e.set_textFillStyle(L.YhU);var gp=new ss.StringBuilder;if(L.BxQ==='font-style-italic'){gp.append('italic ')}if(L.cjf==='font-weight-bold'){gp.append('bold ')}if(ss.isValue(L.zwp)&&L.zwp==='text-decoration-underline'){e.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(go)||go<=0){go=L.Qvi}var gq=cd.$1(L.sGS);gp.append(go+'pt '+gq);e.set_font(gp.toString());e.set_textBaseline(cA.$1(L.Uec))};cd.$1=function(e){var L=cd.$a.cl[e];if(ss.isValue(L)){return L}var go=ss.trimString(e,[39,34]);var gp=go.split(' ');var gq=[];for(var gr=gp.length;gr>0;--gr){gq.push(cA.addQuotationMarks(gp.join(' '),true));gp.pop()}cA.addDefaultFontForTableau(gq);var gs=gq.join(', ');cd.$a.add(e,gs);return gs};cd.$0=function(e,L){var go=L;e.set_textFillStyle(tab.ColorModel.convertColorForCanvas(go.YhU));if(ss.isValue(go.FYO)){var gp=go.FYO*Math.PI/180;e.set_textAngle(gp)}else{e.set_textAngle(0)}var gq=new ss.StringBuilder;if(go.QRh){gq.append('italic ')}if(go.xjH){gq.append('bold ')}if(go.eXK){}var gr=eS.defaultTextAlign;if(e.get_isTextAngleHorizontal()){var gs=go.nsE||'h-align-left';if(gs==='h-align-right'){gr='end'}}else{var gt=go.$Q||'v-align-top';if(e.get_textAngle()<0&&gt==='v-align-top'||e.get_textAngle()>0&&gt==='v-align-bottom'){gr='end'}}e.set_textAlign(gr);e.set_shouldUnderlineText(go.hhs||false);var gu=go.sGS||'Arial';gu=cd.$1(gu);var gv=go.pmz||8;gq.append(gv+'pt '+gu);e.set_font(gq.toString())};cd.$2=function(e,L,go){var gp=L;if(gp.WzG.length!==4){return}var gq=gp.WzG[2]-gp.WzG[0];var gr=gp.WzG[3]-gp.WzG[1];var gs=gp.WzG[0]+gq/2;var gt=gp.WzG[1]+gr/2;var gu=((gq<gr)?gq:gr)/2;var gv=((gq<gr)?1:(gq/gr));var gw=((gr<gq)?1:(gr/gq));e.save();e.beginPath();e.translate(gs,gt);e.scale(gv,gw);e.arc(0,0,gu,0,bg.twoPI,false);e.closePath();if(go){e.fill()}else{e.stroke()}e.restore()};cd.$3=function(e,L,go){var gp=L.xCr;if(!go&&Math.round(e.get_lineWidth())%2===1){gp=ss.arrayClone(gp);for(var gq=0,gr=gp.length;gq<gr;++gq){gp[gq]+=0.5}}var gs=L.Dpc;var gt=Math.floor(gp.length/2);if(gt<2){return}e.beginPath();var gu=0;for(var gv=0;gv<gs.length;gv++){var gw=gs[gv];switch(gw){case'moveto':{{e.moveTo(gp[gu],gp[gu+1]);gu+=2}break}case'lineto':{{e.lineTo(gp[gu],gp[gu+1]);gu+=2}break}case'curveto':{{e.bezierCurveTo(gp[gu],gp[gu+1],gp[gu+2],gp[gu+3],gp[gu+4],gp[gu+5]);gu+=6}break}default:{{}break}}}if(go){e.fill()}else{e.stroke()}};cd.$5=function(e){switch(e.VzB){case'Osj':case'nuS':case'uXb':case'$OC':case'MqA':case'jp$':case'nfx':case'mpa':case'eTm':{return true}}return false};cd.$6=function(e,L){if(!L){return e}var go=cd.$4(e);if(go.length===0){return e}var gp=ss.arrayClone(e);var gq=function(gv,gw){var gx=gp[gv];gp[gv]=gp[gw];gp[gw]=gx};for(var gr=0;gr<go.length;gr++){var gs=go[gr];for(var gt=0;gt<ss.Int32.div(gs.length,2);++gt){var gu=gs.length-1-gt;gq(gs[gt].item1,gs[gu].item1);gq(gs[gt].item2,gs[gu].item2)}}return gp};cd.$4=function(e){var L=[];var go=-99999999;var gp=false;var gq=-1;var gr=[];for(var gs=0;gs<e.length;gs++){var gt=e[gs];if(gt.VzB==='MqA'){var gu=gt;gp=ss.isValue(gu.nsE)&&gu.nsE==='h-align-right';gq=gs}else if(gp&&gt.VzB==='ADd'){var gv=gt;var gw=gv.WzG[1];if(gw!==go){if(gr.length>=2){L.push(gr)}gr=[]}gr.push({item1:gq,item2:gs});go=gw}}if(gr.length>=2){L.push(gr)}return L};global.tab.DisplayList2DRenderer=cd;var ce=function(){};ce.__typeName='tab.DisplayList2DUtils';ce.rectXYFromDrawRect=function(e){return{x:e[0],y:e[1],w:e[2]-e[0],h:e[3]-e[1]}};global.tab.DisplayList2DUtils=ce;var cf=function(){this.woffLocation=null;tab.FontProperties.call(this)};cf.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=cf;var cg=function(){};cg.__typeName='tab.DownloadableFontPropertiesExtensions';cg.toDownloadableFontProperties=function(e,L){var go=new cf;go.set_fontFamily(e.get_fontFamily());go.set_style(e.get_style());go.set_weight(e.get_weight());go.woffLocation=L;return go};global.tab.DownloadableFontPropertiesExtensions=cg;var ch=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[cm,cj,Object]).call(this,spiff.ObjectRegistry.newView(cm).call(null,[e.viewModel]),e,L)};ch.__typeName='tab.DownloadComponent';global.tab.DownloadComponent=ch;var ci=function(e,L,go,gp){this.$3=null;this.$2=null;this.$4=null;this.$5=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(L,'message');tab.Param.verifyString(go,'url');tab.Param.verifyString(gp,'urlTarget');this.$3=e;this.$2=L;this.$4=go;this.$5=gp};ci.__typeName='tab.DownloadFileDialog';ci.$0=function(e){var L=React.createElement(SharedWidgets.ButtonWidget,{handleClick:e,buttonType:7,testId:'CancelBtn',label:tab.Strings.DialogButtonCancel});var go=React.createElement(SharedWidgets.InlineBlock,{children:L});return go};global.tab.DownloadFileDialog=ci;var cj=function(){this.viewModel=null};cj.__typeName='tab.DownloadProps';global.tab.DownloadProps=cj;var ck=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};ck.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=ck;var cl=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};cl.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=cl;var cm=function(e){this.$i=null;this.$h=null;this.$g=null;this.$j=false;ss.makeGenericType(spiff.BaseView$1,[cn]).call(this,e,new cl);this.$i=e;this.$j=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<715;if(this.$j){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};cm.__typeName='tab.DownloadView';global.tab.DownloadView=cm;var cn=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e};cn.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=cn;var co=function(e){this.shouldLoadIntoIframe=false;this.frameTestHook=null;spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};co.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=co;var cp=function(e,L){this.$P=null;co.call(this,e);this.$P=L;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};cp.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=cp;var cq=function(e,L,go){this.$P=null;this.urlToLoadDialogContent=null;co.call(this,e);this.$P=go;this.urlToLoadDialogContent=L;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};cq.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=cq;var cr=function(){};cr.__typeName='tab.EmailValidator';cr.validate=function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>cr.maxEmailLength){return false}var L=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return L.test(e)};global.tab.EmailValidator=cr;var cs=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};cs.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=cs;var ct=function(e){ss.makeGenericType(spiff.BaseView$1,[cu]).call(this,e,new cs)};ct.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=ct;var cu=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};cu.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=cu;var cv=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};cv.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=cv;var cw=function(){this.$0=null;this.$0={}};cw.__typeName='tab.ExportHelper';global.tab.ExportHelper=cw;var cx=function(e,L,go,gp,gq){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$8=null;this.toolbarType=null;this.$7=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(e);this.api=L;this.toolbarType=go;this.canZoomHome=false;this.geoSearchEnabled=gq;this.element.css({top:gp+'px'})};cx.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=cx;var cy=function(){};cy.__typeName='tab.FontMetricsLogger';cy.logUIStabilized=function(){cy.$0('UI Stabilized')};cy.logFontsLoaded=function(){cy.$0('AllFontsDownloaded')};cy.$0=function(e){var L={};L['t']=tabBootstrap.MetricsController.getTiming();L['d']=e;var go=new tabBootstrap.MetricsEvent('gen',128,L);tabBootstrap.MetricsController.logEvent(go)};global.tab.FontMetricsLogger=cy;var cz=function(){this.normalizeFont=null;this.normalizeFont=(tab.BrowserSupport.get_isIE()?cz.$0:cz.$2)};cz.__typeName='tab.FontNormalizer';cz.instance=function(){if(ss.isNullOrUndefined(cz.$4)){cz.$4=new cz;cz.$1()}return cz.$4};cz.$0=function(e){var L=e.split(' ');var go;var gp=false;for(var gq=0;gq<L.length;++gq){go=cz.$3[L[gq]];if(!(typeof(go)==='undefined')){gp=true;L[gq]=go}}if(gp){return L.join(' ')}return e};cz.$2=function(e){return e};cz.$1=function(){if(ss.isValue(cz.$3)){return}if(tab.BrowserSupport.get_isIE()){cz.$3={};cz.$3['']='DLCMingMedium';cz.$3['']='DLCMingBold';cz.$3['']='Ming Light';cz.$3['']='PMingLiU';cz.$3['-ExtB']='MingLiU-ExtB';cz.$3['-ExtB']='PMingLiU-ExtB';cz.$3['MS']='MS Song';cz.$3['']='NSimSun';cz.$3['']='SimSun';cz.$3['']='SimSun';cz.$3['-18030']='SimSun-18030';cz.$3['-18030']='NSimSun-18030';cz.$3['']='SimSun (Founder Extended)';cz.$3['ExtA']='SimSun-ExtA';cz.$3['ExtB']='SimSun-ExtB';cz.$3['']='STSong';cz.$3['']='STZhongsong';cz.$3['']='MS';cz.$3['']='Mincho';cz.$3['']='PMincho';cz.$3['']='Heisei Minch';cz.$3['']='Rybund Minch';cz.$3['']='Kozuka Minch';cz.$3['']='Batang';cz.$3['']='BatangChe';cz.$3['']='Gungsuh';cz.$3['']='GungsuhChe';cz.$3['']='STHeiti Light';cz.$3['']='Microsoft JhengHei';cz.$3['']='Microsoft YaHei';cz.$3['MS']='MS Hei';cz.$3['']='MHei';cz.$3['']='SimHei';cz.$3['']='Meiryo';cz.$3['']='Gothic';cz.$3['']='PGothic';cz.$3['']='Dotum';cz.$3['']='DotumChe';cz.$3['']='Gulim';cz.$3['']='GulimChe';cz.$3['']='Malgun';cz.$3['']='Gothic';cz.$3['']='New Gulim';cz.$3['']='KaiU';cz.$3['']='SimKai';cz.$3['_GB2312']='SimKai';cz.$3['']='STKaiti';cz.$3['']='SimLi';cz.$3['']='SimLi';cz.$3['']='SimFang';cz.$3['']='SimFang';cz.$3['']='SimYou';cz.$3['']='HuaWen Xingkai';cz.$3['']='HuaWen CaiYun';cz.$3['']='FangZheng ShuTi';cz.$3['']='FangZheng QiTi';cz.$3['']='HanYi XueJun';cz.$3['']='HuaKang ShaoNu';cz.$3['']='HuaKang WuaWua'}};global.tab.FontNormalizer=cz;var cA=function(){};cA.__typeName='tab.FormattingConverters';cA.getCSSBorderStyle=function(e){var L='solid';switch(e){case'bs-dashed':{L='dashed';break}case'bs-dotted':{L='dotted';break}case'bs-double':{L='double';break}case'bs-groove':{L='groove';break}case'bs-hidden':{L='hidden';break}case'bs-inset':{L='inset';break}case'bs-outset':{L='outset';break}case'bs-ridge':{L='ridge';break}case'bs-solid':{L='solid';break}case'bs-none':{L='none';break}default:{break}}return L};cA.makeStyledBoxCssDict=function(e,L){var go={};if(ss.isValue(e)){go=cA.makeBorderStyleDict(e);if(e.iKN){var gp=tab.ColorModel.fromColorCode(e.eBu);go['background-color']=(L?gp.toString():gp.toRgb())}}return go};cA.makeFormatStyleDict=function(e,L){if(ss.isNullOrUndefined(e)){return{}}var go={'font-size':e.Qvi+'pt',color:e.YhU};if(ss.isValue(e.sGS)&&ss.keyExists(cA.$4,e.sGS)){go['font-family']=cA.$4[e.sGS]}else if(ss.isValue(e.sGS)){var gp=e.sGS.split(',');cA.addDefaultFontForTableau(gp);for(var gq=0;gq<gp.length;gq++){gp[gq]=cA.addQuotationMarks(gp[gq].trim(),false)}go['font-family']=gp.join(',');cA.$4[e.sGS]=go['font-family']}if(ss.isValue(L)){go.color=L}if(e.BxQ==='font-style-italic'){go['font-style']='italic'}if(e.cjf==='font-weight-bold'){go['font-weight']='bold'}var gr='none';switch(e.zwp){case'text-decoration-overline':{gr='overline';break}case'text-decoration-strikethrough':{gr='line-through';break}case'text-decoration-underline':{gr='underline';break}}if(gr!=='none'){go['text-decoration']=gr}if(ss.isValue(e.inn)){switch(e.inn){case'text-wrap-off':{go['white-space']='nowrap';break}case'text-wrap-truncate':{go['overflow-x']='hidden';break}}}return go};cA.addQuotationMarks=function(e,L){if(tab.MiscUtil.isNullOrEmpty$1(e)){return(L?"''":'""')}var go=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(go)===39||e.charCodeAt(0)===34&&e.charCodeAt(go)===34){return e}if(e.indexOf(' ')!==-1){var gp=(L?"'":'"');e=gp+e+gp}return e};cA.makeBorderStyleDict=function(e){var L={};if(ss.isValue(e.s$V)){L['border-width']=e.s$V+'px'}if(ss.isValue(e.mjt1)){L['border-color']=e.mjt1}if(ss.isValue(e.s$V)){L['border-style']=cA.getCSSBorderStyle(e.ysh1)}return L};cA.$1=function(e){var L='bottom';switch(e){case'v-align-bottom':{L='bottom';break}case'v-align-top':{L='top';break}case'v-align-center':{L='middle';break}default:{break}}return L};cA.$0=function(e){var L='start';switch(e){case'h-align-left':{L='start';break}case'h-align-center':{L='center';break}case'h-align-right':{L='end';break}default:{break}}return L};cA.cleanUpFontFamilyStyles=function(e){var L=e.find('span');for(var go=0;go<L.length;++go){var gp=L.eq(go);var gq=gp.css('font-family');if(!ss.isNullOrEmptyString(gq)){var gr={};var gs=[];gs.push(gq);if(ss.startsWithString(gq,"'")||ss.startsWithString(gq,'"')){gq=gq.substr(1,gq.length-2)}gq=cA.$3(gp,gs,gr,gq,cA.$6,'font-style','fontStyle');gq=cA.$3(gp,gs,gr,gq,cA.$7,'font-weight','fontWeight');cA.$3(gp,gs,gr,gq,cA.$5,'font-stretch','fontStretch');cA.addDefaultFontForTableau(gs);if(gs.length>1){gr['font-family']=gs.join(',');gp.css(gr)}}}};cA.addDefaultFontForTableau=function(e){var L='tableau';var go=false;var gp=e.length;for(var gq=0;gq<gp;gq++){var gr=e[gq].trim();for(var gs=0;gs<2;gs++){if(ss.startsWithString(gr,"'")||ss.startsWithString(gr,'"')){gr=gr.substr(1)}}if(ss.compareStrings(gr.substr(0,L.length),L,true)===0){go=true;break}}if(go){e.push('Arial');e.push('sans-serif')}};cA.$3=function(e,L,go,gp,gq,gr,gs){var gt=gp.toLowerCase();for(var gu=0;gu<gq.length;gu++){var gv=gq[gu];if(ss.endsWithString(gt,gv.item1)){gp=gp.substr(0,gt.lastIndexOf(gv.item1)).trim();L.push("'"+gp+"'");if(!cA.$2(e,gs)){go[gr]=gv.item2}}}return gp};cA.$2=function(e,L){return!ss.isNullOrEmptyString(e.prop('style')[L])};global.tab.FormattingConverters=cA;var cB=function(e,L){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var go=$('.tb-data-source-button-retry',this.element);go.text(tab.Strings.DataSourceGenericErrorButtonLabel);go.on('click',function(gp){if(ss.isValue(L)){L()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};cB.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=cB;var cC=function(e,L){this.$1=tab.Strings.DataSourceGenericTitle;this.$0=null;bc.call(this,e,L);var go=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var gp=new cB(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,go);this.$0=new cp(this.$1,gp.element)};cC.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=cC;var cD=function(e,L){bb.call(this,e,L)};cD.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=cD;var cE=function(e){dM.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};cE.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=cE;var cF=function(){};cF.__typeName='tab.GeometryUtil';cF.domainToPixelGeometry=function(e,L,go,gp){switch(e.TDA){case'multipolygon':{cF.domainToPixelMultipolygon(e.Zmn,L,go,gp);break}case'multipoint':{var gq=e.gvB;cF.domainToPixelCoordinateArray(gq.xCr,L,go,gp);break}default:{break}}};cF.domainToPixelMultipolygon=function(e,L,go,gp){var gq=e.KCe;var gr=gq.length;for(var gs=0;gs<gr;gs++){var gt=gq[gs].jWM;var gu=gt.length;for(var gv=0;gv<gu;gv++){var gw=gt[gv].xCr;cF.domainToPixelCoordinateArray(gw,L,go,gp)}}};cF.domainToPixelCoordinateArray=function(e,L,go,gp){var gq=3;var gr=go.w/L.w;var gs=go.h/L.h;var gt=e.length;if(gt<2){return}var gu=null;var gv=null;var gw=0;for(var gx=0;gx<gt;gx+=2){var gy=en.domainToPixel(e[gx],L.x,go.x,gr);var gz=en.domainToPixel(e[gx+1],L.y,go.y,gs);if(gp){var gA=gy*3<<0;var gB=gz*3<<0;if(gA===gu&&gB===gv){continue}gu=gA;gv=gB}e[gw]=gy;e[gw+1]=gz;gw+=2}e.length=gw};cF.isGeometryPresModelFeatureEmpty=function(e){switch(e.TDA){case'multipoint':{return e.gvB.xCr.length===0}case'multipolygon':{return e.Zmn.KCe.length===0}default:{return false}}};cF.isPointInPoly=function(e,L,go){if(ss.isValue(go)&&go!==0){return cF.polygonIntersectsDoubleRect(e,{x:L.x-go,y:L.y-go,w:go*2,h:go*2})}var gp=0;var gq=e.length;for(var gr=0;gr<gq;gr+=2){var gs=e[gr];var gt=e[gr+1];var gu=(gr+2)%gq;var gv=e[gu];var gw=e[gu+1];if(gt<=L.y){if(gw>L.y){if(cF.$5(gs,gt,gv,gw,L.x,L.y)>0){++gp}}}else if(gw<=L.y){if(cF.$5(gs,gt,gv,gw,L.x,L.y)<0){--gp}}}return gp!==0};cF.isPointInPolygon=function(e,L){var go=false;var gp=0;for(var gq=0;gq<e.jWM.length;gq++){var gr=e.jWM[gq];var gs=cF.isPointInPoly(gr.xCr,L);if(gp===0){if(gs){go=true}else{break}}else if(gs){go=false;break}gp++}return go};cF.isPointInMultipolygon=function(e,L){var go=false;for(var gp=0;gp<e.KCe.length;gp++){var gq=e.KCe[gp];go=cF.isPointInPolygon(gq,L);if(go){break}}return go};cF.isPointInMultipoint=function(e,L,go){var gp=e.xCr;var gq={center:L,radius:go};for(var gr=0;gr<gp.length;gr=gr+2){var gs=gp[gr];var gt=gp[gr+1];var gu={x:gs,y:gt};if(cF.isPointInCircle(gu,gq)){return true}}return false};cF.multipolygonIntersectsDoubleRect=function(e,L){for(var go=0;go<e.KCe.length;go++){var gp=e.KCe[go];for(var gq=0;gq<gp.jWM.length;gq++){var gr=gp.jWM[gq];if(cF.polygonIntersectsDoubleRect(gr.xCr,L)){return true}}}return false};cF.multipointIntersectsDoubleRect=function(e,L,go){return cF.multipointIntersectsPolygon(e,cF.$1(L),go)};cF.multipolygonIntersectsPolygon=function(e,L,go){for(var gp=0;gp<e.KCe.length;gp++){var gq=e.KCe[gp];for(var gr=0;gr<gq.jWM.length;gr++){var gs=gq.jWM[gr];if(cF.$6(gs.xCr,L,go)){return true}}}return false};cF.multipointIntersectsPolygon=function(e,L,go){var gp=e.xCr;var gq={center:{x:0,y:0},radius:go};for(var gr=0;gr<gp.length;gr=gr+2){var gs=gp[gr];var gt=gp[gr+1];var gu={x:gs,y:gt};gq.center=gu;if(cF.polygonIntersectsCircle(L,gq)){return true}}return false};cF.polygonIntersectsRect=function(e,L){return cF.$6(e,cF.$2(L))};cF.polygonIntersectsDoubleRect=function(e,L){return cF.$6(e,cF.$1(L))};cF.$6=function(e,L,go){if(e.length===0||L.length===0){return false}if(cF.isPointInPoly(L,{x:e[0],y:e[1]})){return true}if(cF.isPointInPoly(e,{x:L[0],y:L[1]})){return true}if(e.length>L.length||ss.isValue(go)){var gp=e;e=L;L=gp}var gq=go;var gr=ss.isValue(gq);for(var gs=0,gt=e.length;gs<gt;gs+=2){var gu=(gs+2)%gt;if(gr&&!cF.$8(gq,e[gs],e[gs+1],e[gu],e[gu+1])){continue}if(cF.$7(L,e[gs],e[gs+1],e[gu],e[gu+1])){return true}}return false};cF.$8=function(e,L,go,gp,gq){if(L>gp){var gr=L;L=gp;gp=gr}if(gp<e.x||L>e.x+e.w){return false}if(go>gq){var gs=go;go=gq;gq=gs}return!(gq<e.y||go>e.y+e.h)};cF.$7=function(e,L,go,gp,gq){var gr=gp-L;var gs=gq-go;var gt=e.length;for(var gu=0;gu<gt;gu+=2){var gv=(gu+2)%gt;var gw=e[gu];var gx=e[gu+1];var gy=e[gv];var gz=e[gv+1];var gA=gr*(gx-gq)-gs*(gw-gp);var gB=gr*(gz-gq)-gs*(gy-gp);if(gA<0&&gB<0||gA>0&&gB>0){continue}var gC=gy-gw;var gD=gz-gx;var gE=gC*(go-gz)-gD*(L-gy);var gF=gC*(gq-gz)-gD*(gp-gy);if(gA!==0&&gB!==0){if(gE<0&&gF>0||gE>0&&gF<0){return true}else if(gE!==0&&gF!==0){continue}}var gG=[gE,gF,gA,gB];var gH=[L,go,gp,gq,gw,gx,gy,gz];if(cF.$4(gG,gH)){return true}}return false};cF.$4=function(e,L){var go=[4,4,0,0];var gp=[6,6,2,2];for(var gq=0,gr=0,gs=4;gq<gs;gq++,gr+=2){if(e[gq]===0){var gt=L[gr];var gu=L[gr+1];var gv=L[go[gq]];var gw=L[go[gq]+1];var gx=L[gp[gq]];var gy=L[gp[gq]+1];if(gt>=Math.min(gv,gx)&&gt<=Math.max(gv,gx)&&gu>=Math.min(gw,gy)&&gu<=Math.max(gw,gy)){return true}}}return false};cF.multipolygonIntersectsCircle=function(e,L){for(var go=0;go<e.KCe.length;go++){var gp=e.KCe[go];for(var gq=0;gq<gp.jWM.length;gq++){var gr=gp.jWM[gq];if(cF.polygonIntersectsCircle(gr.xCr,L)){return true}}}return false};cF.multipointIntersectsCircle=function(e,L,go){var gp=e.xCr;var gq={center:{x:0,y:0},radius:go};for(var gr=0;gr<gp.length;gr=gr+2){var gs=gp[gr];var gt=gp[gr+1];var gu={x:gs,y:gt};gq.center=gu;if(cF.circleIntersectsCircle(L,gq)){return true}}return false};cF.circleIntersectsCircle=function(e,L){var go=Math.pow(e.center.x-L.center.x,2)+Math.pow(e.center.y-L.center.y,2);return Math.pow(e.radius+L.radius,2)>=go};cF.polygonIntersectsCircle=function(e,L){if(e.length===0||L.radius===0){return false}if(cF.isPointInPoly(e,L.center)){return true}if(cF.isPointInCircle({x:e[0],y:e[1]},L)){return true}var go=L.radius*L.radius;for(var gp=0,gq=e.length;gp<gq;gp+=2){var gr=e[gp];var gs=e[gp+1];var gt=(gp+2)%gq;var gu=e[gt];var gv=e[gt+1];var gw=gv-gs;var gx=gu-gr;var gy=gx*gx+gw*gw;var gz=((L.center.x-gr)*gx+(L.center.y-gs)*gw)/gy;gz=Math.min(1,Math.max(0,gz));var gA=gr+gz*gx;var gB=gs+gz*gw;gx=gA-L.center.x;gw=gB-L.center.y;gy=gx*gx+gw*gw;if(go>gy){return true}}return false};cF.circleIntersectsRect=function(e,L){if(e.radius<=0){return false}var go=cF.$0(L);for(var gp=0;gp<go.length;gp++){var gq=go[gp];if(cF.isPointInCircle(gq,e)){return true}}if(tab.RectXYUtil.inRectPointF(L,e.center)){return true}var gr=L.w/2;var gs=L.h/2;var gt={x:L.x+gr,y:L.y+gs};if(e.center.y<L.y||e.center.y>=L.y+L.h){return e.center.x>L.x&&e.center.x<L.x+L.w&&Math.abs(gt.y-e.center.y)<gs+e.radius}if(e.center.x<L.x||e.center.x>=L.x+L.w){return e.center.y>L.y&&e.center.y<L.y+L.h&&Math.abs(gt.x-e.center.x)<gr+e.radius}return false};cF.normalizeAngle=function(e){var L=e%cF.twoPI;if(L<0){L+=cF.twoPI}return L};cF.isInBetweenAngles=function(e,L,go){var gp=false;if(L>go){var gq=L;L=go;go=gq;gp=true}if(L<=e&&go>=e){return!gp}return gp};cF.isPointInCircle=function(e,L){var go=Math.pow(e.x-L.center.x,2)+Math.pow(e.y-L.center.y,2);var gp=L.radius*L.radius;var gq=go<gp;return gq};cF.isPointInWedge=function(e,L,go,gp){if(!cF.isPointInCircle(e,L)){return false}var gq=e.x-L.center.x;var gr=e.y-L.center.y;var gs=Math.atan2(gr,gq);gs=cF.normalizeAngle(gs);return cF.isInBetweenAngles(gs,go,gp)};cF.rectIntersectsWedge=function(e,L,go,gp){var gq=cF.$0(e);for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];if(cF.isPointInWedge(gs,L,go,gp)){return true}}if(tab.RectXYUtil.inRectPointF(e,L.center)){return true}var gt=cF.$3(L,go,gp);return cF.polygonIntersectsRect(gt,e)};cF.polygonIntersectsWedge=function(e,L,go,gp){if(e.length===0){return false}if(cF.isPointInWedge({x:e[0],y:e[1]},L,go,gp)){return true}if(cF.isPointInPoly(e,L.center)){return true}var gq=cF.$3(L,go,gp);return cF.$6(gq,e)};cF.circleIntersectsWedge=function(e,L,go,gp){if(e.radius<=0){return false}if(cF.isPointInWedge(e.center,L,go,gp)){return true}if(cF.isPointInCircle(L.center,e)){return true}var gq=cF.$3(L,go,gp);return cF.polygonIntersectsCircle(gq,e)};cF.$3=function(e,L,go){while(L>go){go+=cF.twoPI}var gp=L;var gq=new Array(4);gq[0]=e.center.x;gq[1]=e.center.y;gq[2]=e.center.x+Math.cos(gp)*e.radius;gq[3]=e.center.y+Math.sin(gp)*e.radius;while(gp<go){var gr=Math.min(gp+cF.$9,go);gq.push(e.center.x+Math.cos(gr)*e.radius);gq.push(e.center.y+Math.sin(gr)*e.radius);gp=gr}return gq};cF.areRectanglesIntersecting=function(e,L){return tab.RectXYUtil.intersectsWith(e,L)};cF.getSquaredDistanceToCenter=function(e,L){var go=e.x+e.w/2;var gp=e.y+e.h/2;var gq=go-L.x;var gr=gp-L.y;return gq*gq+gr*gr};cF.getSquaredDistanceToNearestSide=function(e,L){var go=e.y;var gp=e.y+e.h;var gq=e.x;var gr=e.x+e.w;var gs,gt;if(L.x<gq){gs=gq-L.x}else if(L.x>gr){gs=L.x-gr}else{gs=0}if(L.y<go){gt=go-L.y}else if(L.y>gp){gt=L.y-gp}else{gt=0}return gs*gs+gt*gt};cF.getSquaredDistanceToCircumference=function(e,L){var go=Math.sqrt(cF.getSquaredDistanceToCenter(e,L))-Math.min(e.w,e.h)/2;go=Math.max(go,0);return go*go};cF.getSquaredDistanceToLineSegment=function(e,L,go){var gp,gq;if(go.x<L.x){var gr=L;L=go;go=gr}var gs=go.x-L.x;var gt=go.y-L.y;var gu=gs*gs+gt*gt;if(gu===0){gp=e.x-L.x;gq=e.y-L.y;return gp*gp+gq*gq}var gv=((e.x-L.x)*gs+(e.y-L.y)*gt)/gu;var gw;var gx;if(gv<0){gw=L.x;gx=L.y}else if(gv>1){gw=go.x;gx=go.y}else{gw=L.x+gv*gs;gx=L.y+gv*gt}gp=e.x-gw;gq=e.y-gx;return gp*gp+gq*gq};cF.degreeToRad=function(e){return e*(Math.PI/180)};cF.radToDegree=function(e){return e*(180/Math.PI)};cF.haversineDistance=function(e,L,go){var gp=cF.degreeToRad(L.item1-e.item1);var gq=cF.degreeToRad(e.item2);var gr=cF.degreeToRad(L.item2);var gs=gr-gq;var gt=Math.pow(Math.sin(gs/2),2)+Math.cos(gq)*Math.cos(gr)*Math.pow(Math.sin(gp/2),2);var gu=2*Math.atan2(Math.sqrt(gt),Math.sqrt(1-gt));return gu*go};cF.$5=function(e,L,go,gp,gq,gr){return(go-e)*(gr-L)-(gq-e)*(gp-L)};cF.$0=function(e){var L=new Array(4);L[0]={x:e.x,y:e.y};L[1]={x:e.x+e.w,y:e.y};L[2]={x:e.x+e.w,y:e.y+e.h};L[3]={x:e.x,y:e.y+e.h};return L};cF.$2=function(e){var L=new Array(8);L[0]=e.x;L[1]=e.y;L[2]=e.x+e.w;L[3]=e.y;L[4]=L[2];L[5]=e.y+e.h;L[6]=e.x;L[7]=L[5];return L};cF.$1=function(e){var L=new Array(8);L[0]=e.x;L[1]=e.y;L[2]=e.x+e.w;L[3]=e.y;L[4]=L[2];L[5]=e.y+e.h;L[6]=e.x;L[7]=L[5];return L};global.tab.GeometryUtil=cF;var cG=function(e){this.$c=null;this.$b=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!tab.BrowserSupport.get_isGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$c=e;this.$b=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$a))})));this.get_button().addToDom(this.element)};cG.__typeName='tab.GotoMyLocationButton';global.tab.GotoMyLocationButton=cG;var cH=function(){};cH.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=cH;var cI=function(){};cI.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=cI;var cJ=function(){};cJ.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=cJ;var cK=function(e,L,go,gp,gq){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=e;if(ss.isNullOrUndefined(gp)||tab.RectXYUtil.isEmpty(gp)){this.$2=null}else{this.$2=gp}if(ss.isNullOrUndefined(go)){this.$4=-1}else{this.$4=go}if(ss.isNullOrUndefined(gq)){this.$9=0}else{this.$9=gq}this.$3=L;this.$1=[]};cK.__typeName='tab.HitTargetNode';cK.findPaneNode=function(e){if(ss.isNullOrUndefined(e)){return null}while(e.$3!==0){if(e.get_nodeType()===1){return e}e=e.get_parent()}return null};cK.createRootNode=function(){return new cK({x:0,y:0,w:9999999,h:9999999},0)};global.tab.HitTargetNode=cK;var cL=function(){};cL.__typeName='tab.HitTargetType';global.tab.HitTargetType=cL;var cM=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var e=$('.tab-tvView .tabCanvas');this.$4=e.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};cM.__typeName='tab.HitTestDebugger';cM.get_instance=function(){if(ss.isNullOrUndefined(cM.$1)){cM.$1=new cM}return cM.$1};global.tab.HitTestDebugger=cM;var cN=function(e){this.$5=null;this.$5=e};cN.__typeName='tab.HitTester';cN.$0=function(e,L,go,gp,gq){switch(gq){case'area':{return dG.$2(e,L.x-gp,L.y,go)}case'line':{return dG.$o(e,L.x-gp,L.y,go)}case'multipolygon':{return dG.$v(e,L.x-gp,L.y,go)}case'pie':{return dG.$z(e,L.x-gp,L.y,go)}case'shape':{return dG.$1A(e,L.x-gp,L.y,go)}case'bar':case'square':{return dG.$a(e,L.x-gp,L.y,go)}case'text':{return dG.$1I(e,L.x-gp,L.y,go)}default:{var gr={x:L.x-Math.round(gp),y:L.y,w:L.w,h:L.h};return tab.RectXYUtil.intersectsWith(gr,e.getMarkBounds(go))}}};cN.$1=function(e,L,go,gp,gq){switch(gq){case'line':{return dG.$r(e,L.x-gp,L.y,go)}case'shape':{return dG.$1D(e,L.x-gp,L.y,go)}case'bar':case'square':{return dG.$d(e,L.x-gp,L.y,go)}case'text':{return dG.$1L(e,L.x-gp,L.y,go)}case'area':{return dG.$5(e,L.x-gp,L.y,go)}default:{return false}}};cN.rectangleAreaHit=function(e,L,go,gp,gq,gr){var gs=(gq.get_isNull()?go:tab.RectXYUtil.offsetRectF(go,{x:-gq.get_translateX(),y:-gq.get_translateY()}));switch(gr){case'area':{return dG.$7(e,gs,gp)}case'line':{return dG.$t(e,gs,gp)}case'multipolygon':{var gt=gq.transformRect(go);return dG.$x(e,gt,gp)}case'pie':{return dG.$B(e,gs,gp)}case'shape':{return dG.$1F(e,gs,gp)}case'text':{return dG.$1N(e,gs,gp)}case'bar':case'square':{return dG.$f(e,gs,gp)}default:{return tab.RectXYUtil.intersectsWith(go,L)}}};cN.circleAreaHit=function(e,L,go,gp,gq,gr,gs){var gt=(gq.get_isNull()?go:tab.CircleUtil.offsetCircle(go,{x:-gq.get_translateX(),y:-gq.get_translateY()}));var gu=(gq.get_isNull()?L:tab.RectXYUtil.offsetRectF(L,{x:-gq.get_translateX(),y:-gq.get_translateY()}));switch(gr){case'area':{return dG.$1(e,gt,gp,gu,gs)}case'line':{return dG.$n(e,gt,gp,gu,gs)}case'multipolygon':{var gv=gq.transformCircle(go);return dG.$u(e,gv,gp,gs)}case'pie':{return dG.$y(e,gt,gp,gs)}case'shape':{return dG.$1z(e,gt,gp,gs)}case'text':{return dG.$1H(e,gt,gp,gu,gs)}case'bar':case'square':{return dG.$9(e,gt,gp,gu,gs)}default:{return cF.circleIntersectsRect(go,L)}}};cN.polyAreaHit=function(e,L,go,gp,gq,gr){var gs=(gq.get_isNull()?L:tab.RectXYUtil.offsetRectF(L,{x:-gq.get_translateX(),y:-gq.get_translateY()}));switch(gr){case'area':{return dG.$6(e,go,gp,gs)}case'line':{return dG.$s(e,go,gp,gs)}case'multipolygon':{return dG.$w(e,go,gp,gs)}case'pie':{return dG.$A(e,go,gp)}case'shape':{return dG.$1E(e,go,gp)}case'text':{return dG.$1M(e,go,gp,gs)}case'bar':case'square':{return dG.$e(e,go,gp,gs)}default:{return cF.polygonIntersectsRect(go,gs)}}};cN.getTransformInfo=function(e,L){var go=e.paneRect;if(e.markType==='multipolygon'&&!e.hasPixelGeometry){var gp=L.get_objectId();var gq=e.c['x'].gv(gp);var gr=e.c['y'].gv(gp);var gs=e.c['size'].gv(gp);return tab.Transform.pixelToDomain(go.x+gq,go.y+gr,gs)}var gt=L.get_worldOffset();return tab.Transform.offset(go.x+gt,go.y)};global.tab.HitTester=cN;var cO=function(e){cO.$ctor1.call(this,e.get_index(),(ss.keyExists(cO.$1,e.get_visualPart())?cO.$1[e.get_visualPart()]:1),(ss.keyExists(cO.$0,e.get_hitType())?cO.$0[e.get_hitType()]:0))};cO.__typeName='tab.HitTestResult';cO.$ctor1=function(e,L,go){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=e;this.$0=L;this.$1=go;this.$3=go!==0};cO.tieBreak=function(e,L){if(e.get_hitType()>L.get_hitType()||e.get_hitType()===L.get_hitType()&&(e.get_hitObjectType()>L.get_hitObjectType()||e.get_hitObjectType()===L.get_hitObjectType()&&e.get_id()>L.get_id())){return e}return L};cO.getIdsFromHitTestResults=function(e,L){var go=new Set;for(var gp=0;gp<e.length;gp++){var gq=e[gp];go.add(gq.get_id())}var gr=tab.SetUtilities.getValues(ss.Int32).call(null,go);if(L){gr.sort(function(gs,gt){return gs-gt})}return gr};cO.hasExactHit=function(e){for(var L=0;L<e.length;L++){var go=e[L];if(go.get_hitType()===3){return true}}return false};cO.tieBreakHits=function(e,L){var go=new cO.$ctor1(0,0,0);var gp=new cO.$ctor1(0,0,0);for(var gq=0;gq<e.length;gq++){var gr=e[gq];if(gr.get_hitType()===3){return gr}if(gr.get_hitType()!==0&&go.get_hitType()===0){go=gr}}for(var gs=0;gs<L.length;gs++){var gt=L[gs];if(gt.get_hitType()===3){return gt}if(gt.get_hitType()!==0&&gp.get_hitType()===0){gp=gt}}if(go.get_hitType()!==0){return go}if(gp.get_hitType()!==0){return gp}return new cO.$ctor1(0,0,0)};global.tab.HitTestResult=cO;var cP=function(){};cP.__typeName='tab.HitTestStructureBuilder';cP.buildBinnedHitTestStructure=function(e,L){var go=cK.createRootNode();var gp=0;var gq=e.scene.HUq;for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];var gt=cP.$2(gs);for(var gu=0;gu<gt.length;gu++){var gv=gt[gu];var gw=e.$a(gv);var gx=gw.get_mapExtentOrPaneRect();var gy=new cK(gx,1);var gz=et.getPaneMarksKey(gv);gy.set_paneKey(gz);gy.set_paneIndex(gv.hJq);gy.set_paneOrderIndex(gp++);go.addNode(gy);var gA=Math.ceil(gx.w/L);for(var gB=0;gB<L;++gB){var gC=gB*gA+gx.x;var gD=gx.y;var gE=gA;var gF=gx.h;var gG=new cK({x:gC,y:gD,w:gE,h:gF},2);gy.addNode(gG)}var gH=cP.buildMarkBounds(gw,0,gw.markCount-1,gw.getAllMarkBounds());for(var gI=0;gI<gH.length;gI++){var gJ=gH[gI];var gK=gy.get_children();for(var gL=0;gL<gK.length;gL++){var gM=gK[gL];if(tab.RectXYUtil.intersectsWith(gJ.get_boundingBox(),gM.get_boundingBox())){gM.addNode(gJ)}}}}}return go};cP.buildLinearHitTestStructure=function(e){var L=cK.createRootNode();var go=0;var gp=e.scene.HUq;for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];var gs=cP.$2(gr);for(var gt=0;gt<gs.length;gt++){var gu=gs[gt];var gv=e.$a(gu);if(!ss.isValue(gv)){continue}var gw=cP.$0(gu,gv,go);L.addNode(gw);go++}}return L};cP.buildTrendLineHitTestStructure=function(e,L,go){var gp=e.xCr;var gq=e.Dpc;var gr=Math.floor(gp.length/2);if(gr<2){return new cK({x:0,y:0,w:0,h:0},0)}var gs=[];var gt=0;for(var gu=0;gu<gq.length;gu++){var gv=gq[gu];switch(gv){case'moveto':{{gt+=2}break}case'lineto':{{if(ss.isValue(gp[gt+3])){var gw=[gp[gt],gp[gt+1],gp[gt+2],gp[gt+3]];var gx=ss.Int32.trunc(Math.min(gw[0],gw[2]));var gy=ss.Int32.trunc(Math.min(gw[1],gw[3]));var gz=ss.Int32.trunc(Math.max(gw[0],gw[2]))-gx;var gA=ss.Int32.trunc(Math.max(gw[1],gw[3]))-gy;var gB={x:gx,y:gy,w:gz,h:gA};gB=tab.RectXYUtil.dialate(gB,ss.Int32.trunc(L));var gC=new cK(gB,5,go);gs.push(gC)}gt+=2}break}case'curveto':{{gt+=6}break}default:{{}break}}}var gD=cP.$1(gs,4);return gD};cP.buildMarkBounds=function(e,L,go,gp){var gq=go-L+1;var gr=[];var gs=0;for(var gt=L;gt<=go;++gt){var gu=gp[gt].item1;var gv=gp[gt].item2;var gw=e.getMarkInstanceOffsets(gt);var gx=gw.length;for(var gy=0;gy<gx;gy++){var gz=gu;var gA=gv;var gB=gw[gy];if(gB!==0){var gC=ss.Int32.trunc(gB);gz=tab.RectXYUtil.offsetRectXY(gu,gC,0);gA=(ss.isValue(gv)?tab.RectXYUtil.offsetRectXY(gv,gC,0):null)}gr[gs]=new cK(gz,3,gt,gA,gB);++gs}}return gr};cP.print=function(e,L){var go='';var gp=L;while(gp>0){go+=' ';--gp}console.log(go+e.get_objectId());if(e.get_nodeType()!==3){e.get_children().forEach(function(gq){cP.print(gq,L+1)})}};cP.$2=function(e){var L=[];for(var go=0;go<e.MdI.length;go++){var gp=e.MdI[go];if(gp.oqX==='marks'){L.push(gp.SgS)}}return L};cP.$1=function(e,L){var go=e;while(go.length>1){var gp=[];for(var gq=0;gq<go.length;gq+=L){var gr=L;var gs=go.length-gq;if(gs<L){gr=gs}var gt=[];var gu=null;for(var gv=0;gv<gr;++gv){var gw=go[gq+gv];gt.push(gw);if(gv===0){gu={x:gw.get_boundingBox().x,y:gw.get_boundingBox().y,w:gw.get_boundingBox().w,h:gw.get_boundingBox().h}}else{gu=tab.RectXYUtil.union(gu,gt[gv].get_boundingBox())}}var gx=new cK(gu,4);gx.addNodes(gt);gp.push(gx)}go=gp}if(go.length!==1){}var gy=cK.createRootNode();gy.addNodes(go);return gy};cP.$0=function(e,L,go){var gp=L.get_mapExtentOrPaneRect();var gq=new cK(gp,1);var gr=et.getPaneMarksKey(e);gq.set_paneKey(gr);gq.set_paneIndex(e.hJq);gq.set_paneOrderIndex(go);var gs=(L.hasUserPanes?L.userPaneCount:1);var gt=L.paneRect.x;var gu=L.paneRect.y;var gv=L.getAllMarkBounds();for(var gw=0;gw<gs;++gw){var gx=tab.RectXYUtil.offsetRectXY(L.getUserPaneRectByIndex(gw),gt,gu);var gy=new cK(gx,6);var gz=L.$9(gw);var gA=cP.buildMarkBounds(L,gz.firstMark,gz.lastMark,gv);gy.addNodes(gA);gq.addNode(gy)}return gq};global.tab.HitTestStructureBuilder=cP;var cQ=function(){dr.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};cQ.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=cQ;var cR=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))};cR.__typeName='tab.HttpsEmbedHttpAuthoringMessage';global.tab.HttpsEmbedHttpAuthoringMessage=cR;var cS=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))};cS.__typeName='tab.HttpsEmbedHttpViewMessage';global.tab.HttpsEmbedHttpViewMessage=cS;var cT=function(){};cT.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=cT;var cU=function(){};cU.__typeName='tab.IClient';global.tab.IClient=cU;var cV=function(){};cV.__typeName='tab.IDialogContent';global.tab.IDialogContent=cV;var cW=function(){};cW.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=cW;var cX=function(){};cX.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=cX;var cY=function(){};cY.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=cY;var cZ=function(){};cZ.__typeName='tab.IFontLoader';global.tab.IFontLoader=cZ;var da=function(e,L){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var go={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos()){this.get_container().css('-webkit-overflow-scrolling','touch');go.height=L.get_contentHeight()+'px';go.width=L.get_contentWidth()+'px'}go.overflow='auto'}this.get_container().css(go);this.get_frame().css({border:'0px none'})};da.__typeName='tab.IFrameTemplate';global.tab.IFrameTemplate=da;var db=function(){};db.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=db;var dc=function(e,L,go,gp,gq){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=e;this.$1=L;this.$3=go;this.$0=gp;this.$4=gq};dc.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=dc;var dd=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};dd.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=dd;var de=function(){};de.__typeName='tab.ImageUtil';de.scaleImage=function(e,L,go,gp,gq){var gr=document.createElement('canvas');gr.width=L;gr.height=go;if(L>0&&go>0){var gs=document.createElement('canvas');gs.width=gp;gs.height=gq;var gt=gs.getContext('2d');gt.drawImage(e,0,0);var gu=gt.getImageData(0,0,gp,gq);var gv=gr.getContext('2d');var gw=gv.createImageData(L,go);de.bilinearDownSampleAlgorithm(gu,gw);gv.putImageData(gw,0,0)}return gr};de.bilinearDownSampleAlgorithm=function(e,L){var go=e.width;var gp=e.height;var gq=go/L.width;var gr=gp/L.height;var gs=gq;var gt=gr;var gu=e.data;var gv=L.data;var gw=new Array(gv.length);for(var gx=0;gx<gw.length;gx++){gw[gx]=0}var gy=1/(gq*gr);var gz=0;var gA=0;var gB=false;var gC,gD;gC=gD=0;var gE=gy;var gF=0;var gG=0;var gH=0;var gI=4*L.width;for(var gJ=0;gJ<gp;gJ++){gs=gq;for(var gK=0;gK<go;gK++){var gL=gu[gz];var gM=gu[gz+1];var gN=gu[gz+2];var gO=gu[gz+3];gE=gy;if(gB){gE=gC;gG=gD;if(gs<1){gG*=gs}var gP=gA+gI;gw[gP]+=gL*gG;gw[gP+1]+=gM*gG;gw[gP+2]+=gN*gG;gw[gP+3]+=gO*gG}if(gs<1){gF=gE*(1-gs);gE*=gs;if(gB){gH=gD*(1-gs);var gQ=gA+gI;gw[gQ+4]+=gL*gH;gw[gQ+5]+=gM*gH;gw[gQ+6]+=gN*gH;gw[gQ+7]+=gO*gH}gw[gA+4]+=gL*gF;gw[gA+5]+=gM*gF;gw[gA+6]+=gN*gF;gw[gA+7]+=gO*gF}gw[gA++]+=gL*gE;gw[gA++]+=gM*gE;gw[gA++]+=gN*gE;gw[gA++]+=gO*gE;gz+=4;gs-=1;if(gs<de.$0){gs+=gq}else{gA-=4}}gt-=1;if(gt<de.$0){gt+=gr}else{gA-=gI}if(gt<1){gB=true;gC=gt/(gq*gr);gD=(1-gt)/(gq*gr)}else{gB=false}}for(var gR=0;gR<gw.length;gR++){gv[gR]=gw[gR]+0.5}};global.tab.ImageUtil=de;var df=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};df.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=df;var dg=function(e,L){this.$k=null;this.$j=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[dh]).call(this,e,new df);this.$k=L;this.$h().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.add_resizeZone(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.remove_resizeZone(ss.mkdel(this,this.$d));this.$k=null})))};dg.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=dg;var dh=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};dh.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=dh;var di=function(){};di.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=di;var dj=function(){};dj.__typeName='tab.IMovable';global.tab.IMovable=dj;var dk=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=dk.defaultHighlightBgColor;this.selectionBgColor=dk.defaultSelectionBgColor;this.highlightTextColor=dk.defaultHighlightTextColor;this.selectionTextColor=dk.defaultSelectionTextColor};dk.__typeName='tab.InteractionColorModel';dk.extractInteractionColors=function(e){var L=ss.isValue(e)&&!ss.isNullOrEmptyString(e.SjL);var go=ss.isValue(e)&&!ss.isNullOrEmptyString(e.Fel);var gp=ss.isValue(e)&&!ss.isNullOrEmptyString(e.kLF);var gq=ss.isValue(e)&&!ss.isNullOrEmptyString(e.Wqz);if(!L&&!gp&&!gq&&!go){return dk.defaultColors}var gr=new dk;gr.highlightBgColor=(L?tab.ColorModel.fromColorCode(e.SjL):gr.highlightBgColor);gr.selectionBgColor=(gp?tab.ColorModel.fromColorCode(e.kLF):gr.selectionBgColor);gr.highlightTextColor=(go?tab.ColorModel.fromColorCode(e.Fel):gr.highlightTextColor);gr.selectionTextColor=(gq?tab.ColorModel.fromColorCode(e.Wqz):gr.selectionTextColor);return gr};global.tab.InteractionColorModel=dk;var dl=function(){};dl.__typeName='tab.IRegionContentProvider';global.tab.IRegionContentProvider=dl;var dm=function(){};dm.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=dm;var dn=function(){};dn.__typeName='tab.ISlider';global.tab.ISlider=dn;var dp=function(){};dp.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=dp;var dq=function(e,L,go){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(L){this.$c=new cQ}else{this.$c=new fJ}this.$b=100;this.$9=L;this.$c.$1();this.$c.nextButton.width(go).height(go).css('line-height',go+'px');this.$c.prevButton.width(go).height(go).css('line-height',go+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};dq.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=dq;var dr=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};dr.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=dr;var ds=function(){};ds.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=ds;var dt=function(e){var L=function(){};ss.registerGenericInterfaceInstance(L,dt,[e],{get_item:null,get_children:null,get_expanded:null,get_key:null},function(){return[]});ss.setMetadata(L,{variance:[1]});return L};dt.__typeName='tab.ITreeNode$1';ss.initGenericInterface(dt,a,1);global.tab.ITreeNode$1=dt;var du=function(){};du.__typeName='tab.IVizOverlayContent';global.tab.IVizOverlayContent=du;var dv=function(){this.$h=null;this.$k=null;this.$i=null;this.$j=null;this.$m=null;this.$n=0;this.$l=false;this.$g=null};dv.__typeName='tab.LeafletMapControl';dv.$0=function(e){var L=256;var go=document.createElement('canvas');go.width=L;go.height=L;var gp=bg.getRenderContext(go,'transparent');gp.set_shapeFillStyle(e);gp.fillRect(0,0,256,256);var gq=go.toDataURL('png',null);return gq};dv.$1=function(e){return new L.LatLng(e.item1,e.item2)};global.tab.LeafletMapControl=dv;var dw=function(e){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=e;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};dw.__typeName='tab.LineAttribute';global.tab.LineAttribute=dw;var dx=function(e){this.$1=null;this.$1=[];this.$0(e)};dx.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=dx;var dy=function(e,L){fT.call(this,e,L)};dy.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=dy;var dz=function(e){this.logOnViewModel=null;this.$d=null;ss.makeGenericType(spiff.BaseView$1,[dA]).call(this,e,spiff.Template.fromHtml("<div class='tabLogon'>"));this.logOnViewModel=e;var L=$('<div>');var go=spiff.StyledTextButton.createActionButton(ss.mkdel(this,this.$b),tab.Strings.LogOnButton,'tabLogOnDialogButton',2,1);L.append(go.element);this.element.append(L);this.disposables.add$1(go);this.logOnViewModel.add_shown(ss.mkdel(this,this.$c));this.logOnViewModel.add_hidden(ss.mkdel(this,this.$9));this.$d=new spiff.ModalDialog.$ctor1(' ',this.element);this.$d.get_dialogElement().addClass('tabLogonDialog');this.$d.add_closed(ss.mkdel(this,function(){this.logOnViewModel.cancel()}));this.disposables.add$1(this.$d);dz.$0=ss.mkdel(this,this.$a)};dz.__typeName='tab.LogOnView';dz.fireLogOnComplete=function(){if(ss.isValue(dz.$0)){dz.$0()}};global.tab.LogOnView=dz;var dA=function(){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this)};dA.__typeName='tab.LogOnViewModel';dA.logOnAndTransitionSession=function(e){var L=new dA;L.showLogOn();var go=function(){L.dispose();tab.SaveServerCommands.transitionSessionAfterLogon(function(){tabBootstrap.ViewerBootstrap.get_instance().disableClearSessionOnBrowserUnload();e.removeHash();tab.WindowHelper.setLocationHref(window.self,e.get_absoluteUri())})};L.add_logOnCompleted(go);var gp=function(){L.dispose()};L.add_logOnCanceled(gp);L.disposables.add$1(new tab.CallOnDispose(function(){L.remove_logOnCompleted(go);L.remove_logOnCanceled(gp)}))};global.tab.LogOnViewModel=dA;var dB=function(){this.attributionBackground=null;this.attributionLink=null;spiff.Template.call(this,$(dB.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink')};dB.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=dB;var dC=function(e,L){React.Component.call(this,e,L)};dC.__typeName='tab.MapScaleComponent';global.tab.MapScaleComponent=dC;var dD=function(e){this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$5=e;this.$5.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$5.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))};dD.__typeName='tab.MapScaleViewModel';global.tab.MapScaleViewModel=dD;var dE=function(e,L){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$h=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$k=null;this.$i=false;this.$j=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[dF]).call(this,e,L.get_template());this.mapsSearchViewModel=e;this.mapsSearchViewTemplate=L;this.mapsSearchView=L.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$h=spiff.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$h.get_domRoot());this.$h.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.$e()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));if(this.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new cG(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};dE.__typeName='tab.MapsSearchView';dE.newMapsSearchViewTemplate=function(){return new v};global.tab.MapsSearchView=dE;var dF=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$2=e};dF.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=dF;var dG=function(e,L){bg.call(this,e,L)};dG.__typeName='tab.MarksRenderer';dG.$j=function(e,L){var go=(e.hasPixelGeometry?1:e.c['size'].gv(L));return bg.bBoxMultipolygon(e.hasPixelGeometry,e.c['x'].gv(L),e.c['y'].gv(L),go,7,e.getMarkGeometry(e.c['geometry'].gv(L)))};dG.$v=function(e,L,go,gp){var gq;var gr=e.getMarkGeometry(e.c['geometry'].gv(gp));if(ss.isNullOrUndefined(gr)){gq={x:L,y:go};var gs={x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)};return cF.isPointInCircle(gq,{center:gs,radius:3.5})}if(!e.hasPixelGeometry){var gt=e.c['size'].gv(gp);if(gt!==0){var gu=e.c['x'].gv(gp);var gv=e.c['y'].gv(gp);L=(L-gu)/gt;go=(go-gv)/gt}}gq={x:L,y:go};switch(gr.TDA){case'multipolygon':{return cF.isPointInMultipolygon(gr.Zmn,gq)}case'multipoint':{return cF.isPointInMultipoint(gr.gvB,gq,3.5)}default:{return false}}};dG.$x=function(e,L,go){var gp=e.getMarkGeometry(e.c['geometry'].gv(go));if(ss.isNullOrUndefined(gp)){return true}switch(gp.TDA){case'multipolygon':{return cF.multipolygonIntersectsDoubleRect(gp.Zmn,L)}case'multipoint':{return cF.multipointIntersectsDoubleRect(gp.gvB,L,3.5)}default:{return false}}};dG.$w=function(e,L,go,gp){var gq=e.getMarkGeometry(e.c['geometry'].gv(go));if(ss.isNullOrUndefined(gq)){return cF.polygonIntersectsRect(L,dG.$j(e,go))}switch(gq.TDA){case'multipolygon':{return cF.multipolygonIntersectsPolygon(gq.Zmn,L,gp)}case'multipoint':{return cF.multipointIntersectsPolygon(gq.gvB,L,3.5)}default:{return false}}};dG.$u=function(e,L,go,gp){{}var gq=e.getMarkGeometry(e.c['geometry'].gv(go));if(ss.isNullOrUndefined(gq)){return cF.circleIntersectsRect(L,dG.$j(e,go))}switch(gq.TDA){case'multipolygon':{return cF.multipolygonIntersectsCircle(gq.Zmn,L)}case'multipoint':{return cF.multipointIntersectsCircle(gq.gvB,L,3.5)}default:{return false}}};dG.$0=function(e,L){var go=e.c['l_neighbor'].gv(L);var gp=e.c['r_neighbor'].gv(L);var gq=e.lineInterpolation;var gr=e.lineMarkerPosition;var gs={x:0,y:0,w:0,h:0};if(go!==-1){var gt=tab.RectXYUtil.rectXYFromCorners$1(e.c['x1'].gv(L),e.c['y1'].gv(L),(e.c['x_next'].gv(go)+e.c['x_prev'].gv(L))/2,(e.c['y_next'].gv(go)+e.c['y_prev'].gv(L))/2);tab.RectXYUtil.unionInPlace(gs,gt);var gu=tab.RectXYUtil.rectXYFromCorners$1((e.c['x1'].gv(go)+e.c['x1'].gv(L))/2,(e.c['y1'].gv(go)+e.c['y1'].gv(L))/2,e.c['x_prev'].gv(L),e.c['y_prev'].gv(L));tab.RectXYUtil.unionInPlace(gs,gu);tab.RectXYUtil.outsetRectInPlace(gs,10,10)}if(gp!==-1){var gv=tab.RectXYUtil.rectXYFromCorners$1(e.c['x1'].gv(L),e.c['y1'].gv(L),(e.c['x_prev'].gv(gp)+e.c['x_next'].gv(L))/2,(e.c['y_prev'].gv(gp)+e.c['y_next'].gv(L))/2);tab.RectXYUtil.unionInPlace(gs,gv);var gw=tab.RectXYUtil.rectXYFromCorners$1((e.c['x1'].gv(gp)+e.c['x1'].gv(L))/2,(e.c['y1'].gv(gp)+e.c['y1'].gv(L))/2,e.c['x_next'].gv(L),e.c['y_next'].gv(L));tab.RectXYUtil.unionInPlace(gs,gw);tab.RectXYUtil.outsetRectInPlace(gs,10,10)}if(go===-1&&gp===-1){var gx=tab.RectXYUtil.rectXYFromCorners$1(e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L));{var gy=20-gx.w;var gz=20-gx.h;if(gy>0||gz>0){gx=tab.RectXYUtil.outsetRect(gx,Math.max(0,Math.ceil(gy/2)),Math.max(0,Math.ceil(gz/2)))}}tab.RectXYUtil.unionInPlace(gs,gx)}return gs};dG.$2=function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(gp);var gr=e.c['r_neighbor'].gv(gp);var gs=e.lineInterpolation;var gt=e.lineMarkerPosition;if(gq!==-1){var gu=new Array(8);gu[0]=e.c['x1'].gv(gp);gu[1]=e.c['y1'].gv(gp);gu[2]=(e.c['x1'].gv(gq)+e.c['x1'].gv(gp))/2;gu[3]=(e.c['y1'].gv(gq)+e.c['y1'].gv(gp))/2;gu[4]=(e.c['x_next'].gv(gq)+e.c['x_prev'].gv(gp))/2;gu[5]=(e.c['y_next'].gv(gq)+e.c['y_prev'].gv(gp))/2;gu[6]=e.c['x_prev'].gv(gp);gu[7]=e.c['y_prev'].gv(gp);if(cF.isPointInPoly(gu,{x:L,y:go},0)){return true}}if(gr!==-1){var gv=new Array(8);gv[0]=e.c['x1'].gv(gp);gv[1]=e.c['y1'].gv(gp);gv[2]=(e.c['x1'].gv(gr)+e.c['x1'].gv(gp))/2;gv[3]=(e.c['y1'].gv(gr)+e.c['y1'].gv(gp))/2;gv[4]=(e.c['x_prev'].gv(gr)+e.c['x_next'].gv(gp))/2;gv[5]=(e.c['y_prev'].gv(gr)+e.c['y_next'].gv(gp))/2;gv[6]=e.c['x_next'].gv(gp);gv[7]=e.c['y_next'].gv(gp);if(cF.isPointInPoly(gv,{x:L,y:go},0)){return true}}if(gq===-1&&gr===-1){return true}return false};dG.$5=function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(gp);var gr=e.c['r_neighbor'].gv(gp);var gs=e.lineInterpolation;var gt=e.lineMarkerPosition;if(gq!==-1){var gu=new Array(8);gu[0]=e.c['x1'].gv(gp);gu[1]=e.c['y1'].gv(gp);gu[2]=(e.c['x1'].gv(gq)+e.c['x1'].gv(gp))/2;gu[3]=(e.c['y1'].gv(gq)+e.c['y1'].gv(gp))/2;gu[4]=(e.c['x_next'].gv(gq)+e.c['x_prev'].gv(gp))/2;gu[5]=(e.c['y_next'].gv(gq)+e.c['y_prev'].gv(gp))/2;gu[6]=e.c['x_prev'].gv(gp);gu[7]=e.c['y_prev'].gv(gp);if(cF.isPointInPoly(gu,{x:L,y:go},10)){return true}}if(gr!==-1){var gv=new Array(8);gv[0]=e.c['x1'].gv(gp);gv[1]=e.c['y1'].gv(gp);gv[2]=(e.c['x1'].gv(gr)+e.c['x1'].gv(gp))/2;gv[3]=(e.c['y1'].gv(gr)+e.c['y1'].gv(gp))/2;gv[4]=(e.c['x_prev'].gv(gr)+e.c['x_next'].gv(gp))/2;gv[5]=(e.c['y_prev'].gv(gr)+e.c['y_next'].gv(gp))/2;gv[6]=e.c['x_next'].gv(gp);gv[7]=e.c['y_next'].gv(gp);if(cF.isPointInPoly(gv,{x:L,y:go},10)){return true}}if(gq===-1&&gr===-1){return true}return false};dG.$4=function(e,L){return{w:0,h:0}};dG.$3=function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(gp);var gr=e.c['r_neighbor'].gv(gp);var gs=e.c['x1'].gv(gp);var gt=e.c['y1'].gv(gp);var gu=e.c['x_prev'].gv(gp);var gv=e.c['y_prev'].gv(gp);var gw=e.c['x_next'].gv(gp);var gx=e.c['y_next'].gv(gp);var gy;{var gz=L-gs;var gA=go-gt;var gB=gz*gz+gA*gA;gy=gB}if(gq!==-1){var gC=(e.c['x1'].gv(gq)+gs)/2;var gD=(e.c['y1'].gv(gq)+gt)/2;var gE=(e.c['x_next'].gv(gq)+gs)/2;var gF=(e.c['y_next'].gv(gq)+gt)/2;var gG={x:(gs+gu)/2,y:(gt+gv)/2};var gH={x:(gC+gE)/2,y:(gD+gF)/2};var gI=cF.getSquaredDistanceToLineSegment({x:L,y:go},gG,gH);gy=Math.min(gy,gI)}else{var gJ={x:gs,y:gt};var gK={x:gw,y:gx};var gL=cF.getSquaredDistanceToLineSegment({x:L,y:go},gJ,gK);gy=Math.min(gy,gL)}if(gr!==-1){var gM=(e.c['x1'].gv(gr)+gs)/2;var gN=(e.c['y1'].gv(gr)+gt)/2;var gO=(e.c['x_prev'].gv(gr)+gs)/2;var gP=(e.c['y_prev'].gv(gr)+gt)/2;var gQ={x:(gs+gw)/2,y:(gt+gx)/2};var gR={x:(gM+gO)/2,y:(gN+gP)/2};var gS=cF.getSquaredDistanceToLineSegment({x:L,y:go},gQ,gR);gy=Math.min(gy,gS)}else if(gq!==-1){var gT={x:gs,y:gt};var gU={x:gu,y:gv};var gV=cF.getSquaredDistanceToLineSegment({x:L,y:go},gT,gU);gy=Math.min(gy,gV)}return gy};dG.$7=function(e,L,go){{if(cF.circleIntersectsRect({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:5/2},L)){return true}}{if(cF.circleIntersectsRect({center:{x:e.c['x1'].gv(go),y:e.c['y1'].gv(go)},radius:5/2},L)){return true}}return false};dG.$1=function(e,L,go,gp,gq){{}{if(cF.circleIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:5/2})){return true}}{if(cF.circleIntersectsCircle(L,{center:{x:e.c['x1'].gv(go),y:e.c['y1'].gv(go)},radius:5/2})){return true}}return false};dG.$6=function(e,L,go,gp){{if(cF.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:5/2})){return true}}{if(cF.polygonIntersectsCircle(L,{center:{x:e.c['x1'].gv(go),y:e.c['y1'].gv(go)},radius:5/2})){return true}}return false};dG.$i=function(e,L){var go={x:0,y:0,w:0,h:0};{var gp=e.getMarkLabelProperty('x',L);var gq=e.getMarkLabelProperty('y',L);var gr=e.getMarkLabelProperty('width',L);var gs=-e.getMarkLabelProperty('height',L);gp+=0;gq+=0;if(gs<0){gq+=gs;gs=Math.abs(gs)}tab.RectXYUtil.set$1(go,Math.floor(gp),Math.floor(gq),Math.floor(gr),Math.floor(gs))}return go};dG.$z=function(e,L,go,gp){var gq=e.c['size'].gv(gp)/2;var gr=e.c['theta'].gv(gp);var gs=e.c['theta1'].gv(gp);if(gr>gs){var gt=gr;gr=gs;gs=gt}var gu={x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)};var gv={center:gu,radius:gq};if(gs-gr>=1){return cF.isPointInCircle({x:L,y:go},gv)}gr=bg.toCanvasAngle(gr);gs=bg.toCanvasAngle(gs);gr=cF.normalizeAngle(gr);gs=cF.normalizeAngle(gs);return cF.isPointInWedge({x:L,y:go},gv,gr,gs)};dG.$B=function(e,L,go){var gp=e.c['size'].gv(go)/2;var gq=e.c['theta'].gv(go);var gr=e.c['theta1'].gv(go);if(gq>gr){var gs=gq;gq=gr;gr=gs}var gt={x:e.c['x'].gv(go),y:e.c['y'].gv(go)};var gu={center:gt,radius:gp};if(gr-gq>=1){return cF.circleIntersectsRect(gu,L)}gq=bg.toCanvasAngle(gq);gr=bg.toCanvasAngle(gr);gq=cF.normalizeAngle(gq);gr=cF.normalizeAngle(gr);return cF.rectIntersectsWedge(L,{center:gt,radius:gp},gq,gr)};dG.$A=function(e,L,go){var gp=e.c['size'].gv(go)/2;var gq=e.c['theta'].gv(go);var gr=e.c['theta1'].gv(go);if(gq>gr){var gs=gq;gq=gr;gr=gs}var gt={x:e.c['x'].gv(go),y:e.c['y'].gv(go)};var gu={center:gt,radius:gp};if(gr-gq>=1){return cF.polygonIntersectsCircle(L,gu)}gq=bg.toCanvasAngle(gq);gr=bg.toCanvasAngle(gr);gq=cF.normalizeAngle(gq);gr=cF.normalizeAngle(gr);return cF.polygonIntersectsWedge(L,{center:gt,radius:gp},gq,gr)};dG.$y=function(e,L,go,gp){if(gp){{return cF.isPointInCircle({x:e.c['x'].gv(go),y:e.c['y'].gv(go)},L)}}var gq=e.c['size'].gv(go)/2;var gr=e.c['theta'].gv(go);var gs=e.c['theta1'].gv(go);if(gr>gs){var gt=gr;gr=gs;gs=gt}var gu={x:e.c['x'].gv(go),y:e.c['y'].gv(go)};var gv={center:gu,radius:gq};if(gs-gr>=1){return cF.circleIntersectsCircle(gv,L)}gr=bg.toCanvasAngle(gr);gs=bg.toCanvasAngle(gs);gr=cF.normalizeAngle(gr);gs=cF.normalizeAngle(gs);return cF.circleIntersectsWedge(L,{center:gu,radius:gq},gr,gs)};dG.$k=function(e,L){var go={x:0,y:0,w:0,h:0};var gp=e.c['size'].gv(L)/2;{tab.RectXYUtil.unionInPlace(go,bg.boundWedge(e.c['x'].gv(L),e.c['y'].gv(L),gp,e.c['theta'].gv(L),e.c['theta1'].gv(L)))}if(e.c['draw_border'].gv(L)){tab.RectXYUtil.unionInPlace(go,bg.boundWedge(e.c['x'].gv(L),e.c['y'].gv(L),gp,e.c['theta'].gv(L),e.c['theta1'].gv(L)))}return go};dG.$1G=function(e,L){var go={x:0,y:0,w:0,h:0};if(!(e.clipCase!==0&&e.useCellClipForSelection)){var gp=e.c['x'].gv(L);var gq=e.c['y'].gv(L);var gr=e.c['width'].gv(L);var gs=-e.c['height'].gv(L);gp+=-e.c['width'].gv(L)/2;gq+=e.c['height'].gv(L)/2;if(gs<0){gq+=gs;gs=Math.abs(gs)}tab.RectXYUtil.set$1(go,Math.floor(gp),Math.floor(gq),Math.floor(gr),Math.floor(gs))}if(e.clipCase!==0&&e.useCellClipForSelection){var gt=e.c['x'].gv(L);var gu=e.c['y'].gv(L);var gv=e.c['clip_width'].gv(L);var gw=-e.c['clip_height'].gv(L);gt+=-e.c['clip_width'].gv(L)/2;gu+=e.c['clip_height'].gv(L)/2;if(gw<0){gu+=gw;gw=Math.abs(gw)}tab.RectXYUtil.set$1(go,Math.floor(gt),Math.floor(gu),Math.floor(gv),Math.floor(gw))}return go};dG.$1I=function(e,L,go,gp){if(!(e.clipCase!==0&&e.useCellClipForSelection)){return bg.isPointInExpandedRectHelperF(e.c['y'].gv(gp)+e.c['height'].gv(gp)/2,e.c['x'].gv(gp)+-e.c['width'].gv(gp)/2,-e.c['height'].gv(gp),e.c['width'].gv(gp),0,0,e.minBarHeight,e.minBarWidth,L,go)}if(e.clipCase!==0&&e.useCellClipForSelection){return bg.isPointInExpandedRectHelperF(e.c['y'].gv(gp)+e.c['clip_height'].gv(gp)/2,e.c['x'].gv(gp)+-e.c['clip_width'].gv(gp)/2,-e.c['clip_height'].gv(gp),e.c['clip_width'].gv(gp),0,0,e.minBarHeight,e.minBarWidth,L,go)}return false};dG.$1L=function(e,L,go,gp){if(!(e.clipCase!==0&&e.useCellClipForSelection)){return bg.isPointInExpandedRectHelperF(e.c['y'].gv(gp)+(e.c['height'].gv(gp)/2+10),e.c['x'].gv(gp)+(-e.c['width'].gv(gp)/2-10),-e.c['height'].gv(gp)-20,e.c['width'].gv(gp)+20,0,0,e.minBarHeight,e.minBarWidth,L,go)}if(e.clipCase!==0&&e.useCellClipForSelection){return bg.isPointInExpandedRectHelperF(e.c['y'].gv(gp)+e.c['clip_height'].gv(gp)/2,e.c['x'].gv(gp)+-e.c['clip_width'].gv(gp)/2,-e.c['clip_height'].gv(gp),e.c['clip_width'].gv(gp),0,0,e.minBarHeight,e.minBarWidth,L,go)}return false};dG.$1K=function(e,L){var go=null;if(!(e.clipCase!==0&&e.useCellClipForSelection)){go={w:10,h:10}}if(e.clipCase!==0&&e.useCellClipForSelection){go={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}return go};dG.$1J=function(e,L,go,gp){var gq=e.getMarkBounds(gp);return cF.getSquaredDistanceToNearestSide(gq,{x:L,y:go})};dG.$1N=function(e,L,go){return true};dG.$1H=function(e,L,go,gp,gq){if(gq){{return cF.isPointInCircle({x:e.c['x'].gv(go),y:e.c['y'].gv(go)},L)}}return cF.circleIntersectsRect(L,gp)};dG.$1M=function(e,L,go,gp){return cF.polygonIntersectsRect(L,gp)};dG.$8=function(e,L){var go={x:0,y:0,w:0,h:0};var gp=ss.Int32.trunc(e.c['size'].gv(L)+0.5)/2;if(e.scaleMarksInX&&e.scaleMarksInY){var gq=e.c['y'].gv(L);var gr=e.c['y1'].gv(L);var gs=e.c['x'].gv(L);var gt=e.c['x1'].gv(L);dG.$g(e,go,gq,gs,gr,gt)}if(!e.scaleMarksInX&&e.scaleMarksInY){var gu=e.c['y'].gv(L);var gv=e.c['y1'].gv(L);var gw=e.c['x'].gv(L)-gp;var gx=e.c['x'].gv(L)+gp;dG.$g(e,go,gu,gw,gv,gx)}if(e.scaleMarksInX&&!e.scaleMarksInY){var gy=e.c['y'].gv(L)-gp;var gz=e.c['y'].gv(L)+gp;var gA=e.c['x'].gv(L);var gB=e.c['x1'].gv(L);dG.$g(e,go,gy,gA,gz,gB)}if(!e.scaleMarksInX&&!e.scaleMarksInY){var gC=e.c['y'].gv(L)-gp;var gD=e.c['y'].gv(L)+gp;var gE=e.c['x'].gv(L)-gp;var gF=e.c['x'].gv(L)+gp;dG.$g(e,go,gC,gE,gD,gF)}return go};dG.$a=function(e,L,go,gp){var gq=e.c['size'].gv(gp)/2;var gr=e.c['size'].gv(gp)/2;if(e.scaleMarksInX&&e.scaleMarksInY){var gs=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gt=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gu=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gv=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gw={x:gu,y:gs,w:gv-gu,h:gt-gs};tab.RectXYUtil.outsetRectInPlace(gw,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gw,L,go)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY){var gx=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gy=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gz=Math.floor(Math.min(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var gA=Math.ceil(Math.max(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var gB={x:gz,y:gx,w:gA-gz,h:gy-gx};tab.RectXYUtil.outsetRectInPlace(gB,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gB,L,go)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY){var gC=Math.floor(Math.min(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var gD=Math.ceil(Math.max(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var gE=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gF=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gG={x:gE,y:gC,w:gF-gE,h:gD-gC};tab.RectXYUtil.outsetRectInPlace(gG,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gG,L,go)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY){var gH=Math.floor(Math.min(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var gI=Math.ceil(Math.max(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var gJ=Math.floor(Math.min(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var gK=Math.ceil(Math.max(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var gL={x:gJ,y:gH,w:gK-gJ,h:gI-gH};tab.RectXYUtil.outsetRectInPlace(gL,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gL,L,go)){return true}}return false};dG.$d=function(e,L,go,gp){var gq=e.c['clip_width'].gv(gp)/2;var gr=e.c['clip_height'].gv(gp)/2;var gs=e.c['size'].gv(gp)/2;var gt=e.c['size'].gv(gp)/2;if(e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gu=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gv=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gw=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gx=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gy={x:gw,y:gu,w:gx-gw,h:gv-gu};tab.RectXYUtil.outsetRectInPlace(gy,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gy,L,go)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gz=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gA=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gB=Math.floor(Math.min(e.c['x'].gv(gp)-gs,e.c['x'].gv(gp)+gs));var gC=Math.ceil(Math.max(e.c['x'].gv(gp)-gs,e.c['x'].gv(gp)+gs));var gD={x:gB,y:gz,w:gC-gB,h:gA-gz};tab.RectXYUtil.outsetRectInPlace(gD,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gD,L,go)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gE=Math.floor(Math.min(e.c['y'].gv(gp)-gt,e.c['y'].gv(gp)+gt));var gF=Math.ceil(Math.max(e.c['y'].gv(gp)-gt,e.c['y'].gv(gp)+gt));var gG=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gH=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gI={x:gG,y:gE,w:gH-gG,h:gF-gE};tab.RectXYUtil.outsetRectInPlace(gI,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gI,L,go)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){var gJ=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gK=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var gL=Math.floor(Math.min(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var gM=Math.ceil(Math.max(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var gN={x:gL,y:gJ,w:gM-gL,h:gK-gJ};tab.RectXYUtil.outsetRectInPlace(gN,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gN,L,go)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){var gO=Math.floor(Math.min(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var gP=Math.ceil(Math.max(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var gQ=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gR=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var gS={x:gQ,y:gO,w:gR-gQ,h:gP-gO};tab.RectXYUtil.outsetRectInPlace(gS,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(gS,L,go)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){var gT=Math.floor(Math.min(e.c['y'].gv(gp)-gt,e.c['y'].gv(gp)+gt));var gU=Math.ceil(Math.max(e.c['y'].gv(gp)-gt,e.c['y'].gv(gp)+gt));var gV=Math.floor(Math.min(e.c['x'].gv(gp)-gs,e.c['x'].gv(gp)+gs));var gW=Math.ceil(Math.max(e.c['x'].gv(gp)-gs,e.c['x'].gv(gp)+gs));var gX={x:gV,y:gT,w:gW-gV,h:gU-gT};tab.RectXYUtil.outsetRectInPlace(gX,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(gX,L,go)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){var gY=Math.floor(Math.min(e.c['y'].gv(gp)-gt,e.c['y'].gv(gp)+gt));var gZ=Math.ceil(Math.max(e.c['y'].gv(gp)-gt,e.c['y'].gv(gp)+gt));var ha=Math.floor(Math.min(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var hb=Math.ceil(Math.max(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var hc={x:ha,y:gY,w:hb-ha,h:gZ-gY};tab.RectXYUtil.outsetRectInPlace(hc,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(hc,L,go)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){var hd=Math.floor(Math.min(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var he=Math.ceil(Math.max(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var hf=Math.floor(Math.min(e.c['x'].gv(gp)-gs,e.c['x'].gv(gp)+gs));var hg=Math.ceil(Math.max(e.c['x'].gv(gp)-gs,e.c['x'].gv(gp)+gs));var hh={x:hf,y:hd,w:hg-hf,h:he-hd};tab.RectXYUtil.outsetRectInPlace(hh,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hh,L,go)){return true}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var hi=Math.floor(Math.min(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var hj=Math.ceil(Math.max(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var hk=Math.floor(Math.min(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var hl=Math.ceil(Math.max(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var hm={x:hk,y:hi,w:hl-hk,h:hj-hi};tab.RectXYUtil.outsetRectInPlace(hm,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hm,L,go)){return true}}if(e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var hn=Math.floor(Math.min(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var ho=Math.ceil(Math.max(e.c['y'].gv(gp)-gr,e.c['y'].gv(gp)+gr));var hp=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var hq=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var hr={x:hp,y:hn,w:hq-hp,h:ho-hn};tab.RectXYUtil.outsetRectInPlace(hr,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hr,L,go)){return true}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var hs=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var ht=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var hu=Math.floor(Math.min(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var hv=Math.ceil(Math.max(e.c['x'].gv(gp)-gq,e.c['x'].gv(gp)+gq));var hw={x:hu,y:hs,w:hv-hu,h:ht-hs};tab.RectXYUtil.outsetRectInPlace(hw,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hw,L,go)){return true}}if(e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){var hx=Math.floor(Math.min(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var hy=Math.ceil(Math.max(e.c['y'].gv(gp),e.c['y1'].gv(gp)));var hz=Math.floor(Math.min(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var hA=Math.ceil(Math.max(e.c['x'].gv(gp),e.c['x1'].gv(gp)));var hB={x:hz,y:hx,w:hA-hz,h:hy-hx};tab.RectXYUtil.outsetRectInPlace(hB,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(hB,L,go)){return true}}return false};dG.$c=function(e,L){var go=null;if(e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){go={w:10,h:10}}if(!e.scaleMarksInX&&e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){go={w:5,h:10}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){go={w:10,h:5}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){go={w:e.c['clip_width'].gv(L)/2,h:10}}if(e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){go={w:10,h:e.c['clip_height'].gv(L)/2}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY){go={w:5,h:5}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&e.paneHasCellsY){go={w:5,h:e.c['clip_height'].gv(L)}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&!e.paneHasCellsY){go={w:e.c['clip_width'].gv(L)/2,h:10}}if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){go={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}if(e.scaleMarksInX&&!e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){go={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}if(!e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){go={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}if(e.scaleMarksInX&&e.scaleMarksInY&&e.paneHasCellsX&&e.paneHasCellsY){go={w:e.c['clip_width'].gv(L)/2,h:e.c['clip_height'].gv(L)/2}}return go};dG.$b=function(e,L,go,gp){var gq=e.getMarkBounds(gp);return cF.getSquaredDistanceToNearestSide(gq,{x:L,y:go})};dG.$f=function(e,L,go){return true};dG.$9=function(e,L,go,gp,gq){if(gq&&(!e.scaleMarksInX&&!e.scaleMarksInY&&!e.paneHasCellsX&&!e.paneHasCellsY)){{return cF.isPointInCircle({x:e.c['x'].gv(go),y:e.c['y'].gv(go)},L)}}return cF.circleIntersectsRect(L,gp)};dG.$e=function(e,L,go,gp){return cF.polygonIntersectsRect(L,gp)};dG.$m=function(e,L){var go=e.c['l_neighbor'].gv(L);var gp=e.c['r_neighbor'].gv(L);var gq=e.lineInterpolation;var gr=e.lineMarkerPosition;var gs={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(gs,e.c['x'].gv(L),e.c['y'].gv(L),(e.c['size'].gv(L)+20)/2)}if(go!==-1&&gq==='lim-linear'){bg.boundLineEdgeInPlace(gs,(e.c['x'].gv(go)+e.c['x'].gv(L))/2,(e.c['y'].gv(go)+e.c['y'].gv(L))/2,(e.c['size'].gv(go)+e.c['size'].gv(L))/2+20,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(gp!==-1&&gq==='lim-linear'){bg.boundLineEdgeInPlace(gs,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20,(e.c['x'].gv(L)+e.c['x'].gv(gp))/2,(e.c['y'].gv(L)+e.c['y'].gv(gp))/2,(e.c['size'].gv(L)+e.c['size'].gv(gp))/2+20)}if(gp!==-1&&(gq==='lim-step'||gq==='lim-jump')&&gr==='lmp-left'){tab.RectXYUtil.encompassCircleInPlace(gs,e.c['x'].gv(gp),e.c['y'].gv(L),(e.c['size'].gv(L)+20)/2)}if(go!==-1&&gq==='lim-step'&&gr==='lmp-left'){bg.boundLineEdgeInPlace(gs,e.c['x'].gv(L),e.c['y'].gv(go),e.c['size'].gv(go)+20,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(gp!==-1&&(gq==='lim-step'||gq==='lim-jump')&&gr==='lmp-left'){bg.boundLineEdgeInPlace(gs,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20,e.c['x'].gv(gp),e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(go!==-1&&gq==='lim-step'&&gr==='lmp-center'){bg.boundLineEdgeInPlace(gs,(e.c['x'].gv(go)+e.c['x'].gv(L))/2,(e.c['y'].gv(go)+e.c['y'].gv(L))/2,(e.c['size'].gv(go)+e.c['size'].gv(L))/2+20,(e.c['x'].gv(go)+e.c['x'].gv(L))/2,e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(gp!==-1&&gq==='lim-step'&&gr==='lmp-center'){bg.boundLineEdgeInPlace(gs,(e.c['x'].gv(gp)+e.c['x'].gv(L))/2,e.c['y'].gv(L),e.c['size'].gv(L)+20,(e.c['x'].gv(gp)+e.c['x'].gv(L))/2,(e.c['y'].gv(L)+e.c['y'].gv(gp))/2,(e.c['size'].gv(L)+e.c['size'].gv(gp))/2+20)}if(go!==-1&&(gq==='lim-step'||gq==='lim-jump')&&gr==='lmp-center'){bg.boundLineEdgeInPlace(gs,(e.c['x'].gv(go)+e.c['x'].gv(L))/2,e.c['y'].gv(L),e.c['size'].gv(L)+20,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(gp!==-1&&(gq==='lim-step'||gq==='lim-jump')&&gr==='lmp-center'){bg.boundLineEdgeInPlace(gs,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20,(e.c['x'].gv(gp)+e.c['x'].gv(L))/2,e.c['y'].gv(L),e.c['size'].gv(L)+20)}if(go!==-1&&(gq==='lim-step'||gq==='lim-jump')&&gr==='lmp-right'){tab.RectXYUtil.encompassCircleInPlace(gs,e.c['x'].gv(go),e.c['y'].gv(L),(e.c['size'].gv(L)+20)/2)}if(gp!==-1&&gq==='lim-step'&&gr==='lmp-right'){bg.boundLineEdgeInPlace(gs,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20,e.c['x'].gv(L),e.c['y'].gv(gp),e.c['size'].gv(gp)+20)}if(go!==-1&&(gq==='lim-step'||gq==='lim-jump')&&gr==='lmp-right'){bg.boundLineEdgeInPlace(gs,e.c['x'].gv(go),e.c['y'].gv(L),e.c['size'].gv(L)+20,e.c['x'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L)+20)}return gs};dG.$o=function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(gp);var gr=e.c['r_neighbor'].gv(gp);var gs=e.lineInterpolation;var gt=e.lineMarkerPosition;{if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)},radius:e.c['size'].gv(gp)/2})){return true}}if(gq!==-1&&gs==='lim-linear'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,(e.c['y'].gv(gq)+e.c['y'].gv(gp))/2,(e.c['size'].gv(gq)+e.c['size'].gv(gp))/2,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}if(gr!==-1&&gs==='lim-linear'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp),(e.c['x'].gv(gp)+e.c['x'].gv(gr))/2,(e.c['y'].gv(gp)+e.c['y'].gv(gr))/2,(e.c['size'].gv(gp)+e.c['size'].gv(gr))/2)){return true}}if(gr!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-left'){if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gr),y:e.c['y'].gv(gp)},radius:e.c['size'].gv(gp)/2})){return true}}if(gq!==-1&&gs==='lim-step'&&gt==='lmp-left'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gq),e.c['size'].gv(gq),e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}if(gr!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-left'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp),e.c['x'].gv(gr),e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}if(gq!==-1&&gs==='lim-step'&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,(e.c['y'].gv(gq)+e.c['y'].gv(gp))/2,(e.c['size'].gv(gq)+e.c['size'].gv(gp))/2,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}if(gr!==-1&&gs==='lim-step'&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gr)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp),(e.c['x'].gv(gr)+e.c['x'].gv(gp))/2,(e.c['y'].gv(gp)+e.c['y'].gv(gr))/2,(e.c['size'].gv(gp)+e.c['size'].gv(gr))/2)){return true}}if(gq!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp),e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}if(gr!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp),(e.c['x'].gv(gr)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}if(gq!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-right'){if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gq),y:e.c['y'].gv(gp)},radius:e.c['size'].gv(gp)/2})){return true}}if(gr!==-1&&gs==='lim-step'&&gt==='lmp-right'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp),e.c['x'].gv(gp),e.c['y'].gv(gr),e.c['size'].gv(gr))){return true}}if(gq!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-right'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gq),e.c['y'].gv(gp),e.c['size'].gv(gp),e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp))){return true}}return false};dG.$r=function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(gp);var gr=e.c['r_neighbor'].gv(gp);var gs=e.lineInterpolation;var gt=e.lineMarkerPosition;{if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)},radius:(e.c['size'].gv(gp)+20)/2})){return true}}if(gq!==-1&&gs==='lim-linear'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,(e.c['y'].gv(gq)+e.c['y'].gv(gp))/2,(e.c['size'].gv(gq)+e.c['size'].gv(gp))/2+20,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}if(gr!==-1&&gs==='lim-linear'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20,(e.c['x'].gv(gp)+e.c['x'].gv(gr))/2,(e.c['y'].gv(gp)+e.c['y'].gv(gr))/2,(e.c['size'].gv(gp)+e.c['size'].gv(gr))/2+20)){return true}}if(gr!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-left'){if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gr),y:e.c['y'].gv(gp)},radius:(e.c['size'].gv(gp)+20)/2})){return true}}if(gq!==-1&&gs==='lim-step'&&gt==='lmp-left'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gq),e.c['size'].gv(gq)+20,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}if(gr!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-left'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20,e.c['x'].gv(gr),e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}if(gq!==-1&&gs==='lim-step'&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,(e.c['y'].gv(gq)+e.c['y'].gv(gp))/2,(e.c['size'].gv(gq)+e.c['size'].gv(gp))/2+20,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}if(gr!==-1&&gs==='lim-step'&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gr)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp)+20,(e.c['x'].gv(gr)+e.c['x'].gv(gp))/2,(e.c['y'].gv(gp)+e.c['y'].gv(gr))/2,(e.c['size'].gv(gp)+e.c['size'].gv(gr))/2+20)){return true}}if(gq!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,(e.c['x'].gv(gq)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp)+20,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}if(gr!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-center'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20,(e.c['x'].gv(gr)+e.c['x'].gv(gp))/2,e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}if(gq!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-right'){if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gq),y:e.c['y'].gv(gp)},radius:(e.c['size'].gv(gp)+20)/2})){return true}}if(gr!==-1&&gs==='lim-step'&&gt==='lmp-right'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20,e.c['x'].gv(gp),e.c['y'].gv(gr),e.c['size'].gv(gr)+20)){return true}}if(gq!==-1&&(gs==='lim-step'||gs==='lim-jump')&&gt==='lmp-right'){if(bg.lineEdgeContains(L,go,e.c['x'].gv(gq),e.c['y'].gv(gp),e.c['size'].gv(gp)+20,e.c['x'].gv(gp),e.c['y'].gv(gp),e.c['size'].gv(gp)+20)){return true}}return false};dG.$q=function(e,L){return{w:0,h:0}};dG.$p=function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(gp);var gr=e.c['r_neighbor'].gv(gp);var gs=e.c['x1'].gv(gp);var gt=e.c['y1'].gv(gp);var gu;{var gv=L-gs;var gw=go-gt;var gx=gv*gv+gw*gw;gu=gx}if(gq!==-1){var gy={x:(e.c['x'].gv(gq)+gs)/2,y:(e.c['y'].gv(gq)+gt)/2};var gz={x:gs,y:gt};var gA=cF.getSquaredDistanceToLineSegment({x:L,y:go},gy,gz);gu=Math.min(gu,gA)}if(gr!==-1){var gB={x:gs,y:gt};var gC={x:(e.c['x'].gv(gr)+gs)/2,y:(e.c['y'].gv(gr)+gt)/2};var gD=cF.getSquaredDistanceToLineSegment({x:L,y:go},gB,gC);gu=Math.min(gu,gD)}return gu};dG.$t=function(e,L,go){{if(cF.circleIntersectsRect({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)/2},L)){return true}}return false};dG.$n=function(e,L,go,gp,gq){if(gq){{return cF.isPointInCircle({x:e.c['x'].gv(go),y:e.c['y'].gv(go)},L)}}{if(cF.circleIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)/2})){return true}}return false};dG.$s=function(e,L,go,gp){{if(cF.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)/2})){return true}}return false};dG.$1y=function(e,L){var go=e.c['shape_id'].gv(L);switch(go){case'shapeIDCircle':{var gp={x:0,y:0,w:0,h:0};{var gq=Math.round(e.c['x'].gv(L));var gr=Math.round(e.c['y'].gv(L));var gs=Math.ceil(e.c['size'].gv(L)*0.958333333333333/2);var gt=2*gs;tab.RectXYUtil.unionInPlace$1(gp,gq-gs,gr-gs,gt,gt)}return gp}case'shapeIDFilledCircle':{var gu={x:0,y:0,w:0,h:0};{var gv=Math.round(e.c['x'].gv(L));var gw=Math.round(e.c['y'].gv(L));var gx=Math.ceil(e.c['size'].gv(L)*0.979166666666667/2);var gy=2*gx;tab.RectXYUtil.unionInPlace$1(gu,gv-gx,gw-gx,gy,gy)}return gu}case'shapeIDUnscaledFilledCircle':{var gz={x:0,y:0,w:0,h:0};{var gA=Math.round(e.c['x'].gv(L));var gB=Math.round(e.c['y'].gv(L));var gC=Math.ceil(e.c['size'].gv(L)/2);var gD=2*gC;tab.RectXYUtil.unionInPlace$1(gz,gA-gC,gB-gC,gD,gD)}return gz}case'shapeIDSquare':{var gE={x:0,y:0,w:0,h:0};{var gF=Math.round(e.c['x'].gv(L));var gG=Math.round(e.c['y'].gv(L));var gH=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var gI=2*gH;tab.RectXYUtil.unionInPlace$1(gE,gF-gH,gG-gH,gI,gI)}return gE}case'shapeIDFilledSquare':{var gJ={x:0,y:0,w:0,h:0};{var gK=Math.round(e.c['x'].gv(L));var gL=Math.round(e.c['y'].gv(L));var gM=Math.ceil(e.c['size'].gv(L)*0.9375/2);var gN=2*gM;tab.RectXYUtil.unionInPlace$1(gJ,gK-gM,gL-gM,gN,gN)}return gJ}case'shapeIDAsterisk':{var gO={x:0,y:0,w:0,h:0};{var gP=Math.round(e.c['x'].gv(L));var gQ=Math.round(e.c['y'].gv(L));var gR=Math.ceil(e.c['size'].gv(L)*0.958333333333333/2);var gS=2*gR;tab.RectXYUtil.unionInPlace$1(gO,gP-gR,gQ-gR,gS,gS)}return gO}case'shapeIDPlus':{var gT={x:0,y:0,w:0,h:0};{var gU=Math.round(e.c['x'].gv(L));var gV=Math.round(e.c['y'].gv(L));var gW=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var gX=2*gW;tab.RectXYUtil.unionInPlace$1(gT,gU-gW,gV-gW,gX,gX)}return gT}case'shapeIDFilledPlus':{var gY={x:0,y:0,w:0,h:0};{var gZ=Math.round(e.c['x'].gv(L));var ha=Math.round(e.c['y'].gv(L));var hb=Math.ceil(e.c['size'].gv(L)*0.9375/2);var hc=2*hb;tab.RectXYUtil.unionInPlace$1(gY,gZ-hb,ha-hb,hc,hc)}return gY}case'shapeIDTimes':{var hd={x:0,y:0,w:0,h:0};{var he=Math.round(e.c['x'].gv(L));var hf=Math.round(e.c['y'].gv(L));var hg=Math.ceil(e.c['size'].gv(L)*0.875/2);var hh=2*hg;tab.RectXYUtil.unionInPlace$1(hd,he-hg,hf-hg,hh,hh)}return hd}case'shapeIDFilledTimes':{var hi={x:0,y:0,w:0,h:0};{var hj=Math.round(e.c['x'].gv(L));var hk=Math.round(e.c['y'].gv(L));var hl=Math.ceil(e.c['size'].gv(L)*0.9375/2);var hm=2*hl;tab.RectXYUtil.unionInPlace$1(hi,hj-hl,hk-hl,hm,hm)}return hi}case'shapeIDDiamond':{var hn={x:0,y:0,w:0,h:0};{var ho=Math.round(e.c['x'].gv(L));var hp=Math.round(e.c['y'].gv(L));var hq=Math.ceil(e.c['size'].gv(L)*1.04166666666667/2);var hr=2*hq;tab.RectXYUtil.unionInPlace$1(hn,ho-hq,hp-hq,hr,hr)}return hn}case'shapeIDFilledDiamond':{var hs={x:0,y:0,w:0,h:0};{var ht=Math.round(e.c['x'].gv(L));var hu=Math.round(e.c['y'].gv(L));var hv=Math.ceil(e.c['size'].gv(L)*1.04166666666667/2);var hw=2*hv;tab.RectXYUtil.unionInPlace$1(hs,ht-hv,hu-hv,hw,hw)}return hs}case'shapeIDTriangle':{var hx={x:0,y:0,w:0,h:0};{var hy=Math.round(e.c['x'].gv(L));var hz=Math.round(e.c['y'].gv(L));var hA=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var hB=2*hA;tab.RectXYUtil.unionInPlace$1(hx,hy-hA,hz-hA,hB,hB)}return hx}case'shapeIDFilledTriangle':{var hC={x:0,y:0,w:0,h:0};{var hD=Math.round(e.c['x'].gv(L));var hE=Math.round(e.c['y'].gv(L));var hF=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var hG=2*hF;tab.RectXYUtil.unionInPlace$1(hC,hD-hF,hE-hF,hG,hG)}return hC}case'shapeIDDownTriangle':{var hH={x:0,y:0,w:0,h:0};{var hI=Math.round(e.c['x'].gv(L));var hJ=Math.round(e.c['y'].gv(L));var hK=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var hL=2*hK;tab.RectXYUtil.unionInPlace$1(hH,hI-hK,hJ-hK,hL,hL)}return hH}case'shapeIDFilledDownTriangle':{var hM={x:0,y:0,w:0,h:0};{var hN=Math.round(e.c['x'].gv(L));var hO=Math.round(e.c['y'].gv(L));var hP=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var hQ=2*hP;tab.RectXYUtil.unionInPlace$1(hM,hN-hP,hO-hP,hQ,hQ)}return hM}case'shapeIDLeftTriangle':{var hR={x:0,y:0,w:0,h:0};{var hS=Math.round(e.c['x'].gv(L));var hT=Math.round(e.c['y'].gv(L));var hU=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var hV=2*hU;tab.RectXYUtil.unionInPlace$1(hR,hS-hU,hT-hU,hV,hV)}return hR}case'shapeIDFilledLeftTriangle':{var hW={x:0,y:0,w:0,h:0};{var hX=Math.round(e.c['x'].gv(L));var hY=Math.round(e.c['y'].gv(L));var hZ=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var ia=2*hZ;tab.RectXYUtil.unionInPlace$1(hW,hX-hZ,hY-hZ,ia,ia)}return hW}case'shapeIDRightTriangle':{var ib={x:0,y:0,w:0,h:0};{var ic=Math.round(e.c['x'].gv(L));var id=Math.round(e.c['y'].gv(L));var ie=Math.ceil(e.c['size'].gv(L)*0.895833333333333/2);var ig=2*ie;tab.RectXYUtil.unionInPlace$1(ib,ic-ie,id-ie,ig,ig)}return ib}case'shapeIDFilledRightTriangle':{var ih={x:0,y:0,w:0,h:0};{var ii=Math.round(e.c['x'].gv(L));var ij=Math.round(e.c['y'].gv(L));var ik=Math.ceil(e.c['size'].gv(L)*0.916666666666667/2);var il=2*ik;tab.RectXYUtil.unionInPlace$1(ih,ii-ik,ij-ik,il,il)}return ih}case'shapeIDFilledStar':{var im={x:0,y:0,w:0,h:0};{var io=Math.round(e.c['x'].gv(L));var ip=Math.round(e.c['y'].gv(L));var iq=Math.ceil(e.c['size'].gv(L)*1.09166666666667/2);var ir=2*iq;tab.RectXYUtil.unionInPlace$1(im,io-iq,ip-iq,ir,ir)}return im}default:{if(go>null){var it=Math.round(e.c['x'].gv(L));var iu=Math.round(e.c['y'].gv(L));var iv=Math.ceil(e.c['size'].gv(L));var iw=Math.ceil(iv/2);var ix={x:it-iw,y:iu-iw,w:iv,h:iv};return ix}break}}return{x:0,y:0,w:0,h:0}};dG.$1A=function(e,L,go,gp){var gq=e.c['shape_id'].gv(gp);switch(gq){case'shapeIDCircle':{{if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)},radius:e.c['size'].gv(gp)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)},radius:e.c['size'].gv(gp)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(cF.isPointInCircle({x:L,y:go},{center:{x:e.c['x'].gv(gp),y:e.c['y'].gv(gp)},radius:e.c['size'].gv(gp)/2})){return true}}return false}case'shapeIDSquare':{{var gr=e.c['size'].gv(gp)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gr,e.c['y'].gv(gp)-gr,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,L,go)){return true}}return false}case'shapeIDFilledSquare':{{var gs=e.c['size'].gv(gp)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gs,e.c['y'].gv(gp)-gs,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,L,go)){return true}}return false}case'shapeIDAsterisk':{{var gt=e.c['size'].gv(gp)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gt,e.c['y'].gv(gp)-gt,e.c['size'].gv(gp)*0.958333333333333,e.c['size'].gv(gp)*0.958333333333333,L,go)){return true}}return false}case'shapeIDPlus':{{var gu=e.c['size'].gv(gp)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gu,e.c['y'].gv(gp)-gu,e.c['size'].gv(gp)*0.916666666666667,e.c['size'].gv(gp)*0.916666666666667,L,go)){return true}}return false}case'shapeIDFilledPlus':{{var gv=e.c['size'].gv(gp)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gv,e.c['y'].gv(gp)-gv,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,L,go)){return true}}return false}case'shapeIDTimes':{{var gw=e.c['size'].gv(gp)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gw,e.c['y'].gv(gp)-gw,e.c['size'].gv(gp)*0.875,e.c['size'].gv(gp)*0.875,L,go)){return true}}return false}case'shapeIDFilledTimes':{{var gx=e.c['size'].gv(gp)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gx,e.c['y'].gv(gp)-gx,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,L,go)){return true}}return false}case'shapeIDDiamond':{{var gy=e.c['size'].gv(gp)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gy,e.c['y'].gv(gp)-gy,e.c['size'].gv(gp)*1.04166666666667,e.c['size'].gv(gp)*1.04166666666667,L,go)){return true}}return false}case'shapeIDFilledDiamond':{{var gz=e.c['size'].gv(gp)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gz,e.c['y'].gv(gp)-gz,e.c['size'].gv(gp)*1.04166666666667,e.c['size'].gv(gp)*1.04166666666667,L,go)){return true}}return false}case'shapeIDTriangle':{{var gA=e.c['size'].gv(gp)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gA,e.c['y'].gv(gp)-gA,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,L,go)){return true}}return false}case'shapeIDFilledTriangle':{{var gB=e.c['size'].gv(gp)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gB,e.c['y'].gv(gp)-gB,e.c['size'].gv(gp)*0.916666666666667,e.c['size'].gv(gp)*0.916666666666667,L,go)){return true}}return false}case'shapeIDDownTriangle':{{var gC=e.c['size'].gv(gp)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gC,e.c['y'].gv(gp)-gC,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,L,go)){return true}}return false}case'shapeIDFilledDownTriangle':{{var gD=e.c['size'].gv(gp)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gD,e.c['y'].gv(gp)-gD,e.c['size'].gv(gp)*0.916666666666667,e.c['size'].gv(gp)*0.916666666666667,L,go)){return true}}return false}case'shapeIDLeftTriangle':{{var gE=e.c['size'].gv(gp)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gE,e.c['y'].gv(gp)-gE,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,L,go)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var gF=e.c['size'].gv(gp)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gF,e.c['y'].gv(gp)-gF,e.c['size'].gv(gp)*0.916666666666667,e.c['size'].gv(gp)*0.916666666666667,L,go)){return true}}return false}case'shapeIDRightTriangle':{{var gG=e.c['size'].gv(gp)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gG,e.c['y'].gv(gp)-gG,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,L,go)){return true}}return false}case'shapeIDFilledRightTriangle':{{var gH=e.c['size'].gv(gp)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gH,e.c['y'].gv(gp)-gH,e.c['size'].gv(gp)*0.916666666666667,e.c['size'].gv(gp)*0.916666666666667,L,go)){return true}}return false}case'shapeIDFilledStar':{{var gI=e.c['size'].gv(gp)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gI,e.c['y'].gv(gp)-gI,e.c['size'].gv(gp)*1.09166666666667,e.c['size'].gv(gp)*1.09166666666667,L,go)){return true}}return false}default:{if(gq>null){var gJ=e.c['size'].gv(gp);var gK=gJ/2;return tab.DoubleRectXYUtil.inRect$1(e.c['x'].gv(gp)-gK,e.c['y'].gv(gp)-gK,gJ,gJ,L,go)}break}}return true};dG.$1D=function(e,L,go,gp){var gq=e.c['shape_id'].gv(gp);switch(gq){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};dG.$1C=function(e,L){var go=null;{go={w:10,h:10}}return go};dG.$1B=function(e,L,go,gp){var gq=e.c['shape_id'].gv(gp);switch(gq){case'shapeIDCircle':{var gr=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gr,{x:L,y:go})}case'shapeIDFilledCircle':{var gs=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gs,{x:L,y:go})}case'shapeIDUnscaledFilledCircle':{var gt=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gt,{x:L,y:go})}case'shapeIDSquare':{var gu=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gu,{x:L,y:go})}case'shapeIDFilledSquare':{var gv=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gv,{x:L,y:go})}case'shapeIDAsterisk':{var gw=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gw,{x:L,y:go})}case'shapeIDPlus':{var gx=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gx,{x:L,y:go})}case'shapeIDFilledPlus':{var gy=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gy,{x:L,y:go})}case'shapeIDTimes':{var gz=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gz,{x:L,y:go})}case'shapeIDFilledTimes':{var gA=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gA,{x:L,y:go})}case'shapeIDDiamond':{var gB=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gB,{x:L,y:go})}case'shapeIDFilledDiamond':{var gC=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gC,{x:L,y:go})}case'shapeIDTriangle':{var gD=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gD,{x:L,y:go})}case'shapeIDFilledTriangle':{var gE=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gE,{x:L,y:go})}case'shapeIDDownTriangle':{var gF=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gF,{x:L,y:go})}case'shapeIDFilledDownTriangle':{var gG=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gG,{x:L,y:go})}case'shapeIDLeftTriangle':{var gH=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gH,{x:L,y:go})}case'shapeIDFilledLeftTriangle':{var gI=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gI,{x:L,y:go})}case'shapeIDRightTriangle':{var gJ=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gJ,{x:L,y:go})}case'shapeIDFilledRightTriangle':{var gK=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gK,{x:L,y:go})}case'shapeIDFilledStar':{var gL=e.getMarkBounds(gp);return cF.getSquaredDistanceToCircumference(gL,{x:L,y:go})}default:{break}}return cF.getSquaredDistanceToCenter(e.getMarkBounds(gp),{x:L,y:go})};dG.$1F=function(e,L,go){var gp=e.c['shape_id'].gv(go);switch(gp){case'shapeIDCircle':{return cF.circleIntersectsRect({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)*0.958333333333333/2},L)}case'shapeIDFilledCircle':{return cF.circleIntersectsRect({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)*0.979166666666667/2},L)}case'shapeIDUnscaledFilledCircle':{return cF.circleIntersectsRect({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)/2},L)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};dG.$1z=function(e,L,go,gp){if(gp){{return cF.isPointInCircle({x:e.c['x'].gv(go),y:e.c['y'].gv(go)},L)}}var gq=e.c['shape_id'].gv(go);switch(gq){case'shapeIDCircle':{return cF.circleIntersectsCircle({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)*0.958333333333333/2},L)}case'shapeIDFilledCircle':{return cF.circleIntersectsCircle({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)*0.979166666666667/2},L)}case'shapeIDUnscaledFilledCircle':{return cF.circleIntersectsCircle({center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)/2},L)}case'shapeIDSquare':{var gr={x:0,y:0,w:0,h:0};{var gs=Math.round(e.c['x'].gv(go));var gt=Math.round(e.c['y'].gv(go));var gu=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var gv=2*gu;tab.RectXYUtil.unionInPlace$1(gr,gs-gu,gt-gu,gv,gv)}return cF.circleIntersectsRect(L,gr)}case'shapeIDFilledSquare':{var gw={x:0,y:0,w:0,h:0};{var gx=Math.round(e.c['x'].gv(go));var gy=Math.round(e.c['y'].gv(go));var gz=Math.ceil(e.c['size'].gv(go)*0.9375/2);var gA=2*gz;tab.RectXYUtil.unionInPlace$1(gw,gx-gz,gy-gz,gA,gA)}return cF.circleIntersectsRect(L,gw)}case'shapeIDAsterisk':{var gB={x:0,y:0,w:0,h:0};{var gC=Math.round(e.c['x'].gv(go));var gD=Math.round(e.c['y'].gv(go));var gE=Math.ceil(e.c['size'].gv(go)*0.958333333333333/2);var gF=2*gE;tab.RectXYUtil.unionInPlace$1(gB,gC-gE,gD-gE,gF,gF)}return cF.circleIntersectsRect(L,gB)}case'shapeIDPlus':{var gG={x:0,y:0,w:0,h:0};{var gH=Math.round(e.c['x'].gv(go));var gI=Math.round(e.c['y'].gv(go));var gJ=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var gK=2*gJ;tab.RectXYUtil.unionInPlace$1(gG,gH-gJ,gI-gJ,gK,gK)}return cF.circleIntersectsRect(L,gG)}case'shapeIDFilledPlus':{var gL={x:0,y:0,w:0,h:0};{var gM=Math.round(e.c['x'].gv(go));var gN=Math.round(e.c['y'].gv(go));var gO=Math.ceil(e.c['size'].gv(go)*0.9375/2);var gP=2*gO;tab.RectXYUtil.unionInPlace$1(gL,gM-gO,gN-gO,gP,gP)}return cF.circleIntersectsRect(L,gL)}case'shapeIDTimes':{var gQ={x:0,y:0,w:0,h:0};{var gR=Math.round(e.c['x'].gv(go));var gS=Math.round(e.c['y'].gv(go));var gT=Math.ceil(e.c['size'].gv(go)*0.875/2);var gU=2*gT;tab.RectXYUtil.unionInPlace$1(gQ,gR-gT,gS-gT,gU,gU)}return cF.circleIntersectsRect(L,gQ)}case'shapeIDFilledTimes':{var gV={x:0,y:0,w:0,h:0};{var gW=Math.round(e.c['x'].gv(go));var gX=Math.round(e.c['y'].gv(go));var gY=Math.ceil(e.c['size'].gv(go)*0.9375/2);var gZ=2*gY;tab.RectXYUtil.unionInPlace$1(gV,gW-gY,gX-gY,gZ,gZ)}return cF.circleIntersectsRect(L,gV)}case'shapeIDDiamond':{var ha={x:0,y:0,w:0,h:0};{var hb=Math.round(e.c['x'].gv(go));var hc=Math.round(e.c['y'].gv(go));var hd=Math.ceil(e.c['size'].gv(go)*1.04166666666667/2);var he=2*hd;tab.RectXYUtil.unionInPlace$1(ha,hb-hd,hc-hd,he,he)}return cF.circleIntersectsRect(L,ha)}case'shapeIDFilledDiamond':{var hf={x:0,y:0,w:0,h:0};{var hg=Math.round(e.c['x'].gv(go));var hh=Math.round(e.c['y'].gv(go));var hi=Math.ceil(e.c['size'].gv(go)*1.04166666666667/2);var hj=2*hi;tab.RectXYUtil.unionInPlace$1(hf,hg-hi,hh-hi,hj,hj)}return cF.circleIntersectsRect(L,hf)}case'shapeIDTriangle':{var hk={x:0,y:0,w:0,h:0};{var hl=Math.round(e.c['x'].gv(go));var hm=Math.round(e.c['y'].gv(go));var hn=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var ho=2*hn;tab.RectXYUtil.unionInPlace$1(hk,hl-hn,hm-hn,ho,ho)}return cF.circleIntersectsRect(L,hk)}case'shapeIDFilledTriangle':{var hp={x:0,y:0,w:0,h:0};{var hq=Math.round(e.c['x'].gv(go));var hr=Math.round(e.c['y'].gv(go));var hs=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var ht=2*hs;tab.RectXYUtil.unionInPlace$1(hp,hq-hs,hr-hs,ht,ht)}return cF.circleIntersectsRect(L,hp)}case'shapeIDDownTriangle':{var hu={x:0,y:0,w:0,h:0};{var hv=Math.round(e.c['x'].gv(go));var hw=Math.round(e.c['y'].gv(go));var hx=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hy=2*hx;tab.RectXYUtil.unionInPlace$1(hu,hv-hx,hw-hx,hy,hy)}return cF.circleIntersectsRect(L,hu)}case'shapeIDFilledDownTriangle':{var hz={x:0,y:0,w:0,h:0};{var hA=Math.round(e.c['x'].gv(go));var hB=Math.round(e.c['y'].gv(go));var hC=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hD=2*hC;tab.RectXYUtil.unionInPlace$1(hz,hA-hC,hB-hC,hD,hD)}return cF.circleIntersectsRect(L,hz)}case'shapeIDLeftTriangle':{var hE={x:0,y:0,w:0,h:0};{var hF=Math.round(e.c['x'].gv(go));var hG=Math.round(e.c['y'].gv(go));var hH=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hI=2*hH;tab.RectXYUtil.unionInPlace$1(hE,hF-hH,hG-hH,hI,hI)}return cF.circleIntersectsRect(L,hE)}case'shapeIDFilledLeftTriangle':{var hJ={x:0,y:0,w:0,h:0};{var hK=Math.round(e.c['x'].gv(go));var hL=Math.round(e.c['y'].gv(go));var hM=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hN=2*hM;tab.RectXYUtil.unionInPlace$1(hJ,hK-hM,hL-hM,hN,hN)}return cF.circleIntersectsRect(L,hJ)}case'shapeIDRightTriangle':{var hO={x:0,y:0,w:0,h:0};{var hP=Math.round(e.c['x'].gv(go));var hQ=Math.round(e.c['y'].gv(go));var hR=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hS=2*hR;tab.RectXYUtil.unionInPlace$1(hO,hP-hR,hQ-hR,hS,hS)}return cF.circleIntersectsRect(L,hO)}case'shapeIDFilledRightTriangle':{var hT={x:0,y:0,w:0,h:0};{var hU=Math.round(e.c['x'].gv(go));var hV=Math.round(e.c['y'].gv(go));var hW=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hX=2*hW;tab.RectXYUtil.unionInPlace$1(hT,hU-hW,hV-hW,hX,hX)}return cF.circleIntersectsRect(L,hT)}case'shapeIDFilledStar':{var hY={x:0,y:0,w:0,h:0};{var hZ=Math.round(e.c['x'].gv(go));var ia=Math.round(e.c['y'].gv(go));var ib=Math.ceil(e.c['size'].gv(go)*1.09166666666667/2);var ic=2*ib;tab.RectXYUtil.unionInPlace$1(hY,hZ-ib,ia-ib,ic,ic)}return cF.circleIntersectsRect(L,hY)}default:{var id=Math.round(e.c['x'].gv(go));var ie=Math.round(e.c['y'].gv(go));var ig=Math.ceil(e.c['size'].gv(go));var ih=Math.ceil(ig/2);var ii={x:id-ih,y:ie-ih,w:ig,h:ig};return cF.circleIntersectsRect(L,ii)}}};dG.$1E=function(e,L,go){var gp=e.c['shape_id'].gv(go);switch(gp){case'shapeIDCircle':{return cF.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)*0.958333333333333/2})}case'shapeIDFilledCircle':{return cF.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return cF.polygonIntersectsCircle(L,{center:{x:e.c['x'].gv(go),y:e.c['y'].gv(go)},radius:e.c['size'].gv(go)/2})}case'shapeIDSquare':{var gq={x:0,y:0,w:0,h:0};{var gr=Math.round(e.c['x'].gv(go));var gs=Math.round(e.c['y'].gv(go));var gt=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var gu=2*gt;tab.RectXYUtil.unionInPlace$1(gq,gr-gt,gs-gt,gu,gu)}return cF.polygonIntersectsRect(L,gq)}case'shapeIDFilledSquare':{var gv={x:0,y:0,w:0,h:0};{var gw=Math.round(e.c['x'].gv(go));var gx=Math.round(e.c['y'].gv(go));var gy=Math.ceil(e.c['size'].gv(go)*0.9375/2);var gz=2*gy;tab.RectXYUtil.unionInPlace$1(gv,gw-gy,gx-gy,gz,gz)}return cF.polygonIntersectsRect(L,gv)}case'shapeIDAsterisk':{var gA={x:0,y:0,w:0,h:0};{var gB=Math.round(e.c['x'].gv(go));var gC=Math.round(e.c['y'].gv(go));var gD=Math.ceil(e.c['size'].gv(go)*0.958333333333333/2);var gE=2*gD;tab.RectXYUtil.unionInPlace$1(gA,gB-gD,gC-gD,gE,gE)}return cF.polygonIntersectsRect(L,gA)}case'shapeIDPlus':{var gF={x:0,y:0,w:0,h:0};{var gG=Math.round(e.c['x'].gv(go));var gH=Math.round(e.c['y'].gv(go));var gI=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var gJ=2*gI;tab.RectXYUtil.unionInPlace$1(gF,gG-gI,gH-gI,gJ,gJ)}return cF.polygonIntersectsRect(L,gF)}case'shapeIDFilledPlus':{var gK={x:0,y:0,w:0,h:0};{var gL=Math.round(e.c['x'].gv(go));var gM=Math.round(e.c['y'].gv(go));var gN=Math.ceil(e.c['size'].gv(go)*0.9375/2);var gO=2*gN;tab.RectXYUtil.unionInPlace$1(gK,gL-gN,gM-gN,gO,gO)}return cF.polygonIntersectsRect(L,gK)}case'shapeIDTimes':{var gP={x:0,y:0,w:0,h:0};{var gQ=Math.round(e.c['x'].gv(go));var gR=Math.round(e.c['y'].gv(go));var gS=Math.ceil(e.c['size'].gv(go)*0.875/2);var gT=2*gS;tab.RectXYUtil.unionInPlace$1(gP,gQ-gS,gR-gS,gT,gT)}return cF.polygonIntersectsRect(L,gP)}case'shapeIDFilledTimes':{var gU={x:0,y:0,w:0,h:0};{var gV=Math.round(e.c['x'].gv(go));var gW=Math.round(e.c['y'].gv(go));var gX=Math.ceil(e.c['size'].gv(go)*0.9375/2);var gY=2*gX;tab.RectXYUtil.unionInPlace$1(gU,gV-gX,gW-gX,gY,gY)}return cF.polygonIntersectsRect(L,gU)}case'shapeIDDiamond':{var gZ={x:0,y:0,w:0,h:0};{var ha=Math.round(e.c['x'].gv(go));var hb=Math.round(e.c['y'].gv(go));var hc=Math.ceil(e.c['size'].gv(go)*1.04166666666667/2);var hd=2*hc;tab.RectXYUtil.unionInPlace$1(gZ,ha-hc,hb-hc,hd,hd)}return cF.polygonIntersectsRect(L,gZ)}case'shapeIDFilledDiamond':{var he={x:0,y:0,w:0,h:0};{var hf=Math.round(e.c['x'].gv(go));var hg=Math.round(e.c['y'].gv(go));var hh=Math.ceil(e.c['size'].gv(go)*1.04166666666667/2);var hi=2*hh;tab.RectXYUtil.unionInPlace$1(he,hf-hh,hg-hh,hi,hi)}return cF.polygonIntersectsRect(L,he)}case'shapeIDTriangle':{var hj={x:0,y:0,w:0,h:0};{var hk=Math.round(e.c['x'].gv(go));var hl=Math.round(e.c['y'].gv(go));var hm=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hn=2*hm;tab.RectXYUtil.unionInPlace$1(hj,hk-hm,hl-hm,hn,hn)}return cF.polygonIntersectsRect(L,hj)}case'shapeIDFilledTriangle':{var ho={x:0,y:0,w:0,h:0};{var hp=Math.round(e.c['x'].gv(go));var hq=Math.round(e.c['y'].gv(go));var hr=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hs=2*hr;tab.RectXYUtil.unionInPlace$1(ho,hp-hr,hq-hr,hs,hs)}return cF.polygonIntersectsRect(L,ho)}case'shapeIDDownTriangle':{var ht={x:0,y:0,w:0,h:0};{var hu=Math.round(e.c['x'].gv(go));var hv=Math.round(e.c['y'].gv(go));var hw=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hx=2*hw;tab.RectXYUtil.unionInPlace$1(ht,hu-hw,hv-hw,hx,hx)}return cF.polygonIntersectsRect(L,ht)}case'shapeIDFilledDownTriangle':{var hy={x:0,y:0,w:0,h:0};{var hz=Math.round(e.c['x'].gv(go));var hA=Math.round(e.c['y'].gv(go));var hB=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hC=2*hB;tab.RectXYUtil.unionInPlace$1(hy,hz-hB,hA-hB,hC,hC)}return cF.polygonIntersectsRect(L,hy)}case'shapeIDLeftTriangle':{var hD={x:0,y:0,w:0,h:0};{var hE=Math.round(e.c['x'].gv(go));var hF=Math.round(e.c['y'].gv(go));var hG=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hH=2*hG;tab.RectXYUtil.unionInPlace$1(hD,hE-hG,hF-hG,hH,hH)}return cF.polygonIntersectsRect(L,hD)}case'shapeIDFilledLeftTriangle':{var hI={x:0,y:0,w:0,h:0};{var hJ=Math.round(e.c['x'].gv(go));var hK=Math.round(e.c['y'].gv(go));var hL=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hM=2*hL;tab.RectXYUtil.unionInPlace$1(hI,hJ-hL,hK-hL,hM,hM)}return cF.polygonIntersectsRect(L,hI)}case'shapeIDRightTriangle':{var hN={x:0,y:0,w:0,h:0};{var hO=Math.round(e.c['x'].gv(go));var hP=Math.round(e.c['y'].gv(go));var hQ=Math.ceil(e.c['size'].gv(go)*0.895833333333333/2);var hR=2*hQ;tab.RectXYUtil.unionInPlace$1(hN,hO-hQ,hP-hQ,hR,hR)}return cF.polygonIntersectsRect(L,hN)}case'shapeIDFilledRightTriangle':{var hS={x:0,y:0,w:0,h:0};{var hT=Math.round(e.c['x'].gv(go));var hU=Math.round(e.c['y'].gv(go));var hV=Math.ceil(e.c['size'].gv(go)*0.916666666666667/2);var hW=2*hV;tab.RectXYUtil.unionInPlace$1(hS,hT-hV,hU-hV,hW,hW)}return cF.polygonIntersectsRect(L,hS)}case'shapeIDFilledStar':{var hX={x:0,y:0,w:0,h:0};{var hY=Math.round(e.c['x'].gv(go));var hZ=Math.round(e.c['y'].gv(go));var ia=Math.ceil(e.c['size'].gv(go)*1.09166666666667/2);var ib=2*ia;tab.RectXYUtil.unionInPlace$1(hX,hY-ia,hZ-ia,ib,ib)}return cF.polygonIntersectsRect(L,hX)}default:{var ic=Math.round(e.c['x'].gv(go));var id=Math.round(e.c['y'].gv(go));var ie=Math.ceil(e.c['size'].gv(go));var ig=Math.ceil(ie/2);var ih={x:ic-ig,y:id-ig,w:ie,h:ie};return cF.polygonIntersectsRect(L,ih)}}};dG.$I=function(e,L,go){var gp=L.getMarkInstanceOffsets(go);var gq=gp.length;for(var gr=0;gr<gq;gr++){var gs=gp[gr];dG.$1w(e,gs);{var gt=bg.get_multipolyLineSizeOffset();var gu=(L.hasPixelGeometry?1:L.c['size'].gv(go));bg.createMultipolygonPath(e,L.hasPixelGeometry,L.c['x'].gv(go),L.c['y'].gv(go),gu,7,L.getMarkGeometry(L.c['geometry'].gv(go)));e.set_lineWidth(1.75-gt);e.set_strokeStyle(L.c['selected_halo_color'].gv(go)['colorOverrideNone']);e.stroke()}if(gs!==0){e.restore()}}};dG.$J=function(e,L,go){var gp=L.getMarkInstanceOffsets(go);var gq=gp.length;for(var gr=0;gr<gq;gr++){var gs=gp[gr];dG.$1w(e,gs);{var gt=bg.get_multipolyLineSizeOffset();var gu=(L.hasPixelGeometry?1:L.c['size'].gv(go));bg.createMultipolygonPath(e,L.hasPixelGeometry,L.c['x'].gv(go),L.c['y'].gv(go),gu,7,L.getMarkGeometry(L.c['geometry'].gv(go)));e.set_lineWidth(2.5-gt);e.set_strokeStyle(L.c['selected_halo_color'].gv(go)['colorOverrideNone']);e.stroke()}if(gs!==0){e.restore()}}};dG.$C=function(e,L,go){var gp=false;if(go-1>0&&!L.isMarkEndPrimitive(go-1)){gp=gp||L.isMarkHighlighted(go-1)}if(go+1<L.markCount&&!L.isMarkEndPrimitive(go)){gp=gp||L.isMarkHighlighted(go+1)}var gq;var gr=L.c['x'].gv(go);var gs=L.c['y'].gv(go);if(L.isMarkSelected(go)){gq=L.c['selected_halo_color'].gv(go)['colorOverrideOpaque'];{var gt=L.c['draw_border'].gv(go);var gu=7+(gt?2:0);bg.renderCircle(e,0+gr,0+gs,gu,gq,4)}gq=L.getMarkColors(go)['colorOverrideOpaque'];{var gv=L.getMarkInstanceOffsets(go);var gw=gv.length;for(var gx=0;gx<gw;gx++){var gy=gv[gx];dG.$1w(e,gy);bg.renderFilledCircle(e,0+gr,0+gs,7,gq);if(gy!==0){e.restore()}}}gr=L.c['x1'].gv(go);gs=L.c['y1'].gv(go);gq=L.c['selected_halo_color'].gv(go)['colorOverrideOpaque'];{var gz=L.c['draw_border'].gv(go);var gA=7+(gz?2:0);bg.renderCircle(e,0+gr,0+gs,gA,gq,4)}gq=L.getMarkColors(go)['colorOverrideOpaque'];{var gB=L.getMarkInstanceOffsets(go);var gC=gB.length;for(var gD=0;gD<gC;gD++){var gE=gB[gD];dG.$1w(e,gE);bg.renderFilledCircle(e,0+gr,0+gs,7,gq);if(gE!==0){e.restore()}}}}else if(L.isMarkHighlighted(go)&&!gp){gq=L.c['selected_multi_prim_halo_color'].gv(go)['colorOverrideNone'];{var gF=L.getMarkInstanceOffsets(go);var gG=gF.length;for(var gH=0;gH<gG;gH++){var gI=gF[gH];dG.$1w(e,gI);{var gJ=L.c['draw_border'].gv(go);var gK=7+(gJ?2:0);bg.renderCircle(e,0+gr,0+gs,gK,gq,4)}if(gI!==0){e.restore()}}}gq=L.getMarkColors(go)['colorOverrideNone'];{var gL=L.getMarkInstanceOffsets(go);var gM=gL.length;for(var gN=0;gN<gM;gN++){var gO=gL[gN];dG.$1w(e,gO);bg.renderFilledCircle(e,0+gr,0+gs,7,gq);if(gO!==0){e.restore()}}}gr=L.c['x1'].gv(go);gs=L.c['y1'].gv(go);gq=L.c['selected_multi_prim_halo_color'].gv(go)['colorOverrideNone'];{var gP=L.getMarkInstanceOffsets(go);var gQ=gP.length;for(var gR=0;gR<gQ;gR++){var gS=gP[gR];dG.$1w(e,gS);{var gT=L.c['draw_border'].gv(go);var gU=7+(gT?2:0);bg.renderCircle(e,0+gr,0+gs,gU,gq,4)}if(gS!==0){e.restore()}}}gq=L.getMarkColors(go)['colorOverrideNone'];{var gV=L.getMarkInstanceOffsets(go);var gW=gV.length;for(var gX=0;gX<gW;gX++){var gY=gV[gX];dG.$1w(e,gY);bg.renderFilledCircle(e,0+gr,0+gs,7,gq);if(gY!==0){e.restore()}}}}else{gq=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var gZ=L.getMarkInstanceOffsets(go);var ha=gZ.length;for(var hb=0;hb<ha;hb++){var hc=gZ[hb];dG.$1w(e,hc);bg.renderFilledCircle(e,0+gr,0+gs,5,gq);if(hc!==0){e.restore()}}}gr=L.c['x1'].gv(go);gs=L.c['y1'].gv(go);gq=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var hd=L.getMarkInstanceOffsets(go);var he=hd.length;for(var hf=0;hf<he;hf++){var hg=hd[hf];dG.$1w(e,hg);bg.renderFilledCircle(e,0+gr,0+gs,5,gq);if(hg!==0){e.restore()}}}}};dG.$D=function(e,L,go){var gp=(L.drawBorder?L.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var gq=L.c['x'].gv(go);var gr=L.c['y'].gv(go);{var gs=L.getMarkInstanceOffsets(go);var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dG.$1w(e,gv);bg.renderFilledCircle(e,0+gq,0+gr,7,gp);if(gv!==0){e.restore()}}}gq=L.c['x1'].gv(go);gr=L.c['y1'].gv(go);{var gw=L.getMarkInstanceOffsets(go);var gx=gw.length;for(var gy=0;gy<gx;gy++){var gz=gw[gy];dG.$1w(e,gz);bg.renderFilledCircle(e,0+gq,0+gr,7,gp);if(gz!==0){e.restore()}}}};dG.$K=function(e,L,go){var gp=L.getMarkInstanceOffsets(go);var gq=gp.length;for(var gr=0;gr<gq;gr++){var gs=gp[gr];dG.$1w(e,gs);var gt=L.c['size'].gv(go)/2;var gu=L.c['draw_border'].gv(go);var gv=(!!gu?1:0);var gw=L.c['selected_halo_color'].gv(go)['colorOverrideNone'];var gx=L.c['theta'].gv(go);var gy=L.c['theta1'].gv(go);var gz=gx>gy;if(Math.abs(gx-gy)>=1){bg.renderCircle(e,L.c['x'].gv(go),L.c['y'].gv(go),(gt+gv)*2,gw,1)}else{bg.renderWedge(e,L.c['x'].gv(go),L.c['y'].gv(go),gt,gx,gy,gw,1+gv,gz)}if(gs!==0){e.restore()}}};dG.$L=function(e,L,go){var gp=L.getMarkInstanceOffsets(go);var gq=gp.length;for(var gr=0;gr<gq;gr++){var gs=gp[gr];dG.$1w(e,gs);var gt=L.c['size'].gv(go)/2;var gu=L.c['draw_border'].gv(go);var gv=(!!gu?1:0);var gw=L.c['selected_halo_color'].gv(go)['colorOverrideNone'];var gx=L.c['theta'].gv(go);var gy=L.c['theta1'].gv(go);var gz=gx>gy;if(Math.abs(gx-gy)>=1){bg.renderCircle(e,L.c['x'].gv(go),L.c['y'].gv(go),(gt+gv)*2,gw,2)}else{bg.renderWedge(e,L.c['x'].gv(go),L.c['y'].gv(go),gt,gx,gy,gw,2+gv,gz)}if(gs!==0){e.restore()}}};dG.$1u=function(e,L,go){if(!(L.clipCase!==0&&L.useCellClipForSelection)){{var gp=L.getMarkInstanceOffsets(go);var gq=gp.length;for(var gr=0;gr<gq;gr++){var gs=gp[gr];dG.$1w(e,gs);var gt=-L.c['width'].gv(go)/2;var gu=L.c['height'].gv(go)/2-1;var gv=L.c['x'].gv(go)+gt;var gw=L.c['y'].gv(go)+gu;var gx=L.c['x'].gv(go)+L.c['width'].gv(go)+gt;var gy=L.c['y'].gv(go)+gu;var gz=1;var gA=gx-gv;var gB=[gv,gw+gz-1,gv+gA,gw+gz-1];e.set_lineCap('square');e.set_lineWidth(gz);e.set_strokeStyle(L.getMarkColors(go)['colorOverrideOpaque']);bg.strokePath(e,gB,false,true);if(gs!==0){e.restore()}}}}if(L.clipCase!==0&&L.useCellClipForSelection){{var gC=L.getMarkInstanceOffsets(go);var gD=gC.length;for(var gE=0;gE<gD;gE++){var gF=gC[gE];dG.$1w(e,gF);{var gG=2;var gH=L.c['x'].gv(go)-L.c['clip_width'].gv(go)/2+gG;var gI=L.c['x'].gv(go)+L.c['clip_width'].gv(go)/2-gG;var gJ=L.c['y'].gv(go)-L.c['clip_height'].gv(go)/2+gG;var gK=L.c['y'].gv(go)+L.c['clip_height'].gv(go)/2-gG;dG.$h(e,L,go,gH,gI,gJ,gK,L.getMarkColors(go),!!false,Math.floor(1))}if(gF!==0){e.restore()}}}}};dG.$1v=function(e,L,go){if(!(L.clipCase!==0&&L.useCellClipForSelection)){{var gp=L.getMarkInstanceOffsets(go);var gq=gp.length;for(var gr=0;gr<gq;gr++){var gs=gp[gr];dG.$1w(e,gs);var gt=-L.c['width'].gv(go)/2;var gu=L.c['height'].gv(go)/2-1;var gv=L.c['x'].gv(go)+gt;var gw=L.c['y'].gv(go)+gu;var gx=L.c['x'].gv(go)+L.c['width'].gv(go)+gt;var gy=L.c['y'].gv(go)+gu;var gz=2;var gA=gx-gv;var gB=[gv,gw+gz-1,gv+gA,gw+gz-1];e.set_lineCap('square');e.set_lineWidth(gz);e.set_strokeStyle(L.getMarkColors(go)['colorOverrideOpaque']);bg.strokePath(e,gB,false,true);if(gs!==0){e.restore()}}}}if(L.clipCase!==0&&L.useCellClipForSelection){{var gC=L.getMarkInstanceOffsets(go);var gD=gC.length;for(var gE=0;gE<gD;gE++){var gF=gC[gE];dG.$1w(e,gF);{var gG=2;var gH=L.c['x'].gv(go)-L.c['clip_width'].gv(go)/2+gG;var gI=L.c['x'].gv(go)+L.c['clip_width'].gv(go)/2-gG;var gJ=L.c['y'].gv(go)-L.c['clip_height'].gv(go)/2+gG;var gK=L.c['y'].gv(go)+L.c['clip_height'].gv(go)/2-gG;dG.$h(e,L,go,gH,gI,gJ,gK,L.getMarkColors(go),!!false,Math.floor(2))}if(gF!==0){e.restore()}}}}};dG.$E=function(e,L,go){var gp=ss.Int32.trunc(L.c['size'].gv(go)+0.5)/2;var gq=1;if(L.scaleMarksInX&&L.scaleMarksInY){{var gr=L.getMarkInstanceOffsets(go);var gs=gr.length;for(var gt=0;gt<gs;gt++){var gu=gr[gt];dG.$1w(e,gu);{var gv=0;var gw=L.c['x'].gv(go)+gv;var gx=L.c['x1'].gv(go)-gv;var gy=L.c['y'].gv(go)+gv;var gz=L.c['y1'].gv(go)-gv;dG.$h(e,L,go,gw,gx,gy,gz,L.c['selected_halo_color'].gv(go),!!false,Math.floor(gq))}if(gu!==0){e.restore()}}}}if(!L.scaleMarksInX&&L.scaleMarksInY){{var gA=L.getMarkInstanceOffsets(go);var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC];dG.$1w(e,gD);{var gE=0;var gF=L.c['x'].gv(go)-gp+gE;var gG=L.c['x'].gv(go)+gp-gE;var gH=L.c['y'].gv(go)+gE;var gI=L.c['y1'].gv(go)-gE;dG.$h(e,L,go,gF,gG,gH,gI,L.c['selected_halo_color'].gv(go),!!false,Math.floor(gq))}if(gD!==0){e.restore()}}}}if(L.scaleMarksInX&&!L.scaleMarksInY){{var gJ=L.getMarkInstanceOffsets(go);var gK=gJ.length;for(var gL=0;gL<gK;gL++){var gM=gJ[gL];dG.$1w(e,gM);{var gN=0;var gO=L.c['x'].gv(go)+gN;var gP=L.c['x1'].gv(go)-gN;var gQ=L.c['y'].gv(go)-gp+gN;var gR=L.c['y'].gv(go)+gp-gN;dG.$h(e,L,go,gO,gP,gQ,gR,L.c['selected_halo_color'].gv(go),!!false,Math.floor(gq))}if(gM!==0){e.restore()}}}}if(!L.scaleMarksInX&&!L.scaleMarksInY){{var gS=L.getMarkInstanceOffsets(go);var gT=gS.length;for(var gU=0;gU<gT;gU++){var gV=gS[gU];dG.$1w(e,gV);{var gW=0;var gX=L.c['x'].gv(go)-gp+gW;var gY=L.c['x'].gv(go)+gp-gW;var gZ=L.c['y'].gv(go)-gp+gW;var ha=L.c['y'].gv(go)+gp-gW;dG.$h(e,L,go,gX,gY,gZ,ha,L.c['selected_halo_color'].gv(go),!!true,Math.floor(gq))}if(gV!==0){e.restore()}}}}};dG.$F=function(e,L,go){var gp=ss.Int32.trunc(L.c['size'].gv(go)+0.5)/2;var gq=2;if(L.scaleMarksInX&&L.scaleMarksInY){{var gr=L.getMarkInstanceOffsets(go);var gs=gr.length;for(var gt=0;gt<gs;gt++){var gu=gr[gt];dG.$1w(e,gu);{var gv=0;var gw=L.c['x'].gv(go)+gv;var gx=L.c['x1'].gv(go)-gv;var gy=L.c['y'].gv(go)+gv;var gz=L.c['y1'].gv(go)-gv;dG.$h(e,L,go,gw,gx,gy,gz,L.c['selected_halo_color'].gv(go),!!false,Math.floor(gq))}if(gu!==0){e.restore()}}}}if(!L.scaleMarksInX&&L.scaleMarksInY){{var gA=L.getMarkInstanceOffsets(go);var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC];dG.$1w(e,gD);{var gE=0;var gF=L.c['x'].gv(go)-gp+gE;var gG=L.c['x'].gv(go)+gp-gE;var gH=L.c['y'].gv(go)+gE;var gI=L.c['y1'].gv(go)-gE;dG.$h(e,L,go,gF,gG,gH,gI,L.c['selected_halo_color'].gv(go),!!false,Math.floor(gq))}if(gD!==0){e.restore()}}}}if(L.scaleMarksInX&&!L.scaleMarksInY){{var gJ=L.getMarkInstanceOffsets(go);var gK=gJ.length;for(var gL=0;gL<gK;gL++){var gM=gJ[gL];dG.$1w(e,gM);{var gN=0;var gO=L.c['x'].gv(go)+gN;var gP=L.c['x1'].gv(go)-gN;var gQ=L.c['y'].gv(go)-gp+gN;var gR=L.c['y'].gv(go)+gp-gN;dG.$h(e,L,go,gO,gP,gQ,gR,L.c['selected_halo_color'].gv(go),!!false,Math.floor(gq))}if(gM!==0){e.restore()}}}}if(!L.scaleMarksInX&&!L.scaleMarksInY){{var gS=L.getMarkInstanceOffsets(go);var gT=gS.length;for(var gU=0;gU<gT;gU++){var gV=gS[gU];dG.$1w(e,gV);{var gW=0;var gX=L.c['x'].gv(go)-gp+gW;var gY=L.c['x'].gv(go)+gp-gW;var gZ=L.c['y'].gv(go)-gp+gW;var ha=L.c['y'].gv(go)+gp-gW;dG.$h(e,L,go,gX,gY,gZ,ha,L.c['selected_halo_color'].gv(go),!!true,Math.floor(gq))}if(gV!==0){e.restore()}}}}};dG.$G=function(e,L,go){var gp=false;if(go-1>0&&!L.isMarkEndPrimitive(go-1)){gp=gp||L.isMarkHighlighted(go-1)}if(go+1<L.markCount&&!L.isMarkEndPrimitive(go)){gp=gp||L.isMarkHighlighted(go+1)}var gq;var gr=L.c['x'].gv(go);var gs=L.c['y'].gv(go);if(L.isMarkSelected(go)){gq=L.c['selected_halo_color'].gv(go)['colorOverrideOpaque'];{var gt=L.c['draw_border'].gv(go);var gu=L.c['size'].gv(go)+4+4+(gt?2:0);bg.renderCircle(e,0+gr,0+gs,gu,gq,4)}gq=L.getMarkColors(go)['colorOverrideOpaque'];{var gv=L.getMarkInstanceOffsets(go);var gw=gv.length;for(var gx=0;gx<gw;gx++){var gy=gv[gx];dG.$1w(e,gy);bg.renderFilledCircle(e,0+gr,0+gs,L.c['size'].gv(go)+4+4,gq);if(gy!==0){e.restore()}}}}else if(L.isMarkHighlighted(go)&&!gp){gq=L.c['selected_multi_prim_halo_color'].gv(go)['colorOverrideNone'];{var gz=L.getMarkInstanceOffsets(go);var gA=gz.length;for(var gB=0;gB<gA;gB++){var gC=gz[gB];dG.$1w(e,gC);{var gD=L.c['draw_border'].gv(go);var gE=L.c['size'].gv(go)+4+4+(gD?2:0);bg.renderCircle(e,0+gr,0+gs,gE,gq,4)}if(gC!==0){e.restore()}}}gq=L.getMarkColors(go)['colorOverrideNone'];{var gF=L.getMarkInstanceOffsets(go);var gG=gF.length;for(var gH=0;gH<gG;gH++){var gI=gF[gH];dG.$1w(e,gI);bg.renderFilledCircle(e,0+gr,0+gs,L.c['size'].gv(go)+4+4,gq);if(gI!==0){e.restore()}}}}else{gq=L.getMarkColors(go)['colorOverrideNone'];{var gJ=L.getMarkInstanceOffsets(go);var gK=gJ.length;for(var gL=0;gL<gK;gL++){var gM=gJ[gL];dG.$1w(e,gM);bg.renderFilledCircle(e,0+gr,0+gs,L.c['size'].gv(go)+4,gq);if(gM!==0){e.restore()}}}}};dG.$H=function(e,L,go){var gp=L.getMarkColors(go)['colorOverrideNone'];var gq=L.c['x'].gv(go);var gr=L.c['y'].gv(go);{var gs=L.getMarkInstanceOffsets(go);var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];dG.$1w(e,gv);bg.renderFilledCircle(e,0+gq,0+gr,L.c['size'].gv(go)+8,gp);if(gv!==0){e.restore()}}}};dG.$1x=function(e,L){var go=false;switch(e){case'shapeIDCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDSquare':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDPlus':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDTimes':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDDiamond':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(L){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{go=true;break}default:{break}}break}default:{go=true;break}}return go};dG.$l=function(e,L,go){var gp=0;switch(e){case'shapeIDCircle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+6);break}case'pressedOverlay':{gp=Math.ceil(go+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'border':{gp=Math.ceil(go+2);break}case'hoverOverlay':{gp=Math.ceil(go+2);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'border':{gp=Math.ceil(go+2);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDSquare':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'border':{gp=Math.ceil(go+2);break}case'hoverOverlay':{gp=Math.ceil(go+2);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+6);break}case'pressedOverlay':{gp=Math.ceil(go+8);break}default:{break}}break}case'shapeIDPlus':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+3);break}case'pressedOverlay':{gp=Math.ceil(go+5);break}default:{break}}break}case'shapeIDTimes':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDDiamond':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+6);break}case'pressedOverlay':{gp=Math.ceil(go+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+5);break}case'pressedOverlay':{gp=Math.ceil(go+7);break}default:{break}}break}case'shapeIDTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+6);break}case'pressedOverlay':{gp=Math.ceil(go+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+2);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+2);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+2);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+4);break}case'pressedOverlay':{gp=Math.ceil(go+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(L){case'normalUnder':{gp=Math.ceil(go+4);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+4);break}case'hoverOverlay':{gp=Math.ceil(go+2);break}case'pressedOverlay':{gp=Math.ceil(go+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(L){case'normalUnder':{gp=Math.ceil(go+6);break}case'normalOn':{gp=Math.ceil(go+2);break}case'selectedUnder':{gp=Math.ceil(go+6);break}case'hoverOverlay':{gp=Math.ceil(go+10);break}case'pressedOverlay':{gp=Math.ceil(go+14);break}default:{break}}break}default:{break}}return gp};dG.$M=function(e,L,go){var gp=L.c['shape_id'].gv(go);var gq=L.c['x'].gv(go);var gr=L.c['y'].gv(go);if(L.shouldStampThisShapeMark(go)){gq=gq+0.5<<0;gr=gr+0.5<<0}switch(gp){case'shapeIDCircle':{dG.$P(e,L,gq,gr,go);break}case'shapeIDFilledCircle':{dG.$V(e,L,gq,gr,go);break}case'shapeIDUnscaledFilledCircle':{dG.$1r(e,L,gq,gr,go);break}case'shapeIDSquare':{dG.$1l(e,L,gq,gr,go);break}case'shapeIDFilledSquare':{dG.$17(e,L,gq,gr,go);break}case'shapeIDAsterisk':{dG.$N(e,L,gq,gr,go);break}case'shapeIDPlus':{dG.$1h(e,L,gq,gr,go);break}case'shapeIDFilledPlus':{dG.$13(e,L,gq,gr,go);break}case'shapeIDTimes':{dG.$1n(e,L,gq,gr,go);break}case'shapeIDFilledTimes':{dG.$1b(e,L,gq,gr,go);break}case'shapeIDDiamond':{dG.$R(e,L,gq,gr,go);break}case'shapeIDFilledDiamond':{dG.$X(e,L,gq,gr,go);break}case'shapeIDTriangle':{dG.$1p(e,L,gq,gr,go);break}case'shapeIDFilledTriangle':{dG.$1d(e,L,gq,gr,go);break}case'shapeIDDownTriangle':{dG.$T(e,L,gq,gr,go);break}case'shapeIDFilledDownTriangle':{dG.$Z(e,L,gq,gr,go);break}case'shapeIDLeftTriangle':{dG.$1f(e,L,gq,gr,go);break}case'shapeIDFilledLeftTriangle':{dG.$11(e,L,gq,gr,go);break}case'shapeIDRightTriangle':{dG.$1j(e,L,gq,gr,go);break}case'shapeIDFilledRightTriangle':{dG.$15(e,L,gq,gr,go);break}case'shapeIDFilledStar':{dG.$19(e,L,gq,gr,go);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(gp))){var gs=L.getMarkInstanceOffsets(go);var gt=gs.length;for(var gu=0;gu<gt;gu++){var gv=gs[gu];if(gv!==0){e.save();e.translate(gv,0)}bg.renderCustomShape(e,L,go,'hoverOverlay','colorOverrideNone');if(gv!==0){e.restore()}}}else{dG.$P(e,L,gq,gr,go)}break}}};dG.$1t=function(e,L,go){var gp=L.getMarkIndexFromTupleId(go);var gq=L.c['shape_id'].gv(gp);var gr=L.c['x'].gv(gp);var gs=L.c['y'].gv(gp);if(L.shouldStampThisShapeMark(gp)){gr=gr+0.5<<0;gs=gs+0.5<<0}switch(gq){case'shapeIDCircle':{dG.$Q(e,L,gr,gs,gp);break}case'shapeIDFilledCircle':{dG.$W(e,L,gr,gs,gp);break}case'shapeIDUnscaledFilledCircle':{dG.$1s(e,L,gr,gs,gp);break}case'shapeIDSquare':{dG.$1m(e,L,gr,gs,gp);break}case'shapeIDFilledSquare':{dG.$18(e,L,gr,gs,gp);break}case'shapeIDAsterisk':{dG.$O(e,L,gr,gs,gp);break}case'shapeIDPlus':{dG.$1i(e,L,gr,gs,gp);break}case'shapeIDFilledPlus':{dG.$14(e,L,gr,gs,gp);break}case'shapeIDTimes':{dG.$1o(e,L,gr,gs,gp);break}case'shapeIDFilledTimes':{dG.$1c(e,L,gr,gs,gp);break}case'shapeIDDiamond':{dG.$S(e,L,gr,gs,gp);break}case'shapeIDFilledDiamond':{dG.$Y(e,L,gr,gs,gp);break}case'shapeIDTriangle':{dG.$1q(e,L,gr,gs,gp);break}case'shapeIDFilledTriangle':{dG.$1e(e,L,gr,gs,gp);break}case'shapeIDDownTriangle':{dG.$U(e,L,gr,gs,gp);break}case'shapeIDFilledDownTriangle':{dG.$10(e,L,gr,gs,gp);break}case'shapeIDLeftTriangle':{dG.$1g(e,L,gr,gs,gp);break}case'shapeIDFilledLeftTriangle':{dG.$12(e,L,gr,gs,gp);break}case'shapeIDRightTriangle':{dG.$1k(e,L,gr,gs,gp);break}case'shapeIDFilledRightTriangle':{dG.$16(e,L,gr,gs,gp);break}case'shapeIDFilledStar':{dG.$1a(e,L,gr,gs,gp);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(gq))){var gt=L.getMarkInstanceOffsets(gp);var gu=gt.length;for(var gv=0;gv<gu;gv++){var gw=gt[gv];if(gw!==0){e.save();e.translate(gw,0)}bg.renderCustomShape(e,L,gp,'pressedOverlay','colorOverrideNone');if(gw!==0){e.restore()}}}else{dG.$Q(e,L,gr,gs,gp)}break}}};dG.$P=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=L.c['draw_border'].gv(gq);var gz=L.c['size'].gv(gq)*0.958333333333333+2+(gy?2:0);bg.renderCircle(e,0+gs,0+gt,gz,gr,1)}if(gx!==0){e.restore()}}}};dG.$Q=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=L.c['draw_border'].gv(gq);var gz=L.c['size'].gv(gq)*0.958333333333333+3+(gy?2:0);bg.renderCircle(e,0+gs,0+gt,gz,gr,2)}if(gx!==0){e.restore()}}}};dG.$V=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=L.c['draw_border'].gv(gq);var gz=L.c['size'].gv(gq)*0.979166666666667+(gy?2:0);bg.renderCircle(e,0+gs,0+gt,gz,gr,1)}if(gx!==0){e.restore()}}}};dG.$W=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=L.c['draw_border'].gv(gq);var gz=L.c['size'].gv(gq)*0.979166666666667+1+(gy?2:0);bg.renderCircle(e,0+gs,0+gt,gz,gr,2)}if(gx!==0){e.restore()}}}};dG.$1r=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=L.c['draw_border'].gv(gq);var gz=L.c['size'].gv(gq)+(gy?2:0);bg.renderCircle(e,0+gs,0+gt,gz,gr,1)}if(gx!==0){e.restore()}}}};dG.$1s=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=L.c['draw_border'].gv(gq);var gz=L.c['size'].gv(gq)+1+(gy?2:0);bg.renderCircle(e,0+gs,0+gt,gz,gr,2)}if(gx!==0){e.restore()}}}};dG.$1l=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);bg.renderRectangle(e,gs+0,gt+0,L.c['size'].gv(gq)*0.895833333333333+3,L.c['size'].gv(gq)*0.895833333333333+3,gr,1);if(gx!==0){e.restore()}}}};dG.$1m=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);bg.renderRectangle(e,gs+0,gt+0,L.c['size'].gv(gq)*0.895833333333333+4,L.c['size'].gv(gq)*0.895833333333333+4,gr,2);if(gx!==0){e.restore()}}}};dG.$17=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);bg.renderRectangle(e,gs+0,gt+0,L.c['size'].gv(gq)*0.9375+1,L.c['size'].gv(gq)*0.9375+1,gr,1);if(gx!==0){e.restore()}}}};dG.$18=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);bg.renderRectangle(e,gs+0,gt+0,L.c['size'].gv(gq)*0.9375+2,L.c['size'].gv(gq)*0.9375+2,gr,2);if(gx!==0){e.restore()}}}};dG.$N=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(36);var gz=(L.c['size'].gv(gq)*0.958333333333333+2)/2;var gA=0.899999976158142*gz;var gB=(L.c['size'].gv(gq)*0.958333333333333+6)/4;var gC=2.5;var gD=1.5;gy[0]=-gC+gs;gy[1]=0+gt;gy[2]=-gA+gs;gy[3]=gB-gC+gt;gy[4]=gD-gA+gs;gy[5]=gB+gt;gy[6]=-gD+gs;gy[7]=gC+gt;gy[8]=-gD+gs;gy[9]=gz+gt;gy[10]=gD+gs;gy[11]=gz+gt;gy[12]=gD+gs;gy[13]=gC+gt;gy[14]=gA-gD+gs;gy[15]=gB+gt;gy[16]=gA+gs;gy[17]=gB-gC+gt;gy[18]=gC+gs;gy[19]=0+gt;gy[20]=gA+gs;gy[21]=gC-gB+gt;gy[22]=gA-gD+gs;gy[23]=-gB+gt;gy[24]=gD+gs;gy[25]=-gC+gt;gy[26]=gD+gs;gy[27]=-gz+gt;gy[28]=-gD+gs;gy[29]=-gz+gt;gy[30]=-gD+gs;gy[31]=-gC+gt;gy[32]=gD-gA+gs;gy[33]=-gB+gt;gy[34]=-gA+gs;gy[35]=gC-gB+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$O=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(36);var gz=(L.c['size'].gv(gq)*0.958333333333333+4)/2;var gA=0.899999976158142*gz;var gB=(L.c['size'].gv(gq)*0.958333333333333+8)/4;var gC=3;var gD=2;gy[0]=-gC+gs;gy[1]=0+gt;gy[2]=-gA+gs;gy[3]=gB-gC+gt;gy[4]=gD-gA+gs;gy[5]=gB+gt;gy[6]=-gD+gs;gy[7]=gC+gt;gy[8]=-gD+gs;gy[9]=gz+gt;gy[10]=gD+gs;gy[11]=gz+gt;gy[12]=gD+gs;gy[13]=gC+gt;gy[14]=gA-gD+gs;gy[15]=gB+gt;gy[16]=gA+gs;gy[17]=gB-gC+gt;gy[18]=gC+gs;gy[19]=0+gt;gy[20]=gA+gs;gy[21]=gC-gB+gt;gy[22]=gA-gD+gs;gy[23]=-gB+gt;gy[24]=gD+gs;gy[25]=-gC+gt;gy[26]=gD+gs;gy[27]=-gz+gt;gy[28]=-gD+gs;gy[29]=-gz+gt;gy[30]=-gD+gs;gy[31]=-gC+gt;gy[32]=gD-gA+gs;gy[33]=-gB+gt;gy[34]=-gA+gs;gy[35]=gC-gB+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1h=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=(L.c['size'].gv(gq)*0.916666666666667+2)/2;var gA=1.5;gy[0]=-gA+gs;gy[1]=-gz+gt;gy[2]=-gA+gs;gy[3]=-gA+gt;gy[4]=-gz+gs;gy[5]=-gA+gt;gy[6]=-gz+gs;gy[7]=gA+gt;gy[8]=-gA+gs;gy[9]=gA+gt;gy[10]=-gA+gs;gy[11]=gz+gt;gy[12]=gA+gs;gy[13]=gz+gt;gy[14]=gA+gs;gy[15]=gA+gt;gy[16]=gz+gs;gy[17]=gA+gt;gy[18]=gz+gs;gy[19]=-gA+gt;gy[20]=gA+gs;gy[21]=-gA+gt;gy[22]=gA+gs;gy[23]=-gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1i=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=(L.c['size'].gv(gq)*0.916666666666667+3)/2;var gA=2;gy[0]=-gA+gs;gy[1]=-gz+gt;gy[2]=-gA+gs;gy[3]=-gA+gt;gy[4]=-gz+gs;gy[5]=-gA+gt;gy[6]=-gz+gs;gy[7]=gA+gt;gy[8]=-gA+gs;gy[9]=gA+gt;gy[10]=-gA+gs;gy[11]=gz+gt;gy[12]=gA+gs;gy[13]=gz+gt;gy[14]=gA+gs;gy[15]=gA+gt;gy[16]=gz+gs;gy[17]=gA+gt;gy[18]=gz+gs;gy[19]=-gA+gt;gy[20]=gA+gs;gy[21]=-gA+gt;gy[22]=gA+gs;gy[23]=-gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$13=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=L.c['size'].gv(gq)*0.9375/2;var gA=gz/3;gy[0]=-gA+gs;gy[1]=-gz+gt;gy[2]=-gA+gs;gy[3]=-gA+gt;gy[4]=-gz+gs;gy[5]=-gA+gt;gy[6]=-gz+gs;gy[7]=gA+gt;gy[8]=-gA+gs;gy[9]=gA+gt;gy[10]=-gA+gs;gy[11]=gz+gt;gy[12]=gA+gs;gy[13]=gz+gt;gy[14]=gA+gs;gy[15]=gA+gt;gy[16]=gz+gs;gy[17]=gA+gt;gy[18]=gz+gs;gy[19]=-gA+gt;gy[20]=gA+gs;gy[21]=-gA+gt;gy[22]=gA+gs;gy[23]=-gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$14=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=(L.c['size'].gv(gq)*0.9375+1)/2;var gA=(L.c['size'].gv(gq)*0.9375+3)/6;gy[0]=-gA+gs;gy[1]=-gz+gt;gy[2]=-gA+gs;gy[3]=-gA+gt;gy[4]=-gz+gs;gy[5]=-gA+gt;gy[6]=-gz+gs;gy[7]=gA+gt;gy[8]=-gA+gs;gy[9]=gA+gt;gy[10]=-gA+gs;gy[11]=gz+gt;gy[12]=gA+gs;gy[13]=gz+gt;gy[14]=gA+gs;gy[15]=gA+gt;gy[16]=gz+gs;gy[17]=gA+gt;gy[18]=gz+gs;gy[19]=-gA+gt;gy[20]=gA+gs;gy[21]=-gA+gt;gy[22]=gA+gs;gy[23]=-gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1n=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=(L.c['size'].gv(gq)*0.875+4)/2;var gA=2;gy[0]=-gz+gA+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=-gz+gA+gt;gy[4]=-gA+gs;gy[5]=0+gt;gy[6]=-gz+gs;gy[7]=gz-gA+gt;gy[8]=-gz+gA+gs;gy[9]=gz+gt;gy[10]=0+gs;gy[11]=gA+gt;gy[12]=gz-gA+gs;gy[13]=gz+gt;gy[14]=gz+gs;gy[15]=gz-gA+gt;gy[16]=gA+gs;gy[17]=0+gt;gy[18]=gz+gs;gy[19]=-gz+gA+gt;gy[20]=gz-gA+gs;gy[21]=-gz+gt;gy[22]=0+gs;gy[23]=-gA+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1o=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=(L.c['size'].gv(gq)*0.875+4)/2;var gA=3;gy[0]=-gz+gA+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=-gz+gA+gt;gy[4]=-gA+gs;gy[5]=0+gt;gy[6]=-gz+gs;gy[7]=gz-gA+gt;gy[8]=-gz+gA+gs;gy[9]=gz+gt;gy[10]=0+gs;gy[11]=gA+gt;gy[12]=gz-gA+gs;gy[13]=gz+gt;gy[14]=gz+gs;gy[15]=gz-gA+gt;gy[16]=gA+gs;gy[17]=0+gt;gy[18]=gz+gs;gy[19]=-gz+gA+gt;gy[20]=gz-gA+gs;gy[21]=-gz+gt;gy[22]=0+gs;gy[23]=-gA+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1b=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=L.c['size'].gv(gq)*0.9375/2;var gA=L.c['size'].gv(gq)*0.9375/4;gy[0]=-gA+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=-gA+gt;gy[4]=-gA+gs;gy[5]=0+gt;gy[6]=-gz+gs;gy[7]=gA+gt;gy[8]=-gA+gs;gy[9]=gz+gt;gy[10]=0+gs;gy[11]=gA+gt;gy[12]=gA+gs;gy[13]=gz+gt;gy[14]=gz+gs;gy[15]=gA+gt;gy[16]=gA+gs;gy[17]=0+gt;gy[18]=gz+gs;gy[19]=-gA+gt;gy[20]=gA+gs;gy[21]=-gz+gt;gy[22]=0+gs;gy[23]=-gA+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1c=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(24);var gz=L.c['size'].gv(gq)*0.9375/2;var gA=L.c['size'].gv(gq)*0.9375/4;gy[0]=-gA+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=-gA+gt;gy[4]=-gA+gs;gy[5]=0+gt;gy[6]=-gz+gs;gy[7]=gA+gt;gy[8]=-gA+gs;gy[9]=gz+gt;gy[10]=0+gs;gy[11]=gA+gt;gy[12]=gA+gs;gy[13]=gz+gt;gy[14]=gz+gs;gy[15]=gA+gt;gy[16]=gA+gs;gy[17]=0+gt;gy[18]=gz+gs;gy[19]=-gA+gt;gy[20]=gA+gs;gy[21]=-gz+gt;gy[22]=0+gs;gy[23]=-gA+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$R=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(8);var gz=(L.c['size'].gv(gq)*1.04166666666667+3)/2;gy[0]=0+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=0+gt;gy[4]=0+gs;gy[5]=gz+gt;gy[6]=gz+gs;gy[7]=0+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$S=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(8);var gz=(L.c['size'].gv(gq)*1.04166666666667+4)/2;gy[0]=0+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=0+gt;gy[4]=0+gs;gy[5]=gz+gt;gy[6]=gz+gs;gy[7]=0+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$X=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(8);var gz=L.c['size'].gv(gq)*1.04166666666667/2;gy[0]=0+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=0+gt;gy[4]=0+gs;gy[5]=gz+gt;gy[6]=gz+gs;gy[7]=0+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$Y=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(8);var gz=(L.c['size'].gv(gq)*1.04166666666667+2)/2;gy[0]=0+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=0+gt;gy[4]=0+gs;gy[5]=gz+gt;gy[6]=gz+gs;gy[7]=0+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1p=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+3)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+6)/2;gy[0]=0+gs;gy[1]=-gA+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1q=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+4)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+8)/2;gy[0]=0+gs;gy[1]=-gA+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1d=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=L.c['size'].gv(gq)*0.916666666666667/2;gy[0]=0+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1e=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.916666666666667+1)/2;gy[0]=0+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$T=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+2.5)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+6)/2;gy[0]=0+gs;gy[1]=gA+gt;gy[2]=-gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=-gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$U=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+4)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+8)/2;gy[0]=0+gs;gy[1]=gA+gt;gy[2]=-gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=-gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$Z=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=L.c['size'].gv(gq)*0.916666666666667/2;gy[0]=0+gs;gy[1]=gz+gt;gy[2]=-gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=-gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$10=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.916666666666667+1)/2;gy[0]=0+gs;gy[1]=gz+gt;gy[2]=-gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=-gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1f=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+3)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+6)/2;gy[0]=-gA+gs;gy[1]=0+gt;gy[2]=gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1g=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+4)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+8)/2;gy[0]=-gA+gs;gy[1]=0+gt;gy[2]=gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$11=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=L.c['size'].gv(gq)*0.916666666666667/2;gy[0]=-gz+gs;gy[1]=0+gt;gy[2]=gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$12=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.916666666666667+1)/2;gy[0]=-gz+gs;gy[1]=0+gt;gy[2]=gz+gs;gy[3]=-gz+gt;gy[4]=gz+gs;gy[5]=gz+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1j=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+3)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+6)/2;gy[0]=-gz+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gA+gs;gy[5]=0+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1k=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.895833333333333+4)/2;var gA=(L.c['size'].gv(gq)*0.895833333333333+8)/2;gy[0]=-gz+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gA+gs;gy[5]=0+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$15=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=L.c['size'].gv(gq)*0.916666666666667/2;gy[0]=-gz+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gz+gs;gy[5]=0+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$16=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(6);var gz=(L.c['size'].gv(gq)*0.916666666666667+1)/2;gy[0]=-gz+gs;gy[1]=-gz+gt;gy[2]=-gz+gs;gy[3]=gz+gt;gy[4]=gz+gs;gy[5]=0+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$19=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(20);var gz=L.c['size'].gv(gq)*1.09166666666667+2;var gA=gz*0.3877;var gB=gz/2;gy[0]=0+gs;gy[1]=-gB+gz*0.0246+gt;gy[2]=-gB+gz*0.3817+gs;gy[3]=-gB+gA+gt;gy[4]=-gB+gs;gy[5]=-gB+gA+gt;gy[6]=-gB+gz*0.3088+gs;gy[7]=-gB+gz*0.612+gt;gy[8]=-gB+gz*0.1909+gs;gy[9]=-gB+gz*0.9751+gt;gy[10]=0+gs;gy[11]=-gB+gz*0.7507+gt;gy[12]=-gB+gz*0.8085+gs;gy[13]=-gB+gz*0.9751+gt;gy[14]=-gB+gz*0.6905+gs;gy[15]=-gB+gz*0.612+gt;gy[16]=gB+gs;gy[17]=-gB+gA+gt;gy[18]=-gB+gz*0.6176+gs;gy[19]=-gB+gA+gt;e.set_lineWidth(1);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1a=function(e,L,go,gp,gq){var gr=L.c['selected_halo_color'].gv(gq)['colorOverrideNone'];var gs=go;var gt=gp;{var gu=L.getMarkInstanceOffsets(gq);var gv=gu.length;for(var gw=0;gw<gv;gw++){var gx=gu[gw];dG.$1w(e,gx);{var gy=new Array(20);var gz=L.c['size'].gv(gq)*1.09166666666667+4;var gA=gz*0.3877;var gB=gz/2;gy[0]=0+gs;gy[1]=-gB+gz*0.0246+gt;gy[2]=-gB+gz*0.3817+gs;gy[3]=-gB+gA+gt;gy[4]=-gB+gs;gy[5]=-gB+gA+gt;gy[6]=-gB+gz*0.3088+gs;gy[7]=-gB+gz*0.612+gt;gy[8]=-gB+gz*0.1909+gs;gy[9]=-gB+gz*0.9751+gt;gy[10]=0+gs;gy[11]=-gB+gz*0.7507+gt;gy[12]=-gB+gz*0.8085+gs;gy[13]=-gB+gz*0.9751+gt;gy[14]=-gB+gz*0.6905+gs;gy[15]=-gB+gz*0.612+gt;gy[16]=gB+gs;gy[17]=-gB+gA+gt;gy[18]=-gB+gz*0.6176+gs;gy[19]=-gB+gA+gt;e.set_lineWidth(2);e.set_strokeStyle(gr);e.set_lineJoin('miter');bg.strokePath(e,gy,true,true)}if(gx!==0){e.restore()}}}};dG.$1w=function(e,L){if(!tab.DoubleUtil.isApproximatelyEqual(L,0)){e.save();e.translate(L,0)}};dG.$g=function(e,L,go,gp,gq,gr){var gs=Math.min(go,gq);var gt=Math.max(go,gq);var gu=Math.min(gp,gr);var gv=Math.max(gp,gr);var gw=bg.roundStartAndExtent(gs,gt-gs,e.minBarHeight);var gx=bg.roundStartAndExtent(gu,gv-gu,e.minBarWidth);tab.RectXYUtil.unionInPlace$1(L,gx.item1,gw.item1,Math.floor(gx.item2),Math.floor(gw.item2))};dG.$h=function(e,L,go,gp,gq,gr,gs,gt,gu,gv){var gw=L.c['draw_border'].gv(go);var gx=(gw?1:0);var gy=((L.markType==='text')?0:1);var gz=Math.min(gp,gq);var gA=Math.min(gr,gs);var gB=Math.abs(gq-gp);var gC=Math.abs(gs-gr);var gD=bg.roundStartAndExtent(gA,gC,L.minBarHeight);var gE=bg.roundStartAndExtent(gz,gB,L.minBarWidth);gz=gE.item1-gy;gA=gD.item1-gy;gB=gE.item2+gv+gx+gy-1;gC=gD.item2+gv+gx+gy-1;if(gu){gB=gC=Math.min(gB,gC)}if(!L.isWrappedDomain){var gF=L.getUserPaneRectByMark(go);if(!tab.RectXYUtil.intersectsWith$1(gF,Math.floor(gz),Math.floor(gA),Math.floor(gB),Math.floor(gC))){return}if(gF.x>=gz){var gG=gF.x+gv-1;gB-=gG-gz;gz=gG}if(gF.x+gF.w<=gz+gB){gB=gF.x+gF.w-gz-1}if(gF.y>=gA){var gH=gF.y+gv-1;gC-=gH-gA;gA=gH}if(gF.y+gF.h<=gA+gC){gC=gF.y+gF.h-gA-1}}e.set_lineJoin('miter');bg.renderBarOutline(e,gz,gA,gB,gC,gt['colorOverrideNone'],gv,L.minBarWidth,L.minBarHeight,false)};global.tab.MarksRenderer=dG;var dH=function(){};dH.__typeName='tab.Metrics';dH.get_scrollW=function(){return dH.$1()};dH.get_minScrollWidth=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return dH.get_scrollW()*2};dH.get_scrollH=function(){return dH.$1()};dH.get_minScrollHeight=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return dH.get_scrollH()*2};dH.$1=function(){return tab.MiscUtil.lazyInitStaticField(dH,'_scrollBarSize',function(){return dH.$0()})};dH.$0=function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var L=e.style;L.width='100px';L.height='100px';L.overflow='scroll';L.position='absolute';L.top='0px';L.filter='alpha(opacity=0)';L.opacity='0';L.left='0px';var go=document.createElement('div');go.style.width='400px';go.style.height='400px';e.appendChild(go);document.body.appendChild(e);var gp=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(go);e=go=null;gp=((gp>0)?gp:9);return gp};global.tab.Metrics=dH;var dI=function(){this.$5=false;this.$5=true;$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$3));$(window).on('focus.ModifierKeyState',ss.mkdel(this,function(){this.$1()}));$(window).on('blur.ModifierKeyState',ss.mkdel(this,function(){this.$0()}))};dI.__typeName='tab.ModifierKeyState';dI.add_modifierKeysChanged=function(e){dI.$1$1=ss.delegateCombine(dI.$1$1,e)};dI.remove_modifierKeysChanged=function(e){dI.$1$1=ss.delegateRemove(dI.$1$1,e)};dI.fireModifierKeysChanged=function(e){if(!ss.staticEquals(dI.$1$1,null)){dI.$1$1(e)}};global.tab.ModifierKeyState=dI;var dJ=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};dJ.__typeName='tab.NativeFontLoader';dJ.$0=function(){return document['fonts']};global.tab.NativeFontLoader=dJ;var dK=function(){};dK.__typeName='tab.NodeType';global.tab.NodeType=dK;var dL=function(){};dL.__typeName='tab.NotificationCommandRedirectHandler';dL.$0=function(e){var L=$.Deferred();var go=e['QgJ'.toString()];bv.showNotification(ss.htmlEncode(go.dYE.toString()),function(){L.resolve()});return L.promise()};global.tab.NotificationCommandRedirectHandler=dL;var dM=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.visible=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[dN]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);var L=$('<div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(go){if(go.which===13||go.which===32){go.preventDefault();go.stopPropagation();this.$9(go)}}));this.closeDom=spiff.ClickHandler.targetAndClick(L,ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};dM.__typeName='tab.NotificationView';global.tab.NotificationView=dM;var dN=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};dN.__typeName='tab.NotificationViewModel';dN.$0=function(e,L){var go=new dN;go.set_message(e);if(ss.isValue(L)){go.set_autoHideTimeout(L)}return go};dN.showGeoLocationNotification=function(e,L,go){var gp=dN.$0(e,L);gp.set_displayPosition(go);spiff.ObjectRegistry.newView(cE).call(null,[gp]);spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(gp,gp.$2));spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(gp,gp.hide));gp.disposables.add$1(new tab.CallOnDispose(function(){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(gp,gp.$2));spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(gp,gp.hide))}));gp.disposeOnHide();gp.show()};dN.showNotification=function(e,L){dN.showCustomNotification(dM).call(null,e,L)};dN.showCustomNotification=function(e){return function(L,go){var gp=dN.$0(L,go);spiff.ObjectRegistry.newView(e).call(null,[gp]);gp.disposeOnHide();gp.show();return gp}};global.tab.NotificationViewModel=dN;var dO=function(e,L){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',L)};dO.__typeName='tab.OverlayImage';global.tab.OverlayImage=dO;var dP=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dP.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=dP;var dQ=function(){this.hasPixelGeometry=false;this.$l=tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction');this.worldWidth=0;this.sceneInfo=null;this.c={};this.labelColumnIterators=null;this.textRunColumnIterators=null;this.textStyleColumnIterators=null;this.domainExtents=null;this.$o=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap={};this.$h=null;this.$m=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$n=null;this.$j=new Set;this.$p=false;this.shapeMarkStampingDecision=null;this.$i=null;this.$k=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$g=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;this.lineMarkerPosition=null;if(ss.isNullOrUndefined(dQ.$c)){dQ.$c={};dQ.$c[1]=0;dQ.$c[2]=-Math.PI*0.5;dQ.$c[3]=Math.PI*0.5}if(ss.isNullOrUndefined(dQ.$a)){dQ.$a={};dQ.$a['theta']={x:0,y:1};dQ.$a['theta1']={x:0,y:1};dQ.$a['size']={x:0,y:4096};dQ.$a['text_run_x']={x:0,y:4096};dQ.$a['text_run_direction_x']={x:0,y:4096};dQ.$a['text_run_y']={x:0,y:4096};dQ.$a['text_run_direction_y']={x:0,y:4096};for(var e=0;e<dQ.$4.length;e++){var L=dQ.$4[e];dQ.$a[L]={x:0,y:0}}for(var go=0;go<dQ.$5.length;go++){var gp=dQ.$5[go];dQ.$a[gp]={x:0,y:0}}}if(ss.isNullOrUndefined(dQ.$b)){dQ.$b=[];dQ.$b.push(0)}};dQ.__typeName='tab.PaneDrawInfo';dQ.domainToPixelX=function(e,L,go){return en.domainToPixel(e,L.x,go.x,go.w/L.w)};dQ.domainToPixelY=function(e,L,go){return en.domainToPixel(e,L.y,go.y,go.h/L.h)};dQ.domainToPixelWidth=function(e,L,go){return e/L.w*go.w};dQ.domainToPixelHeight=function(e,L,go){return e/L.h*go.h};dQ.$0=function(e,L){var go=new ss.StringBuilder;if(ss.keyExists(e,'font_style')&&parseInt(e['font_style'].uBu02[L].toString())===1){go.append('italic ')}if(ss.keyExists(e,'font_weight')&&parseInt(e['font_weight'].uBu02[L].toString())===1){go.append('bold ')}var gp=parseInt(e['font_size'].uBu02[L].toString());gp=Math.max(6,gp);var gq=e['font'].uBu02[L];gq=cd.$1(gq);go.append(gp+'pt '+gq);return go.toString()};global.tab.PaneDrawInfo=dQ;var dR=function(){};dR.__typeName='tab.PaneDrawInfoFactory';dR.create=function(e,L,go,gp,gq,gr,gs,gt){var gu=null;if(ss.isValue(gt)){gu=es.get_instance().createPaneDrawInfo(e,L,go,gp,gq,gr,gs,gt)}else{gu=new ec.$ctor1(e,L,go,gp,gq,gr,gs)}return gu};global.tab.PaneDrawInfoFactory=dR;var dS=function(e,L){this.$o=null;this.$q=null;this.$p=null;this.$r=null;bg.call(this,e,L);var go=(ss.isValue(this.$r)?this.$r.colorModel:dk.defaultColors);this.$o=new cd(e,L,go);if(!tab.FeatureFlags.isEnabled('RuntimeNoWebClientChanges')&&tab.FeatureFlags.isEnabled('Runtime')){this.$p=es.get_instance();this.$q=this.$p.createNonMarksRenderer(e,L)}};dS.__typeName='tab.PaneTable2DRenderer';dS.$1=function(e,L,go,gp){var gq;switch(e){case'shape':{gq=dG.$1y(go,L);break}case'bar':case'square':{gq=dG.$8(go,L);break}case'pie':{gq=dG.$k(go,L);break}case'text':{gq=dG.$1G(go,L);break}case'label':{gq=dG.$i(go,L);break}case'line':{gq=dG.$m(go,L);break}case'area':{gq=dG.$0(go,L);break}case'multipolygon':{gq=dG.$j(go,L);break}default:{{var gr=go.c['x'].gv(L);var gs=go.c['y'].gv(L);var gt=go.c['size'].gv(L);var gu=Math.ceil(gt);gq={x:Math.floor(gr-gt/2+0.5),y:Math.floor(gs-gt/2+0.5),w:gu,h:gu}}break}}if(go.hasUserPanes){tab.RectXYUtil.intersectInPlace(gq,gp)}return gq};dS.getMarkBoundingBox=function(e,L,go){return dS.$1(L.markType,e,L,go)};dS.renderHoverOverlay=function(e,L,go){if(ss.isNullOrUndefined(go)||ss.isNullOrUndefined(L)){return}{var gp=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var gq=L.getMarkIndexFromTupleId(e);switch(L.markType){case'area':{dG.$C(go,L,gq);break}case'bar':case'square':{dG.$E(go,L,gq);break}case'line':{dG.$G(go,L,gq);break}case'multipolygon':{dG.$I(go,L,gq);break}case'pie':{dG.$K(go,L,gq);break}case'shape':{dG.$M(go,L,gq);break}case'text':{dG.$1u(go,L,gq);break}}}finally{if(ss.isValue(gp)){gp.dispose()}}}};dS.renderPressedOverlay=function(e,L,go){if(ss.isNullOrUndefined(go)||ss.isNullOrUndefined(L)){return}{var gp=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var gq=L.getMarkIndexFromTupleId(e);switch(L.markType){case'area':{dG.$D(go,L,gq);break}case'bar':case'square':{dG.$F(go,L,gq);break}case'line':{dG.$H(go,L,gq);break}case'multipolygon':{dG.$J(go,L,gq);break}case'pie':{dG.$L(go,L,gq);break}case'shape':{dG.$1t(go,L,e);break}case'text':{dG.$1v(go,L,gq);break}}}finally{if(ss.isValue(gp)){gp.dispose()}}}};dS.$2=function(e,L,go){e[0]=L.x;e[1]=L.y;e[2]=go.x;e[3]=go.y};dS.$0=function(e,L,go,gp){var gq=go==='uEs'||go==='bUP'||go==='bsq'||go==='jpw';if(L==='selected'&&gq){if(tab.ColorModel.isFullyTransparent(e)){return'rgba(0,0,0,1)'}return e.toString()}if(L==='hover'&&gq){var gr=77;var gs=new tab.ColorModel(255,255,255,0.449999988079071);var gt=new tab.ColorModel(0,0,0,0.449999988079071);var gu=(e.isValueAboveThreshold(gr)?gt:gs);return((e.get_a()<1)?gu.toString():tab.ColorModel.alphaBlend(gu,e).toString())}if(L==='normal'&&ss.isValue(gp)){return tab.SceneDataUtil.fogColorTransform(e,gp.item2,gp.item1).toString()}return e.toString()};global.tab.PaneTable2DRenderer=dS;var dT=function(e,L,go){ss.makeGenericType(fQ,[dX]).call(this,e,L,go);this.renderer=new dS(this.canvasElt,this.context);var gp=_.keys(e.get_vizRegionMap());for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];if(!ss.contains(dX.blackListVisualParts,gr)){e.get_vizRegionMap()[gr].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};dT.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=dT;var dU=function(e,L,go){this.$T=null;this.$N=[];this.$M=new w('hover');this.$Q=new w('press');this.$K=false;this.$R=null;this.$L=false;this.$I=[];this.$P=null;this.$J=null;this.$O='normal';this.$S=false;ss.makeGenericType(fQ,[dX]).call(this,e,L,'transparent');this.renderer=new dS(this.canvasElt,this.context);this.$T=go;var gp=$(this.canvasElt);gp.css('position','absolute');gp.css('left','0px');gp.css('top','0px')};dU.__typeName='tab.PaneTableOverlayView';dU.$0=function(e,L){var go=new Set;if(ss.isValue(e)&&e.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,go,e)}if(ss.isValue(L)&&L.length>0){var gp=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,gp,L);go=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,go,gp)}return tab.SetUtilities.getValues(ss.Int32).call(null,go)};global.tab.PaneTableOverlayView=dU;var dV=function(e){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,e);var L=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=L('.tab-clip');this.yLabel=L('.tab-tvYLabel');this.leftAxis=L('.tab-tvLeftAxis');this.rightAxis=L('.tab-tvRightAxis');this.xLabel=L('.tab-tvXLabel');this.bottomAxis=L('.tab-tvBottomAxis');this.topAxis=L('.tab-tvTopAxis');this.view=L('.tab-tvView');this.title=L('.tab-tvTitle');this.caption=L('.tab-tvCaption');this.topLeftSpacer=L('.tab-tvTLSpacer');this.topRightSpacer=L('.tab-tvTRSpacer');this.bottomLeftSpacer=L('.tab-tvBLSpacer');this.bottomRightSpacer=L('.tab-tvBRSpacer');this.borders=L('.tvViewportBorders');this.borders.append($(dV.$0))};dV.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=dV;var dW=function(e,L){this.regions={};this.zoomToolbar=null;this.$W=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$M=[];this.$S=0;this.$Q={x:0,y:0};this.$P=0;this.$V=null;this.isAnimationOccurring=false;this.vizTooltip=null;this.$U=null;this.$E=null;this.$G=false;this.$N=null;this.$J=0;this.$O=null;this.$K=null;this.$L=null;this.$R={w:0,h:0};this.$C=null;this.$B=null;this.$I=false;this.$T=null;this.$D=null;this.$H=null;this.$F=new z;this.geometry=null;this.visibleGeometry=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.vizHitTester=null;this.isMap=false;ss.makeGenericType(spiff.BaseView$1,[dX]).call(this,e,L);this.dom=L;this.get_paneTableVM().viewController.setTiledViewer(this);this.$S=(new Date).getTime();this.dom.view.attr('id','view'+this.$e());this.dom.domRoot.attr('tb-test-id',tableau.format.escapeHTML(this.get_paneTableVM().get_visualId().AVP));var go=e.get_visualModel();this.$A(go);this.$v(go);this.$u();this.$t();this.$r();this.isMap=go.get_isMap();this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$g));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$g))})))};dW.__typeName='tab.PaneTableView';dW.addVizDragApprover=function(e){dW.removeVizDragApprover(e);dW.$8.push(e)};dW.removeVizDragApprover=function(e){ss.remove(dW.$8,e)};dW.addVizDragHandler=function(e){dW.removeVizDragHandler(e);dW.$9.push(e)};dW.addAsyncVizDragHandler=function(e){dW.removeAsyncVizDragHandler(e);dW.$4.push(e)};dW.removeVizDragHandler=function(e){ss.remove(dW.$9,e)};dW.removeAsyncVizDragHandler=function(e){ss.remove(dW.$4,e)};dW.$3=function(e,L){var go=L.x+L.w;return Math.max(e,go)};dW.$2=function(e,L){var go=L.y+L.h;return Math.max(e,go)};dW.$1=function(e,L,go,gp,gq,gr,gs,gt,gu){var gv={};gv.uleftArea=null;if(ss.isValue(e.uleft)){gv.uleftArea={l:e.uleft.x,t:e.uleft.y,w:Math.min(e.uleft.w,L-go),h:e.uleft.h}}gv.yheaderArea=null;if(ss.isValue(e.yheader)){gv.yheaderArea={l:e.yheader.x,t:e.yheader.y,w:Math.min(e.yheader.w,L-go),h:gp+gq}}gv.leftaxisArea=null;if(ss.isValue(e.leftaxis)){gv.leftaxisArea={l:e.leftaxis.x,t:e.leftaxis.y,w:e.leftaxis.w,h:gp+gq}}gv.rightaxisArea=null;if(ss.isValue(e.rightaxis)){gv.rightaxisArea={l:e.rightaxis.x-gr,t:e.rightaxis.y,w:e.rightaxis.w,h:gp+gq}}gv.xheaderArea=null;if(ss.isValue(e.xheader)){gv.xheaderArea={l:e.xheader.x,t:e.xheader.y,w:gs+gt,h:e.xheader.h}}gv.bottomaxisArea=null;if(ss.isValue(e.bottomaxis)){gv.bottomaxisArea={l:e.bottomaxis.x,t:e.bottomaxis.y-gu,w:gs+gt,h:e.bottomaxis.h}}gv.topaxisArea=null;if(ss.isValue(e.topaxis)){gv.topaxisArea={l:e.topaxis.x,t:e.topaxis.y,w:gs+gt,h:e.topaxis.h}}gv.urightArea=null;if(ss.isValue(e.uright)){gv.urightArea={l:e.uright.x-gr,t:e.uright.y,w:Math.min(e.uright.w,L-go),h:e.uright.h}}gv.lleftArea=null;if(ss.isValue(e.lleft)){gv.lleftArea={l:e.lleft.x,t:e.lleft.y-gu,w:e.lleft.w,h:e.lleft.h}}gv.lrightArea=null;if(ss.isValue(e.lright)){gv.lrightArea={l:e.lright.x-gr,t:e.lright.y-gu,w:e.lright.w,h:e.lright.h}}gv.vizArea=null;if(ss.isValue(e.viz)){gv.vizArea={l:e.viz.x,t:e.viz.y,w:gs+gt,h:gp+gq}}return gv};dW.$0=function(e,L){var go=2;var gp={x:e.x,y:e.y};if(L.w>4){gp=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(gp,L,go)}else{gp={x:L.x+ss.Int32.div(L.w,2),y:gp.y}}if(L.h>4){gp=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(gp,L,go)}else{gp={x:gp.x,y:L.y+ss.Int32.div(L.h,2)}}return gp};dW.guessTooltipTargetTypeFromRegion=function(e){switch(e){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};dW.isViewDataAccessEnabled=function(){return tab.ApplicationModel.get_instance().get_toolbar().isLegacyMenuItemEnabled('exportdata')};global.tab.PaneTableView=dW;var dX=function(e,L){this.$w={};this.$v=null;this.$u=null;this.$s=null;this.$q=null;this.$p=null;this.$m=null;this.$o=null;this.$r=false;this.$t=null;this.$n=null;this.$l=null;this.borderHighlighted=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.viewController=null;spiff.BaseViewModel.call(this);this.$v=e;this.$u=L;this.$o=[];this.$s=new et;if(ss.isValue(this.$v)){if(ss.isValue(this.$v.get_selectionsModel().tupleSelection)){this.$v.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$v.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$v.get_brushingsModel().tupleSelection)){this.$v.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$v.get_sceneModel())){this.$v.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$r=false}if(ss.isValue(this.$v.get_labelsModel())){this.$v.get_labelsModel().add_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$v.get_zone())){this.$v.get_zone().add_resizeZone(ss.mkdel(this,this.$f))}this.$v.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$v.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$v.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$v.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$v.add_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$v.add_newVisual(ss.mkdel(this,this.$d));this.$v.add_newVisual(ss.mkdel(this,this.$a));this.$v.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6))}var go=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$g()});ev.get_instance().add_fontPreparationComplete(go);this.disposables.add$1(new tab.CallOnDispose(function(){ev.get_instance().remove_fontPreparationComplete(go)}));this.$j()};dX.__typeName='tab.PaneTableViewModel';dX.updateSceneInfoFromVisualModel=function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return}var go=L.pm.Ucd;var gp=L.pm.X$;var gq=(ss.isValue(L.get_selectionsModel().tupleSelection)?L.get_selectionsModel():null);var gr=(ss.isValue(L.get_impliedSelectionModel())?L.get_impliedSelectionModel():null);var gs=(ss.isValue(L.get_brushingsModel().tupleSelection)?L.get_brushingsModel():null);var gt=L.get_hiddenTuples();var gu=L.get_filteredTuples();e.$l(gp,gq,gr,gs,go,gt,gu);if(ss.isValue(L.get_labelsModel())&&ss.isValue(L.get_labelsModel().pm)){e.$k(L.get_labelsModel().pm)}e.$j(L.get_isBrushedFromAction());e.$i(L.get_emptyHighlightFogAll())};dX.$0=function(e,L,go){switch(e.get_reason()){case 1:{if(L.hasTupleSelection()){return true}return ss.isValue(go)&&go.get_selectionType()==='tuples'&&go.get_ids().length>0}case 2:{return e.get_invalidateViz()||e.get_objectIds().length>0}default:{return false}}};global.tab.PaneTableViewModel=dX;var dY=function(e,L){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;ey.call(this,e,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=L||false;this.$n=null;this.$o=null};dY.__typeName='tab.PolyShapeSelector';dY.$0=function(e,L,go){return e>=L&&L>=go||e<=L&&L<=go};global.tab.PolyShapeSelector=dY;var dZ=function(){this.$0=null;this.$1=0;ez.call(this);this.$0=[];this.$1=0};dZ.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=dZ;var ea=function(e){ss.makeGenericType(spiff.BaseView$1,[eb]).call(this,e,spiff.Template.fromHtml('<div />'))};ea.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=ea;var eb=function(e,L,go){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(eb.$1(L)){if($.isArray(L)){this.data=eb.$2(L)}else{this.data=eb.$3(L)}}else{this.data=L.toString()}this.$2=go};eb.__typeName='tab.PresModelBrowserViewModel';eb.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};eb.$2=function(e){var L=[];for(var go=0;go<e.length;++go){L.push(eb.$4(go.toString(),e[go]))}return L};eb.$3=function(e){var L=[];var go=new ss.ObjectEnumerator(e);try{while(go.moveNext()){var gp=go.current();L.push(eb.$4(gp.key,gp.value))}}finally{go.dispose()}return L};eb.$0=function(e){return'<strong>'+e+':</strong> '};eb.$4=function(e,L){if(eb.$1(L)){if($.isArray(L)){return ss.mkdict(['text',eb.$0(e),'children',eb.$2(L)])}else{return ss.mkdict(['text',eb.$0(e),'children',eb.$3(L)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(L,'{')||ss.startsWithString(L,'['))){var go=null;try{go=JSON.parse(L)}catch(gp){}if(ss.isValue(go)){return eb.$4(e,go)}}return eb.$0(e)+L};global.tab.PresModelBrowserViewModel=eb;var ec=function(){dQ.call(this);this.setDefaultLabelLookupValues()};ec.__typeName='tab.PresModelPaneDrawInfo';ec.$ctor1=function(e,L,go,gp,gq,gr,gs){dQ.call(this);if(ss.isNullOrUndefined(go)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(gp)){throw new ss.ArgumentNullException('paneMarks')}if(ss.isNullOrUndefined(gq)){throw new ss.ArgumentNullException('pdMarks')}this.skipClipping=false;this.paneDrawInfoKey=gs;this.sceneInfo=L;this.paneMarks=gp;this.forceOpaqueColors=false;this.pdMarksKey=e;this.paneColumn=go._WI;this.paneRow=go.ASo;this.paneRect=tab.RecordCast.rectPresModelAsRectXY(go.PeS);this.domainExtents=tab.SceneDataUtil.getPaneDomainExtents(go);this.markCount=tab.SceneDataUtil.getNumPaneItems(this.paneMarks);this.markType=gq.tx;this.showLabels=gq.knq;this.labelMode=gq.QCC;this.set_paneFlags(gq.LTd['pane_flags']);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=tab.VisualColumnHelpers.parseColumns(gq,gp.QNi,this.markCount);this.hasConstantColor=ss.keyExists(gq.LTd,'color');var gt=tab.ColorModel.white;if(ss.keyExists(this.c,'background_color')){var gu=this.c['background_color'];gt=tab.ColorModel.fromArgbInt(gu.v[(gu.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(gt);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(gt,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(L.sceneUserPaneInfo);this.processColors(gr);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}if(this.markType==='line'){this.ensureLinePixelAlignment()}this.parseTextInfo(gq.MbY,gq.Smu,false);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=ec.buildMapExtentsRect(gp.DGi,this.domainExtents,this.paneRect);this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};ec.buildMapExtentsRect=function(e,L,go){if(ss.isNullOrUndefined(e)||e.POJ===0||e.suk===0){return null}return{x:ss.Int32.trunc(dQ.domainToPixelX(e.BPK,L,go)),y:ss.Int32.trunc(dQ.domainToPixelY(e.KEc,L,go)),w:ss.Int32.trunc(dQ.domainToPixelWidth(e.POJ,L,go)),h:ss.Int32.trunc(dQ.domainToPixelHeight(e.suk,L,go))}};global.tab.PresModelPaneDrawInfo=ec;var ed=function(){};ed.__typeName='tab.QuickFilterConstants';global.tab.QuickFilterConstants=ed;var ee=function(){};ee.__typeName='tab.QuickFilterDateFormatUtil';ee.$0=function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'};ee.getDateTimeFormatMode=function(e,L,go,gp){if(ss.isNullOrUndefined(go)||ss.isNullOrUndefined(go.isAutoFormat)||!go.isAutoFormat){return 0}if(ee.$0(L)){return 0}if(ee.isPureTime(e,L)){return 1}if(gp===2){return 2}for(var gq=0;gq<e.length;gq++){var gr=e[gq];if(ss.isNullOrUndefined(gr)||!ss.isValue(gr.v)){continue}var gs={t:gr.t,v:ss.unbox(gr.v)};if(tableau.format.isDateTimeWithNonMidnightTime(gs)){return 2}}return 0};ee.isPureTime=function(e,L){var go=tab.LegacyFilterModel.timestampsWithSameDateOrNull(e);return go&&!ee.$0(L)};global.tab.QuickFilterDateFormatUtil=ee;var ef=function(e){this.$0=null;this.$0=e};ef.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=ef;var eg=function(){this.$d=null;this.$e=null;ey.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};eg.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=eg;var eh=function(){this.$0=null;this.$1=null;ez.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};eh.__typeName='tab.RectShapeState';global.tab.RectShapeState=eh;var ei=function(e){this.$i=null;this.$j=null;ss.makeGenericType(spiff.BaseView$1,[ej]).call(this,e,new u);this.$c()};ei.__typeName='tab.ReferenceLineConstantValueEditorView';global.tab.ReferenceLineConstantValueEditorView=ei;var ej=function(){this.$2=null;spiff.BaseViewModel.call(this)};ej.__typeName='tab.ReferenceLineConstantValueEditorViewModel';ej.add_showReferenceLineConstantValueEditor=function(e){ej.$2$1=ss.delegateCombine(ej.$2$1,e)};ej.remove_showReferenceLineConstantValueEditor=function(e){ej.$2$1=ss.delegateRemove(ej.$2$1,e)};ej.constantLinePillDropped=function(e){if(ss.isValue(e)){var L=new ej;L.$2=e;ej.$2$1(L)}};global.tab.ReferenceLineConstantValueEditorViewModel=ej;var ek=function(){};ek.__typeName='tab.ReferenceLineConstantValueQuickEditCommandRedirectHandler';ek.$0=function(e){var L=$.Deferred();if(ss.isValue(e)){var go=e['jal1'];ej.constantLinePillDropped(go);L.resolve()}return L.promise()};global.tab.ReferenceLineConstantValueQuickEditCommandRedirectHandler=ek;var el=function(){};el.__typeName='tab.RegionResizer';el.getRegionResizerViewModel=function(e,L,go,gp,gq,gr,gs){var gt=null;switch(L){case'yheader':{gt=new G(e,go,gp,gq,gr);break}case'xheader':{gt=new H(e,go,gp,gq,gr);break}case'topaxis':{gt=new g(e,go,gp,gq,gr,gs);break}case'rightaxis':{gt=new h(e,go,gp,gq,gr,gs);break}case'bottomaxis':{gt=new i(e,go,gp,gq,gr,gs);break}case'leftaxis':{gt=new j(e,go,gp,gq,gr,gs);break}default:{break}}return gt};el.getHeaderResizerMinimumRunDistance=function(e){return Math.max(0,e-20)};el.getAxisResizerMaximumRunDistance=function(e,L,go,gp){return Math.max(0,(gp?(ss.Int32.div(e,2)-10):Math.min(ss.Int32.div(e*3,4),ss.Int32.div(L*3,4)-go)))};el.getAxisResizerMinimumRunDistance=function(e){return Math.max(0,e-10)};global.tab.RegionResizer=el;var em=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};em.__typeName='tab.RenderAndCheckFontLoader';em.$0=function(e,L){var go=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var gp=$('<div/>').css(em.$2).css('font-family',L.join(', ')).addClass(e);gp.append(go);return gp};em.$1=function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return false}var go=e.children('span')[0];var gp=L.children('span')[0];return en.compareBoundingClientHeight(go,gp)===0&&en.compareBoundingClientWidth(go,gp)===0};global.tab.RenderAndCheckFontLoader=em;var en=function(){};en.__typeName='tab.RenderUtil';en.calculatePixelRatio=function(e){var L=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){L=tsConfig.pixelRatio}else if(ss.isValue(e)&&!e){L=tab.BrowserSupport.get_devicePixelRatio()}else{L=tab.BrowserSupport.get_devicePixelRatio()/tab.BrowserSupport.get_backingStoragePixelRatio()}}return L};en.isHighDpi=function(){return window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)').matches};en.domainToPixel=function(e,L,go,gp){return(e-L)*gp+go};en.manualFadeAnimation=function(e,L,go,gp,gq,gr){var gs=L;var gt=go;var gu=ss.Int32.div(gq,1000)*gp;var gv=(go-L)/gu;var gw=ss.Int32.div(1000,gp);var gx=null;gx=function(){if(gs>gt){e.css('filter','alpha(opacity='+gt+')');e.css('opacity',(gt/100).toString());return}e.css('filter','alpha(opacity='+gs+')');e.css('opacity',(gs/100).toString());gs+=gv;if(ss.isValue(gr)){gw+=gw}window.setTimeout(gx,gw)};window.setTimeout(gx,gw)};en.compareBoundingClientHeight=function(e,L){var go=e.getBoundingClientRect().height;var gp=(ss.isNullOrUndefined(L)?0:L.getBoundingClientRect().height);return ss.compare(go,gp)};en.compareBoundingClientWidth=function(e,L){var go=e.getBoundingClientRect().width;var gp=(ss.isNullOrUndefined(L)?0:L.getBoundingClientRect().width);return ss.compare(go,gp)};en.ensureImageEltSize=function(e,L){var go=en.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(go,1)){var gp=$(e);gp.css('width',L.w.toString()+'px');gp.css('height',L.h.toString()+'px')}};global.tab.RenderUtil=en;var eo=function(){};eo.__typeName='tab.ResolveSelectAction';eo.fromNormalizedEvent=function(e,L,go){var gp=e.getSelectAction();if(ss.isValue(L)&&L&&gp==='toggle'){gp='range'}else if(!!!L&&!!go&&gp==='range'){gp='simple'}return gp};global.tab.ResolveSelectAction=eo;var ep=function(){this.drawerContainer=null;spiff.Template.call(this,$("<div class='tab-right-area-drawer'></div>"));this.drawerContainer=this.domRoot};ep.__typeName='tab.RightAreaDrawerTemplate';global.tab.RightAreaDrawerTemplate=ep;var eq=function(e){this.$e=null;this.$d=null;ss.makeGenericType(spiff.BaseView$1,[er]).call(this,e,new ep);this.$e=e;this.$e.add_open(ss.mkdel(this,this.$a));this.$e.add_close(ss.mkdel(this,this.$9));this.$b()};eq.__typeName='tab.RightAreaDrawerView';global.tab.RightAreaDrawerView=eq;var er=function(e){this.$3=null;this.$4=false;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$3=e};er.__typeName='tab.RightAreaDrawerViewModel';global.tab.RightAreaDrawerViewModel=er;var es=function(){};es.__typeName='tab.RuntimeUIModule';es.get_instance=function(){if(ss.isNullOrUndefined(es.$0)){tab.ModuleManager.load(dm).call(null,[]).done(function(e){es.$0=e})}return es.$0};global.tab.RuntimeUIModule=es;var et=function(){this.$u={};this.$B={};this.$z={};this.$y={};this.$t={};this.$x=false;this.$r=false;this.$w=null;this.$v={};this.$s={};this.$A={};this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$n=0;this.$q=0;this.customShapes=[];this.$n=0;this.$q=0};et.__typeName='tab.SceneInfo';et.getPaneMarksKey=function(e){var L=e.Zpj;return e.fDN+'_'+L['_WI'.toString()]+'_'+L['ASo'.toString()]+'_'+e.hJq};et.extractCustomShapes=function(e){var L=[];if(!ss.isValue(e)||!ss.isValue(e.ObZ)){return L}var go=Object.keys(e.ObZ);for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=e.ObZ[gq];var gs=gr.GKA;if(ss.keyExists(gs,'shape_id')){var gt=gs['shape_id'];var gu=gt.uBu02;for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];if(ss.isValue(gw)&&tab.SceneDataUtil.isCustomShape(gw)){L.push(gw)}}}if(ss.isValue(gr.LTd)&&ss.keyExists(gr.LTd,'shape_id')){var gx=gr.LTd['shape_id'];if(tab.SceneDataUtil.isCustomShape(gx)){L.push(gx)}}}return L};et.$0=function(e,L,go){var gp=e.paneRect.x;var gq=e.paneRect.y;var gr=_.keys(L);for(var gs=0;gs<gr.length;gs++){var gt=gr[gs];var gu=L[gt];tab.RectXYUtil.offsetRectXYInPlace(gu,gp,gq);go[gt]=gu}};global.tab.SceneInfo=et;var eu=function(){eu.$1.call(this,null,null)};eu.__typeName='tab.SceneUserPaneInfo';eu.$1=function(e,L){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=e;this.$4=L;this.$1=ss.isValue(e)&&e.length>0;this.$2=ss.isValue(L)&&L.length>0;this.$0=(this.$1?(e.length-1):1);this.$5=(this.$2?(L.length-1):1)};eu.$0=function(e){eu.$1.call(this,e.uaB,e.gwy)};global.tab.SceneUserPaneInfo=eu;var ev=function(){this.$5={};this.$4=null;this.$7=false;this.$6=false;this.$3=null;this.$1$1=null;this.$4=ev.$0();this.$4.add_fontsReady(ss.mkdel(this,this.$1));this.$4.add_fontDownloading(ss.mkdel(this,this.$0));this.$6=true};ev.__typeName='tab.ServerFontLoader';ev.get_instance=function(){if(ss.isNullOrUndefined(ev.$1)){ev.$1=new ev}return ev.$1};ev.$0=function(){if(tab.FeatureFlags.isEnabled('RenderAndCheckFontLoader')){if(tab.BrowserSupport.get_fontLoaderApi()&&(tab.BrowserSupport.get_isFF()||tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isSafari())){return new dJ}else{return new em}}else{return new be}};global.tab.ServerFontLoader=ev;var ew=function(e,L){fT.call(this,e,L)};ew.__typeName='tab.ServerRenderVizHitTester';global.tab.ServerRenderVizHitTester=ew;var ex=function(e){this.$3=new Set;this.$2=null;this.$2=e;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};ex.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=ex;var ey=function(e,L,go){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(e)?'0':e.w.toString());this.$a=(ss.isNullOrUndefined(e)?'0':e.h.toString());this.$7=L;this.$4=go};ey.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=ey;var ez=function(){};ez.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=ez;var eA=function(){};eA.__typeName='tab.ShapeUtil';eA.generateSelectedUnderCustomShape=function(e,L,go,gp,gq){var gr=eA.colorTransformImage(e,L,gp,gq);var gs=document.createElement('canvas');var gt=go*2;gs.width=Math.ceil(gp+gt);gs.height=Math.ceil(gq+gt);var gu=gs.getContext('2d');gu.drawImage(gr,0,0,gp,gq);gu.drawImage(gr,go,0,gp,gq);gu.drawImage(gr,gt,0,gp,gq);gu.drawImage(gr,gt,go,gp,gq);gu.drawImage(gr,gt,gt,gp,gq);gu.drawImage(gr,go,gt,gp,gq);gu.drawImage(gr,0,gt,gp,gq);gu.drawImage(gr,0,go,gp,gq);return gs};eA.generateOverlayForShape=function(e,L,go,gp,gq){var gr=eA.generateSelectedUnderCustomShape(e,L,go,gp,gq);var gs=gr.getContext('2d');gs.globalCompositeOperation='destination-out';gs.drawImage(e,go,go,gp,gq);return gr};eA.colorTransformImage=function(e,L,go,gp){var gq=eA.generateCanvasAndPrescaleAsNeeded(e,go,gp);var gr=gq.getContext('2d');var gs=gr.getImageData(0,0,gq.width,gq.height);var gt=gs.data.length;for(var gu=0;gu<gt;gu+=4){if(gs.data[gu+3]>0){gs.data[gu]=L.get_r();gs.data[gu+1]=L.get_g();gs.data[gu+2]=L.get_b()}}gr.putImageData(gs,0,0);return gq};eA.applyFoggingToImage=function(e,L,go,gp,gq){var gr=eA.generateCanvasAndPrescaleAsNeeded(e,gp,gq);var gs=gr.getContext('2d');var gt=gs.getImageData(0,0,gr.width,gr.height);for(var gu=0;gu<gt.data.length;gu+=4){if(gt.data[gu+3]>0){gt.data[gu]=Math.round(L.get_r()+gt.data[gu]*go);gt.data[gu+1]=Math.round(L.get_g()+gt.data[gu+1]*go);gt.data[gu+2]=Math.round(L.get_b()+gt.data[gu+2]*go)}}gs.putImageData(gt,0,0);return gr};eA.generateCanvasAndPrescaleAsNeeded=function(e,L,go){var gp=document.createElement('canvas');if(!ss.isValue(e)){return gp}if(e.width>L*2&&e.height>go*2){gp.width=Math.max(ss.Int32.div(e.naturalWidth,2),1);gp.height=Math.max(ss.Int32.div(e.naturalHeight,2),1)}else{gp.width=e.naturalWidth;gp.height=e.naturalHeight}var gq=gp.getContext('2d');gq.drawImage(e,0,0,gp.width,gp.height);return gp};global.tab.ShapeUtil=eA;var eB=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eE,eC,Object]).call(this,spiff.ObjectRegistry.newView(eE).call(null,[e.viewModel]),e,L)};eB.__typeName='tab.ShareComponent';global.tab.ShareComponent=eB;var eC=function(){this.viewModel=null};eC.__typeName='tab.ShareProps';global.tab.ShareProps=eC;var eD=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};eD.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=eD;var eE=function(e){this.$h=(tsConfig.is_mobile?390:300);this.$g=null;this.$f=false;ss.makeGenericType(spiff.BaseView$1,[eF]).call(this,e,new eD);this.$g=e;this.$g.saveSharedView();this.$9();this.$f=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$h};eE.__typeName='tab.ShareView';global.tab.ShareView=eE;var eF=function(){this.$a=true;spiff.BaseViewModel.call(this);this.$a=!this.$9();this.saveSharedView()};eF.__typeName='tab.ShareViewModel';eF.$6=function(e){var L='/javascripts/api/viz_v1.js';var go=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(go+'//'+e['hostname']+L)};eF.$0=function(){var e;var L=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));L.append(eF.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));L.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));L.append(eF.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));L.append('} else { ');L.append(eF.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));L.append('} ');var go=$.Deferred();e=go.resolve(L.toString()).promise();return e};eF.$2=function(e,L){return eF.$1({EVq:e.minWidth,PiK:e.maxWidth,pAn:e.minHeight,McJ:e.maxHeight},L)};eF.$1=function(e,L){var go=new ss.StringBuilder('');var gp=eF.$5();var gq=4;if(e.viO==='automatic'||e.EVq===0&&e.PiK===0){go.append("vizElement.style.width='100%';")}else if(e.EVq===e.PiK){go.append(ss.formatString("vizElement.style.width='{0}px';",e.EVq+gq))}else{if(e.EVq>0){go.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.EVq+gq))}else{go.append("vizElement.style.width='100%';")}if(e.PiK>0){go.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.PiK+gq))}else{go.append("vizElement.style.maxWidth='100%';")}if(e.EVq>0&&e.PiK>0&&e.EVq!==e.PiK){go.append("vizElement.style.width='100%';")}}if(e.viO==='automatic'||e.pAn===0&&e.McJ===0){go.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}else if(e.pAn===e.McJ){go.append(ss.formatString("vizElement.style.height='{0}px';",e.pAn+gp))}else{if(e.pAn>0){go.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.pAn+gp))}else{go.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}if(e.McJ>0){go.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.McJ+gp))}else{go.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",L))}if(e.pAn>0&&e.McJ>0&&e.pAn!==e.McJ){go.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",L))}}return go.toString()};eF.$8=function(e){var L=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+L+"'></script>"};eF.$5=function(){var e=4;if(fk.$0()){e+=65}else if(tsConfig.toolbarvis){e+=32}if(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()){e+=26}return e};eF.$7=function(){return tsConfig.facebookRedirectURI||eF.$d};eF.$3=function(e,L,go,gp){var gq=L!==go;var gr=e;var gs=':'+gp+'='+(L?'yes':'no');var gt=new RegExp(':'+gp+'=[^&]+');if(!!gr.match(gt)){if(gq){gr=gr.replace(gt,gs)}else{gr=gr.replace(gt,'');gr=gr.replace(new RegExp('&&'),'&');gr=gr.replace(new RegExp('\\?&'),'?');gr=gr.replace(new RegExp('&$'),'');gr=gr.replace(new RegExp('\\?$'),'')}}else if(gq){if(!!gr.match(new RegExp('[?]'))){gr=gr+'&'+gs}else{gr=gr+'?'+gs}}return gr};eF.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=eF;var eG=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};eG.__typeName='tab.ShownEventArgs';eG.areShownArgsSame=function(e,L){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(L)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(L)||ss.isValue(e)&&ss.isNullOrUndefined(L)){return false}var go;go=e.origX===L.origX;go=go&&e.origY===L.origY;go=go&&e.shownX===L.shownX;go=go&&e.shownY===L.shownY;go=go&&e.position===L.position;go=go&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),L.viewport.get_dimensions());return go};global.tab.ShownEventArgs=eG;var eH=function(){this.shownYOfUbertipContent=0;eG.call(this)};eH.__typeName='tab.ShownTooltipEventArgs';eH.areShownArgsSame=function(e,L){return eG.areShownArgsSame(e,L)&&e.shownYOfUbertipContent===L.shownYOfUbertipContent};global.tab.ShownTooltipEventArgs=eH;var eI=function(e,L,go){this.$o=null;ss.makeGenericType(fQ,[fM]).call(this,e,L,'opaque');var gp=(ss.isValue(go.get_scene())?go.get_scene().colorModel:dk.defaultColors);this.renderer=new cd(this.canvasElt,this.context,gp);this.$o=go};eI.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=eI;var eJ=function(e){React.Component.call(this,e)};eJ.__typeName='tab.SimpleTextContentDialog';global.tab.SimpleTextContentDialog=eJ;var eK=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var L=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(L)){this.$6=ss.coalesce(L,0)}};eK.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=eK;var eL=function(){};eL.__typeName='tab.Social';eL.twitterPopup=function(e,L){var go=$('#twitter_creator');var gp=(ss.isValue(go)?go.attr('content'):null);if(!ss.isNullOrEmptyString(gp)){gp=' '+gp}L+=gp;var gq={};gq['url']=e;gq['via']='tableaupublic';gq['text']=L;gq['related']='tableau';var gr='https://twitter.com/share?'+$.param(gq);var gs=null;var gt='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(gr,gs,gt)};eL.facebookPopup=function(e,L,go,gp,gq,gr){var gs={};gs['app_id']=e;gs['link']=L;gs['picture']=go;gs['name']=gp;gs['description']=gq;if(!!gr&&gr.length>0){gs['redirect_uri']=gr}var gt='http://www.facebook.com/dialog/feed?'+$.param(gs);var gu=null;var gv='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var gw=window.open(gt,gu,gv);if(typeof(gw['focus'])==='function'){gw.focus()}};eL.mailTo=function(e,L){var go=ss.mkdict(['body',e]);if(!!L){go['subject']=L}var gp='mailto:?'+$.param(go);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&tab.BrowserSupport.get_isSafari()){window.location.href=gp}else{var gq=window.open(gp,'MailWindow');if(ss.isValue(gq)){window.setTimeout(function(){try{if(gq.location.href==='about:blank'){gq.close()}}catch(gr){}},999)}}};global.tab.Social=eL;var eM=function(e,L){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eO,eN,Object]).call(this,spiff.ObjectRegistry.newView(eO).call(null,[e.viewModel]),e,L)};eM.__typeName='tab.SubscribeComponent';global.tab.SubscribeComponent=eM;var eN=function(){this.viewModel=null};eN.__typeName='tab.SubscribeProps';global.tab.SubscribeProps=eN;var eO=function(e,L){this.$y=null;this.$t=null;this.$w=null;this.$r=null;this.$v=null;this.$x=null;this.$u=null;this.menuTheme=0;this.$s=null;ss.makeGenericType(spiff.BaseView$1,[eP]).call(this,e,new eQ);this.menuTheme=L;this.$y=e;this.$9();this.$y.add_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$y.add_subscribersChanged(ss.mkdel(this,this.$h));this.$y.add_addSubscribersPopupStateChanged(ss.mkdel(this,this.$q))};eO.__typeName='tab.SubscribeView';eO.get_sendOnlyWhenDataPresentCheckboxClass=function(){return'tab-sendOnlyWhenDataPresentCheckbox'};global.tab.SubscribeView=eO;var eP=function(){this.$9=[];this.$7=[];this.$6=null;this.$8=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=null;this.$2$9=null;spiff.BaseViewModel.call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$7=e.filter(function(L){return L.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}))}))}this.set_email(tsConfig.current_user_email);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$3)));if(tab.FeatureFlags.isEnabled('SubscribeOthers')){this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)))}};eP.__typeName='tab.SubscribeViewModel';global.tab.SubscribeViewModel=eP;var eQ=function(){this.subscribeViewArea=null;this.subscribeViewsToggleLabel=null;this.subscribeThisView=null;this.subscribeAllViews=null;this.subscribeSelfArea=null;this.subscribeScheduleDropdown=null;this.subscribeEmail=null;this.addSubscribersLabel=null;this.manageSubscribersLabel=null;this.subscribeSubject=null;this.subscribeButton=null;spiff.Template.call(this,$("\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"));this.subscribeViewArea=this.domRoot;this.subscribeViewsToggleLabel=this.getElementBySelector('.tab-subscribeViewsToggleLabel');this.subscribeThisView=this.getElementBySelector('.tab-subscribeThisView');this.subscribeAllViews=this.getElementBySelector('.tab-subscribeAllViews');this.subscribeScheduleDropdown=this.getElementBySelector('.tab-subscribeSchedule');this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea');this.subscribeEmail=this.getElementBySelector('.tab-subscribeEmail');this.addSubscribersLabel=this.getElementBySelector('.tab-addSubscribersLabel');this.manageSubscribersLabel=this.getElementBySelector('.tab-manageSubscribersLabel');this.subscribeSubject=this.getElementBySelector('.tab-subscribeSubject');this.subscribeButton=this.getElementBySelector('.tab-subscribeSubmit')};eQ.__typeName='tab.SubscribeViewTemplate';global.tab.SubscribeViewTemplate=eQ;var eR=function(e,L,go){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=L;this.tabIndex=go};eR.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=eR;var eS=function(e){this.$7=null;this.$c=null;this.$d=null;this.$m=null;this.$f=null;this.$k=0;this.$h=null;this.$l=null;this.$i=false;this.$8=null;this.$9=null;this.$a=null;this.$b=null;this.$j=false;this.$e=0;this.$g=0;this.dirtyRect=null;this.pixelRatio=0;this.$7=e;this.$c=new Array;this.$d=cz.instance();this.$m=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};eS.__typeName='tab.TabRenderContext2D';eS.$0=function(e){var L=e.split(' ');for(var go=0;go<L.length;go++){var gp=L[go];var gq=parseFloat(gp);if(isFinite(gq)){return gq}}return 8};global.tab.TabRenderContext2D=eS;var eT=function(e){this.textSelectable=false;this.textSelectable=e};eT.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=eT;var eU=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;spiff.Template.call(this,$(eU.$0(e)));var L=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=L('.tab-textRegion-boundary');this.contentElem=L('.tab-textRegion-content')};eU.__typeName='tab.TextRegionTemplate';eU.$0=function(e){var L='';if(e>0){L=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>",L)};global.tab.TextRegionTemplate=eU;var eV=function(e){eV.$ctor1.call(this,e,-1)};eV.__typeName='tab.TextRegionView';eV.$ctor1=function(e,L){ss.makeGenericType(spiff.BaseView$1,[eW]).call(this,e,new eU(L));this.$i().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)))};global.tab.TextRegionView=eV;var eW=function(e){this.$3=null;this.options=new eT(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};eW.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=eW;var eX=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};eX.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=eX;var eY=function(e){ss.makeGenericType(spiff.BaseView$1,[eZ]).call(this,e,new eX)};eY.__typeName='tab.TiledImageView';global.tab.TiledImageView=eY;var eZ=function(){spiff.BaseViewModel.call(this)};eZ.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=eZ;var fa=function(e,L,go,gp,gq,gr){this.$8=null;this.backgroundMap=new dv;this.disposables=new tab.DisposableHolder;this.$e=null;this.allowPanZoom=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.currentToolbarToolMode=null;this.lockedToolbarToolMode=null;this.regionContent=null;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.resetIsWaitingOnData=false;this.$a=null;this.$d=null;this.$c=null;this.$b=null;this.$9=null;this.$7=false;this.$6=false;this.$5=null;this.$f=null;this.$g=null;this.$1$1=null;this.$1$2=null;this.$a=e;this.connectNode=$(L);this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$8=this.connectNode.find('.tvimagesContainer');this.$e=go;this.allowPanZoom=gp;this.domPanZoomRect=new eg;this.$c=new eg;this.$d=gq;this.paneTableViewModel=gr;this.waitingOnPanZoomServerResponse='waitingOnServer';if(this.$a==='viz'){this.set_currentModifierKeyToolMode('no-tools');this.makeDomDrag()}this.lockedToolbarToolMode=this.paneTableViewModel.get_visualModel().get_defaultMapTool();this.paneTableViewModel.add_zoneGeometryChanged(ss.mkdel(this,this.$0));tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$0));this.disposables.add(ss.mkdel(this,function(){this.paneTableViewModel.remove_zoneGeometryChanged(ss.mkdel(this,this.$0));tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$0))}));if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$3))}this.$f=new fN};fa.__typeName='tab.TiledViewerRegion';fa.getCanvasElement=function(e){return e.find('canvas').get(0)};global.tab.TiledViewerRegion=fa;var fb=function(e,L,go,gp,gq){this.$8=null;this.$9=null;this.$b=null;this.$g=null;this.$d=null;this.$e=null;this.$k=0;this.$l=0;this.$i=null;this.$7=null;this.$j=0;this.$c=null;this.$n=null;this.$m=0;this.$f=0;this.$h=false;this.$a=false;this.$1$1=null;this.$c=gp;this.$8=e;this.$g=L;this.$n=go;this.$h=gq;this.$b={x:0,y:0,w:0,h:0,r:''};this.$i={w:0,h:0};this.$9=new ck;this.$9.add_imageLoaded(ss.mkdel(this,this.$3));this.$9.add_imageTimedOut(ss.mkdel(this,this.$4));this.$9.add_complete(ss.mkdel(this,this.$5));this.$e=[];this.$d=$('.tvimagesContainer',this.$8);this.$a=true};fb.__typeName='tab.TiledWindow';global.tab.TiledWindow=fb;var fc=function(e){var L=function(){this.viewModel=null};ss.registerGenericClassInstance(L,fc,[e],{},function(){return null},function(){return[]});return L};fc.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(fc,a,1);global.tab.ToolbarButtonProps$1=fc;var fd=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};fd.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=fd;var fe=function(e){this.$d=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[ff]).call(this,e,new fd);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.$c()};fe.__typeName='tab.ToolbarButtonView';fe.create=function(e){return new fe(e)};global.tab.ToolbarButtonView=fe;var ff=function(e,L,go){this.action=null;this.popupContent=null;this.dialogContent=null;this.$c=null;this.$d=null;this.$7=null;this.$8=null;this.$6=false;this.$a=false;this.$9=false;this.popupViewModel=null;this.$b=new spiff.UberPopupShowOptions.$ctor1(2,1,1,fk.get_toolbarIsBottom(),false,false,null,null,true,0,null,987,true);this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$c=e;this.$7=L;this.action=go;this.$6=!ss.staticEquals(go,null)};ff.__typeName='tab.ToolbarButtonViewModel';ff.shouldShowButton=function(e,L){if(ss.isNullOrUndefined(L)){return false}switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!fk.$0()&&(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()||tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb'))&&!tsConfig.is_mobile_app&&!L.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!L.get_forceHideCustomViewsButton()&&!L.get_useSmallScreenToolbar()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_supports_background_viz_load}case'download':{return!tsConfig.previewMode}case'alert':{return tsConfig.allow_data_alert&&tsConfig.workbook_supports_background_viz_load}default:{return true}}};ff.createSeparator=function(){var e=new ff('-',null,null);e.$a=true;return e};ff.createFromCommandItem=function(e,L,go){var gp=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var gq=new ff(gp.get_name(),L+gp.get_iconRes(),null);gq.$6=ss.isNullOrUndefined(gp.get_enabled())||gp.get_enabled();gq.$8=gp.get_iconRes();if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app&&tab.BrowserSupport.get_isIos()){gq.dialogContent=ff.$0(e,go)}else{gq.popupContent=ff.$1(e,go,gq)}var gr=tab.CommandSerializer.deserialize(gp.get_command());if(gq.$8==='edit'){gq.action=function(){tab.ToolbarServerCommands.launchEditing()}}else if(gq.$8==='alert'&&tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){gq.$6=true;gq.action=function(){bH.handleDataAlertClick(gp.get_enabled(),gp.get_description())};go.handleDataAlertUpdate()}else if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')&&ss.isValue(gr)&&ss.referenceEquals(gr.commandName,'toggle-mark-labels'.toString())){gq.action=function(){tab.PaneClientCommands.setShowMarkLabels(gp.get_iconRes()==='show-labels',null)}}else if(ss.isValue(gr)){gq.action=function(){gq.set_isActive(true);tab.ServerCommands.executeServerCommand(gr,'immediately',function(){gq.set_isActive(false)},function(){gq.set_isActive(false)})}}return gq};ff.$1=function(e,L,go){var gp=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var gq=function(){var gu=ss.getEnumerator(L.get_nonVizItems());try{while(gu.moveNext()){var gv=gu.current();if(!ss.referenceEquals(gv,go)){gv.$3()}}}finally{gu.dispose()}};go.add_flyoverShown(gq);go.disposables.add$1(new tab.CallOnDispose(function(){go.remove_flyoverShown(gq)}));switch(gp.get_iconRes()){case'download':{var gr=new cn(L);gr.add_downloadInitiated(ss.mkdel(go,go.$3));go.disposables.add$1(new tab.CallOnDispose(function(){gr.remove_downloadInitiated(ss.mkdel(go,go.$3))}));return gr}case'share':{return new eF}case'customviews':{var gs=L.get_customViewsViewModel();gs.hideView=ss.delegateCombine(gs.hideView,ss.mkdel(go,go.$3));go.disposables.add$1(new tab.CallOnDispose(function(){var gu=L.get_customViewsViewModel();gu.hideView=ss.delegateRemove(gu.hideView,ss.mkdel(go,go.$3))}));return L.get_customViewsViewModel()}case'subscribe':{var gt=new eP;gt.add_subscribeSuccess(ss.mkdel(go,go.$3));go.disposables.add$1(new tab.CallOnDispose(function(){gt.remove_subscribeSuccess(ss.mkdel(go,go.$3))}));return gt}default:{return null}}};ff.$0=function(e,L){var go=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');switch(go.get_iconRes()){case'download':{return new cn(L)}case'share':{return new eF}case'customviews':{return L.get_customViewsViewModel()}case'subscribe':{return new eP}default:{return null}}};global.tab.ToolbarButtonViewModel=ff;var fg=function(e,L,go){this.$e=null;ff.call(this,e,L,null);tab.Param.verifyValue(go,'menuBuilder');this.$e=go;this.set_enabled(this.createMenu().menuItems.some(function(gp){return gp.enabled}))};fg.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=fg;var fh=function(){this.toolbar=null;this.vizItems=null;this.publicItems=null;this.publicLogo=null;this.publicBelowLogo=null;this.nonVizItems=null;spiff.Template.call(this,$("\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"));this.toolbar=this.domRoot;this.vizItems=this.getElementBySelector('.tab-vizItems');this.publicItems=this.getElementBySelector('.tab-publicItems');this.publicLogo=this.getElementBySelector('.tab-publicLogoLink');this.publicBelowLogo=this.getElementBySelector('.tab-belowPublicLogo');this.nonVizItems=this.getElementBySelector('.tab-nonVizItems')};fh.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=fh;var fi=function(e,L,go,gp){this.$e=null;ff.call(this,e,L,go);this.$e=gp};fi.__typeName='tab.ToolbarToggleButtonViewModel';fi.createFromCommandItems=function(e,L,go){var gp;var gq;var gr=tab.CommandItemWrapper.create(e);var gs=tab.CommandItemWrapper.create(L);if(!ss.isValue(gr.get_enabled())||gr.get_enabled()){gp=gr;gq=gs}else if(!ss.isValue(gs.get_enabled())||gs.get_enabled()){gp=gs;gq=gr}else{return null}var gt=ff.createFromCommandItem(gp.get_item(),go);var gu=new fi(gt.get_text(),gt.get_iconClass(),gt.get_buttonAction(),gq.get_name());gu.disposables.add$1(gt);gu.set_enabled(ss.isValue(gq)&&!gq.get_enabled());if(gu.get_enabled()){return gu}return null};global.tab.ToolbarToggleButtonViewModel=fi;var fj=function(e){this.$B=null;this.$E=0;this.$D=0;this.$C=0;this.$z=0;this.$y=0;this.$x=0;this.$A=0;this.$w=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;ss.makeGenericType(spiff.BaseView$1,[fk]).call(this,e,new fh);this.$B=e;this.$B.add_newToolbar(ss.mkdel(this,this.$i));this.$B.add_viewCountLoaded(ss.mkdel(this,this.$g));ev.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$f));tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.$B.remove_newToolbar(ss.mkdel(this,this.$i));this.$B.remove_viewCountLoaded(ss.mkdel(this,this.$g));ev.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$f));tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$e))}));this.get_dom().toolbar.css('line-height',fk.get_toolbarHeight()+'px');if(tsConfig.allow_custom_views){var L=ss.mkdel(this,function(){this.updateCustomViewsButton();this.$h()});this.$o().add_dirtyChanged(L);this.$o().add_customViewListChanged(L);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$o().remove_dirtyChanged(L);this.$o().remove_customViewListChanged(L)})))}var go=_.throttle(ss.mkdel(this,this.$f),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(gp){go()}));if(fk.get_toolbarIsBottom()){this.element.css('top','auto')}};fj.__typeName='tab.ToolbarView';fj.$3=function(e){if(ss.isValue(e)){e.element.show()}};fj.$0=function(e){e.children('.tabToolbarButton').each(function(L,go){var gp=$(go);gp.css('width',tab.DoubleUtil.roundToInt(gp.outerWidth(false))+1)})};fj.$2=function(e){e.children('.tabToolbarButton').css('width','')};fj.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(L,go){var gp=$(go);var gq=gp.find('.tabToolbarButtonText').text();gp.attr('title',gq)})};fj.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(L,go){go.removeAttribute('title')})};global.tab.ToolbarView=fj;var fk=function(e){this.$c=null;this.$e=[];this.$b=[];this.$9=new bA;this.dataAlertDialogViewModel=null;this.$a=false;this.$d=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;this.$2$5=null;spiff.BaseViewModel.call(this);this.$c=e;if(!tsConfig.allow_custom_view_save){this.$a=true;this.$9.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}this.set_dialogHostViewModel(new cb);if(ss.isValue(this.$c.get_vizCommandItems())){this.$6(null)}var L=ss.mkdel(this,function(){this.$6(null)});this.$c.add_newToolbar(L);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newToolbar(L);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6))})))};fk.__typeName='tab.ToolbarViewModel';fk.get_toolbarHeight=function(){return tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight()};fk.$0=function(){return tsConfig.isPublic};fk.get_toolbarIsBottom=function(){return(fk.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=fk;var fl=function(e){this.tupleId=null;this.interactedTupleId=null;this.$i=null;this.$m=[];this.$k=false;this.$o=null;this.$n=false;this.$s=16;this.$j=16;this.$l=null;this.$r=null;this.$q=false;this.$p=false;this.$h=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||fl.$0()).domRoot);this.$i=e||fl.$0();this.$n=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$r=null}))}};fl.__typeName='tab.Tooltip';fl.$0=function(){return fl.$4||(fl.$4=new fs)};global.tab.Tooltip=fl;var fm=function(e,L){fn.call(this,'sticky',e,L);var go=this.get_currentBehavior();go.attach()};fm.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=fm;var fn=function(e,L,go){this.disposables=new tab.DisposableHolder;this.$k=null;this.$l=null;this.$g=null;this.tooltipBehaviors=null;this.$e=null;this.$f=null;this.visualId=null;this.readyForHover=true;this.$h=0;this.$i=false;this.$j=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$e=L;this.visualId=go;this.$k=new fl;this.$k.add_closed(ss.mkdel(this,this.$5));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.$k.get_body().on('mouseleave.basemode',ss.mkdel(this,this.$7));this.$l=new fw(this.$k,this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions());this.$l.add_actionExecuted(ss.mkdel(this,this.$8));this.$l.add_commandExecuted(ss.mkdel(this,this.$9));this.$l.add_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$l.add_ubertipMenuClosed(ss.mkdel(this,this.$a));this.$g=e;this.$f=e;this.tooltipBehaviors={};this.buildBehaviorsDictionary();var gp=tab.ActionUtils.getApplicableActions(this.visualId.AVP,'on-hover',null);var gq=tab.ActionUtils.getApplicableActions(this.visualId.AVP,'explicitly',null);this.$h=gp.length+gq.length;if(tsConfig.is_mobile){fR.add_mobileVizReduceTransform(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fR.remove_mobileVizReduceTransform(ss.mkdel(this,this.$6))})))}};fn.__typeName='tab.TooltipBaseMode';fn.isUbertipHtmlEmpty=function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$1(e.tooltipHtml)};global.tab.TooltipBaseMode=fn;var fo=function(){};fo.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=fo;var fp=function(e){this.$0=null;this.$0=e};fp.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=fp;var fq=function(e,L){fn.call(this,'disabled',e,L)};fq.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=fq;var fr=function(e,L,go){this.$v=null;this.$w=null;this.$u=null;this.$t=false;fn.call(this,'smooth',e,L);var gp=this.get_currentBehavior();gp.attach();gp.add_onMouseStop(ss.mkdel(this,this.$r));this.$u=go;this.$v=fr.$0();this.$w=fr.$1();this.$m();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_closed(ss.mkdel(this,this.$s))};fr.__typeName='tab.TooltipResponsiveMode';fr.$0=function(){fr.$2++;return'mousemove.TooltipResponsiveMode'+fr.$2};fr.$1=function(){fr.$2++;return'mouseout.TooltipResponsiveMode'+fr.$2};global.tab.TooltipResponsiveMode=fr;var fs=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};fs.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=fs;var ft=function(){};ft.__typeName='tab.TooltipTrigger';global.tab.TooltipTrigger=ft;var fu=function(e){var L=function(go,gp){React.Component.call(this,go,gp)};L.$0=function(go,gp){return $.extend(false,{},go,{rootNode:gp,key:gp.get_key()})};ss.registerGenericClassInstance(L,fu,[e],{render:function(){var go=this.props.rootNode;var gp=ss.isValue(go.get_children())&&ss.getEnumerator(go.get_children()).moveNext();var gq=null;if(gp){gq=this.$2(go.get_item(),go.get_expanded())}var gr=this.$0(this.props.rootNode.get_item());var gs=null;if(gp&&go.get_expanded()){var gt=[];var gu=ss.getEnumerator(go.get_children());try{while(gu.moveNext()){var gv=gu.current();gt.push(this.$1(L.$0(this.props,gv)))}}finally{gu.dispose()}gs=React.DOM.div({className:'tab-child-tree-component'},gt)}return React.DOM.div({className:'tab-tree-component'},React.DOM.div({className:'tab-tree-component-node'},React.DOM.div({className:'tab-tree-component-toggle'},gq),React.DOM.div({className:'tab-tree-component-node-content'},gr)),gs)},$2:function(go,gp){return(!ss.staticEquals(this.props.renderToggle,null)?this.props.renderToggle(go,gp):null)},$0:function(go){return this.props.renderSingleNode(go)},$1:function(go){return React.createElement(L,go)}},function(){return React.Component},function(){return[]});return L};fu.__typeName='tab.TreeComponent$1';ss.initGenericClass(fu,a,1);global.tab.TreeComponent$1=fu;var fv=function(){};fv.__typeName='tab.TreeComponentHelper';fv.create=function(e){return function(L){return React.createElement(ss.makeGenericType(fu,[e]),L)}};global.tab.TreeComponentHelper=fv;var fw=function(e,L,go){this.$1b=null;this.$12=new tab.DisposableHolder;this.$17=null;this.$18=null;this.$13=false;this.$X=false;this.$16=false;this.$V=null;this.$19=-1;this.$Y=null;this.$11=null;this.$Z=null;this.$W=null;this.$10=null;this.$14={};this.$1a=[];this.vizInTooltipsImageDownloadQueue=null;this.$15={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$11=this.element.find('.tab-ubertipContent');this.$Z=this.element.find('.tab-ubertipCommandArea');this.$W=this.element.find('.tab-ubertipActions');this.$10=this.element.find('.tab-ubertipCommands');this.$1b=e;this.$1b.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1b.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$X=go;this.$13=L;this.vizInTooltipsImageDownloadQueue=new ck;this.vizInTooltipsImageDownloadQueue.add_imageLoaded(ss.mkdel(this,this.$x));this.vizInTooltipsImageDownloadQueue.add_complete(ss.mkdel(this,this.$y))};fw.__typeName='tab.Ubertip';fw.$1=function(e){var L;if(ss.isNullOrEmptyString(e.imageRes)){L='Command'+e.commandType}else if(ss.endsWithString(e.imageRes.toString(),'png')){L=tab.TabResources.getResourceName(e.imageRes)}else{L=tab.TabResources.lookupFullResourceAlias(e.imageRes)}return L};fw.$0=function(e){var L=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var go=fw.$1(e);L.set_label(tab.Strings.getString(ss.formatString('Ubertip{0}Mobile',go)))}else{L.set_label(e.name);L.set_hoverTooltipText(e.description)}L.set_disabled(true);var gp=new ss.StringBuilder('tab-command');gp.append(fw.$1(e));L.element.addClass(gp.toString());L.element.css('visibility','hidden');return L};global.tab.Ubertip=fw;var fx=function(){};fx.__typeName='tab.URIUtil';fx.absolutizeURI=function(e,L){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var go=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var gp=e.match(go);if(ss.isValue(gp)&&gp[1]!=='http'&&gp[1]!=='https'){if(L){return''}return e}var gq='//';var gr=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var gs=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(gr.test(e)){gq='https://'}else if(gs.test(e)){gq='http://'}var gt=new RegExp('^(https?:)?/?/?');e=e.replace(gt,gq);return e};global.tab.URIUtil=fx;var fy=function(){this.$6=null;this.$5=false;this.$4=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$6=null;this.$5=false;this.$4=0;this.set_props({items:[],fetchNextPage:ss.mkdel(this,this.$3),activeUser:null,startingY:null,userListViewModel:this})};fy.__typeName='tab.UserListViewModel';global.tab.UserListViewModel=fy;var fz=function(e,L){this.$g=null;this.$b=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=e;var go=e.$1;var gp=e.$2;var gq=e.$5*e.$0;this.$d=new Array(gq+1);this.$h=new Array(gq);this.$c=(go?new Array(gq):null);this.$f=(gp?new Array(gq):null);this.$e=new Array(L.markCount);this.$b=this.$2(L)};fz.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=fz;var fA=function(e){React.Component.call(this,e)};fA.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=fA;var fB=function(e){React.Component.call(this,e)};fB.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=fB;var fC=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userPillsViewModel:this,userValidator:function(L){return L.hasEmail},userInvalidText:tab.Strings.UserHasNoEmailAddressWarning})};fC.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=fC;var fD=function(e){React.Component.call(this,e);this.props.userSearchViewModel.add_userSelected(ss.mkdel(this,this.$0))};fD.__typeName='tab.UserSearchComponent';global.tab.UserSearchComponent=fD;var fE=function(e,L){React.Component.call(this,e,L)};fE.__typeName='tab.UserSearchSelectorComponent';global.tab.UserSearchSelectorComponent=fE;var fF=function(){this.userSearchProps=null;this.userPillsProps=null};fF.__typeName='tab.UserSearchSelectorProps';global.tab.UserSearchSelectorProps=fF;var fG=function(e){fG.$ctor1.call(this,e,null)};fG.__typeName='tab.UserSearchSelectorViewModel';fG.$ctor1=function(e,L){this.$3$1=null;this.$3$2=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[fF]).call(this);this.set_userSearchViewModel(new fH.$ctor1(L));this.set_userPillsViewModel(new fC(e));var go=new fF;go.userSearchProps=this.get_userSearchViewModel().get_props();go.userPillsProps=this.get_userPillsViewModel().get_props();this.set_props(go);this.get_userSearchViewModel().add_propsUpdated(ss.mkdel(this,this.$4));this.get_userSearchViewModel().add_userSelected(ss.mkdel(this,this.onUserSelected));this.get_userPillsViewModel().add_propsUpdated(ss.mkdel(this,this.$4));this.disposables.add$1(this.get_userSearchViewModel());this.disposables.add$1(this.get_userPillsViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchViewModel().remove_propsUpdated(ss.mkdel(this,this.$4));this.get_userSearchViewModel().remove_userSelected(ss.mkdel(this,this.onUserSelected));this.get_userPillsViewModel().remove_propsUpdated(ss.mkdel(this,this.$4))})))};global.tab.UserSearchSelectorViewModel=fG;var fH=function(){fH.$ctor1.call(this,null)};fH.__typeName='tab.UserSearchViewModel';fH.$ctor1=function(e){this.placeholderMessage=tab.Strings.SubscribeOthersSearchPlaceholder;this.$6=null;this.$7=null;this.$5=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this);if(!tab.MiscUtil.isNullOrEmpty$1(e)){this.placeholderMessage=e}this.set_userListViewModel(new fy);this.set_props({userSearchViewModel:this});this.$5=0;this.$6=new tab.Debouncer(ss.mkdel(this,function(){this.get_userListViewModel().set_searchTerm(this.$7)}),200);this.get_userListViewModel().add_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().add_userSelected(ss.mkdel(this,this.$4));this.disposables.add$1(this.get_userListViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userListViewModel().remove_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().remove_userSelected(ss.mkdel(this,this.$4))})))};global.tab.UserSearchViewModel=fH;var fI=function(){this.$1=null;this.$2=null;spiff.Template.call(this,$("\n<div class='tabDataConnPromptVarList'>\n    <div class='tabDataConnPromptAddVarCtrl'>\n        <div class='tabDataConnPromptAddVarCtrlBtnArea'/>\n        <div class='tabDataConnPromptAddVarCtrlVarSelector'/>\n    </div>\n</div>"));this.$1=this.getElementBySelector('.tabDataConnPromptAddVarCtrlBtnArea');this.$2=this.getElementBySelector('.tabDataConnPromptAddVarCtrlVarSelector')};fI.__typeName='tab.VariableListViewTemplate';global.tab.VariableListViewTemplate=fI;var fJ=function(){dr.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};fJ.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=fJ;var fK=function(e,L){this.sheetName='';this.viewSession=null;this.active=false;this.imageCacheVersion=0;this.viewModified=false;this.viewWidget=null;this.$4=new tab.DisposableHolder;this.$1$2=null;this.sheetName=e;this.viewSession=L;this.$2()};fK.__typeName='tab.ViewController';fK.add_selectionChanged=function(e){fK.$1$1=ss.delegateCombine(fK.$1$1,e)};fK.remove_selectionChanged=function(e){fK.$1$1=ss.delegateRemove(fK.$1$1,e)};global.tab.ViewController=fK;var fL=function(e){this.$j=null;this.$k=null;this.$j=e};fL.__typeName='tab.ViewingToolbarCommands';global.tab.ViewingToolbarCommands=fL;var fM=function(e,L,go,gp,gq){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=e;this.$a=L;this.$8=go;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(gp)){this.$9=gp.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(gq)){this.$3=gq.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(gp)||ss.isValue(gq)){this.$2()}var gr=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});ev.get_instance().add_fontPreparationComplete(gr);this.disposables.add$1(new tab.CallOnDispose(function(){ev.get_instance().remove_fontPreparationComplete(gr)}))};fM.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=fM;var fN=function(){this.$6=null;this.$5=null};fN.__typeName='tab.VisualObjectBoundsComputerAndHitTester';global.tab.VisualObjectBoundsComputerAndHitTester=fN;var fO=function(){};fO.__typeName='tab.VisualPartsHitTest';fO.hitTestRefLines=function(e,L,go){var gp=new cO.$ctor1(0,0,0);var gq=[];for(var gr=0;gr<e.length;gr++){var gs=e[gr];var gt=fO.hitTestRefLine(gs.tOA,L,go);if(gt.get_hitType()!==0){if(go){gp=cO.tieBreak(gt,gp)}else{gq.push(gt)}}}if(go){if(gp.get_hitType()===0){return[]}return[gp]}return gq};fO.hitTestRefLine=function(e,L,go){var gp=new cO.$ctor1(0,0,0);var gq=fO.$0(e,'refpart-text');gp=fO.$1(gq,4,L,go,gp);if(gp.get_hitType()===3){return gp}var gr=fO.$0(e,'refpart-geom');gp=fO.$1(gr,3,L,go,gp);return gp};fO.hitTestTrendLines=function(e,L,go){var gp=new cO.$ctor1(0,0,0);var gq=[];for(var gr=e.length-1;gr>=0;gr--){var gs=fO.$3(e[gr],L,go);if(gs.get_hitType()===3){if(go){return[gs]}else{gq.push(gs)}}if(go&&gs.get_hitType()===2&&gp.get_hitType()===0){gp=gs}}if(go){if(gp.get_hitType()===0){return[]}return[gp]}return gq};fO.$1=function(e,L,go,gp,gq){for(var gr=e.length-1;gr>=0;gr--){var gs=e[gr];var gt=fO.$2(gs.tOA,L,go,gp,gs.YLs);if(gt.get_hitType()===3){return gt}if(gt.get_hitType()===2&&gq.get_hitType()===0){gq=gt}}return gq};fO.$2=function(e,L,go,gp,gq){var gr=tab.RectXYUtil.dialate(go,fO.visualPartNearHitTestExpansionPixels);var gs=1;var gt=new cO.$ctor1(gq,L,0);for(var gu=0;gu<e.length;gu++){var gv=e[gu];switch(gv.VzB){case'Osj':{var gw=gv;if(ss.isValue(gw.Cwi)){gs=gw.Cwi}break}case'uEs':case'jpw':{var gx=gv;var gy=ss.isValue(gx.GN_)&&!gx.GN_;var gz={x:gx.WzG[0],y:gx.WzG[1]};var gA={x:gx.WzG[2],y:gx.WzG[3]};var gB=tab.RectXYUtil.rectXYFromCorners(gz,gA);if(gv.VzB==='uEs'){if(gs<3){gB=tab.RectXYUtil.dialate(gB,1)}}var gC=gp&&tab.RectXYUtil.intersectsWith(gr,gB);var gD=(!gp||gC)&&tab.RectXYUtil.intersectsWith(go,gB);if(gD){gt=new cO.$ctor1(gq,L,3);if(gy){gt.doNotRenderOverlay()}return gt}if(gC){gt=new cO.$ctor1(gq,L,2);if(gy){gt.doNotRenderOverlay()}}break}default:{break}}}return gt};fO.$3=function(e,L,go){var gp=new cO.$ctor1(0,0,0);if(go){var gq=tab.RectXYUtil.dialate(L,fO.visualPartNearHitTestExpansionPixels);var gr=fO.$4(e,gq);if(ss.isValue(gr)){gp=new cO.$ctor1(ss.unbox(gr),2,2)}}if(gp.get_hitType()===2||!go){var gs=fO.$4(e,L);if(ss.isValue(gs)){gp=new cO.$ctor1(ss.unbox(gs),2,3)}}return gp};fO.$4=function(e,L){var go=new Array;go.push(e);while(go.length>0){var gp=go.pop();var gq=tab.RectXYUtil.intersectsWith(gp.get_boundingBox(),L);if(gq){if(gp.get_nodeType()===4||gp.get_nodeType()===0){var gr=gp.get_children();gr.forEach(function(gs){go.push(gs)})}else if(gp.get_nodeType()===5){return gp.get_objectId()}}}return null};fO.$0=function(e,L){var go=[];for(var gp=0;gp<e.length;gp++){var gq=e[gp];if(gq.VzB==='$OC'&&L==='refpart-clip-rect'){go.push(gq)}else if(gq.VzB==='rOX'){var gr=gq;var gs=_.find(gr.tOA,function(gt){return gt.VzB==='ADd'});if(L==='refpart-text'&&ss.isValue(gs)){go.push(gq)}else if(L==='refpart-geom'&&ss.isNullOrUndefined(gs)){go.push(gq)}}}return go};global.tab.VisualPartsHitTest=fO;var fP=function(){};fP.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=fP;var fQ=function(e){var L=function(go,gp,gq){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(bj,[e]).call(this,go,gq);this.$n=gp;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))};ss.registerGenericClassInstance(L,fQ,[e],{add_loadComplete:function(go){this.$4$1=ss.delegateCombine(this.$4$1,go)},remove_loadComplete:function(go){this.$4$1=ss.delegateRemove(this.$4$1,go)},get_docSize:function(){return this.completeDocSize},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(bj,[e]).prototype.dispose.call(this)},refreshImages:function(go){},reset:function(go,gp){if(ss.isNullOrUndefined(go)){return}var gq={w:go.w,h:go.h};var gr=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(gq,this.completeDocSize);this.completeDocSize=gq;this.containers.width(go.w);this.containers.height(go.h);if(gr){this.$m()}},copyContent:function(go){go.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());bi.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(go,gp){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var go=this.get_pixelRatio();var gp=this.get_dirtyRect();var gq=gp.x*go;var gr=gp.y*go;var gs=(gp.x+gp.w)*go;var gt=(gp.y+gp.h)*go;var gu=Math.floor(gq);var gv=Math.floor(gr);return{x:gu,y:gv,w:Math.ceil(gs)-gu,h:Math.ceil(gt)-gv}},$l:function(){this.$m()},$m:function(){var go=this.get_effectiveViewSize();var gp={x:Math.min(this.completeDocSize.w-go.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-go.h,this.scrollOffset.y)};gp.x=Math.max(0,gp.x);gp.y=Math.max(0,gp.y);this.set_scrollPos(gp)}},function(){return ss.makeGenericType(bj,[e])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e]),spiff.IScrollable,dl]});return L};fQ.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(fQ,a,1);global.tab.VisualRegionCanvasView$1=fQ;var fR=function(){};fR.__typeName='tab.VizEvent';fR.add_mobileVizExpandTransform=function(e){fR.$1$1=ss.delegateCombine(fR.$1$1,e)};fR.remove_mobileVizExpandTransform=function(e){fR.$1$1=ss.delegateRemove(fR.$1$1,e)};fR.add_mobileVizReduceTransform=function(e){fR.$1$2=ss.delegateCombine(fR.$1$2,e)};fR.remove_mobileVizReduceTransform=function(e){fR.$1$2=ss.delegateRemove(fR.$1$2,e)};fR.notifyMobileVizExpandTransform=function(){if(ss.isValue(fR.$1$1)){fR.$1$1()}};fR.notifyMobileVizReduceTransform=function(){if(ss.isValue(fR.$1$2)){fR.$1$2()}};global.tab.VizEvent=fR;var fS=function(e,L,go,gp,gq,gr,gs){this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.set_instanceId(++fS.$0);this.set_region(e);this.set_paneId(L);this.set_paneColumnIndex(go);this.set_paneRowIndex(gp);this.set_regionCoordinates(gq);this.set_pageCoordinates(gr);this.set_result(gs)};fS.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=fS;var fT=function(e,L){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(e,'paneTable');tab.Param.verifyValue(L,'region');this.paneTable=e;this.region=L;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var go=this.region.toLocalCoordsEvent(this.lastEvent,false);var gp=tab.PointUtil.add(go,this.region.getLocalOffsetPoint(false));this.hitTest(go,gp)}),250)};fT.__typeName='tab.VizHitTester';global.tab.VizHitTester=fT;var fU=function(){this.content=null;spiff.Template.call(this,$("<div class='tabVizOverlay' style='position: absolute;'><div class='tabVizOverlayContent'/></div>"));this.content=this.getElementBySelector('.tabVizOverlayContent')};fU.__typeName='tab.VizOverlayTemplate';global.tab.VizOverlayTemplate=fU;var fV=function(e){this.overlayViewModel=null;this.tabViewer=null;this.tabbedNavigationHeight=0;this.contentView=null;this.visible=false;ss.makeGenericType(spiff.BaseView$1,[fW]).call(this,e,new fU);this.overlayViewModel=e;this.overlayViewModel.add_shown(ss.mkdel(this,this.onShown));this.overlayViewModel.add_hidden(ss.mkdel(this,this.onHidden));this.tabViewer=T.get_instance().get_client().get_domNode();this.tabbedNavigationHeight=0;if(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()){this.tabbedNavigationHeight=T.get_instance().get_tabHeight()}};fV.__typeName='tab.VizOverlayView';global.tab.VizOverlayView=fV;var fW=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.set_content(e);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(e,e.disposeViewModel)));spiff.ObjectRegistry.newView(fV).call(null,[this])};fW.__typeName='tab.VizOverlayViewModel';global.tab.VizOverlayViewModel=fW;var fX=function(e,L){React.Component.call(this,e,L)};fX.__typeName='tab.VizStateImageComponent';global.tab.VizStateImageComponent=fX;var fY=function(){};fY.__typeName='tab.VizStateImageComponentProps';fY.createInstance=function(){return fY.$ctor()};fY.$ctor=function(){var e={};e.vizState=null;return e};global.tab.VizStateImageComponentProps=fY;var fZ=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);var L=fY.$ctor();L.vizState=e;this.set_props(L)};fZ.__typeName='tab.VizStateViewModel';global.tab.VizStateViewModel=fZ;var ga=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};ga.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=ga;var gb=function(e,L){this.$j=null;this.$i=null;this.$g=null;this.$h=null;ss.makeGenericType(spiff.BaseView$1,[gc]).call(this,e,new ga);this.$j=e;this.$i=L;this.$j.add_newWebZone(ss.mkdel(this,this.$b));this.$i.add_propertyChanged(ss.mkdel(this,this.$d));this.$i.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_newWebZone(ss.mkdel(this,this.$b));this.$i.remove_propertyChanged(ss.mkdel(this,this.$d));this.$i.remove_resizeZone(ss.mkdel(this,this.$c))})))};gb.__typeName='tab.WebZoneView';global.tab.WebZoneView=gb;var gc=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};gc.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=gc;var gd=function(){};gd.__typeName='tab.WidgetUtil';gd.newMenuItemsFromCommands=function(e,L,go,gp){if(ss.isNullOrUndefined(L)){return}var gq=tab.CommandsPresModelWrapper.create(L);if(!ss.isValue(gq.get_commandItems())){return}var gr=ss.coalesce(gq.get_defaultItem(),-1);var gs=-1;var gt=true;var gu=gq.get_commandItems();for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];gs++;var gx=null;var gy=tab.CommandItemWrapper.create(gw);if(!gd.$0(gy,gp)){continue}var gz=gs===gr||gy.get_isDefault();switch(gy.get_commandsType()){case'item':{gx=spiff.MenuItem.newItem(go(gw),gy.get_name());gx.description=gy.get_description();gx.enabled=ss.isNullOrUndefined(gy.get_enabled())||gy.get_enabled();break}case'separator':{if(!gt){gx=spiff.MenuItem.newDivider()}break}case'subcommands':{var gA=[];gd.newMenuItemsFromCommands(gA,gy.get_commands(),go,gp);if(gA.length>0){gx=spiff.MenuItem.newItem(null,gy.get_name(),0,new spiff.Menu(gA))}break}}if(ss.isValue(gx)){gx.enabled=gy.get_enabled();gx.isDefault=gz&&gx.enabled;if(gy.get_isRadioOn()){gx.checkState=2}else if(gy.get_isChecked()){gx.checkState=1}e.push(gx);gt=gx.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};gd.$0=function(e,L){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(L)){var go={};go.command=tab.CommandSerializer.deserialize(e.get_command());tab.UbertipSerializer.setCommandType(go);return L.test(go)}return true};gd.createDropdownMenuCommands=function(e){var L=tab.CommandItemWrapper.create(e);var go=tab.CommandSerializer.deserialize(L.get_command());var gp;gp=function(){if(tab.WebCommandRegistry.hasCommand(go.commandName)){var gq=tab.WebCommandRegistry.createCommand(go.commandName);gq.invoke()}else{tab.ServerCommands.executeServerCommand(go,'immediately',tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}};return gp};gd.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var L=e.data;tab.ServerCommands.executeServerCommand(L,'immediately')}};gd.menuViewModelFromCommands=function(e,L,go){tab.Param.verifyValue(e,'commands');var gp=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty(gp.get_commandItems())){if(ss.isValue(go)){go()}return null}var gq=[];gd.newMenuItemsFromCommands(gq,e,gd.createDropdownMenuCommands);var gr=new spiff.Menu(gq);var gs=spiff.MenuViewModel.createForMenu(gr,L);if(ss.isValue(go)){gs.add_hidden(go)}return gs};global.tab.WidgetUtil=gd;var ge=function(){this.dashboardContainer=null;spiff.Template.call(this,$("<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"));this.dashboardContainer=this.getElementBySelector(gf.dashboardContainerSelector)};ge.__typeName='tab.WorkbookTemplate';global.tab.WorkbookTemplate=ge;var gf=function(e){this.$f=null;this.$e=null;this.$d=null;ss.makeGenericType(spiff.BaseView$1,[gg]).call(this,e,new ge);this.$f=e;tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$c));this.$f.add_newDashboard(ss.mkdel(this,this.$9));this.$f.add_newDataConnectionPrompt(ss.mkdel(this,this.$a));if(this.$f.get_hasPrompt()){this.$a()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$c));this.$f.remove_newDashboard(ss.mkdel(this,this.$9));this.$f.remove_newDataConnectionPrompt(ss.mkdel(this,this.$a))})))};gf.__typeName='tab.WorkbookView';gf.findDashboardContainer=function(){return $(gf.dashboardContainerSelector)};global.tab.WorkbookView=gf;var gg=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addNewDashboardHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};gg.__typeName='tab.WorkbookViewModel';global.tab.WorkbookViewModel=gg;var gh=function(e,L){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=e;this.$0=L};gh.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=gh;var gi=function(e){this.$0=0;ss.EventArgs.call(this);this.$0=e};gi.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=gi;var gj=function(){spiff.Template.call(this,$((tab.FeatureFlags.isEnabled('NewDashboardSpacing')?"<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>":"<div class='tab-zone no-spacing'></div>")))};gj.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=gj;var gk=function(e){this.$r=null;this.$p=null;this.$q=0;this.$o='';ss.makeGenericType(spiff.BaseView$1,[gl]).call(this,e,new gj);this.$n().add_updateZone(ss.mkdel(this,this.$e));this.$n().add_resizeZone(ss.mkdel(this,this.$d));this.$n().add_newZoneContent(ss.mkdel(this,this.$c));this.$n().add_validStateChanged(ss.mkdel(this,this.$h));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$f),ss.mkdel(this,this.$g)))}this.$q=0};gk.__typeName='tab.ZoneView';gk.add_zoneBecameValid=function(e){gk.$3$1=ss.delegateCombine(gk.$3$1,e)};gk.remove_zoneBecameValid=function(e){gk.$3$1=ss.delegateRemove(gk.$3$1,e)};gk.$0=function(e){return'tabZoneId'+e};gk.getZoneElement=function(e){return $('#'+gk.$0(e)).get(0)};global.tab.ZoneView=gk;var gl=function(e){this.$j=null;this.zoneContentViewModel=null;this.$i=null;this.$h=false;this.$f=false;this.$g=false;this.$e=false;this.$d=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$h=true;this.$j=e;this.$j.add_updateZone(ss.mkdel(this,this.$7));this.$j.add_resizeZone(ss.mkdel(this,this.$5));this.$j.add_newZoneContent(ss.mkdel(this,this.$3));this.$j.add_removeZoneContent(ss.mkdel(this,this.$4));this.$j.add_changeZoneTitleVisibility(ss.mkdel(this,this.$6));this.$a();this.$b();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};gl.__typeName='tab.ZoneViewModel';gl.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};gl.$0=function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e};global.tab.ZoneViewModel=gl;var gm=function(){};gm.__typeName='tab.ZoomComputer';gm.resolveDesiredZoom=function(e,L){var go=ss.coalesce(e.nUd,1);var gp=Math.floor(L*go)/go;gp+=Math.log(ss.coalesce(e.ub_,1))/Math.LN2;var gq=Math.ceil(L*go)/go;gq+=Math.log(ss.coalesce(e.DIs,1))/Math.LN2;return((L+0.05<gq)?Math.min(gp,L):Math.max(gq,L))};gm.resolveDesiredScale=function(e,L){var go=Math.log(L)/Math.LN2;var gp=gm.resolveDesiredZoom(e,e.Vot+go);var gq=gp-e.Vot;var gr=Math.pow(2,gq);return gr};gm.incrementZoom=function(e,L){var go=e+L;return go};gm.combineTileZoomAndStretch=function(e,L){return e+Math.log(L)/Math.LN2};global.tab.ZoomComputer=gm;var gn=function(){};gn.__typeName='tableau.ApiCommandExecutor';gn.execute=function(e,L,go){var gp=tab._ApiCommand.generateNextCommandId();var gq=new tab._ApiCommand(e,gp,L,go);T.get_instance().get_apiEventHandler().routeCommand(gq);return gp};gn.installResponderOverride=function(e){var L=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(L)){L.set_responseAction(e)}else{}};global.tableau.ApiCommandExecutor=gn;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(F,a,{$s:function(){return this.$2$1},$t:function(e){this.$2$1=e},$o:function(){return this.$2$2},$p:function(e){this.$2$2=e},$q:function(){return this.$2$3},$r:function(e){this.$2$3=e},$i:function(){return this.$2$4},$j:function(e){this.$2$4=e},$m:function(){return this.$2$5},$n:function(e){this.$2$5=e},$k:function(){return this.$2$6},$l:function(e){this.$2$6=e},startDrag:function(e){this.$u=this.$o().offset();this.$8(e);this.$o().css('opacity','1');return new spiff.MoveDragInstance.$ctor1(this.$o(),ss.mkdel(this,this.$c),ss.mkdel(this,this.$b),ss.mkdel(this,this.$d),null)},$c:function(e){this.$7(e)},$b:function(e){this.$6(e);this.$d()},$d:function(){this.$o().css('opacity','0');this.$o().offset(this.$u)},$8:null,$7:null,$6:null,$f:function(e){var L=this.$o().offset();this.$o().offset({left:L.left,top:L.top+e})},$e:function(e){var L=this.$o().offset();this.$o().offset({left:L.left+e,top:L.top})},$h:function(e,L){var go=this.$4(L,e);var gp=e.pageY-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().height()),2);if(go<=this.$m()){gp=L+this.$m()}if(go>=this.$k()){gp=L+this.$k()}var gq=this.$o().offset();this.$o().offset({left:gq.left,top:gp})},$g:function(e,L){var go=this.$2(L,e);var gp=e.pageX-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().width()),2);if(go<=this.$m()){gp=L+this.$m()}if(go>=this.$k()){gp=L+this.$k()}var gq=this.$o().offset();this.$o().offset({left:gp,top:gq.top})},$5:function(e,L){var go=L.pageY-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().height()),2);var gp=go-e;var gq=Math.min(Math.max(gp,this.$m()),this.$k());return gq},$3:function(e,L){var go=L.pageX-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().width()),2);var gp=go-e;var gq=Math.min(Math.max(gp,this.$m()),this.$k());return gq},$4:function(e,L){var go=L.pageY;return go-e},$2:function(e,L){var go=L.pageX;return go-e},$a:function(){var e=this.$o().position();var L=Math.floor(e.left);var go=e.top-this.$q()+this.$o().width();return{x:Math.floor(L),y:Math.floor(go)}},$9:function(){var e=this.$o().position();var L=e.left-this.$q()+this.$o().height();var go=Math.floor(e.top);return{x:Math.floor(L),y:Math.floor(go)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(g,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$v)},$7:function(e){this.$h(e,this.$v)},$6:function(e){var L=this.$5(this.$v,e);if(F.$0(L)){var go=new tab.ResizeAxisRegionCmd;go.c['J_M']=this.$s();go.c['MVr']=L|0;go.c['nuU']=true;go.c['Etu']=true;go.set_uiBlocking('immediatelySubtle');go.invoke()}}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(h,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$v)},$7:function(e){this.$g(e,this.$v)},$6:function(e){var L=-this.$3(this.$v,e);if(F.$0(L)){var go=new tab.ResizeAxisRegionCmd;go.c['J_M']=this.$s();go.c['MVr']=L|0;go.c['nuU']=false;go.c['Etu']=true;go.set_uiBlocking('immediatelySubtle');go.invoke()}}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(i,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$v)},$7:function(e){this.$h(e,this.$v)},$6:function(e){var L=-this.$5(this.$v,e);if(F.$0(L)){var go=new tab.ResizeAxisRegionCmd;go.c['J_M']=this.$s();go.c['MVr']=L|0;go.c['nuU']=true;go.c['Etu']=false;go.set_uiBlocking('immediatelySubtle');go.invoke()}}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(j,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$v)},$7:function(e){this.$g(e,this.$v)},$6:function(e){var L=this.$3(this.$v,e);if(F.$0(L)){var go=new tab.ResizeAxisRegionCmd;go.c['J_M']=this.$s();go.c['MVr']=L|0;go.c['nuU']=false;go.c['Etu']=false;go.set_uiBlocking('immediatelySubtle');go.invoke()}}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(k,a,{});ss.initClass(l,a,{});ss.initClass(m,a,{});ss.initClass(n,a,{$0:function(e,L){var go;if(this.$3==='horizontal'){go=Math.round(this.$6)===Math.round(L)}else{go=Math.round(this.$5)===Math.round(e)}return go},$1:function(e,L){var go=this.$4;var gp=e;var gq=L;switch(this.$3){case'horizontal':{if(this.$2){go=-go}gp=this.$5+go;break}case'up':{if(!this.$2){go=-go}gq=this.$6+go;break}case'down':{if(this.$2){go=-go}gq=this.$6+go;break}default:{break}}return{x:gp,y:gq}}});ss.initClass(o,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(p,a,{$0:function(e){e.set_alpha(this.$1);e.set_lineJoin(this.$4);e.set_lineCap(this.$3);e.set_linePattern(this.$5);e.set_strokeStyle(this.$8);e.set_lineWidth(this.$6);e.set_textAngle(this.$a);e.set_font(this.$2);e.set_shapeFillStyle(this.$7);e.set_textFillStyle(this.$b);e.set_textAlign(this.$9)}});ss.initClass(q,a,{});ss.initClass(r,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(s,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var L=new Date-this.$3;var go=Math.abs(e.pageX-this.$4);var gp=Math.abs(e.pageY-this.$5);if(L<=600&&go<=10&&gp<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initClass(t,a,{$2:function(){return this.$b},$1:function(){return this.$a},$5:function(){return this.$e},$9:function(){return this.$i},$4:function(){return this.$d},$7:function(){return this.$g},$8:function(){return this.$h},$3:function(){return this.$c},$6:function(){return this.$f}},spiff.Template,[ss.IDisposable]);ss.initClass(u,a,{},spiff.Template,[ss.IDisposable]);ss.initInterface(di,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(v,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,di]);ss.initClass(w,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(e,L,go){this.$a=e;this.$8=L;this.$9=true;this.$b=go},$0:function(){this.$9=false;this.$b=null},$2:function(e,L){return this.$1(e,L)&&this.$9},$1:function(e,L){return this.$a===e&&this.$8===L}});ss.initClass(x,a,{$d:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$e:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$f:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},$g:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$8:function(){return!this.$9},$1:function(){this.$0()},$7:function(e){if(ss.isNullOrUndefined(e)){this.$5();return}if(this.$c!==-1){window.clearTimeout(this.$c);this.$c=-1}this.$b=e;this.$9=false;this.$0();var L=true;var go=e.get_imageNode();var gp=$(go);if(ss.isNullOrUndefined(go)){var gq=document.createElement('img');e.set_imageNode(gq);go=gq;gp=$(go)}else{L=tab.DoubleUtil.roundToInt(gp.width())!==e.get_bounds().w||tab.DoubleUtil.roundToInt(gp.height())!==e.get_bounds().h;go.style.visibility=''}if(L){$(go).css(ss.mkdict(['left',e.get_bounds().l+'px','top',e.get_bounds().t+'px']))}gp.on('load',ss.mkdel(this,this.$3));gp.on('error',ss.mkdel(this,this.$2));gp.on('abort',ss.mkdel(this,this.$3));this.$c=window.setTimeout(ss.mkdel(this,function(){this.$4()}),600000);var gr=gp.attr('src');if(!tab.BrowserSupport.get_imageLoadIsSynchronous()){gp.attr('src',e.get_src())}else{window.setTimeout(function(){gp.attr('src',e.get_src())},0)}if(ss.referenceEquals(e.get_src(),gr)&&!tab.BrowserSupport.get_raisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$3(null)}),0)}},$0:function(){if(ss.isValue(this.$b)&&ss.isValue(this.$b.get_imageNode())){var e=$(this.$b.get_imageNode());if(ss.isValue(e)){e.on('load',ss.mkdel(this,this.$3));e.on('error',ss.mkdel(this,this.$3));e.on('abort',ss.mkdel(this,this.$3))}}},$2:function(e){if(ss.isValue(e.currentTarget)){e.currentTarget.style.visibility='none'}this.$3(e)},$3:function(e){window.clearTimeout(this.$c);this.$c=-1;if(this.$9){return}this.$9=true;this.$5()},$4:function(){this.$9=true;this.$c=-1;this.$0();this.$6()},$5:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new gh(this.$a,this.$b))}},$6:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new gi(this.$a))}}});ss.initClass(y,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(e){var L=ss.mkdict(['backgroundColor',e]);this.$6.css(L);this.$7.css(L);this.$8.css(L)},$1:function(e,L){var go=ss.mkdict(['width',e+'px']);if(L){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(go);this.$7.css(go)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(z,a,{$1:function(){this.$3=[]},$2:function(e,L,go){if(ss.isValue(go)){var gp=z.$0(e,'canvas');var gq=en.calculatePixelRatio();var gr=e[0];bi.setCanvasSizeAndDensify(gp,gq,{w:gr.offsetWidth,h:gr.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){z.$0(e,'div')}else{z.$0(e,'img');this.$3.push({name:L,node:e})}},$0:function(e,L,go){if(this.$3.length>0){var gp=this.$3.length;for(var gq=0;gq<gp;gq++){var gr=this.$3[gq].node;if(ss.isValue(gr)){var gs=L.formatRegionTileURL(e,this.$3[gq].name,go);var gt=gr.children().first();var gu=en.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(gu,1)){gt.css('width',gr[0].offsetWidth+'px')}gt.attr('src',gs)}}}}});ss.initClass(A,a,{$2:function(){return this.$4},$3:function(e){this.$4=e},$0:function(e,L){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),e)&&this.$1===L}});ss.initClass(B,a,{});ss.initClass(C,a,{});ss.initClass(D,a,{});ss.initClass(E,a,{});ss.initClass(G,a,{$8:function(e){this.$v=this.$a();this.$w=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$w)},$7:function(e){this.$g(e,this.$w)},$6:function(e){var L=this.$3(this.$w,e);if(F.$0(L)){var go=new tab.ResizeHeaderRegionCmd;go.c['J_M']=this.$s();go.c['MVr']=L|0;go.c['nuU']=false;go.c['Qmg']=tab.PointUtil.toPresModel(this.$v);go.set_uiBlocking('immediatelySubtle');go.invoke()}}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(H,a,{$8:function(e){this.$v=this.$9();this.$w=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$w)},$7:function(e){this.$h(e,this.$w)},$6:function(e){var L=this.$5(this.$w,e);if(F.$0(L)){var go=new tab.ResizeHeaderRegionCmd;go.c['J_M']=this.$s();go.c['MVr']=L|0;go.c['nuU']=true;go.c['Qmg']=tab.PointUtil.toPresModel(this.$v);go.set_uiBlocking('immediatelySubtle');go.invoke()}}},F,[ss.IDisposable,spiff.IViewModel,spiff.IDragSource]);ss.initClass(I,a,{});ss.initClass(J,a,{},ss.EventArgs);ss.initClass(K,a,{render:function(){return React.DOM.div({className:'tabAddSubscribersContent'},this.$1(),this.$2(),this.$0())},$1:function(){return React.DOM.div({className:'tabAddSubscribersHeader'},tab.Strings.AddSubscribersHeader)},$2:function(){return React.createElement(fE,this.props.userSearchSelectorProps)},$0:function(){var e={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.cancelSelection),label:tab.Strings.SubscribeCancel,buttonClass:'tabAddSubscribersCancelButton',buttonStyle:3,tabIndex:0};var L={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.confirmSelection),label:tab.Strings.DialogButtonOK,buttonClass:'tabAddSubscribersConfirmButton',buttonStyle:0,tabIndex:0};var go=React.createElement(spiff.StyledButtonComponent,L);var gp=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tabAddSubscribersButtons'},gp,go)}},React.Component);ss.initClass(M,a,{});ss.initClass(N,a,{});ss.initClass(O,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmed:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmed:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_viewModel:function(){return this},get_userSearchSelectorViewModel:function(){return this.$2$4},set_userSearchSelectorViewModel:function(e){this.$2$4=e},get_props:function(){return this.$2$5},set_props:function(e){this.$2$5=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[O,K,N])},updateUberPopupViewModel:function(e){},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.raiseActionEvent(this.$2$2)},confirmSelection:function(){this.raiseActionEvent$1(Array).call(this,this.$2$3,this.get_userSearchSelectorViewModel().get_users())},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[N])]);ss.initClass(P,a,{});ss.initClass(Q,a,{dispose:function(){this.$15.dispose();if(ss.isValue(this.$1a)){this.$1a.dispose();this.$1a=null}if(ss.isValue(this.$19)){this.$19.dispose();this.$19=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,L){if(!ss.referenceEquals(this.$13,e)){var go=this.$13;this.$13=e;if(tsConfig.allow_custom_views){var gp=(ss.isValue(go)?go.get_customViewsViewModel():null);if(ss.isValue(gp)){gp.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));gp.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));gp.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));gp.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var gq=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(gq)){gq.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));gq.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));gq.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));gq.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$14=false;if(ss.isValue(this.$1a)){this.$1a.dispose();this.$1a=null}if(ss.isValue(this.$12)&&ss.isValue(this.$13.get_toolbarCommands().get_toolbarViewModel())){this.$1a=new S(this.$12,this.$13.get_toolbarCommands().get_toolbarViewModel())}}if(!ss.referenceEquals(this.$18,L)){if(ss.isValue(this.$19)){this.$19.dispose()}this.$18=L;if(ss.isValue(this.$18)){this.$19=new R(L,this.$12)}}_.defer(ss.mkdel(this,this.$Y));if(!this.$16){var gr=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(gr)){gr.addNewDashboardHandler(ss.mkdel(this,this.onNewDashboard));this.$16=true}}else{this.onNewDashboard(null)}},$Y:function(){var e={};var L=this.$13.get_viewControllers();for(var go=0;go<L.length;go++){var gp=L[go];e[gp.get_sheetName()]=gp}this.$S(e);var gq=_.keys(this.$1b);for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];if(!ss.keyExists(e,gs)){this.$1b[gs].dispose();delete this.$1b[gs]}else{delete e[gs]}}this.$R(e)},$S:function(e){var L=new ss.ObjectEnumerator(e);try{while(L.moveNext()){var go=L.current();var gp={$:go.key};if(this.$17.has(gp.$)){continue}var gq={$:go.value.get_viewWidget().get_viewModel()};this.$17.add(gp.$);var gr={$:ss.mkdel({sheetName:gp,$this:this},function(){this.$this.onSelectionChanged(this.sheetName.$)})};gq.$.add_differentMarkSelection(gr.$);var gs={$:ss.mkdel({sheetName:gp,$this:this},function(){this.$this.onHighlightingChanged(this.sheetName.$)})};gq.$.add_differentMarkBrushing(gs.$);var gt={$:null};gt.$=ss.mkdel({selectionChangeHandler:gr,brushingChangeHandler:gs,viewModel:gq,onViewModelDisposed:gt,$this:this},function(gu){var gv=gu;this.$this.$17.delete(gv.get_sheetId());gv.remove_differentMarkSelection(this.selectionChangeHandler.$);gv.remove_differentMarkBrushing(this.brushingChangeHandler.$);this.viewModel.$.remove_disposed(this.onViewModelDisposed.$)});gq.$.add_disposed(gt.$)}}finally{L.dispose()}},$R:function(e){var L=_.keys(e);for(var go=0;go<L.length;go++){var gp={$:L[go]};var gq={$:ss.mkdel({sheetName:gp,$this:this},function(gr,gs){if(ss.referenceEquals(this.sheetName.$,gr)){this.$this.onFilterMayHaveChanged(gs)}})};fK.add_selectionChanged(gq.$);this.$1b[gp.$]=new tab.CallOnDispose(ss.mkdel({filterMayHaveChangedHandler:gq},function(){fK.remove_selectionChanged(this.filterMayHaveChangedHandler.$)}))}},handleEvent:function(e){var L=e.data;if(ss.isNullOrUndefined(L)||typeof(L)!=='string'){return}var go=L;var gp=tab._ApiCommand.parse(go);if(ss.isNullOrUndefined(gp.get_rawName())){return}this.routeCommand(gp)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$E(e);break}case'api.GetCurrentUrlCommand':{this.$G(e);break}case'api.ClearFilterCommand':{this.$6(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$4(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$5(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$y(e);break}case'api.RevertAllCommand':{this.$A(e);break}case'api.SwitchActiveSheetCommand':{this.$T(e);break}case'api.UpdateActiveSheetCommand':{this.$W(e);break}case'api.SelectMarksCommand':{this.$C(e);break}case'api.ClearSelectedMarksCommand':{this.$8(e);break}case'api.FetchSelectedMarksCommand':{this.$e(e);break}case'api.FetchParametersCommand':{this.$d(e);break}case'api.SetParameterValueCommand':{this.$H(e);break}case'api.InvokeCommandCommand':{this.$o(e);break}case'api.SetSheetSizeCommand':{this.$I(e);break}case'api.ShowHideToolbarCommand':{this.$N(e);break}case'api.GetFiltersListCommand':{this.$h(e);break}case'api.GetOneFilterInfoCommand':{this.$i(e);break}case'api.GetDataSourceCommand':{this.$f(e);break}case'api.GetDataSourcesCommand':{this.$g(e);break}case'api.FetchCustomViewsCommand':{this.$b(e);break}case'api.ShowCustomViewCommand':{this.$J(e);break}case'api.UpdateCustomViewCommand':{this.$X(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$p(e);break}case'api.RemoveCustomViewCommand':{this.$z(e);break}case'api.SaveNewCustomViewCommand':{this.$B(e);break}case'api.ActivateStoryPoint':{this.$19.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$19.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$19.activateNextStoryPoint(e);break}case'api.RevertStoryPoint':{this.$19.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$j(e);break}case'api.GetUnderlyingTableCommand':{this.$l(e);break}case'api.ClearHighlightedMarksCommand':{this.$7(e);break}case'api.HighlightMarksCommand':{this.$m(e);break}case'api.HighlightMarksByPatternMatch':{this.$n(e);break}case'api.FetchHighlightedMarksCommand':{this.$c(e);break}case'api.GetToolbarState':{this.$k(e);break}case'api.Undo':{this.$V();break}case'api.Redo':{this.$x();break}case'api.ToggleUpdates':{this.$U(e);break}case'api.ShowShareDialog':{this.$P();break}case'api.ShowDataAlertDialog':{this.$L();break}case'api.ShowSubscribeDialog':{this.$Q();break}case'api.ShowCustomViewsDialog':{this.$K();break}case'api.ShowPerformanceDialog':{this.$O();break}case'api.ShowDownloadDialog':{this.$M();break}}},handleNewLayout:function(e){var L=e.item1;var go=e.item2;this.$12.sendEventNotification('api.TabSwitchEvent',L,go)},onFilterMayHaveChanged:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.cmdResult)||ss.isNullOrUndefined(e.cmdResult.$iY)){return}var L=e.cmdResult.$iY.split(':');var go=L[0];if(!ss.referenceEquals(go,'tabdoc'.toString())){return}var gp=L[1];switch(gp){case'reset-filter':case'clear-existing-filter':case'range-filter':case'categorical-filter':case'categorical-filter-by-index':case'hierarchical-filter':case'relative-date-filter':{this.$q(e);break}}},$q:function(e){var L=e.primarySheet;if(ss.isNullOrUndefined(L)){return}var go=e.cmdResult.nCR;var gp=go['HBp02'];if(ss.isValue(gp)&&ss.isNullOrUndefined(go['cVZ'])&&ss.isNullOrUndefined(go['oIc'])){var gq=Q.$2(L,gp);var gr=[gp,ss.coalesce(gq,gp)];this.$12.sendEventNotification('api.FilterChangedEvent',e.primarySheet,JSON.stringify(gr))}},onSelectionChanged:function(e){this.$12.sendEventNotification('api.MarksSelectionChangedEvent',e,null)},onHighlightingChanged:function(e){this.$12.sendEventNotification('api.MarksHighlightChangedEvent',e,null)},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$12.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$12.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onNewDashboard:function(e){e=tab.ModelUtils.findContentDashboard();this.$15.dispose();if(ss.isNullOrUndefined(e)){return}var L=e.get_zoneModels();_.each(L,ss.mkdel(this,function(go,gp){if(go.get_zoneType()==='paramctrl'&&ss.isValue(go.get_model())){if(ss.referenceEquals(ss.getInstanceType(go.get_model()),tab.ParameterCtrlModel)){var gq=go.get_model();gq.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$15.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gq.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}else if(ss.referenceEquals(ss.getInstanceType(go.get_model()),tab.ParameterFilterDisplayModel)){var gr=go.get_model();gr.add_filterUpdated(ss.mkdel(this,this.onParameterChange));this.$15.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gr.remove_filterUpdated(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var L=e.OLk;this.$12.sendEventNotification('api.ParameterChangedEvent',null,L)},onCustomViewDestroyed:function(e,L){this.$12.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$9()))},onCustomViewUpdated:function(e,L){this.$12.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$9()))},onCustomViewSetDefault:function(e,L){this.$12.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$9()))},onCustomViewListLoaded:function(e,L){this.$12.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$9()));this.$14=true},$d:function(e){var L=tab.CommandUtils.newCommand('get-parameter-models',null);this.$F(e,L,C.$8)},$H:function(e){var L=JSON.parse(e.get_parameters());var go={};go['OLk']=L['api.setParameterName'];go['vau']=L['api.setParameterValue'];var gp=tab.CommandUtils.newCommand('set-parameter-value',go);this.$F(e,gp,C.$6)},$h:function(e){var L=function(gp,gq){gq['TWA']=gp['api.ignoreDomain']};var go=this.$t(e,'get-filter-info',L);this.$F(e,go,B.$9)},$i:function(e){var L=function(gp,gq){if(ss.isValue(gp['api.fieldCaption'])){gq['OLk']=gp['api.fieldCaption']}else{gq['HBp02']=gp['api.fieldName']}if(ss.isValue(gp['api.filterHierarchicalLevels'])){gq['Kyu']=gp['api.filterHierarchicalLevels']}gq['TWA']=gp['api.ignoreDomain']};var go=this.$t(e,'get-filter-info',L);this.$F(e,go,B.$d)},$e:function(e){var L=function(gp,gq){};var go=this.$s(e,'get-selection',L);this.$F(e,go,ss.mkdel(this,this.$w))},$u:function(e,L){var go=new Object;var gp=new tab.DataDictionaryModel(null);gp.update(e);var gq=new tab.VizDataModel(null);gq.update(L,tab.NoopModelEventsHandler.get_noopContext());var gr=[];go.marks=gr;if(ss.isNullOrUndefined(gp)||gp.get_isEmpty()){return go}gq.forEachTupleId(function(gs){var gt=new Object;gt.tupleId=gs;var gu=[];gt.pairs=gu;gr.push(gt);gq.forEachVizDataField(function(gv,gw){var gx=new Object;gx.fieldName=gv.get_fieldCaption();gx.formattedValue=tab.VizDataLookup.lookupAlias(gs,gv,gp);gx.valueDataType=f.$0(gv.get_dataType());var gy=null;if(!tab.VizDataLookup.isSpecial(gs,gv,gp,null)&&gv.get_hasDataValues()&&gv.isTupleIdValid(gs)){gy=tab.VizDataLookup.lookupRawDataValue(gs,gv,gp)}var gz=I.serializeDataValue(gy,gv.get_dataType());gx.value=gz;gu.push(gx);return true});return true});return go},$w:function(e){var L=e;var go=L.vZU;var gp=L.zFl;return this.$u(go,gp)},$3:function(e){var L=ss.mkdel(this,function(gp,gq){gq['oLX']=gp['api.fieldCaption'];if(ss.isValue(gp['api.filterReset'])&&gp['api.filterReset']){gq['Txq']='filter-clear'.toString()}else{if(ss.isValue(gp['api.exclude'])){gq['QGP']=gp['api.exclude']}var gr=this.$Z(gp['api.filterUpdateType'].toString());gq['Txq']=gr;if(ss.isValue(gp['api.filterHierarchicalValues'])){gq['CCe']=gp['api.filterHierarchicalValues']}if(ss.isValue(gp['api.filterHierarchicalLevels'])){gq['JzB']=gp['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(gp['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(gp['api.filterHierarchicalLevels'])){gq['JzB']='[]'}}});var go=this.$s(e,'hierarchical-filter',L);this.$F(e,go,B.$8)},$4:function(e){var L=function(gp,gq){gq['oLX']=gp['api.fieldCaption'];if(ss.isValue(gp['api.filterReset'])&&gp['api.filterReset']){gq['Txq']='filter-clear'.toString()}else{if(ss.isValue(gp['api.filterRangeMax'])){gq['JPx']=gp['api.filterRangeMax']}if(ss.isValue(gp['api.filterRangeMin'])){gq['fMN']=gp['api.filterRangeMin']}if(ss.isValue(gp['api.filterRangeNullOption'])){if(gp['api.filterRangeNullOption']==='NULL_VALUES'){gq['$mT']='include-null'.toString()}else if(gp['api.filterRangeNullOption']==='NON_NULL_VALUES'){gq['$mT']='include-non-null'.toString()}else{gq['$mT']='include-all'.toString()}}}};var go=this.$s(e,'range-filter',L);this.$F(e,go,B.$8)},$5:function(e){var L=function(gp,gq){gq['oLX']=gp['api.fieldCaption'];if(ss.isValue(gp['api.filterReset'])&&gp['api.filterReset']){gq['Txq']='filter-clear'.toString()}else{if(ss.isValue(gp['api.filterDateArchorValue'])){gq['wNn']=gp['api.filterDateArchorValue']}gq['JAO']=gp['api.filterPeriodType'].toLowerCase();gq['woa']=gp['api.filterDateRangeType'].toLowerCase();if(ss.isValue(gp['api.filterDateRange'])){gq['lZR']=gp['api.filterDateRange']}}};var go=this.$s(e,'relative-date-filter',L);this.$F(e,go,B.$8)},$Z:function(e){if(e.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(e.toLowerCase()==='all'){return'filter-all'.toString()}else if(e.toLowerCase()==='add'){return'filter-add'.toString()}else if(e.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}},$11:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$10:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$6:function(e){var L=JSON.parse(e.get_parameters());var go=Q.$1();var gp=L['api.fieldCaption'];var gq=ss.keyExists(go,gp);var gr;if(gq){if(go[gp]==='RD'){var gs=q.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$12.sendResponse(e,gs);return}gr='reset-filter'}else{gr='clear-existing-filter'}var gt=function(gv,gw){gw['oLX']=gp};var gu=this.$s(e,gr,gt);this.$F(e,gu,B.$8)},$2:function(e){var L=ss.mkdel(this,function(gp,gq){gq['oLX']=gp['api.fieldCaption'];if(ss.isValue(gp['api.filterReset'])&&gp['api.filterReset']){gq['Txq']='filter-clear'.toString()}else{if(ss.isValue(gp['api.exclude'])){gq['QGP']=gp['api.exclude'].toString()}var gr=this.$Z(gp['api.filterUpdateType'].toString());gq['Txq']=gr;if(ss.isValue(gp['api.filterCategoricalValues'])){gq['CCe']=JSON.stringify(gp['api.filterCategoricalValues'])}else{gq['CCe']='[""]'}}});var go=this.$s(e,'categorical-filter',L);this.$F(e,go,B.$8)},$0:function(e,L){var go=new ss.StringBuilder;go.append('[');for(var gp=0;gp<e.length;gp++){if(gp>0){go.append(',')}go.append('{');go.append('"'+'oLX'.toString()+'":');go.append('"'+e[gp]+'"');go.append(',');go.append('"'+'Zqk'.toString()+'":');go.append(L[gp]);go.append('}')}go.append(']');return go.toString()},$1:function(e,L){var go=new ss.StringBuilder;go.append('[');for(var gp=0;gp<e.length;gp++){if(gp>0){go.append(',')}go.append('{');go.append('"'+'oLX'+'":');go.append('"'+e[gp]+'"');go.append(',');var gq=JSON.parse(L[gp]);var gr=JSON.parse(gq[0]);if(ss.isValue(gr['max'])){go.append('"'+'QG$'+'":');go.append('"'+gr['max'].toString()+'"')}if(ss.isValue(gr['min'])){if(ss.isValue(gr['max'])){go.append(',')}go.append('"'+'Cp$'.toString()+'":');go.append('"'+gr['min'].toString()+'"')}if(ss.isValue(gr['nullOption'])){var gs=this.$10(gr['nullOption'].toString());go.append(',');go.append('"'+'$mT'.toString()+'":');go.append('"'+gs+'"')}go.append('}')}go.append(']');return go.toString()},$j:function(e){var L=this.$s(e,'get-summary-data',D.$3);this.$F(e,L,D.$6)},$l:function(e){var L=this.$s(e,'get-underlying-data',D.$4);this.$F(e,L,D.$7)},$7:function(e){var L=function(gp,gq){};var go=this.$t(e,'select-none',L);this.$F(e,go,Q.$3)},$m:function(e){var L=function(gp,gq){gq['oLX']=gp['api.fieldCaption'];gq['_dJ']=gp['api.ObjectTextIDs']};var go=this.$s(e,'highlight-items',L);this.$F(e,go,Q.$3)},$n:function(e){var L=function(gp,gq){gq['oLX']=gp['api.fieldCaption'];gq['vau']=gp['api.Pattern']};var go=this.$s(e,'highlight-items-by-pattern-match',L);this.$F(e,go,Q.$3)},$c:function(e){var L=function(gp,gq){};var go=this.$s(e,'get-highlighted-data',L);this.$F(e,go,ss.mkdel(this,this.$v))},$v:function(e){var L=e;var go=L.vZU;var gp=L.zFl;return this.$u(go,gp)},$C:function(e){var L=ss.mkdel(this,function(gp,gq){if(tab.MiscUtil.isNullOrEmpty(gp)){gq['NNg']='select-replace'.toString()}else{gq['NNg']=this.$11(gp['api.filterUpdateType'].toString());if(ss.isValue(gp['api.categoricalFieldCaption'])&&ss.isValue(gp['api.categoricalMarkValues'])){var gr=JSON.parse(gp['api.categoricalFieldCaption']);var gs=JSON.parse(gp['api.categoricalMarkValues']);var gt=this.$0(gr,gs);gq['NVJ']=gt}if(ss.isValue(gp['api.hierarchicalFieldCaption'])&&ss.isValue(gp['api.hierarchicalMarkValues'])){var gu=JSON.parse(gp['api.hierarchicalFieldCaption']);var gv=JSON.parse(gp['api.hierarchicalMarkValues']);var gw=this.$0(gu,gv);gq['oWK']=gw}if(ss.isValue(gp['api.rangeFieldCaption'])&&ss.isValue(gp['api.rangeMarkValues'])){var gx=JSON.parse(gp['api.rangeFieldCaption']);var gy=JSON.parse(gp['api.rangeMarkValues']);var gz=this.$1(gx,gy);gq['Ukl']=gz}if(ss.isValue(gp['api.tupleIds'])){var gA=new ss.StringBuilder;gA.append('{');gA.append('"'+'coe'+'":');gA.append('"tuples"');gA.append(',');gA.append('"'+'kyj'+'":');gA.append(gp['api.tupleIds']);gA.append('}');gq['Gvh']=gA.toString()}}});var go=this.$s(e,'select-by-value',L);this.$F(e,go,Q.$4)},$8:function(e){var L=function(gp,gq){};var go=this.$t(e,'select-none',L);this.$F(e,go,Q.$4)},$9:function(){var e=this.$13.get_customViewsViewModel();var L=e.get_currentCustomView();var go=null;if(ss.isValue(L)){go=I.serializeCustomView(e.get_currentCustomView(),e.buildUrl(e.get_currentCustomView(),true))}var gp=[];var gq=this.$13.get_customViewsViewModel().get_myCustomViews();var gr=ss.getEnumerator(gq);try{while(gr.moveNext()){var gs=gr.current();var gt=e.buildUrl(gs,true);var gu=I.serializeCustomView(gs,gt);gp.push(gu)}}finally{gr.dispose()}var gv=this.$13.get_customViewsViewModel().get_otherCustomViews();var gw=ss.getEnumerator(gv);try{while(gw.moveNext()){var gx=gw.current();var gy=e.buildUrl(gx,true);var gz=I.serializeCustomView(gx,gy);gp.push(gz)}}finally{gw.dispose()}return P.newCustomViewsInfo(this.$14,e.get_defaultCustomViewId(),go,gp)},$b:function(e){this.$13.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(L,go){var gp=q.$0('api.success',this.$9());this.$12.sendResponse(e,gp)}),ss.mkdel(this,function(L){var go=q.$0('api.remotefailed',L);this.$12.sendResponse(e,go)}))},$J:function(e){var L=JSON.parse(e.get_parameters());var go=null;if(ss.isValue(L['api.customViewParam'])){var gp=L['api.customViewParam'];go=I.convertToCustomizedView(gp)}this.$13.get_customViewsViewModel().select(go)},$z:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.customViewParam'];var gp=I.convertToCustomizedView(go);this.$13.get_customViewsViewModel().destroy(gp,ss.mkdel(this,function(){var gq=q.$0('api.success',this.$9());this.$12.sendResponse(e,gq)}),ss.mkdel(this,function(gq){var gr=q.$0('api.remotefailed',gq);this.$12.sendResponse(e,gr)}))},$X:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.customViewParam'];var gp=I.convertToCustomizedView(go);this.$13.get_customViewsViewModel().update(gp,ss.mkdel(this,function(gq){var gr=q.$0('api.success',this.$9());this.$12.sendResponse(e,gr)}),ss.mkdel(this,function(gq){var gr=q.$0('api.remotefailed',gq);this.$12.sendResponse(e,gr)}))},$p:function(e){this.$13.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(L){var go=q.$0('api.success',this.$9());this.$12.sendResponse(e,go)}),ss.mkdel(this,function(L){var go=q.$0('api.remotefailed',L);this.$12.sendResponse(e,go)}))},$B:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.customViewName'];this.$13.get_customViewsViewModel().save(go,ss.mkdel(this,function(gp){var gq=this.$9();gq.newView=I.serializeCustomView(gp,this.$13.get_customViewsViewModel().buildUrl(gp,false));var gr=q.$0('api.success',gq);this.$12.sendResponse(e,gr)}),ss.mkdel(this,function(gp){var gq=q.$0('api.remotefailed',gp);this.$12.sendResponse(e,gq)}))},$f:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.dataSourceName'];var gp=L['api.worksheetName'];var gq={};var gr=tab.CommandUtils.newCommand('get-schema',gq);var gs=function(gt){var gu=gt;var gv=d.$0(gu,gp,go);return gv.dataSources[0]};this.$F(e,gr,gs)},$g:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.worksheetName'];var gp=tab.CommandUtils.newCommand('get-schema',null);var gq=function(gr){var gs=gr;var gt=d.$0(gs,go,null);return gt};this.$F(e,gp,gq)},$o:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.invokeCommandName'];if(go==='showExportImageDialog'){this.$13.get_toolbarCommands().exportImage()}else if(go==='showExportDataDialog'){var gp=null;if(ss.isValue('api.invokeCommandParam')){gp=L['api.invokeCommandParam']}this.$13.get_toolbarCommands().exportData(gp)}else if(go==='showExportCrosstabDialog'){var gq=null;if(ss.isValue('api.invokeCommandParam')){gq=L['api.invokeCommandParam']}this.$13.get_toolbarCommands().exportCrosstab(gq)}else if(go==='showExportPDFDialog'){this.$13.get_toolbarCommands().exportPdf()}else if(go==='pauseAutomaticUpdates'){this.$13.get_toolbarCommands().$4();this.$D(e)}else if(go==='resumeAutomaticUpdates'){this.$13.get_toolbarCommands().$6();this.$D(e)}else if(go==='toggleAutomaticUpdates'){this.$U(e)}else if(go==='showShareDialog'){this.$13.get_toolbarCommands().$g()}else if(go==='showDownloadWorkbookDialog'){var gr=this.$13.get_applicationPresModel().res.mmK;this.$13.get_toolbarCommands().$1(gr.nhM.VrA)}else if(go==='selectedMarksKeepOnly'){this.$13.get_toolbarCommands().$b()}else if(go==='selectedMarksExclude'){this.$13.get_toolbarCommands().$a()}},$k:function(e){if(ss.isValue(this.$1a)){var L=q.$0('api.success',this.$1a.get_toolbarState());this.$12.sendResponse(e,L)}},$V:function(){tab.WorksheetServerCommands.undo()},$x:function(){tab.WorksheetServerCommands.redo()},$U:function(e){this.$13.get_toolbarCommands().$i();this.$D(e)},$P:function(){this.$13.get_toolbarCommands().$g()},$L:function(){this.$13.get_toolbarCommands().$d()},$Q:function(){this.$13.get_toolbarCommands().$h()},$O:function(){this.$13.get_toolbarCommands().$f()},$K:function(){this.$13.get_toolbarCommands().$c()},$M:function(){this.$13.get_toolbarCommands().$e()},$D:function(e){var L=P.newAutoUpdateState(this.$13.get_toolbarCommands().$2());var go=q.$0('api.success',L);this.$12.sendResponse(e,go)},$I:function(e){var L=JSON.parse(e.get_parameters());var go={};go['Gge']=L['api.setSheetSizeName'];go['EVq']=L['api.minWidth'];go['pAn']=L['api.minHeight'];go['PiK']=L['api.maxWidth'];go['McJ']=L['api.maxHeight'];var gp=tab.CommandUtils.newCommand('set-sheet-size',go);this.$F(e,gp,null)},$y:function(e){this.$13.get_toolbarCommands().$5();var L=q.$0('api.success','');this.$12.sendResponse(e,L)},$A:function(e){tab.WorksheetServerCommands.revert();var L=q.$0('api.success','');this.$12.sendResponse(e,L)},$N:function(e){var L=JSON.parse(e.get_parameters());var go=L['api.showHideToolbarValue'];this.$13.set_toolbarDisplayed(go);this.$13.doResize()},$T:function(e){var L=JSON.parse(e.get_parameters());var go=new Object;go.oldRepositoryUrl=L['api.oldRepositoryUrl'];go.repositoryUrl=L['api.switchToRepositoryUrl'];go.sheetName=L['api.switchToSheetName'];go.oldSheetName=tsConfig.current_sheet_name;go.noUndo=true;go.successCallback=ss.mkdel(this,function(gp){var gq=q.$0('api.success','');this.$12.sendResponse(e,gq)});go.errorCallback=ss.mkdel(this,function(gp){var gq=q.$0('api.remotefailed',gp);this.$12.sendResponse(e,gq)});T.fireOnTabSelect(go)},$W:function(e){this.$13.doResize()},$E:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var L=I.serializeClientInfo(this.$13,this.$18);var go=q.$0('api.success',L);this.$12.sendResponse(e,go)}))},$G:function(e){var L=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var go=q.$0('api.success',L);this.$12.sendResponse(e,go)},$s:function(e,L,go){return this.$r(e,tab.CommandUtils.newCommand(L,null),go)},$t:function(e,L,go){return this.$r(e,tab.CommandUtils.newCommand$1(L,null),go)},$r:function(e,L,go){var gp=JSON.parse(e.get_parameters());var gq=this.$a(gp);L.commandParams=gq;go(gp,gq);return L},$a:function(e){var L={};if(ss.isValue(e['api.visualId'])){L['J_M']=JSON.stringify(e['api.visualId'])}else{L['AVP']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){L['XwZ']=e['api.dashboardName']}}return L},$F:function(e,L,go){L.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(L,ss.mkdel(this,function(gp){var gq=gp;if(ss.isValue(go)){gq=go(gp)}var gr=q.$0('api.success',gq);this.$12.sendResponse(e,gr)}),ss.mkdel(this,function(gp){var gq=q.$0('api.remotefailed',gp);this.$12.sendResponse(e,gq)}))}},null,[ss.IDisposable]);ss.initClass(R,a,{dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(L){return this.$1(L,function(go){return go.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(L){return this.$1(L,function(go){return go.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(L){return L.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(L){return L.clickStoryPoint()})},$3:function(e,L,go){R.$0(e,L);var gp=JSON.parse(e.get_parameters());var gq=gp['api.storyPointIndex'];if(!ss.isValue(gq)||isNaN(ss.unbox(gq))){throw new ss.Exception('Missing index parameter.')}var gr=this.$0();if(ss.Nullable$1.lt(gq,0)||ss.Nullable$1.ge(gq,ss.count(gr.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var gs=$.Deferred();var gt=ss.getItem(gr.get_captions(),ss.unbox(gq));go(gt).then(ss.mkdel(this,function(gu){var gv=I.serializeStoryPoint(gu,this.$7);gs.resolve(gv)}),function(gu){gs.reject(gu)});return gs.promise()},$1:function(e,L){R.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var go=this.$0();var gp=$.Deferred();L(go).then(ss.mkdel(this,function(gq){var gr=ss.getItem(go.get_captions(),gq);var gs=I.serializeStoryPoint(gr,this.$7);gp.resolve(gs)}),function(gq){gp.reject(gq)});return gp.promise()},$4:function(){var e=I.serializeStory(this.$7);var L=JSON.stringify(e);this.$a.sendEventNotification('api.StorytellingStateChangedEvent',null,L)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(L,go){try{go(L).then(ss.mkdel(this,function(e){var gp=q.$0('api.success',e);this.$a.sendResponse(L,gp)}),ss.mkdel(this,function(e){var gp=q.$0('api.remotefailed',e);this.$a.sendResponse(L,gp)}))}catch(gp){var e=ss.Exception.wrap(gp);var errorResult1=q.$0('api.localfailed',e.get_message());this.$a.sendResponse(L,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(S,a,{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var L=q.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,L)},$0:function(e,L){var go=e[L];return ss.isValue(go)&&ff.shouldShowButton(go,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};S.$0(e,this.$5.get_vizCommandItems());S.$0(e,this.$5.get_nonVizCommandItems());var L=P.newToolbarStatePM(S.$1(e,'undo'),S.$1(e,'redo'),S.$1(e,'revert'),!S.$2(e,'toggle-updates','Pause'),S.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'));this.set_toolbarState(L);this.$2()}},null,[ss.IDisposable]);ss.initClass(T,a,{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$r},get_rightAreaDrawerViewModel:function(){return this.$1$5},set_rightAreaDrawerViewModel:function(e){this.$1$5=e},get_client:function(){return this.$m},get_apiEventHandler:function(){return this.$l},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){this.$1(this.$o);return}this.set_rightAreaDrawerViewModel($.Deferred());tab.ModuleManager.load(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(e){this.$a(e,this.get_rightAreaDrawerViewModel())}))},$a:function(e,L){var go=ss.mkdel(this,function(){this.get_client().doResize()});var gp=e.createCommentingModuleViewModel();var gq=new er(gp);L.resolve(gq);gq.add_open(go);gq.add_close(go);this.$n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gq.remove_open(go);gq.remove_close(go);tab.MiscUtil.dispose$1(gq);this.set_rightAreaDrawerViewModel(null)})));this.$o=spiff.ObjectRegistry.newView(eq).call(null,[gq]);this.$1(this.$o)},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigation');if(e.length>0){if(ss.isValue(this.$r)){this.$r.destroyShim()}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(L){this.$r=L.createTabbedNavigation({},e[0]);this.$r.startupShim()}))}},dispose:function(){if(!ss.isValue(T.$4)){return}if(ss.isValue(this.$l)){this.$l.dispose();this.$l=null}this.$2();this.$n.dispose();this.$e();this.$p.dispose();if(ss.isValue(this.$r)){this.$r.destroyShim();this.$r=null}tab.ApplicationModel.get_instance().get_workbook().remove_dashboardDeleted(ss.mkdel(this,this.$k));tab.ApplicationModel.get_instance().get_workbook().remove_uiModeChanged(ss.mkdel(this,this.$8));T.$4=null},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$k:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.$m)){return}this.$m.destroyRecursive();this.$m=null;this.$q=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$e:function(){if(!T.get_isHostedInApiContext()){return}if(ss.isValue(this.$l)){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var L=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',L)}this.$l=null}},$b:function(e,L){if(!T.get_isHostedInApiContext()){return}this.$l=new Q(e,L,tabBootstrap.ViewerBootstrap.get_instance().apiResponder);var go=window.addEventListener;if(ss.isValue(go)){go('message',ss.mkdel(this,this.$4),true)}else{var gp=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',gp)}},$0:function(){if(!T.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$d),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$d))}},$d:function(e){this.$e()},$5:function(){this.$i();this.$9();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$h:function(){var e=function(gp){var gq=[];for(var gr=0;gr<gp.length;gr++){var gs=gp[gr];gq.push(cg.toDownloadableFontProperties(gs,''))}ev.get_instance().notifyDownloadableFont(gq)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(gp){if(ss.referenceEquals(gp.get_worldUpdateCommand().commandName,'set-active-story-point'.toString())||ss.referenceEquals(gp.get_worldUpdateCommand().commandName,'render-tooltip-server'.toString())||gp.get_sheetChanged()||gp.get_rebuildTheWorld()){T.$2()}});tab.FontNotificationUtil.add_allFontsFound(T.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var L=null;L=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(L);T.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(L)}var go=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){ev.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(go)});tab.StartupUtils.callAfterBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){T.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(go)});T.$2()},$9:function(){tabBootstrap.MetricsController.initSessionInfo();tab.MetricsLogger.get_instance().attach()},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.$l)){this.$l.handleEvent(e)}},$6:function(e){this.$j(e);var L=tab.CommandController.get().get_legacySession();this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var go=T.$0(true,L);this.$m=go;this.$q=go;this.$m.startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$i();if(tabBootstrap.Utility.get_embedMode()==='embeddedInWg'||tabBootstrap.Utility.get_embedMode()==='notEmbedded'){this.$f(e)}},$7:function(e){this.$i();T.handleAllFontsFound()},$i:function(){if(ss.isValue(this.$l)){this.$l.updateClients(this.$m,this.$q)}},$f:function(e){if(tsConfig.is_authoring){this.$g(e.YnR,e.DDA)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.YnR)}},$g:function(e,L){if(this.$c(e)){var go=tab.VizUriModel.createForAuthoringPublishedSheet(e);go.replaceState()}else{var gp=tab.VizUriModel.createForCurrentWindowLocation();if(gp.get_isAuthorNewWorkbookUri()){}else if(tab.MiscUtil.isNullOrEmpty$1(e)){var gq=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,L);gq.replaceState()}}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$c(e)){var L=tab.VizUriModel.createForViewingSheet(e);L.replaceState()}else{}},$c:function(e){if(tab.MiscUtil.isNullOrEmpty$1(e)||ss.startsWithString(e,'ds:')){return false}return true},$j:function(e){tsConfig.current_sheet_name=e.DDA;tsConfig.current_sheet_type=e.xD;tsConfig.current_view_id=e.$oY;if(e.ko_){tsConfig.current_custom_view_id=e.s_w}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.JAR;tsConfig.embeddedTitle=e.EGq;tsConfig.blogURI=e.eeK;tsConfig.requestURI=e.EtP;tsConfig.downloadURI=e.VrA;tsConfig.staticImage=e.ZWJ;tsConfig.guid=e.OVc;var L=e.YnR;tsConfig.repositoryUrl=(this.$c(L)?L:'')},$8:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){spiff.GlobalUIEvents.fireDismissTemporaryElements()}}},null,[ss.IDisposable]);ss.initClass(U,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(V,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$f.get_dashboardNode()},get_containerNode:function(){return this.$f.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$d:function(){return this.get_viewModel()},onAddedToDom:function(){if(!this.addedToDom){if(tsConfig.showTabs){this.get_dom().domNode.attr('role','tabpanel')}this.$b();this.$9();this.$a();spiff.FocusManager.initialize()}spiff.Widget.prototype.onAddedToDom.call(this)},resizeToolbar:function(){this.$e.forceResizeToolbar()},$b:function(){this.$f=spiff.ObjectRegistry.newView(gf).call(null,[this.$d().get_workbookViewModel()]);this.$f.addToDom(this.get_dom().domNode)},$9:function(){if(ss.isNullOrUndefined(this.$d().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$e=spiff.ObjectRegistry.newView(fj).call(null,[this.$d().get_toolbarViewModel()]);this.$e.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}},$a:function(){if(ss.isNullOrUndefined(this.$d().get_toolbarViewModel())||ss.isNullOrUndefined(this.$d().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$d().get_toolbarViewModel().get_dialogHostViewModel();var L=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[cb,ca,Object])).call(null,[e]);L.addToDom(this.get_toolbarContainer());if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app&&tab.BrowserSupport.get_isIos()){$(document.body).addClass('ff-ViewingToolbarModalDialog')}if(tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){this.get_viewModel().get_toolbarViewModel().add_dataAlertDialogVMCreated(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().get_toolbarViewModel().remove_dataAlertDialogVMCreated(ss.mkdel(this,this.$c))})))}},$c:function(){var e=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bH,SharedWidgets.DialogWidget,Object])).call(null,[this.get_viewModel().get_toolbarViewModel().dataAlertDialogViewModel]);e.addToDom(this.element)}},ss.makeGenericType(spiff.BaseView$1,[X]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[X])]);ss.initInterface(cU,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_requestURI:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_vFilterList:null,get_toolbarCommands:null,get_customViewsViewModel:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cT,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(W,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$B)&&ss.isValue(this.$B.get_dashboardViewModel())){return this.$B.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$w();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$w();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$w();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$w();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.HCq},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$v().get_isDashboard()},$y:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_vFilterList:function(){return null},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_requestURI:function(){return tsConfig.requestURI},get_viewControllers:function(){var e=this.$u();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$J},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$B)){return this.$B.get_toolbarViewModel()}else{return null}},$x:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(W)+tsConfig.layoutid)},$w:function(){if(ss.isValue(this.$B)&&ss.isValue(this.$B.get_dashboardViewModel())){return this.$B.get_dashboardViewModel().get_flipboardViewModel()}return null},$v:function(){if(ss.isValue(this.$B)){return this.$B.get_dashboardViewModel()}return null},$u:function(){if(ss.isValue(this.$B)){return this.$B.get_contentDashboardViewModel()}return null},get_domNode:function(){return this.$A.get_dom().domNode},get_toolbarContainer:function(){return this.$A.get_toolbarContainer()},startup:function(){this.$B=new X(tab.ApplicationModel.get_instance());this.$A=spiff.ObjectRegistry.newView(V).call(null,[this.$B]);this.$B.add_applicationUpdate(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_applicationUpdate(ss.mkdel(this,this.$i))})));this.$q();if(this.$B.get_shouldShowRightAreaDrawer()){T.get_instance().initRightAreaDrawer()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$G=tab.MiscUtil.clearTimeout(this.$G);this.$J.dispose();this.$J=null;for(var e=0;e<this._connections.length;e++){var L=this._connections[e];L.dispose()}ss.clear(this._connections);for(var go=0;go<this._subscriptions.length;go++){var gp=this._subscriptions[go];dojo.unsubscribe(gp)}ss.clear(this._subscriptions);if(ss.isValue(this.$B)){this.$B.dispose();this.$B=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$A.dispose();this.$z=null;this.$A=null;this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$H++}this.$n(!this.$C)},$7:function(e){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(L){var go=L.createPdfExportDialog(this.get_session(),tsConfig.is_mobile);e(go)}))},createTapToInteractTransition:function(e,L){},createTapToInteractTouchHandler:function(e){},resize:function(e){if(!e&&ss.isValue(this.$F)){var L=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);if(L.w===this.$F.w&&L.h===this.$F.h){this.$E=false;return}if(this.$E){this.$F=L;this.$E=false;return}this.$E=true}else{this.$E=false}this.doResize()},$b:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$h));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$h))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f))})))},$j:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$A.get_dashboardNode().get(0))||ss.referenceEquals(e.target,this.$A.get_containerNode().get(0))||ss.referenceEquals(e.target,gf.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$A.get_dashboardNode().get(0))||$(e.target).hasClass('wcLayoutContainer')){var L=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(L)){tab.SelectionClientCommands.clearAllSelections(L.get_visualId())}this.$6();e.preventDefault()}}},$q:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',tab.BrowserSupport.get_isIE());W.selectCenteringContainer().append(this.get_domNode());var e=new s;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$g)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(e,e.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(e,e.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));e.$6(ss.mkdel(this,this.$j));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){e.$7(ss.mkdel(this,this.$j))})));this.$A.onAddedToDom();if(tsConfig.is_mobile_app){this.$p(null);spiff.OrientationHandler.add_orientationChanged(ss.mkdel(this,this.$k));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.OrientationHandler.remove_orientationChanged(ss.mkdel(this,this.$k))})))}this.session.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$t();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$8));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$8))})));this._subscriptions.push(dojo.subscribe('onDoLaunchAuthoring',ss.mkdel(this,this.$8)));this.$b()},$l:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){}},$8:function(){tab.ToolbarServerCommands.launchEditing()},$a:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$i:function(){if(ss.isNullOrUndefined(this.$v())){return}var e=this.$u();if(ss.isValue(e)&&ss.getKeyCount(e.viewControllersBySheet)===1){this.$r(e.viewControllers[0],null)}this.$t();if(!this.get_skipInit()&&!this.$D){this.session.get_waitHandler().onNextHide(ss.mkdel(this,this.$9));this.$o()}this.$D=true;if(!this.$y()){var L=W.getClientBounds();L.h=this.$v().get_size().EUR;L.w=this.$v().get_size().rec;this.$d(L)}this.resize(false)},$t:function(){},$o:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$a())}},$6:function(){if(this.get_viewControllers().length<=1){return}this.$r(null,null)},$r:function(e,L){var go=new Object;go.data=L;go.oldActive=null;go.newActive=null;var gp=go;var gq=null;var gr=null;if(ss.isValue(this.$z)){gq=this.$z;gp.oldActive=gq.get_viewWidget()}if(ss.isValue(e)){gr=e;gp.newActive=gr.get_viewWidget()}if(ss.referenceEquals(gr,gq)){return}this.$z=gr;if(this.get_autoUpdate()||!this.get_invalid()){if(!ss.staticEquals(W.$2$1,null)){W.$2$1(gp)}}},$g:function(e){var L=$(e.target);if(L.filter('input[type=text]').length===0&&L.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$f:function(){T.get_instance().initTabbedNavigation();this.$F=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);if(this.$H>1){this.$s(W.getClientBounds())}},$h:function(e){var L=e.layoutStatus;if(ss.isValue(e.primarySheet)){var go=this.$u().viewControllersBySheet['v_'+e.primarySheet];if(ss.isValue(go)){this.$r(go,e)}}this.set_invalid(!ss.isNullOrUndefined(L.Ijt)&&L.Ijt);if(ss.isValue(L.XRl)&&L.XRl.length>0){var gp=[];for(var gq=0;gq<L.XRl.length;gq++){var gr=L.XRl[gq];if(!ss.contains(gp,gr.Gge)&&gr.iaP.length>0){gp.push(gr.Gge)}}var gs=this.get_viewControllers();for(var gt=0;gt<gp.length;gt++){var gu=gp[gt];var gv={$:gu};var gw=_.find(gs,ss.mkdel({name:gv},function(gx){return ss.referenceEquals(gx.get_sheetName(),this.name.$)}));if(ss.isValue(gw)){gw.$1(e)}}}},$n:function(e){var L=(e?0:1000);this.$G=tab.MiscUtil.clearTimeout(this.$G);this.$G=window.setTimeout(ss.mkdel(this,this.$m),L)},$m:function(){if(!this.session.get_waitHandler().isBusy()&&(!this.$C||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$B)){this.$c();return}this.$G=tab.MiscUtil.clearTimeout(this.$G);this.$G=window.setTimeout(ss.mkdel(this,this.$m),100)},$p:function(e){var L=window.innerHeight;var go=(ss.isValue(e)?e.get_dimensions().h:tabBootstrap.ViewerBootstrap.get_instance().getViewport().h);var gp=(ss.isValue(e)?e.get_dimensions().w:tabBootstrap.ViewerBootstrap.get_instance().getViewport().w);var gq=Math.max(tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().maxHeight,tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().minHeight);var gr=Math.max(tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().maxWidth,tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize().minWidth);var gs=go/gp*gr;if(tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed){gs-=tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight()}if(gs>gq&&gs>L){this.get_domNode().css('height',gs+'px')}else if(!ss.isNullOrEmptyString(this.get_domNode().get(0).style.height)){this.get_domNode().css('height','')}},$k:function(){bf.getViewport(ss.mkdel(this,this.$p))},$c:function(){this.$F=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var e=W.getClientBounds();this.$s(e);tab.CommandController.get().refreshLayout();this.$d(e);var L=T.get_instance().get_tabbedNavigation();if(tsConfig.is_mobile_app&&this.$y()&&ss.isValue(L)){L.get_widgetDomNode().style.width=e.w+'px';if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){L.get_widgetDomNode().style.maxWidth=$('body').width()+'px'}var go=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize();if(ss.isValue(go)){L.resizeShim(go.h)}}this.$C=true},$d:function(e){if(ss.isValue(this.$I)&&tab.RectUtil.isEqual(this.$I,e)){return}this.$I=e;if(this.$B.get_shouldShowRightAreaDrawer()){this.$I.w+=tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()}{var L=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(fk.get_toolbarIsBottom()){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile_app){this.get_toolbarContainer().css('width',e.w+'px');if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){this.get_toolbarContainer().css('max-width',tab.DoubleUtil.roundToInt($('body').width()))}}else if(fk.get_toolbarIsBottom()||!this.$y()){this.get_toolbarContainer().css('max-width',e.w+'px')}this.$A.resizeToolbar()}}finally{if(ss.isValue(L)){L.dispose()}}}},$s:function(e){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$C){return}var L={rec:e.w,EUR:e.h};tab.SheetClientCommands.setPortSize(L)},$e:function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPINT'.toString();var L=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(L);tab.BrowserSupport.doPostMessageWithContext('tableau.responsive')},$9:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$e();var L=$('#staticImage');var go=$('#loadingGlassPane');var gp=$('#loadingSpinner');var gq=$('#svg-spinner-container');var gr=$('#tapToInteract');this.createTapToInteractTouchHandler(gr);if(tsConfig.animateTransition){this.session.get_waitHandler().loadingElementFadeOut(gp,e,function(gs){gs.hide();gq.css('background','rgba(255,255,255,0.6)')});this.session.get_waitHandler().loadingElementFadeOut(go,e,function(gs){gs.hide().css('cursor','default')});if(L.length>0){this.session.get_waitHandler().loadingElementFadeOut(L,e,function(gs){gs.hide()})}if(go.length>0){this.createTapToInteractTransition(tsConfig.animateTransition,e)}}else{gp.hide();L.hide();go.hide();this.createTapToInteractTransition(tsConfig.animateTransition,0)}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,cU,cT]);ss.initClass(X,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$7.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$7.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$7},get_toolbarViewModel:function(){return this.$6},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tab.FeatureFlags.isEnabled('CommentingPane')&&tab.FeatureFlags.isEnabled('CommentingOnSingleVizWithContext');return e},get_shouldShowRightAreaDrawer:function(){return this.get_shouldShowCommenting()},$3:function(){tab.CommandController.get().get_legacySession().performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$4))},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}this.$2();this.$5.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$7=new gg(e)},$2:function(){if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){var L=e;if(ss.isValue(L['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(L['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(Y,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var L=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(L);this.$9.confirmButton.append(L.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(Z,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bc,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},onAuthDialogMessage:function(e,L){if(ss.isNullOrUndefined(e)){return}var go=e;var gp=go.data.toString();if(ss.isNullOrEmptyString(gp)||!ss.equalsT(gp,'tableau.authCompleted')){return}if(!ss.equalsT(tab.BrowserSupport.getOrigin(document.location),go.origin)){return}this.cleanup(L);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(bb,a,{cleanup:function(e){var L=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(L)){L.parentElement.removeChild(L)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}}},bc);ss.initClass(ba,a,{show:function(){this.createOverlay();var e=new cv;var L=ss.mkdel(this,function(){this.cleanup(e)});gk.add_zoneBecameValid(L);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){gk.remove_zoneBecameValid(L)});var go=ss.mkdel(this,function(gq){this.onAuthDialogMessage(gq,e)});e.eventHandler=go;var gp=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(gp);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(gp)});tab.WindowHelper.addListener(window.self,'message',go)},createOverlay:function(){var e=$('.dashboardSpacer');var L=$("<div id='auth-overlay'></div>");var go=document.createElement('iframe');go.setAttribute('src',this.$0);go.setAttribute('tb-test-id','dse-frame');L.append(go);e.append(L)}},bb);ss.initInterface(cZ,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(be,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var L=0;L<e.length;L++){var go=e[L];tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-simpleFontLoader','@font-face',go.toCSSRules())}},downloadFonts:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},finishDownloadingFonts:function(){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$0()}))},$0:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[cZ]);ss.initClass(bf,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var L={x:e.x,y:e.y};bf.$0(L);L.y-=this.$0.t;L.x-=this.$0.l;return L},getVisibleRoom:function(e,L){var go=this.translatePositionToViewport(e);var gp=function(gu){return Math.max(0,gu-L)};var gq=gp(Math.min(this.get_dimensions().w-go.x,window.pageXOffset+window.innerWidth-e.x));var gr=gp(Math.min(go.x,e.x));var gs=gp(Math.min(go.y,e.y));var gt=gp(Math.min(this.get_dimensions().h-go.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:gs,roomBelow:gt,roomLeft:gr,roomRight:gq}},getDocumentViewport:function(e){var L=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-L.roomLeft),t:ss.Int32.trunc(e.y-L.roomAbove),w:ss.Int32.trunc(L.roomLeft+L.roomRight),h:ss.Int32.trunc(L.roomAbove+L.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(bg,a,{get_renderOffset:function(){return this.$7},set_renderOffset:function(e){this.$7=e;this.get_currentContext().translate(-this.$7.x,-this.$7.y)},get_currentCanvas:function(){return(this.$6?this.$3:this.$0)},get_currentContext:function(){return(this.$6?this.$4:this.$1)},get_visibleRect:function(){if(ss.isValue(this.cachedVisibleRect)){return this.cachedVisibleRect}var e=bg.$4(this.get_currentCanvas(),this.get_currentCanvas().width);var L=bg.$3(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$7.x,y:this.$7.y,w:e,h:L}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$6=false;this.$4=null;this.$3=null;this.get_currentContext().reset();this.$7={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$7=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$6){return}if(ss.isValue(e)){this.$2=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$2=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$3)){this.$3=document.createElement('canvas');var L={w:this.$0.width,h:this.$0.height};var go={w:bg.$4(this.$0,0),h:bg.$3(this.$0,0)};bi.densifyCanvasUsingSize(this.$3,L,go)}if(ss.isNullOrUndefined(this.$4)){this.$4=bg.getRenderContext(this.$3,'transparent')}else{this.$4.reset()}var gp=this.$0.width/bg.$4(this.$0,this.$0.width);if(gp!==1){bi.scaleCanvasDrawing(this.$4,gp)}this.$4.setTransform(this.$1.get_transformation());this.$6=true;var gq=tab.RectXYUtil.outsetRect(this.$2,1,1);tab.RectXYUtil.intersectInPlace(gq,this.get_visibleRect());this.clearRect(gq)},endOffScreenRender:function(e){if(!this.$6){return}this.$6=false;this.$1.save();this.$1.set_alpha(e);this.$1.resetTransform();if(ss.isNullOrUndefined(this.$2)){this.$1.drawImage1(this.$3,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$2)){var L=this.$1.pixelRatio;var go=Math.max(0,Math.floor((this.$2.x-this.$7.x)*L));var gp=Math.max(0,Math.floor((this.$2.y-this.$7.y)*L));var gq=Math.min(this.$0.width,Math.ceil(this.$2.w*L));var gr=Math.min(this.$0.height,Math.ceil(this.$2.h*L));this.$1.drawImage5(this.$3,go,gp,gq,gr,go,gp,gq,gr)}this.$1.restore()},renderFilledRectangle:function(e,L,go,gp,gq){var gr=go/2;var gs=gp/2;var gt=this.get_currentContext();gt.set_shapeFillStyle(gq);gt.fillRect(e-gr,L-gs,go,gp)},renderFilledWedge:function(e,L,go,gp,gq,gr,gs){var gt=bg.toCanvasAngle(gp);var gu=bg.toCanvasAngle(gq);if(Math.abs(gu-gt)<bg.angleEpsilon){return}if(ss.isNullOrUndefined(gs)){gs=false}var gv=this.get_currentContext();gv.beginPath();gv.moveTo(e,L);gt=bg.$6(gt);gu=bg.$6(gu);gv.arc(e,L,go,gt,gu,gs);gv.closePath();gv.set_shapeFillStyle(gr);gv.fill()},renderLine:function(e,L,go,gp){var gq=this.get_currentContext();gq.set_linePattern('solid');gq.set_lineWidth(L);gq.set_strokeStyle(go);bg.strokePath(gq,e,false,gp)},renderLineLoop:function(e,L,go){var gp=this.get_currentContext();gp.set_linePattern('solid');gp.set_lineWidth(L);gp.set_strokeStyle(go);bg.strokePath(gp,e,true,false)},renderLineEdge:function(e,L,go,gp,gq,gr,gs,gt){var gu=this.get_currentContext();gu.set_linePattern('solid');gu.set_lineWidth(gt);gu.set_strokeStyle(gs);var gv=Math.atan2(gp-go,L-e);var gw=Math.cos(gv);var gx=Math.sin(gv);gq/=2;gr/=2;var gy=gq*gx;var gz=gr*gx;var gA=gq*gw;var gB=gr*gw;gu.beginPath();gu.moveTo(e+gy,go-gA);gu.lineTo(L+gz,gp-gB);gu.lineTo(L-gz,gp+gB);gu.lineTo(e-gy,go+gA);gu.closePath();gu.stroke()},renderFilledLineEdge:function(e,L,go,gp,gq,gr,gs,gt){var gu;var gv=this.get_currentContext();if(ss.referenceEquals(gs,gt)){gu=gs}else{var gw=gv.createLinearGradient(e,go,L,gp);gw.addColorStop(0,gs);gw.addColorStop(1,gt);gu=gw}if(gq===gr){gv.set_lineWidth(gq);gv.set_linePattern('solid');gv.set_strokeStyle(gu);gv.beginPath();gv.moveTo(e,go);gv.lineTo(L,gp);gv.closePath();gv.stroke()}else{var gx=Math.atan2(gp-go,L-e);var gy=Math.cos(gx);var gz=Math.sin(gx);gq/=2;gr/=2;var gA=gq*gz;var gB=gr*gz;var gC=gq*gy;var gD=gr*gy;gv.beginPath();gv.moveTo(e+gA,go-gC);gv.lineTo(L+gB,gp-gD);gv.lineTo(L-gB,gp+gD);gv.lineTo(e-gA,go+gC);gv.closePath();gv.set_shapeFillStyle(gu);gv.fill()}},renderPolygon:function(e,L,go){var gp=this.get_currentContext();gp.set_lineWidth(L);gp.set_strokeStyle(go);bg.strokePath(gp,e,true,true)},renderFilledPolygon:function(e,L){var go=this.get_currentContext();go.set_shapeFillStyle(L);bg.fillPath(go,e,true)},setupContextForTextRendering:function(e){this.get_currentContext().set_shapeFillStyle(e.$5(0,-1,'colorOverrideNone'));var L=this.createStyleSettersAndSetDominantStyle(e.get_textStyleColumns());return L},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(gw){}}var L=[];var go=_.keys(e);for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=e[gq];var gs=true;var gt=gr.v[(gr.c?0:0)];for(var gu=1;gu<gr.length;++gu){if(!ss.referenceEquals(gt,gr.v[(gr.c?0:gu)])){gs=false;break}}if(gs){this.setTextStyleProperty(gq,gt)}else if(gq!=='text_style_color'){L.push(gq)}}var gv=ss.mkdel(this,function(gw){for(var gx=0;gx<L.length;gx++){var gy=L[gx];var gz=e[gy];this.setTextStyleProperty(gy,gz.v[(gz.c?0:gw)])}});return gv},setTextStyleProperty:function(e,L){switch(e){case'font':{this.get_currentContext().set_font(L);break}case'text_orientation':{this.get_currentContext().set_textAngle(L);break}case'text_alignment':{this.get_currentContext().set_textAlign(L);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!L);break}default:{if(!tab.FeatureFlags.isEnabled('Runtime')){}break}}},renderText:function(e,L,go,gp,gq,gr){if(gr&&ss.isValue(this.$5)&&this.$5.$0(L,go)){var gs=this.$5.$1(L,go);L=gs.x;go=gs.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(gq)){this.get_currentContext().set_textFillStyle(gq)}if(gp>0){if(!gr){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,L,go,gp)}else{this.get_currentContext().fillText1(e,L,go)}if(gr){var gt=this.get_currentContext().measureText(e).width;var gu=this.get_currentContext().get_textAlign()==='end';var gv=this.get_currentContext().get_textAngle();var gw;if(gv>1){gw='down'}else if(gv<-1){gw='up'}else{gw='horizontal'}this.$5=new n(L,go,gt,gu,gw)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$5=null},strokeCurrentPath:function(e,L){var go=this.get_currentContext();go.set_lineWidth(e);go.set_strokeStyle(L);go.stroke()},fillCurrentPath:function(e){var L=this.get_currentContext();L.set_shapeFillStyle(e);L.fill()},clipRect:function(e,L,go,gp,gq){var gr=100000;switch(e){case 0:{return}case 1:{go=-100000;gq=200000;break}case 2:{L=-100000;gp=200000;break}}var gs=bg.roundStartAndExtent(go,gq,0);var gt=bg.roundStartAndExtent(L,gp,0);this.get_currentContext().setClip({x:ss.Int32.trunc(gt.item1),y:ss.Int32.trunc(gs.item1),w:ss.Int32.trunc(gt.item2),h:ss.Int32.trunc(gs.item2)})}});ss.initClass(bh,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bi,a,{});ss.initClass(ey,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(e){this.$9=e},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(e){this.$8={x:e.x,y:e.y}},dragStarted:function(e,L,go){this.$6={x:e,y:L};this.$3=go;this.$2={x:0,y:0}},recordScrollingOffsets:function(e){this.$c={x:e.x,y:e.y}},updateAndRenderShape:function(e){this.constrainShape(e);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(e){this.$8={x:e.pageX-this.$3.x,y:e.pageY-this.$3.y};if(ss.isInstanceOfType(this,bk)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(e,L){this.get_dragStart().x-=e;this.get_dragStart().y-=L;this.$c.x+=e;this.$c.y+=L;this.$2.x+=e;this.$2.y+=L;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(e){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);e.append(this.$5)},show:null,hide:null,hitTest:function(e,L,go){var gp=L||this.isSingleSelect();return(gp?this.$0(e,go):this.$1(e,go))},$0:function(e,L){var go={x:this.$8.x,y:this.$8.y,w:1,h:1};var gp=e.hitTestBoundingBoxes(go,true,L);return e.hitTestSingle(go,L,gp)},$1:function(e,L){var go=e.hitTestBoundingBoxes(this.get_hitTestingBox(),false,L);var gp=[];var gq=this.get_hitTestingBox();for(var gr=go.length-1;gr>=0;gr--){var gs=go[gr];var gt=gs.get_objectId();if(gt<0){continue}var gu=cK.findPaneNode(gs);if(ss.isNullOrUndefined(gu)){continue}var gv=L.getPaneDrawInfoFromKey(gu.get_paneKey());var gw=cN.getTransformInfo(gv,gs);var gx=tab.RectXYUtil.intersect(gq,gu.get_boundingBox());var gy=this.shapeAreaHit(gx,gv,gs,gw);if(gy){gp.push(new cO.$ctor1(gv.c['tuple_id'].gv(gt),5,1))}}return gp},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(e){if(this.isStateObjectTypeCorrect(e)){e.updateLastState()}},getStateDiff:function(e){if(this.isStateObjectTypeCorrect(e)){this.saveCurrentState(e);return e.getStateDiff()}var L=new Array(1);L[0]=this.get_hitTestingBox();return L},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(bk,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(e){return tab.CircleUtil.boundingBox((e?this.$j:this.$i))},updateSpecificShape:function(e){var L=this.get_dragStart().x-this.get_connectNodePos().x;var go=this.get_dragStart().y-this.get_connectNodePos().y;var gp=Math.sqrt(Math.pow(L-e.x,2)+Math.pow(go-e.y,2));this.$i={center:{x:L+this.get_drawOffsets().x,y:go+this.get_drawOffsets().y},radius:gp};this.$j={center:{x:L+this.get_totalScrollOffset().x,y:go+this.get_totalScrollOffset().y},radius:gp};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var e={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var L=this.$d(e);if(L>0){this.displayDistance(L)}},$d:function(e){var L=this.$k.get_latLongRect();if(ss.isNullOrUndefined(L)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var go={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var gp={x:go.x+(e.x-this.$i.center.x),y:go.y};var gq=(L.FVU-L.Qao)/this.$k.get_mapHeight();var gr=L.FVU-gq*go.y;var gs={item1:L.kVX,item2:gr};var gt={item1:L.eMT,item2:gr};var gu=cF.haversineDistance(gs,gt,this.$k.get_earthRadius());var gv=gu/this.$k.get_mapWidth();return Math.abs(gp.x-go.x)*gv},displayDistance:function(e){var L=this.get_dom().find('.tabDistanceReadout');L.text(this.$e(e));var go={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(L.height()),2)};L.css('left',go.x+'px');L.css('top',go.y+'px')},$e:function(e){var L=this.$k.get_smallUnitDisplay();if(e>=this.$k.get_unitTransition()){e/=this.$k.get_smallToLargeUnitDivisor();L=this.$k.get_largeUnitDisplay()}var go=tab.DoubleUtil.sigFigs(e,this.$k.get_sigFigs());var gp=0;if(go!==0){var gq=Math.floor(Math.log(Math.abs(go))/Math.log(10))+1;gp=Math.max(0,this.$k.get_sigFigs()-gq)}var gr=go.toFixed(gp);if(this.$k.get_decimalMark()===','&&gr.indexOf('.')!==-1){gr=ss.replaceAllString(gr,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',gr,L)},formatReadoutTestHook:function(e){return this.$e(e)},computeRadialDistanceTestHook:function(e){return this.$d(e)},renderShape:function(){var e=this.get_dom().find('.circle_crosshair');var L=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());e.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());e.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());L.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var e=this.get_dom().find('.tabDistanceReadout');var L=this.get_dom().find('.circle_radius');if(this.$g()){e.css('font-size',this.$k.get_fontSizePixels());e.css('color',this.$k.get_fontColor());e.show();L.show()}else{e.hide();L.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(e,L,go,gp){var gq=this.$g();return cN.circleAreaHit(L,go.get_boundingBox(),this.$j,go.get_objectId(),gp,L.markType,gq)},sendSelectionCommand:function(e,L,go,gp){var gq=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(e,this.get_hitTestingBox(),this.$j,L,go,gp,gq)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new bl)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),bl)){return true}}return false}},ey);ss.initClass(ez,a,{updateLastState:null,getStateDiff:null});ss.initClass(bl,a,{saveCurrentState:function(e){this.$0=tab.CircleUtil.clone(e)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var e=new Array(1);e[0]=tab.CircleUtil.boundingBox(this.$0);return e}},ez);ss.initClass(bm,a,{render:function(){return React.DOM.div({className:'tab-collapsible-container'},this.$1(),this.$0())},$1:function(){return spiff.EventForwarder.span({tap:ss.mkdel(this,function(e){this.$3()})},{className:'tab-collapsible-title'},[this.props.title+' . . .'])},$3:function(){this.setState({isOpen:!this.state.isOpen})},$0:function(){return React.DOM.div({className:'tab-collapsible-body',style:this.$2()},(this.state.isOpen?this.props.children:null))},$2:function(){return{visibility:(this.state.isOpen?'visible':'hidden'),opacity:(this.state.isOpen?1:0)}}},React.Component);ss.initClass(bn,a,{},ss.EventArgs);ss.initClass(bo,a,{showAlertDialog:function(e,L,go,gp){var gq=bo.$0();var gr={content:e,title:L,contentSelectable:go,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(gq)}};if(go){bp.$1(L,e,gp)}var gs=React.createElement(eJ,gr);ReactDOM.render(gs,gq)},showConfirmationDialog:function(e,L,go,gp,gq){var gr=bo.$0();var gs={content:e,title:L,contentSelectable:go,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(gr)}};if(go){bp.$1(L,e,null)}gs.dialogButtons.push({buttonClickHandler:gp,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});gs.dialogButtons.push({buttonClickHandler:gq,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var gt=React.createElement(eJ,gs);ReactDOM.render(gt,gr)},showSheetAuthenticationOverlay:function(e,L){bp.$0('AuthenticationOverlay',e);var go=new ba(e,L);go.show()},showGenericDataSourceErrorOverlay:function(e,L){bp.$0('GenericErrorOverlay',e);var go=new cD(e,L);go.show()},showSheetAuthenticationDialog:function(e,L){bp.$0('AuthenticationDialog',e);var go=new bX(e,L);go.show()},showGenericDataSourceErrorDialog:function(e,L){bp.$0('GenericErrorDialog',e);var go=new cC(e,L);go.show()},showFileDownloadDialog:function(e,L,go,gp){var gq=new ci(e,L,go,gp);gq.show()}},null,[tab.ICommonDialogProvider]);ss.initClass(bp,a,{});ss.initClass(bq,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new bs(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,L){var go=null;go=ss.mkdel(this,function(){if(!ss.staticEquals(L,null)){L()}this.$1[e]=ss.delegateRemove(this.$1[e],go)});this.$1[e]=ss.delegateCombine(this.$1[e],go)}});ss.initEnum(br,a,{unspecified:0,twoPassRendering:1});ss.initClass(bs,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(bt,a,{});ss.initClass(bu,a,{dispose:function(){this.confirmViewModel.remove_shown(ss.mkdel(this,this.$d));this.confirmViewModel.remove_hidden(ss.mkdel(this,this.$c));this.$g.remove_closed(ss.mkdel(this,this.$b));this.$g.dispose();this.$g=null;ss.makeGenericType(spiff.BaseView$1,[bv]).prototype.dispose.call(this)},buildDom:function(){this.element.append($('<div>').addClass('tabConfirmationMessage').html(this.confirmViewModel.get_messageHtml()));var e=$('<div>').addClass('tabConfirmationButtons');this.element.append(e);if(this.confirmViewModel.get_showDenyButton()){this.$f=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$a),this.confirmViewModel.get_denyText(),'tabConfirmationDenyButton',2,1);this.disposables.add$1(this.$f);e.append(this.$f.element)}if(this.confirmViewModel.get_showConfirmButton()){this.$e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$9),this.confirmViewModel.get_confirmText(),'tabConfirmationConfirmButton',0,2);this.disposables.add$1(this.$e);e.append(this.$e.element)}this.$g=new spiff.ModalDialog.$ctor1(this.confirmViewModel.get_titleText(),this.element);this.$g.add_closed(ss.mkdel(this,this.$b))},$b:function(e,L){this.confirmViewModel.cancel()},$9:function(){this.confirmViewModel.confirm()},$a:function(){this.confirmViewModel.deny()},$c:function(e){if(ss.isNullOrUndefined(this.$g)){return}this.$g.close(null)},$d:function(){if(ss.isNullOrUndefined(this.$g)){return}this.$g.show()}},ss.makeGenericType(spiff.BaseView$1,[bv]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bv])]);ss.initClass(bv,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_messageHtml:function(){return this.$5},set_messageHtml:function(e){this.$5=e},get_visible:function(){return this.$a},get_confirmText:function(){return this.$3},set_confirmText:function(e){this.$3=e},get_denyText:function(){return this.$4},set_denyText:function(e){this.$4=e},get_titleText:function(){return this.$8},set_titleText:function(e){this.$8=e},get_showConfirmButton:function(){return this.$6},set_showConfirmButton:function(e){this.$6=e},get_showDenyButton:function(){return this.$7},set_showDenyButton:function(e){this.$7=e},dispose:function(){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.prototype.dispose.call(this)},show:function(){if(this.$a){return}if(ss.isNullOrUndefined(this.$9)){this.$9=spiff.ObjectRegistry.newView(bu).call(null,[this])}this.$a=true;this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){var e=ss.mkdel(this,function(){this.dispose()});this.add_hidden(e);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(e)})))},confirm:function(){this.$2('confirm')},deny:function(){this.$2('deny')},cancel:function(){this.$2('cancel')},$2:function(e){if(this.$a===false){return}this.$a=false;if(ss.isValue(this.$2$2)){this.$2$2(e)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bw,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bz,bx,Object]));ss.initClass(bx,a,{});ss.initClass(by,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bz,a,{get_dom:function(){return this.get_template()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[bA]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===bA.modeSelect){if(tsConfig.allow_custom_view_save){var L=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();L.append(this.$15.get_inputElement());this.$14=this.$q();L.append(this.$14.element);this.get_dom().saveViewArea.append(L);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextSelect))}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var go=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),go)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var L=e.current();var go=this.$9(L,false);this.$10[ss.unbox(L.id)]=go;this.$V(L);this.get_dom().myViewsListArea.append(go)}}finally{e.dispose()}}else{this.$R(this.get_dom().myViewsListArea)}},$g:function(){this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews);this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var L=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(L.moveNext()){var go=L.current();var gp=this.$9(go,true);this.$10[ss.unbox(go.id)]=gp;this.$V(go);this.get_dom().otherViewsListArea.append(gp)}}finally{L.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save){this.get_dom().manageModeControlArea.hide();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',bA.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,L){var go=spiff.LabelToggleButton.newCheckbox(e,false);go.set_selected(L);this.disposables.add$1(go);return go},$R:function(e){var L=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(L)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,L){var go=$('<div/>').addClass('tab-cv-viewListItem');if(L){var gp=this.$h(e);go.addClass('tab-cv-viewListItem-showOwner').append(gp)}else if(tsConfig.allow_custom_view_save){var gq=this.$m(e);go.append(gq)}var gr=this.$d(e);go.append(gr);go.click(ss.mkdel(this,function(gs){this.$I(e)}));return go},$d:function(e){var L=this.$u(e);var go=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var gp=this.$l(e);var gq=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(L).attr('title',L);go.append(gp);go.append(' ');go.append(gq);return go},$l:function(e){var L=this.get_viewModel().isDefault(e);var go=new spiff.IconButton;if(tsConfig.allow_custom_view_default){go.addClass('tab-customViews-viewListItem-setDefaultButton');go.onClick(ss.mkdel(this,function(gr){this.$O(e)}));var gp;var gq;if(L){gp='tab-icons-customView-toggled';gq=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{gp='tab-icons-customView-menu';gq=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}go.set_disabled(L);go.setIcon(gp);go.set_hoverTooltipText(gq)}this.disposables.add$1(go);return go.element},$h:function(e){var L=this.$v(e);var go=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(L).attr('title',L);return go},$m:function(e){var L=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var go=new spiff.IconButton;go.addClass('tab-customViews-viewListItem-renameButton');go.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);go.setIcon('tab-icons-edit');go.onClick(ss.mkdel(this,function(gr){this.$L(e)}));this.disposables.add$1(go);L.append(go.element);var gp=new spiff.IconButton;gp.addClass('tab-customViews-viewListItem-deleteButton');gp.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);gp.setIcon('tab-icons-delete');gp.onClick(ss.mkdel(this,function(gr){this.$A(e)}));this.disposables.add$1(gp);L.append(gp.element);if(tsConfig.allow_custom_view_share){var gq=new spiff.IconButton;gq.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){gq.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);gq.setIcon('tab-icons-view-public')}else{gq.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);gq.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===bA.modeSelect){gq.set_disabled(true)}gq.onClick(ss.mkdel(this,function(gr){this.$K(e)}));this.disposables.add$1(gq);L.append(gq.element)}return L},$i:function(e,L){var go=tab.DomUtil.getTransformScale(this.get_rootElement());var gp=$('<div/>').addClass('tab-customViews-rename-container');gp.click(ss.mkdel(this,this.$M));var gq=$('<div/>').addClass('tab-cv-viewListItem').width(L.width()/go);var gr=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var gs=new spiff.IconButton;gs.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var gt=gs;gt.setIcon('tab-icons-canceledit');gt.onClick(ss.mkdel(this,function(gx){this.$z(L)}));gr.append(gt.element);gq.append(gr);gq.append(this.$p(e));gp.append(gq);this.get_dom().domRoot.append(gp);this.$13.get_inputElement().focus();var gu=L.position().top;var gv=L.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{gu/=go;gv/=go;var gw=L[0].parentElement;while(ss.isValue(gw)&&gw.style.position!=='absolute'&&gw.style.position!=='relative'){gw=gw.parentElement}if(ss.isValue(gw)){gu+=gw.offsetTop;gv+=gw.offsetLeft}}gq.css('top',gu+'px').css('left',gv+'px')},$p:function(e){var L=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',bA.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));L.append(this.$13.get_inputElement());return L},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var L=this.$x();L.children().hide();this.$i(e.name,L)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var L=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(L);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===bA.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=this.$11}else{L=this.$y(e)}if(this.get_viewModel().isDefault(e)){L.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){L.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){L.addClass('tab-cv-viewListItem-publicView')}var go=this.$u(e);L.children('.tab-cv-viewListItem-viewName').text(go).attr('title',go)},$T:function(){if(this.get_viewModel().get_mode()===bA.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===bA.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,L){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var L=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(L)){L=new Object}L.name=e;L.isPublic=this.$n(this.$12);this.get_viewModel().save$1(L,null,function(go){dN.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,L){if(ss.equalsT(L.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===bA.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(L){this.updateViewListsState()}),function(L){dN.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault)})},$A:function(e){var L=Y.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(L.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(L){dN.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var L=$(e.target);var go=L.hasClass('tab-customView-rename-textInput');if(!go){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){dN.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName);return}var L=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(L);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(go){this.$t(L);this.updateViewListsState()}),ss.mkdel(this,function(go){dN.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming);this.$t(L);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==bA.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(L){this.updateViewListsState()}),ss.mkdel(this,function(L){dN.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,L){var go=this.get_viewModel().get_mode();if(go===bA.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(go===bA.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=tab.Strings.ToolbarCustomViewsOriginalView}else{L=e.name}if(this.get_viewModel().isDefault(e)){var go=tab.Strings.ToolbarCustomViewsDefault.toLocaleLowerCase();L+=' '+go}return L},$v:function(e){var L;if(this.get_viewModel().isOriginalView(e)){L=tsConfig.workbook_owner_friendly_name}else{L=e.owner.friendlyName}return L}},ss.makeGenericType(spiff.BaseView$1,[bA]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bA])]);ss.initInterface(cV,a,{add_hideDialogRequested:null,remove_hideDialogRequested:null,get_dialogProps:null,onDialogHidden:null});ss.initClass(bA,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideDialogRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return bz},get_viewModel:function(){return this},get_dialogProps:function(){var e=tab.Strings.CustomViewsDialogTitle;var L=new bx;L.viewModel=this;return{title:e,testId:'customViews',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(bw,L)}},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var L=this.cleanCustomViewName(e);return L.length>0&&L.length<=bA.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,bA.maxCustomViewNameLength)},$4:function(){this.raiseActionEvent(this.hideView);this.raiseActionEvent(this.$2$6)},save:function(e,L,go){var gp=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(gp)){gp=new Object;gp.name=e}this.save$1(gp,L,go,false)},save$1:function(e,L,go,gp){this.$s.saveCustomizedView(e,ss.mkdel(this,function(gq){var gr=ss.mkdel(this,function(gs){this.$c(gs);if(ss.isValue(L)){L(gs)}});if(gp){this.setDefault(gq,gr,function(gs){gr(gq)})}else if(this.isDefault(gq)){this.setDefault(null,function(gs){gr(gq)},function(gs){gr(gq)})}else{gr(gq)}}),ss.mkdel(this,function(gq){this.$b(gq);if(ss.isValue(go)){go(gq)}}))},getMyCustomViewByName:function(e){var L=null;for(var go=0;go<this.$q.length;go++){var gp=this.$q[go];if(ss.equalsT(gp.name,e)){L=gp}}return L},select:function(e){if(this.isOriginalView(e)){this.$s.navigateToOriginalView();tsConfig.current_custom_view_id=null}else{this.$s.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,L,go){this.destroyCustomView(e,L,go)},update:function(e,L,go){this.$g(e,null,L,go)},buildUrl:function(e,L){return tab.CustomizedViewSession.buildUrl(e,L)},makeCurrentDefault:function(e,L){this.setDefault(this.$l,e,L)},setDefault:function(e,L,go){this.$s.setDefaultCustomizedView(e,ss.mkdel(this,function(gp){this.$e(gp);if(ss.isValue(L)){L(gp)}}),ss.mkdel(this,function(gp){this.$d(gp);if(ss.isValue(go)){go(gp)}}))},startManage:function(){if(this.$p===bA.modeSelect&&this.get_hasCustomViews()){this.$f(bA.modeManage)}},exitManageMode:function(){this.$f(bA.modeSelect)},updateCustomizedViews:function(e,L){this.$5(e,L)},destroyCustomView:function(e,L,go){this.$o=true;this.$s.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;this.$s.updateTsConfig(null,true);if(ss.isValue(tsConfig.requestURI)&&ss.isValue(e.owner)){var gp=tsConfig.requestURI;var gq='/'+e.owner.username+'/'+e.urlId;tsConfig.requestURI=ss.replaceAllString(gp,gq,'')}}this.$5(null,null);if(ss.isValue(L)){L()}}),ss.mkdel(this,function(gp){this.$5(null,null);if(ss.isValue(go)){go(gp)}}))},updateCustomizedViewPublicState:function(e,L,go,gp){if(!ss.isValue(e)||L===e.isPublic){return}var gq=new Object;gq.id=e.id;gq.isPublic=L;gq.name=e.name;gq.owner=e.owner;gq.startViewId=e.startViewId;gq.urlId=e.urlId;this.$g(gq,e,go,gp)},updateCustomizedViewName:function(e,L,go,gp){if(ss.equalsT(e.name,L)){return}var gq=new Object;gq.id=e.id;gq.isPublic=e.isPublic;gq.name=L;gq.owner=e.owner;gq.startViewId=e.startViewId;gq.urlId=e.urlId;this.$g(gq,e,go,gp)},$g:function(e,L,go,gp){this.$s.updateCustomizedView(e,ss.mkdel(this,function(gq){if(ss.isValue(L)){var gr=ss.indexOf(this.$q,L);if(gr>=0){ss.removeAt(this.$q,gr);ss.insert(this.$q,gr,e)}if(ss.isValue(L)&&ss.referenceEquals(e.id,L.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(go)){go(gq)}}),ss.mkdel(this,function(gq){this.$5(null,null);if(ss.isValue(gp)){gp(gq)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,L){this.$s.getCustomizedViews(ss.mkdel(this,function(go,gp){this.$3(go,gp);if(ss.isValue(e)){e(go,gp)}}),ss.mkdel(this,function(go){this.$2(go);if(ss.isValue(L)){L(go)}}))},$c:function(e){var L=tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'&&!tsConfig.reloadOnCustomViewSave;if(L||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(L){var go;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(go=0;go<this.$q.length;go++){if(ss.referenceEquals(this.$q[go].name,e.name)){this.$q[go]=e;break}}if(go>=this.$q.length){this.$q.push(e);this.$q.sort(bA.$0)}}else{for(go=0;go<this.$r.length;go++){if(ss.referenceEquals(this.$r[go].name,e.name)){this.$r[go]=e;break}}if(go>=this.$r.length){this.$r.push(e);this.$r.sort(bA.$0)}}}this.$l=e}else{this.$s.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,L){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var go=0;go<e.length;go++){var gp=e[go];if(this.belongsToCurrentUser(gp)){this.$q.push(gp)}else{this.$r.push(gp)}if(this.isCurrentCustomView(gp)){this.$l=gp;this.$m=gp.name}}this.$q.sort(bA.$0);this.$r.sort(bA.$0);this.$n=L;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,cV]);ss.initClass(bB,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bC,a,{$e:function(){return this.get_template()},get_dashboardNode:function(){return this.$e().dashboardNode},get_containerNode:function(){return this.$e().domRoot},$a:function(){if(ss.isValue(this.$f.get_formats())){this.$e().dashboardNode.css(this.$f.get_formats());if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){var e={top:this.$f.gutter.top+'px',left:this.$f.gutter.left+'px'};this.$e().dashboardNode.css(e)}}},$c:function(){this.$e().dashboardNode.height(this.$f.get_size().EUR).width(this.$f.get_size().rec);if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){$('.tab-gutter').height(this.$f.get_size().EUR+this.$f.gutter.top+this.$f.gutter.bottom).width(this.$f.get_size().rec+this.$f.gutter.left+this.$f.gutter.right)}},$b:function(e){var L=spiff.ObjectRegistry.newView(gk).call(null,[e]);if(e.get_zoneType()==='title'){L.prependToDom(this.$e().dashboardNode)}else{L.addToDom(this.$e().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){this.$c();this.$a();var e=_.keys(this.$f.get_zoneViewModels());for(var L=0;L<e.length;L++){var go=e[L];this.$b(this.$f.get_zoneViewModels()[go])}var gp=this.$e().domRoot.parent();gp.on('scroll',ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(function(){gp.off('scroll')}))}spiff.Widget.prototype.onAddedToDom.call(this)},$9:function(e){var L=this.get_viewModel().viewControllers;for(var go=0;go<L.length;go++){var gp=L[go];gp.get_viewWidget().handlePageScroll()}},$d:function(){if(this.$f.get_renderMode()==='render-mode-client'){var e=this.$e().dashboardNode.find('img');var L=e.length;for(var go=0;go<L;go++){var gp=e[go];if(ss.isNullOrUndefined(gp)||gp.naturalHeight===0||gp.naturalWidth===0){continue}var gq=document.createElement('canvas');gq.width=gp.naturalWidth;gq.height=gp.naturalHeight;var gr=gq.getContext('2d');gr.drawImage(gp,0,0);try{var gs=gq.toDataURL('image/png',new Object);gp.src=gs}catch(gB){}}}var gt=this.$e().dashboardNode.clone(false,false);gt.addClass('facadedom');bC.uniquefyClonedFilterRadioElements(gt);if(this.$f.get_renderMode()==='render-mode-server'){var gu=this.$e().dashboardNode.find('canvas');var gv=gt.find('canvas');var gw=gu.length;for(var gx=0;gx<gw;gx++){var gy=gu[gx];var gz=gv[gx];if(!ss.isValue(gz)){continue}var gA=gz.getContext('2d');if(ss.isValue(gy)&&gy.width>0&&gy.height>0&&ss.isValue(gA)){gA.drawImage(gy,0,0)}}}this.$e().dashboardNode.parent().append(gt)}},ss.makeGenericType(spiff.BaseView$1,[bD]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bD])]);ss.initClass(bD,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isStory:function(){return this.dashboardModel.pm.Jqz},get_zoneViewModels:function(){return this.$n},get_formats:function(){return this.dashboardModel.get_formats()},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$m||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$m=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},$l:function(){return tab.CommandController.get().get_legacySession()},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$n));try{while(e.moveNext()){var L=e.current();this.$n[L].dispose()}}finally{e.dispose()}ss.clearKeys(this.$n);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$k));for(var go=0;go<this.viewControllers.length;go++){var gp=this.viewControllers[go];gp.dispose()}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$8));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},$8:function(e){if(ss.keyExists(this.$n,e.get_zoneId())){this.$c(e.get_zoneId())}var L=this.$4(e);if(L.get_zoneType()==='viz'){if(ss.isValue(L.get_zoneContentViewModel())){this.$b(L)}else{var go=null;go=ss.mkdel(this,function(){L.remove_newZoneContent(go);this.$b(L)});L.add_newZoneContent(go)}}L.set_isActiveZone(L.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$i(L)},$b:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var L=this.$3(e.get_associatedSheet());e.get_zoneContentViewModel().viewController=L},$4:function(e){var L=new gl(e);this.$n[e.get_zoneId()]=L;return L},$5:function(e){var L=new ss.ObjectEnumerator(this.$n);try{while(L.moveNext()){var go=L.current();if(go.value.get_zoneType()===e){return go.value.get_zoneContentViewModel()}}}finally{L.dispose()}return null},$i:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$7:function(){this.$j(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$g:function(){this.raiseActionEvent(this.$2$3)},$f:function(){this.raiseActionEvent(this.$2$4)},$e:function(){this.raiseActionEvent(this.$2$5)},$a:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard())){return}this.raiseActionEvent(this.$2$2);this.$j(function(e){return e.get_zoneType()==='viz'})},$j:function(e){var L=[];var go=_.keys(this.$n);for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=this.$n[gq];if(e(gr)){L.push(gq)}}this.$d(L);this.$2()},$d:function(e){for(var L=0;L<e.length;L++){var go=e[L];this.$c(go)}},$c:function(e){var L=this.$n[e];if(ss.isValue(L)){if(L.get_zoneType()==='viz'){var go=this.viewControllersBySheet['v_'+L.get_associatedSheet()];if(ss.isValue(go)){delete this.viewControllersBySheet['v_'+L.get_associatedSheet()];ss.remove(this.viewControllers,go);go.dispose()}}L.dispose();delete this.$n[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var L=0;L<e.length;L++){var go=e[L];if(!ss.keyExists(this.$n,go.get_zoneId())&&this.dashboardModel.isValidSheet(go)){this.$8(go)}}},$h:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$k:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$6:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).WeS){return}var e=this.dashboardModel.get_activeZoneID();var L=ss.getEnumerator(Object.keys(this.$n));try{while(L.moveNext()){var go=L.current();var gp=this.$n[go];gp.set_isActiveZone(gp.get_zoneId()===e)}}finally{L.dispose()}},$9:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).WeS){return}var e=this.dashboardModel.get_readyZoneID();var L=ss.getEnumerator(Object.keys(this.$n));try{while(L.moveNext()){var go=L.current();var gp=this.$n[go];gp.set_isReadyZone(gp.get_zoneId()===e)}}finally{L.dispose()}},$3:function(e){var L=this.dashboardModel.getViewSession(e);var go=new fK(e,L);this.viewControllersBySheet['v_'+e]=go;this.viewControllers.push(go);return go}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bE,a,{render:function(){return React.DOM.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent'},this.$4(),this.$3(),this.$a(),this.$7(),this.$2(),this.$6(),this.$5(),this.$8())},$4:function(){var e=tab.Strings.DataAlertOnConstantThreshold(this.props.selectionCaption);return React.DOM.div({className:'tab-dataAlertConditionMessage'},e)},$3:function(){return React.DOM.div({className:'tab-dataAlertConditionArea'},React.DOM.div({className:'tab-dataAlertOperatorArea'},React.DOM.label({className:'tab-dataAlertOperatorLabel'},tab.Strings.DataAlertCondition),React.createElement(spiff.ComboBoxComponent,this.props.conditionComboBoxProps)),React.DOM.div({className:'tab-dataAlertThresholdArea'},React.DOM.label({className:'tab-dataAlertThresholdLabel'},tab.Strings.DataAlertThreshold),this.$9(),React.DOM.span(this.$0(this.props.thresholdIsValid),this.props.thresholdErrorMessage)))},$0:function(e){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')}}},$9:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return React.DOM.input({type:'text',value:this.props.threshold,className:e,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(L){this.props.onThresholdInputTextChanged(L.target.value)})})},$a:function(){var e='tab-dataAlertTitleInput tab-TextInput';var L=!tab.MiscUtil.isNullOrEmpty$1(this.props.title);if(!L){e+=' error'}return React.DOM.div({className:'tab-dataAlertTitleInputArea'},React.DOM.label({className:'tab-dataAlertTitleInputLabel'},tab.Strings.DataAlertSubject),React.DOM.input({type:'text',className:e,maxLength:bF.maxTitleLength,value:this.props.title,onChange:ss.mkdel(this,function(go){this.props.onTitleInputTextChanged(go.target.value)})}),React.DOM.span(this.$0(L),tab.Strings.DataAlertNoSubjectErrorMessage))},$7:function(){return React.DOM.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.DOM.label({className:'tab-dataAlertNotificationIntervalInputLabel'},tab.Strings.DataAlertNotificationInterval),React.createElement(spiff.ComboBoxComponent,this.props.notificationIntervalInMinutes))},$2:function(){return React.DOM.div({className:'tab-dataAlertAddRecipients'},React.DOM.label({className:'tab-dataAlertAddRecipientsLabel'},'Recipients'),React.createElement(fE,this.props.addRecipientsProps))},$6:function(){var e='tab-dataAlertEmailInput tab-TextInput';if(!tab.MiscUtil.isNullOrEmpty$1(this.props.emailErrorText)){e+=' error'}return React.DOM.div({className:'tab-dataAlertEmailInputArea',style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},React.DOM.label({className:'tab-dataAlertEmailInputLabel'},tab.Strings.ToolbarSubscribeEmailPlaceholder),React.DOM.input({type:'text',className:e,maxLength:cr.maxEmailLength,onChange:ss.mkdel(this,function(L){this.props.onEmailInputTextChanged(L.target.value)})}))},$5:function(){return React.DOM.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText)),this.props.emailErrorText)},$8:function(){var e={clickHandler:ss.mkdel(this,this.$1),label:this.props.submitButtonText,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var L=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tab-dataAlertSubmitButtonArea'},L)},$1:function(){this.props.onSave()}},React.Component);ss.initClass(bF,a,{add_closeDialogBox:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_closeDialogBox:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_conditionOperatorComboBoxViewModel:function(){if(ss.isValue(this.$t)){return this.$t}var e=this.$t=spiff.ComboBoxViewModel.newReactLineAndArrowComboBoxViewModel();var L=[];var go=[];go.push('greater-than-equal');go.push('greater-than');go.push('less-than-equal');go.push('less-than');go.push('equals');var gp=go;for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];L.push(new spiff.ComboBoxItem(null,bF.getOperationTypeText(gr),gr,null))}var gs=this.$8(this.$u.get_operator(),L);e.setItemsWithInitialSelection(L,gs);this.$t.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$t.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));return this.$t},get_notificationIntervalComboBoxViewModel:function(){if(ss.isValue(this.$w)){return this.$w}var e=this.$w=spiff.ComboBoxViewModel.newReactLineAndArrowComboBoxViewModel();var L=[];var go=[];go.push(0);go.push(2147483647);go.push(60);go.push(1440);go.push(10080);var gp=go;for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];L.push(new spiff.ComboBoxItem(null,bF.getNotificationIntervalText(gr),gr,null))}var gs=this.$7(this.$u.get_notificationIntervalInMinutes(),L);e.setItemsWithInitialSelection(L,gs);this.$w.add_selectedItemChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$w.remove_selectedItemChanged(ss.mkdel(this,this.$e))})));return this.$w},get_createButtonEnabled:function(){return this.$u.get_thresholdIsValid()&&!this.$x&&this.$p()&&!ss.isNullOrEmptyString(this.$u.get_title())},$p:function(){if(this.$5()){return this.$q()&&this.$r()===1}return this.$s.get_users().length>0&&this.$r()===0},$r:function(){return this.$s.get_users().filter(function(e){return!e.hasEmail}).length},$q:function(){return cr.validate(this.$v)},$l:function(){this.$u.add_titleChanged(ss.mkdel(this,this.refresh));this.$u.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$u.add_measureChanged(ss.mkdel(this,this.refresh));this.$u.add_conditionChanged(ss.mkdel(this,this.$a));this.$s.add_propsUpdated(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$u.remove_titleChanged(ss.mkdel(this,this.refresh));this.$u.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$u.remove_measureChanged(ss.mkdel(this,this.refresh));this.$u.remove_conditionChanged(ss.mkdel(this,this.$a));this.$s.remove_propsUpdated(ss.mkdel(this,this.refresh))})))},$k:function(){this.$y=new tab.Debouncer(ss.mkdel(this,function(){tab.DataAlertCommands.updateDataAlert(this.$u,this.$u.get_referenceLineSpecId())}),bF.debounceTimeout);this.disposables.add$1(this.$y)},$8:function(e,L){return _.find(L,function(go){return go.get_data()===e})},$7:function(e,L){return _.find(L,function(go){return go.get_data()===e})},getThresholdErrorMessage:function(){var e=this.$u.get_conditionPresModel().tbM02;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$u.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var L=tab.ApplicationModel.get_instance().get_appPresModel().IFh;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$u.get_threshold(),L))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},refresh:function(){this.updateProps$1({conditionComboBoxProps:this.get_conditionOperatorComboBoxViewModel().get_props(),enableSubmitButton:this.get_createButtonEnabled(),submitButtonText:(this.$x?tab.Strings.DataAlertCreateButtonSaving:tab.Strings.DataAlertCreateButton),onThresholdInputTextChanged:ss.mkdel(this,this.$f),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$g),onSave:ss.mkdel(this,this.$9),title:this.$u.get_title(),notificationIntervalInMinutes:this.get_notificationIntervalComboBoxViewModel().get_props(),selectionCaption:this.$u.get_selectionCaption(),threshold:this.$u.get_threshold(),thresholdIsValid:this.$u.get_thresholdIsValid(),thresholdErrorMessage:this.getThresholdErrorMessage(),onEmailInputTextChanged:ss.mkdel(this,this.$d),showEmailInput:this.$5(),emailErrorText:this.$6(),addRecipientsProps:this.$s.get_props()})},$6:function(){if(this.$p()){return''}else if(this.$5()){return tab.Strings.SubscribeInvalidAddress}else if(this.$r()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(this.$s.get_users().length===0){return tab.Strings.DataAlertNoRecipients}return''},$5:function(){return this.$4()&&tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)},$4:function(){return this.$s.get_users().filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$d:function(e){this.$v=e;this.refresh()},$g:function(e){if(ss.referenceEquals(e,this.$u.get_title())){return}this.$u.set_title(e)},$e:function(e){if(ss.isNullOrUndefined(e)){return}this.$u.set_notificationIntervalInMinutes(e.get_data())},$f:function(e){if(ss.referenceEquals(e,this.$u.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$1(e)){this.$y.cancel()}else{this.$n()}this.$m(this.$u.get_operator(),e)},$b:function(e){if(ss.isNullOrUndefined(e)){return}var L=e.get_data();this.$c(L)},$c:function(e){if(e===this.$u.get_operator()){return}this.$n();this.$m(e,this.$u.get_threshold())},$n:function(){if(ss.isValue(this.$y)){this.$y.invokeActionDelayed()}},$9:function(){this.$x=true;this.refresh();if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)){this.$h();return}else{this.$i()}},$i:function(){var e=ss.mkdel(this,function(){this.$h()});var L=ss.mkdel(this,function(go){var gp=((go===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);dN.showNotification(gp);this.$x=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$v,e,L)},$h:function(){this.$u.updateRecipients(this.$s.get_users());var e=ss.mkdel(this,function(){dN.showNotification(tab.Strings.DataAlertCreateSuccess);this.raiseActionEvent(this.$3$1);this.dispose()});var L=ss.mkdel(this,function(){dN.showNotification(tab.Strings.DataAlertCreateFailure);this.$x=false;this.refresh()});tab.WorkgroupServerCommands.createDataAlert(this.$u,e,L)},$a:function(){this.$j(this.$u.get_operator());this.refresh();this.$j(this.$u.get_operator())},$j:function(e){var L=this.get_conditionOperatorComboBoxViewModel().get_items();var go=L.filter(function(gp){return gp.get_data()===e})[0];this.get_conditionOperatorComboBoxViewModel().set_selectedItem(go)},$m:function(e,L){var go=this.$u.get_conditionPresModel().Aee;if(this.$u.isValidThresholdText(L)){go=L}this.$u.set_threshold(L);this.$u.set_conditionPresModel({Fcc:e,Aee:go,tbM02:this.$u.get_conditionPresModel().tbM02})},$o:function(e){if(e.id===tsConfig.current_user_id){return this.$q()||e.hasEmail}return e.hasEmail}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bG,a,{$9:function(){var e=ss.mkdel(this,function(){this.$a.close(null)});this.get_viewModel().get_createViewModel().add_closeDialogBox(e);var L=this.$a;var go=this.get_viewModel();L.add_closing(ss.mkdel(go,go.onCancel));this.$a.add_closed(ss.mkdel(this,this.onDialogClosed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().get_createViewModel().remove_closeDialogBox(e)})))},dispose:function(){ss.makeGenericType(spiff.BaseView$1,[bH]).prototype.dispose.call(this);if(ss.isNullOrUndefined(this.$a)){return}this.$a.remove_closed(ss.mkdel(this,this.onDialogClosed));var e=this.$a;var L=this.get_viewModel();e.remove_closing(ss.mkdel(L,L.onCancel));this.$a.dispose()},onDialogClosed:function(e,L){this.dispose()}},ss.makeGenericType(spiff.BaseView$1,[bH]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bH])]);ss.initClass(bH,a,{get_createViewModel:function(){return this.$6},updateFromDialogPresModel:function(e){if(ss.isNullOrUndefined(e.oFX)){throw new ss.Exception('Unable to find an alert measure for selection.')}var L=new tab.DataAlert.$ctor1(e);this.$6=new bF(L);this.$6.add_closeDialogBox(ss.mkdel(this,this.$5));this.disposables.add$1(this.$6);this.disposables.add$1(this.addChildViewModel(this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_closeDialogBox(ss.mkdel(this,this.$5))})));this.incrementProps();return this},createInitialProps:function(){return{type:0,title:tab.Strings.DataAlertDialogTitle,positioningBehavior:2,showCloseButton:true,dialogWidth:400,onCloseRequest:ss.mkdel(this,this.$5),isModal:true,testId:'dataAlertDialog',dialogStyle:{maxHeight:'100%',overflowY:'auto'}}},createUpdatedProps:function(){return{children:React.createElement(bE,this.$6.get_props())}},$5:function(){tab.DataAlertCommands.tearDownReferenceLine();tab.DataAlertCommands.closeDataAlertDialog();_.defer(ss.mkdel(this,function(){this.dialogViewModelDisposed();this.dispose()}))},onCancel:function(e,L){this.$5()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bI,a,{get_variableListArea:function(){return this.$5},get_variableListInstruction:function(){return this.$9},get_variableListHeaderName:function(){return this.$7},get_variableListHeaderValue:function(){return this.$8},get_variableListContainer:function(){return this.$6},get_buttonArea:function(){return this.$1},get_editArea:function(){return this.$2},get_editTitle:function(){return this.$4},get_editInstruction:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bJ,a,{get_dialog:function(){return this.$g},$f:function(){return this.get_template()},get_variableListView:function(){return this.$j},dispose:function(){if(ss.isValue(this.$g)){this.$g.dispose()}if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.get_variableListView())){this.get_variableListView().dispose()}if(ss.isValue(this.$i)){this.$i.dispose()}ss.makeGenericType(spiff.BaseView$1,[bK]).prototype.dispose.call(this)},$a:function(){this.$f().get_variableListInstruction().text(this.get_viewModel().get_variableListInstruction());this.$f().get_variableListHeaderName().text(this.get_viewModel().get_variableListNameLabel());this.$f().get_variableListHeaderValue().text(this.get_viewModel().get_variableListValueLabel());this.get_variableListView().initDom(this.$f().get_variableListContainer());this.$f().get_editTitle().text(this.get_viewModel().get_editSectionTitle());this.$f().get_editInstruction().text(this.get_viewModel().get_editSectionInstruction());this.$e()},$b:function(){this.$f().get_editInstruction().hide();this.$i=spiff.ObjectRegistry.newView(bM).call(null,[this.get_viewModel().get_variableInEdit()]);this.$i.addToDom(this.$f().get_editArea())},$c:function(){this.$f().get_editInstruction().show()},$e:function(){this.$g.set_titleUnescaped(this.get_viewModel().get_promptTitle());this.$h.set_disabled(this.get_viewModel().get_isRequiredVariableMissing());if(!this.$g.get_isShown()){this.$g.show()}},$d:function(){this.$h=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$9),tab.Strings.DialogButtonOK,'tabDataConnPromptOkButton',0,1);this.$f().get_buttonArea().append(this.$h.element);this.$g=new spiff.ModalDialog.$ctor1(this.get_viewModel().get_promptTitle(),this.get_rootElement());this.$g.get_dialogElement().addClass('tabDataConnectionPromptDialog');this.$g.set_closeButtonVisible(false);this.$g.show();this.$a()},$9:function(){this.get_viewModel().applyConnectionVariables();this.$g.close(null)}},ss.makeGenericType(spiff.BaseView$1,[bK]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bK])]);ss.initClass(bK,a,{get_promptTitle:function(){return this.$4.get_promptTitle()},get_variableListInstruction:function(){return this.$4.get_variableListInstruction()},get_variableListNameLabel:function(){return this.$4.get_variableListNameLabel()},get_variableListValueLabel:function(){return this.$4.get_variableListValueLabel()},get_editSectionTitle:function(){return this.$4.get_editSectionTitle()},get_editSectionInstruction:function(){return this.$4.get_editSectionInstruction()},get_editSectionFromLabel:function(){return this.$4.get_editSectionFromLabel()},get_editSectionToLabel:function(){return this.$4.get_editSectionToLabel()},get_variableListViewModel:function(){return this.$6},get_variableInEdit:function(){return this.$5},get_isRequiredVariableMissing:function(){return _.any(this.$6.get_connectionVariables(),function(e){return e.get_isRequired()&&e.get_values().length===0})},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}spiff.BaseViewModel.prototype.dispose.call(this)},applyConnectionVariables:function(){tab.DataConnectionCommands.acceptConnectionVariables(this.$4.get_connectionName());this.get_variableListViewModel().set_selectedVariable(null)},$2:function(e){this.$4=e;this.$6.update(this.$4);this.raiseActionEvent(this.$6.contentChanged);this.raiseActionEvent(this.contentChanged)},$3:function(e){if(ss.isNullOrUndefined(e)){this.$5=tab.MiscUtil.dispose$1(this.$5);this.raiseActionEvent(this.variableInEditDeleted);return}if(ss.isNullOrUndefined(this.$5)){this.$5=new bN(e.get_variableModel(),e.get_valueModel(),this.$4.get_connectionName(),this.get_editSectionFromLabel(),this.get_editSectionToLabel());this.raiseActionEvent(this.variableFirstEdited)}this.get_variableInEdit().update(e.get_variableModel(),e.get_valueModel())}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bL,a,{get_variableModel:function(){return this.$4},get_valueModel:function(){return this.$3},get_variableListId:function(){return this.$2$1},set_variableListId:function(e){this.$2$1=e},get_variableListViewModel:function(){return this.$2$2},set_variableListViewModel:function(e){this.$2$2=e},get_isDefaultValue:function(){return this.$2}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bM,a,{$i:function(){return this.get_template()},dispose:function(){this.$k.dispose();this.$j.dispose();this.$l.dispose();ss.makeGenericType(spiff.BaseView$1,[bN]).prototype.dispose.call(this)},$9:function(){var e=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$k]);e.addToDom(this.$i().$5());var L=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$j]);L.addToDom(this.$i().$3());var go=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$l]);go.addToDom(this.$i().$6())},$f:function(){this.$i().$2().text(this.get_viewModel().get_variableDisplayName());this.$i().$2().prop('title',this.get_viewModel().get_variableDisplayName());this.$i().$1().text(this.get_viewModel().get_variableDescription());this.$i().$1().prop('title',this.get_viewModel().get_variableDescription());this.$g();if(this.get_viewModel().get_selectableValues().length===0){this.$i().$3().hide();this.$i().$6().hide();this.$i().$9().val(this.get_viewModel().get_firstValue());this.$i().$9().show()}else{this.$i().$9().css({display:'none'});this.$h(this.$j,this.get_viewModel().get_firstValueIndex());this.$i().$3().show();if(this.get_viewModel().get_operation().pp==='range-inclusive'){this.$h(this.$l,this.get_viewModel().get_secondValueIndex());this.$i().$6().show();this.$i().$4().text(this.get_viewModel().get_fromLabel());this.$i().$7().text(this.get_viewModel().get_toLabel());this.$i().$8().addClass('range')}else{this.$i().$6().hide();this.$i().$4().text('');this.$i().$7().text('');this.$i().$8().removeClass('range')}}},$g:function(){var e=[];var L=null;var go=this.get_viewModel().get_selectableOperations();for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=new spiff.ComboBoxItem(null,gq.RvO,gq,null);e.push(gr);if(gq.pp===this.get_viewModel().get_operation().pp){L=gr}}this.$k.setItemsWithInitialSelection(e,L)},$h:function(e,L){var go=[];var gp=null;for(var gq=0;gq<this.get_viewModel().get_selectableValues().length;gq++){var gr=new spiff.ComboBoxItem(null,this.get_viewModel().get_selectableValues()[gq],gq,null);go.push(gr);if(gq===L){gp=gr}}e.setItemsWithInitialSelection(go,gp)},$b:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().editOperation(e.get_data())},$a:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().editValueSelection(e.get_data(),null)},$c:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().editValueSelection(null,e.get_data())},$d:function(){var e=this.$i().$9().val();this.get_viewModel().editValueInput(e.trim())},$e:function(e){if(e.which===13){this.$d()}}},ss.makeGenericType(spiff.BaseView$1,[bN]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bN])]);ss.initClass(bN,a,{add_contentUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_contentUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fromLabel:function(){return this.$2$2},set_fromLabel:function(e){this.$2$2=e},get_toLabel:function(){return this.$2$3},set_toLabel:function(e){this.$2$3=e},get_variableDisplayName:function(){return this.$4.get_displayName()},get_variableDescription:function(){return this.$4.get_description()},get_valueIndex:function(){return this.$3.get_valueIndex()},get_operation:function(){return((this.$4.get_values().length>0)?this.$3.get_operation():this.$4.get_defaultValue().get_operation())},get_firstValue:function(){return((this.$4.get_values().length>0)?this.$3.get_firstValue():this.$4.get_defaultValue().get_firstValue())},get_firstValueIndex:function(){return((this.$4.get_values().length>0)?this.$3.get_firstValueIndex():this.$4.get_defaultValue().get_firstValueIndex())},get_secondValue:function(){return((this.$4.get_values().length>0)?this.$3.get_secondValue():this.$4.get_defaultValue().get_secondValue())},get_secondValueIndex:function(){return((this.$4.get_values().length>0)?this.$3.get_secondValueIndex():this.$4.get_defaultValue().get_secondValueIndex())},get_selectableOperations:function(){return this.$4.get_selectableOperations()},get_selectableValues:function(){return this.$4.get_selectableValues()},update:function(e,L){this.$4=e;this.$3=L;this.raiseActionEvent(this.$2$1)},editOperation:function(e){var L=this.$3.get_firstValueIndex();var go=this.$3.get_secondValueIndex();tab.DataConnectionCommands.editVariableByIndex(this.$2,this.$4.get_guid(),this.$3.get_valueIndex(),e,L,go)},editValueSelection:function(e,L){var go=e;if(ss.isNullOrUndefined(go)){go=this.$3.get_firstValueIndex()}var gp=go;var gq=L;if(ss.isNullOrUndefined(gq)){gq=this.$3.get_secondValueIndex()}var gr=gq;tab.DataConnectionCommands.editVariableByIndex(this.$2,this.$4.get_guid(),this.$3.get_valueIndex(),this.$3.get_operation(),gp,gr)},editValueInput:function(e){tab.DataConnectionCommands.editVariableByInput(this.$2,this.$4.get_guid(),this.$3.get_valueIndex(),this.$3.get_operation(),e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bO,a,{get_variableName:function(){return this.$2},get_variableValue:function(){return this.$3},get_deleteVarBtnArea:function(){return this.$1}},spiff.Template,[ss.IDisposable]);ss.initClass(bP,a,{get_dom:function(){return this.get_template()},initDom:function(){this.get_dom().get_variableName().text(this.get_viewModel().get_variableModel().get_displayName());this.get_dom().get_variableName().prop('title',this.get_viewModel().get_variableModel().get_displayName());if(this.get_viewModel().get_isDefaultValue()&&this.get_viewModel().get_variableModel().get_isRequired()){this.get_dom().get_variableValue().text(this.get_viewModel().get_variableListViewModel().get_requiredVariableMessage());this.get_dom().get_variableValue().addClass('required')}else{this.get_dom().get_variableValue().text(this.get_viewModel().get_valueModel().get_displayValue());this.get_dom().get_variableValue().prop('title',this.get_viewModel().get_valueModel().get_displayValue())}var e=new spiff.IconButton;e.addClass('tabDataConnPromptDeleteVarBtn');e.setIcon('tabVarListItemDeleteIcon');e.set_hoverTooltipText(this.get_viewModel().get_variableListViewModel().get_deleteVariableTooltip());var L=ss.mkdel(this,function(){this.get_viewModel().get_variableListViewModel().deleteVariable(this.get_viewModel())});e.add_click(L);this.disposables.add$1(new tab.CallOnDispose(function(){e.remove_click(L);e.dispose()}));e.addToDom(this.get_dom().get_deleteVarBtnArea())}},ss.makeGenericType(spiff.BaseView$1,[bL]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bL])]);ss.initClass(bQ,a,{$e:function(){return this.get_template()},dispose:function(){if(ss.isValue(this.$j)){this.$j.dispose()}if(ss.isValue(this.$f)){this.$f.dispose()}if(ss.isValue(this.$i)){this.$i.remove_selectedItemChanged(ss.mkdel(this,this.$a));this.$i.dispose()}if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.$g)){this.$g.dispose()}ss.makeGenericType(spiff.BaseView$1,[bR]).prototype.dispose.call(this)},initDom:function(e){this.$j=spiff.ListView.createListView(this.get_viewModel().get_listViewModel(),this);this.$e().domRoot.prepend(this.$j.get_domRoot());this.$c();this.$h=new spiff.ScrollableViewModel.$ctor1(false);this.$h.set_content(this.$e().domRoot[0]);this.$h.set_scrollY(true);this.$g=spiff.ScrollableView.createScrollableView(this.$h);this.$g.addToDom(e);this.$j.useScrollableView(this.$g);this.$h.triggerRefresh()},$c:function(){this.$f=tab.MiscUtil.dispose$1(this.$f);if(ss.isValue(this.$i)){this.$i.remove_selectedItemChanged(ss.mkdel(this,this.$a));this.$i.dispose()}if(this.get_viewModel().get_multiValueVariables().length>0){this.$f=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,function(){this.$b(true)}),this.get_viewModel().get_addVariableLabel(),'tabDataConnPromptAddVarBtn',2,2);this.$f.set_hoverTooltipText(this.get_viewModel().get_addVariableTooltip());this.$f.addToDom(this.$e().get_addVariableCtrlBtnArea());this.$9();this.$e().get_addVariableCtrlBtnArea().show()}},$9:function(){this.$i=new spiff.ComboBoxViewModel;this.$i.add_selectedItemChanged(ss.mkdel(this,this.$a));var e=[];var L=this.get_viewModel().get_multiValueVariables();for(var go=0;go<L.length;go++){var gp=L[go];e.push(new spiff.ComboBoxItem(null,gp.get_displayName(),gp.get_guid(),null))}this.$i.setItems(e);var gq=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$i]);gq.addToDom(this.$e().get_addVariableCtrlVarSelector());this.$e().get_addVariableCtrlVarSelector().hide()},$a:function(e){if(ss.isNullOrUndefined(e)){return}this.get_viewModel().addVariable(e.get_data());this.$b(false)},$b:function(e){if(e){this.$e().get_addVariableCtrlBtnArea().hide();this.$e().get_addVariableCtrlVarSelector().show();this.$i.set_selectedItem(null);this.get_viewModel().get_listViewModel().clearSelection()}else{this.$e().get_addVariableCtrlBtnArea().show();this.$e().get_addVariableCtrlVarSelector().hide()}},$d:function(){this.$h.triggerRefresh();this.$c();if(ss.isValue(this.get_viewModel().get_selectedVariable())){this.onSelectedVariableChanged(this.get_viewModel().get_selectedVariable())}},onSelectedVariableChanged:function(e){this.$b(false)},createListItemContent:function(e){var L=e.get_data();var go=spiff.ObjectRegistry.newView(bP).call(null,[L]);return go.get_dom().domRoot}},ss.makeGenericType(spiff.BaseView$1,[bR]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bR]),spiff.IListItemContentCreator]);ss.initClass(bR,a,{get_addVariableLabel:function(){return this.$5.get_addVariableLabel()},get_addVariableTooltip:function(){return this.$5.get_addVariableTooltip()},get_deleteVariableTooltip:function(){return this.$5.get_deleteVariableTooltip()},get_requiredVariableMessage:function(){return this.$5.get_requiredVariableMessage()},get_connectionName:function(){return this.$5.get_connectionName()},get_connectionVariables:function(){return this.$6},get_multiValueVariables:function(){return _.filter(this.get_connectionVariables(),function(e){return e.get_supportMultiValue()})},get_selectedVariable:function(){return this.$8},set_selectedVariable:function(e){if(ss.referenceEquals(this.$8,e)){return}this.$8=e;if(ss.isNullOrUndefined(this.$8)){this.get_listViewModel().clearSelection()}else{this.get_listViewModel().selectItemById(this.$8.get_variableListId())}if(!ss.staticEquals(this.selectedVariableChanged,null)){this.selectedVariableChanged(this.$8)}},get_listViewModel:function(){return this.$7},$4:function(){var e=(ss.isNullOrUndefined(this.get_selectedVariable())?null:this.get_selectedVariable().get_variableListId());var L=[];var go=this.get_connectionVariables();for(var gp=0;gp<go.length;gp++){var gq=go[gp];if(gq.get_values().length===0){var gr=gq.get_defaultValue();gr.set_variableListId(gq.get_guid()+'-0');gr.set_variableListViewModel(this);var gs=ss.referenceEquals(gr.get_variableListId(),e);L.push(spiff.ListItemViewModel.newListItem(gq.get_guid(),gr,gs,false,false));continue}var gt=gq.get_values();for(var gu=0;gu<gt.length;gu++){var gv=gt[gu];var gw=gq.get_guid()+'-'+gv.get_valueModel().get_valueIndex();gv.set_variableListId(gw);gv.set_variableListViewModel(this);var gx=ss.referenceEquals(gv.get_variableListId(),e);L.push(spiff.ListItemViewModel.newListItem(gw,gv,gx,false,false))}}return L},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_selectionChanged(ss.mkdel(this,this.$3));var e=this.$7.get_originalCollection();for(var L=0;L<e.length;L++){var go=e[L];go.dispose()}this.$7.dispose()}if(ss.isValue(this.$8)){this.$8.dispose()}_.each(this.$6,function(gp){gp.dispose()});spiff.BaseViewModel.prototype.dispose.call(this)},update:function(e){this.$5=e;_.each(this.$6,function(go){go.dispose()});this.$6=_.map(this.$5.get_connectionVariables(),function(go){return new bS(go)});_.each(this.$7.get_originalCollection(),function(go){go.dispose()});this.$7.update(this.$4());var L=this.get_listViewModel().get_firstSelectedItem();this.set_selectedVariable((ss.isValue(L)?L.get_data():null))},$2:function(e,L){var go=_.find(this.get_connectionVariables(),function(gp){return ss.referenceEquals(gp.get_guid(),e)});return go.get_values()[L]},$3:function(){var e=this.get_listViewModel().get_firstSelectedItem();if(ss.isNullOrUndefined(e)){return}this.set_selectedVariable(e.get_data())},addVariable:function(e){var L=tab.DataConnectionCommands.addVariable(this.get_connectionName(),e);L.done(ss.mkdel(this,function(go){var gp=this.$2(e,go);if(ss.isValue(gp)){this.set_selectedVariable(gp)}if(!ss.staticEquals(this.variableAdded,null)){this.variableAdded(gp)}}))},deleteVariable:function(e){tab.DataConnectionCommands.deleteVariable(this.get_connectionName(),e.get_variableModel().get_guid(),e.get_valueModel().get_valueIndex(),ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.get_selectedVariable())){return}if(ss.referenceEquals(this.get_selectedVariable().get_variableListId(),e.get_variableListId())){this.set_selectedVariable(null)}}))}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bS,a,{get_displayName:function(){return this.$2.get_displayName()},get_description:function(){return this.$2.get_description()},get_guid:function(){return this.$2.get_guid()},get_supportMultiValue:function(){return this.$2.get_supportMultiValue()},get_isRequired:function(){return this.$2.get_isRequired()},get_defaultValue:function(){return this.$3},get_values:function(){return this.$4},get_selectableOperations:function(){return this.$2.get_selectableOperations()},get_selectableValues:function(){return this.$2.get_selectableValues()},dispose:function(){_.each(this.$4,function(e){e.dispose()});this.$3.dispose();spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bT,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,L){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(L)){return}this.populateAndDisplayList(L,2)},populateAndDisplayList:function(e,L){this.currentListPopulationMode=L;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var go=Math.min(e.NGM.length,this.get_viewModel().get_maxNumberListItems());for(var gp=0;gp<go;gp++){var gq=e.NGM[gp];this.$p.push(spiff.ListItemViewModel.newListItem(gq.YLs.toString(),gq,false,false,false))}if(go<e.hjl){var gr=e.hjl-go;var gs=((gr>1)?tab.Strings.SearchResultsNotShownPlural(gr.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(gs,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var L="<div class='{0}' title='{1}'>{1}</div>";var go;if(ss.isValue(e.get_data())){var gp=e.get_data();go=gp.gjO}else{go=e.get_id()}var gq=ss.formatString(L,'tab-list-item-label',tableau.format.escapeHTML(go));return $(gq).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var L=e.get_data();this.get_compositeSearchWidget().setSearchText(L.gjO);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([L.YLs]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={NGM:[L]};this.get_viewModel().saveSearchTextForItem(L.gjO,L.YLs)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var L=this.dataHighlighterViewModel.get_titleAreaWidth();if(L>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var L=e.prop('selectionStart');var go=e.prop('selectionEnd');var gp=L!==go;if(gp){return null}return L},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var L=this.$h();var go=ss.isValue(L);var gp=ss.isValue(this.$n);if(this.$o){if(go&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&gp&&go){var gq=ss.unbox(this.$n);var gr=ss.unbox(L);if(gq===gr){var gs=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(gr===gs){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[bV]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bV]),spiff.IListItemContentCreator]);ss.initEnum(bU,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(bV,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_fullDomainTotalNumItemsInSetChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_fullDomainTotalNumItemsInSetChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.xBc}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.EUR:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.rec:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneBorderWidth:function(){return this.$5.get_zoneBorderWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.CST02:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var L=!ss.referenceEquals(e,this.$9);this.$9=e;if(L&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var L=e!==this.$7;this.$7=e;if(L&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_fullDomainTotalNumItemsInSet:function(){return this.$6},set_fullDomainTotalNumItemsInSet:function(e){var L=e!==this.$6;this.$6=e;if(L&&!ss.staticEquals(this.$2$5,null)){this.$2$5()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return cA.makeFormatStyleDict(this.$5.get_bodyTextStyle())},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,L){if(tab.ApplicationModel.get_instance().get_isOffline()){var go=e.toLowerCase();var gp=[];var gq=[];var gr=this.$5.get_fullDomainItemSet().NGM;for(var gs=0;gs<gr.length;gs++){var gt=gr[gs];if(gt.gjO.toString().toLowerCase().indexOf(go)!==-1){gq.push(gt.YLs);gp.push(gt)}}this.lastSatisfiedSearchTerm=e;var gu={NGM:Array.prototype.slice.call(gp),hjl:gp.length};this.lastSatisfiedSearchResults=gu;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,gu)}this.highlightItems(Array.prototype.slice.call(gq))}else{var gv=new tab.HighlightItemsByPatternMatchCmd;gv.c['HBp02']=this.$5.get_fieldName();gv.c['vau']=e;gv.c['J_M']=this.$a;gv.set_uiBlocking('none');gv.invoke().done(ss.mkdel(this,function(gw){if(L){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=gw.$c['DBQ'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,gw.$c['DBQ'])}}))}},saveSearchTextForItem:function(e,L){var go=new tab.HighlightItemsByPatternMatchCmd;go.c['HBp02']=this.$5.get_fieldName();go.c['vau']=e;go.c['J_M']=this.$a;go.c['kyj']=[L];go.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.NGM.map(function(e){return e.YLs}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var L=ss.isValue(e.pm)&&ss.isValue(e.pm.KDk);if(L){var go=(this.$8.get_model().get_hasTitle()?e.pm.KDk:null);if(!ss.referenceEquals(go,this.$b)){this.$b=go;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.set_fullDomainTotalNumItemsInSet(this.$5.get_fullDomainItemSet().hjl)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(bW,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bX,a,{show:function(){var e=new cv;var L=ss.mkdel(this,function(go){this.onAuthDialogMessage(go,e)});e.eventHandler=L;tab.WindowHelper.addListener(window.self,'message',L);this.$0.add_closed(ss.mkdel(this,function(go,gp){this.cleanup(e)}));this.$0.show()},cleanup:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);this.$0.close(null)},dispose:function(){this.$0.dispose()}},bc,[ss.IDisposable]);ss.initClass(bY,a,{setDateRange:function(e,L){this.$u=bY.$2(e);this.$s=bY.$2(L);this.$v=bY.$4(this.$u);this.$t=bY.$4(this.$s)},show:function(e,L){if(ss.isValue(e)){this.$p=bY.$4(bY.$2(e));this.$B=bY.$2(L||e)}this.$l();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){bf.getViewport(ss.mkdel(this,function(L){var go=e.offset();var gp=tab.DoubleUtil.roundToInt(this.element.outerWidth());var gq=this.getMaxHeight();var gr=tab.DoubleUtil.roundToInt(e.outerHeight());go=this.$8(L,gr,go,gp,gq);this.element.offset(go)}))},$8:function(e,L,go,gp,gq){var gr=tab.DoubleUtil.roundToInt(go.left);var gs=tab.DoubleUtil.roundToInt(go.top);var gt=e.getDocumentViewport({x:gr,y:gs});var gu=gt.l+gt.w;var gv=gt.t+gt.h;if(gs+L-1+gq<=gv){gs+=L-1;gr=bY.$1(gr,gp,gt.l,gu)}else if(gs-(gq-1)>gt.t){this.useMaxHeight();gs-=gq-1;gr=bY.$1(gr,gp,gt.l,gu)}else if(gr-(gp-1)>gt.l){gr-=gp-1;gs=bY.$1(gs,gq,gt.t,gv)}else{var gw=gr;gr=gt.l;gr=bY.$1(gr,gp,gt.l,gw);gs=bY.$1(gs,gq,gt.t,gv)}return{left:gr,top:gs}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var L=$(e.target);if(!L.hasClass('tab-disabled')){this.$h(L)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var L=e.data();this.$B=new Date(L['year'],L['month'],L['dayOfMonth']);var go=new Date(Date.UTC(L['year'],L['month'],L['dayOfMonth']));this.$k(go)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var L=bY.$3(new Date);if(!this.$9(L)){this.$k(L)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(bY.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(bY.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(bY.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bY.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&bY.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var L;var go,gp;var gq,gr,gs;this.$w.html('');gq=$('<thead>').appendTo(this.$w);gs=$('<tr>').appendTo(gq);L=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[L]).appendTo(gs);L=bY.$0(L,1)}while(L!==this.$q);gr=$('<tbody>').appendTo(this.$w);gs=$('<tr>').appendTo(gr);go=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);go.setDate(go.getDate()-bY.$0(e,-this.$q));gp=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);gp.setDate(gp.getDate()+bY.$0(this.$q,-gp.getDay()));while(!bY.$5(go,gp)){this.$b(go).appendTo(gs);go.setDate(go.getDate()+1);if(go.getDay()===this.$q&&!bY.$5(go,gp)){gs=$('<tr>').appendTo(gr)}}if(this.$F){var gt=gr.find('tr');if(gt.length<6){var gu=tab.DoubleUtil.roundToInt(gt.height());for(var gv=gt.length;gv<6;++gv){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(gu).insertAfter(gt.last())}}}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(bZ,a,{});ss.initClass(ca,a,{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}},React.Component);ss.initClass(cb,a,{$5:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.hide)};if(ss.isValue(this.$6)){$.extend(e,this.$6.get_dialogProps())}return e},dispose:function(){if(ss.isValue(this.$6)){this.$6.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$7&&ss.isValue(this.$6)){this.$6.onDialogHidden()}spiff.GlobalUIEvents.fireDismissTemporaryElements();this.$7=true;this.$6=e;this.$6.add_hideDialogRequested(ss.mkdel(this,this.hide));this.incrementProps()},hide:function(){if(!this.$7){return}if(ss.isValue(this.$6)){this.$6.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$6.onDialogHidden();this.$6=null}this.$7=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$7,dialogProps:this.$5()}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(ds,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(cc,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,L,go,gp){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,L){}},null,[ds,ss.IDisposable]);ss.initClass(cd,a,{renderVisualListHelper:function(e,L){var go=e.get_visualListPM().tOA;this.renderDrawItems(go,e,L,null)},renderDrawItems:function(e,L,go,gp){var gq=this.get_currentContext();var gr=gq.get_numberSavedStates();var gs=4;for(var gt=0;gt<e.length;++gt){var gu=e[gt];if(true&&gt<gs&&gu.VzB==='jp$'){}else if(gu.VzB==='rOX'){var gv=gu;this.$8(L,gv,go,gp)}else{this.$b(gq,gu,go,null,gp,false)}}while(gq.get_numberSavedStates()>gr){gq.restore()}},renderVisualList:function(e,L){this.cachedVisibleRect=null;this.cachedVisibleRect=this.get_visibleRect();if(ss.isValue(e.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(e.get_defaultBackgroundColor());this.get_currentContext().fillRect(this.get_visibleRect().x,this.get_visibleRect().y,this.get_visibleRect().w,this.get_visibleRect().h)}this.renderVisualListHelper(e,L);this.cachedVisibleRect=null},renderDrawItemList:function(e){this.renderDrawItems(e,null,null,null)},$a:function(e){var L=e.get_visualListPM().oqX;var go=e.get_visualListPM().tOA;for(var gp=0;gp<go.length;gp++){var gq=go[gp];if(gq.VzB==='Osj'||gq.VzB==='nuS'){this.renderDrawItemDefaultOptions(this.get_currentContext(),gq)}else if(gq.VzB==='uEs'){var gr=this.get_currentCanvas().width;var gs=this.get_currentCanvas().height;var gt=gq;var gu=gt.WzG;if(ss.contains(cd.$b,L)){if(Math.abs(gu[3]-gu[1])>=gs){var gv={};gv.VzB=gq.VzB;gv.WzG=[0,0,0,gs];this.renderDrawItemDefaultOptions(this.get_currentContext(),gv);gv.WzG[0]+=gr-1;gv.WzG[2]+=gr-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),gv);return}}else if(ss.contains(cd.$c,L)){if(Math.abs(gu[2]-gu[0])>=this.get_currentCanvas().width){var gw={};gw.VzB=gq.VzB;gw.WzG=[0,0,gr,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),gw);gw.WzG[1]+=gs-1;gw.WzG[3]+=gs-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),gw);return}}}}},renderDrawItemDefaultOptions:function(e,L){this.$b(e,L,null,null,null,false)},$b:function(e,L,go,gp,gq,gr){if(!ss.isValue(e)||!ss.isValue(L)){return}switch(L.VzB){case'Osj':{{var gs=L;e.set_lineJoin((ss.isValue(gs.ObK)?bg.toCanvasLineJoin(gs.ObK):eS.defaultLineJoin));var gt='butt';var gu=gs.vWy||eS.defaultLinePattern;if(gu!=='dashed'&&gu!=='dotted'){gt=(ss.isValue(gs.pXS)?bg.toCanvasLineCap(gs.pXS):eS.defaultLineCap)}e.set_lineCap(gt);e.set_linePattern(gu);e.set_strokeStyle(tab.ColorModel.convertColorForCanvas(gs.YhU)||'rgb(0,0,0)');e.set_lineWidth(gs.Cwi||1)}break}case'nuS':{{var gv=L;e.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(gv.YhU))}break}case'uXb':{{var gw=L;var gx=gw.WAe;var gy=gw.Dwb;var gz=e.createLinearGradient(gx.thj,gx.RAC,gy.thj,gy.RAC);gz.addColorStop(0,tab.ColorModel.convertColorForCanvas(gw.xJf));gz.addColorStop(1,tab.ColorModel.convertColorForCanvas(gw.$pO));e.set_shapeFillStyle(gz)}break}case'bsq':{{var gA=L;if(gA.WzG.length!==4){return}var gB=ce.rectXYFromDrawRect(gA.WzG);e.strokeRect(gB.x,gB.y,gB.w,gB.h)}break}case'jpw':{{var gC=L;if(gC.WzG.length!==4){return}var gD=ce.rectXYFromDrawRect(gC.WzG);e.fillRect(gD.x,gD.y,gD.w,gD.h)}break}case'MkS':{{cd.$2(e,L,false)}break}case'NLY':{{cd.$2(e,L,true)}break}case'uEs':{{var gE=L;var gF=gE.WzG;bg.strokePath(e,gF,false,true)}break}case'Bhw':{{var gG=L;bg.strokePath(e,gG.WzG,true,true)}break}case'Qdw':{{var gH=L;bg.fillPath(e,gH.WzG,true)}break}case'__v':{{cd.$3(e,L,true)}break}case'bUP':{{cd.$3(e,L,false)}break}case'$OC':{{var gI=L;if(gI.WzG.length===4){if(true&&gI.WzG[2]-gI.WzG[0]===2){break}e.setClip({x:gI.WzG[0],y:gI.WzG[1],w:gI.WzG[2]-gI.WzG[0],h:gI.WzG[3]-gI.WzG[1]})}}break}case'ADd':{{var gJ=L;if(gJ.WzG.length!==2){return}var gK=gJ.WzG[0];var gL=gJ.WzG[1];var gM=-1;if(ss.isValue(gp)&&gp.w!==0&&gp.h!==0){var gN;var gO;if(e.get_isTextAngleHorizontal()){gN=((gp.x>gK)?gK:(gK-gp.x));gO=gp.w}else{gN=((gp.y>gL)?gL:(gL-gp.y));gO=gp.h}gM=Math.max(gN,gO-gN)}this.renderText(gJ.gjO,gK,gL,gM,null,gr)}break}case'MqA':{{cd.$0(e,L)}break}case'jp$':{{var gP=L;if(ss.isValue(gP.JZN)&&gP.JZN.length===2){e.translate(gP.JZN[0],gP.JZN[1])}if(ss.isValue(gP.wo_)&&gP.wo_.length===2){e.scale(gP.wo_[0],gP.wo_[1])}if(ss.isValue(gP.SNh)){e.rotate(gP.SNh*Math.PI/180)}}break}case'nfx':{{var gQ=new p(e);e.restore();gQ.$0(e)}break}case'mpa':{{e.save()}break}case'eTm':{{var gR=L;e.set_shouldAntialias(gR.chK)}break}case'jNr':{{var gS=L;if(ss.isValue(go)&&ss.keyExists(go,gS.jW$)){var gT=go[gS.jW$];if(ss.isValue(gT)&&gT.complete){e.save();if(ss.isValue(gq)){e.setClip(gq)}e.set_alpha(gS.TwJ);e.drawImage4(gT,gS.Pkb[0],gS.Pkb[1],gS.Pkb[2]-gS.Pkb[0],gS.Pkb[3]-gS.Pkb[1]);e.restore()}}else{}}break}default:{{}break}}},$8:function(e,L,go,gp){var gq=ss.isValue(e)&&e.get_visualListPM().oqX==='annotations';this.clearPrevTextRunInfo();var gr=this.get_currentContext();var gs=false;L.nTH=L.nTH||0;L.Mk_=L.Mk_||0;L.XqN=L.XqN||0;L.$UU=L.$UU||0;var gt={x:L.nTH,y:L.Mk_,w:L.XqN,h:L.$UU};var gu=tab.RectXYUtil.offsetRect(gr.dirtyRect,this.get_renderOffset());if(L.XqN>0&&L.$UU>0&&(!this.isRectVisible(gt)||!tab.RectXYUtil.intersectsWith(gu,gt))){gs=true}var gv=this.$9(e,L,gs);var gw=cd.$6(L.tOA,gq);for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];if(gv.$0()&&gy.VzB==='nuS'){var gz=gy;gv.$2=tab.ColorModel.convertColorForCanvas(gz.YhU)}else{var gA=null;if(gv.$0()&&gy.VzB==='MqA'){var gB=gy;gv.$3=tab.ColorModel.convertColorForCanvas(gB.YhU);gA=gr.get_textFillStyle()}if(!gs||cd.$5(gy)){this.$b(gr,gy,go,gt,gp,gq)}if(ss.isValue(gA)){gr.set_textFillStyle(gA)}}}if(gv.$0()){gr.set_shapeFillStyle(gv.$2);gr.set_textFillStyle(gv.$3)}},$9:function(e,L,go){var gp=null;if(!go&&ss.isValue(e)){if(e.isSelected(L)){gp=new o('selected')}else if(e.isBrushed(L)){gp=new o('highlighted')}else if(e.isHovered(L)){gp=new o('hover')}}if(ss.isNullOrUndefined(gp)){return new o('normal')}var gq=this.get_currentContext();gp.$2=gq.get_shapeFillStyle();gp.$3=gq.get_textFillStyle();switch(gp.$1()){case'selected':{gq.set_textFillStyle(this.$c.selectionTextColor.toRgba());gq.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{gq.set_textFillStyle(this.$c.highlightTextColor.toRgba());gq.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{gq.set_textFillStyle('rgb(0,0,0)');gq.set_shapeFillStyle('rgb(245,245,245)');break}}var gr=ss.isValue(L.vbn)||ss.isValue(L.TuG);if(gr){L.vbn=L.vbn||0;L.TuG=L.TuG||0;gq.translate(-L.vbn,-L.TuG)}gq.fillRect(L.nTH,L.Mk_,L.XqN,L.$UU);if(gr){gq.translate(L.vbn,L.TuG)}return gp}},bg);ss.initClass(ce,a,{});ss.initClass(cf,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new cf;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=cA.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},tab.FontProperties);ss.initClass(cg,a,{});ss.initClass(ch,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[cm,cj,Object]));ss.initClass(ci,a,{show:function(){var e=document.createElement('div');var L=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var go={testId:'FileDownload-Dlg',isModal:true,title:this.$3,showCloseButton:true,type:0,positioningBehavior:0,onCloseRequest:L,children:this.$2,zIndex:1000};var gp=this.$1(L);go.footerContent=gp;go.showFooter=true;var gq=React.createElement(SharedWidgets.DialogWidget,go);ReactDOM.render(gq,e)},$1:function(e){var L=ci.$0(e);var go=this.$0(e);var gp=[];gp.push(L);gp.push(go);var gq=gp;var gr=React.createElement(SharedWidgets.Block,{style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:gq});return gr},$0:function(e){var L=React.DOM.a({href:this.$4,target:this.$5,className:'tabStyledTextButton tabMediumStyledTextButton tabStyledTextButtonFilledGreen left',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(gp){e()},'data-test-id':'DownloadLink'},tab.Strings.DialogButtonDownload);var go=React.createElement(SharedWidgets.InlineBlock,{children:L,className:spiff.ClickBuster.suppressClickBustingClass,style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace}});return go}});ss.initClass(cj,a,{});ss.initClass(ck,a,{add_complete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_complete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_imageLoaded:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_imageLoaded:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_imageTimedOut:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_imageTimedOut:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},addImage:function(e){if(!ss.isValue(e)){return}for(var L=0,go=this.$3.length;L<go;L++){if(!this.$3[L].$8()){this.$2++;this.$3[L].$7(e);return}}if(this.$3.length<2){var gp=new x(this.$3.length);gp.$d(ss.mkdel(this,this.onWorkerFinished));gp.$f(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(gp);this.$2++;gp.$7(e)}else{this.$1.push(e)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var e=0;e<this.$3.length;e++){var L=this.$3[e];L.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(e,L){if(ss.isValue(this.$1$2)){this.$1$2(this,new dd(L.get_image()))}this.$0(L.get_workerID())},onWorkerTimedOut:function(e,L){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(L.get_workerID())},$0:function(e){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[e].$7(this.$1.shift());this.$2++}}});ss.initClass(cl,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cm,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$h.get_menu().menuItems;for(var L=0;L<e.length;L++){var go=e[L];if(go.enabled){this.$h.set_focusedItem(go);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$i.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$i.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$i.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$i.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$i,this.$i.exportImage),'tabDownloadImage'))}var L=(this.$i.get_exportDataEnabled()?ss.mkdel(this.$i,this.$i.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,L,'tabDownloadData'));var go=(this.$i.get_exportCrosstabEnabled()?ss.mkdel(this.$i,this.$i.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,go,'tabDownloadCrosstab'));if(this.$i.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$i,this.$i.exportPdf),'tabDownloadPdf'))}if(this.$i.get_shouldShowDownloadWorkbook()){var gp=(this.$i.get_downloadWorkbookEnabled()?ss.mkdel(this.$i,this.$i.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,gp,'tabDownloadWorkbook'))}if(this.$j&&fk.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(fk.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(fk.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$i.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var L='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,L));var go=spiff.LabelButton.newTextButton();go.set_label(this.$f());go.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){go.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(go.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$h=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null,true);this.$h.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$g=spiff.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$h]);this.get_dom().menuArea.append(this.$g.element);if(!this.$j&&fk.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[cn]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cn])]);ss.initClass(cn,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hideDialogRequested:function(e){this.add_downloadInitiated(e)},remove_hideDialogRequested:function(e){this.remove_downloadInitiated(e)},get_viewType:function(){return cm},get_viewModel:function(){return this},get_dialogProps:function(){var e=tab.Strings.ToolbarDownload;var L=new cj;L.viewModel=this;return{title:e,testId:'download',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(ch,L)}},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return this.$3.isLegacyMenuItemEnabled('print')},get_shouldShowImage:function(){return this.$3.isLegacyMenuItemEnabled('exportimage')},get_exportDataEnabled:function(){return this.$3.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return this.$3.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook();this.$2()},exportImage:function(){var e=new cw;e.setSheetScrollPositions(T.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new cw);this.$2()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,cV]);ss.initClass(co,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cp,a,{showInternal:function(){this.get_body().append(this.$P)}},co,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cq,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},co,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cr,a,{});ss.initClass(cs,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ct,a,{},ss.makeGenericType(spiff.BaseView$1,[cu]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[cu])]);ss.initClass(cu,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(cv,a,{});ss.initClass(cw,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var L=0;L<e.length;L++){var go=e[L];this.$0[go.get_sheetName()]=go.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){var L=e.createPdfExportDialog(tab.CommandController.get().get_legacySession(),tsConfig.is_mobile);L.add_closed(function(){L.dispose();L=null});L.show()})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cx,a,{get_currentToolMode:function(){return this.$8},set_currentToolMode:function(e){if(e!==this.$8){var L=this.$8;this.$8=e;this.toolModeChanged(L)}else if(e===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(e,true)}},dispose:function(){try{this.disposables.dispose()}catch(e){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(e){this.canZoomHome=e;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(e){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(e?'':'none')})}if(!e){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(e){this.element.css({'pointer-events':(e?'auto':'none')});this.$7=e},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(e){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(e?'':'none')})}},toggleFlyout:function(e){if(!this.$7){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var L=this.flyOutButton.element.position();var go=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:L.top+'px',left:go+'px'});this.updateFlyOutVisibility(true)}},addButton:function(e,L,go){var gp=new spiff.Button($(document.createElement('div')));gp.set_hoverTooltipText(go);var gq=gp;this.$6(e,gq,L);return gq},addToggleButton:function(e,L,go){var gp=new spiff.ToggleButton($(document.createElement('span')));gp.set_hoverTooltipText(go);var gq=gp;this.$6(e,gq,L);return gq},addSpacer:function(){var e=$(document.createElement('div'));e.addClass('fztSpacer');this.buttonContainer.append(e)},$6:function(e,L,go){L.element.addClass(go);L.element.addClass('fztButton');e.append(L.element);this.disposables.add$1(L)},setToolMode:function(e,L){if(e===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(e)}this.api.setPointerToolMode(this.get_currentToolMode(),L)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(e,L){switch(e){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,L);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,L)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,L)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,L);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,L);break}default:{break}}},selectButton:function(e,L){var go=ss.safeCast(e,spiff.ToggleButton);if(ss.isValue(go)){go.set_selected(L)}},toolModeChanged:function(e){this.updateButtonState(e,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cy,a,{});ss.initClass(cz,a,{});ss.initClass(cA,a,{});ss.initClass(cB,a,{},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(cC,a,{show:function(){this.$0.show()},cleanup:function(e){this.$0.closeAndDispose()},dispose:function(){this.$0.dispose()}},bc,[ss.IDisposable]);ss.initClass(cD,a,{createOverlay:function(e){var L=$('.dashboardSpacer');var go=$("<div id='auth-overlay'></div>");var gp=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(e)});var gq=new cB(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,gp);go.append(gq.element);L.append(go)},show:function(){var e=new cv;var L=ss.mkdel(this,function(){this.cleanup(e)});gk.add_zoneBecameValid(L);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){gk.remove_zoneBecameValid(L)});this.createOverlay(e)}},bb);ss.initClass(dM,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[dN]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,L){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}this.element.fadeIn('fast');this.updateContent()},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[dN]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dN])]);ss.initClass(cE,a,{},dM,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dN])]);ss.initClass(cF,a,{});ss.initClass(cG,a,{get_button:function(){return this.$b},$a:function(){var e={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$8),ss.mkdel(this,this.$9),e)},$8:function(e){var L={};var go=Math.abs(0.452185866478557);var gp=Math.abs(e.coords.latitude);var gq=89.5478141335214;if(gp>gq){L.Qao=((e.coords.latitude<0)?-90:(e.coords.latitude-go));L.FVU=((e.coords.latitude<0)?(e.coords.latitude+go):90)}else{L.Qao=e.coords.latitude-go;L.FVU=e.coords.latitude+go}var gr;var gs=Math.cos(cF.degreeToRad(gp));var gt=0.00249530881941949;if(gs<gt){gr=180}else{gr=50/(111.32*gs)}L.kVX=e.coords.longitude-gr;L.eMT=e.coords.longitude+gr;tab.PaneClientCommands.boundingBoxPan(this.$c,L)},$6:function(){if(tab.BrowserSupport.get_isChrome()&&tab.BrowserSupport.get_googleChromeVersion()>=50){return true}if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()>=10){return true}if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=10){return true}return false},$7:function(e){var L='';if(e.code===e.PERMISSION_DENIED){if(this.$6()){L=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{L=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(e.code===e.TIMEOUT){L=tab.Strings.GotoMyLocationTimeoutError}else if(e.code===e.POSITION_UNAVAILABLE){if(this.$6()){L=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{L=tab.Strings.GotoMyLocationPositionUnavailableError}}else{L=tab.Strings.GotoMyLocationPositionUnavailableError}return L},$9:function(e){var L=this.$7(e);var go=this.element.offset();var gp={x:tab.DoubleUtil.roundToInt(go.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(go.top)};if(tsConfig.is_mobile){gp.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}dN.showGeoLocationNotification(L,-1,{x:gp.x,y:gp.y})}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initEnum(cH,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initEnum(cI,a,{none:0,misc:1,trendLine:2,referenceLine:3,referenceLineLabel:4,mark:5,markLabel:6});ss.initClass(cJ,a,{});ss.initClass(cK,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(e){this.$8=e},get_paneKey:function(){return this.$6},set_paneKey:function(e){this.$6=e},get_paneIndex:function(){return this.$5},set_paneIndex:function(e){this.$5=e},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(e){this.$7=e},addNode:function(e){this.$1.push(e);e.set_parent(this)},addNodes:function(e){ss.arrayAddRange(this.$1,e);for(var L=0;L<e.length;L++){var go=e[L];go.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initEnum(cL,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(cM,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(e){this.clear();this.$0(e)},debugDrawBoundingBoxesHierarchies:function(e){this.clear();for(var L=0;L<e.length;L++){var go=e[L];this.$0(go)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(e){var L=new Array;L.push(e);while(L.length>0){var go=L.shift();if(go.get_nodeType()===2){var gp=go.get_boundingBox();this.get_context2D().save();if(cM.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(gp.x,gp.y,gp.w,gp.h);this.get_context2D().restore();++cM.$0}if(go.get_nodeType()===3||go.get_nodeType()===5){var gq=go.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(gq.x,gq.y,gq.w,gq.h);this.get_context2D().restore()}if(go.get_nodeType()===4){var gr=go.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(gr.x,gr.y,gr.w,gr.h);this.get_context2D().restore()}var gs=go.get_children();gs.forEach(function(gt){L.push(gt)})}}});ss.initClass(cN,a,{hitTestPanes:function(e){var L=[];var go=new Array;go.push(this.$5);while(go.length>0){var gp=go.pop();var gq=tab.RectXYUtil.intersectsWith(gp.get_boundingBox(),e);if(gq){if(gp.get_nodeType()===1){L.push(gp.get_paneKey())}else{var gr=gp.get_children();gr.forEach(function(gs){go.push(gs)})}}}return L},hitTest:function(e,L,go){if(tab.RectXYUtil.isEmpty(e)){return[]}var gp=this.hitTestBoundingBoxes(e,L,go);return(L?this.hitTestSingle(e,go,gp):this.$1(e,go,gp))},hitTestSingle:function(e,L,go){var gp=e.x+e.w/2;var gq=e.y+e.h/2;var gr={};var gs=[];for(var gt=go.length-1;gt>=0;gt--){var gu=go[gt];if(gu.get_objectId()<0){continue}var gv=cK.findPaneNode(gu);if(ss.isNullOrUndefined(gv)){continue}if(ss.isNullOrUndefined(gr[gv.get_paneIndex()])){gr[gv.get_paneIndex()]=[];gs.push(gv)}gr[gv.get_paneIndex()].push(gu)}var gw=[];var gx=[];var gy={};for(var gz=0;gz<gs.length;gz++){var gA=gs[gz];var gB=L.getPaneDrawInfoFromKey(gA.get_paneKey());var gC=tab.RectXYUtil.offsetRect(e,{x:-gB.paneRect.x,y:-gB.paneRect.y});var gD=gr[gA.get_paneIndex()];for(var gE=0;gE<gD.length;gE++){var gF=gD[gE];var gG=gB.getMarkState(gF.get_objectId());var gH=gF.get_worldOffset();var gI=gB.c['tuple_id'].gv(gF.get_objectId());var gJ=false;if(ss.isValue(gF.get_labelBox())){gJ=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(gF.get_labelBox(),e)}if(gJ){gw.push(new cO.$ctor1(gI,6,3));gy[gI]={item1:gA.get_paneOrderIndex(),item2:gG}}var gK=cN.$0(gB,gC,gF.get_objectId(),gH,gB.markType);if(gK){gw.push(new cO.$ctor1(gI,5,3));gy[gI]={item1:gA.get_paneOrderIndex(),item2:gG}}else if(gw.length===0){var gL=cN.$1(gB,gC,gF.get_objectId(),gH,gB.markType);if(gL){var gM;switch(gB.markType){case'line':{gM=dG.$p(gB,gp,gq,gF.get_objectId());break}case'bar':case'square':{gM=dG.$b(gB,gp,gq,gF.get_objectId());break}case'shape':{gM=dG.$1B(gB,gp,gq,gF.get_objectId());break}case'text':{gM=dG.$1J(gB,gp,gq,gF.get_objectId());break}case'area':{gM=dG.$3(gB,gp,gq,gF.get_objectId());break}default:{gM=cF.getSquaredDistanceToCenter(gF.get_boundingBox(),{x:gp,y:gq});break}}var gN=new cO.$ctor1(gI,5,2);gx.push({item1:gN,item2:gM});gy[gI]={item1:gA.get_paneOrderIndex(),item2:gG}}else{}}}}if(gw.length>0){var gO=this.$4(gw,gy);if(gO.get_hitType()===3){return[gO]}}if(gx.length>0){var gP=this.$3(gx,gy);if(gP.get_hitType()===2){return[gP]}}return[]},$1:function(e,L,go){var gp=[];for(var gq=go.length-1;gq>=0;gq--){var gr=go[gq];var gs=gr.get_objectId();if(gs<0){continue}var gt=cK.findPaneNode(gr);if(ss.isNullOrUndefined(gt)){continue}var gu=L.getPaneDrawInfoFromKey(gt.get_paneKey());var gv=cN.getTransformInfo(gu,gr);var gw=cN.rectangleAreaHit(gu,gr.get_boundingBox(),e,gs,gv,gu.markType);if(gw){gp.push(new cO.$ctor1(gu.c['tuple_id'].gv(gs),5,1))}}return gp},hitTestBoundingBoxes:function(e,L,go){if(tab.RectXYUtil.isEmpty(e)){return[]}var gp=[];var gq=new Array;var gr={};gq.push(this.$5);while(gq.length>0){var gs=gq.pop();var gt=e;if(L&&ss.isValue(go)&&gs.get_nodeType()===3){var gu=cK.findPaneNode(gs);if(ss.isValue(gu)){var gv=gu.get_paneKey();if(ss.keyExists(gr,gv)){gt=gr[gv]}else{var gw=go.getPaneDrawInfoFromKey(gu.get_paneKey());if(ss.isValue(gw)){var gx;switch(gw.markType){case'bar':case'square':{gx=dG.$c(gw,gs.get_objectId());break}case'shape':{gx=dG.$1C(gw,gs.get_objectId());break}case'text':{gx=dG.$1K(gw,gs.get_objectId());break}case'area':{gx=dG.$4(gw,gs.get_objectId());break}default:{gx=null;break}}if(ss.isValue(gx)&&!tab.SizeUtil.isEmpty(gx)){gt=tab.RectXYUtil.outsetRectSizeF(gt,gx)}}gr[gv]=gt}}}var gy=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(gs.get_boundingBox(),gt);if(!gy&&L&&ss.isValue(gs.get_labelBox())){gy=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(gs.get_labelBox(),e)}if(gy){if(gs.get_nodeType()===3){gp.push(gs)}else{var gz=gs.get_children();gz.forEach(function(gA){gq.push(gA)})}}}return gp},$4:function(e,L){if(e.length===0){return new cO.$ctor1(0,0,0)}var go=new cO.$ctor1(0,0,0);e.sort(function(gs,gt){return((gs.get_id()>gt.get_id())?-1:1)});for(var gp=0;gp<e.length;gp++){var gq=e[gp];if(!ss.keyExists(L,gq.get_id())){continue}if(L[gq.get_id()].item2==='markStateInvisible'){continue}if(go.get_hitType()===0){go=gq}else{var gr=this.$0(gq.get_id(),go.get_id(),L);if(gr>0){go=gq}else if(gr===0){if(gq.get_hitObjectType()>go.get_hitObjectType()){go=gq}}}}return go},$3:function(e,L){if(e.length===0){return new cO.$ctor1(0,0,0)}var go=new cO.$ctor1(0,0,0);var gp=null;e.sort(function(gu,gv){return((gu.item1.get_id()>gv.item1.get_id())?-1:1)});for(var gq=0;gq<e.length;gq++){var gr=e[gq];var gs=gr.item1;var gt=gr.item2;if(!ss.keyExists(L,gs.get_id())){continue}if(L[gs.get_id()].item2==='markStateInvisible'){continue}if(go.get_hitType()===0){go=gs;gp=gt}else if(ss.Nullable$1.lt(gt,gp)){go=gs;gp=gt}else if(gt===gp&&this.$0(gs.get_id(),go.get_id(),L)>0){go=gs}}return go},$0:function(e,L,go){var gp=go[e];var gq=go[L];var gr=this.$2(gp.item2);var gs=this.$2(gq.item2);if(gr>gs){return 1}if(gr===gs){var gt=gp.item1;var gu=gq.item1;if(gt>gu){return 1}if(gt===gu){return 0}}return-1},$2:function(e){switch(e){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initClass(cO,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 3:case 4:{return'ref-line'}case 2:{return'trend-line'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 3:case 4:case 2:{return'visualparts'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}});cO.$ctor1.prototype=cO.prototype;ss.initClass(cP,a,{});ss.initClass(dr,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(cQ,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},dr,[ss.IDisposable]);ss.initClass(cR,a,{$1:function(){return this.domRoot.find('.message')},$2:function(){return this.domRoot.find('.path')}},spiff.Template,[ss.IDisposable]);ss.initClass(cS,a,{$2:function(){return this.domRoot.find('.message')},$1:function(){return this.domRoot.find('a')}},spiff.Template,[ss.IDisposable]);ss.initInterface(cW,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(cX,a,{add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,get_captions:null,get_currentPointIndex:null,clickNext:null,clickPrevious:null});ss.initInterface(cY,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initClass(da,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,L){if(!ss.referenceEquals(this.get_frame().prop('original_url'),L)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',L)}}},spiff.Template,[ss.IDisposable]);ss.initInterface(db,a,{get_type:null});ss.initClass(dc,a,{get_imageNode:function(){return this.$2},set_imageNode:function(e){this.$2=e},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(dd,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(de,a,{});ss.initClass(df,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dg,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$j},$h:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.$j=this.$b()},$b:function(){var e=$('<img>');var L=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$j)){window.setTimeout(ss.mkdel(this,function(){this.$i=e.get(0);this.$f()}),1)}else{this.$i=e.get(0);this.$f()}e.off('load')});e.on('load',L);var go=this.$h().get_imageUrl();if(!ss.isNullOrEmptyString(this.$h().get_imageZonePresModel().Gqc)){go='data:image/jpeg;base64,'+this.$h().get_imageZonePresModel().Gqc}e.css('border','none').attr('src',go);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$d:function(){this.$f()},$f:function(){var e=this.$h().get_imageZonePresModel();if(e.qWY){this.$e()}var L=this.$g();this.$9(L);if(e.OvI){this.$a(L)}return L},$c:function(){var e=this.$h().get_zoneModel();var L=this.$h().get_imageZonePresModel();var go=fx.absolutizeURI(L.ZNi,false);var gp=e.get_zoneType()==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$1(L.ixs)&&!tab.MiscUtil.isNullOrEmpty$1(go);if(gp){return $('<a/>').attr('href',go).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$g:function(){var e=this.get_image();var L=this.$c();L.append(e);return L},$e:function(){var e=this.$h().get_zoneModel();var L=this.$i['width'];var go=this.$i['height'];if(tab.BrowserSupport.get_isIE()){L=this.$i['naturalWidth'];go=this.$i['naturalHeight']}var gp=0;var gq=0;var gr;if(L/e.get_contentWidth()>=go/e.get_contentHeight()){gr={width:e.get_contentWidth()+'px',height:'auto'};gp=e.get_contentWidth();gq=ss.Int32.trunc(e.get_contentWidth()/L*go)}else{gr={height:e.get_contentHeight()+'px',width:'auto'};gq=e.get_contentHeight();gp=ss.Int32.trunc(e.get_contentHeight()/go*L)}if(tab.BrowserSupport.get_isIE()){var gs=window.screen['deviceXDPI'];var gt=window.screen['systemXDPI'];var gu=gs/gt>1;if(!gu&&gp>0&&gq>0&&gp/L<0.75&&L<500&&go<500){var gv=this.$j.get(0).getAttribute('src');var gw=de.scaleImage(this.$i,gp,gq,ss.Int32.trunc(L),ss.Int32.trunc(go));this.$j=$(gw);this.$j.get(0).setAttribute('src',gv);gr=ss.mkdict(['width',gp+'px','height',gq+'px'])}else{this.$j=$(this.$i)}}this.$j.css(gr)},$a:function(e){var L=this.$h().get_zoneModel();var go=ss.Int32.div(L.get_contentHeight()-tab.DoubleUtil.roundToInt(this.get_image().height()),2);var gp=ss.Int32.div(L.get_contentWidth()-tab.DoubleUtil.roundToInt(this.get_image().width()),2);e.css(ss.mkdict(['position','absolute','top',go.toString()+'px','left',gp.toString()+'px']))}},ss.makeGenericType(spiff.BaseView$1,[dh]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dh])]);ss.initClass(dh,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$2.get_zoneModel()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var L=e.formatDashboardTempfileReference(this.get_imageZonePresModel().ixs,true,false);return L},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initInterface(dj,a,{get_location:null,set_location:null});ss.initClass(dk,a,{});ss.initInterface(dl,a,{add_loadComplete:null,remove_loadComplete:null,refreshImages:null,destroy:null,reset:null},[spiff.IScrollable]);ss.initInterface(dm,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(dn,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initInterface(dp,a,{get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initClass(dq,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,L){e.toggleClass('tabIterButtonDisabled',!L)}},null,[ss.IDisposable]);ss.initInterface(du,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initClass(dv,a,{get_enabled:function(){return ss.isValue(this.$h)&&this.$i.get_useFastMaps()},$f:function(){return new L.LatLng(this.$i.get_centerLatitude(),this.$i.get_centerLongitude())},getDistanceForScreenPointsInMeters:function(e,go){var gp=this.$h.containerPointToLatLng(new L.Point(e.x,e.y));var gq=this.$h.containerPointToLatLng(new L.Point(go.x,go.y));return gp.distanceTo(gq)},$e:function(){if(this.get_enabled()){var e=this.$i.get_zoom();var L=this.$f();_.defer(ss.mkdel(this,function(){this.$b(L,e,true)}))}},zoomOnPoint:function(e,go){if(this.get_enabled()){var gp=gm.incrementZoom(this.$i.get_zoom(),go);var gq=this.$h.containerPointToLatLng(new L.Point(e.x,e.y));_.defer(ss.mkdel(this,function(){this.$b(gq,gp,true)}))}},animateAnchorZoom:function(e,go){var gp=new L.LatLng(go.x,go.y);_.defer(ss.mkdel(this,function(){this.$c(gp,e)}))},zoomRect:function(e){if(this.get_enabled()){var go=new L.Point(e.x,e.y+e.h);var gp=new L.Point(e.x+e.w,e.y);var gq=new L.LatLngBounds(this.$h.containerPointToLatLng(go),this.$h.containerPointToLatLng(gp));var gr=new L.Point(e.x+ss.Int32.div(e.w,2),e.y+ss.Int32.div(e.h,2));var gs=this.$h.containerPointToLatLng(gr);this.$8(gq,gs,true)}},moveToBounds:function(e){if(this.get_enabled()){var go=new L.LatLngBounds(new L.LatLng(e.Qao,e.kVX),new L.LatLng(e.FVU,e.eMT));var gp=new L.LatLng((e.FVU+e.Qao)*0.5,(e.eMT+e.kVX)*0.5);var gq=this.$8(go,gp,true);if(!gq){this.removeMarkOverlay()}}},$8:function(e,L,go){var gp=this.$h.getBoundsZoom(e,true);var gq=gm.resolveDesiredZoom(this.$i.get_mapServerPresModel(),gp);go=go&&Math.abs(this.$h.getZoom()-gq)<=2;_.defer(ss.mkdel(this,function(){this.$b(L,gq,go)}));return go},panTo:function(e,go){if(this.get_enabled()){var gp=this.$h.latLngToContainerPoint(this.$f());var gq=new L.Point(gp.x-e,gp.y-go);var gr=this.$h.containerPointToLatLng(gq);var gs=new Object;gs.animate=false;this.$h.panTo(gr,gs)}},getPointLatLong:function(e){var go=new L.Point(e.x,e.y);var gp=this.$h.containerPointToLatLng(go);return{x:gp.lat,y:gp.lng}},touchMove:function(e,go,gp){if(isNaN(gp)||isNaN(go)||isNaN(e)){return}if(tab.DoubleUtil.isApproximatelyEqual(gp,1)&&!this.$l){this.panTo(e,go);return}if(!this.$l){$(this.$h.getPanes().mapPane).addClass('leaflet-touching');$(this.$h.getPanes().overlayPane).addClass('leaflet-touching');this.$g=new L.Point(e,go)}this.$l=true;tab.WindowHelper.cancelAnimationFrame(this.$n);this.$n=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=gm.combineTileZoomAndStretch(this.$i.get_zoom(),gp);this.$1(L,gp,e,go)}))},touchEnd:function(e,L,go){if(this.get_enabled()){this.$a();if(this.$l){var gp=gm.combineTileZoomAndStretch(this.$i.get_zoom(),go);var gq=gm.resolveDesiredZoom(this.$i.get_mapServerPresModel(),gp);go=Math.pow(2,gq-this.$i.get_zoom());this.$1(gq,go,e,L)}this.$l=false}},splatOverlayToMapForTransition:function(e){if(ss.isValue(this.$h)&&ss.isNullOrUndefined(this.$k)){var go=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);{var gp=en.calculatePixelRatio(true);if(!bi.canvasDensified(e)){gp=1}var gq=Math.floor(2*gp);var gr={x:gq,y:gq,w:e.width-2*gq,h:e.height-2*gq};var gs=Math.floor(this.$h.latLngToContainerPoint(dv.$1(dv.$5)).y*gp);var gt=Math.floor(this.$h.latLngToContainerPoint(dv.$1(dv.$7)).y*gp);if(gt<e.height){gr.h=gt}if(gs>0){gr.y+=gs;gr.h-=gs}var gu=new Object;gu.pixelRatio=gp;this.$k=new L.CanvasOverlay(this.$h.getBounds(),gu);this.$h.addLayer(this.$k);var gv=this.$k.getCanvas();var gw=bg.getRenderContext(gv,'transparent');var gx={x:gq,y:gq,w:gr.w,h:gr.h};gw.drawImage5(e,gr.x,gr.y,gr.w,gr.h,gx.x,gx.y,gx.w,gx.h);e.width=e.width}go.dispose()}},$2:function(e,go){this.$i=go;this.$5();var gp=this.$3();var gq=this.$4();this.$m=new y;this.$m.domRoot.appendTo(e);this.$h=new L.Map(this.$m.$4(),gp);this.$j=new L.TileLayer(this.$i.get_tileUrl(),gq);this.$d();this.$h.addLayer(this.$j);this.$i.add_newMapServerInfo(ss.mkdel(this,this.$7));if(this.$i.get_hasWashout()){var gr=this.$i.get_washoutColor();var gs=dv.$0(gr.toRgb());gq=this.$4();gq.opacity=gr.get_a();this.$h.addLayer(new L.TileLayer(gs,gq))}this.$m.$3(this.$i.get_mapBGFillColor());this.$0(this.$i.get_zoom(),false)},$d:function(){var e=(this.$i.get_hasValidTileLayer()?1:0);this.$j.setOpacity(e)},$5:function(){if(ss.isValue(this.$h)){this.$h.remove();this.$h=null;if(ss.isValue(this.$i)){this.$i.remove_newMapServerInfo(ss.mkdel(this,this.$7))}this.$i=null;this.$m.dispose();this.$m=null}},$7:function(){if(this.get_enabled()){if(this.$h._animatingZoom){window.setTimeout(ss.mkdel(this,this.$7),10)}else{this.$d();var e=this.$f();var L=this.$h.latLngToContainerPoint(this.$h.getCenter());var go=this.$h.latLngToContainerPoint(e);var gp=Math.abs(this.$h.getZoom()-this.$i.get_zoom());if(gp>0.001){}var gq=gp<0.01&&L.distanceTo(go)<8;this.$b(e,this.$i.get_zoom(),gq);this.$6()}}},$6:function(){var e=$(this.$h.getPanes().tilePane).find('.leaflet-tile-container');for(var L=0;L<e.length;++L){if(!tab.MiscUtil.isNullOrEmpty$1(e[L].style.visibility)){this.$h._onZoomTransitionEnd();break}}},$9:function(e,L){if(this.get_enabled()){tab.DomUtil.setMarginBox(this.$h.getContainer(),{l:0,t:0,w:e,h:L});this.$h.invalidateSize(false);this.$0(this.$i.get_zoom(),false);this.$m.$2()}},setScrollX:function(e){if(this.get_enabled()){this.$h.getContainer().style.left=-e+'px'}},setScrollY:function(e){if(this.get_enabled()){this.$h.getContainer().style.top=-e+'px'}},removeMarkOverlay:function(){if(ss.isValue(this.$k)){this.$h.removeLayer(this.$k);this.$6();this.$a()}this.$k=null},dispose:function(){this.$5()},$3:function(){var e=new Object;e.center=this.$f();e.zoom=this.$i.get_zoom();e.zoomControl=false;e.attributionControl=false;return e},$4:function(){var e=new Object;e.maxZoom=100;e.maxNativeZoom=this.$i.get_maxZoom();e.minZoom=this.$i.get_minZoom();e.continuousZoom=true;e.intermediateTileLevels=ss.isValue(this.$i.get_intermediateTileLevels())&&this.$i.get_intermediateTileLevels()>1;var L=this.$i.get_mapServerPresModel().WLq;e.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(L);e.tileSize=L;return e},$c:function(e,L){var go=new Object;go.animate=true;if(L>=0){if(this.$h._animatingZoom){this.$6()}this.$h.setZoomAround(e,L,go);this.$0(L,true)}},$b:function(e,L,go){var gp=new Object;gp.animate=go;if(L>=0){if(this.$h._animatingZoom){this.$6()}this.$h.setView(e,L,gp);this.$0(L,go)}},$0:function(e,L){var go=tab.MapUtil.getVisiblePixelWidth(e,this.$i.get_numWorldRepeats(),this.$i.get_tilePixelSize());var gp=this.$m.$5();var gq=Math.ceil((gp-go)/2);gq=Math.max(gq,0);this.$m.$1(gq,L)},$1:function(e,go,gp,gq){var gr=new L.Point(gp,gq);gr=gr.subtract(this.$g);var gs=this.$h.containerPointToLayerPoint(this.$h.getSize().divideBy(2));var gt=(new L.Point(0,0)).subtract(gr).divideBy(go);var gu=gs.add(gt);var gv=this.$h.layerPointToLatLng(gu);if(isNaN(gv.lat)||isNaN(gv.lng)){return}this.$h._animateZoom(gv,e,gs,go,gr);this.$0(e,false)},$a:function(){$(this.$h.getPanes().mapPane).removeClass('leaflet-touching');$(this.$h.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$n)}},null,[ss.IDisposable]);ss.initClass(dw,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(dx,a,{get_lineAttributes:function(){return this.$1},$0:function(e){ss.clear(this.$1);var L=e.markCount;var go=new dw(0);for(var gp=0;gp<L;gp++){var gq=e.getMarkBounds(gp);tab.RectXYUtil.unionInPlace(go.boundingBox,gq);var gr=e.getMarkState(gp);if(gr==='markStateSelected'){go.selectedCount++;if(e.isMarkHighlighted(gp)){go.highlightedCount++}}else if(gr==='markStateHighlighted'){go.highlightedCount++}if(e.markNeedsDraw(gp)){go.marksNeedingDraw.push(gp)}if(e.isMarkEndPrimitive(gp)){go.worldOffsets=e.getWorldInstanceOffsets(go.boundingBox.x,go.boundingBox.x+go.boundingBox.w);go.endIndex=gp;go.sloppyBoundingBox=tab.RectXYUtil.outsetRect(go.boundingBox,4,4);this.$1.push(go);go=new dw(gp+1)}}}});ss.initClass(fT,a,{add_updated:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_updated:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_current:function(){return this.$0},set_current:function(e){this.$0=e;if(ss.isValue(this.$1$1)){this.$1$1(e)}},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.set_current(null)},isWithinLastHitTestDistance:function(e){if(this.get_hasHit()){var L=this.region.toLocalCoordsEvent(e,false);return tab.PointUtil.isWithinDistance(this.get_current().get_regionCoordinates(),L,20)}return false},getLastHitTestDistance:function(e){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var L=this.region.toLocalCoordsEvent(e,false);return tab.PointUtil.distance(this.get_current().get_regionCoordinates(),L)}return-1},getAsync:function(e){var L=$.Deferred();if(this.isWithinLastHitTestDistance(e)){L.resolve(this.$0)}else{var go=null;go=ss.mkdel(this,function(gp){this.remove_updated(go);L.resolve(gp)});this.add_updated(go);this.update(e)}return L.promise()},update:function(e){this.lastEvent=e;this.$1.invokeActionDelayed()},makePaneSpecId:function(e,L){return L*this.paneTable.get_numColumns()+e},hitTest:null},null,[ss.IDisposable]);ss.initClass(dy,a,{hitTest:function(e,L){var go=this.region.getPaneDrawInfoFromSelectionAnchor(e);if(ss.isValue(go)){var gp=this.region.hitTestSingleMarksAndVisualParts(e);var gq=this.makePaneSpecId(go.paneColumn,go.paneRow);this.set_current(new fS(this.region,gq,go.paneColumn,go.paneRow,e,L,gp))}else{this.set_current(null)}}},fT,[ss.IDisposable]);ss.initClass(dz,a,{dispose:function(){dz.$0=null;this.logOnViewModel.remove_shown(ss.mkdel(this,this.$c));this.logOnViewModel.remove_hidden(ss.mkdel(this,this.$9));this.$d.dispose();ss.makeGenericType(spiff.BaseView$1,[dA]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,L){this.updateContent()},updateContent:function(){},$a:function(){this.logOnViewModel.logOnComplete()},$c:function(){this.$b();this.$d.show()},$9:function(){this.$d.dispose()},$b:function(){var e=800;var L=600;var go=new tab.WindowHelper(window.self);var gp=go.get_screenLeft()+ss.Int32.div(go.get_outerWidth()-e,2);var gq=go.get_screenTop()+ss.Int32.div(go.get_outerHeight()-L,3);var gr=ss.formatString('width={0},height={1},left={2},top={3},toolbar=1,resizable=1',e,L,gp,gq);var gs='/#/signin?closePopupWhenDone=true&site='+encodeURIComponent(tsConfig.site_url_name);var gt=tab.WindowHelper.open(gs,'TableauAuthentication',gr);if(ss.isValue(gt)){_.defer(ss.mkdel(gt,gt.focus))}}},ss.makeGenericType(spiff.BaseView$1,[dA]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dA])]);ss.initClass(dA,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_logOnCanceled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_logOnCanceled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_logOnCompleted:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_logOnCompleted:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_logOnUrl:function(){return'/'},dispose:function(){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.prototype.dispose.call(this)},showLogOn:function(){spiff.ObjectRegistry.newView(dz).call(null,[this]);if(ss.isValue(this.$2$1)){this.$2$1()}},cancel:function(){if(ss.isValue(this.$2$2)){this.$2$2()}if(ss.isValue(this.$2$3)){this.$2$3()}},logOnComplete:function(){if(ss.isValue(this.$2$2)){this.$2$2()}if(ss.isValue(this.$2$4)){this.$2$4()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dB,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dC,a,{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return React.DOM.div({className:'tab-MapScale',title:e,style:this.$2()},React.DOM.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),React.DOM.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),React.DOM.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}},React.Component);ss.initClass(dD,a,{createUpdatedProps:function(){var e=this.$5;if(!e.get_hasPresModel()){return dD.$0}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(dE,a,{get_compositeSearchWidget:function(){return this.$h},get_isCollapsed:function(){return this.$i},set_isCollapsed:function(e){this.$i=e;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$i);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$i)},get_isVisible:function(){return this.$j},set_isVisible:function(e){if(tab.FeatureParamsLookup.getBool(28)===true){e=true}if(this.$j===e){return}this.$j=e;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$j?'':'none'))},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)===true&&tab.BrowserSupport.get_isGeolocationSupported()},$b:function(e){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$c:function(e){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$a:function(e){this.$e();if(e.trim().length===0){this.removeList()}else{this.$g();this.$f()}},showNewSuggestions:function(e,L){if(!ss.referenceEquals(e,this.$h.get_textInputView().get_text())||ss.isNullOrUndefined(L)){return}this.$k=tab.MiscUtil.dispose(this.$k);this.$k=[];for(var go=0;go<L.length;go++){var gp=L[go];this.$k.push(spiff.ListItemViewModel.newListItem(go.toString(),gp,false,false,false))}this.get_compositeSearchWidget().showList(this.$k,this,this.mapsSearchView)},$g:function(){if(ss.isNullOrUndefined(this.$k)){return}this.get_compositeSearchWidget().showList(this.$k,this,this.mapsSearchView)},$9:function(e){var L=$("<span class='tab-list-item-label'/>");var go='<span/>';var gp=$(go);var gq=$(go);gp.addClass('tabMapsSearchViewSuggestionDisplayName');var gr=e.JYk;var gs=ss.trimEndString(this.$h.get_textInputView().get_text());if(ss.startsWithString(gr.toLowerCase(),gs.toLowerCase())){var gt=$(go);gt.addClass('tabMapsSearchViewSuggestionActiveSearchText');gt.text(gr.substr(0,gs.length));gp.append(gt);var gu=$(go);gu.text(gr.substr(gs.length));gp.append(gu)}else{gp.text(e.JYk)}L.append(gp);gq.addClass('tabMapsSearchViewSuggestionParentName');gq.text(e.JiO);L.append(gq);return L},handleEnterKeyPress:function(){this.$e();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.removeList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(e){this.$e();this.removeList();this.mapsSearchViewModel.moveMapToSuggestionListItem(e)},collapseSearchWidget:function(){this.set_isCollapsed(true)},removeList:function(){this.$h.removeList();this.$k=tab.MiscUtil.dispose(this.$k)},setGeoLocationButtonVisibility:function(e){if(e){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$e();this.set_isCollapsed(!this.$i);if(!this.$i){if(!tab.BrowserSupport.get_isIE()){this.$h.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$f:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$d),200)},$e:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$d:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$e()},updateSearchTextValue:function(e){var L=e.JYk;if(!ss.isNullOrEmptyString(e.JiO)){L+=', '+e.JiO}this.get_compositeSearchWidget().setSearchText(L)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$h.get_textInputView().get_inputElement())},enableUserInteraction:function(e){this.element.css({'pointer-events':(e?'auto':'none')})},createListItemContent:function(e){return this.$9(e.get_data())},dispose:function(){this.$h.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[dF]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[dF]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dF]),spiff.IListItemContentCreator]);ss.initClass(dF,a,{add_receivedNewSuggestions:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedNewSuggestions:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateTextInputValue:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateTextInputValue:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_onMoveMapToBounds:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_onMoveMapToBounds:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_visualID:function(){return this.$2},commitToSearchString:function(e){e=e.trim();this.sendGeographicSearchQuery(e,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(e){this.sendGeographicSearchQuery(e,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(e){if(ss.isValue(this.$2$2)){this.$2$2(e)}if(ss.isValue(this.$2$3)){this.$2$3(e.v_N)}tab.PaneClientCommands.boundingBoxPan(this.$2,e.v_N)},moveMapToSuggestionListItem:function(e){var L=e.get_data();this.moveMapToCandidateBounds(L)},moveToTopGeographicCandidate:function(e){var L=e.vOC;if(L.length===0){}else{var go=L[0];this.moveMapToCandidateBounds(go)}},processGeographicSuggestions:function(e){if(!ss.isValue(this.$2$1)){return}var L=[];for(var go=0;go<e.vOC.length;go++){L.push(e.vOC[go])}this.$2$1(e.Ikc,L)},sendGeographicSearchQuery:function(e,L,go){var gp=tsConfig.workbookLocale||'en_us';tab.PaneClientCommands.geographicSearchQuery(this.$2,e,gp,L,go)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dG,a,{$n:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);this.get_currentContext().save();switch(go){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gw=e.markWorldOffsets;var gx=_.keys(gw);for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];var gA=gw[gz];dG.$1w(this.get_currentContext(),gz);for(var gB=gt;gB<=gu;gB++){if(gA.has(gB)){continue}if(!e.markNeedsDraw(gB)){continue}if(e.getMarkState(gB)!=='markStateNormal'){continue}this.$d(e,gB,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gz,0)){this.get_currentContext().restore()}}}if(gp||gq){gr='colorOverrideNone';{var gC=e.markWorldOffsets;var gD=_.keys(gC);for(var gE=0;gE<gD.length;gE++){var gF=gD[gE];var gG=gC[gF];dG.$1w(this.get_currentContext(),gF);for(var gH=gt;gH<=gu;gH++){if(gG.has(gH)){continue}if(!e.markNeedsDraw(gH)){continue}if(e.getMarkState(gH)!=='markStateHighlighted'){continue}this.$d(e,gH,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gF,0)){this.get_currentContext().restore()}}}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gI=e.markWorldOffsets;var gJ=_.keys(gI);for(var gK=0;gK<gJ.length;gK++){var gL=gJ[gK];var gM=gI[gL];dG.$1w(this.get_currentContext(),gL);for(var gN=gt;gN<=gu;gN++){if(gM.has(gN)){continue}if(!e.markNeedsDraw(gN)){continue}if(e.getMarkState(gN)!=='markStateNormal'){continue}this.$d(e,gN,'normalOn',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gL,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';{var gO=e.markWorldOffsets;var gP=_.keys(gO);for(var gQ=0;gQ<gP.length;gQ++){var gR=gP[gQ];var gS=gO[gR];dG.$1w(this.get_currentContext(),gR);for(var gT=gt;gT<=gu;gT++){if(gS.has(gT)){continue}if(!e.markNeedsDraw(gT)){continue}if(e.getMarkState(gT)!=='markStateHighlighted'){continue}this.$d(e,gT,'normalOn',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gR,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(gp||gq){gr='colorOverrideOpaque';{var gU=e.markWorldOffsets;var gV=_.keys(gU);for(var gW=0;gW<gV.length;gW++){var gX=gV[gW];var gY=gU[gX];dG.$1w(this.get_currentContext(),gX);for(var gZ=gt;gZ<=gu;gZ++){if(gY.has(gZ)){continue}if(!e.markNeedsDraw(gZ)){continue}if(e.getMarkState(gZ)!=='markStateSelected'){continue}this.$d(e,gZ,'selectedUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gX,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';{var ha=e.markWorldOffsets;var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];dG.$1w(this.get_currentContext(),hd);for(var hf=gt;hf<=gu;hf++){if(he.has(hf)){continue}if(!e.markNeedsDraw(hf)){continue}if(e.getMarkState(hf)!=='markStateSelected'){continue}this.$d(e,hf,'normalOn',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(hd,0)){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$d:function(e,L,go,gp){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(go){case'normalUnder':case'selectedUnder':case'normalOn':{var gq=(e.hasPixelGeometry?1:e.c['size'].gv(L));bg.createMultipolygonPath(this.get_currentContext(),e.hasPixelGeometry,e.c['x'].gv(L),e.c['y'].gv(L),gq,7,e.getMarkGeometry(e.c['geometry'].gv(L)));break}default:{break}}var gr=((go!=='normalOn')?0:bg.get_multipolyLineSizeOffset());switch(go){case'normalUnder':{{this.strokeCurrentPath(2-gr,e.c['halo_color'].gv(L)[gp])}break}case'selectedUnder':{{this.strokeCurrentPath(2-gr,e.c['selected_halo_color'].gv(L)[gp])}break}case'normalOn':{{this.fillCurrentPath(e.getMarkColors(L)[gp])}if(e.c['draw_border'].gv(L)){this.strokeCurrentPath(1-gr,e.c['border_color'].gv(L)[gp])}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$j:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);var gw=e.get_lineDrawState();this.get_currentContext().save();switch(go){case'normalUnderPass':{break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}var gx=gw.get_lineAttributes();for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];if(gz.get_lineState()!=='lineStateNormal'){continue}var gA=gz.worldOffsets;var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC];dG.$1w(this.get_currentContext(),gD);{for(var gE=0;gE<gz.marksNeedingDraw.length;gE++){var gF=gz.marksNeedingDraw[gE];this.$9(e,gF,'edgeOn',gr,gz.startIndex)}}if(gD!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';var gG=gw.get_lineAttributes();for(var gH=0;gH<gG.length;gH++){var gI=gG[gH];if(gI.get_lineState()!=='lineStateHighlighted'){continue}var gJ=gI.worldOffsets;var gK=gJ.length;for(var gL=0;gL<gK;gL++){var gM=gJ[gL];dG.$1w(this.get_currentContext(),gM);{for(var gN=0;gN<gI.marksNeedingDraw.length;gN++){var gO=gI.marksNeedingDraw[gN];this.$9(e,gO,'edgeOn',gr,gI.startIndex)}}if(gM!==0){this.get_currentContext().restore()}}}var gP=gw.get_lineAttributes();for(var gQ=0;gQ<gP.length;gQ++){var gR=gP[gQ];if(gR.get_lineState()!=='lineStateHighlighted'){continue}var gS=gR.worldOffsets;var gT=gS.length;for(var gU=0;gU<gT;gU++){var gV=gS[gU];dG.$1w(this.get_currentContext(),gV);if(!gR.get_allHighlighted()){{for(var gW=0;gW<gR.marksNeedingDraw.length;gW++){var gX=gR.marksNeedingDraw[gW];if(e.getMarkState(gX)==='markStateHighlighted'){this.$9(e,gX,'highlightedUnder1',gr,gR.startIndex);this.$9(e,gX,'highlightedUnder',gr,gR.startIndex)}}}{for(var gY=0;gY<gR.marksNeedingDraw.length;gY++){var gZ=gR.marksNeedingDraw[gY];if(e.getMarkState(gZ)==='markStateHighlighted'){this.$9(e,gZ,'highlightedOn1',gr,gR.startIndex);this.$9(e,gZ,'highlightedOn',gr,gR.startIndex)}}}}if(gV!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';var ha=gw.get_lineAttributes();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(hc.get_lineState()!=='lineStateSelected'){continue}var hd=hc.worldOffsets;var he=hd.length;for(var hf=0;hf<he;hf++){var hg=hd[hf];dG.$1w(this.get_currentContext(),hg);{for(var hh=0;hh<hc.marksNeedingDraw.length;hh++){var hi=hc.marksNeedingDraw[hh];this.$9(e,hi,'edgeOn',gr,hc.startIndex)}}if(hg!==0){this.get_currentContext().restore()}}}var hj=gw.get_lineAttributes();for(var hk=0;hk<hj.length;hk++){var hl=hj[hk];if(hl.get_lineState()!=='lineStateSelected'){continue}var hm=hl.worldOffsets;var hn=hm.length;for(var ho=0;ho<hn;ho++){var hp=hm[ho];dG.$1w(this.get_currentContext(),hp);if(!hl.get_allHighlighted()){{for(var hq=0;hq<hl.marksNeedingDraw.length;hq++){var hr=hl.marksNeedingDraw[hq];if(e.getMarkState(hr)==='markStateHighlighted'){this.$9(e,hr,'highlightedUnder1',gr,hl.startIndex);this.$9(e,hr,'highlightedUnder',gr,hl.startIndex)}}}{for(var hs=0;hs<hl.marksNeedingDraw.length;hs++){var ht=hl.marksNeedingDraw[hs];if(e.getMarkState(ht)==='markStateHighlighted'){this.$9(e,ht,'highlightedOn1',gr,hl.startIndex);this.$9(e,ht,'highlightedOn',gr,hl.startIndex)}}}}if(hp!==0){this.get_currentContext().restore()}}}var hu=gw.get_lineAttributes();for(var hv=0;hv<hu.length;hv++){var hw=hu[hv];if(hw.get_lineState()!=='lineStateSelected'){continue}var hx=hw.worldOffsets;var hy=hx.length;for(var hz=0;hz<hy;hz++){var hA=hx[hz];dG.$1w(this.get_currentContext(),hA);{for(var hB=0;hB<hw.marksNeedingDraw.length;hB++){var hC=hw.marksNeedingDraw[hB];if(e.getMarkState(hC)==='markStateSelected'){this.$9(e,hC,'selectedUnder1',gr,hw.startIndex);this.$9(e,hC,'selectedUnder',gr,hw.startIndex)}}}{for(var hD=0;hD<hw.marksNeedingDraw.length;hD++){var hE=hw.marksNeedingDraw[hD];if(e.getMarkState(hE)==='markStateSelected'){this.$9(e,hE,'selectedOn1',gr,hw.startIndex);this.$9(e,hE,'selectedOn',gr,hw.startIndex)}}}if(hA!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$9:function(e,L,go,gp,gq){var gr=e.c['l_neighbor'].gv(L);var gs=e.c['r_neighbor'].gv(L);var gt=e.clipCase;if(gt!==0){this.get_currentContext().save();this.clipRect(gt,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}var gu=e.drawBorder;switch(go){case'edgeOn':{if(e.c['r_neighbor'].gv(L)!==-1){var gv=[Math.round(e.c['x1'].gv(L)),Math.round(e.c['y1'].gv(L)),Math.round(e.c['x1'].gv(gs)),Math.round(e.c['y1'].gv(gs)),Math.round(e.c['x_prev'].gv(gs)),Math.round(e.c['y_prev'].gv(gs)),Math.round(e.c['x_next'].gv(L)),Math.round(e.c['y_next'].gv(L))];this.get_currentContext().set_lineJoin('miter');this.renderFilledPolygon(gv,e.getMarkColors(gq)[gp])}if(gu&&e.c['r_neighbor'].gv(L)!==-1){var gw=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x1'].gv(gs),e.c['y1'].gv(gs)];this.renderLine(gw,1,e.c['border_color'].gv(L)[gp],true)}if(gu&&e.c['r_neighbor'].gv(L)!==-1){var gx=[e.c['x_next'].gv(L),e.c['y_next'].gv(L),e.c['x_prev'].gv(gs),e.c['y_prev'].gv(gs)];this.renderLine(gx,1,e.c['border_color'].gv(L)[gp],true)}if(gu&&(e.c['l_neighbor'].gv(L)!==-1&&e.c['r_neighbor'].gv(L)!==-1)){var gy=[e.c['x_prev'].gv(L),e.c['y_prev'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(gy,1,e.c['border_color'].gv(L)[gp],true)}if(gu&&e.c['l_neighbor'].gv(L)===-1){var gz=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(gz,1,e.c['border_color'].gv(L)[gp],true)}if(gu&&e.c['r_neighbor'].gv(L)===-1){var gA=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_prev'].gv(L),e.c['y_prev'].gv(L)];this.renderLine(gA,1,e.c['border_color'].gv(L)[gp],true)}if(!gu&&e.c['r_neighbor'].gv(L)!==-1){var gB=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x1'].gv(gs),e.c['y1'].gv(gs)];this.renderLine(gB,1,e.getMarkColors(gq)[gp],true)}if(!gu&&e.c['r_neighbor'].gv(L)!==-1){var gC=[e.c['x_next'].gv(L),e.c['y_next'].gv(L),e.c['x_prev'].gv(gs),e.c['y_prev'].gv(gs)];this.renderLine(gC,1,e.getMarkColors(gq)[gp],true)}if(!gu&&(e.c['l_neighbor'].gv(L)!==-1&&e.c['r_neighbor'].gv(L)!==-1)){var gD=[e.c['x_prev'].gv(L),e.c['y_prev'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(gD,1,e.getMarkColors(gq)[gp],true)}if(!gu&&e.c['l_neighbor'].gv(L)===-1){var gE=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_next'].gv(L),e.c['y_next'].gv(L)];this.renderLine(gE,1,e.getMarkColors(gq)[gp],true)}if(!gu&&e.c['r_neighbor'].gv(L)===-1){var gF=[e.c['x1'].gv(L),e.c['y1'].gv(L),e.c['x_prev'].gv(L),e.c['y_prev'].gv(L)];this.renderLine(gF,1,e.getMarkColors(gq)[gp],true)}break}case'selectedOn':{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.getMarkColors(L)[gp])}break}case'selectedUnder':{{bg.renderCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.c['selected_halo_color'].gv(L)[gp],4)}break}case'selectedOn1':{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.getMarkColors(L)[gp])}break}case'selectedUnder1':{{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.c['selected_halo_color'].gv(L)[gp],4)}break}case'highlightedOn':{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.getMarkColors(L)[gp])}break}case'highlightedUnder':{{bg.renderCircle(this.get_currentContext(),0+e.c['x1'].gv(L),0+e.c['y1'].gv(L),5,e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}break}case'highlightedOn1':{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.getMarkColors(L)[gp])}break}case'highlightedUnder1':{{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),5,e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}break}default:{break}}if(gt!==0){this.get_currentContext().restore()}},$m:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);this.get_currentContext().save();var gw=this.setupContextForTextRendering(e);switch(go){case'normalUnderPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gx=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gy=gt;gy<=gu;gy++){if(!e.markHasLabel(gy)||!e.markLabelNeedsDraw(gy,gx)){continue}if(e.getMarkLabelState(gy)!=='markStateNormal'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(gy),e.c['cell_y'].gv(gy),e.c['clip_width'].gv(gy),e.c['clip_height'].gv(gy))}var gz=e.getMarkLabelInstanceOffsets(gy);var gA=gz.length;for(var gB=0;gB<gA;gB++){var gC=gz[gB];if(gC!==0){this.get_currentContext().save();this.get_currentContext().translate(gC,0)}this.$c(e,gy,'normalUnder',gr);if(gC!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}gr='colorOverrideNone';{var gD=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gE=gt;gE<=gu;gE++){if(!e.markHasLabel(gE)||!e.markLabelNeedsDraw(gE,gD)){continue}if(e.getMarkLabelState(gE)!=='markStateHighlighted'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(gE),e.c['cell_y'].gv(gE),e.c['clip_width'].gv(gE),e.c['clip_height'].gv(gE))}var gF=e.getMarkLabelInstanceOffsets(gE);var gG=gF.length;for(var gH=0;gH<gG;gH++){var gI=gF[gH];if(gI!==0){this.get_currentContext().save();this.get_currentContext().translate(gI,0)}this.$c(e,gE,'normalUnder',gr);if(gI!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}gr='colorOverrideNone';{var gJ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gK=gt;gK<=gu;gK++){if(!e.markHasLabel(gK)||!e.markLabelNeedsDraw(gK,gJ)){continue}if(e.getMarkLabelState(gK)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(gK),e.c['cell_y'].gv(gK),e.c['clip_width'].gv(gK),e.c['clip_height'].gv(gK))}var gL=e.getMarkLabelInstanceOffsets(gK);var gM=gL.length;for(var gN=0;gN<gM;gN++){var gO=gL[gN];if(gO!==0){this.get_currentContext().save();this.get_currentContext().translate(gO,0)}this.$c(e,gK,'normalUnder',gr);if(gO!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gP=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var gQ=gt;gQ<=gu;gQ++){if(!e.markHasLabel(gQ)||!e.markLabelNeedsDraw(gQ,gP)){continue}if(e.getMarkLabelState(gQ)!=='markStateNormal'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(gQ),e.c['cell_y'].gv(gQ),e.c['clip_width'].gv(gQ),e.c['clip_height'].gv(gQ))}var gR=e.getMarkLabelInstanceOffsets(gQ);var gS=gR.length;for(var gT=0;gT<gS;gT++){var gU=gR[gT];if(gU!==0){this.get_currentContext().save();this.get_currentContext().translate(gU,0)}var gV=this.get_currentContext().get_textAlign()==='end';var gW=e.getMarkLabelProperty('text_run_offset',gQ);var gX=e.getMarkLabelProperty('text_run_count',gQ);var gY=gX>1;for(var gZ=0;gZ<gX;gZ++){var ha=gZ+gW;if(gV){ha=gW+gX-gZ-1}this.$i(e,gQ,'normalOn',gr,ha,gY,gw)}this.clearPrevTextRunInfo();if(gU!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';{var hb=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var hc=gt;hc<=gu;hc++){if(!e.markHasLabel(hc)||!e.markLabelNeedsDraw(hc,hb)){continue}if(e.getMarkLabelState(hc)!=='markStateHighlighted'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(hc),e.c['cell_y'].gv(hc),e.c['clip_width'].gv(hc),e.c['clip_height'].gv(hc))}var hd=e.getMarkLabelInstanceOffsets(hc);var he=hd.length;for(var hf=0;hf<he;hf++){var hg=hd[hf];if(hg!==0){this.get_currentContext().save();this.get_currentContext().translate(hg,0)}var hh=this.get_currentContext().get_textAlign()==='end';var hi=e.getMarkLabelProperty('text_run_offset',hc);var hj=e.getMarkLabelProperty('text_run_count',hc);var hk=hj>1;for(var hl=0;hl<hj;hl++){var hm=hl+hi;if(hh){hm=hi+hj-hl-1}this.$i(e,hc,'highlightedOn',gr,hm,hk,gw)}this.clearPrevTextRunInfo();if(hg!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(gp||gq){gr='colorOverrideOpaque';{var hn=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ho=gt;ho<=gu;ho++){if(!e.markHasLabel(ho)||!e.markLabelNeedsDraw(ho,hn)){continue}if(e.getMarkLabelState(ho)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(ho),e.c['cell_y'].gv(ho),e.c['clip_width'].gv(ho),e.c['clip_height'].gv(ho))}var hp=e.getMarkLabelInstanceOffsets(ho);var hq=hp.length;for(var hr=0;hr<hq;hr++){var hs=hp[hr];if(hs!==0){this.get_currentContext().save();this.get_currentContext().translate(hs,0)}this.$c(e,ho,'selectedUnder',gr);if(hs!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';{var ht=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var hu=gt;hu<=gu;hu++){if(!e.markHasLabel(hu)||!e.markLabelNeedsDraw(hu,ht)){continue}if(e.getMarkLabelState(hu)!=='markStateSelected'){continue}if(e.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,e.c['cell_x'].gv(hu),e.c['cell_y'].gv(hu),e.c['clip_width'].gv(hu),e.c['clip_height'].gv(hu))}var hv=e.getMarkLabelInstanceOffsets(hu);var hw=hv.length;for(var hx=0;hx<hw;hx++){var hy=hv[hx];if(hy!==0){this.get_currentContext().save();this.get_currentContext().translate(hy,0)}var hz=this.get_currentContext().get_textAlign()==='end';var hA=e.getMarkLabelProperty('text_run_offset',hu);var hB=e.getMarkLabelProperty('text_run_count',hu);var hC=hB>1;for(var hD=0;hD<hB;hD++){var hE=hD+hA;if(hz){hE=hA+hB-hD-1}this.$i(e,hu,'normalOn',gr,hE,hC,gw)}this.clearPrevTextRunInfo();if(hy!==0){this.get_currentContext().restore()}}if(e.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$c:function(e,L,go,gp){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(go){case'normalUnder':{{if(e.get_hasBackground()&&e.get_hasHalos()){var gq=e.getMarkLabelProperty('x',L);var gr=e.getMarkLabelProperty('y',L);var gs=e.getMarkLabelProperty('width',L);var gt=-e.getMarkLabelProperty('height',L);if(gt<0){gr+=gt;gt=Math.abs(gt)}var gu=0;var gv=0;var gw;if(e.isMarkImpliedSelected(L)){gw=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gw=e.getMarkLabelProperty('halo_color',L)[gp]}bg.renderFilledBar(this.get_currentContext(),gq+gu,gr+gv,gs,gt,gw,0,0,false)}}{if(e.isMarkDebug(L)){var gx=e.getMarkLabelProperty('x',L);var gy=e.getMarkLabelProperty('y',L);var gz=e.getMarkLabelProperty('width',L);var gA=-e.getMarkLabelProperty('height',L);if(gA<0){gy+=gA;gA=Math.abs(gA)}var gB=0;var gC=0;var gD;if(e.isMarkImpliedSelected(L)){gD=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gD=e.c['halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gx+gB,gy+gC,gz,gA,gD,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(e.get_hasBackground()&&e.get_hasHalos()){var gE=e.getMarkLabelProperty('x',L);var gF=e.getMarkLabelProperty('y',L);var gG=e.getMarkLabelProperty('width',L);var gH=-e.getMarkLabelProperty('height',L);if(gH<0){gF+=gH;gH=Math.abs(gH)}var gI=0;var gJ=0;var gK;if(e.isMarkImpliedSelected(L)){gK=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gK=e.getMarkLabelProperty('halo_color',L)[gp]}bg.renderFilledBar(this.get_currentContext(),gE+gI,gF+gJ,gG,gH,gK,0,0,false)}}{if(e.isMarkDebug(L)){var gL=e.getMarkLabelProperty('x',L);var gM=e.getMarkLabelProperty('y',L);var gN=e.getMarkLabelProperty('width',L);var gO=-e.getMarkLabelProperty('height',L);if(gO<0){gM+=gO;gO=Math.abs(gO)}var gP=0;var gQ=0;var gR;if(e.isMarkImpliedSelected(L)){gR=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gR=e.c['halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gL+gP,gM+gQ,gN,gO,gR,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$i:function(e,L,go,gp,gq,gr,gs){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(go){case'normalUnder':{break}case'normalOn':{var gt=e.getTextRunProperty('text_style_id',gq);gs(gt);var gu=e.$5(gt,L,gp);var gv=e.getTextRunProperty('text_run',gq);var gw=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',gq);var gx=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',gq);var gy=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(gv,gw,gx,gy,gu,gr);break}case'highlightedUnder':{break}case'highlightedOn':{var gz=e.getTextRunProperty('text_style_id',gq);gs(gz);var gA=e.$5(gz,L,gp);var gB=e.getTextRunProperty('text_run',gq);var gC=e.getMarkLabelProperty('x',L)+e.getTextRunProperty('text_run_x',gq);var gD=e.getMarkLabelProperty('y',L)+e.getTextRunProperty('text_run_y',gq);var gE=(this.get_currentContext().get_isTextAngleHorizontal()?e.getMarkLabelProperty('width',L):e.getMarkLabelProperty('height',L));this.renderText(gB,gC,gD,gE,gA,gr);break}case'selectedUnder':{break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$o:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);var gw=e.get_lineDrawState();this.get_currentContext().save();switch(go){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}var gx=gw.get_lineAttributes();for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];var gA=gz.worldOffsets;var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC];dG.$1w(this.get_currentContext(),gD);{for(var gE=0;gE<gz.marksNeedingDraw.length;gE++){var gF=gz.marksNeedingDraw[gE];this.$e(e,gF,'normalUnder',gr)}}if(gD!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}var gG=gw.get_lineAttributes();for(var gH=0;gH<gG.length;gH++){var gI=gG[gH];if(gI.get_lineState()!=='lineStateNormal'){continue}var gJ=gI.worldOffsets;var gK=gJ.length;for(var gL=0;gL<gK;gL++){var gM=gJ[gL];dG.$1w(this.get_currentContext(),gM);{for(var gN=0;gN<gI.marksNeedingDraw.length;gN++){var gO=gI.marksNeedingDraw[gN];this.$e(e,gO,'normalOn',gr)}}if(gM!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){var gP=gw.get_lineAttributes();for(var gQ=0;gQ<gP.length;gQ++){var gR=gP[gQ];if(gR.get_lineState()!=='lineStateHighlighted'){continue}var gS=gR.worldOffsets;var gT=gS.length;for(var gU=0;gU<gT;gU++){var gV=gS[gU];dG.$1w(this.get_currentContext(),gV);gr='colorOverrideFog';{for(var gW=0;gW<gR.marksNeedingDraw.length;gW++){var gX=gR.marksNeedingDraw[gW];if(e.getMarkState(gX)!=='markStateNormal'){continue}this.$e(e,gX,'normalOn',gr)}}gr='colorOverrideNone';{for(var gY=0;gY<gR.marksNeedingDraw.length;gY++){var gZ=gR.marksNeedingDraw[gY];if(e.getMarkState(gZ)!=='markStateHighlighted'){continue}this.$e(e,gZ,'highlightedOn',gr)}}if(gV!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(gp||gq){var ha=gw.get_lineAttributes();for(var hb=0;hb<ha.length;hb++){var hc=ha[hb];if(hc.get_lineState()!=='lineStateSelected'){continue}var hd=hc.worldOffsets;var he=hd.length;for(var hf=0;hf<he;hf++){var hg=hd[hf];dG.$1w(this.get_currentContext(),hg);gr='colorOverrideFog';{for(var hh=0;hh<hc.marksNeedingDraw.length;hh++){var hi=hc.marksNeedingDraw[hh];if(e.getMarkState(hi)!=='markStateNormal'){continue}this.$e(e,hi,'normalOn',gr)}}gr='colorOverrideNone';{for(var hj=0;hj<hc.marksNeedingDraw.length;hj++){var hk=hc.marksNeedingDraw[hj];if(e.getMarkState(hk)!=='markStateHighlighted'){continue}this.$e(e,hk,'highlightedOn',gr)}}gr='colorOverrideOpaque';{for(var hl=0;hl<hc.marksNeedingDraw.length;hl++){var hm=hc.marksNeedingDraw[hl];if(e.getMarkState(hm)!=='markStateSelected'){continue}this.$e(e,hm,'selectedUnder',gr)}}{for(var hn=0;hn<hc.marksNeedingDraw.length;hn++){var ho=hc.marksNeedingDraw[hn];if(e.getMarkState(ho)!=='markStateSelected'){continue}this.$e(e,ho,'selectedOn',gr)}}if(hg!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$e:function(e,L,go,gp){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(go){case'normalUnder':{var gq=e.c['size'].gv(L)/2;{var gr=e.c['theta'].gv(L);var gs=e.c['theta1'].gv(L);var gt=gr>gs;var gu=e.c['halo_color'].gv(L)[gp];var gv=false;if(Math.abs(gr-gs)>=1){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gq*2,gu,4)}else{bg.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gq,gr,gs,gu,4,gt,gv)}}break}case'normalOn':{var gw=e.c['size'].gv(L)/2;{var gx=e.c['theta'].gv(L);var gy=e.c['theta1'].gv(L);if(gx>gy){var gz=gx;gx=gy;gy=gz}var gA=e.c['x'].gv(L);var gB=e.c['y'].gv(L);var gC=e.getMarkColors(L)[gp];if(e.c['alpha'].gv(L)>=1){var gD=bg.toCanvasAngle(gx);var gE=bg.toCanvasAngle(gy);if(Math.abs(gE-gD)>=bg.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(gC);this.get_currentContext().moveTo(gA,gB);this.get_currentContext().lineTo(gA+Math.cos(gD)*gw,gB+Math.sin(gD)*gw);this.get_currentContext().stroke()}}if(Math.abs(gx-gy)>=1){bg.renderFilledCircle(this.get_currentContext(),gA,gB,gw*2,gC)}else{this.renderFilledWedge(gA,gB,gw,gx,gy,gC)}}if(e.c['draw_border'].gv(L)){var gF=e.c['theta'].gv(L);var gG=e.c['theta1'].gv(L);var gH=gF>gG;var gI=e.c['border_color'].gv(L)[gp];var gJ=true;if(Math.abs(gF-gG)>=1){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gw*2,gI,1)}else{bg.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gw,gF,gG,gI,1,gH,gJ)}}break}case'highlightedUnder':{var gK=e.c['size'].gv(L)/2;{var gL=e.c['theta'].gv(L);var gM=e.c['theta1'].gv(L);var gN=gL>gM;var gO=e.c['halo_color'].gv(L)[gp];var gP=false;if(Math.abs(gL-gM)>=1){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gK*2,gO,4)}else{bg.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gK,gL,gM,gO,4,gN,gP)}}break}case'highlightedOn':{var gQ=e.c['size'].gv(L)/2;{var gR=e.c['theta'].gv(L);var gS=e.c['theta1'].gv(L);if(gR>gS){var gT=gR;gR=gS;gS=gT}var gU=e.c['x'].gv(L);var gV=e.c['y'].gv(L);var gW=e.getMarkColors(L)[gp];if(e.c['alpha'].gv(L)>=1){var gX=bg.toCanvasAngle(gR);var gY=bg.toCanvasAngle(gS);if(Math.abs(gY-gX)>=bg.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(gW);this.get_currentContext().moveTo(gU,gV);this.get_currentContext().lineTo(gU+Math.cos(gX)*gQ,gV+Math.sin(gX)*gQ);this.get_currentContext().stroke()}}if(Math.abs(gR-gS)>=1){bg.renderFilledCircle(this.get_currentContext(),gU,gV,gQ*2,gW)}else{this.renderFilledWedge(gU,gV,gQ,gR,gS,gW)}}if(e.c['draw_border'].gv(L)){var gZ=e.c['theta'].gv(L);var ha=e.c['theta1'].gv(L);var hb=gZ>ha;var hc=e.c['border_color'].gv(L)[gp];var hd=true;if(Math.abs(gZ-ha)>=1){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gQ*2,hc,1)}else{bg.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),gQ,gZ,ha,hc,1,hb,hd)}}break}case'selectedUnder':{var he=e.c['size'].gv(L)/2;{var hf=e.c['theta'].gv(L);var hg=e.c['theta1'].gv(L);var hh=hf>hg;var hi=e.c['selected_halo_color'].gv(L)[gp];var hj=false;if(Math.abs(hf-hg)>=1){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),he*2,hi,4)}else{bg.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),he,hf,hg,hi,4,hh,hj)}}break}case'selectedOn':{var hk=e.c['size'].gv(L)/2;{var hl=e.c['theta'].gv(L);var hm=e.c['theta1'].gv(L);if(hl>hm){var hn=hl;hl=hm;hm=hn}var ho=e.c['x'].gv(L);var hp=e.c['y'].gv(L);var hq=e.getMarkColors(L)[gp];if(e.c['alpha'].gv(L)>=1){var hr=bg.toCanvasAngle(hl);var hs=bg.toCanvasAngle(hm);if(Math.abs(hs-hr)>=bg.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(hq);this.get_currentContext().moveTo(ho,hp);this.get_currentContext().lineTo(ho+Math.cos(hr)*hk,hp+Math.sin(hr)*hk);this.get_currentContext().stroke()}}if(Math.abs(hl-hm)>=1){bg.renderFilledCircle(this.get_currentContext(),ho,hp,hk*2,hq)}else{this.renderFilledWedge(ho,hp,hk,hl,hm,hq)}}if(e.c['draw_border'].gv(L)){var ht=e.c['theta'].gv(L);var hu=e.c['theta1'].gv(L);var hv=ht>hu;var hw=e.c['border_color'].gv(L)[gp];var hx=true;if(Math.abs(ht-hu)>=1){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),hk*2,hw,1)}else{bg.renderWedge(this.get_currentContext(),e.c['x'].gv(L),e.c['y'].gv(L),hk,ht,hu,hw,1,hv,hx)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$O:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);this.get_currentContext().save();var gw=this.setupContextForTextRendering(e);switch(go){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gx=e.markWorldOffsets;var gy=_.keys(gx);for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];var gB=gx[gA];dG.$1w(this.get_currentContext(),gA);for(var gC=gt;gC<=gu;gC++){if(gB.has(gC)){continue}if(!e.markNeedsDraw(gC)){continue}if(e.getMarkState(gC)!=='markStateNormal'){continue}this.$h(e,gC,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gA,0)){this.get_currentContext().restore()}}}{var gD=e.markWorldOffsets;var gE=_.keys(gD);for(var gF=0;gF<gE.length;gF++){var gG=gE[gF];var gH=gD[gG];dG.$1w(this.get_currentContext(),gG);for(var gI=gt;gI<=gu;gI++){if(gH.has(gI)){continue}if(!e.markNeedsDraw(gI)){continue}if(e.getMarkState(gI)!=='markStateHighlighted'){continue}this.$h(e,gI,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gG,0)){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gJ=e.markWorldOffsets;var gK=_.keys(gJ);for(var gL=0;gL<gK.length;gL++){var gM=gK[gL];var gN=gJ[gM];dG.$1w(this.get_currentContext(),gM);for(var gO=gt;gO<=gu;gO++){if(gN.has(gO)){continue}if(!e.markNeedsDraw(gO)){continue}if(e.getMarkState(gO)!=='markStateNormal'){continue}var gP=this.get_currentContext().get_textAlign()==='end';var gQ=e.c['text_run_offset'].gv(gO);var gR=e.c['text_run_count'].gv(gO);var gS=gR>1;for(var gT=0;gT<gR;gT++){var gU=gT+gQ;if(gP){gU=gQ+gR-gT-1}this.$i(e,gO,'normalOn',gr,gU,gS,gw)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(gM,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{if(gp||gq){if(!(e.get_hasBackground()&&e.get_hasHalos())){gr='colorOverrideNone';{var gV=e.markWorldOffsets;var gW=_.keys(gV);for(var gX=0;gX<gW.length;gX++){var gY=gW[gX];var gZ=gV[gY];dG.$1w(this.get_currentContext(),gY);for(var ha=gt;ha<=gu;ha++){if(gZ.has(ha)){continue}if(!e.markNeedsDraw(ha)){continue}if(e.getMarkState(ha)!=='markStateHighlighted'){continue}this.$h(e,ha,'highlightedUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gY,0)){this.get_currentContext().restore()}}}}}break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';{var hb=e.markWorldOffsets;var hc=_.keys(hb);for(var hd=0;hd<hc.length;hd++){var he=hc[hd];var hf=hb[he];dG.$1w(this.get_currentContext(),he);for(var hg=gt;hg<=gu;hg++){if(hf.has(hg)){continue}if(!e.markNeedsDraw(hg)){continue}if(e.getMarkState(hg)!=='markStateHighlighted'){continue}var hh=this.get_currentContext().get_textAlign()==='end';var hi=e.c['text_run_offset'].gv(hg);var hj=e.c['text_run_count'].gv(hg);var hk=hj>1;for(var hl=0;hl<hj;hl++){var hm=hl+hi;if(hh){hm=hi+hj-hl-1}this.$i(e,hg,'normalOn',gr,hm,hk,gw)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(he,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(gp||gq){gr='colorOverrideOpaque';{var hn=e.markWorldOffsets;var ho=_.keys(hn);for(var hp=0;hp<ho.length;hp++){var hq=ho[hp];var hr=hn[hq];dG.$1w(this.get_currentContext(),hq);for(var hs=gt;hs<=gu;hs++){if(hr.has(hs)){continue}if(!e.markNeedsDraw(hs)){continue}if(e.getMarkState(hs)!=='markStateSelected'){continue}this.$h(e,hs,'selectedUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(hq,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';{var ht=e.markWorldOffsets;var hu=_.keys(ht);for(var hv=0;hv<hu.length;hv++){var hw=hu[hv];var hx=ht[hw];dG.$1w(this.get_currentContext(),hw);for(var hy=gt;hy<=gu;hy++){if(hx.has(hy)){continue}if(!e.markNeedsDraw(hy)){continue}if(e.getMarkState(hy)!=='markStateSelected'){continue}var hz=this.get_currentContext().get_textAlign()==='end';var hA=e.c['text_run_offset'].gv(hy);var hB=e.c['text_run_count'].gv(hy);var hC=hB>1;for(var hD=0;hD<hB;hD++){var hE=hD+hA;if(hz){hE=hA+hB-hD-1}this.$i(e,hy,'normalOn',gr,hE,hC,gw)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(hw,0)){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$h:function(e,L,go,gp){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(L),e.c['cell_y'].gv(L),e.c['clip_width'].gv(L),e.c['clip_height'].gv(L))}switch(go){case'normalUnder':{{if(!(e.clipCase!==0&&e.useCellClipForSelection)){var gq=e.c['x'].gv(L);var gr=e.c['y'].gv(L);var gs=e.c['width'].gv(L);var gt=-e.c['height'].gv(L);if(gt<0){gr+=gt;gt=Math.abs(gt)}var gu=-e.c['width'].gv(L)/2;var gv=e.c['height'].gv(L)/2;var gw;if(e.isMarkImpliedSelected(L)){gw=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gw=e.c['halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gq+gu,gr+gv,gs,gt,gw,0,0,false)}}{if(e.clipCase!==0&&e.useCellClipForSelection){var gx=e.c['x'].gv(L);var gy=e.c['y'].gv(L);var gz=e.c['clip_width'].gv(L);var gA=-e.c['clip_height'].gv(L);if(gA<0){gy+=gA;gA=Math.abs(gA)}var gB=-e.c['clip_width'].gv(L)/2;var gC=e.c['clip_height'].gv(L)/2;var gD;if(e.isMarkImpliedSelected(L)){gD=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gD=e.c['halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gx+gB,gy+gC,gz,gA,gD,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(e.get_hasHaloHighlightColor()&&!(e.clipCase!==0&&e.useCellClipForSelection)){var gE=e.c['x'].gv(L);var gF=e.c['y'].gv(L);var gG=e.c['width'].gv(L);var gH=-e.c['height'].gv(L);if(gH<0){gF+=gH;gH=Math.abs(gH)}var gI=-e.c['width'].gv(L)/2;var gJ=e.c['height'].gv(L)/2;var gK;if(e.isMarkImpliedSelected(L)){gK=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gK=e.c['highlighted_halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gE+gI,gF+gJ,gG,gH,gK,0,0,false)}}{if(e.get_hasHaloHighlightColor()&&(e.clipCase!==0&&e.useCellClipForSelection)){var gL=e.c['x'].gv(L);var gM=e.c['y'].gv(L);var gN=e.c['clip_width'].gv(L);var gO=-e.c['clip_height'].gv(L);if(gO<0){gM+=gO;gO=Math.abs(gO)}var gP=-e.c['clip_width'].gv(L)/2;var gQ=e.c['clip_height'].gv(L)/2;var gR;if(e.isMarkImpliedSelected(L)){gR=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gR=e.c['highlighted_halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gL+gP,gM+gQ,gN,gO,gR,0,0,false)}}break}case'selectedUnder':{{if(!(e.clipCase!==0&&e.useCellClipForSelection)){var gS=e.c['x'].gv(L);var gT=e.c['y'].gv(L);var gU=e.c['width'].gv(L);var gV=-e.c['height'].gv(L);if(gV<0){gT+=gV;gV=Math.abs(gV)}var gW=-e.c['width'].gv(L)/2;var gX=e.c['height'].gv(L)/2;var gY;if(e.isMarkImpliedSelected(L)){gY=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{gY=e.c['selected_halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gS+gW,gT+gX,gU,gV,gY,0,0,false)}}{if(e.clipCase!==0&&e.useCellClipForSelection){var gZ=e.c['x'].gv(L);var ha=e.c['y'].gv(L);var hb=e.c['clip_width'].gv(L);var hc=-e.c['clip_height'].gv(L);if(hc<0){ha+=hc;hc=Math.abs(hc)}var hd=-e.c['clip_width'].gv(L)/2;var he=e.c['clip_height'].gv(L)/2;var hf;if(e.isMarkImpliedSelected(L)){hf=e.c['selected_halo_color'].gv(L)['colorOverrideOpaque']}else{hf=e.c['selected_halo_color'].gv(L)[gp]}bg.renderFilledBar(this.get_currentContext(),gZ+hd,ha+he,hb,hc,hf,0,0,false)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$k:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(go){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gw=e.markWorldOffsets;var gx=_.keys(gw);for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];var gA=gw[gz];dG.$1w(this.get_currentContext(),gz);for(var gB=gt;gB<=gu;gB++){if(gA.has(gB)){continue}if(!e.markNeedsDraw(gB)){continue}if(e.getMarkState(gB)!=='markStateNormal'){continue}this.$a(e,gv,gB,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gz,0)){this.get_currentContext().restore()}}}gr='colorOverrideNone';{var gC=e.markWorldOffsets;var gD=_.keys(gC);for(var gE=0;gE<gD.length;gE++){var gF=gD[gE];var gG=gC[gF];dG.$1w(this.get_currentContext(),gF);for(var gH=gt;gH<=gu;gH++){if(gG.has(gH)){continue}if(!e.markNeedsDraw(gH)){continue}if(e.getMarkState(gH)!=='markStateHighlighted'){continue}this.$a(e,gv,gH,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gF,0)){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gI=e.markWorldOffsets;var gJ=_.keys(gI);for(var gK=0;gK<gJ.length;gK++){var gL=gJ[gK];var gM=gI[gL];dG.$1w(this.get_currentContext(),gL);for(var gN=gt;gN<=gu;gN++){if(gM.has(gN)){continue}if(!e.markNeedsDraw(gN)){continue}if(e.getMarkState(gN)!=='markStateNormal'){continue}this.$a(e,gv,gN,'normalOn',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gL,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';{var gO=e.markWorldOffsets;var gP=_.keys(gO);for(var gQ=0;gQ<gP.length;gQ++){var gR=gP[gQ];var gS=gO[gR];dG.$1w(this.get_currentContext(),gR);for(var gT=gt;gT<=gu;gT++){if(gS.has(gT)){continue}if(!e.markNeedsDraw(gT)){continue}if(e.getMarkState(gT)!=='markStateHighlighted'){continue}this.$a(e,gv,gT,'highlightedOn',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gR,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(gp||gq){gr='colorOverrideOpaque';{var gU=e.markWorldOffsets;var gV=_.keys(gU);for(var gW=0;gW<gV.length;gW++){var gX=gV[gW];var gY=gU[gX];dG.$1w(this.get_currentContext(),gX);for(var gZ=gt;gZ<=gu;gZ++){if(gY.has(gZ)){continue}if(!e.markNeedsDraw(gZ)){continue}if(e.getMarkState(gZ)!=='markStateSelected'){continue}this.$a(e,gv,gZ,'selectedUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gX,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';if(e.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(e.getInsetPaneClipRect(L,2))}{var ha=e.markWorldOffsets;var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];dG.$1w(this.get_currentContext(),hd);for(var hf=gt;hf<=gu;hf++){if(he.has(hf)){continue}if(!e.markNeedsDraw(hf)){continue}if(e.getMarkState(hf)!=='markStateSelected'){continue}this.$a(e,gv,hf,'selectedOn',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(hd,0)){this.get_currentContext().restore()}}}if(e.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},$a:function(e,L,go,gp,gq){if(e.clipCase!==0){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(go),e.c['cell_y'].gv(go),e.c['clip_width'].gv(go),e.c['clip_height'].gv(go))}switch(gp){case'normalUnder':{var gr=ss.Int32.trunc(e.c['size'].gv(go)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var gs=e.c['x'].gv(go);var gt=e.c['x1'].gv(go);var gu=e.c['y'].gv(go);var gv=e.c['y1'].gv(go);var gw=Math.min(gs,gt);var gx=Math.min(gu,gv);var gy=Math.abs(gt-gs)+0;var gz=Math.abs(gv-gu)+0;bg.renderBarOutline(this.get_currentContext(),gw,gx,gy,gz,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var gA=e.c['x'].gv(go)-gr;var gB=e.c['x'].gv(go)+gr;var gC=e.c['y'].gv(go);var gD=e.c['y1'].gv(go);var gE=Math.min(gA,gB);var gF=Math.min(gC,gD);var gG=Math.abs(gB-gA)+0;var gH=Math.abs(gD-gC)+0;bg.renderBarOutline(this.get_currentContext(),gE,gF,gG,gH,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var gI=e.c['x'].gv(go);var gJ=e.c['x1'].gv(go);var gK=e.c['y'].gv(go)-gr;var gL=e.c['y'].gv(go)+gr;var gM=Math.min(gI,gJ);var gN=Math.min(gK,gL);var gO=Math.abs(gJ-gI)+0;var gP=Math.abs(gL-gK)+0;bg.renderBarOutline(this.get_currentContext(),gM,gN,gO,gP,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var gQ=e.c['x'].gv(go)-gr;var gR=e.c['x'].gv(go)+gr;var gS=e.c['y'].gv(go)-gr;var gT=e.c['y'].gv(go)+gr;var gU=Math.min(gQ,gR);var gV=Math.min(gS,gT);var gW=Math.abs(gR-gQ)+0;var gX=Math.abs(gT-gS)+0;bg.renderBarOutline(this.get_currentContext(),gU,gV,gW,gX,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,true)}}break}case'normalOn':{var gY=ss.Int32.trunc(e.c['size'].gv(go)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var gZ=e.c['x'].gv(go);var ha=e.c['x1'].gv(go);var hb=e.c['y'].gv(go);var hc=e.c['y1'].gv(go);var hd=Math.min(gZ,ha);var he=Math.min(hb,hc);var hf=Math.abs(ha-gZ)+0;var hg=Math.abs(hc-hb)+0;bg.renderFilledBar(this.get_currentContext(),hd-0,he-0,hf+2*0,hg+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var hh=e.c['x'].gv(go);var hi=e.c['x1'].gv(go);var hj=e.c['y'].gv(go);var hk=e.c['y1'].gv(go);var hl=Math.min(hh,hi);var hm=Math.min(hj,hk);var hn=Math.abs(hi-hh)+0;var ho=Math.abs(hk-hj)+0;bg.renderBarOutline(this.get_currentContext(),hl,hm,hn,ho,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var hp=e.c['x'].gv(go)-gY;var hq=e.c['x'].gv(go)+gY;var hr=e.c['y'].gv(go);var hs=e.c['y1'].gv(go);var ht=Math.min(hp,hq);var hu=Math.min(hr,hs);var hv=Math.abs(hq-hp)+0;var hw=Math.abs(hs-hr)+0;bg.renderFilledBar(this.get_currentContext(),ht-0,hu-0,hv+2*0,hw+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var hx=e.c['x'].gv(go)-gY;var hy=e.c['x'].gv(go)+gY;var hz=e.c['y'].gv(go);var hA=e.c['y1'].gv(go);var hB=Math.min(hx,hy);var hC=Math.min(hz,hA);var hD=Math.abs(hy-hx)+0;var hE=Math.abs(hA-hz)+0;bg.renderBarOutline(this.get_currentContext(),hB,hC,hD,hE,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var hF=e.c['x'].gv(go);var hG=e.c['x1'].gv(go);var hH=e.c['y'].gv(go)-gY;var hI=e.c['y'].gv(go)+gY;var hJ=Math.min(hF,hG);var hK=Math.min(hH,hI);var hL=Math.abs(hG-hF)+0;var hM=Math.abs(hI-hH)+0;bg.renderFilledBar(this.get_currentContext(),hJ-0,hK-0,hL+2*0,hM+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var hN=e.c['x'].gv(go);var hO=e.c['x1'].gv(go);var hP=e.c['y'].gv(go)-gY;var hQ=e.c['y'].gv(go)+gY;var hR=Math.min(hN,hO);var hS=Math.min(hP,hQ);var hT=Math.abs(hO-hN)+0;var hU=Math.abs(hQ-hP)+0;bg.renderBarOutline(this.get_currentContext(),hR,hS,hT,hU,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var hV=e.c['x'].gv(go)-gY;var hW=e.c['x'].gv(go)+gY;var hX=e.c['y'].gv(go)-gY;var hY=e.c['y'].gv(go)+gY;var hZ=Math.min(hV,hW);var ia=Math.min(hX,hY);var ib=Math.abs(hW-hV)+0;var ic=Math.abs(hY-hX)+0;bg.renderFilledBar(this.get_currentContext(),hZ-0,ia-0,ib+2*0,ic+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var id=e.c['x'].gv(go)-gY;var ie=e.c['x'].gv(go)+gY;var ig=e.c['y'].gv(go)-gY;var ih=e.c['y'].gv(go)+gY;var ii=Math.min(id,ie);var ij=Math.min(ig,ih);var ik=Math.abs(ie-id)+0;var il=Math.abs(ih-ig)+0;bg.renderBarOutline(this.get_currentContext(),ii,ij,ik,il,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,true)}}break}case'highlightedUnder':{var im=ss.Int32.trunc(e.c['size'].gv(go)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var io=e.c['x'].gv(go);var ip=e.c['x1'].gv(go);var iq=e.c['y'].gv(go);var ir=e.c['y1'].gv(go);var it=Math.min(io,ip);var iu=Math.min(iq,ir);var iv=Math.abs(ip-io)+0;var iw=Math.abs(ir-iq)+0;bg.renderBarOutline(this.get_currentContext(),it,iu,iv,iw,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var ix=e.c['x'].gv(go)-im;var iy=e.c['x'].gv(go)+im;var iz=e.c['y'].gv(go);var iA=e.c['y1'].gv(go);var iB=Math.min(ix,iy);var iC=Math.min(iz,iA);var iD=Math.abs(iy-ix)+0;var iE=Math.abs(iA-iz)+0;bg.renderBarOutline(this.get_currentContext(),iB,iC,iD,iE,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var iF=e.c['x'].gv(go);var iG=e.c['x1'].gv(go);var iH=e.c['y'].gv(go)-im;var iI=e.c['y'].gv(go)+im;var iJ=Math.min(iF,iG);var iK=Math.min(iH,iI);var iL=Math.abs(iG-iF)+0;var iM=Math.abs(iI-iH)+0;bg.renderBarOutline(this.get_currentContext(),iJ,iK,iL,iM,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var iN=e.c['x'].gv(go)-im;var iO=e.c['x'].gv(go)+im;var iP=e.c['y'].gv(go)-im;var iQ=e.c['y'].gv(go)+im;var iR=Math.min(iN,iO);var iS=Math.min(iP,iQ);var iT=Math.abs(iO-iN)+0;var iU=Math.abs(iQ-iP)+0;bg.renderBarOutline(this.get_currentContext(),iR,iS,iT,iU,e.c['halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,true)}}break}case'highlightedOn':{var iV=ss.Int32.trunc(e.c['size'].gv(go)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var iW=e.c['x'].gv(go);var iX=e.c['x1'].gv(go);var iY=e.c['y'].gv(go);var iZ=e.c['y1'].gv(go);var ja=Math.min(iW,iX);var jb=Math.min(iY,iZ);var jc=Math.abs(iX-iW)+0;var jd=Math.abs(iZ-iY)+0;bg.renderFilledBar(this.get_currentContext(),ja-0,jb-0,jc+2*0,jd+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var je=e.c['x'].gv(go);var jf=e.c['x1'].gv(go);var jg=e.c['y'].gv(go);var jh=e.c['y1'].gv(go);var ji=Math.min(je,jf);var jj=Math.min(jg,jh);var jk=Math.abs(jf-je)+0;var jl=Math.abs(jh-jg)+0;bg.renderBarOutline(this.get_currentContext(),ji,jj,jk,jl,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var jm=e.c['x'].gv(go)-iV;var jn=e.c['x'].gv(go)+iV;var jo=e.c['y'].gv(go);var jp=e.c['y1'].gv(go);var jq=Math.min(jm,jn);var jr=Math.min(jo,jp);var js=Math.abs(jn-jm)+0;var jt=Math.abs(jp-jo)+0;bg.renderFilledBar(this.get_currentContext(),jq-0,jr-0,js+2*0,jt+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var ju=e.c['x'].gv(go)-iV;var jv=e.c['x'].gv(go)+iV;var jw=e.c['y'].gv(go);var jx=e.c['y1'].gv(go);var jy=Math.min(ju,jv);var jz=Math.min(jw,jx);var jA=Math.abs(jv-ju)+0;var jB=Math.abs(jx-jw)+0;bg.renderBarOutline(this.get_currentContext(),jy,jz,jA,jB,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var jC=e.c['x'].gv(go);var jD=e.c['x1'].gv(go);var jE=e.c['y'].gv(go)-iV;var jF=e.c['y'].gv(go)+iV;var jG=Math.min(jC,jD);var jH=Math.min(jE,jF);var jI=Math.abs(jD-jC)+0;var jJ=Math.abs(jF-jE)+0;bg.renderFilledBar(this.get_currentContext(),jG-0,jH-0,jI+2*0,jJ+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var jK=e.c['x'].gv(go);var jL=e.c['x1'].gv(go);var jM=e.c['y'].gv(go)-iV;var jN=e.c['y'].gv(go)+iV;var jO=Math.min(jK,jL);var jP=Math.min(jM,jN);var jQ=Math.abs(jL-jK)+0;var jR=Math.abs(jN-jM)+0;bg.renderBarOutline(this.get_currentContext(),jO,jP,jQ,jR,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var jS=e.c['x'].gv(go)-iV;var jT=e.c['x'].gv(go)+iV;var jU=e.c['y'].gv(go)-iV;var jV=e.c['y'].gv(go)+iV;var jW=Math.min(jS,jT);var jX=Math.min(jU,jV);var jY=Math.abs(jT-jS)+0;var jZ=Math.abs(jV-jU)+0;bg.renderFilledBar(this.get_currentContext(),jW-0,jX-0,jY+2*0,jZ+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var ka=e.c['x'].gv(go)-iV;var kb=e.c['x'].gv(go)+iV;var kc=e.c['y'].gv(go)-iV;var kd=e.c['y'].gv(go)+iV;var ke=Math.min(ka,kb);var kf=Math.min(kc,kd);var kg=Math.abs(kb-ka)+0;var kh=Math.abs(kd-kc)+0;bg.renderBarOutline(this.get_currentContext(),ke,kf,kg,kh,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,true)}}break}case'selectedUnder':{var ki=ss.Int32.trunc(e.c['size'].gv(go)+0.5)/2;var kj=1;{var kk=e.c['x'].gv(go);var kl=e.c['x1'].gv(go);var km=e.c['y'].gv(go);var kn=e.c['y1'].gv(go);var ko=Math.min(kk,kl);var kp=Math.min(km,kn);var kq=Math.abs(kl-kk)+0;var kr=Math.abs(kn-km)+0;if(e.scaleMarksInX&&e.scaleMarksInY&&!this.$8(L,ko,kp,kq,kr)){bg.renderBarOutline(this.get_currentContext(),ko,kp,kq,kr,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{var ks=e.c['x'].gv(go);var kt=e.c['x1'].gv(go);var ku=e.c['y'].gv(go);var kv=e.c['y1'].gv(go);var kw=Math.min(ks,kt);var kx=Math.min(ku,kv);var ky=Math.abs(kt-ks)+0;var kz=Math.abs(kv-ku)+0;if(e.scaleMarksInX&&e.scaleMarksInY&&this.$8(L,kw,kx,ky,kz)){bg.renderFilledBar(this.get_currentContext(),kw-2,kx-2,ky+2*2,kz+2*2,e.c['selected_halo_color'].gv(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var kA=e.c['x'].gv(go);var kB=e.c['x1'].gv(go);var kC=e.c['y'].gv(go);var kD=e.c['y1'].gv(go);var kE=Math.min(kA,kB);var kF=Math.min(kC,kD);var kG=Math.abs(kB-kA)+kj;var kH=Math.abs(kD-kC)+kj;bg.renderBarOutline(this.get_currentContext(),kE,kF,kG,kH,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{var kI=e.c['x'].gv(go)-ki;var kJ=e.c['x'].gv(go)+ki;var kK=e.c['y'].gv(go);var kL=e.c['y1'].gv(go);var kM=Math.min(kI,kJ);var kN=Math.min(kK,kL);var kO=Math.abs(kJ-kI)+0;var kP=Math.abs(kL-kK)+0;if(!e.scaleMarksInX&&e.scaleMarksInY&&!this.$8(L,kM,kN,kO,kP)){bg.renderBarOutline(this.get_currentContext(),kM,kN,kO,kP,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{var kQ=e.c['x'].gv(go)-ki;var kR=e.c['x'].gv(go)+ki;var kS=e.c['y'].gv(go);var kT=e.c['y1'].gv(go);var kU=Math.min(kQ,kR);var kV=Math.min(kS,kT);var kW=Math.abs(kR-kQ)+0;var kX=Math.abs(kT-kS)+0;if(!e.scaleMarksInX&&e.scaleMarksInY&&this.$8(L,kU,kV,kW,kX)){bg.renderFilledBar(this.get_currentContext(),kU-2,kV-2,kW+2*2,kX+2*2,e.c['selected_halo_color'].gv(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var kY=e.c['x'].gv(go)-ki;var kZ=e.c['x'].gv(go)+ki;var la=e.c['y'].gv(go);var lb=e.c['y1'].gv(go);var lc=Math.min(kY,kZ);var ld=Math.min(la,lb);var le=Math.abs(kZ-kY)+kj;var lf=Math.abs(lb-la)+kj;bg.renderBarOutline(this.get_currentContext(),lc,ld,le,lf,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{var lg=e.c['x'].gv(go);var lh=e.c['x1'].gv(go);var li=e.c['y'].gv(go)-ki;var lj=e.c['y'].gv(go)+ki;var lk=Math.min(lg,lh);var ll=Math.min(li,lj);var lm=Math.abs(lh-lg)+0;var ln=Math.abs(lj-li)+0;if(e.scaleMarksInX&&!e.scaleMarksInY&&!this.$8(L,lk,ll,lm,ln)){bg.renderBarOutline(this.get_currentContext(),lk,ll,lm,ln,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{var lo=e.c['x'].gv(go);var lp=e.c['x1'].gv(go);var lq=e.c['y'].gv(go)-ki;var lr=e.c['y'].gv(go)+ki;var ls=Math.min(lo,lp);var lt=Math.min(lq,lr);var lu=Math.abs(lp-lo)+0;var lv=Math.abs(lr-lq)+0;if(e.scaleMarksInX&&!e.scaleMarksInY&&this.$8(L,ls,lt,lu,lv)){bg.renderFilledBar(this.get_currentContext(),ls-2,lt-2,lu+2*2,lv+2*2,e.c['selected_halo_color'].gv(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var lw=e.c['x'].gv(go);var lx=e.c['x1'].gv(go);var ly=e.c['y'].gv(go)-ki;var lz=e.c['y'].gv(go)+ki;var lA=Math.min(lw,lx);var lB=Math.min(ly,lz);var lC=Math.abs(lx-lw)+kj;var lD=Math.abs(lz-ly)+kj;bg.renderBarOutline(this.get_currentContext(),lA,lB,lC,lD,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,false)}}{var lE=e.c['x'].gv(go)-ki;var lF=e.c['x'].gv(go)+ki;var lG=e.c['y'].gv(go)-ki;var lH=e.c['y'].gv(go)+ki;var lI=Math.min(lE,lF);var lJ=Math.min(lG,lH);var lK=Math.abs(lF-lE)+0;var lL=Math.abs(lH-lG)+0;if(!e.scaleMarksInX&&!e.scaleMarksInY&&!this.$8(L,lI,lJ,lK,lL)){bg.renderBarOutline(this.get_currentContext(),lI,lJ,lK,lL,e.c['selected_halo_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,true)}}{var lM=e.c['x'].gv(go)-ki;var lN=e.c['x'].gv(go)+ki;var lO=e.c['y'].gv(go)-ki;var lP=e.c['y'].gv(go)+ki;var lQ=Math.min(lM,lN);var lR=Math.min(lO,lP);var lS=Math.abs(lN-lM)+0;var lT=Math.abs(lP-lO)+0;if(!e.scaleMarksInX&&!e.scaleMarksInY&&this.$8(L,lQ,lR,lS,lT)){bg.renderFilledBar(this.get_currentContext(),lQ-2,lR-2,lS+2*2,lT+2*2,e.c['selected_halo_color'].gv(go)[gq],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var lU=e.c['x'].gv(go)-ki;var lV=e.c['x'].gv(go)+ki;var lW=e.c['y'].gv(go)-ki;var lX=e.c['y'].gv(go)+ki;var lY=Math.min(lU,lV);var lZ=Math.min(lW,lX);var ma=Math.abs(lV-lU)+kj;var mb=Math.abs(lX-lW)+kj;bg.renderBarOutline(this.get_currentContext(),lY,lZ,ma,mb,e.c['border_color'].gv(go)[gq],4,e.minBarWidth,e.minBarHeight,true)}}break}case'selectedOn':{var mc=ss.Int32.trunc(e.c['size'].gv(go)+0.5)/2;{if(e.scaleMarksInX&&e.scaleMarksInY){var md=e.c['x'].gv(go);var me=e.c['x1'].gv(go);var mf=e.c['y'].gv(go);var mg=e.c['y1'].gv(go);var mh=Math.min(md,me);var mi=Math.min(mf,mg);var mj=Math.abs(me-md)+0;var mk=Math.abs(mg-mf)+0;bg.renderFilledBar(this.get_currentContext(),mh-0,mi-0,mj+2*0,mk+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var ml=e.c['x'].gv(go);var mm=e.c['x1'].gv(go);var mn=e.c['y'].gv(go);var mo=e.c['y1'].gv(go);var mp=Math.min(ml,mm);var mq=Math.min(mn,mo);var mr=Math.abs(mm-ml)+0;var ms=Math.abs(mo-mn)+0;bg.renderBarOutline(this.get_currentContext(),mp,mq,mr,ms,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY){var mt=e.c['x'].gv(go)-mc;var mu=e.c['x'].gv(go)+mc;var mv=e.c['y'].gv(go);var mw=e.c['y1'].gv(go);var mx=Math.min(mt,mu);var my=Math.min(mv,mw);var mz=Math.abs(mu-mt)+0;var mA=Math.abs(mw-mv)+0;bg.renderFilledBar(this.get_currentContext(),mx-0,my-0,mz+2*0,mA+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&e.scaleMarksInY&&e.drawBorder){var mB=e.c['x'].gv(go)-mc;var mC=e.c['x'].gv(go)+mc;var mD=e.c['y'].gv(go);var mE=e.c['y1'].gv(go);var mF=Math.min(mB,mC);var mG=Math.min(mD,mE);var mH=Math.abs(mC-mB)+0;var mI=Math.abs(mE-mD)+0;bg.renderBarOutline(this.get_currentContext(),mF,mG,mH,mI,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY){var mJ=e.c['x'].gv(go);var mK=e.c['x1'].gv(go);var mL=e.c['y'].gv(go)-mc;var mM=e.c['y'].gv(go)+mc;var mN=Math.min(mJ,mK);var mO=Math.min(mL,mM);var mP=Math.abs(mK-mJ)+0;var mQ=Math.abs(mM-mL)+0;bg.renderFilledBar(this.get_currentContext(),mN-0,mO-0,mP+2*0,mQ+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,false)}}{if(e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var mR=e.c['x'].gv(go);var mS=e.c['x1'].gv(go);var mT=e.c['y'].gv(go)-mc;var mU=e.c['y'].gv(go)+mc;var mV=Math.min(mR,mS);var mW=Math.min(mT,mU);var mX=Math.abs(mS-mR)+0;var mY=Math.abs(mU-mT)+0;bg.renderBarOutline(this.get_currentContext(),mV,mW,mX,mY,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,false)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY){var mZ=e.c['x'].gv(go)-mc;var na=e.c['x'].gv(go)+mc;var nb=e.c['y'].gv(go)-mc;var nc=e.c['y'].gv(go)+mc;var nd=Math.min(mZ,na);var ne=Math.min(nb,nc);var nf=Math.abs(na-mZ)+0;var ng=Math.abs(nc-nb)+0;bg.renderFilledBar(this.get_currentContext(),nd-0,ne-0,nf+2*0,ng+2*0,e.getMarkColors(go)[gq],e.minBarWidth,e.minBarHeight,true)}}{if(!e.scaleMarksInX&&!e.scaleMarksInY&&e.drawBorder){var nh=e.c['x'].gv(go)-mc;var ni=e.c['x'].gv(go)+mc;var nj=e.c['y'].gv(go)-mc;var nk=e.c['y'].gv(go)+mc;var nl=Math.min(nh,ni);var nm=Math.min(nj,nk);var nn=Math.abs(ni-nh)+0;var no=Math.abs(nk-nj)+0;bg.renderBarOutline(this.get_currentContext(),nl,nm,nn,no,e.c['border_color'].gv(go)[gq],1,e.minBarWidth,e.minBarHeight,true)}}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$l:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);var gw=e.get_lineDrawState();this.get_currentContext().save();switch(go){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}var gx=gw.get_lineAttributes();for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];if(gz.get_lineState()!=='lineStateNormal'){continue}var gA=gz.worldOffsets;var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC];dG.$1w(this.get_currentContext(),gD);{for(var gE=0;gE<gz.marksNeedingDraw.length;gE++){var gF=gz.marksNeedingDraw[gE];if(e.c['l_neighbor'].gv(gF)!==-1||e.c['r_neighbor'].gv(gF)!==-1){this.$b(e,gF,'normalUnder',gr)}}}{for(var gG=0;gG<gz.marksNeedingDraw.length;gG++){var gH=gz.marksNeedingDraw[gG];this.$b(e,gH,'edgeUnder',gr);if(e.c['l_neighbor'].gv(gH)===-1&&e.c['r_neighbor'].gv(gH)===-1||e.shouldShowMarker(gH)){this.$b(e,gH,'blobUnder',gr)}}}if(gD!==0){this.get_currentContext().restore()}}}var gI=gw.get_lineAttributes();for(var gJ=0;gJ<gI.length;gJ++){var gK=gI[gJ];if(gK.get_lineState()!=='lineStateHighlighted'){continue}var gL=gK.worldOffsets;var gM=gL.length;for(var gN=0;gN<gM;gN++){var gO=gL[gN];dG.$1w(this.get_currentContext(),gO);{for(var gP=0;gP<gK.marksNeedingDraw.length;gP++){var gQ=gK.marksNeedingDraw[gP];if(e.c['l_neighbor'].gv(gQ)!==-1||e.c['r_neighbor'].gv(gQ)!==-1){this.$b(e,gQ,'normalUnder',gr)}}}{for(var gR=0;gR<gK.marksNeedingDraw.length;gR++){var gS=gK.marksNeedingDraw[gR];this.$b(e,gS,'edgeUnder',gr);if(e.c['l_neighbor'].gv(gS)===-1&&e.c['r_neighbor'].gv(gS)===-1||e.shouldShowMarker(gS)){this.$b(e,gS,'blobUnder',gr)}}}if(gO!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}var gT=gw.get_lineAttributes();for(var gU=0;gU<gT.length;gU++){var gV=gT[gU];if(gV.get_lineState()!=='lineStateNormal'){continue}var gW=gV.worldOffsets;var gX=gW.length;for(var gY=0;gY<gX;gY++){var gZ=gW[gY];dG.$1w(this.get_currentContext(),gZ);var ha=true;if(e.get_hasGlobalTransparency()){if(e.markType==='line'){ha=gV.endIndex-gV.startIndex>1}if(ha){var hb=((!e.isWrappedDomain&&e.markType==='line')?gV.sloppyBoundingBox:null);this.beginOffScreenRender(hb);e.forceOpaqueColors=true}}{for(var hc=0;hc<gV.marksNeedingDraw.length;hc++){var hd=gV.marksNeedingDraw[hc];if(e.c['l_neighbor'].gv(hd)!==-1||e.c['r_neighbor'].gv(hd)!==-1){this.$b(e,hd,'normalOn',gr)}else{this.$b(e,hd,'blobOn',gr)}}}{for(var he=0;he<gV.marksNeedingDraw.length;he++){var hf=gV.marksNeedingDraw[he];this.$b(e,hf,'edgeOn',gr)}}if(e.get_hasGlobalTransparency()){if(ha){e.forceOpaqueColors=false;this.endOffScreenRender(e.globalAlpha)}}{for(var hg=0;hg<gV.marksNeedingDraw.length;hg++){var hh=gV.marksNeedingDraw[hg];if(e.shouldShowMarker(hh)){this.$b(e,hh,'blobOn',gr)}}}if(gZ!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';var hi=gw.get_lineAttributes();for(var hj=0;hj<hi.length;hj++){var hk=hi[hj];if(hk.get_lineState()!=='lineStateHighlighted'){continue}var hl=hk.worldOffsets;var hm=hl.length;for(var hn=0;hn<hm;hn++){var ho=hl[hn];dG.$1w(this.get_currentContext(),ho);var hp=true;if(e.get_hasGlobalTransparency()){if(e.markType==='line'){hp=hk.endIndex-hk.startIndex>1}if(hp){var hq=((!e.isWrappedDomain&&e.markType==='line')?hk.sloppyBoundingBox:null);this.beginOffScreenRender(hq);e.forceOpaqueColors=true}}{for(var hr=0;hr<hk.marksNeedingDraw.length;hr++){var hs=hk.marksNeedingDraw[hr];if(!(e.getMarkState(hs)==='markStateHighlighted')){gr='colorOverrideFog'}if(!(e.getMarkState(hs)==='markStateHighlighted'&&!hk.get_allHighlighted())){if(e.c['l_neighbor'].gv(hs)!==-1||e.c['r_neighbor'].gv(hs)!==-1){this.$b(e,hs,'normalOn',gr)}else{this.$b(e,hs,'blobOn',gr)}}gr='colorOverrideNone'}}{for(var ht=0;ht<hk.marksNeedingDraw.length;ht++){var hu=hk.marksNeedingDraw[ht];if(e.getMarkState(hu)!=='markStateHighlighted'||e.c['r_neighbor'].gv(hu)!==-1&&e.getMarkState(e.c['r_neighbor'].gv(hu))!=='markStateHighlighted'){gr='colorOverrideFog'}this.$b(e,hu,'edgeOn',gr);gr='colorOverrideNone'}}if(e.get_hasGlobalTransparency()){if(hp){e.forceOpaqueColors=false;this.endOffScreenRender(e.globalAlpha)}}{for(var hv=0;hv<hk.marksNeedingDraw.length;hv++){var hw=hk.marksNeedingDraw[hv];if(!(e.getMarkState(hw)==='markStateHighlighted')){gr='colorOverrideFog'}if(!(e.getMarkState(hw)==='markStateHighlighted'&&!hk.get_allHighlighted())){if(e.shouldShowMarker(hw)){this.$b(e,hw,'blobOn',gr)}}gr='colorOverrideNone'}}{for(var hx=0;hx<hk.marksNeedingDraw.length;hx++){var hy=hk.marksNeedingDraw[hx];if(e.getMarkState(hy)==='markStateHighlighted'&&!hk.get_allHighlighted()){this.$b(e,hy,'highlightedUnder',gr)}}}{for(var hz=0;hz<hk.marksNeedingDraw.length;hz++){var hA=hk.marksNeedingDraw[hz];if(e.getMarkState(hA)==='markStateHighlighted'&&!hk.get_allHighlighted()){this.$b(e,hA,'highlightedOn',gr)}}}if(ho!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(gp||gq){gr='colorOverrideNone';var hB=gw.get_lineAttributes();for(var hC=0;hC<hB.length;hC++){var hD=hB[hC];if(hD.get_lineState()!=='lineStateSelected'){continue}var hE=hD.worldOffsets;var hF=hE.length;for(var hG=0;hG<hF;hG++){var hH=hE[hG];dG.$1w(this.get_currentContext(),hH);{for(var hI=0;hI<hD.marksNeedingDraw.length;hI++){var hJ=hD.marksNeedingDraw[hI];this.$b(e,hJ,'selectedUnder1',gr);this.$b(e,hJ,'selectedEdgeUnder',gr)}}if(hH!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';var hK=gw.get_lineAttributes();for(var hL=0;hL<hK.length;hL++){var hM=hK[hL];if(hM.get_lineState()!=='lineStateSelected'){continue}var hN=hM.worldOffsets;var hO=hN.length;for(var hP=0;hP<hO;hP++){var hQ=hN[hP];dG.$1w(this.get_currentContext(),hQ);{for(var hR=0;hR<hM.marksNeedingDraw.length;hR++){var hS=hM.marksNeedingDraw[hR];if(e.c['l_neighbor'].gv(hS)!==-1||e.c['r_neighbor'].gv(hS)!==-1){this.$b(e,hS,'normalOn',gr)}else{this.$b(e,hS,'blobOn',gr)}}}{for(var hT=0;hT<hM.marksNeedingDraw.length;hT++){var hU=hM.marksNeedingDraw[hT];this.$b(e,hU,'edgeOn',gr)}}{for(var hV=0;hV<hM.marksNeedingDraw.length;hV++){var hW=hM.marksNeedingDraw[hV];if(e.shouldShowMarker(hW)){this.$b(e,hW,'blobOn',gr)}}}if(!hM.get_allHighlighted()){{for(var hX=0;hX<hM.marksNeedingDraw.length;hX++){var hY=hM.marksNeedingDraw[hX];if(e.getMarkState(hY)==='markStateHighlighted'){this.$b(e,hY,'highlightedUnder',gr)}}}{for(var hZ=0;hZ<hM.marksNeedingDraw.length;hZ++){var ia=hM.marksNeedingDraw[hZ];if(e.getMarkState(ia)==='markStateHighlighted'){this.$b(e,ia,'highlightedOn',gr)}}}}{for(var ib=0;ib<hM.marksNeedingDraw.length;ib++){var ic=hM.marksNeedingDraw[ib];if(e.getMarkState(ic)==='markStateSelected'){this.$b(e,ic,'selectedUnder',gr)}}}{for(var id=0;id<hM.marksNeedingDraw.length;id++){var ie=hM.marksNeedingDraw[id];if(e.getMarkState(ie)==='markStateSelected'){this.$b(e,ie,'highlightedOn',gr)}}}if(hQ!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},$b:function(e,L,go,gp){var gq=e.c['l_neighbor'].gv(L);var gr=e.c['r_neighbor'].gv(L);switch(go){case'normalUnder':{{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['halo_color'].gv(L)[gp],4)}break}case'normalOn':{{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp])}}break}case'blobUnder':{{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+3,e.c['halo_color'].gv(L)[gp],4)}break}case'blobOn':{{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+3,e.getMarkColors(L)[gp])}}break}case'highlightedUnder':{{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+4,e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}break}case'highlightedOn':{{{bg.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+4,e.getMarkColors(L)[gp])}}break}case'selectedUnder':{{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L)+4,e.c['selected_halo_color'].gv(L)[gp],4)}break}case'selectedUnder1':{var gs=gr!==-1;var gt=e.lineInterpolation;var gu=e.lineMarkerPosition;{bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gs&&gu==='lmp-left'&&(gt==='lim-step'||gt==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(gr)){bg.renderCircle(this.get_currentContext(),e.c['x'].gv(gr)-e.c['x'].gv(L)+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gs&&gu==='lmp-center'&&(gt==='lim-step'||gt==='lim-jump')){bg.renderCircle(this.get_currentContext(),(e.c['x'].gv(gr)-e.c['x'].gv(L))/2+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gs&&gu==='lmp-center'&&(gt==='lim-step'||gt==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(gr)){bg.renderCircle(this.get_currentContext(),(e.c['x'].gv(gr)-e.c['x'].gv(L))/2+e.c['x'].gv(L),e.c['y'].gv(gr)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gs&&gu==='lmp-right'&&(gt==='lim-step'||gt==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(gr)){bg.renderCircle(this.get_currentContext(),0+e.c['x'].gv(L),e.c['y'].gv(gr)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}break}case'edgeUnder':{var gv=gr!==-1;var gw=e.lineInterpolation;var gx=e.lineMarkerPosition;if(gv&&gw==='lim-linear'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-left'){this.renderLineEdge(e.c['x'].gv(gr),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-step'&&gx==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-jump'&&gx==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-jump'&&gx==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-jump'&&gx==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}if(gv&&gw==='lim-jump'&&gx==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['halo_color'].gv(L)[gp],4)}break}case'selectedEdgeUnder':{var gy=gr!==-1;var gz=e.lineInterpolation;var gA=e.lineMarkerPosition;if(gy&&gz==='lim-linear'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-left'){this.renderLineEdge(e.c['x'].gv(gr),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-step'&&gA==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-jump'&&gA==='lmp-left'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-jump'&&gA==='lmp-center'){this.renderLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-jump'&&gA==='lmp-center'){this.renderLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}if(gy&&gz==='lim-jump'&&gA==='lmp-right'){this.renderLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.c['selected_multi_prim_halo_color'].gv(L)[gp],4)}break}case'edgeOn':{var gB=gr!==-1;var gC=e.lineInterpolation;var gD=e.lineMarkerPosition;if(gB&&gC==='lim-linear'){if(e.isLineSegmentVisible(L,gr)){var gE=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.getMarkColors(L)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-left'){if(e.isLineSegmentVisible(L,gr)){var gF=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp],e.getMarkColors(L)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-left'){if(e.isLineSegmentVisible(L,gr)){var gG=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(gr),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.getMarkColors(L)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-center'){if(e.isLineSegmentVisible(L,gr)){var gH=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp],e.getMarkColors(L)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-center'){if(e.isLineSegmentVisible(L,gr)){var gI=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.getMarkColors(L)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-center'){if(e.isLineSegmentVisible(L,gr)){var gJ=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(gr),e.c['size'].gv(gr),e.getMarkColors(gr)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-right'){if(e.isLineSegmentVisible(L,gr)){var gK=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(L),e.c['y'].gv(L),e.c['y'].gv(gr),e.c['size'].gv(L),e.c['size'].gv(gr),e.getMarkColors(L)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-step'&&gD==='lmp-right'){if(e.isLineSegmentVisible(L,gr)){var gL=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(gr),e.c['size'].gv(gr),e.getMarkColors(gr)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-jump'&&gD==='lmp-left'){if(e.isLineSegmentVisible(L,gr)){var gM=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp],e.getMarkColors(L)[gp])}}if(gB&&gC==='lim-jump'&&gD==='lmp-center'){if(e.isLineSegmentVisible(L,gr)){var gN=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),(e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['y'].gv(L),e.c['y'].gv(L),e.c['size'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp],e.getMarkColors(L)[gp])}}if(gB&&gC==='lim-jump'&&gD==='lmp-center'){if(e.isLineSegmentVisible(L,gr)){var gO=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge((e.c['x'].gv(L)+e.c['x'].gv(gr))/2,e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(gr),e.c['size'].gv(gr),e.getMarkColors(gr)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gC==='lim-jump'&&gD==='lmp-right'){if(e.isLineSegmentVisible(L,gr)){var gP=gp;if(e.isLineSegmentFiltered(L,gr)){gp='colorOverrideFog'}this.renderFilledLineEdge(e.c['x'].gv(L),e.c['x'].gv(gr),e.c['y'].gv(gr),e.c['y'].gv(gr),e.c['size'].gv(gr),e.c['size'].gv(gr),e.getMarkColors(gr)[gp],e.getMarkColors(gr)[gp])}}if(gB&&gD==='lmp-left'&&(gC==='lim-step'||gC==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(gr)){bg.renderFilledCircle(this.get_currentContext(),e.c['x'].gv(gr)-e.c['x'].gv(L)+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp])}if(gB&&gD==='lmp-center'&&(gC==='lim-step'||gC==='lim-jump')){bg.renderFilledCircle(this.get_currentContext(),(e.c['x'].gv(gr)-e.c['x'].gv(L))/2+e.c['x'].gv(L),0+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp])}if(gB&&gD==='lmp-center'&&(gC==='lim-step'||gC==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(gr)){bg.renderFilledCircle(this.get_currentContext(),(e.c['x'].gv(gr)-e.c['x'].gv(L))/2+e.c['x'].gv(L),e.c['y'].gv(gr)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp])}if(gB&&gD==='lmp-right'&&(gC==='lim-step'||gC==='lim-jump')&&e.c['y'].gv(L)!==e.c['y'].gv(gr)){bg.renderFilledCircle(this.get_currentContext(),0+e.c['x'].gv(L),e.c['y'].gv(gr)-e.c['y'].gv(L)+e.c['y'].gv(L),e.c['size'].gv(L),e.getMarkColors(L)[gp])}break}default:{break}}if(e.clipCase!==0){this.get_currentContext().restore()}},$M:function(e,L,go){var gp=e.get_hasSelection();var gq=e.get_hasBrushing();var gr='colorOverrideNone';var gs=e.$9(L);var gt=gs.firstMark;var gu=gs.lastMark;var gv=e.getUserPaneRectByIndex(L);switch(go){case'normalUnderPass':{if(e.get_hasBackground()&&e.get_hasHalos()){if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gw=e.markWorldOffsets;var gx=_.keys(gw);for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];var gA=gw[gz];dG.$1w(this.get_currentContext(),gz);for(var gB=gt;gB<=gu;gB++){if(gA.has(gB)){continue}if(!e.markNeedsDraw(gB)){continue}if(e.getMarkState(gB)!=='markStateNormal'){continue}this.drawShapeMarkLayer(e,gB,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gz,0)){this.get_currentContext().restore()}}}if(gp||gq){gr='colorOverrideNone';{var gC=e.markWorldOffsets;var gD=_.keys(gC);for(var gE=0;gE<gD.length;gE++){var gF=gD[gE];var gG=gC[gF];dG.$1w(this.get_currentContext(),gF);for(var gH=gt;gH<=gu;gH++){if(gG.has(gH)){continue}if(!e.markNeedsDraw(gH)){continue}if(e.getMarkState(gH)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(e,gH,'normalUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gF,0)){this.get_currentContext().restore()}}}}}break}case'normalOnPass':{if(gp||gq){gr='colorOverrideFog'}else{gr='colorOverrideNone'}{var gI=e.markWorldOffsets;var gJ=_.keys(gI);for(var gK=0;gK<gJ.length;gK++){var gL=gJ[gK];var gM=gI[gL];dG.$1w(this.get_currentContext(),gL);for(var gN=gt;gN<=gu;gN++){if(gM.has(gN)){continue}if(!e.markNeedsDraw(gN)){continue}if(e.getMarkState(gN)!=='markStateNormal'){continue}this.drawShapeMarkLayer(e,gN,'normalOn',gr);if(e.drawBorder){this.drawShapeMarkLayer(e,gN,'border',gr)}}if(!tab.DoubleUtil.isApproximatelyEqual(gL,0)){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(gp||gq){gr='colorOverrideNone';{var gO=e.markWorldOffsets;var gP=_.keys(gO);for(var gQ=0;gQ<gP.length;gQ++){var gR=gP[gQ];var gS=gO[gR];dG.$1w(this.get_currentContext(),gR);for(var gT=gt;gT<=gu;gT++){if(gS.has(gT)){continue}if(!e.markNeedsDraw(gT)){continue}if(e.getMarkState(gT)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(e,gT,'normalOn',gr);if(e.drawBorder){this.drawShapeMarkLayer(e,gT,'border',gr)}}if(!tab.DoubleUtil.isApproximatelyEqual(gR,0)){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(gp||gq){gr='colorOverrideOpaque';{var gU=e.markWorldOffsets;var gV=_.keys(gU);for(var gW=0;gW<gV.length;gW++){var gX=gV[gW];var gY=gU[gX];dG.$1w(this.get_currentContext(),gX);for(var gZ=gt;gZ<=gu;gZ++){if(gY.has(gZ)){continue}if(!e.markNeedsDraw(gZ)){continue}if(e.getMarkState(gZ)!=='markStateSelected'){continue}this.drawShapeMarkLayer(e,gZ,'selectedUnder',gr)}if(!tab.DoubleUtil.isApproximatelyEqual(gX,0)){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(gp||gq){gr='colorOverrideOpaque';{var ha=e.markWorldOffsets;var hb=_.keys(ha);for(var hc=0;hc<hb.length;hc++){var hd=hb[hc];var he=ha[hd];dG.$1w(this.get_currentContext(),hd);for(var hf=gt;hf<=gu;hf++){if(he.has(hf)){continue}if(!e.markNeedsDraw(hf)){continue}if(e.getMarkState(hf)!=='markStateSelected'){continue}this.drawShapeMarkLayer(e,hf,'normalOn',gr);if(e.drawBorder){this.drawShapeMarkLayer(e,hf,'border',gr)}}if(!tab.DoubleUtil.isApproximatelyEqual(hd,0)){this.get_currentContext().restore()}}}}break}}},drawShapeMarkLayer:function(e,L,go,gp){var gq=e.c['shape_id'].gv(L);if(!dG.$1x(gq,go)){return}var gr=e.c['x'].gv(L);var gs=e.c['y'].gv(L);var gt=e.shouldStampThisShapeMark(L);if(!gt){this.$N(e,gr,gs,L,go,gp,false);return}var gu=e.c['size'].gv(L);var gv=bg.getShapeColorForLayer(e,L,go,gp);var gw=dG.$l(gq,go,gu)+2;var gx=gw/2;var gy=gs-gx;var gz=gr-gx;var gA=this.get_currentContext();var gB=tab.ShapeManager.getCacheKey(gq,go,gp,gv,gu);var gC=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(gB);if(ss.isNullOrUndefined(gC)){var gD=function(){var gE=document.createElement('canvas');gE.width=gw;gE.height=gw;var gF=new eS(gE.getContext('2d'));if(tab.FeatureParamsLookup.getBool(38)){gF.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');gF.fillRect(0,0,gw,gw)}var gG=new dG(gE,gF);gG.$N(e,gx,gx,L,go,gp,true);return gE};gC=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(gB,gD)}if(ss.isValue(gC)){gA.drawImage3(gC,gz+0.5<<0,gy+0.5<<0,gw,gw)}else{this.$N(e,gr,gs,L,go,gp,false)}},$N:function(e,L,go,gp,gq,gr,gs){var gt=e.clipCase!==0&&!gs;if(gt){this.get_currentContext().save();this.clipRect(e.clipCase,e.c['cell_x'].gv(gp),e.c['cell_y'].gv(gp),e.c['clip_width'].gv(gp),e.c['clip_height'].gv(gp))}var gu=e.c['shape_id'].gv(gp);switch(gu){case'shapeIDCircle':{this.$s(e,L,go,gp,gq,gr);break}case'shapeIDFilledCircle':{this.$v(e,L,go,gp,gq,gr);break}case'shapeIDUnscaledFilledCircle':{this.$L(e,L,go,gp,gq,gr);break}case'shapeIDSquare':{this.$I(e,L,go,gp,gq,gr);break}case'shapeIDFilledSquare':{this.$B(e,L,go,gp,gq,gr);break}case'shapeIDAsterisk':{this.$r(e,L,go,gp,gq,gr);break}case'shapeIDPlus':{this.$G(e,L,go,gp,gq,gr);break}case'shapeIDFilledPlus':{this.$z(e,L,go,gp,gq,gr);break}case'shapeIDTimes':{this.$J(e,L,go,gp,gq,gr);break}case'shapeIDFilledTimes':{this.$D(e,L,go,gp,gq,gr);break}case'shapeIDDiamond':{this.$t(e,L,go,gp,gq,gr);break}case'shapeIDFilledDiamond':{this.$w(e,L,go,gp,gq,gr);break}case'shapeIDTriangle':{this.$K(e,L,go,gp,gq,gr);break}case'shapeIDFilledTriangle':{this.$E(e,L,go,gp,gq,gr);break}case'shapeIDDownTriangle':{this.$u(e,L,go,gp,gq,gr);break}case'shapeIDFilledDownTriangle':{this.$x(e,L,go,gp,gq,gr);break}case'shapeIDLeftTriangle':{this.$F(e,L,go,gp,gq,gr);break}case'shapeIDFilledLeftTriangle':{this.$y(e,L,go,gp,gq,gr);break}case'shapeIDRightTriangle':{this.$H(e,L,go,gp,gq,gr);break}case'shapeIDFilledRightTriangle':{this.$A(e,L,go,gp,gq,gr);break}case'shapeIDFilledStar':{this.$C(e,L,go,gp,gq,gr);break}default:{bg.renderCustomShape(this.get_currentContext(),e,gp,gq,gr);break}}if(gt){this.get_currentContext().restore()}},$s:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.958333333333333,e.c['halo_color'].gv(gp)[gr],4)}break}case'normalOn':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.958333333333333,e.getMarkColors(gp)[gr],2)}break}case'selectedUnder':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.958333333333333,e.c['selected_halo_color'].gv(gp)[gr],4)}break}default:{break}}},$v:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.979166666666667,e.c['halo_color'].gv(gp)[gr],4)}break}case'normalOn':{{{bg.renderFilledCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.979166666666667,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.979166666666667,e.c['selected_halo_color'].gv(gp)[gr],4)}break}case'border':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp)*0.979166666666667,e.c['border_color'].gv(gp)[gr],1)}break}default:{break}}},$L:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp),e.c['halo_color'].gv(gp)[gr],4)}break}case'normalOn':{{{bg.renderFilledCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp),e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp),e.c['selected_halo_color'].gv(gp)[gr],4)}break}case'border':{{bg.renderCircle(this.get_currentContext(),0+L,0+go,e.c['size'].gv(gp),e.c['border_color'].gv(gp)[gr],1)}break}default:{break}}},$I:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{{bg.renderRectangle(this.get_currentContext(),L+0,go+0,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,e.c['halo_color'].gv(gp)[gr],4)}break}case'normalOn':{{bg.renderRectangle(this.get_currentContext(),L+0,go+0,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,e.getMarkColors(gp)[gr],2)}break}case'selectedUnder':{{bg.renderRectangle(this.get_currentContext(),L+0,go+0,e.c['size'].gv(gp)*0.895833333333333,e.c['size'].gv(gp)*0.895833333333333,e.c['selected_halo_color'].gv(gp)[gr],4)}break}default:{break}}},$B:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{{bg.renderRectangle(this.get_currentContext(),L+0,go+0,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,e.c['halo_color'].gv(gp)[gr],4)}break}case'normalOn':{{this.renderFilledRectangle(L+0,go+0,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,e.getMarkColors(gp)[gr])}break}case'selectedUnder':{{bg.renderRectangle(this.get_currentContext(),L+0,go+0,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,e.c['selected_halo_color'].gv(gp)[gr],4)}break}case'border':{{bg.renderRectangle(this.get_currentContext(),L+0,go+0,e.c['size'].gv(gp)*0.9375,e.c['size'].gv(gp)*0.9375,e.c['border_color'].gv(gp)[gr],1)}break}default:{break}}},$r:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.958333333333333/2;var gt=0.899999976158142*gs;var gu=e.c['size'].gv(gp)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var gv=L;var gw=go;var gx=new Array(4);gx[0]=gv+0;gx[1]=gw+-gs;gx[2]=gv+0;gx[3]=gw+gs;this.renderLine(gx,4,e.c['halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gy=L;var gz=go;var gA=new Array(4);gA[0]=gy+-gt;gA[1]=gz+-gu;gA[2]=gy+gt;gA[3]=gz+gu;this.renderLine(gA,4,e.c['halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gB=L;var gC=go;var gD=new Array(4);gD[0]=gB+gt;gD[1]=gC+-gu;gD[2]=gB+-gt;gD[3]=gC+gu;this.renderLine(gD,4,e.c['halo_color'].gv(gp)[gr],true)}}break}case'normalOn':{var gE=e.c['size'].gv(gp)*0.958333333333333/2;var gF=0.899999976158142*gE;var gG=e.c['size'].gv(gp)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var gH=L;var gI=go;var gJ=new Array(4);gJ[0]=gH+0;gJ[1]=gI+-gE;gJ[2]=gH+0;gJ[3]=gI+gE;this.renderLine(gJ,2,e.getMarkColors(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gK=L;var gL=go;var gM=new Array(4);gM[0]=gK+-gF;gM[1]=gL+-gG;gM[2]=gK+gF;gM[3]=gL+gG;this.renderLine(gM,2,e.getMarkColors(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gN=L;var gO=go;var gP=new Array(4);gP[0]=gN+gF;gP[1]=gO+-gG;gP[2]=gN+-gF;gP[3]=gO+gG;this.renderLine(gP,2,e.getMarkColors(gp)[gr],true)}}break}case'selectedUnder':{var gQ=e.c['size'].gv(gp)*0.958333333333333/2;var gR=0.899999976158142*gQ;var gS=e.c['size'].gv(gp)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var gT=L;var gU=go;var gV=new Array(4);gV[0]=gT+0;gV[1]=gU+-gQ;gV[2]=gT+0;gV[3]=gU+gQ;this.renderLine(gV,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gW=L;var gX=go;var gY=new Array(4);gY[0]=gW+-gR;gY[1]=gX+-gS;gY[2]=gW+gR;gY[3]=gX+gS;this.renderLine(gY,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gZ=L;var ha=go;var hb=new Array(4);hb[0]=gZ+gR;hb[1]=ha+-gS;hb[2]=gZ+-gR;hb[3]=ha+gS;this.renderLine(hb,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}break}default:{break}}},$G:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var gt=L;var gu=go;var gv=new Array(4);gv[0]=gt+0;gv[1]=gu+-gs;gv[2]=gt+0;gv[3]=gu+gs;this.renderLine(gv,4,e.c['halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gw=L;var gx=go;var gy=new Array(4);gy[0]=gw+-gs;gy[1]=gx+0;gy[2]=gw+gs;gy[3]=gx+0;this.renderLine(gy,4,e.c['halo_color'].gv(gp)[gr],true)}}break}case'normalOn':{var gz=e.c['size'].gv(gp)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var gA=L;var gB=go;var gC=new Array(4);gC[0]=gA+0;gC[1]=gB+-gz;gC[2]=gA+0;gC[3]=gB+gz;this.renderLine(gC,2,e.getMarkColors(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gD=L;var gE=go;var gF=new Array(4);gF[0]=gD+-gz;gF[1]=gE+0;gF[2]=gD+gz;gF[3]=gE+0;this.renderLine(gF,2,e.getMarkColors(gp)[gr],true)}}break}case'selectedUnder':{var gG=e.c['size'].gv(gp)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var gH=L;var gI=go;var gJ=new Array(4);gJ[0]=gH+0;gJ[1]=gI+-gG;gJ[2]=gH+0;gJ[3]=gI+gG;this.renderLine(gJ,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gK=L;var gL=go;var gM=new Array(4);gM[0]=gK+-gG;gM[1]=gL+0;gM[2]=gK+gG;gM[3]=gL+0;this.renderLine(gM,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}break}default:{break}}},$z:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.9375/2;var gt=gs/3;{{var gu=L;var gv=go;var gw=new Array(24);gw[0]=gu+-gt;gw[1]=gv+-gs;gw[2]=gu+-gt;gw[3]=gv+-gt;gw[4]=gu+-gs;gw[5]=gv+-gt;gw[6]=gu+-gs;gw[7]=gv+gt;gw[8]=gu+-gt;gw[9]=gv+gt;gw[10]=gu+-gt;gw[11]=gv+gs;gw[12]=gu+gt;gw[13]=gv+gs;gw[14]=gu+gt;gw[15]=gv+gt;gw[16]=gu+gs;gw[17]=gv+gt;gw[18]=gu+gs;gw[19]=gv+-gt;gw[20]=gu+gt;gw[21]=gv+-gt;gw[22]=gu+gt;gw[23]=gv+-gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gw,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gx=e.c['size'].gv(gp)*0.9375/2;var gy=gx/3;{{var gz=L;var gA=go;var gB=new Array(24);gB[0]=gz+-gy;gB[1]=gA+-gx;gB[2]=gz+-gy;gB[3]=gA+-gy;gB[4]=gz+-gx;gB[5]=gA+-gy;gB[6]=gz+-gx;gB[7]=gA+gy;gB[8]=gz+-gy;gB[9]=gA+gy;gB[10]=gz+-gy;gB[11]=gA+gx;gB[12]=gz+gy;gB[13]=gA+gx;gB[14]=gz+gy;gB[15]=gA+gy;gB[16]=gz+gx;gB[17]=gA+gy;gB[18]=gz+gx;gB[19]=gA+-gy;gB[20]=gz+gy;gB[21]=gA+-gy;gB[22]=gz+gy;gB[23]=gA+-gx;this.renderFilledPolygon(gB,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gC=e.c['size'].gv(gp)*0.9375/2;var gD=gC/3;{{var gE=L;var gF=go;var gG=new Array(24);gG[0]=gE+-gD;gG[1]=gF+-gC;gG[2]=gE+-gD;gG[3]=gF+-gD;gG[4]=gE+-gC;gG[5]=gF+-gD;gG[6]=gE+-gC;gG[7]=gF+gD;gG[8]=gE+-gD;gG[9]=gF+gD;gG[10]=gE+-gD;gG[11]=gF+gC;gG[12]=gE+gD;gG[13]=gF+gC;gG[14]=gE+gD;gG[15]=gF+gD;gG[16]=gE+gC;gG[17]=gF+gD;gG[18]=gE+gC;gG[19]=gF+-gD;gG[20]=gE+gD;gG[21]=gF+-gD;gG[22]=gE+gD;gG[23]=gF+-gC;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gG,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$J:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.875/2;{{this.get_currentContext().set_lineCap('square');var gt=L;var gu=go;var gv=new Array(4);gv[0]=gt+-gs;gv[1]=gu+-gs;gv[2]=gt+gs;gv[3]=gu+gs;this.renderLine(gv,4,e.c['halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gw=L;var gx=go;var gy=new Array(4);gy[0]=gw+-gs;gy[1]=gx+gs;gy[2]=gw+gs;gy[3]=gx+-gs;this.renderLine(gy,4,e.c['halo_color'].gv(gp)[gr],true)}}break}case'normalOn':{var gz=e.c['size'].gv(gp)*0.875/2;{{this.get_currentContext().set_lineCap('square');var gA=L;var gB=go;var gC=new Array(4);gC[0]=gA+-gz;gC[1]=gB+-gz;gC[2]=gA+gz;gC[3]=gB+gz;this.renderLine(gC,2,e.getMarkColors(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gD=L;var gE=go;var gF=new Array(4);gF[0]=gD+-gz;gF[1]=gE+gz;gF[2]=gD+gz;gF[3]=gE+-gz;this.renderLine(gF,2,e.getMarkColors(gp)[gr],true)}}break}case'selectedUnder':{var gG=e.c['size'].gv(gp)*0.875/2;{{this.get_currentContext().set_lineCap('square');var gH=L;var gI=go;var gJ=new Array(4);gJ[0]=gH+-gG;gJ[1]=gI+-gG;gJ[2]=gH+gG;gJ[3]=gI+gG;this.renderLine(gJ,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}{{this.get_currentContext().set_lineCap('square');var gK=L;var gL=go;var gM=new Array(4);gM[0]=gK+-gG;gM[1]=gL+gG;gM[2]=gK+gG;gM[3]=gL+-gG;this.renderLine(gM,4,e.c['selected_halo_color'].gv(gp)[gr],true)}}break}default:{break}}},$D:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.9375/2;var gt=e.c['size'].gv(gp)*0.9375/4;{{var gu=L;var gv=go;var gw=new Array(24);gw[0]=gu+-gt;gw[1]=gv+-gs;gw[2]=gu+-gs;gw[3]=gv+-gt;gw[4]=gu+-gt;gw[5]=gv+0;gw[6]=gu+-gs;gw[7]=gv+gt;gw[8]=gu+-gt;gw[9]=gv+gs;gw[10]=gu+0;gw[11]=gv+gt;gw[12]=gu+gt;gw[13]=gv+gs;gw[14]=gu+gs;gw[15]=gv+gt;gw[16]=gu+gt;gw[17]=gv+0;gw[18]=gu+gs;gw[19]=gv+-gt;gw[20]=gu+gt;gw[21]=gv+-gs;gw[22]=gu+0;gw[23]=gv+-gt;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gw,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gx=e.c['size'].gv(gp)*0.9375/2;var gy=e.c['size'].gv(gp)*0.9375/4;{{var gz=L;var gA=go;var gB=new Array(24);gB[0]=gz+-gy;gB[1]=gA+-gx;gB[2]=gz+-gx;gB[3]=gA+-gy;gB[4]=gz+-gy;gB[5]=gA+0;gB[6]=gz+-gx;gB[7]=gA+gy;gB[8]=gz+-gy;gB[9]=gA+gx;gB[10]=gz+0;gB[11]=gA+gy;gB[12]=gz+gy;gB[13]=gA+gx;gB[14]=gz+gx;gB[15]=gA+gy;gB[16]=gz+gy;gB[17]=gA+0;gB[18]=gz+gx;gB[19]=gA+-gy;gB[20]=gz+gy;gB[21]=gA+-gx;gB[22]=gz+0;gB[23]=gA+-gy;this.renderFilledPolygon(gB,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gC=e.c['size'].gv(gp)*0.9375/2;var gD=e.c['size'].gv(gp)*0.9375/4;{{var gE=L;var gF=go;var gG=new Array(24);gG[0]=gE+-gD;gG[1]=gF+-gC;gG[2]=gE+-gC;gG[3]=gF+-gD;gG[4]=gE+-gD;gG[5]=gF+0;gG[6]=gE+-gC;gG[7]=gF+gD;gG[8]=gE+-gD;gG[9]=gF+gC;gG[10]=gE+0;gG[11]=gF+gD;gG[12]=gE+gD;gG[13]=gF+gC;gG[14]=gE+gC;gG[15]=gF+gD;gG[16]=gE+gD;gG[17]=gF+0;gG[18]=gE+gC;gG[19]=gF+-gD;gG[20]=gE+gD;gG[21]=gF+-gC;gG[22]=gE+0;gG[23]=gF+-gD;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gG,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$t:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*1.04166666666667/2;{{var gt=L;var gu=go;var gv=new Array(8);gv[0]=gt+0;gv[1]=gu+-gs;gv[2]=gt+-gs;gv[3]=gu+0;gv[4]=gt+0;gv[5]=gu+gs;gv[6]=gt+gs;gv[7]=gu+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*1.04166666666667/2;{{var gx=L;var gy=go;var gz=new Array(8);gz[0]=gx+0;gz[1]=gy+-gw;gz[2]=gx+-gw;gz[3]=gy+0;gz[4]=gx+0;gz[5]=gy+gw;gz[6]=gx+gw;gz[7]=gy+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gz,2,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*1.04166666666667/2;{{var gB=L;var gC=go;var gD=new Array(8);gD[0]=gB+0;gD[1]=gC+-gA;gD[2]=gB+-gA;gD[3]=gC+0;gD[4]=gB+0;gD[5]=gC+gA;gD[6]=gB+gA;gD[7]=gC+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$w:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*1.04166666666667/2;{{var gt=L;var gu=go;var gv=new Array(8);gv[0]=gt+0;gv[1]=gu+-gs;gv[2]=gt+-gs;gv[3]=gu+0;gv[4]=gt+0;gv[5]=gu+gs;gv[6]=gt+gs;gv[7]=gu+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*1.04166666666667/2;{{var gx=L;var gy=go;var gz=new Array(8);gz[0]=gx+0;gz[1]=gy+-gw;gz[2]=gx+-gw;gz[3]=gy+0;gz[4]=gx+0;gz[5]=gy+gw;gz[6]=gx+gw;gz[7]=gy+0;this.renderFilledPolygon(gz,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*1.04166666666667/2;{{var gB=L;var gC=go;var gD=new Array(8);gD[0]=gB+0;gD[1]=gC+-gA;gD[2]=gB+-gA;gD[3]=gC+0;gD[4]=gB+0;gD[5]=gC+gA;gD[6]=gB+gA;gD[7]=gC+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$K:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.895833333333333/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+0;gv[1]=gu+-gs;gv[2]=gt+-gs;gv[3]=gu+gs;gv[4]=gt+gs;gv[5]=gu+gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.895833333333333/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+0;gz[1]=gy+-gw;gz[2]=gx+-gw;gz[3]=gy+gw;gz[4]=gx+gw;gz[5]=gy+gw;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gz,2,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.895833333333333/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+0;gD[1]=gC+-gA;gD[2]=gB+-gA;gD[3]=gC+gA;gD[4]=gB+gA;gD[5]=gC+gA;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$E:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.916666666666667/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+0;gv[1]=gu+-gs;gv[2]=gt+-gs;gv[3]=gu+gs;gv[4]=gt+gs;gv[5]=gu+gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.916666666666667/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+0;gz[1]=gy+-gw;gz[2]=gx+-gw;gz[3]=gy+gw;gz[4]=gx+gw;gz[5]=gy+gw;this.renderFilledPolygon(gz,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.916666666666667/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+0;gD[1]=gC+-gA;gD[2]=gB+-gA;gD[3]=gC+gA;gD[4]=gB+gA;gD[5]=gC+gA;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$u:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.895833333333333/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+0;gv[1]=gu+gs;gv[2]=gt+-gs;gv[3]=gu+-gs;gv[4]=gt+gs;gv[5]=gu+-gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.895833333333333/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+0;gz[1]=gy+gw;gz[2]=gx+-gw;gz[3]=gy+-gw;gz[4]=gx+gw;gz[5]=gy+-gw;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gz,2,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.895833333333333/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+0;gD[1]=gC+gA;gD[2]=gB+-gA;gD[3]=gC+-gA;gD[4]=gB+gA;gD[5]=gC+-gA;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$x:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.916666666666667/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+0;gv[1]=gu+gs;gv[2]=gt+-gs;gv[3]=gu+-gs;gv[4]=gt+gs;gv[5]=gu+-gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.916666666666667/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+0;gz[1]=gy+gw;gz[2]=gx+-gw;gz[3]=gy+-gw;gz[4]=gx+gw;gz[5]=gy+-gw;this.renderFilledPolygon(gz,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.916666666666667/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+0;gD[1]=gC+e.c['size'].gv(gp)*0.916666666666667/2;gD[2]=gB+-gA;gD[3]=gC+-gA;gD[4]=gB+gA;gD[5]=gC+-gA;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$F:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.895833333333333/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+-gs;gv[1]=gu+0;gv[2]=gt+gs;gv[3]=gu+-gs;gv[4]=gt+gs;gv[5]=gu+gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.895833333333333/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+-gw;gz[1]=gy+0;gz[2]=gx+gw;gz[3]=gy+-gw;gz[4]=gx+gw;gz[5]=gy+gw;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gz,2,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.895833333333333/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+-gA;gD[1]=gC+0;gD[2]=gB+gA;gD[3]=gC+-gA;gD[4]=gB+gA;gD[5]=gC+gA;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$y:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.916666666666667/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+-gs;gv[1]=gu+0;gv[2]=gt+gs;gv[3]=gu+-gs;gv[4]=gt+gs;gv[5]=gu+gs;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.916666666666667/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+-gw;gz[1]=gy+0;gz[2]=gx+gw;gz[3]=gy+-gw;gz[4]=gx+gw;gz[5]=gy+gw;this.renderFilledPolygon(gz,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.916666666666667/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+-gA;gD[1]=gC+0;gD[2]=gB+gA;gD[3]=gC+-gA;gD[4]=gB+gA;gD[5]=gC+gA;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$H:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.895833333333333/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+-gs;gv[1]=gu+-gs;gv[2]=gt+-gs;gv[3]=gu+gs;gv[4]=gt+gs;gv[5]=gu+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.895833333333333/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+-gw;gz[1]=gy+-gw;gz[2]=gx+-gw;gz[3]=gy+gw;gz[4]=gx+gw;gz[5]=gy+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gz,2,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.895833333333333/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+-gA;gD[1]=gC+-gA;gD[2]=gB+-gA;gD[3]=gC+gA;gD[4]=gB+gA;gD[5]=gC+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$A:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*0.916666666666667/2;{{var gt=L;var gu=go;var gv=new Array(6);gv[0]=gt+-gs;gv[1]=gu+-gs;gv[2]=gt+-gs;gv[3]=gu+gs;gv[4]=gt+gs;gv[5]=gu+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gv,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gw=e.c['size'].gv(gp)*0.916666666666667/2;{{var gx=L;var gy=go;var gz=new Array(6);gz[0]=gx+-gw;gz[1]=gy+-gw;gz[2]=gx+-gw;gz[3]=gy+gw;gz[4]=gx+gw;gz[5]=gy+0;this.renderFilledPolygon(gz,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gA=e.c['size'].gv(gp)*0.916666666666667/2;{{var gB=L;var gC=go;var gD=new Array(6);gD[0]=gB+-gA;gD[1]=gC+-gA;gD[2]=gB+-gA;gD[3]=gC+gA;gD[4]=gB+gA;gD[5]=gC+0;this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gD,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$C:function(e,L,go,gp,gq,gr){switch(gq){case'normalUnder':{var gs=e.c['size'].gv(gp)*1.09166666666667;var gt=gs/2;var gu=gs*0.3877;{{var gv=L;var gw=go;var gx=new Array(20);gx[0]=gv+0;gx[1]=gw+(-gt+gs*0.0246);gx[2]=gv+(-gt+gs*0.3817);gx[3]=gw+(-gt+gu);gx[4]=gv+-gt;gx[5]=gw+(-gt+gu);gx[6]=gv+(-gt+gs*0.3088);gx[7]=gw+(-gt+gs*0.612);gx[8]=gv+(-gt+gs*0.1909);gx[9]=gw+(-gt+gs*0.9751);gx[10]=gv+0;gx[11]=gw+(-gt+gs*0.7507);gx[12]=gv+(-gt+gs*0.8085);gx[13]=gw+(-gt+gs*0.9751);gx[14]=gv+(-gt+gs*0.6905);gx[15]=gw+(-gt+gs*0.612);gx[16]=gv+gt;gx[17]=gw+(-gt+gu);gx[18]=gv+(-gt+gs*0.6176);gx[19]=gw+(-gt+gu);this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gx,4,e.c['halo_color'].gv(gp)[gr])}}break}case'normalOn':{var gy=e.c['size'].gv(gp)*1.09166666666667;var gz=gy/2;var gA=gy*0.3877;{{var gB=L;var gC=go;var gD=new Array(20);gD[0]=gB+0;gD[1]=gC+(-gz+gy*0.0246);gD[2]=gB+(-gz+gy*0.3817);gD[3]=gC+(-gz+gA);gD[4]=gB+-gz;gD[5]=gC+(-gz+gA);gD[6]=gB+(-gz+gy*0.3088);gD[7]=gC+(-gz+gy*0.612);gD[8]=gB+(-gz+gy*0.1909);gD[9]=gC+(-gz+gy*0.9751);gD[10]=gB+0;gD[11]=gC+(-gz+gy*0.7507);gD[12]=gB+(-gz+gy*0.8085);gD[13]=gC+(-gz+gy*0.9751);gD[14]=gB+(-gz+gy*0.6905);gD[15]=gC+(-gz+gy*0.612);gD[16]=gB+gz;gD[17]=gC+(-gz+gA);gD[18]=gB+(-gz+gy*0.6176);gD[19]=gC+(-gz+gA);this.renderFilledPolygon(gD,e.getMarkColors(gp)[gr])}}break}case'selectedUnder':{var gE=e.c['size'].gv(gp)*1.09166666666667;var gF=gE/2;var gG=gE*0.3877;{{var gH=L;var gI=go;var gJ=new Array(20);gJ[0]=gH+0;gJ[1]=gI+(-gF+gE*0.0246);gJ[2]=gH+(-gF+gE*0.3817);gJ[3]=gI+(-gF+gG);gJ[4]=gH+-gF;gJ[5]=gI+(-gF+gG);gJ[6]=gH+(-gF+gE*0.3088);gJ[7]=gI+(-gF+gE*0.612);gJ[8]=gH+(-gF+gE*0.1909);gJ[9]=gI+(-gF+gE*0.9751);gJ[10]=gH+0;gJ[11]=gI+(-gF+gE*0.7507);gJ[12]=gH+(-gF+gE*0.8085);gJ[13]=gI+(-gF+gE*0.9751);gJ[14]=gH+(-gF+gE*0.6905);gJ[15]=gI+(-gF+gE*0.612);gJ[16]=gH+gF;gJ[17]=gI+(-gF+gG);gJ[18]=gH+(-gF+gE*0.6176);gJ[19]=gI+(-gF+gG);this.get_currentContext().set_lineJoin('miter');this.renderPolygon(gJ,4,e.c['selected_halo_color'].gv(gp)[gr])}}break}default:{break}}},$f:function(e,L,go,gp,gq,gr){switch(go){case'normalUnder':{var gs=gq.CPZ;if(e.isTupleVisible(gq.nSc[L])){if((L===0||!e.isTupleVisible(gq.nSc[L-1]))&&(L+1>=gq._cx.length||!e.isTupleVisible(gq.nSc[L+1]))){var gt=ss.Int32.div(gq.Rdg[L],2)+2.5;if(gq.UvQ){var gu=e.thisDomainToPixelY(gq._cx[L]);var gv=e.thisDomainToPixelY(gq.mQE[L]);var gw=e.thisDomainToPixelX(gq.mju[L]);{var gx=[gw-gt,gu,gw-gt,gv,gw+gt,gv,gw+gt,gu];this.renderFilledPolygon(gx,e.getOneColorAlpha(gs,gp,gr))}}else{var gy=e.thisDomainToPixelX(gq._cx[L]);var gz=e.thisDomainToPixelX(gq.mQE[L]);var gA=e.thisDomainToPixelY(gq.mju[L]);{var gB=[gy,gA-gt,gz,gA-gt,gz,gA+gt,gy,gA+gt];this.renderFilledPolygon(gB,e.getOneColorAlpha(gs,gp,gr))}}}else if(L+1<gq.nSc.length&&e.isTupleVisible(gq.nSc[L+1])){if(gq.UvQ){var gC=e.thisDomainToPixelY(gq._cx[L]);var gD=e.thisDomainToPixelY(gq.mQE[L]);var gE=e.thisDomainToPixelY(gq._cx[L+1]);var gF=e.thisDomainToPixelY(gq.mQE[L+1]);var gG=e.thisDomainToPixelX(gq.mju[L]);var gH=e.thisDomainToPixelX(gq.mju[L+1]);{var gI=[gG,gD,gH,gF,gH,gE,gG,gC];this.renderFilledPolygon(gI,e.getOneColorAlpha(gs,gp,gr))}}else{var gJ=e.thisDomainToPixelX(gq._cx[L]);var gK=e.thisDomainToPixelX(gq.mQE[L]);var gL=e.thisDomainToPixelX(gq._cx[L+1]);var gM=e.thisDomainToPixelX(gq.mQE[L+1]);var gN=e.thisDomainToPixelY(gq.mju[L]);var gO=e.thisDomainToPixelY(gq.mju[L+1]);{var gP=[gK,gN,gM,gO,gL,gO,gJ,gN];this.renderFilledPolygon(gP,e.getOneColorAlpha(gs,gp,gr))}}}}break}}},$p:function(e,L,go,gp){var gq='colorOverrideNone';var gr=255;var gs=go;var gt=0;var gu=1;var gv=2;var gw=gt;for(var gx=0;gx<gs.CJr.length;gx++){var gy=gs.CJr[gx];if(e.isTupleSelected(gy)){gw=gv;break}if(gw!==gu&&e.isTupleHighlighted(gy)){gw=gu}}if(gw!==gv){for(var gz=0;gz<gs.nSc.length;gz++){var gA=gs.nSc[gz];if(e.isTupleSelected(gA)){gw=gv;break}if(gw!==gu&&e.isTupleHighlighted(gA)){gw=gu}}}switch(L){case'normalUnderPass':{if(gw===gt&&gp==='background'){if(e.get_hasSelection()||e.get_hasBrushing()){gq='colorOverrideFog'}else{gq='colorOverrideNone'}var gB=gs.nSc.length;for(var gC=0;gC<gB;gC++){this.$f(e,gC,'normalUnder',gq,gs,gr)}}break}case'highlightedUnderPass':{if(gw===gu&&gp==='background'){var gD=gs.nSc.length;for(var gE=0;gE<gD;gE++){if(e.isTupleHighlighted(gs.nSc[gE])&&((gE===0||!e.isTupleVisible(gs.nSc[gE-1]))&&(gE+1>=gs._cx.length||!e.isTupleVisible(gs.nSc[gE+1]))||gE+1<gs.nSc.length&&e.isTupleVisible(gs.nSc[gE+1])&&e.isTupleHighlighted(gs.nSc[gE+1]))){gq='colorOverrideNone'}else{gq='colorOverrideFog'}this.$f(e,gE,'normalUnder',gq,gs,gr)}}break}case'selectedUnderPass':{if(gw===gv&&gp==='background'){gq='colorOverrideReplaceAlpha';gr=76.5;var gF=gs.nSc.length;for(var gG=0;gG<gF;gG++){this.$f(e,gG,'normalUnder',gq,gs,gr)}}break}}},$g:function(e,L,go,gp,gq,gr){switch(go){case'border':{if(e.isTupleVisible(gq.nSc[L])){var gs=ss.Int32.div(gq.Rdg[L]-1,2);if(gq.UvQ){var gt=ss.Int32.trunc(e.thisDomainToPixelX(gq.mju[L]));var gu=ss.Int32.trunc(e.thisDomainToPixelY(gq._cx[L]));var gv=ss.Int32.trunc(e.thisDomainToPixelY(gq.mQE[L]));var gw=gu-0.5;var gx=gv+1.5;var gy=gt-0.5-gs;var gz=gt+1.5+gs;var gA=gu+1.5;var gB=gv-0.5;var gC=gt-0.5;var gD=gt+1.5;{var gE=[gy,gw,gz,gw,gz,gA,gD,gA,gD,gB,gz,gB,gz,gx,gy,gx,gy,gB,gC,gB,gC,gA,gy,gA];this.renderLineLoop(gE,1,e.getOneColorAlpha(gq.CPZ,gp,gr))}}else{var gF=ss.Int32.trunc(e.thisDomainToPixelY(gq.mju[L]));var gG=ss.Int32.trunc(e.thisDomainToPixelX(gq.mQE[L]));var gH=ss.Int32.trunc(e.thisDomainToPixelX(gq._cx[L]));var gI=gF-0.5-gs;var gJ=gF+1.5+gs;var gK=gG-0.5;var gL=gH+1.5;var gM=gF-0.5;var gN=gF+1.5;var gO=gG+1.5;var gP=gH-0.5;{var gQ=[gK,gI,gO,gI,gO,gM,gP,gM,gP,gI,gL,gI,gL,gJ,gP,gJ,gP,gN,gO,gN,gO,gJ,gK,gJ];this.renderLineLoop(gQ,1,e.getOneColorAlpha(gq.CPZ,gp,gr))}}}break}case'normalUnder':{if(e.isTupleVisible(gq.nSc[L])){var gR=ss.Int32.div(gq.Rdg[L]-1,2);var gS=gq.NbC[L];if(gq.UvQ){var gT=ss.Int32.trunc(e.thisDomainToPixelX(gq.mju[L]));var gU=ss.Int32.trunc(e.thisDomainToPixelY(gq._cx[L]));var gV=ss.Int32.trunc(e.thisDomainToPixelY(gq.mQE[L]));{var gW=[gT-gR,gU+0.5,gT+gR+1,gU+0.5];this.renderLine(gW,1,e.getOneColorAlpha(gS,gp,gr),false)}{var gX=[gT-gR,gV+0.5,gT+gR+1,gV+0.5];this.renderLine(gX,1,e.getOneColorAlpha(gS,gp,gr),false)}{var gY=[gT+0.5,gU+1,gT+0.5,gV];this.renderLine(gY,1,e.getOneColorAlpha(gS,gp,gr),false)}}else{var gZ=ss.Int32.trunc(e.thisDomainToPixelY(gq.mju[L]));var ha=ss.Int32.trunc(e.thisDomainToPixelX(gq.mQE[L]));var hb=ss.Int32.trunc(e.thisDomainToPixelX(gq._cx[L]));{var hc=[ha+0.5,gZ-gR,ha+0.5,gZ+gR+1];this.renderLine(hc,1,e.getOneColorAlpha(gS,gp,gr),false)}{var hd=[hb+0.5,gZ-gR,hb+0.5,gZ+gR+1];this.renderLine(hd,1,e.getOneColorAlpha(gS,gp,gr),false)}{var he=[ha+1,gZ+0.5,hb,gZ+0.5];this.renderLine(he,1,e.getOneColorAlpha(gS,gp,gr),false)}}}break}}},$q:function(e,L,go,gp){var gq='colorOverrideNone';var gr=255;var gs=go;switch(L){case'normalUnderPass':{if(!gs.Brn&&gp==='background'){if(e.get_hasSelection()||e.get_hasBrushing()){gq='colorOverrideFog'}else{gq='colorOverrideNone'}var gt=gs.nSc.length;for(var gu=0;gu<gt;gu++){if(!e.isTupleHighlighted(gs.nSc[gu])&&!e.isTupleSelected(gs.nSc[gu])){this.$g(e,gu,'border',gq,gs,gr);this.$g(e,gu,'normalUnder',gq,gs,gr)}}}break}case'normalOnPass':{if(gs.Brn&&gp==='underLabel'){if(e.get_hasSelection()||e.get_hasBrushing()){gq='colorOverrideFog'}else{gq='colorOverrideNone'}var gv=gs.nSc.length;for(var gw=0;gw<gv;gw++){if(!e.isTupleHighlighted(gs.nSc[gw])&&!e.isTupleSelected(gs.nSc[gw])){this.$g(e,gw,'border',gq,gs,gr);this.$g(e,gw,'normalUnder',gq,gs,gr)}}}break}case'selectedUnderPass':{if(!gs.Brn&&gp==='background'){var gx=gs.nSc.length;for(var gy=0;gy<gx;gy++){if(e.isTupleSelected(gs.nSc[gy])){gq='colorOverrideReplaceAlpha';gr=63.75;this.$g(e,gy,'border',gq,gs,gr);gq='colorOverrideReplaceAlpha';gr=gs.sVE/255*255;this.$g(e,gy,'normalUnder',gq,gs,gr)}}}break}case'selectedOnPass':{if(gs.Brn&&gp==='underLabel'){var gz=gs.nSc.length;for(var gA=0;gA<gz;gA++){if(e.isTupleSelected(gs.nSc[gA])){gq='colorOverrideReplaceAlpha';gr=63.75;this.$g(e,gA,'border',gq,gs,gr);gq='colorOverrideReplaceAlpha';gr=gs.sVE/255*255;this.$g(e,gA,'normalUnder',gq,gs,gr)}}}break}case'highlightedUnderPass':{if(!gs.Brn&&gp==='background'){gq='colorOverrideNone';var gB=gs.nSc.length;for(var gC=0;gC<gB;gC++){if(e.isTupleHighlighted(gs.nSc[gC])){this.$g(e,gC,'border',gq,gs,gr);this.$g(e,gC,'normalUnder',gq,gs,gr)}}}break}case'highlightedOnPass':{if(gs.Brn&&gp==='underLabel'){gq='colorOverrideNone';var gD=gs.nSc.length;for(var gE=0;gE<gD;gE++){if(e.isTupleHighlighted(gs.nSc[gE])){this.$g(e,gE,'border',gq,gs,gr);this.$g(e,gE,'normalUnder',gq,gs,gr)}}}break}}},$8:function(e,L,go,gp,gq){var gr=1;var gs=2*gr;return!tab.RectXYUtil.completelyContains$1(e,ss.Int32.trunc(L)-gr,ss.Int32.trunc(go)-gr,ss.Int32.trunc(gp)+gs,ss.Int32.trunc(gq)+gs)}},bg);ss.initClass(dH,a,{});ss.initClass(dI,a,{dispose:function(){$(document).off('.ModifierKeyState');$(window).off('.ModifierKeyState')},$1:function(){this.$4(true)},$0:function(){this.$4(false)},$2:function(){if('focus'in window.self){window.focus()}},$3:function(e){if(!this.$5&&!tab.BrowserSupport.get_isIE()){if(tab.BrowserSupport.get_isFF()&&ss.isValue(document.activeElement)){tab.DomUtil.blur()}this.$2()}dI.fireModifierKeysChanged(e)},$4:function(e){if(e===this.$5){return}this.$5=e}},null,[ss.IDisposable]);ss.initClass(dJ,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var L=0;L<e.length;L++){var go=e[L];var gp=ss.mkdict(['style',go.get_style(),'weight',go.get_weight()]);var gq=new FontFace(go.get_fontFamily(),go.get_source(),gp);if(ss.keyExists(this.$2,go.get_hash())){continue}dJ.$0().add(gq);this.$2[go.get_hash()]=gq}},downloadFonts:function(){var e=_.values(this.$2);for(var L=0;L<e.length;L++){var go=e[L];if(go.status==='unloaded'){this.$3.push(go.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[cZ]);ss.initEnum(dK,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6});ss.initClass(dL,a,{});ss.initClass(dN,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,L){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dO,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new dO(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var L=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',L+'px']))}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dj]);ss.initClass(dP,a,{buildItem:function(e){var L=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){L.push('active')}return React.DOM.div({className:L.join(' ')},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(L){this.props.userListViewModel.selectUser(e.data)})}},onScrollStop:function(e,L){this.props.userListViewModel.handleScrollStop(e,L)},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dQ,a,{get_hasLabels:function(){return ss.isValue(this.labelColumnIterators)},get_hasSelection:function(){return this.sceneInfo.$p()},get_hasBrushing:function(){return this.sceneInfo.$o()},get_lineDrawState:function(){if(this.$k===null){this.$k=new dx(this)}return this.$k},get_hasBackground:function(){var e=ss.keyExists(this.c,'pane_has_background');if(e){var L=this.c['pane_has_background'];e=L.v[(L.c?0:0)]===true}return e},get_hasHalos:function(){var e=ss.keyExists(this.c,'has_halos');if(e){var L=this.c['has_halos'];e=L.v[(L.c?0:0)]===true}return e},get_hasHaloHighlightColor:function(){return ss.keyExists(this.c,'highlighted_halo_color')&&this.c['highlighted_halo_color'].isValid},get_borderColor:function(){var e;if(ss.keyExists(this.c,'border_color')){var L=this.c['border_color'];e=L.v[(L.c?0:0)]}else{e=null}return e},get_textStyleColumns:function(){return this.textStyleColumnIterators},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.fDN},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$o},set_paneFlags:function(e){this.$o=e;this.$a()},getTextRunProperty:function(e,L){if(ss.isNullOrUndefined(this.textRunColumnIterators)||!ss.keyExists(this.textRunColumnIterators,e)){return null}var go=this.textRunColumnIterators[e];return go.v[(go.c?0:L)]},markHasLabel:function(e){if(this.$l){if(!this.showLabels){return false}if(this.labelMode==='mlm-selection'&&this.getMarkState(e)!=='markStateSelected'){return false}if(this.labelMode==='mlm-highlight'&&this.getMarkState(e)!=='markStateHighlighted'){return false}}return this.c['label_index'].gv(e)!==-1},getOneColorAlpha:function(e,L,go){var gp=null;this.$i=this.$i||{};if(!ss.keyExists(this.$i,e)){gp=tab.ColorModel.fromArgbInt(e);this.$i[e]=tab.SceneDataUtil.createColorCollection(gp,this.foggedBackgroundColor,this.fogBlendFactor)}var gq=this.$i[e];if(L==='colorOverrideReplaceAlpha'){gp=gp||tab.ColorModel.fromArgbInt(e);return tab.ColorModel.fromColorModelPlusAlpha(gp,go/255).toRgba()}return gq[L]},getMarkColors:function(e){var L='color';if(this.forceOpaqueColors&&this.c['opaque_color'].isValid){L='opaque_color'}var go=this.c[L].gv(e);if(this.$j.has(e)){var gp={};gp['colorOverrideFog']=go['colorOverrideFog'];gp['colorOverrideNone']=go['colorOverrideFog'];gp['colorOverrideOpaque']=go['colorOverrideFog'];go=gp}return go},getMarkGeometry:function(e){return this.sceneInfo.$7(this.pdMarksKey,e)},isMarkPropertyConstant:function(e){return this.c[e].c},computeDirtyMarks:function(e){this.$h={};var L=tab.RectXYUtil.completelyContains(e,this.paneRect);var go=this.c['tuple_id'];for(var gp=0;gp<this.markCount;gp++){var gq=go.v[(go.c?0:gp)];if(!this.isTupleVisible(gq)){continue}if(L){this.$h[gp]=true;continue}if(this.markType==='line'||this.markType==='area'){this.$h[gp]=true}else{var gr=this.$6(gq);var gs=this.getMarkInstanceOffsets(gp);if(tab.RectXYUtil.intersectsWithAny$1(e,gr,gs)){this.$h[gp]=true}}}},clearDirtyMarks:function(){this.$h=null},markNeedsDraw:function(e){return ss.isValue(this.$h)&&ss.keyExists(this.$h,e)},markLabelNeedsDraw:function(e,L){if(this.getMarkState(e)==='markStateInvisible'){return false}var go=this.getMarkLabelBounds(e);var gp=this.getMarkLabelInstanceOffsets(e);return tab.RectXYUtil.intersectsWithAny$1(L,go,gp)},refreshMarkState:function(){this.$m=this.sceneInfo.computeTupleStates(this.c['tuple_id']);this.$j=this.sceneInfo.computeFilteredMarks(this.c['tuple_id']);this.$n={};for(var e=0;e<this.markCount;e++){if(this.$3(e)){this.$n[e]=true}}if(this.$b()){this.$k=new dx(this)}},getMarkState:function(e){if(ss.isValue(this.$m)&&this.$m.length>e){return this.$m[e]}return this.$2(e)},getMarkLabelState:function(e){if(this.$b()){var L=this.get_lineDrawState().get_lineAttributes();for(var go=0;go<L.length;go++){var gp=L[go];if(gp.startIndex<=e&&e<=gp.endIndex){switch(gp.get_lineState()){case'lineStateHighlighted':{return(this.$c(e)?'markStateHighlighted':this.getMarkState(e))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$c(e)){return this.getMarkState(e)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(e)},getMarkLabelProperty:function(e,L){if(this.markType==='text'){return this.c[e].gv(L)}var go=this.c['label_index'].gv(L);if(go===-1){return null}var gp=this.labelColumnIterators[e];return gp.v[(gp.c?0:go)]},getAllMarkBounds:function(){var e=new Array(this.markCount);var L=this.c['tuple_id'];var go=this.c['label_index'];for(var gp=0;gp<this.markCount;gp++){var gq=L.v[(L.c?0:gp)];var gr=this.sceneInfo.getMarkBoundingBox(gq);var gs=((go.v[(go.c?0:gp)]===-1)?null:this.sceneInfo.$6(gq));e[gp]={item1:gr,item2:gs}}return e},getMarkBounds:function(e){var L=this.c['tuple_id'];return this.$6(L.v[(L.c?0:e)])},getMarkIndexFromTupleId:function(e){return this.tupleToIndexMap[e]},containsTuple:function(e){return ss.isValue(this.tupleToIndexMap[e])},getMarkLabelBounds:function(e){var L=this.sceneInfo;var go=this.c['tuple_id'];return L.$6(go.v[(go.c?0:e)])},getInsetPaneClipRect:function(e,L){var go=2*L;var gp=this.getUserPaneRectByIndex(e);return{x:gp.x+L,y:gp.y+L,w:gp.w-go,h:gp.h-go}},getUserPaneRectByMark:function(e){if(this.hasUserPanes){return this.$g.$8(e)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(e){if(this.hasUserPanes){return this.$g.$7(e)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(e){if(this.hasUserPanes){return this.$g.$8(this.getMarkIndexFromTupleId(e))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},$8:function(e){if(!this.hasUserPanes){return this.markCount}else{return this.$g.$5(e)}},$9:function(e){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$g.$6(e)}},$7:function(e){if(!this.hasUserPanes){return 0}else{return this.$g.$4(e)}},initStaticProperties:function(){var e=ss.keyExists(this.c,'draw_border');if(e){var L=this.c['draw_border'];e=L.v[(L.c?0:0)]}this.drawBorder=e;var go=ss.keyExists(this.c,'wrap_domain');if(go){var gp=this.c['wrap_domain'];go=gp.v[(gp.c?0:0)]}this.isWrappedDomain=go;var gq;if(ss.keyExists(this.c,'alpha')){var gr=this.c['alpha'];gq=gr.v[(gr.c?0:0)]}else{gq=1}this.globalAlpha=gq;var gs;if(ss.keyExists(this.c,'line_interp')){var gt=this.c['line_interp'];gs=gt.v[(gt.c?0:0)]}else{gs='lim-linear'}this.lineInterpolation=gs;var gu;if(ss.keyExists(this.c,'line_mark_pos')){var gv=this.c['line_mark_pos'];gu=gv.v[(gv.c?0:0)]}else{gu='lmp-left'}this.lineMarkerPosition=gu;var gw;if(ss.keyExists(this.c,'min_bar_width')){var gx=this.c['min_bar_width'];gw=gx.v[(gx.c?0:0)]}else{gw=0}this.minBarWidth=gw;var gy;if(ss.keyExists(this.c,'min_bar_height')){var gz=this.c['min_bar_height'];gy=gz.v[(gz.c?0:0)]}else{gy=0}this.minBarHeight=gy},$e:function(e){if(!this.hasUserPanes){var L=this.getUserPaneRectByIndex(0);var go=this.markCount;for(var gp=0;gp<go;++gp){e(gp,L)}}else{this.$g.$9(e)}},$f:function(e,L){if(!this.hasUserPanes){var go=this.getUserPaneRectByIndex(0);for(var gp=0;gp<e.length;gp++){var gq=e[gp];L(gq,go)}}else{this.$g.$a(e,L)}},getMarkInstanceOffsets:function(e){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return dQ.$b}return this.markInstanceOffsets[e]},getMarkLabelInstanceOffsets:function(e){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return dQ.$b}return this.markLabelInstanceOffsets[e]},getWorldInstanceOffsets:function(e,L){if(!this.isWrappedDomain){return dQ.$b}var go=Math.ceil((this.paneRect.x-L)/this.worldWidth);var gp=Math.floor((this.paneRect.x+this.paneRect.w-e)/this.worldWidth);var gq=gp-go+1;var gr=new Array(gq);var gs=go*this.worldWidth;for(var gt=0;gt<gq;gt++,gs+=this.worldWidth){gr[gt]=gs}return gr},getWorldOffsetBounds:function(e){var L=[];var go=this.getWorldInstanceOffsets(e.x,e.x+e.w);var gp=go.length;for(var gq=0;gq<gp;gq++){var gr=go[gq];if(gr!==0){var gs=tab.RectXYUtil.offsetRectXY(e,ss.Int32.trunc(gr)|0,0);L.push(gs)}else{L.push(e)}}return L},isTupleSelected:function(e){return e!==0&&this.sceneInfo.$e(e)},isMarkSelected:function(e){var L=this.c['tuple_id'];return this.isTupleSelected(L.v[(L.c?0:e)])},isMarkImpliedSelected:function(e){var L=this.c['tuple_id'];var go=L.v[(L.c?0:e)];return go!==0&&this.sceneInfo.$d(go)},isTupleHighlighted:function(e){return e!==0&&this.sceneInfo.$b(e)},isMarkHighlighted:function(e){var L=this.c['tuple_id'];var go=L.v[(L.c?0:e)];return this.isTupleHighlighted(go)},isTupleVisible:function(e){return e!==0&&this.sceneInfo.$f(e)},isLineSegmentVisible:function(e,L){return this.getMarkState(e)!=='markStateInvisible'&&this.getMarkState(L)!=='markStateInvisible'},isLineSegmentFiltered:function(e,L){return this.$j.has(e)||this.$j.has(L)},shouldStampThisShapeMark:function(e){if(this.$p){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(e>=this.markCount){return false}return this.shapeMarkStampingDecision[e]},isMarkEndPrimitive:function(e){var L=this.c['mark_flags'].gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'endprimitive')},isMarkDebug:function(e){var L=this.c['mark_flags'].gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'debug')},shouldShowMarker:function(e){if(ss.isNullOrUndefined(this.$n)){return this.$3(e)}return ss.keyExists(this.$n,e)},$5:function(e,L,go){var gp=null;if(L>=0&&!this.hasConstantColor&&this.markType==='text'){gp=this.getMarkColors(L)}else if(ss.isValue(this.textStyleColumnIterators)&&ss.keyExists(this.textStyleColumnIterators,'text_style_color')){var gq=this.textStyleColumnIterators['text_style_color'];gp=gq.v[(gq.c?0:e)]}if(ss.isNullOrUndefined(gp)){return'black'}if(L!==-1&&this.$j.has(L)){go='colorOverrideFog'}return gp[go]},thisDomainToPixelX:function(e){return dQ.domainToPixelX(e,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(e){return dQ.domainToPixelY(e,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(e){return dQ.domainToPixelWidth(e,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(e){return dQ.domainToPixelHeight(e,this.domainExtents,this.paneRect)},$b:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$c:function(e){return this.getMarkLabelProperty('label_one_per_group',e)},$3:function(e){var L=this.c['mark_flags'].gv(e);return tab.SceneDataUtil.isMarkFlagSet(L,'marked')||tab.SceneDataUtil.isMarkFlagSet(L,'markediflabel')&&this.markHasLabel(e)&&!this.$c(e)},setUserPaneInfo:function(e){if(ss.isNullOrUndefined(e)){return}if(this.markType==='text'){return}this.$g=new fz(e,this);this.userPaneCount=this.$g.$b;this.hasUserPanes=true},processColors:function(e){var L=this.$d();if(ss.isNullOrUndefined(e)||!ss.keyExists(this.c,'color_idx')){if(L){this.$0()}return}var go=tab.VisualColumnHelpers.buildColorTable(e,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var gp=null;if(L){gp=tab.VisualColumnHelpers.buildOpaqueColorTable(go)}var gq=this.c['color_idx'];var gr=gq.length;var gs=new Array(gr);var gt=(L?new Array(gr):null);for(var gu=0;gu<gr;gu++){var gv=gq.v[(gq.c?0:gu)];gs[gu]=go[gv];if(L){gt[gu]=gp[gv]}}this.c['color']=tab.VisualColumnIterator.create(gs);if(L){this.c['opaque_color']=tab.VisualColumnIterator.create(gt)}delete this.c['color_idx']},$0:function(){var e=this.c['color'];if(ss.isValue(e)){var L=new Array(e.length);for(var go=0;go<e.length;++go){L[go]=tab.SceneDataUtil.createOpaqueColorCollection(e.v[(e.c?0:go)])}this.c['opaque_color']=tab.VisualColumnIterator.create(L)}},buildTupleLookup:function(){ss.clearKeys(this.tupleToIndexMap);var e=this.c['tuple_id'];var L=e.length;for(var go=0;go<L;go++){this.tupleToIndexMap[e.v[(e.c?0:go)]]=go}},$6:function(e){return this.sceneInfo.getMarkBoundingBox(e)},$d:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(e){var L=tab.VisualColumnHelpers.transformColumn(e['alpha'],function(gM){return gM/255});for(var go=0;go<dQ.$1.length;go++){var gp=dQ.$1[go];var gq={$:L&&(gp==='color'||gp==='text_style_color')};var gr;if(gq.$){var gs=e['alpha'];gr=gs.v[(gs.c?0:0)]}else{gr=1}var gt={$:gr};tab.VisualColumnHelpers.transformColumn(e[gp],ss.mkdel({useAlpha:gq,colorAlpha:gt,$this:this},function(gM){var gN=tab.ColorModel.fromArgbInt(gM);if(this.useAlpha.$){gN=new tab.ColorModel(gN.get_r(),gN.get_g(),gN.get_b(),this.colorAlpha.$*gN.get_a())}return tab.SceneDataUtil.createColorCollection(gN,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(e['shape_id'],function(gM){return tab.SceneDataUtil.shapeMapping[gM]||gM});tab.VisualColumnHelpers.transformColumn(e['line_interp'],function(gM){return tab.SceneDataUtil.lineInterpolationMapping[gM]||gM});tab.VisualColumnHelpers.transformColumn(e['line_mark_pos'],function(gM){return tab.SceneDataUtil.lineMarkerPositionMapping[gM]||gM});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){var gu=_.keys(dQ.$a);for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];var gx={};var gy={};var gz=gw+'_int';if(ss.contains(dQ.$4,gw)){var gA=100*Math.max(1,this.paneRect.w);gx.$=this.domainExtents.w/gA;gy.$=this.domainExtents.x}else if(ss.contains(dQ.$5,gw)){var gB=100*Math.max(1,this.paneRect.h);gx.$=this.domainExtents.h/gB;gy.$=this.domainExtents.y}else{gx.$=(dQ.$a[gw].y-dQ.$a[gw].x)/32767;gy.$=dQ.$a[gw].x}var gC=tab.VisualColumnHelpers.transformColumn(e[gz],ss.mkdel({scale:gx,offset:gy},function(gM){return(ss.isValue(gM)?(gM*this.scale.$+this.offset.$):null)}));if(gC){e[gw]=e[gz];delete e[gz]}}var gD={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var gE=0;gE<dQ.$4.length;gE++){var gF=dQ.$4[gE];tab.VisualColumnHelpers.transformColumn(e[gF],ss.mkdel(this,function(gM){return dQ.domainToPixelX(gM,this.domainExtents,gD)}))}for(var gG=0;gG<dQ.$3.length;gG++){var gH=dQ.$3[gG];tab.VisualColumnHelpers.transformColumn(e[gH],ss.mkdel(this,function(gM){return dQ.domainToPixelWidth(gM,this.domainExtents,this.paneRect)}))}for(var gI=0;gI<dQ.$5.length;gI++){var gJ=dQ.$5[gI];tab.VisualColumnHelpers.transformColumn(e[gJ],ss.mkdel(this,function(gM){return dQ.domainToPixelY(gM,this.domainExtents,gD)}))}for(var gK=0;gK<dQ.$2.length;gK++){var gL=dQ.$2[gK];tab.VisualColumnHelpers.transformColumn(e[gL],ss.mkdel(this,function(gM){return dQ.domainToPixelHeight(gM,this.domainExtents,this.paneRect)}))}}},$4:function(e,L){var go={};if(ss.keyExists(e,'font')){var gp=e['font'];var gq=gp.uBu02.length;var gr=new Array(gq);for(var gs=0;gs<gq;++gs){gr[gs]=dQ.$0(e,gs)}go['font']=tab.VisualColumnIterator.create(gr);var gt=_.keys(e);for(var gu=0;gu<gt.length;gu++){var gv=gt[gu];if(!ss.contains(dQ.$6,gv)){var gw=e[gv];go[gv]=tab.VisualColumnHelpers.createDataArray(gw,0,gw.uBu02.length)}}if(L){var gx=this.c['alpha'].gv(0);if(ss.isValue(gx)){go['alpha']=tab.VisualColumnIterator.create([gx*255])}}this.transformColumnData(go);tab.VisualColumnHelpers.transformColumn(go['text_orientation'],function(gy){return dQ.$c[gy]});tab.VisualColumnHelpers.transformColumn(go['text_alignment'],function(gy){var gz='start';var gA=gy;if(gA===2){gz='end'}return gz})}return go},prepareLeftRight:function(){var e=new Array(this.markCount);var L=new Array(this.markCount);for(var go=0;go<this.markCount;++go){e[go]=-1;L[go]=-1}var gp=0;var gq=this.c['mark_flags'];for(var gr=0;gr<this.markCount;gr++){var gs=gq.v[(gq.c?0:gr)];if(!tab.SceneDataUtil.isMarkFlagSet(gs,'end')){L[gr]=gr+1;e[gr+1]=gr}if(tab.SceneDataUtil.isMarkFlagSet(gs,'closedprimitive')){L[gr]=gp;e[gp]=gr}if(tab.SceneDataUtil.isMarkFlagSet(gs,'endprimitive')){gp=gr+1}}this.c['l_neighbor']=tab.VisualColumnIterator.create(e);this.c['r_neighbor']=tab.VisualColumnIterator.create(L)},setupBoundingBoxes:function(){var e=this.c['tuple_id'];var L={};var go=new Array(this.markCount);this.$e(ss.mkdel(this,function(gy,gz){var gA=dS.getMarkBoundingBox(gy,this,gz);L[e.v[(e.c?0:gy)]]=gA;go[gy]=gA}));if(this.markType==='pie'){var gp=new dx(this);var gq=gp.get_lineAttributes();for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];var gt=[];var gu=e.v[(e.c?0:gs.startIndex)];gt.push(gu);var gv=tab.RectXYUtil.clone(L[gu]);for(var gw=gs.startIndex+1;gw<=gs.endIndex;++gw){gu=e.v[(e.c?0:gw)];gt.push(gu);tab.RectXYUtil.unionInPlace(gv,L[gu])}this.sceneInfo.$0(this,gv,gt)}}var gx=this.$1(go);this.markWorldOffsets=gx.$1;this.markInstanceOffsets=gx.$0;this.sceneInfo.$2(this,L)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var e=[];var L=[];var go=this.c['shape_id'];var gp=this.c['x'];var gq=this.c['y'];var gr=this.c['size'];for(var gs=0;gs<this.markCount;++gs){if(tab.SceneDataUtil.isCustomShape(go.v[(go.c?0:gs)])){var gt=gr.v[(gr.c?0:gs)]/2;e[gs]=Math.round(gp.v[(gp.c?0:gs)]-gt);L[gs]=Math.round(gq.v[(gq.c?0:gs)]-gt)}}if(e.length>0){this.c['left']=tab.VisualColumnIterator.create(e);this.c['top']=tab.VisualColumnIterator.create(L)}}},setupShapeMarkStampingMap:function(){if(this.markCount<dQ.shapeMarkStampingRatio){return}if(tab.BrowserSupport.get_isIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}this.skipClipping=true}var e=this.isMarkPropertyConstant('color');var L=this.isMarkPropertyConstant('size');var go=this.isMarkPropertyConstant('shape_id');if(go){var gp=this.c['shape_id'].gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(gp)){return}if(e&&L){this.$p=true;return}}var gq=this.c['size'];var gr=this.c['shape_id'];var gs={};var gt=new Array(this.markCount);for(var gu=0;gu<this.markCount;gu++){gt[gu]=false;var gv=[];if(!L){gv.push(gq.v[(gq.c?0:gu)])}if(!go){var gw=gr.v[(gr.c?0:gu)];if(!tab.SceneDataUtil.isSupportedStampShape(gw)){continue}gv.push(gw)}if(!e){var gx=this.getMarkColors(gu);gv.push(gx['colorOverrideNone'])}var gy=gv.toString();if(!ss.keyExists(gs,gy)){gs[gy]=[]}gs[gy].push(gu)}var gz=false;var gA=0;var gB=_.keys(gs);for(var gC=0;gC<gB.length;gC++){var gD=gB[gC];var gE=gs[gD];if(gE.length>=dQ.shapeMarkStampingRatio){for(var gF=0;gF<gE.length;gF++){var gG=gE[gF];gt[gG]=true;gA++}gz=true}}if(gA===this.markCount){this.$p=true;this.shapeMarkStampingDecision=null}else if(gz){this.shapeMarkStampingDecision=gt}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(e,L,go){if(ss.isValue(e)){this.textRunColumnIterators={};var gp=_.keys(e);for(var gq=0;gq<gp.length;gq++){var gr=gp[gq];var gs=e[gr];this.textRunColumnIterators[gr]=tab.VisualColumnHelpers.createDataArray(gs,0,gs.uBu02.length)}this.transformColumnData(this.textRunColumnIterators)}if(ss.isValue(L)){this.textStyleColumnIterators=this.$4(L,!go)}},$1:function(e){var L={};var go=null;if(!this.isWrappedDomain){L[0]=new Set;return new m(L,go)}var gp=e.length;go=new Array(gp);for(var gq=0;gq<gp;gq++){var gr=e[gq];if(ss.isNullOrUndefined(gr)){continue}go[gq]=this.getWorldInstanceOffsets(gr.x+this.paneRect.x,gr.x+gr.w+this.paneRect.x);var gs=go[gq];for(var gt=0;gt<gs.length;gt++){var gu=gs[gt];if(!ss.keyExists(L,gu)){L[gu]=new Set;for(var gv=0;gv<this.markCount;gv++){L[gu].add(gv)}}L[gu].delete(gq)}}var gw=new m(L,go);return gw},ensureLinePixelAlignment:function(){var e=this.c['size'];var L=this.c['x'];var go=this.c['y'];var gp=this.c['r_neighbor'];var gq=this.markCount;for(var gr=0;gr<gq;gr++){var gs=gp.v[(gp.c?0:gr)];if(gs!==-1){var gt=e.v[(e.c?0:gr)];var gu=e.v[(e.c?0:gs)];if(tab.DoubleUtil.isApproximatelyEqual(gt,gu)&&Math.round(gt)%2===1){var gv=L.v[(L.c?0:gr)];var gw=go.v[(go.c?0:gr)];var gx={x:gv,y:gw};var gy=L.v[(L.c?0:gs)];var gz=go.v[(go.c?0:gs)];var gA={x:gy,y:gz};bg.modifyLineEndpoints(gx,gA,gt);L.v[(L.c?0:gr)]=gx.x;go.v[(go.c?0:gr)]=gx.y;if(gp.v[(gp.c?0:gs)]===-1){L.v[(L.c?0:gs)]=gA.x;go.v[(go.c?0:gs)]=gA.y}}}}},$a:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$o,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$o,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$o,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$o,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$o,'has-cells-y')},$2:function(e){var L=this.c['tuple_id'];var go=[L.v[(L.c?0:e)]];var gp=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(go));return gp[0]}});ss.initClass(dR,a,{});ss.initClass(dS,a,{drawReferenceLineAndTrendLineGroup:function(e,L,go,gp,gq){var gr=false;var gs=null;var gt=null;var gu=null;for(var gv=0;gv<e.length;gv++){var gw=e[gv];var gx=gw.VzB==='jpw'||gw.VzB==='ADd';var gy=L==='hover'||L==='selected';var gz=true;if(gx&&gy){var gA=tab.ColorModel.fromColorCode(go.get_shapeFillStyle());if(gA.get_a()<1){if(L==='hover'){continue}gz=false}}var gB=gw.VzB==='Osj'||gw.VzB==='nuS'||gw.VzB==='MqA';if(gp||gB){if((gB||!gz)&&gr){go.set_strokeStyle(gs.toString());go.set_shapeFillStyle(gt.toString());go.set_textFillStyle(gu.toString());gr=false}if((ss.isValue(gq)||L!=='normal')&&!gr&&!gB&&gz){gs=tab.ColorModel.fromColorCode(go.get_strokeStyle());gt=tab.ColorModel.fromColorCode(go.get_shapeFillStyle());gu=tab.ColorModel.fromColorCode(go.get_textFillStyle());var gC=dS.$0(gs,L,gw.VzB,gq);var gD=dS.$0(gt,L,gw.VzB,gq);var gE=dS.$0(gu,L,gw.VzB,gq);gr=!ss.referenceEquals(gC,gs.toString())||!ss.referenceEquals(gD,gt.toString())||!ss.referenceEquals(gE,gu.toString());if(gr){go.set_strokeStyle(gC);go.set_shapeFillStyle(gD);go.set_textFillStyle(gE)}}this.renderVisualParts(go,gw)}}if(gr){go.set_strokeStyle(gs.toString());go.set_shapeFillStyle(gt.toString());go.set_textFillStyle(gu.toString())}},renderScene:function(e){if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$r=e.get_scene();var L=this.$r.scene;if(!ss.isValue(L)){return}this.$o.setRenderOffsetNoTranslate(this.get_renderOffset());var go=this.get_currentContext().get_numberSavedStates();var gp=e.get_mapServerModel().get_useFastMaps();if(!gp){this.$n(e.get_vizRegionMap(),e.get_drawFirstParts())}var gq=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var gr=3;gq=tab.RectXYUtil.outsetRect(gq,gr,gr);this.$r.prepareForDraw(gq);this.$j(L.HUq,gp);this.$r.cleanupFromDraw();this.$n(e.get_vizRegionMap(),e.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>go){this.get_currentContext().restore()}},renderViewportBorders:function(e){if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$r=e.get_scene();var L=this.$r.scene;if(ss.isNullOrUndefined(L)){return}var go=this.$9(L.HUq);if(ss.isNullOrUndefined(go)){return}var gp=[];var gq=this.get_currentCanvas().width-1;var gr=this.get_currentCanvas().height-1;var gs={x:0,y:0};var gt={x:gq,y:0};var gu={x:0,y:gr};var gv={x:gq,y:gr};var gw=false;var gx=false;for(var gy=0;gy<go.tOA.length;gy++){var gz=go.tOA[gy];if(gz.VzB==='$OC'||gz.VzB==='jp$'){continue}if(gz.VzB==='uEs'){var gA=tab.MiscUtil.cloneObject(gz);if(gA.WzG[1]===gA.WzG[3]){if(gw){dS.$2(gA.WzG,gu,gv)}else{dS.$2(gA.WzG,gs,gt)}gw=true}else{if(gx){dS.$2(gA.WzG,gt,gv)}else{dS.$2(gA.WzG,gs,gu)}gx=true}gp.push(gA)}else{gp.push(gz)}}this.get_currentContext().save();this.$d(gp,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(e,L,go){var gp=e.get_vizRegionMap()['axis-rules'];if(ss.isValue(gp)){var gq=function(gy,gz){var gA={VzB:'uEs',WzG:new Array(4)};dS.$2(gA.WzG,gy,gz);return gA};var gr=en.calculatePixelRatio();var gs=this.get_currentCanvas().height-1;var gt=[];var gu=gp.get_visualListPM().tOA;for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];if(gw.VzB==='Osj'){gt.push(gw)}else if(gw.VzB==='uEs'){var gx=gw;if(gx.WzG[0]===gx.WzG[2]){gt.push(gq({x:0,y:-go.y},{x:0,y:Math.round(gr*L.h)-go.y}))}else if(gx.WzG[1]===gx.WzG[3]){gt.push(gq({x:-go.x,y:gs},{x:Math.round(gr*L.w)-go.x,y:gs}))}}}this.get_currentContext().save();this.$d(gt,null,'axis-rules');this.get_currentContext().restore()}},$9:function(e){for(var L=0;L<e.length;L++){var go=e[L];for(var gp=0;gp<go.MdI.length;gp++){var gq=go.MdI[gp];if(gq.oqX==='pane-borders'){return gq}}}return null},$n:function(e,L){if(!ss.isValue(e)){return}for(var go=0;go<L.length;go++){var gp=L[go];var gq=e[gp];if(!ss.contains(dX.blackListVisualParts,gp)&&gp!=='axis-rules'){if(ss.isValue(gq)){this.get_currentContext().save();var gr=this.$r.get_imageDictionary();this.$o.renderVisualListHelper(gq,gr);this.get_currentContext().restore()}}}},$l:function(e,L){if(!ss.isValue(e)){return}this.get_currentContext().save();this.$d(e.tOA,L,e.oqX);this.get_currentContext().restore()},$e:function(e){for(var L=0;L<e.length;L++){var go=e[L];if(!this.$b(go)){continue}this.$p.renderGridLines(this.$q,this.$a(go))}},$j:function(e,L){if(!ss.isValue(e)){return}if(!L){this.$m(e,'background');if(!tab.FeatureFlags.isEnabled('RuntimeNoWebClientChanges')&&tab.FeatureFlags.isEnabled('RuntimeGridLines')){this.$e(e)}}this.$g(e);this.$m(e,'foreground')},$m:function(e,L){for(var go=0;go<e.length;go++){var gp=e[go];if(!this.$b(gp)){continue}for(var gq=0;gq<gp.MdI.length;gq++){var gr=gp.MdI[gq];if(L===this.$8(gr.oqX)){if(!tab.FeatureFlags.isEnabled('RuntimeGridLines')||gr.oqX!=='cell-borders'){this.$l(gr,this.$a(gp))}}}}},$a:function(e){var L=_.find(e.MdI,function(go){return go.oqX==='marks'});if(ss.isValue(L)){return this.$r.$a(L.SgS)}return null},$g:function(e){var L=[];var go=[];for(var gp=0;gp<e.length;gp++){var gq=e[gp];if(this.$b(gq)){L.push(gq);var gr=null;for(var gs=0;gs<gq.MdI.length;gs++){var gt=gq.MdI[gs];if(gt.oqX==='marks'){gr=this.$r.$a(gt.SgS);break}}go.push(gr)}}for(var gu=0;gu<dS.$6.length;gu++){var gv=dS.$6[gu];for(var gw=0;gw<dS.$5.length;gw++){var gx=dS.$5[gw];var gy=0;for(var gz=0;gz<L.length;gz++){var gA=L[gz];var gB=go[gy];gy++;if(ss.isNullOrUndefined(gB)){continue}if(gx==='marks'||gx==='label'){for(var gC=0;gC<gA.MdI.length;gC++){var gD=gA.MdI[gC];if(gD.oqX==='marks'){if(gx==='marks'){this.$i(gB,gv);break}else if(gx==='label'){if(gB.get_hasLabels()){this.$h(gB,gv);break}}}}}else{for(var gE=0;gE<gA.YVl.length;gE++){var gF=gA.YVl[gE];switch(gF.VzB){case'rLc':{var gG=new dG(this.get_currentCanvas(),this.get_currentContext());gG.setRenderOffsetNoTranslate(this.get_renderOffset());gG.$p(gB,gv,gF,gx);break}case'BVa':{var gH=new dG(this.get_currentCanvas(),this.get_currentContext());gH.setRenderOffsetNoTranslate(this.get_renderOffset());gH.$q(gB,gv,gF,gx);break}}}}}}}},$d:function(e,L,go){if(!ss.isValue(e)){return}var gp=this.$r.get_imageDictionary();if(go!=='ref-lines'&&go!=='ref-bands'&&go!=='trend-lines'){var gq=null;if(go==='decoration'){if(ss.isValue(L)){gq=L.mapExtents}}this.$o.renderDrawItems(e,null,gp,gq)}else{var gr=this.$r.selections.refLineSelection;var gs=!gr.isEmpty;var gt=this.$r.selections.trendLineSelection;var gu=!gt.isEmpty;var gv=this.$r.brushings.trendLineSelection;var gw=null;for(var gx=0;gx<e.length;gx++){var gy=e[gx];if(gy.VzB==='rOX'){var gz=gy;var gA=false;var gB=false;switch(go){case'ref-lines':{gA=gr.isObjectSelected(gz.YLs);gB=!gA&&(gs||gu);break}case'ref-bands':{gB=(gs||gu)&&!gr.isObjectSelected(gz.YLs);break}case'trend-lines':{if(gz.YLs>2147483647){if(!gv.isEmpty){continue}gA=false;gB=false}else{gA=gt.isObjectSelected(gz.YLs);gB=!gA&&!gv.isObjectSelected(gz.YLs)&&(this.$r.$o()||this.$r.$p())}break}}var gC=(gA?'selected':'normal');if(gB&&ss.isNullOrUndefined(gw)){if(ss.isValue(L)&&ss.isValue(L.fogBlendFactor)&&ss.isValue(L.foggedBackgroundColor)){gw={item1:L.fogBlendFactor,item2:L.foggedBackgroundColor}}else{var gD=tab.ColorModel.fromColorCode('rgba(255,255,255,255)');var gE=tab.SceneDataUtil.getFogBlendFactor(gD);var gF=tab.SceneDataUtil.applyFogToBackgroundColor(gD,gE);gw={item1:gE,item2:gF}}}this.drawReferenceLineAndTrendLineGroup(gz.tOA,gC,this.get_currentContext(),true,(gB?gw:null))}else{this.renderVisualParts(this.get_currentContext(),gy)}}}},renderVisualParts:function(e,L){this.$o.renderDrawItemDefaultOptions(e,L)},$b:function(e){return this.isRectVisible(tab.RecordCast.rectPresModelAsRectXY(e.PeS))},$k:function(e,L,go,gp,gq,gr){this.get_currentContext().save();if(!e.skipClipping){this.get_currentContext().setClip(gr)}this.get_currentContext().translate(e.paneRect.x,e.paneRect.y);gq(e,L,go,gp);this.get_currentContext().restore()},$c:function(e,L,go){if(e.markCount===0){return}var gp=new dG(this.get_currentCanvas(),this.get_currentContext());gp.setRenderOffsetNoTranslate(this.get_renderOffset());if(!e.hasUserPanes){this.$k(e,0,gp,L,go,e.get_mapExtentOrPaneRect());return}var gq=e.userPaneCount;var gr=e.paneRect.x;var gs=e.paneRect.y;for(var gt=0;gt<gq;++gt){var gu=e.getUserPaneRectByIndex(gt);gu=tab.RectXYUtil.offsetRectXY(gu,gr,gs);var gv=e.$8(gt);if(gv>0&&this.isRectVisible(gu)){this.$k(e,gt,gp,L,go,gu)}}},$i:function(e,L){this.$c(e,L,ss.mkdel(this,this.$f))},$h:function(e,L){this.$c(e,L,function(go,gp,gq,gr){gq.$m(go,gp,gr)})},$f:function(e,L,go,gp){var gq=e.markType;switch(gq){case'shape':{{go.$M(e,L,gp)}break}case'square':case'bar':{{go.$k(e,L,gp)}break}case'pie':{{go.$o(e,L,gp)}break}case'line':{{go.$l(e,L,gp)}break}case'area':{{go.$j(e,L,gp)}break}case'text':{{go.$O(e,L,gp)}break}case'multipolygon':{{go.$n(e,L,gp)}break}default:{break}}},$8:function(e){switch(e){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'}},bg);ss.initClass(dT,a,{get_paneTableVM:function(){return this.get_viewModel()},get_paneTableRenderer:function(){return this.renderer},get_isContentOpaque:function(){return!this.get_paneTableVM().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},performRender:function(){var e={};e['viz']=this.get_paneTableVM().get_sheetId();{var L=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),4,e);try{this.renderer.clear();this.get_paneTableRenderer().renderScene(this.get_paneTableVM())}finally{if(ss.isValue(L)){L.dispose()}}}},onViewModelPropertyChanged:function(e,L){if(L.get_propertyName()==='borderHighlight'){return}var go=this.get_paneTableVM().getAndClearInvalidationRects();if(go.length===0){this.invalidate(false)}else{var gp=tab.RectXYUtil.unionAll(go);var gq=3;tab.RectXYUtil.outsetRectInPlace(gp,gq,gq);tab.RectXYUtil.offsetRectXYInPlace(gp,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(gp,false)}},postRenderFinalPass:function(){this.get_paneTableRenderer().renderViewportBorders(this.get_paneTableVM());this.get_paneTableRenderer().renderAxisRulers(this.get_paneTableVM(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(fQ,[dX]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dX]),spiff.IScrollable,dl]);ss.initClass(dU,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$O},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$u();this.$v();this.$t();this.$o();this.$S=false},hoverOverWhitespace:function(){this.$L=false},setScrollPosition:function(e){this.set_scrollPos(e);this.$I=[];this.invalidate(true)},setDragOverlayTuples:function(e){this.$u();this.$v();this.$o();if(this.$S){return}this.$P=e;var L=dU.$0(this.$J,e);var go=L.length;if(go>0){var gp=this.get_paneTableVM().get_scene();var gq=[];for(var gr=0;gr<go;gr++){var gs=L[gr];var gt=this.$w(gs,gp);gq.push(gt)}var gu=this.$T.get_shapeSelector();this.$R=gu.retrieveStateObject(this.$R);var gv=gu.getStateDiff(this.$R);var gw=gv.length;var gx=new Set;var gy=new Array(gw);for(var gz=0;gz<gw;gz++){var gA=gv[gz];var gB={x:0,y:0,w:0,h:0};for(var gC=0;gC<go;gC++){if(gx.has(gC)){continue}var gD=gq[gC];if(tab.RectXYUtil.intersectsWithAny(gA,gD)){gB=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(gD),gB);gx.add(gC)}}gy[gz]=(tab.RectXYUtil.isEmpty(gB)?gB:tab.RectXYUtil.outsetRect(gB,3,3))}gy=tab.RectXYUtil.reduceRectangles(gy);this.$I=gy;if(dU.$1){this.invalidate(false)}var gE=tab.RectXYUtil.unionAll(gy);gE=tab.RectXYUtil.offsetRect(gE,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(gE,true)}else{this.$I=[];this.clearDirty();this.$P=null}},setHoverOverlayTarget:function(e,L){this.$O='hover';if(!this.$M.$1(e,L)){this.$L=false}if(this.$M.$2(e,L)||ss.isValue(this.$J)&&this.$J.length>0){return false}this.$p();var go=this.$x(e,L);this.$y(go);this.$M.$3(e,L,go);this.$D();return true},setPressedOverlayTarget:function(e,L){this.$L=true;this.$O='press';if(this.$Q.$2(e,L)){return false}this.$p();var go=this.$x(e,L);this.$y(go);this.$Q.$3(e,L,go);this.$D();return true},$C:function(e,L){if(L.get_propertyName()==='scene'||L.get_propertyName()==='vizdata'){this.$H()}},performRender:function(){var e=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$I.length>0||ss.isValue(this.$J)&&this.$J.length>0){this.$E()}else{this.renderer.clear();var L=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$M.$4()){if(this.$M.$8==='mark'){var go=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$M.$5());if(!ss.isNullOrUndefined(go)){this.$q(this.$M.$5(),go,L);dS.renderHoverOverlay(this.$M.$5(),go,this.context)}}else{this.$G(this.$M)}}else if(this.$Q.$4()){if(this.$Q.$8==='mark'){var gp=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$Q.$5());if(!ss.isNullOrUndefined(gp)){this.$q(this.$Q.$5(),gp,L);dS.renderPressedOverlay(this.$Q.$5(),gp,this.context)}}else{this.$G(this.$Q)}}}}e.dispose()},$s:function(e,L,go){var gp=tab.RectXYUtil.offsetRectXY(e,L.paneRect.x,L.paneRect.y);var gq=L.mapExtents;if(ss.isValue(gq)){tab.RectXYUtil.intersectInPlace(gp,gq)}tab.RectXYUtil.intersectInPlace(gp,go);this.context.setClip(gp);this.context.translate(L.paneRect.x,L.paneRect.y)},$q:function(e,L,go){var gp=L.getUserPaneRectByTupleId(e);this.$s(gp,L,go)},$r:function(e,L,go){var gp=L.getUserPaneRectByIndex(e);this.$s(gp,L,go)},$E:function(){var e=75;var L=(new Date).getTime();if(ss.isNullOrUndefined(this.$P)){this.$P=this.$J}if(this.$I.length===0){var go={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$I.push(go)}if(this.$P.length===0){this.renderer.clear();return}if(dU.$1){this.renderer.clear()}var gp={};var gq={};var gr={};var gs=this.get_paneTableVM().get_scene();for(var gt=0;gt<this.$P.length;gt++){var gu=this.$P[gt];var gv=gs.getPaneDrawInfoFromTupleId(gu);var gw=gv.paneDrawInfoKey;gp[gw]=ss.coalesce(gp[gw],new Set);gp[gw].add(gu);gq[gw]=gv;var gx=gs.getMarkBoundingBox(gu);var gy=gv.getWorldOffsetBounds(gx);gr[gu]=gy}var gz=0;var gA=this.$I.length;for(var gB=0;gB<gA;gB++){var gC=this.$I[gB];this.context.clearRect(gC.x,gC.y,gC.w,gC.h);if(dU.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(gC.x,gC.y,gC.w,gC.h)}var gD=new ss.ObjectEnumerator(gp);try{while(gD.moveNext()){var gE=gD.current();var gF=gq[gE.key];var gG=tab.RectXYUtil.intersect(gC,gF.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(gG)){continue}var gH=false;var gI=gF.hasUserPanes;var gJ=-1;var gK=false;var gL=tab.SetUtilities.getValues(ss.Int32).call(null,gE.value);for(var gM=0;gM<gL.length;gM++){var gN=gL[gM];if(gz>=e){if((new Date).getTime()-L>145){gK=true;break}gz=0}++gz;if(!tab.RectXYUtil.intersectsWithAny(gG,gr[gN])){continue}var gO=0;if(gI){gO=gF.$7(gF.getMarkIndexFromTupleId(gN));if(gO!==gJ){if(gH){this.context.restore();gH=false}gJ=gO}}if(!gH){this.context.save();this.$r(gO,gF,gC);gH=true}dS.renderHoverOverlay(gN,gF,this.context)}if(gH){this.context.restore()}if(gK){this.$S=true;this.renderer.clear();return}}}finally{gD.dispose()}}},$G:function(e){var L=[];if(e.$7()==='hover'&&tsConfig.is_authoring){switch(e.$8){case'ref-line':{L=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{L=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var go=0;go<L.length;go++){var gp=L[go];var gq=[];ss.arrayAddRange(gq,gp.tOA);this.$F(gq,e)}},$F:function(e,L){var go=L.$7();var gp=L.$5();this.context.save();var gq=this.renderer;var gr=ss.getEnumerator(e);try{while(gr.moveNext()){var gs=gr.current();if(gs.VzB==='rOX'){var gt=gs;var gu=true;if(this.$L){switch(L.$8){case'ref-line':{gu=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(gt.YLs);break}case'trend-line':{gu=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(gt.YLs);break}}}if(gu){gq.drawReferenceLineAndTrendLineGroup(gt.tOA,go,this.context,gp===gt.YLs,null)}}else{gq.renderVisualParts(this.context,gs)}}}finally{gr.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$J=this.$P;this.$P=null;this.$T.get_shapeSelector().updateLastState(this.$R);this.$I=[];if(this.$S){this.$t()}},$D:function(){if(this.$K||tab.MiscUtil.isNullOrEmpty(this.$N)){this.$K=false;this.invalidate(true)}else{var e=tab.RectXYUtil.unionAll(this.$N);ss.clear(this.$N);var L={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};e=tab.RectXYUtil.offsetRect(e,L);e=tab.RectXYUtil.outsetRect(e,3,3);this.invalidateRect(e,true)}},$o:function(){if(this.$K||!tab.MiscUtil.isNullOrEmpty(this.$N)){this.$D()}},$H:function(){if(!this.$z(this.$M)){this.$M.$0()}if(!this.$z(this.$Q)){this.$Q.$0()}if(ss.isValue(this.$J)){var e=new Set;for(var L=0;L<this.$J.length;L++){var go=this.$J[L];if(this.$A(go)){e.add(go)}}this.$J=tab.SetUtilities.getValues(ss.Int32).call(null,e)}},$z:function(e){if(!e.$4()){return false}switch(e.$8){case'mark':{return this.$A(e.$5())}case'ref-line':{return this.$B(this.get_paneTableVM().get_refLineVisualLists(),e.$5())}case'trend-line':{return this.$B(this.get_paneTableVM().get_trendLineVisualLists(),e.$5())}case'unspecified':default:{return false}}},$A:function(e){var L=this.get_paneTableVM().get_visualModel().get_vizDataModel();var go=this.get_paneTableVM().get_scene();return ss.isValue(L)&&L.hasTupleId(e)&&!go.$c(e)},$B:function(e,L){for(var go=0;go<e.length;go++){var gp=e[go];var gq=gp.tOA;for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];if(gs.YLs===L){return true}}}return false},$p:function(){this.$u();this.$v();this.$t()},$x:function(e,L){if(L==='mark'){return this.$w(e)}else{return null}},$y:function(e){if(ss.isNullOrUndefined(e)){this.$K=true;ss.clear(this.$N);return}for(var L=0;L<e.length;L++){var go=e[L];this.$N.push(go)}},$w:function(e,L){L=L||this.get_paneTableVM().get_scene();var go=L.getMarkBoundingBox(e);var gp=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(e);var gq=gp.getWorldOffsetBounds(go);return gq},$u:function(){if(this.$M.$4()){this.$y(this.$M.$6());this.$M.$0()}},$v:function(){if(this.$Q.$4()){this.$y(this.$M.$6());this.$Q.$0()}},$t:function(){if(ss.isValue(this.$J)){var e=this.get_paneTableVM().get_scene();for(var L=0;L<this.$J.length;L++){var go=this.$J[L];ss.arrayAddRange(this.$N,this.$w(go,e))}this.$J=null}this.$P=null;this.$I=[];this.$R=null}},ss.makeGenericType(fQ,[dX]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dX]),spiff.IScrollable,dl]);ss.initClass(dV,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dW,a,{get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.geometry)?this.geometry.pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.geometry)?this.geometry.pi.yHeights.length:0)},get_scrollPosition:function(){return this.$Q},set_scrollPosition:function(e){this.$Q=e;this.$o(this.$Q);this.$x()},get_controller:function(){return this.get_paneTableVM().viewController},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_paneTableVM:function(){return this.get_viewModel()},get_mapsSearchEnabled:function(){return tsConfig.allow_filter&&this.isMap&&this.get_paneTableVM().get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_vizToolTip:function(){this.$c();return this.vizTooltip},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new fp(this.get_paneTableVM().get_visualModel().get_selectionsModel()):null)},get_tooltipMode:function(){return this.get_paneTableVM().get_visualModel().get_tooltipMode()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(e){this.regions['viz']=e},init:function(){this.$j();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.vizHitTester=tab.MiscUtil.dispose$1(this.vizHitTester);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.vizHitTester=new dy(this,this.get_vizRegion())}else{this.vizHitTester=new ew(this,this.get_vizRegion())}}},dispose:function(){this.$G=true;if(ss.isValue(this.vizHitTester)){this.vizHitTester.dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.visibleGeometry=null;this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$z));if(ss.isValue(this.get_vizRegion())){var e=this.get_paneTableVM();var L=this.get_vizRegion();e.remove_propertyChanged(ss.mkdel(L,L.$1))}}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}if(ss.isValue(this.$U)){this.$U.dispose()}if(ss.isValue(this.$E)){this.$E.dispose()}if(ss.isValue(this.$K)){this.$K.dispose()}if(ss.isValue(this.$L)){this.$L.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$N)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$N,this.$N.$C));this.$N.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[dX]).prototype.dispose.call(this)},$d:function(e,L,go){if(e.moveNext()&&!ss.staticEquals(e.current(),null)){e.current()(this,L).done(ss.mkdel(this,function(gp){if(gp){go.resolve(true);return}this.$d(e,L,go)}))}else{go.resolve(false)}},initEventHandlers:function(){this.$9();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.refreshScrollingAndDrilling()},callAsyncVizDragHandlers:function(e,L){var go=$.Deferred();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.$d(ss.getEnumerator(dW.$4),e,go)}else{go.resolve(false)}go.done(ss.mkdel(this,function(gp){if(gp){this.get_vizToolTip().close();return}L(e)}))},callVizDragHandlers:function(e,L){if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){for(var go=0;go<dW.$9.length;go++){if(dW.$9[go](this,e)){this.get_vizToolTip().close();return}}}L(e)},getVizDragApproval:function(e){if(ss.isValue(e)){for(var L=0;L<dW.$8.length;L++){if(dW.$8[L](e)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_session().get_visualId());if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.collapseSearchWidget();this.mapsSearchView.get_compositeSearchWidget().get_textInputView().set_text('')}},handlePageScroll:function(){var e=new ss.ObjectEnumerator(this.regions);try{while(e.moveNext()){var L=e.current();L.value.handlePageScroll()}}finally{e.dispose()}},doTiledViewerRefreshImages:function(e){this.refreshImages(e)},setPointerToolMode:function(e,L){this.isPointerToolLocked=L;if(this.isPointerToolLocked){this.get_vizRegion().setLockedPointerToolMode(e)}this.get_vizRegion().setPointerToolMode(e)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_vizRegion().get_defaultPointerToolMode()}return'rectangular-selection'},resetPointerToolMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$W!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode()}else if(ss.isValue(this.get_vizRegion())){this.get_vizRegion().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var e=this.get_vizToolTip();e.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));e.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));e.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));e.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var e=this.get_paneTableVM().get_visualModel();var L=[e.get_backgroundColor(),e.get_paneBGColor(),e.get_headerBGColor()];if(ss.isValue(this.$B)&&_.isEqual(this.$B,L)){return}this.$B=L;var go=this.listAllRegions();var gp=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var gq=_.keys(go);for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];var gt=go[gs];if(ss.isNullOrUndefined(gt)){continue}var gu=L[0];if(gs==='viz'){gu=L[1]}else if(ss.contains(dW.$7,gs)){gu=L[2]}gt.css('background-color',gu);if(!gp){var gv=$('.tvimagesContainer',gt);gv.css('background-color',gu)}}this.dom.topLeftSpacer.css('background-color',L[2]);this.dom.topRightSpacer.css('background-color',L[2]);this.dom.bottomLeftSpacer.css('background-color',L[2]);this.dom.bottomRightSpacer.css('background-color',L[2])},makeRegionContentProvidersHelper:function(e,L){var go=this.listNonVizRegions();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$z));var gp='transparent';var gq=new dT(this.get_paneTableVM(),this.getDomNodeForContentRegion(e),gp);var gr=$('.tvimagesContainer',e);gr.get(0).appendChild(gq.element.get(0));this.get_vizRegion().set_contentProvider(gq);var gs=this.get_paneTableVM();var gt=this.get_vizRegion();gs.add_propertyChanged(ss.mkdel(gt,gt.$1));this.$z();this.$N=new dU(this.get_paneTableVM(),this.getDomNodeForContentRegion(e),this.get_vizRegion());this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$N,this.$N.$C));gr.get(0).appendChild(this.$N.element.get(0))}else{var gu=_.keys(go);for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];var gx=go[gw];var gy=this.makeTiledWindow(gx,this.get_session(),this.get_controller(),ss.mkdel(this,this.$f),null);this.regions[gw].set_contentProvider(gy)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(e,this.get_session(),this.get_controller(),ss.mkdel(this,this.$f),L))}this.updateRegionBackgroundColor()},makeTiledWindowHelper:function(e,L,go,gp,gq,gr){var gs=new fb(this.getDomNodeForContentRegion(e),L,go,gp,gr);if(ss.isValue(gq)){gs.add_loadComplete(gq);this.disposables.add$1(new tab.CallOnDispose(function(){gs.remove_loadComplete(gq)}))}return gs},listNonVizRegions:function(){var e={};e['yheader']=this.dom.yLabel;e['leftaxis']=this.dom.leftAxis;e['rightaxis']=this.dom.rightAxis;e['xheader']=this.dom.xLabel;e['bottomaxis']=this.dom.bottomAxis;e['topaxis']=this.dom.topAxis;return e},listAllRegions:function(){var e=this.listNonVizRegions();e['viz']=this.dom.view;return e},destroyRegions:function(){var e=ss.getEnumerator(Object.keys(this.regions));try{while(e.moveNext()){var L=e.current();if(ss.isValue(this.regions[L])){this.regions[L].destroy()}}}finally{e.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$s:function(e){if(ss.keyExists(e.commandParams,'OBN')){var L=e.commandParams['OBN'];if(ss.isValue(L)){var go=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(go)){return false}}}if(ss.keyExists(e.commandParams,'Gvh')){var gp=e.commandParams['Gvh'];if(ss.isValue(gp)){try{var gq=JSON.parse(gp);if(gq.coe==='tuples'){for(var gr=0;gr<gq.kyj.length;gr++){var gs=gq.kyj[gr];var gt=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(gs);if(ss.isNullOrUndefined(gt)){return false}}}}catch(gu){return false}}}return true},onCommandExecuted:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(L.command.command)&&!this.$s(L.command.command)){return}if(L.command.commandType===7){this.get_session().executeCommand(L.command)}else{tab.UberTipClientCommands.executeUbertipCommand(L.command)}},onActionExecuted:function(e,L){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(L.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(L.action.command)&&!this.$s(L.action.command)){return}var go=function(){e.hideSpinner()};var gp=function(gq){e.hideSpinner()};this.get_session().executeAction(L.action,gp,go)},isMapWithBaseLayer:function(){return this.isMap&&this.get_paneTableVM().get_mapServerModel().get_hasPresModel()},doDoubleTap:function(e,L,go){if(!tsConfig.allow_filter){return}if(this.isMapWithBaseLayer()&&go<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/go)){return}if(e.get_regionPart()==='viz'&&this.allowPanZoomOnDoubleTap()){this.get_controller().incrementCacheVersion();var gp=tab.DeferLayoutImpl.get_instance();gp.setDeferLayoutUpdates(true);var gq=this.resolvePane(e.toLocalCoordsEvent(L,false));e.zoomPoint(gq,e.toLocalCoordsEvent(L,false),go,true,gp);this.get_vizToolTip().close();this.disposeOfOverlays()}},$k:function(e,L){if(!ss.referenceEquals(e,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().reset()}},dragOverride:function(e,L){if(this.isUserDragging()){return}this.callVizDragHandlers(e,L)},dragOverrideAsync:function(e,L){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(e,L)},clearSelection:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(e){this.$P+=1;var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var go=L.current();this.regions[go].refreshImages(e)}}finally{L.dispose()}this.$F.$0(e,this.get_session(),this.$f())},$n:function(e,L){var go={item1:L,item2:e};if(ss.isValue(this.$C)&&_.isEqual(go,this.$C)){this.refreshScrollingAndDrilling();return}this.$C=go;this.$F.$1();this.$P+=1;var gp={};$.extend(true,gp,e);this.geometry=gp;var gq=gp.ri.length;for(var gr=0;gr<gq;gr++){gp[gp.ri[gr].r]=gp.ri[gr]}var gs=0,gt=0;var gu=0,gv=0;var gw=0,gx=0;if(ss.isValue(gp.title)){gt=dW.$2(gt,gp.title)}if(ss.isValue(gp.xheader)){gw=gp.xheader.x;gu=gp.xheader.w;gt=dW.$2(gt,gp.xheader)}if(ss.isValue(gp.bottomaxis)){gw=gp.bottomaxis.x;gu=gp.bottomaxis.w;gt=dW.$2(gt,gp.bottomaxis)}if(ss.isValue(gp.topaxis)){gt=dW.$2(gt,gp.topaxis)}if(ss.isValue(gp.viz)){gw=gp.viz.x;gu=gp.viz.w;gt=dW.$2(gt,gp.viz)}if(ss.isValue(gp.caption)){gt=dW.$2(gt,gp.caption)}if(ss.isValue(gp.yheader)){gx=gp.yheader.y;gv=gp.yheader.h;gs=dW.$3(gs,gp.yheader)}if(ss.isValue(gp.leftaxis)){gx=gp.leftaxis.y;gv=gp.leftaxis.h;gs=dW.$3(gs,gp.leftaxis)}if(ss.isValue(gp.rightaxis)){gs=dW.$3(gs,gp.rightaxis)}if(ss.isValue(gp.viz)){gx=gp.viz.y;gv=gp.viz.h;gs=dW.$3(gs,gp.viz)}var gy=L.w;var gz=L.h;var gA=0,gB=0;if(gv>0){var gC=gt;if(gs>gy){gC+=dH.get_scrollH()}if(gC>gz){gA=dH.get_scrollW()}}if(gu>0&&gs>gy){gB=dH.get_scrollH()}if(tab.BrowserSupport.get_isIE()&&gA>0){gA+=1}if(tab.BrowserSupport.get_isIE()&&gB>0){gB+=1}var gD=0,gE=0;var gF=0,gG=0;if(gv>0){var gH=gt-gv;gG=gz-gH-gB;gG=Math.min(gv,gG);gE=gv-gG}if(gu>0){var gI=gs-gu;gF=gy-gI-gA;gF=Math.min(gu,gF);gD=gu-gF}this.$R.h=Math.min(gt-gE,gz);this.$R.w=Math.min(gs-gD,gy);var gJ=this.$R.h;var gK=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var gL=((gK&&ss.isValue(gp.bottomaxis))?1:0);var gM=((gK&&ss.isValue(gp.rightaxis))?1:0);if(gK){var gN=[gp.yheader,gp.rightaxis,gp.leftaxis,gp.viz];for(var gO=0;gO<gN.length;gO++){var gP=gN[gO];if(ss.isValue(gP)){gP.h+=gL}}var gQ=[gp.xheader,gp.bottomaxis,gp.topaxis,gp.viz];for(var gR=0;gR<gQ.length;gR++){var gS=gQ[gR];if(ss.isValue(gS)){gS.w+=gM}}}if(gG<0){gG=0}if(gF<0){gF=0}this.titleHeight=0;if(ss.isValue(gp.title)&&this.dom.title.css('display')!=='none'){this.titleHeight=gp.title.h;var gT={l:0,t:gp.title.y,w:gp.title.w+gA,h:gp.title.h};var gU=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(gT,gU)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,gT);this.$U.handleNewTextRegion();gJ=Math.max(gJ,gp.title.h+gp.title.y)}}if(ss.isValue(this.$E)&&this.dom.caption.css('display')!=='none'){var gV;if(ss.isValue(gp.caption)){gJ-=gp.caption.h+8+gB;gV={l:gp.caption.x,t:gp.caption.y-gE,w:gp.caption.w,h:gp.caption.h}}else{gV={l:0,t:0,w:0,h:0}}var gW=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(gV,gW)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,gV);this.$E.handleNewTextRegion()}}var gX=dW.$1(gp,gy,gA,gG,gL,gD,gF,gM,gE);this.visibleGeometry=gX;this.$p(gX,gp);this.setGeometryForWebScrollbars(gG,gF,gA,gB,gx,this.$R.w,gJ,gw,gv,gu);this.refreshScrollingAndDrilling();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$p:function(e,L){var go=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var gp=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(gp)){go=gp.get_visualListPM().tOA}}this.$m(e.uleftArea,go,this.dom.topLeftSpacer,'uleft');if(ss.isValue(L.uleft)){this.tlspacerAreaY=$.extend({},e.uleftArea);if(ss.isValue(L.di)&&L.uleft.h>=40){this.tlspacerAreaY.t=L.uleft.y+L.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(L.di)&&ss.isValue(L.di.xy)&&ss.isValue(L.di.xy[0])){var gq=18;var gr=L.xheader;if(ss.isValue(gr)&&gr.h>L.di.xs){var gs=L.di.xy.length;for(var gt=0;gt<gs;gt++){if(L.di.xy[gt][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-gq,t:L.uleft.y,w:gq,h:L.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}this.$q(L.yheader,this.dom.yLabel,'yheader',L.ts,e.yheaderArea);this.$q(L.leftaxis,this.dom.leftAxis,'leftaxis',L.ts,e.leftaxisArea);this.$q(L.rightaxis,this.dom.rightAxis,'rightaxis',L.ts,e.rightaxisArea);this.$q(L.xheader,this.dom.xLabel,'xheader',L.ts,e.xheaderArea);this.$q(L.bottomaxis,this.dom.bottomAxis,'bottomaxis',L.ts,e.bottomaxisArea);this.$q(L.topaxis,this.dom.topAxis,'topaxis',L.ts,e.topaxisArea);this.$m(e.urightArea,go,this.dom.topRightSpacer,'uright');this.$m(e.lleftArea,go,this.dom.bottomLeftSpacer,'lleft');this.blspacerArea=e.lleftArea;this.$m(e.lrightArea,go,this.dom.bottomRightSpacer,'lright');this.$q(L.viz,this.dom.view,'viz',L.ts,e.vizArea)},$m:function(e,L,go,gp){if(ss.isValue(e)){tab.DomUtil.setAbsolutePositionBox(go,e);this.setRegionGeometryHelper(go,e);go.show();this.$F.$2(go,gp,L)}else{go.hide()}},$q:function(e,L,go,gp,gq){if(ss.isValue(e)){tab.DomUtil.setAbsolutePositionBox(L,gq);this.setRegionGeometryHelper(L,gq);L.show();this.regions[go].setGeometry(e,gq,gp);if(go==='viz'&&ss.isValue(this.$N)){this.$N.set_actualViewSize({w:gq.w,h:gq.h});this.$N.reset(e,gp)}}else{L.hide()}},resolvePane:function(e){var L,go;var gp=this.geometry.pi;var gq={x:e.x,y:e.y};var gr={canDragH:gp.hasXQAxis,canDragV:gp.hasYQAxis,x:0,y:0,w:0,h:0};go=gp.xWidths.length;for(L=0;L<go;L++){if(gq.x<gr.x+gp.xWidths[L]){gr.tx=L;gr.w=gp.xWidths[L];break}gr.x=gr.x+gp.xWidths[L]}go=gp.yHeights.length;for(L=0;L<go;L++){if(gq.y<gr.y+gp.yHeights[L]){gr.ty=L;gr.h=gp.yHeights[L];break}gr.y=gr.y+gp.yHeights[L]}return gr},allowPanZoom:null,allowPanZoomOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var e=this.geometry.viz.w;var L=this.geometry.viz.h;var go=this.get_vizRegion();var gp=go.get_contentProvider();if(ss.isNullOrUndefined(gp)){return false}var gq=gp.get_effectiveViewSize().w;var gr=gp.get_effectiveViewSize().h;return e>gq||L>gr}return false},isOneVisiblePane:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var e,L;var go=this.geometry.viz.w;var gp=this.geometry.viz.h;var gq=this.geometry.pi.xWidths;var gr=this.geometry.pi.yHeights;L=gq.length;for(e=0;e<L;e++){if(Math.abs(go-gq[e])>1){return false}}L=gr.length;for(e=0;e<L;e++){if(Math.abs(gp-gr[e])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(e){var L=new dO(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+e);return L},createOverlayImageFromFile:function(e){var L=new dO(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(e,false,false));return L},updateOverlayTarget:function(e,L,go){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(L){case'press':{this.$N.setPressedOverlayTarget(e,go);break}case'hover':{this.$N.setHoverOverlayTarget(e,go);break}default:{break}}},updateOverlayForLastTargetState:function(e,L){this.updateOverlayTarget(e,this.$N.get_lastTargetState(),L)},hoverOverWhitespace:function(){this.$N.hoverOverWhitespace()},updateHoveredCategoricalHeaders:function(e,L,go){var gp=this.get_paneTableVM().get_vizRegionMap()[go];if(ss.isNullOrUndefined(gp)){return}switch(L){case'press':{gp.set_hoveredCategoricalNode(null);break}case'hover':{gp.set_hoveredCategoricalNode(e);break}default:{break}}},showOverlayImages:function(e,L){if(ss.isValue(L)&&ss.isValue(e)&&L.length>0){this.disposeOfOverlayImages();for(var go=1;go<L.length;++go){var gp=e.clone();this.$M.push(gp);gp.show(L[go])}this.$M.push(e);e.show(L[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(e){},clickCaption:function(e){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndDrilling:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(e,L,go,gp,gq,gr,gs,gt,gu,gv){},setRegionResizersForWeb:function(){},makeFloatingZoomToolbar:null,makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new fr(this.get_tooltipContextProvider(),this.get_visualId(),this.dom.view)}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_tooltipContextProvider())}else{return new fq(this.get_tooltipContextProvider(),this.get_visualId())}},onHoverOverlay:function(e,L){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&e.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(e.isSelectingToolActive()||!e.get_isDragTracking()&&e.get_currentPointerToolMode()==='pan-map')){var go=e.toLocalCoordsEvent(L,false);var gp={x:L.pageX,y:L.pageY};this.lastVizHoverPoint=go;if(this.get_vizToolTip().isHoverAllowed(gp)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(e){var L=this.get_vizRegion();var go=L.hitTestSingleMarksAndVisualParts(this.lastVizHoverPoint);this.onHoverOverVisualPart(L,go.get_hitType()!==0);if(go.get_hitType()===0){this.hoverOverWhitespace()}if(go.get_shouldRenderOverlay()){if(!e){this.updateOverlayForLastTargetState(go.get_id(),go.get_overlayTargetType())}else{this.updateOverlayTarget(go.get_id(),'hover',go.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,onHoverTooltip:function(e,L){if(this.isUserDragging()){return}if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){return}var go=this.get_vizToolTip();if(go.get_isTooltipShown()&&go.shownTooltipIsStatic()){return}var gp=e.toLocalCoordsEvent(L,false);var gq=tab.PointUtil.add(gp,e.getLocalOffsetPoint(false));if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var gr=dW.guessTooltipTargetTypeFromRegion(e.get_regionPart());go.hoverOverCoordinates(gq,gp,gr,e.get_regionPart());return}var gs=false;if(e.get_regionPart()==='viz'){this.$a();e.get_shapeSelector().setSingleSelectPoint(gp);var gt=this.get_vizRegion();var gu=gt.hitTestSingleMarksAndVisualParts(gp);gs=gu.get_hitType()!==0;this.onHoverOverVisualPart(gt,gs);if(gs){switch(gu.get_hitObjectType()){case 5:case 6:{var gv=this.get_paneTableVM().get_scene().getMarkBoundingBox(gu.get_id());gp=dW.$0(gp,gv);var gw=this.get_paneTableVM().get_visualModel().get_selectionsModel();var gx=gw.tupleSelection.isObjectSelected(gu.get_id());var gy=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(gu.get_id());var gz=gy.get_paneDescriptorKey();go.hoverOverObject(gq,tab.PointUtil.add(gp,{x:this.geometry.viz.x,y:this.geometry.viz.y}),gp,gu.get_id(),gx,gz,'mark',e.get_regionPart());break}case 3:case 4:case 2:{this.$V=window.setTimeout(function(){go.hoverOverCoordinates(gq,gp,'visualparts',e.get_regionPart())},120);break}default:{break}}}}else if(ss.isValue(e.get_contentProvider())){var gA=e.hitTestNodes(gp);if(ss.isValue(gA)){var gB={ZHX:gA.ZHX,wwF:gA.wwF};var gC=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[gB]);go.hoverOverHeader(gq,gp,'header',e.get_regionPart(),gC);gs=true}}if(!gs){go.hoverOverWhitespace(gq,e.get_regionPart())}},$a:function(){if(ss.isValue(this.$V)){window.clearTimeout(ss.unbox(this.$V));this.$V=null}},makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var e=0;e<this.$M.length;e++){var L=this.$M[e];if(ss.isValue(L)){L.dispose()}}ss.clear(this.$M);if(ss.isValue(this.$N)){this.$N.clearOverlays()}this.$O=tab.MiscUtil.clearTimeout(this.$O)},$o:function(e){if(ss.isValue(this.$N)){this.$N.setScrollPosition(e)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$O)){return}var e=(new Date).getTime()-this.$J;if(e>=30){this.$b()}else{this.$O=window.setTimeout(ss.mkdel(this,this.$b),30-e)}}},$b:function(){this.$O=null;var e=cO.getIdsFromHitTestResults(this.get_vizRegion().hitTestMarksAgainstSelectionShape(),true);this.$N.setDragOverlayTuples(e);this.$J=(new Date).getTime()},updateRegionContentProvider:function(e,L){this.regions[e].set_contentProvider(L)},isSelectActionOnVizAllowed:function(e){return true},handleLocalTap:function(e,L,go,gp){var gq=false;if(this.isSelectActionOnVizAllowed(L)){if(e.get_regionPart()==='viz'){var gr=ss.mkdel(this,function(gw){if(this.shouldInformTooltipOfLocalTapOnViz(gw)){this.$h(gw,e,go,gp)}});var gs=this.get_vizToolTip();var gt=e.doSelectFromPoint(gp,L,ss.mkdel(gs,gs.suppress),gr);gq=gt.get_hitType()!==0}else if(ss.isValue(e.get_contentProvider())){var gu=e.hitTestNodes(gp);if(ss.isValue(gu)){var gv=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(go,gp,e.get_regionPart(),'header')});e.selectNode(gp,gu,L,gv);gq=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!gq){this.get_vizToolTip().hoverOverWhitespace(go,e.get_regionPart())}}},$h:function(e,L,go,gp){var gq=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&e.get_tooltipTargetType()==='mark'){var gr=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(e.get_id());gq=gr.get_paneDescriptorKey()}this.get_vizToolTip().singleSelectComplete(go,tab.PointUtil.add(gp,{x:this.geometry.viz.x,y:this.geometry.viz.y}),gp,e.get_id(),gq,e.get_tooltipTargetType(),L.get_regionPart())},$g:function(){var e=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(e)){return}var L=e.get_geometryModel().pm;this.$l(L)},$l:function(e){z.$1(e,this.get_paneTableVM(),this.dom)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$G){return}var e=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(e)){return}this.get_vizRegion().$4();this.$A(e);this.$v(e);this.$t();this.updateTooltipMode(e);this.updateMapSettings(e);var L=this.determineToolbarType();var go=e.get_geometryModel().pm;{this.$n(go,e.get_containerGeometry())}var gp=L!==this.determineToolbarType();this.updateVizNavigationTools(e,gp);this.updateRegionBackgroundColor();this.$y();this.$w();this.$l(go);this.isAnimationOccurring=false},updateMapSettings:function(e){this.isMap=e.get_isMap()},updateVizNavigationTools:function(e,L){var go=this.$I;this.updateMapsSearchView();this.get_vizRegion().updateDefaultToolMode();var gp=this.$W;this.$W=e.get_floatingToolbarVisibility();var gq=go!==this.$I;var gr=gp!==this.$W;var gs=gr||gq||L;if(ss.isValue(this.zoomToolbar)&&gs){this.zoomToolbar.dispose();this.zoomToolbar=null}if(this.get_paneTableVM().shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_mapsSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.get_paneTableVM().set_mapsSearchViewModel(new dF(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})));this.mapsSearchView=spiff.ObjectRegistry.newView(dE).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.mapsSearchView.set_isCollapsed(true);this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')}if(!this.$I){this.mapsSearchView.addToDom(this.dom.view);this.$I=true}}else if(ss.isValue(this.mapsSearchView)){if(this.$I){var e=this.mapsSearchView.element[0].parentNode;if(ss.isValue(e)){e.removeChild(this.mapsSearchView.element[0]);this.$I=false}}this.mapsSearchView.set_isCollapsed(true);this.mapsSearchView.set_isVisible(false)}},handlePropertyChanged:function(e,L){switch(L.get_propertyName()){case'vizNavigationSetting':{this.initEventHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_viewModel().get_highlightBorder());break}default:{break}}},updateTooltipMode:function(e){if(ss.isValue(this.vizTooltip)&&e.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$A:function(e){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$U)){return}this.dom.title.css('display','');var L=new eW(e.get_titleModel());L.options=new eT(!tsConfig.is_authoring);var go=L;this.$U=new eV(go);this.$T='title'+this.$e();this.$U.element.attr('id',this.$T);this.$U.addToDom(this.dom.title)}else if(ss.isValue(this.$U)){this.dom.title.css('display','none');this.$U.get_viewModel().dispose();this.$U=null}},$v:function(e){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$E)){return}this.dom.caption.css('display','');var L=new eW(e.get_captionModel());L.options=new eT(!tsConfig.is_authoring);var go=L;this.$E=new eV(go);this.$D='caption'+this.$e();this.$E.element.attr('id',this.$D);this.$E.addToDom(this.dom.caption)}else if(ss.isValue(this.$E)){this.dom.caption.css('display','none');this.$E.get_viewModel().dispose();this.$E=null}},$u:function(){if(ss.isNullOrUndefined(this.$H)){var e='instructions'+this.$e();this.$H=$('<div/>').attr('id',e).css('display','none');this.$H.appendTo(this.dom.enclosingDiv)}var L=tab.Strings.AccessibilityClearSelectionInstructions+' '+(dW.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$H.text(L)},$t:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',this.$D+' '+(ss.isValue(this.$H)?this.$H[0].id:''));if(this.get_paneTableVM().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$T)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$r:function(){var e=this.dom.view;e.focus(ss.mkdel(this,function(L){if(!spiff.FocusManager.wasFocusedByClick()){tab.SelectionClientCommands.setActiveZone(this.get_viewModel().get_zonePresModel().BCp,null)}this.$u()}));e.keydown(ss.mkdel(this,function(L){if(L.which===13&&dW.isViewDataAccessEnabled()){L.preventDefault();L.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(L.which===27){L.preventDefault();L.stopPropagation();this.clearSelection()}}))},$e:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetid())},$y:function(){if(tab.FeatureFlags.isEnabled('MapScaleBar')){if(this.isMap){var e=ss.isNullOrUndefined(this.get_paneTableVM().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$L);if(e&&ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().set_mapScaleViewModel(new dD(this.get_paneTableVM().get_mapServerModel().get_mapScaleInfoModel()));this.$L=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[dD,dC,Object])).call(null,[this.get_viewModel().get_mapScaleViewModel()]);this.$L.addToDom(this.dom.view)}}else if(ss.isValue(this.$L)){this.$L.dispose();this.$L=null}}},$w:function(){var e=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(e)&&e.get_hasPresModel()&&e.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$K)){this.$K=new dB;this.$K.attributionBackground.css('background-color',e.get_attributionBGColor());this.$K.attributionLink.text(e.get_attributionText());this.$K.attributionLink.css('color',e.get_attributionTextColor());this.$K.attributionLink.css('font-size',e.get_attributionTextSize());this.$K.attributionLink.attr('href',e.get_attributionUrl());this.$K.attributionLink.attr('target','_blank');this.dom.view.append(this.$K.domRoot);this.$x()}}else if(ss.isValue(this.$K)){this.$K.dispose();this.$K=null}},$x:function(){if(ss.isValue(this.$K)){var e=1;var L=1;var go=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var gp=this.get_vizRegion().get_contentProvider().get_docSize();var gq=Math.min(0,go.h+this.$Q.y-gp.h);gq+=e;var gr=Math.min(0,-this.$Q.x);gr+=L;this.$K.domRoot.css('bottom',gq+'px');this.$K.domRoot.css('left',gr+'px')}},$i:function(){var e=this.get_paneTableVM().get_cacheUrlInfo();this.refreshImages(e)},$z:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var e=this.listNonVizRegions();this.get_vizRegion().$2();var L=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(L.moveNext()){var go=L.current();var gp=tab.ModelUtils.visualPartToRegionMap[go];if(ss.isValue(gp)&&ss.isValue(this.regions[gp])){var gq=this.regions[gp].get_contentProvider();if(!ss.isNullOrUndefined(gq)&&!ss.referenceEquals(gq.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[go])){gq.destroy();gq=null}if(ss.isNullOrUndefined(gq)){var gr=e[gp];if(ss.isValue(gr)){var gs=this.get_paneTableVM().get_vizRegionMap()[go];var gt=new eI(gs,this.getDomNodeForContentRegion(gr),this.get_paneTableVM());gr.find('.tvimagesContainer').append(gt.element);this.updateRegionContentProvider(gp,gt);gt.invalidate(false);this.$C=null}}else{this.regions[gp].$2()}}}}finally{L.dispose()}var gu=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(gu.moveNext()){var gv=gu.current();var gw=tab.ModelUtils.visualPartToRegionMap[gv];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),gv)&&ss.isValue(this.regions[gw])&&ss.isValue(this.regions[gw].get_contentProvider())){this.regions[gw].get_contentProvider().destroy();this.regions[gw].set_contentProvider(null)}}}finally{gu.dispose()}}},$f:function(){return this.$S+'Z'+this.$P},showFloatingZoomToolbar:function(e){if(e&&this.$W!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.get_paneTableVM().shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(e)}},determineToolbarType:function(){var e='fullToolbar';if(this.$W!=='show'&&(this.$W!=='auto'||!this.allowPanZoom())){e='homeOnlyToolbar'}else if(!this.allowPanZoom()){e='disablePanZoomToolbar'}return e},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}this.zoomToolbar=this.makeFloatingZoomToolbar(this.dom.view)},handleMoveMapToBounds:function(e){if(ss.isValue(this.get_vizRegion())&&tab.FeatureParamsLookup.getBool(19)){this.get_vizRegion().moveMapToBounds(e)}},$9:function(){var e={tap:ss.mkdel(this,function(go){go.stopPropagation();go.preventDefault();this.clearSelection()})};var L=ss.mkdel(this,function(go){this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(go.get(0),e))});L(this.dom.topLeftSpacer);L(this.dom.topRightSpacer);L(this.dom.bottomLeftSpacer);L(this.dom.bottomRightSpacer);L(this.dom.title);L(this.dom.caption)},$j:function(){fK.add_selectionChanged(ss.mkdel(this,this.$k));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fK.remove_selectionChanged(ss.mkdel(this,this.$k))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var e=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValid()){this.$i()}},checkForSuppressTooltipsAndOverlays:function(e){var L=$(e);var go=L.hasClass('tabSuppressVizTooltipsAndOverlays')||L.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(go){this.disposeOfOverlayImages();var gp=this.get_vizToolTip();gp.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(go)},$c:function(){if(ss.isNullOrUndefined(this.vizTooltip)){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}}},ss.makeGenericType(spiff.BaseView$1,[dX]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[dX])]);ss.initClass(dX,a,{add_vizRegionMapChange:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_vizRegionMapChange:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newPaneTable:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newPaneTable:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_textUpdated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_textUpdated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_zoneGeometryChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_zoneGeometryChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_differentMarkBrushing:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_differentMarkBrushing:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_differentMarkSelection:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_differentMarkSelection:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_scene:function(){return this.$s},get_vizRegionMap:function(){return this.$w},get_refLineVisualLists:function(){return this.$k().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$k().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$k().get_drawFirstParts()},get_drawLastParts:function(){return this.$k().get_drawLastParts()},get_zonePresModel:function(){return this.$v.get_zone().pm},get_sheetId:function(){return this.$u},get_sortIndicators:function(){return this.$v.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_selectionsModel:function(){return this.$v.get_selectionsModel()},get_cacheUrlInfo:function(){return this.$v.get_cacheUrlInfo()},get_hasTitle:function(){return this.get_zonePresModel().yqe},get_hasCaption:function(){return this.get_zonePresModel().ElQ},get_visualModel:function(){return this.$v},$k:function(){return this.$v.get_sceneModel()},get_visualId:function(){return this.$v.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_mapsSearchViewModel:function(){return this.$q},set_mapsSearchViewModel:function(e){this.$q=e},get_mapScaleViewModel:function(){return this.$p},set_mapScaleViewModel:function(e){this.$p=e},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(e){if(this.borderHighlighted===e){return}this.borderHighlighted=e;this.notifyPropertyChanged('borderHighlight')},dispose:function(){if(ss.isValue(this.$q)){this.$q.dispose()}if(ss.isValue(this.$p)){this.$p.dispose()}if(ss.isValue(this.$v)){if(ss.isValue(this.$v.get_selectionsModel().tupleSelection)){this.$v.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$v.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$v.get_brushingsModel().tupleSelection)){this.$v.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$v.get_sceneModel())){this.$v.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$v.get_labelsModel())){this.$v.get_labelsModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$v.get_zone())){this.$v.get_zone().remove_resizeZone(ss.mkdel(this,this.$f))}this.$v.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$v.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$v.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$v.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$v.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$v.remove_newVisual(ss.mkdel(this,this.$d));this.$v.remove_newVisual(ss.mkdel(this,this.$a));this.$v.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$m=tab.MiscUtil.dispose$1(this.$m)}var e=new ss.ObjectEnumerator(this.$w);try{while(e.moveNext()){var L=e.current();L.value.dispose()}}finally{e.dispose()}spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var e=this.$o;this.$o=[];return e},$9:function(){this.notifyPropertyChanged('images')},$e:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var e=this.$v.get_selectionsModel().computeSelectionsDiff(this.$t,this.$n,this.$v.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$6,null)&&dX.$0(e,this.$v.get_selectionsModel(),this.$v.get_impliedSelectionModel())){this.$2$6()}this.$t=this.$v.get_selectionsModel().createSelectionsToken();this.$n=this.$v.get_impliedSelectionModel().createSelectionToken();this.$i(e,'selection')},$3:function(){var e=this.$v.get_brushingsModel().computeSelectionsDiff(this.$l,null,null);if(!ss.staticEquals(this.$2$5,null)&&dX.$0(e,this.$v.get_brushingsModel(),null)){this.$2$5()}this.$l=this.$v.get_brushingsModel().createSelectionsToken();this.$s.$i(this.$v.get_emptyHighlightFogAll());this.$i(e,'brushing')},$i:function(e,L){if(!e.get_invalidateViz()){if(e.get_objectIds().length===0){return}var go=this.$s.$9(e.get_objectIds());this.$2(go)}this.notifyPropertyChanged(L)},$4:function(){this.$s.$j(this.$v.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$f:function(){this.raiseActionEvent(this.$2$4)},$6:function(){this.$s.$i(this.$v.get_emptyHighlightFogAll());this.$r=true},$8:function(){var e=tab.SelectionsModel.computeTupleDictionaryDifference(this.$v.get_hiddenTuples(),this.$s.get_hiddenTuples());if(e.length===0){return}var L=this.$s.$9(e);this.$2(L);this.$s.set_hiddenTuples(this.$v.get_hiddenTuples());this.notifyPropertyChanged('scene')},$7:function(){var e=tab.SelectionsModel.computeTupleDictionaryDifference(this.$v.get_filteredTuples(),this.$s.get_filteredTuples());if(e.length===0){return}var L=this.$s.$9(e);this.$2(L);this.$s.set_filteredTuples(this.$v.get_filteredTuples());this.notifyPropertyChanged('scene')},$5:function(){this.$r=true},$2:function(e){ss.arrayAddRange(this.$o,e)},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var e=false;var L=ss.getEnumerator(Object.keys(this.$k().get_visualListModels()));try{while(L.moveNext()){var go=L.current();var gp=this.$k().get_visualListModels()[go];var gq=this.$w[go];if(ss.isValue(gq)&&ss.referenceEquals(gq.get_visualList(),gp)){}else{tab.MiscUtil.dispose$1(this.$w[go]);delete this.$w[go];if(ss.contains(dX.blackListVisualParts,go)){this.$w[go]=new fM(gp,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[go],this.$v.get_selectionsModel(),this.$v.get_brushingsModel())}else{this.$w[go]=new fM(gp,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[go],null,null)}e=true}}}finally{L.dispose()}var gr=Object.keys(this.$w);var gs=ss.getEnumerator(gr);try{while(gs.moveNext()){var gt=gs.current();if(!ss.keyExists(this.$k().get_visualListModels(),gt)){tab.MiscUtil.dispose$1(this.$w[gt]);delete this.$w[gt];e=true}}}finally{gs.dispose()}var gu=this.$k().get_backgroundColor().toString();var gv=ss.getEnumerator(Object.keys(this.$w));try{while(gv.moveNext()){var gw=gv.current();this.$w[gw].set_defaultBackgroundColor(gu)}}finally{gv.dispose()}if(e){this.$h()}this.$r=true},$d:function(){if(this.$r){this.$j();this.notifyPropertyChanged('scene')}this.$r=false},$h:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$j:function(){dX.updateSceneInfoFromVisualModel(this.$s,this.$v);if(this.$s.customShapes.length>0){this.$m=this.$m||new ex(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$m.initialize(this.$s.customShapes)}if(ss.isValue(this.$v)&&ss.isValue(this.$v.pm)&&ss.isValue(this.$v.pm.LBF)){this.$s.$m(this.$v.pm.LBF,ss.mkdel(this,function(){this.$9()}))}},isInvalidSheet:function(){return _.any(this.$v.get_invalidSheets(),ss.mkdel(this,function(e){return _.isEqual(this.get_visualId(),e)}))},$a:function(){this.raiseActionEvent(this.$2$2)},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$g:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(dY,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:0,h:0}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(e){var L=(e?this.$l:this.$k);var go=L[0].x;var gp=go;var gq=L[0].y;var gr=gq;for(var gs=0;gs<L.length;gs++){var gt=L[gs];if(gt.x<go){go=gt.x}else if(gt.x>gp){gp=gt.x}if(gt.y<gq){gq=gt.y}else if(gt.y>gr){gr=gt.y}}return{x:go,y:gq,w:gp-go,h:gr-gq}},updateSpecificShape:function(e){if(this.$k.length===0){var L=this.get_dragStart().x-this.get_connectNodePos().x;var go=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(L,go)}var gp=e.x;var gq=e.y;this.$d(gp,gq)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(e,L,go,gp){var gq=go.get_objectId();var gr=L.markType;var gs=cN.rectangleAreaHit(L,go.get_boundingBox(),e,gq,gp,gr);if(!gs){return false}var gt=0;var gu=0;if(gp.get_transformType()===3){gt=gp.get_translateX();gu=gp.get_translateY()}var gv=this.$h(gt,gu);if(gp.get_transformType()===1){gv=gp.transformPolygon(gv)}return cN.polyAreaHit(L,go.get_boundingBox(),gv,gq,gp,gr)},sendSelectionCommand:function(e,L,go,gp){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(e,this.get_hitTestingBox(),this.$l,L,go,gp)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new dZ)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),dZ)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(e,L){var go=2;var gp=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(e-ss.unbox(this.$n))<go&&Math.abs(L-ss.unbox(this.$o))<go){return}}var gq=e+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var gr=L+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var gs=e+this.get_totalScrollOffset().x;var gt=L+this.get_totalScrollOffset().y;var gu=false;var gv=false;var gw=false;var gx=this.$l.length;if(this.$m){if(gx>1){var gy=this.$l[gx-1];var gz=this.$l[gx-2];var gA=Math.abs(gs-gz.x);var gB=Math.abs(gs-gy.x);var gC=Math.abs(gt-gz.y);var gD=Math.abs(gt-gy.y);gu=gC<=gp&&gD<=gp;if(gu){gu=dY.$0(gs,gy.x,gz.x)}else{gv=gA<=gp&&gB<=gp;if(gv){gv=dY.$0(gt,gy.y,gz.y)}else{gw=gA*gD===gC*gB&&dY.$0(gs,gy.x,gz.x)}}}}var gE=gx-1;if(gu){this.$k[gE].x=gq;this.$l[gE].x=gs}else if(gv){this.$k[gE].y=gr;this.$l[gE].y=gt}else if(gw){this.$k[gE].x=gq;this.$k[gE].y=gr;this.$l[gE].x=gs;this.$l[gE].y=gt}else{this.$k.push({x:gq,y:gr});this.$l.push({x:gs,y:gt})}this.$p='';var gF=this.get_autoScrollAdjustment();var gG='M';for(var gH=0;gH<this.$k.length;gH++){var gI=this.$k[gH];this.$p+=gG+(gI.x-gF.x)+','+(gI.y-gF.y);gG='L'}this.$n=e;this.$o=L},$h:function(e,L){var go=0;var gp=this.$l.length;var gq=e.toString()+':'+L.toString();var gr=this.$j[gq];if(ss.isNullOrUndefined(gr)){gr=new Array(gp*2);this.$j[gq]=gr}else{go=ss.Int32.div(gr.length,2);if(this.$m){go-=1}gr.length=gp*2}var gs=Math.round(e);var gt=Math.round(L);for(var gu=go,gv=go*2;gu<gp;gu++,gv+=2){var gw=this.$l[gu];gr[gv]=gw.x-gs;gr[gv+1]=gw.y-gt}return gr}},ey);ss.initClass(dZ,a,{saveCurrentState:function(e){if(e.length<this.$1){}this.$0=ss.arrayClone(e)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var e=this.$0[0].y;var L=e;var go=this.$0[0].x;var gp=go;for(var gq=this.$1,gr=this.$0.length;gq<gr;gq++){e=Math.min(e,this.$0[gq].y);L=Math.max(L,this.$0[gq].y);go=Math.min(go,this.$0[gq].x);gp=Math.max(gp,this.$0[gq].x)}var gs=new Array(1);gs[0]=tab.RectXYUtil.nonemptyify({x:go,y:e,w:gp-go,h:L-e});return gs}},ez);ss.initClass(ea,a,{},ss.makeGenericType(spiff.BaseView$1,[eb]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eb])]);ss.initClass(eb,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(ec,a,{setDefaultLabelLookupValues:function(){this.c['label_index']=tab.VisualColumnIterator.create([-1])},addLabelInfo:function(e,L){this.labelColumnIterators=tab.VisualColumnHelpers.parseColumns(e,L.QNi,tab.SceneDataUtil.getNumPaneItems(L));this.transformColumnData(this.labelColumnIterators);var go=this.labelColumnIterators['tuple_id'];var gp=[];if(ss.isValue(go)){var gq=new Array(this.markCount);for(var gr=0;gr<this.markCount;gr++){gq[gr]=-1}for(var gs=0;gs<go.length;gs++){var gt=this.tupleToIndexMap[go.v[(go.c?0:gs)]];if(ss.isValue(gt)){gq[gt]=gs}gp.push(gt)}this.c['label_index']=tab.VisualColumnIterator.create(gq)}go=this.c['tuple_id'];var gu={};var gv=new Array(this.markCount);this.$f(gp,ss.mkdel(this,function(gA,gB){var gC=dS.$1('label',gA,this,gB);gu[go.v[(go.c?0:gA)]]=gC;gv[gA]=gC}));var gw=this.$1(gv);this.markLabelWorldOffsets=gw.$1;this.markLabelInstanceOffsets=gw.$0;var gx;if(ss.keyExists(this.labelColumnIterators,'pane_flags')){var gy=this.labelColumnIterators['pane_flags'];gx=gy.v[(gy.c?0:0)]}else{gx=0}var gz=gx;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(gz,'clip-to-cell-x');this.parseTextInfo(e.MbY,e.Smu,true);this.sceneInfo.$1(this,gu)}},dQ);ec.$ctor1.prototype=ec.prototype;ss.initClass(ed,a,{});ss.initClass(ee,a,{});ss.initClass(ef,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[db]);ss.initClass(eg,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(e){var L=this.get_dragStart().x-this.get_connectNodePos().x;var go=this.get_dragStart().y-this.get_connectNodePos().y;var gp=Math.round(Math.min(e.x,L));var gq=Math.round(Math.max(e.x,L));var gr=Math.round(Math.min(e.y,go));var gs=Math.round(Math.max(e.y,go));var gt=gq-gp;var gu=gs-gr;this.$d={x:gp+this.get_drawOffsets().x,y:gr+this.get_drawOffsets().y,w:gt,h:gu};this.$e={x:gp+this.get_totalScrollOffset().x,y:gr+this.get_totalScrollOffset().y,w:gt,h:gu}},renderShape:function(){var e={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),e);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(e,L,go,gp){return cN.rectangleAreaHit(L,go.get_boundingBox(),e,go.get_objectId(),gp,L.markType)},sendSelectionCommand:function(e,L,go,gp){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(e,this.get_hitTestingBox(),L,go,gp)},retrieveStateObject:function(e){return(this.isStateObjectTypeCorrect(e)?e:new eh)},saveCurrentState:function(e){if(this.isStateObjectTypeCorrect(e)){var L=e;L.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(e){if(ss.isValue(e)){if(ss.referenceEquals(ss.getInstanceType(e),eh)){return true}}return false}},ey);ss.initClass(eh,a,{saveCurrentState:function(e){this.$0=tab.RectXYUtil.clone(e)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var e=new Array(1);e[0]=this.$0;return e}},ez);ss.initClass(ei,a,{$h:function(){return this.get_viewModel()},$g:function(){return this.get_template()},$9:function(){var e=this.$g().$1.val();if(!ss.referenceEquals(e,this.$h().get_constantValue())){tab.PaneClientCommands.setReferenceLineConstantValue(e,this.$h().get_refLineId())}this.$a()},$b:function(){this.$9()},$c:function(){this.$g().$1.attr('tabindex','1');this.$g().$1.attr('value',this.$h().get_constantValue());this.$i=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$9),tab.Strings.DialogButtonOK,'refLineConstantValueEditorButton',0,2);this.$i.addToDom(this.element);this.disposables.add$1(this.$i);this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$d)))},$a:function(){this.$h().dispose()},$d:function(e){switch(e.which){case 27:{this.$a();break}case 108:case 13:{this.$9();break}}},onAddedToDom:function(){this.$f();tab.CommandController.get().add_undoCommand(ss.mkdel(this,this.dispose));this.$g().$1.focus();tab.DomUtil.selectAllInputText(this.$g().$1);spiff.Widget.prototype.onAddedToDom.call(this)},$f:function(){if(ss.isNullOrUndefined(this.$j)){this.$j=new spiff.Glass;this.$j.set_zIndex(988);this.$j.add_click(ss.mkdel(this,this.$b))}this.$j.show()},$e:function(){if(ss.isValue(this.$j)){this.$j.remove_click(ss.mkdel(this,this.$b));this.$j.dispose();this.$j=null}},dispose:function(){this.element.remove();this.$e();tab.CommandController.get().remove_undoCommand(ss.mkdel(this,this.dispose));ss.makeGenericType(spiff.BaseView$1,[ej]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[ej]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ej])]);ss.initClass(ej,a,{get_constantValue:function(){return this.$2.ybD},get_refLineId:function(){return this.$2.hGF}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(ek,a,{});ss.initClass(el,a,{});ss.initClass(em,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var L=0;L<e.length;L++){var go=e[L];if(!ss.keyExists(this.$b,go.woffLocation)){var gp=this.$1(go);this.$b[go.woffLocation]=new k(gp)}var gq=this.$b[go.woffLocation];if(!_.contains(gq.$2,go)&&!_.contains(gq.$1,go)){this.$b[go.woffLocation].$2.push(go)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=em.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(em.$2).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var L=0;L<e.length;L++){var go=e[L];if(ss.isValue(go.$3)&&!ss.referenceEquals(go.$3[0].parentElement,document.body)){go.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var go=e[L];if(ss.isNullOrUndefined(go.$3)){continue}this.$9.font='100% '+go.$0;var gp=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!em.$1(go.$3,this.$8)&&gp===tab.DoubleUtil.roundToInt(go.$3.width())){go.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var go=e[L];if(ss.isValue(go.$3)){return false}}return true},$1:function(e){var L="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var go=new cf;go.set_fontFamily(L);go.woffLocation=e.woffLocation;var gp=go;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',gp.toCSSRules());var gq=em.$0('tab-hiddenFontMeasurer',[gp.get_fontFamily(),"'Courier New', Monaco, monospace"]);return gq},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var L=0;L<e.length;L++){var go=e[L];while(go.$2.length>0){var gp=go.$2.pop();go.$1.push(gp);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',gp.toCSSRules())}}this.$5()}},null,[cZ]);ss.initClass(en,a,{});ss.initClass(eo,a,{});ss.initClass(ep,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eq,a,{get_dom:function(){return this.get_template()},$a:function(){this.$c();this.$b()},$9:function(){this.$c();this.$b()},$b:function(){var e={position:'absolute',top:this.$e.get_drawerTopOffset()+'px',right:this.$e.get_drawerRightOffset()+'px',width:this.$e.get_drawerWidth()+'px',height:this.$e.get_drawerHeight()+'px',visibility:'visible'};this.get_dom().drawerContainer.css(e)},$c:function(){tab.MiscUtil.dispose$1(this.$d);this.$d=spiff.ObjectRegistry.newView$1(ss.makeGenericType(spiff.IView$1,[spiff.IViewModel])).call(null,this.$e.get_content().get_viewType(),[this.$e.get_content().get_viewModel()]);this.$d.addToDom(this.get_dom().drawerContainer)}},ss.makeGenericType(spiff.BaseView$1,[er]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[er])]);ss.initClass(er,a,{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_content:function(){return this.$3},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerHeight:function(){return W.getClientBounds().h+this.$2()},get_drawerTopOffset:function(){return W.getClientBounds().t-this.$2()},get_drawerRightOffset:function(){return 0},$2:function(){var e=0;if(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()&&ss.isValue(T.get_instance().get_tabbedNavigation())){e=T.get_instance().get_tabHeight()}return e},get_isOpen:function(){return this.$4},toggle:function(){if(this.$4){this.closeDrawer()}else{this.openDrawer()}},openDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(320));this.raiseActionEvent(this.$2$1);this.$4=true},closeDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(0));this.raiseActionEvent(this.$2$2);this.$4=false}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(es,a,{});ss.initClass(et,a,{$p:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},$o:function(){return this.$x||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$w)&&!this.$w.isEmpty||this.$r},get_imageDictionary:function(){return this.$u},get_hiddenTuples:function(){return this.$v},set_hiddenTuples:function(e){this.$v=e||{}},get_isSingleUserPane:function(){return this.scene.HUq.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$s},set_filteredTuples:function(e){this.$s=e||{}},$l:function(e,L,go,gp,gq,gr,gs){ss.clearKeys(this.$z);ss.clearKeys(this.$t);ss.clearKeys(this.$y);ss.clearKeys(this.$B);ss.clearKeys(this.$A);this.sceneUserPaneInfo=null;this.scene=e;if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$n=e.f_c;this.$q=e.eDc}this.set_hiddenTuples(gr);this.set_filteredTuples(gs);if(ss.isValue(e)&&(ss.isValue(e.ObZ)||ss.isValue(e.pd))){var gt=null;if(ss.isValue(e.pd)){gt=tab.RuntimeUtil.constructRuntimeData(e.pd,e.SBs,e.SVa);e.ObZ=gt.getPDMarksPresModels()}this.customShapes=et.extractCustomShapes(e);this.$g(e);if(ss.isValue(e.HUq)){if(ss.isValue(e.$Ww)){this.sceneUserPaneInfo=new eu.$0(e.$Ww)}for(var gu=0;gu<e.HUq.length;gu++){var gv=e.HUq[gu];for(var gw=0;gw<gv.MdI.length;gw++){var gx=gv.MdI[gw];if(ss.isValue(gx.SgS)){var gy=gx.SgS;var gz=gy.fDN;var gA=this.scene.ObZ[gz];var gB=et.getPaneMarksKey(gy);var gC=dR.create(gz,this,gv,gy,gA,gq,gB,null);this.$B[gB]=gC}}}}}if(ss.isValue(L)){this.selections=L;this.$w=go}if(ss.isValue(gp)){this.brushings=gp}this.colorModel=dk.extractInteractionColors(this.scene)},getMarkBoundingBox:function(e){if(ss.keyExists(this.$z,e)){return this.$z[e]}else{return et.$1}},$7:function(e,L){if(ss.keyExists(this.$A,e)&&L>=0&&L<this.$A[e].length){return this.$A[e][L]}return null},computeFilteredMarks:function(e){var L=new Set;var go=ss.getKeyCount(this.$s);if(go===0){return L}for(var gp=0;gp<e.length;gp++){var gq=e.v[(e.c?0:gp)];if(ss.keyExists(this.$s,gq.toString())){L.add(gp);if(L.size===go){break}}}return L},computeTupleStates:function(e){var L=this.$p();var go=this.selections;var gp=(ss.isValue(go)?go.tupleSelection:null);var gq=new Set;if(ss.isValue(gp)){tab.SetUtilities.addAll(ss.Int32).call(null,gq,gp.get_ids())}var gr=this.$o();var gs=this.brushings;var gt=(ss.isValue(gs)?gs.tupleSelection:null);var gu=new Set;if(ss.isValue(gt)){tab.SetUtilities.addAll(ss.Int32).call(null,gu,gt.get_ids())}var gv=new Set;if(ss.isValue(this.$w)){tab.SetUtilities.addAll(ss.Int32).call(null,gv,this.$w.get_ids())}var gw=e.length;var gx=new Array(gw);for(var gy=0;gy<gw;gy++){var gz=e.v[(e.c?0:gy)];var gA='markStateNormal';if(ss.keyExists(this.$v,gz)){gA='markStateInvisible'}else if(L&&gq.has(gz)){gA='markStateSelected'}else if(gr&&(gu.has(gz)||gv.has(gz))){gA='markStateHighlighted'}gx[gy]=gA}return gx},prepareForDraw:function(e){this.$4(e);this.$h()},cleanupFromDraw:function(){this.$3()},$6:function(e){if(ss.keyExists(this.$y,e)){return this.$y[e]}else{return et.$1}},$9:function(e){var L=[];for(var go=0;go<e.length;go++){var gp=e[go];var gq=this.$8(gp);for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];L.push(gs)}}return L},$8:function(e){var L=false;var go=[];for(var gp=0;gp<this.scene.HUq.length;gp++){var gq=this.scene.HUq[gp];if(gq.YVl.length>0){L=true;break}}var gr=this.getPaneDrawInfoFromTupleId(e);if(ss.isNullOrUndefined(gr)){return go}var gs=gr.markType;if(L){go.push(gr.paneRect)}else if(gs==='area'||gs==='line'){go.push(gr.paneRect)}else{var gt=this.$5(e);var gu=gr.getWorldOffsetBounds(gt);for(var gv=0;gv<gu.length;gv++){var gw=gu[gv];go.push(gw)}var gx=this.$6(e);if(!tab.RectXYUtil.isNull(gx)){var gy=gr.getWorldOffsetBounds(gx);for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];go.push(gA)}}}return go},$m:function(e,L){if(ss.isValue(e)&&ss.isValue(e.t$x)){var go=new ss.ObjectEnumerator(e.t$x);try{while(go.moveNext()){var gp=go.current();var gq=gp.key;if(!ss.keyExists(this.$u,gq)){var gr=gp.value;var gs={$:document.createElement('img')};gs.$.src='data:image/jpeg;base64,'+gr;this.$u[gq]=gs.$;var gt={$:null};gt.$=ss.mkdel({imgElt:gs,imageFinishedLoad:gt},function(){if(ss.isValue(L)){L()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});gs.$.addEventListener('load',gt.$,false)}}}finally{go.dispose()}var gu=ss.getEnumerator(Object.keys(this.$u));try{while(gu.moveNext()){var gv=gu.current();if(!ss.keyExists(e.t$x,gv)){delete this.$u[gv]}}}finally{gu.dispose()}}},$e:function(e){return this.$p()&&this.selections.tupleSelection.isObjectSelected(e)},$b:function(e){return this.$o()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(e)||this.$d(e))},$d:function(e){return ss.isValue(this.$w)&&this.$w.isObjectSelected(e)},$f:function(e){return!ss.keyExists(this.$v,e.toString())},$c:function(e){return ss.keyExists(this.$s,e.toString())},$k:function(e){if(ss.isValue(e)&&ss.isValue(e.HUq)){for(var L=0;L<e.HUq.length;L++){var go=e.HUq[L];for(var gp=0;gp<go.MdI.length;gp++){var gq=go.MdI[gp];if(ss.isValue(gq.SgS)){var gr=gq.SgS;var gs=et.getPaneMarksKey(gr);if(ss.isValue(ss.keyExists(this.$B,gs))){var gt=this.$B[gs];var gu=gr.fDN;var gv=e.ObZ[gu];gt.addLabelInfo(gv,gr)}}}}}},$a:function(e){var L=null;if(ss.isValue(e)){L=this.$B[et.getPaneMarksKey(e)]}return L},getPaneDrawInfoFromKey:function(e){return this.$B[e]},getPaneDrawInfoFromTupleId:function(e){var L=_.keys(this.$B);for(var go=0;go<L.length;go++){var gp=L[go];var gq=this.$B[gp];if(gq.containsTuple(e)){return gq}}return null},$j:function(e){this.$x=e},$i:function(e){this.$r=e},$2:function(e,L){et.$0(e,L,this.$z)},$1:function(e,L){et.$0(e,L,this.$y)},$0:function(e,L,go){tab.RectXYUtil.offsetRectXYInPlace(L,e.paneRect.x,e.paneRect.y);for(var gp=0;gp<go.length;gp++){var gq=go[gp];this.$t[gq]=L}},$g:function(e){if(!ss.isValue(e)||!ss.isValue(e.ObZ)){return}var L=Object.keys(e.ObZ);var go=ss.getEnumerator(L);try{while(go.moveNext()){var gp=go.current();var gq=e.ObZ[gp];var gr=gq.qOh;if(!ss.isValue(gr)){continue}var gs=gq.LTd['pane_flags'];var gt=tab.SceneDataUtil.isPaneFlagSet(gs,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(gs,'enable-scale-y');var gu=null;var gv=null;var gw=false;if(gt){for(var gx=0;gx<e.HUq.length;gx++){var gy=e.HUq[gx];for(var gz=0;gz<gy.MdI.length;gz++){var gA=gy.MdI[gz];var gB=gA.SgS;if(ss.isValue(gB)&&ss.referenceEquals(gB.fDN,gp)){gu=tab.RecordCast.doubleRectPresModelAsDoubleRectXY(gB.NQL);gv={x:0,y:0,w:gB.wyR.rec,h:gB.wyR.EUR};gw=true;break}}if(gw){break}}}var gC=gr.length;var gD=new Array(gC);for(var gE=0;gE<gC;gE++){var gF=gr[gE];gD[gE]=null;if(tab.MiscUtil.isNullOrEmpty$1(gF)){continue}var gG=JSON.parse(gF);if(cF.isGeometryPresModelFeatureEmpty(gG)){continue}gG=tab.RleDecoder.decode(gG);if(gt&&gw){cF.domainToPixelGeometry(gG,gu,gv,true)}gD[gE]=gG}this.$A[gp]=gD}}finally{go.dispose()}},$5:function(e){var L=this.$t[e];if(ss.isNullOrUndefined(L)){L=this.getMarkBoundingBox(e)}return L},$4:function(e){var L=_.keys(this.$B);for(var go=0;go<L.length;go++){var gp=L[go];var gq=this.$B[gp];gq.computeDirtyMarks(e)}},$3:function(){var e=_.keys(this.$B);for(var L=0;L<e.length;L++){var go=e[L];var gp=this.$B[go];gp.clearDirtyMarks()}},$h:function(){var e=_.keys(this.$B);for(var L=0;L<e.length;L++){var go=e[L];var gp=this.$B[go];gp.refreshMarkState()}}});ss.initClass(eu,a,{});eu.$1.prototype=eu.$0.prototype=eu.prototype;ss.initClass(ev,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},initialize:function(){this.$4.reset();this.$7=false;this.$3=bq.get_instance().hold(1)},registerServerLoadedFonts:function(e){for(var L=0;L<e.length;L++){var go=e[L];var gp=go.get_hash();if(!ss.keyExists(this.$5,gp)){this.$5[gp]=go}}},notifyDownloadableFont:function(e){if(this.$7){return}var L=[];for(var go=0;go<e.length;go++){var gp=e[go];var gq=gp.get_hash();if(ss.keyExists(this.$5,gq)){L.push(this.$5[gq])}}if(ss.isValue(L)&&L.length>0){this.$4.addFonts(L)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$4.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$7=true;this.$4.finishDownloadingFonts()},$0:function(){this.$6=true},$1:function(){cy.logFontsLoaded();if(this.$6){this.$2();this.$6=false}if(ss.isValue(this.$3)){this.$3.dispose()}},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(ew,a,{hitTest:function(e,L){var go=new tab.HitTestSceneCmd;go.c['WAe']=tab.PointUtil.toPresModel(e);go.c['J_M']=this.region.get_visualId();go.invoke().done(ss.mkdel(this,function(gp){var gq=gp.$c['LB$'];if(ss.isValue(gq)&&gq.length>0){var gr=new tab.SceneElementModel(gq[0]);var gs=gr.get_paneId();var gt=this.makePaneSpecId(gs.get_columnIndex(),gs.get_rowIndex());var gu=new cO(gr);this.set_current(new fS(this.region,gt,gs.get_columnIndex(),gs.get_rowIndex(),e,L,gu))}else{this.set_current(null)}}))}},fT,[ss.IDisposable]);ss.initClass(ex,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(e){this.$3.clear();for(var L=0;L<e.length;L++){var go=e[L];this.$0(go)}this.$1()},$0:function(e){if(tab.SceneDataUtil.isCustomShape(e)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(e)){this.$3.add(e)}},onShapeLoaded:function(e){if(!this.$3.has(e)){return}this.$3.delete(e);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(eA,a,{});ss.initClass(eB,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eE,eC,Object]));ss.initClass(eC,a,{});ss.initClass(eD,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eE,a,{get_dom:function(){return this.get_template()},$9:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var L=$("\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>");if(this.$g.get_allowSharingDifferentViews()){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"));this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}this.get_dom().shareArea.append(L);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(gs){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(gs){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$g.get_shouldShowSocialShareOptions()){var go=new spiff.IconButton;go.addClass('tab-shareIconButton');go.addClass('tab-shareSocialMail');go.setIcon('tab-shareMailIcon');go.onClick(ss.mkdel(this,function(gs){this.$g.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(go.element);var gp=$("<div class='tab-shareIconButton tab-shareSocialTwitter'/>");gp.click(ss.mkdel(this,function(gs){this.$g.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(gp);var gq=$("<div class='tab-shareIconButton tab-shareSocialFacebook'/>");gq.click(ss.mkdel(this,function(gs){this.$g.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(gq)}else{var gr=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$g,this.$g.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(gr.element)}},$d:function(){this.get_dom().shareLinkTitle.html(this.$g.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$g.get_embedLabel());this.$b();this.$e()},$b:function(){if(!this.$g.get_allowSharingDifferentViews()){return}var e;var L;if(this.$f){var go=$("<input type='radio' name='state' checked>"+this.$g.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(go);this.get_dom().shareCurrentView.addClass('narrow');var gp=$("<input type='radio' name='state'>"+this.$g.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(gp);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(go);L=new spiff.ToggleButton(gp);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$g.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$g.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView);L=new spiff.ToggleButton(this.get_dom().shareOriginalView)}var gq=new spiff.SelectableGroup;gq.addItem(e);gq.addItem(L);gq.selectItem(e);this.$g.set_shouldShareOriginalView(false);L.add_propertyChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_propertyChanged(ss.mkdel(this,this.$c))})));this.disposables.add$1(gq)},$c:function(e,L){if(L.get_propertyName()==='selected'){this.$g.set_shouldShareOriginalView(e.get_selected());this.$e()}},$e:function(){var e=this.$g.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var L=this.$g.generateShareUrl();this.get_dom().shareLinkInput.val(L);this.get_dom().shareLinkSection.show()}this.$g.generateEmbedCode().always(ss.mkdel(this,function(go){this.get_dom().shareEmbedInput.val(go)}))},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)},$a:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[eF]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eF])]);ss.initClass(eF,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},get_viewType:function(){return eE},get_viewModel:function(){return this},get_dialogProps:function(){var e=tab.Strings.ToolbarShare;var L=new eC;L.viewModel=this;return{title:e,testId:'share',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(eB,L)}},get_allowSharingDifferentViews:function(){if(!fk.$0()||!tsConfig.statefulURL){return false}if(this.$9()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$a},set_shouldShareOriginalView:function(e){this.$a=e},get_shouldShowSocialShareOptions:function(){return fk.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$9:function(){return!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().get_legacySession().saveSharedView('',e,function(){})}},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=eF.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=eF.$3(e,tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=eF.$3(e,fk.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=eF.$3(e,false,false,'size');e=eF.$3(e,false,false,'commentingEnabled');e=eF.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var L=tab.XhrUtil.guid;var go=(tsConfig.single_frame?window.location:window.parent.location);var gp=(tsConfig.forceHttpsForPublicEmbed?'https:':go.protocol);var gq=gp+'//'+go.hostname+eF.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$1(L)){e=gq+L}else if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)){e=gq+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation();var L=tableau.util.parseUri(e.get_absoluteUri());var go=eF.$6(L);var gp=this.$3(this.$7());var gq=tableau.format.escapeHTML(eF.$4());var gr;var gs=tab.ModelUtils.findContentDashboard();if(gs.get_isDashboard()&&gs.get_deviceLayouts().length>0){gr=eF.$0()}else{var gt=tab.DashboardCommands.getCurrentSheetSizeConstraints().pipe(function(gu){return eF.$1(gu,0.75)},function(gu){return''});gr=gt}return gr.pipe(ss.mkdel(this,function(gu){return this.$2(go,gp,gq,gu)}),function(gu){return''})},$3:function(e){var L='';if(!tab.MiscUtil.isNullOrEmpty$1(e)){var go=tableau.format.escapeHTML;var gp=ss.coalesce(this.$6(),'#');L="<noscript><a href='"+go(gp)+"'>"+"<img alt='"+go(tsConfig.embeddedTitle)+" ' src='"+go(e)+"' style='border: none' /></a></noscript>"}return L},$2:function(e,L,go,gp){var gq="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var gr=ss.formatString(gq,go,gp,e);var gs=(tsConfig.single_frame?window.location:window.parent.location);var gt=this.$8(gs,this.$7(),'');var gu=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",go,L,gt);return gu+gr},generateEmbedCode:function(){if(tab.FeatureFlags.isEnabled('APIBasedEmbedCode')){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var L=(tsConfig.single_frame?window.location:window.parent.location);var go=tableau.format.escapeHTML;var gp=this.$6();var gq=tsConfig.embeddedTitle;var gr=this.$7();var gs=this.$4();var gt=eF.$8(L);var gu="width='"+gs.w+"' height='"+gs.h+"'";var gv=this.$8(L,gr,gu);var gw=ss.coalesce(gp,'#');var gx='';if(!tab.MiscUtil.isNullOrEmpty$1(gr)){gx="<noscript><a href='"+go(gw)+"'>"+"<img alt='"+go(gq)+" ' src='"+go(gr)+"' style='border: none' /></a></noscript>"}var gy=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",gs.w,gs.h,gx,gv);var gz=gt+gy;return e.resolve(gz).promise()},$8:function(e,L,go){var gp=tabBootstrap.ViewerBootstrap.get_instance().location.search;var gq=tsConfig.repositoryUrl;var gr=tsConfig.site_root;var gs=tableau.format.escapeHTML;var gt="<object class='tableauViz' "+go+" style='display:none;'>";var gu=ss.arrayClone(eF.$e);gu.push('embed');gu.push('show_tabs');gu.push('loadOrderID');var gv=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);gt+="<param name='host_url' value='"+gs(encodeURIComponent(gv+'//'+e.host+'/'))+"' /> ";gu.push('host_url');if(!this.get_allowSharingDifferentViews()){gt+="<param name='site_root' value='"+gs(gr)+"' />";gt+="<param name='name' value='"+gs(gq)+"' />";gu.push('site_root');gu.push('name');gt+="<param name='tabs' value='"+(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()?'yes':'no')+"' />";gu.push('tabs')}else{var gw=this.generateShareBaseUrl();gt+="<param name='path' value='"+gs(ss.replaceAllString(gw,gv+'//'+e.hostname+'/',''))+"' /> ";gu.push('path')}gt+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";gu.push('toolbar');if(fk.$0()){if(!tab.MiscUtil.isNullOrEmpty$1(L)){var gx=ss.replaceAllString(L,'_rss.png','.png');gt+="<param name='static_image' value='"+gs(gx)+"' /> "}gt+="<param name='animate_transition' value='yes' />";gt+="<param name='display_static_image' value='yes' />";gt+="<param name='display_spinner' value='yes' />";gt+="<param name='display_overlay' value='yes' />";gt+="<param name='display_count' value='yes' />";gu.push('animate_transition');gu.push('display_static_image');gu.push('display_spinner');gu.push('display_overlay');gu.push('display_count')}if(gp.length>0){var gy=gp.substr(1).split('&');for(var gz=0;gz<gy.length;gz++){var gA=gy[gz].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var gB;var gC;if(ss.isValue(gA)&&gA.length===4){gB=gA[2];gC=gA[3]}else{gB='filter';gC=gy[gz]}if(!tab.MiscUtil.isNullOrEmpty$1(gB)&&!ss.contains(gu,gB)){gt+="<param name='"+gs(gB)+"' value='"+gs(gC)+"' />"}}}gt+='</object>';return gt},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},doSendEmailAction:function(){eL.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){eL.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,eF.$7())},doTwitterShareAction:function(){eL.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var L=tsConfig.staticImage;if(!ss.isValue(L)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var go=L.indexOf('/images/')+8;var gp=L.substr(0,go);L=gp+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(L,'https')){L.replace('http','https')}return L},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var L=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;e+=4;L+=eF.$5();return{w:e,h:L}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var L=this.$7();var go=L.split(String.fromCharCode(47));go[go.length-1]='thumb.png';var gp=go.join('/');gp+='?vizqlid='+tab.CommandController.get().get_legacySession().get_id();return gp}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,cV]);ss.initClass(eG,a,{},ss.EventArgs);ss.initClass(eH,a,{},eG);ss.initClass(eI,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$o.get_visualModel().get_backgroundColor()},performRender:function(){var e=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$o.get_scene().get_imageDictionary())}finally{if(ss.isValue(e)){e.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().$a(this.get_visualListVM())},onViewModelPropertyChanged:function(e,L){if(L.get_propertyName()==='HoverNode'){var go={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(go),true)}else{ss.makeGenericType(fQ,[fM]).prototype.onViewModelPropertyChanged.call(this,e,L)}}},ss.makeGenericType(fQ,[fM]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fM]),spiff.IScrollable,dl]);ss.initClass(eJ,a,{render:function(){var e=this.buildCommonDialogProps();var L=React.createElement(SharedWidgets.DialogWidget,e);return L},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var L=React.DOM.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass});e.children=L;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var L='<br/>';e=ss.replaceAllString(e,'<br>',L);e=ss.replaceAllString(e,'\n',L);var go=e.split(L);var gp=[];var gq=eJ.textArea.value();for(var gr=0;gr<go.length;gr++){var gs=go[gr];gq.innerHTML=gs;var gt=React.DOM.p({children:gq.textContent});gp.push(gt)}return gp},$1:function(e){var L={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var go=0;go<this.props.dialogButtons.length;go++){var gp=this.props.dialogButtons[go];this.$0(gp,L)}}if(L.buttons.length>0){var gq=React.createElement(SharedWidgets.DialogFooterButtonsWidget,L);e.footerContent=gq;e.showFooter=true}},$0:function(e,L){var go={handleClick:ss.mkdel(this,function(){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,label:e.buttonText};L.buttons.push(go)}},React.Component);ss.initClass(eK,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,L,go,gp){if(go){this.$9.close()}else if(ss.isValue(gp)&&gp&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,L){},showTooltip:function(e){if(spiff.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var L=this.$9.get_lastLocation()||{x:0,y:0};var go={x:e.pageX,y:e.pageY};this.$9.set_lastLocation(go);this.$9.move(go);var gp=tab.PointUtil.distance(L,this.$9.get_lastLocation());if(gp>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(go);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:e.offsetX+e.target.offsetLeft,y:e.offsetY+e.target.offsetTop})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,L){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[ds,ss.IDisposable]);ss.initClass(eL,a,{});ss.initClass(eM,a,{handleWidgetPropertyChanged:function(e,L){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eO,eN,Object]));ss.initClass(eN,a,{});ss.initClass(eO,a,{get_dom:function(){return this.get_template()},dispose:function(){this.$y.remove_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$y.remove_subscribersChanged(ss.mkdel(this,this.$h));this.$y.remove_addSubscribersPopupStateChanged(ss.mkdel(this,this.$q));ss.makeGenericType(spiff.BaseView$1,[eP]).prototype.dispose.call(this)},handleSchedulesUpdated:function(){this.$b();this.$q()},$g:function(){var e=new spiff.ToggleButton(this.get_dom().subscribeThisView);var L=new spiff.ToggleButton(this.get_dom().subscribeAllViews);this.get_dom().subscribeThisView[0].tabIndex=0;this.get_dom().subscribeAllViews[0].tabIndex=0;this.get_dom().subscribeViewsToggleLabel.text(tab.Strings.SubscribeViewsToggleLabel);this.get_dom().subscribeThisView.text(tab.Strings.ToolbarSubscribeThisView);this.get_dom().subscribeAllViews.text(tab.Strings.ToolbarSubscribeAllView);var go=new spiff.SelectableGroup;go.addItem(e);go.addItem(L);go.selectItem(e);this.$y.set_shouldSubscribeAllViews(false);L.add_propertyChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_propertyChanged(ss.mkdel(this,this.$p))})));this.disposables.add$1(go)},$b:function(){this.get_dom().subscribeScheduleDropdown.empty();if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(L){this.$k(SelfServiceSchedules.StaticInitializers.defaultRecurrence())}))}else{this.$t=this.get_viewModel().generateScheduleViewModel();this.$t.set_theme(3);this.$t.set_menuTheme(this.menuTheme);var e=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$t]);e.element[0].tabIndex=0;this.get_dom().subscribeScheduleDropdown.append($('<label>').text(tab.Strings.ToolbarSubscribeSchedule));this.get_dom().subscribeScheduleDropdown.append(e.element);this.disposables.add$1(this.$t)}},$k:function(e){var L={};this.$s=L.recurrenceModel=e;L.recurrenceModelChangedCallback=ss.mkdel(this,this.$k);ReactDOM.render(React.createElement(SelfServiceSchedules.SelfServiceSchedulePane,L),this.get_dom().subscribeScheduleDropdown.get(0))},$a:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(false);this.$u=spiff.LabelToggleButton.newCheckbox(tab.Strings.ToolbarSubscribeDataPresentCheckbox,false);this.$u.addClass(eO.get_sendOnlyWhenDataPresentCheckboxClass());this.$u.add_click(ss.mkdel(this,this.$m));this.$u.element.insertAfter(this.get_dom().subscribeScheduleDropdown);this.get_viewModel().add_sendOnlyWhenDataPresentCheckboxStateChanged(ss.mkdel(this,this.$n));this.disposables.add$1(this.$u)},$m:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(this.$u.get_selected())},$n:function(){this.$u.set_disabled(!this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxEnabled());this.$u.set_selected(this.get_viewModel().get_sendOnlyWhenDataPresent())},$c:function(){if(!ss.isNullOrEmptyString(this.get_viewModel().get_email())){this.get_dom().subscribeEmail.hide()}else{if(ss.isValue(this.$r)){this.$r.remove_propertyChanged(ss.mkdel(this,this.$i));this.$r.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$r=spiff.TextInputView.newTextInputView('',null,tab.Strings.ToolbarSubscribeEmailPlaceholder,false);this.$r.get_inputElement().attr('maxlength',eP.maxSubscriptionEmailLength.toString());this.$r.add_propertyChanged(ss.mkdel(this,this.$i));this.$r.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeEmail.append(this.$r.element)}},$d:function(){if(ss.isValue(this.$v)){this.$v.remove_propertyChanged(ss.mkdel(this,this.$i));this.$v.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$v=spiff.TextInputView.newTextInputView(this.get_viewModel().get_defaultSubject(),null,tab.Strings.ToolbarSubscribeSubjectPlaceholder,false);this.$v.get_inputElement().attr('maxlength',eP.maxSubscriptionSubjectLength.toString());this.$v.add_propertyChanged(ss.mkdel(this,this.$i));this.$v.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeSubject.append(this.$v.element)},$j:function(){if(!this.$w.get_disabled()){this.$l()}},$i:function(e,L){if(ss.equalsT(L.get_propertyName(),'text')){this.$q()}},$e:function(){this.$w=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$l),tab.Strings.ToolbarSubscribeSubmitButton,null,0,0);this.get_dom().subscribeButton.append(this.$w.element)},$q:function(){var e=!this.get_viewModel().shouldSubscribeButtonBeEnabled((ss.isValue(this.$r)?this.$r.get_text():null),this.$v.get_text(),ss.isNullOrUndefined(this.$x)||this.$x.get_selected());if(this.$w.get_disabled()!==e){var L=(e?tab.Strings.ToolbarSubscribeSubmitDisabledTitle:'');this.$w.set_hoverTooltipText(L);this.$w.set_disabled(e)}},$f:function(){this.$x=spiff.LabelToggleButton.newCheckbox(tab.Strings.SubscribeSelf,true);this.$x.addClass('tab-subscribeSelf');this.$x.add_click(ss.mkdel(this,this.$q));this.$x.element[0].tabIndex=0;this.get_dom().subscribeSelfArea.append(this.$x.element);this.disposables.add$1(this.$x);var e=spiff.LabelButton.newAnchorButton();e.set_label(tab.Strings.AddSubscribers);e.add_click(ss.mkdel(this,function(){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea)}));e.addClass('tab-addSubscribers');this.get_dom().addSubscribersLabel.text(tab.Strings.SubscribeOthers);e.element.insertAfter(this.get_dom().addSubscribersLabel);this.disposables.add$1(e);var L=spiff.LabelButton.newAnchorButton$1(this.get_viewModel().get_subscriptionsPageUrl(),null);L.set_label(tab.Strings.ManageSubscriptions);L.addClass('tab-manageSubscribers');this.get_dom().manageSubscribersLabel.text(tab.Strings.CurrentSubscribers);L.element.insertAfter(this.get_dom().manageSubscribersLabel);this.disposables.add$1(L)},$h:function(){var e=new ss.StringBuilder;if(this.get_viewModel().get_subscribers().length>0){e.append(this.get_viewModel().get_subscribers()[0].friendlyName);if(this.get_viewModel().get_subscribers().length>1){e.append(' + ');e.append(this.get_viewModel().get_subscribers().length-1)}e.append(', ')}e.append(tab.Strings.AddSubscribers);this.get_dom().getElementBySelector('.tab-addSubscribers').text(e.toString())},$o:function(){if(this.get_viewModel().get_subscribers().length>0){if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionsWithSelfServiceSchedule(this.$v.get_text(),this.$s,this.$x.get_selected())}else{this.get_viewModel().createSubscriptions(this.$v.get_text(),this.$t.get_selectedItem().get_data(),this.$x.get_selected())}}else if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionWithSelfServiceSchedule(this.$v.get_text(),this.$s)}else{this.get_viewModel().createSubscription(this.$v.get_text(),this.$t.get_selectedItem().get_data())}},$l:function(){if(ss.isNullOrEmptyString(this.get_viewModel().get_email())){var e=this.$r.get_text();var L=ss.mkdel(this,function(gp){var gq=((gp===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.SubscribeFailure);this.get_dom().subscribeEmail.append($('<div>').addClass('tab-SubscribeError').text(gq))});var go=ss.mkdel(this,function(){this.get_viewModel().set_email(e);this.$o()});tab.WorkgroupServerCommands.setUserEmail(e,go,L)}else{this.$o()}},$p:function(e,L){if(L.get_propertyName()==='selected'){this.$y.set_shouldSubscribeAllViews(e.get_selected())}},$9:function(){this.$d();this.$b();if(this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxVisible()){this.$a()}this.$g();this.$c();this.$e();if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){this.$f()}this.$q();this.$v.get_inputElement().attr('autofocus','true')}},ss.makeGenericType(spiff.BaseView$1,[eP]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eP])]);ss.initClass(eP,a,{add_schedulesChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_schedulesChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_subscribeSuccess:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_subscribeSuccess:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_subscribersChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_subscribersChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e)},add_dialogHidden:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_dialogHidden:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_schedules:function(){return this.$7},get_viewType:function(){return eO},get_viewModel:function(){return this},get_dialogProps:function(){var e=tab.Strings.SubscribeTitle;var L=new eN;L.viewModel=this;return{title:e,testId:'subscribe',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(eM,L)}},get_shouldSubscribeAllViews:function(){return this.$8},set_shouldSubscribeAllViews:function(e){this.$8=e;if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return}if(ss.staticEquals(this.$2$4,null)){return}this.$2$4()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$8},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$2$7},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$2$7=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return false}if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$2$8},set_email:function(e){this.$2$8=e},get_subscriptionsPageUrl:function(){return this.$2$9},set_subscriptionsPageUrl:function(e){this.$2$9=e},get_subscribers:function(){return this.$9},set_subscribers:function(e){this.$9=e;this.raiseActionEvent(this.$2$3)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$5:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},disposeViewModel:function(){this.$9=[];this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){this.raiseActionEvent(this.$2$6)},createAddSubscribersPopup:function(e){if(ss.isValue(this.$6)){return}var L=new O(this.get_subscribers());this.$6=L;var go=spiff.UberPopupViewModel.createForContent$1(this.$6,e,ss.mkdel(this,this.$3),true);if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app&&tab.BrowserSupport.get_isIos()){go.options.horizontalAlign=1}go.options.preferUp=fk.get_toolbarIsBottom();go.options.horizontalAttach=1;go.options.isToolbarFlyout=true;go.options.coverRelativeElement=true;var gp=function(){go.hide(false)};L.add_selectionCanceled(gp);var gq=ss.mkdel(this,function(gs){this.set_subscribers(gs);go.hide(false)});L.add_selectionConfirmed(gq);go.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_selectionCanceled(gp);L.remove_selectionConfirmed(gq);this.raiseActionEvent(this.$2$5)})));if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app&&tab.BrowserSupport.get_isIos()){var gr=function(){go.hide(false)};this.add_dialogHidden(gr);go.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_dialogHidden(gr)})))}go.show();this.raiseActionEvent(this.$2$5);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,L,go){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(L)||L.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$4(e)){return false}if(ss.isValue(this.$6)){return false}return go||this.get_subscribers().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var L=e;var go=this.get_schedules();for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=gq.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){gr=gq.get_scheduleFrequencyDescription()}L.addItem(new spiff.ComboBoxItem(null,gr,gq,null))}if(L.get_items().length>0){L.set_selectedItem(L.get_items()[0])}return L},createSubscription:function(e,L){var go=ss.mkdel(this,function(){this.raiseActionEvent(this.$2$2);dN.showNotification(tab.Strings.SubscribeSuccess)});var gp=function(){dN.showNotification(tab.Strings.SubscribeFailure)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),L,this.$5(),go,gp)},createSubscriptionWithSelfServiceSchedule:function(e,L){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(go){go.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),L,this.$5(),this.$2$2)}))},createSubscriptions:function(e,L,go){this.$2(e,go,L,false)},createSubscriptionsWithSelfServiceSchedule:function(e,L,go){this.$2(e,go,L,true)},$2:function(e,L,go,gp){var gq=ss.mkdel(this,function(gu){var gv=gu['results'].length;dN.showNotification(tab.Strings.SubscribeOthersSuccess(gv));this.raiseActionEvent(this.$2$2)});var gr=ss.mkdel(this,function(gu){var gv=gu['errors'];if(gv.length===1&&ss.isNullOrUndefined(gv[0]['id'])){dN.showNotification(tab.Strings.SubscribeFailure)}else{dN.showNotification(tab.Strings.SubscribeOthersFailed(gv.length));this.raiseActionEvent(this.$2$2)}});var gs=function(gu){dN.showNotification(tab.Strings.SubscribeFailure)};var gt=_.map(this.get_subscribers(),function(gu){return gu.id.toString()});if(L&&!_.contains(gt,tsConfig.current_user_id.toString())){gt.push(tsConfig.current_user_id.toString())}if(gp){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(gu){gu.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),go,this.$5(),gt,gq,gr,gs)}))}else{tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),gt,go,this.$5(),gq,gr,gs)}},$3:function(){this.$6=tab.MiscUtil.dispose$1(this.$6)},$4:function(e){return cr.validate(e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,spiff.IContent,spiff.IUberPopupContent,cV]);ss.initClass(eQ,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eR,a,{},ss.EventArgs);ss.initClass(eS,a,{get_textAngle:function(){return this.$k},set_textAngle:function(e){this.$k=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$g},get_alpha:function(){return this.$7.globalAlpha},set_alpha:function(e){if(e!==this.$7.globalAlpha){this.$7.globalAlpha=e}},get_font:function(){return this.$7.font},set_font:function(e){var L=this.$d.normalizeFont(e);if(!ss.referenceEquals(L,this.$7.font)){this.$7.font=L}this.$e=eS.$0(L)},get_lineCap:function(){return this.$9},set_lineCap:function(e){if(e!==this.$9){this.$7.lineCap=e;this.$9=e}},get_lineJoin:function(){return this.$a},set_lineJoin:function(e){if(e!==this.$a){this.$7.lineJoin=e;this.$a=e}},get_lineWidth:function(){return this.$7.lineWidth},set_lineWidth:function(e){if(e!==this.$7.lineWidth){this.$7.lineWidth=e;if(this.$f!=='solid'){this.$5()}}},get_linePattern:function(){return this.$f},set_linePattern:function(e){if(e!==this.$f){this.$f=e;this.$5()}},get_transformation:function(){return this.$m},set_transformation:function(e){this.$m.setTransform(e)},get_strokeStyle:function(){return this.$b},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$b)){this.$7.strokeStyle=e;this.$b=e}},get_shapeFillStyle:function(){return this.$h},set_shapeFillStyle:function(e){this.$h=e;this.$3(e)},get_shouldAntialias:function(){return this.$i},set_shouldAntialias:function(e){this.$i=e},get_shouldUnderlineText:function(){return this.$j},set_shouldUnderlineText:function(e){this.$j=e},get_textFillStyle:function(){return this.$l},set_textFillStyle:function(e){this.$l=e},get_textAlign:function(){return this.$7.textAlign},set_textAlign:function(e){this.$7.textAlign=e},get_textBaseline:function(){return this.$7.textBaseline},set_textBaseline:function(e){this.$7.textBaseline=e},$6:function(){var e=this.$7.canvas;var L={w:e.width,h:e.height};return L},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(eS.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(eS.defaultLineJoin);this.set_lineCap(eS.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(eS.defaultTextBaseline);this.set_textAlign(eS.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$i=true;this.$j=false},setClip:function(e){this.beginPath();this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,L,go,gp,gq,gr){this.$7.arc(e,L,go,gp,gq,gr)},beginPath:function(){this.$7.beginPath()},bezierCurveTo:function(e,L,go,gp,gq,gr){this.$7.bezierCurveTo(e,L,go,gp,gq,gr)},clearRect:function(e,L,go,gp){this.$7.clearRect(e,L,go,gp)},closePath:function(){this.$7.closePath()},createLinearGradient:function(e,L,go,gp){return this.$7.createLinearGradient(e,L,go,gp)},drawImage1:function(e,L,go){this.$7.drawImage(e,L,go)},drawImage3:function(e,L,go,gp,gq){this.$7.drawImage(e,L,go,gp,gq)},drawImage4:function(e,L,go,gp,gq){this.$7.drawImage(e,L,go,gp,gq)},drawImage5:function(e,L,go,gp,gq,gr,gs,gt,gu){this.$7.drawImage(e,L,go,gp,gq,gr,gs,gt,gu)},fill:function(){this.$7.fill()},fillRect:function(e,L,go,gp){this.$7.fillRect(e,L,go,gp)},fillText1:function(e,L,go){if(this.$4()){var gp=ss.mkdel(this,function(gq){this.$7.fillText(gq,0,0)});this.$2(gp,e,L,go)}else{this.$7.fillText(e,L,go)}},fillText2:function(e,L,go,gp){if(this.$4()){var gq=ss.mkdel(this,function(gr){this.$7.fillText(gr,0,0,gp)});this.$2(gq,e,L,go)}else{this.$7.fillText(e,L,go,gp)}},lineTo:function(e,L){this.$7.lineTo(e,L)},measureText:function(e){return this.$7.measureText(e)},moveTo:function(e,L){this.$7.moveTo(e,L)},rect:function(e,L,go,gp){this.$7.rect(e,L,go,gp)},reset:function(){while(this.$g>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$7.restore();this.$9=this.$7.lineCap;this.$a=this.$7.lineJoin;this.$b=this.$7.strokeStyle;this.$8=this.$7.fillStyle;var e=this.$c.pop();e.$0(this);--this.$g},rotate:function(e){this.$m.rotate(e);this.$0()},save:function(){var e=new r(this.$f,this.$k,this.$h,this.$l,this.$i,this.$j,this.$m);this.$c.push(e);this.$7.save();++this.$g},scale:function(e,L){if(e===1&&L===1){return}this.$m.scale(e,L);this.$0()},setTransform:function(e){this.$m.setTransform(e);this.$0()},resetTransform:function(){this.$m.reset();this.$0()},stroke:function(){this.$7.stroke()},strokeRect:function(e,L,go,gp){this.$7.strokeRect(e,L,go,gp)},strokeText1:function(e,L,go){},strokeText2:function(e,L,go,gp){},translate:function(e,L){if(e===0&&L===0){return}this.$m.translate(e,L);this.$0()},$0:function(){var e=this.$m.get_matrix();this.$7.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$7.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$h)||!ss.referenceEquals(this.$h,this.$l)||this.$j},$2:function(e,L,go,gp){this.$7.save();var gq=this.$m.clone();this.translate(go,gp);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$l);e(L);if(this.$j){var gr=this.measureText(L).width;var gs=Math.round(Math.max(1,(this.$e-5)/10));var gt=Math.round((this.$e-5)/10);var gu=0;if(this.get_textAlign()==='center'){gu-=gr/2}else if(this.get_textAlign()==='end'){gu-=gr}this.$7.fillRect(gu,gt,gr,gs)}this.$7.restore();this.$m.setTransform(gq);this.$8=null},$3:function(e){if(!ss.referenceEquals(e,this.$8)){this.$7.fillStyle=e;this.$8=e}},$5:function(){var e=null;var L=0;switch(this.$f){case'solid':{e=[];break}case'dashed':{L=this.$7.lineWidth;e=[eS.defaultLineDashDashed[0]*L,eS.defaultLineDashDashed[1]*L];break}case'dotted':{L=this.$7.lineWidth;e=[eS.defaultLineDashDotted[0]*L,eS.defaultLineDashDotted[1]*L];break}}if(typeof(this.$7['setLineDash'])==='function'){this.$7.setLineDash(e)}else if('mozDash'in this.$7){this.$7['mozDash']=e}else if('webkitLineDash'in this.$7){this.$7['webkitLineDash']=e}}});ss.initClass(eT,a,{});ss.initClass(eU,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eV,a,{$i:function(){return this.get_viewModel()},$h:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.$i().options.textSelectable){this.$h().contentElem.addClass('tab-selectable')}this.handleNewTextRegion()},handleNewTextRegion:function(){if(!this.$i().hasPresModel()){return}this.$b(this.$h().textRegionBoundaryElem);this.$c(this.$h().contentElem)},handleRightClick:function(e){this.get_viewModel().showContextMenu(spiff.ShowMenuOptions.anchorToCursorLocation(this.element,{left:e.clientX,top:e.clientY}))},$c:function(e){var L={};e.removeAttr('style');e.html(this.$i().get_html());cA.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var go=function(gw){gw.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),go).on(this.createNamespacedEventName('touchend'),go)}var gp=this.$i().get_orientation();var gq=this.$g(gp);var gr=this.$f(gp);if(gq||gr){var gs=tab.DoubleUtil.roundToInt(e.parent().width());var gt=tab.DoubleUtil.roundToInt(e.parent().height());L['width']=gt+'px';var gu='0%';if(gq){L['bottom']='100%';gu='100%'}else if(gr){L['top']='100%';gu='0%'}e.css(L);L['left']=this.$d(gs,tab.DoubleUtil.roundToInt(e.height()),this.$i().get_hAlign(),gp);this.$9(e,'0% '+gu,gp.toString())}else{L['width']='100%';var gv=tab.DoubleUtil.roundToInt(this.$h().domRoot.height());if(gv<=tab.DoubleUtil.roundToInt(e.height())&&!this.$e(e,gv)){L['top']='0%'}else{switch(this.$i().get_vAlign()){case'v-align-center':{L['top']='50%';L['margin-top']=ss.Int32.div(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{L['bottom']='0%';break}case'v-align-top':{L['top']='0%';break}default:{break}}}}e.css(L)},$e:function(e,L){var go=false;e.find('span').each(function(gp,gq){if(!go&&ss.isValue(gq.style.lineHeight)){go=parseInt(gq.style.lineHeight)>=L}});return go},$b:function(e){var L=this.$i().get_styledBox();var go=cA.getCSSBorderStyle(L.ysh1);var gp=ss.mkdict(['border-width',L.s$V+'px','border-color',L.mjt1,'border-style',go]);if(this.$i().get_styledBox().iKN){this.$a(gp)}e.css(gp)},$a:function(e){var L=tab.ColorModel.fromColorCode(this.$i().get_styledBox().eBu);if(L.get_a()<1){e['background-color']=L.toString()}else{e['background-color']=L.toString()}},$g:function(e){return Math.round(e)===90},$f:function(e){return Math.round(e)===-90},$9:function(e,L,go){var gp={};gp['transform-origin']=L;gp['transform']='rotate('+go+'deg)';e.css(gp)},$d:function(e,L,go,gp){var gq=0;if(L>e){if(this.$g(gp)){go='h-align-right'}else{go='h-align-left'}}if(go==='h-align-left'){gq=0}else if(go==='h-align-right'){gq=e-L}else if(go==='h-align-center'){gq=ss.Int32.div(e,2)-ss.Int32.div(L,2)}return gq.toString()+'px'}},ss.makeGenericType(spiff.BaseView$1,[eW]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eW])]);eV.$ctor1.prototype=eV.prototype;ss.initClass(eW,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},handleNewTextRegion:function(){this.$2()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},showContextMenu:function(e){if(!tab.FeatureFlags.isEnabled('SeamlessTitlesAndCaptionsWebSP1')||!tsConfig.is_authoring){return}if(ss.referenceEquals(this.get_presModelKey().name,'CTm'.toString())&&tsConfig.current_sheet_type==='worksheet'){var L=function(gp){var gq=gp.$c['Jmx'];var gr=gd.menuViewModelFromCommands(gq,gd.commandMenuItemClicked,null);gr.show(e)};tab.SheetClientCommands.getTitleContextMenu(tsConfig.current_sheet_name,L)}if(ss.referenceEquals(this.get_presModelKey().name,'vv_'.toString())&&tsConfig.current_sheet_type==='worksheet'){var go=function(gp){var gq=gp.$c['Jmx'];var gr=gd.menuViewModelFromCommands(gq,gd.commandMenuItemClicked,null);gr.show(e)};tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,go)}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(eX,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eY,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:tab.DoubleUtil.roundToInt(this.element.scrollTop())}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[eZ]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[eZ]),spiff.IScrollable]);ss.initClass(eZ,a,{},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fa,a,{get_isDragTracking:function(){return false},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$a},get_viewSession:function(){return this.$e},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$d},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(e){if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}this.regionContent=e;if(ss.isValue(this.regionContent)){this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}},get_defaultPointerToolMode:function(){return this.$1$1},set_defaultPointerToolMode:function(e){this.$1$1=e},get_currentModifierKeyToolMode:function(){return this.$1$2},set_currentModifierKeyToolMode:function(e){this.$1$2=e},get_currentToolbarToolMode:function(){return this.currentToolbarToolMode},set_currentToolbarToolMode:function(e){if(tsConfig.allow_filter){this.currentToolbarToolMode=e}},get_currentPointerToolMode:function(){return((this.get_currentModifierKeyToolMode()==='no-tools')?this.get_currentToolbarToolMode():this.get_currentModifierKeyToolMode())},get_sceneInfo:function(){if(this.$a!=='viz'){return null}var e=ss.safeCast(this.regionContent,dT);if(ss.isNullOrUndefined(e)){return null}var L=e.get_viewModel();return L.get_scene()},get_visualListVM:function(){var e=this.get_contentProvider();return e.get_viewModel()},get_shapeSelector:function(){return this.$c},get_visualObjectBoundsComputerAndHitTester:function(){return this.$f},sendSelectionCommand:function(e,L,go,gp){this.get_shapeSelector().sendSelectionCommand(e,L,go,gp)},turnOnWindowLogging:function(){if(!ss.isValue(fa.windowLog)){fa.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.backgroundMap.removeMarkOverlay();this.setViewportBorderVisibility(false);this.hideDomDrag();this.$g=tab.MiscUtil.dispose$1(this.$g)},destroy:function(){this.disposables.dispose();this.allowPanZoom=null;if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy()}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$3))}this.backgroundMap.$5();this.backgroundMap.dispose()},handlePageScroll:function(){this.$0()},$0:function(){this.$9=null},setGeometry:function(e,L,go){if(ss.isValue(this.regionContent)){this.regionContent.set_actualViewSize({w:L.w,h:L.h});this.regionContent.reset(e,go);this.backgroundMap.$9(e.w,e.h);this.$b={x:0,y:0,w:e.w,h:e.h};this.$0()}},refreshImages:function(e){if(ss.isValue(this.regionContent)){this.regionContent.refreshImages(e)}},onZoomBoxMouseMove:function(e){this.onSelectorMouseMove(e,this.domPanZoomRect)},onMarqueeMouseMove:function(e){this.onSelectorMouseMove(e,this.$c)},onSelectorMouseMove:function(e,L){e.preventDefault();L.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var go=L.get_connectNodePos();var gp=e.get_gestureInfo().pageX-go.x;var gq=e.get_gestureInfo().pageY-go.y;var gr=((gp<0)?gp:((gp>go.w)?(gp-go.w):0));var gs=((gq<0)?gq:((gq>go.h)?(gq-go.h):0));var gt=this.determineScrollDirection(0,gr);var gu=this.determineScrollDirection(1,gs);var gv=((Math.max(Math.abs(gr),Math.abs(gs))>15)?'fast':'slow');if(gt!==0||gu!==0){this.startScrolling(gt,gu,gv);L.constrainShape(e.get_gestureInfo())}else{this.stopScrolling();L.updateAndRenderShape(e.get_gestureInfo())}},debugWindowLog:function(e){if(ss.isValue(fa.windowLog)){}},toLocalCoords:function(e,L){var go=this.getLocalOffsetPoint(L);var gp={x:e.x-go.x,y:e.y-go.y};return gp},toLocalCoordsRect:function(e,L){var go=this.getLocalOffset(L);var gp={x:go.x,y:go.y};var gq={x:e.x-gp.x,y:e.y-gp.y,w:e.w,h:e.h};return gq},toLocalCoordsEvent:function(e,L){var go={x:e.get_gestureInfo().pageX,y:e.get_gestureInfo().pageY};return this.toLocalCoords(go,L)},getLocalOffset:function(e){this.$9=this.$9||tab.DomUtil.getRectXY(this.connectNode);if(e||ss.isNullOrUndefined(this.regionContent)){return this.$9}if(this.regionContent.get_scrollPos().x===0&&this.regionContent.get_scrollPos().y===0){return this.$9}var L=tab.MiscUtil.cloneObject(this.$9);L.x-=this.regionContent.get_scrollPos().x;L.y-=this.regionContent.get_scrollPos().y;return L},getLocalOffsetPoint:function(e){var L=this.getLocalOffset(e);var go={x:L.x,y:L.y};return go},getPaneDrawInfoFromSelectionAnchor:function(e){var L=this.get_visualObjectBoundsComputerAndHitTester().$2(e,this.get_sceneInfo());if(L.length===0){return null}return this.get_sceneInfo().getPaneDrawInfoFromKey(L[0])},hitTestVisualPartsHelper:function(e,L){return(cO.hasExactHit(L)?[]:this.get_visualObjectBoundsComputerAndHitTester().$4(e,this.paneTableViewModel))},hitTestMarksAgainstSelectionShape:function(){return this.get_visualObjectBoundsComputerAndHitTester().$3(null,false,this.$c,this.get_sceneInfo())},selectNode:function(e,L,go,gp){var gq=this.get_visualListVM();gq.selectNode(e,L,go,gp)},hitTestNodes:function(e){var L=this.get_visualListVM();var go=_.find(L.get_groupItemNodes(),function(gp){var gq=gp.nTH||0;var gr=gp.Mk_||0;var gs={x:gq,y:gr,w:gp.XqN,h:gp.$UU};return tab.RectXYUtil.inRect(gs,e)});return go},doSelectFromPoint:function(e,L,go,gp){var gq=this.hitTestSingleMarksAndVisualParts(e);switch(gq.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([gq.get_id()],this.get_visualId(),L,false,function(){gp(gq)},go);break}case'visualparts':{var gr={x:e.x,y:e.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.$a,gr,L,this.get_visualId(),function(){gp(gq)});break}default:{if(gq.get_hitType()!==0){gp(gq)}if(L==='simple'){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}break}}return gq},hitTestSingleMarksAndVisualParts:function(e){var L={x:e.x,y:e.y,w:1,h:1};var go=this.$f.$3(L,true,this.$c,this.get_sceneInfo());var gp=this.hitTestVisualPartsHelper(L,go);var gq=cO.tieBreakHits(go,gp);return gq},doSelectMarkAndUbertipFromSelectionShape:function(e,L){var go=cO.getIdsFromHitTestResults(this.hitTestMarksAgainstSelectionShape(),false);tab.SelectionClientCommands.selectMarksLocal(go,this.get_visualId(),e,true,L);return go},moveMapToBounds:function(e){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.backgroundMap.splatOverlayToMapForTransition(fa.getCanvasElement(this.connectNode));this.setViewportBorderVisibility(true);this.backgroundMap.moveToBounds(e)}},setPointerToolMode:function(e){if(ss.isNullOrUndefined(e)){e=this.get_defaultPointerToolMode()}this.setMode(e)},updateDefaultToolMode:function(){this.set_defaultPointerToolMode(this.determineDefaultToolMode())},determineDefaultToolMode:function(){return this.lockedToolbarToolMode},isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},setLockedPointerToolMode:function(e){this.lockedToolbarToolMode=e},isExistingSelection:function(){var e=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel().tupleSelection;return e.get_ids().length!==0},$1:function(e,L){if(L.get_propertyName()==='scene'||L.get_propertyName()==='vizdata'){this.get_visualObjectBoundsComputerAndHitTester().$0()}},$2:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(e,L,go,gp,gq){if(this.resetIsWaitingOnTransition){return}this.waitingOnPanZoomServerResponse='waitingOnServer';this.suppressTooltips();var gr=(e.canDragH?go:1);var gs=(e.canDragV?go:1);var gt=L;var gu=1/go;if(gp){tab.PanZoomCommands.zoomDoubleClick(L,gt,go>1,gq,gu,this.get_viewSession().sheetId)}else if(go>1){tab.PanZoomCommands.zoomIn(L,gt,gu,this.get_viewSession().sheetId)}else{tab.PanZoomCommands.zoomOut(L,gt,gu,this.get_viewSession().sheetId)}var gv=((go>1)?1:-1);this.backgroundMap.zoomOnPoint(L,gv);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.$g=new spiff.Glass;this.$g.show();this.animateZoomOnPoint(e,L,gr,gs)}},makeDomDrag:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDrag:function(){if(this.$a!=='viz'||!this.$6){return}this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('');this.$6=false},showDomDragImage:function(e){this.$6=true;this.setViewportBorderVisibility(true);if(this.backgroundMap.get_enabled()){this.backgroundMap.splatOverlayToMapForTransition(fa.getCanvasElement(this.connectNode))}else{var L=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var go={l:e.x-L.x+1,t:e.y-L.y+1,w:e.w+1-2,h:e.h+1-2};var gp=this.$8.clone();if(ss.isInstanceOfType(this.regionContent,dT)){var gq=fa.getCanvasElement(gp);var gr=bg.getRenderContext(gq,'transparent');this.regionContent.copyContent(gr)}gp.removeClass();gp.addClass('tvdrag_imageContainer');this.domDragImage.append(gp);this.domDragImage.css('display','');var gs=1;tab.DomUtil.setMarginBoxJQ(gp,{l:-go.l-gs,t:-go.t-gs,w:tab.DoubleUtil.roundToInt(gp.width())-2,h:tab.DoubleUtil.roundToInt(gp.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:L.x+gs,t:L.y+gs,w:go.w-2,h:go.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),go);this.domPanZoomRect.get_dom().css('display','')}},getCenterPoint:function(e){var L=Math.floor(e.w/2)+e.x;var go=Math.floor(e.h/2)+e.y;return{x:L,y:go}},addHiddenDiv:function(e,L,go){e.addClass(L);e.css('display','none');go.append(e)},animateZoomOnPoint:function(e,L,go,gp){var gq=((go<1)?-1:((go>1)?1:0));var gr=((gp<1)?-1:((gp>1)?1:0));var gs={x:gq,y:gr};var gt=this.getCenterPoint(e);var gu=Math.floor((gt.x-L.x)*gs.x*go);var gv=Math.floor((gt.y-L.y)*gs.y*gp);var gw={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};gw.translateX=gu;gw.translateY=gv;gw.scaleX=go;gw.scaleY=gp;gw.time=777;this.showDomDragImage(e);this.animateZoomWithCSSTransitions(gw)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomLeaflet:function(e,L,go){this.showDomDragImage(e);if(this.mapIsBrowserRendered()){this.backgroundMap.animateAnchorZoom(go,L)}},animateAnchorZoom:function(e,L,go){var gp=1/go;var gq=((e.x>0)?(L.x%e.x):L.x);var gr=((e.y>0)?(L.y%e.y):L.y);var gs={x:gq,y:gr};var gt={scaleX:gp,scaleY:gp,time:500,scale:1,translateX:0,translateY:0,transformOrigin:null};this.showDomDragImage(e);gt.transformOrigin=gs;this.animateZoomWithCSSTransitions(gt)},getPointLatLong:function(e){return this.backgroundMap.getPointLatLong(e)},animateZoomWithCSSTransitions:function(e){var L=this.domDragImage.get(0);this.resetIsWaitingOnData=true;this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(L,e);this.$7=true;var go=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.resetIsWaitingOnData){this.reset()}}),go)}),50)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(e,L){if(this.waitingOnPanZoomServerResponse==='waitingOnServer'){this.waitingOnPanZoomServerResponse='normal'}if(this.$a==='viz'){if(!this.isScrolling&&this.$6){this.hideDomDrag()}if(this.$7){tableau.util.transform(this.domDragImage.get(0),null);this.$7=false}}},getPanZoomFillColor:function(){var e='rgb(255,255,255)';if(this.$a==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){e=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){e=this.paneTableViewModel.get_scene().scene.oiS}}return e},$3:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.$5()}this.$4()},$4:function(){if(this.$a!=='viz'){return}this.setViewportBorderVisibility(false);var e=this.paneTableViewModel.get_mapServerModel();if(e.get_hasPresModel()){if(e.get_useFastMaps()&&!this.backgroundMap.get_enabled()){this.backgroundMap.$2(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel());if(ss.isValue(this.$b)&&!tab.RectXYUtil.isEmpty(this.$b)){this.backgroundMap.$9(this.$b.w,this.$b.h)}}}else{this.backgroundMap.$5()}var L=this.getPanZoomFillColor();if(!ss.referenceEquals(this.$5,L)){this.backgroundDiv.css('backgroundColor',L);this.$5=L}},resetPointerToolMode:function(){this.setPointerToolMode(this.get_defaultPointerToolMode())},setViewportBorderVisibility:function(e){this.paneTableViewModel.set_highlightBorder(e)},setMode:function(e){this.set_currentToolbarToolMode(e);this.updateSelectorShape(e)},updateSelectorShape:function(e){if(ss.isValue(this.$c)){if(ss.isValue(this.$c.get_dom())){this.$c.get_dom().remove()}this.$c=null}switch(e){case'lasso-selection':{this.$c=new dY(this.$b,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var L=this.paneTableViewModel.get_mapServerModel();this.$c=new bk(this.$b,L.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$c=new eg;break}}this.$c.createDomAndAppend(this.connectNode)},isToolDefault:function(e){return e===this.get_defaultPointerToolMode()}});ss.initClass(fb,a,{add_loadComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_loadComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_actualViewSize:function(){return{w:this.$8.clientWidth,h:this.$8.clientHeight}},set_actualViewSize:function(e){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(e){this.set_left(e.x);this.set_top(e.y);this.$2(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$b.w,h:this.$b.h}},get_left:function(){return this.$f},set_left:function(e){this.$f=e;if(this.$h){this.$8.scrollLeft=e}},get_top:function(){return this.$m},set_top:function(e){this.$m=e;if(this.$h){this.$8.scrollTop=e}},destroy:function(){this.$9.destroy();if(this.$j>0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$j=0}this.$c=null;this.$n=null},refreshImages:function(e){if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isNullOrUndefined(e)){return}this.$7=e;this.$1();this.$2(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$a);this.$a=false},reset:function(e,L){var go=this.$b;var gp=this.$i;this.$b=e;this.$i=L;if(ss.isNullOrUndefined(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isValue(go)&&go.w===this.$b.w&&go.h===this.$b.h&&gp.w===this.$i.w&&gp.h===this.$i.h){return}var gq=this.get_top();var gr=this.get_left();this.$k=Math.ceil(this.$b.w/this.$i.w);this.$l=Math.ceil(this.$b.h/this.$i.h);this.$d.width(this.$b.w);this.$d.height(this.$b.h);this.set_top(Math.min(gq,Math.max(0,this.$b.h-this.$8.offsetHeight)));this.set_left(Math.min(gr,Math.max(0,this.$b.w-this.$8.offsetWidth)))},setXPos:function(e){this.set_scrollPos({x:e,y:this.get_scrollPos().y})},setYPos:function(e){this.set_scrollPos({x:this.get_scrollPos().x,y:e})},$0:function(e){var L=$(e);if(!!L.prop('_deferredClear')){L.prop('_deferredClear',null);L.empty()}},$2:function(e){if(!ss.isValue(e)){e=false}if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(!ss.isValue(this.$7)){return}var L=this.get_left();var go=L+this.$8.clientWidth;var gp=this.get_top();var gq=gp+this.$8.clientHeight;var gr=Math.max(Math.floor(L/this.$i.w),0);var gs=Math.min(Math.ceil(go/this.$i.w),this.$k);var gt=Math.max(Math.floor(gp/this.$i.h),0);var gu=Math.min(Math.ceil(gq/this.$i.h),this.$l);this.$9.clear();if(!ss.isValue(this.$g)){return}var gv=this.$j;this.$j=Math.max((gs-gr)*(gu-gt),0);if(gv<=0&&this.$j>0){if(e){this.$g.incrementWait(false)}tab.ImageTileTracker.incrementPendingCount()}var gw='';var gx=0;if(ss.isValue(this.$c)){gw=this.$c()}if(ss.isValue(this.$n)){gx=this.$n.get_cacheVersion()}var gy=false;for(var gz=gr;gz<gs;gz++){var gA=Math.min(this.$i.w,this.$b.w-gz*this.$i.w);for(var gB=gt;gB<gu;++gB){var gC=Math.min(this.$i.h,this.$b.h-gB*this.$i.h);var gD=gB*this.$k+gz;var gE={l:gz*this.$i.w,t:gB*this.$i.h,w:gA,h:gC};var gF=this.$g.formatTileURL(this.$7,this.$b.r,gz,gB,'',gw);if(ss.isValue(this.$e[gD])&&this.$e[gD].$0(gF,gx)){if(e){this.$6()}var gG=this.$e[gD].$2();var gH=gG.width!==gE.w||gG.height!==gE.h;if(gH){$(gG).css(ss.mkdict(['left',gE.l+'px','top',gE.t+'px']));en.ensureImageEltSize(gG,gE)}}else{gy=true;this.$e[gD]=this.$e[gD]||new A;var gI=new dc(this.$e[gD].$2(),gD,gF,gE,gx);this.$9.addImage(gI)}}}if(!gy){this.$d.each(ss.mkdel(this,function(gJ,gK){this.$0(gK)}))}},$1:function(){this.$e=[];this.$d.prop('_deferredClear',true)},$6:function(){if(this.$j>0){this.$j--;if(this.$j===0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$3:function(e,L){this.$6();if(ss.isValue(L.get_image().get_imageNode())){var go=L.get_image().get_imageNode();en.ensureImageEltSize(go,L.get_image().get_bounds());var gp=L.get_image().get_index();var gq=this.$n.get_cacheVersion();if(!ss.isValue(this.$e[gp])){return}if((!ss.isValue(this.$e[gp].$2())||!ss.referenceEquals($(this.$e[gp].$2()).attr('src'),$(go).attr('src')))&&L.get_image().get_version()===gq){this.$e[gp].$3(go);this.$e[gp].$1=gq;var gr=go;var gs=0;var gt=this.$d.length;this.$d.each(ss.mkdel(this,function(gu,gv){this.$0(gv);gv.appendChild(gr);if(gs<gt-1){gr=gr.cloneNode(false)}gs++}))}}},$4:function(e,L){this.$6()},$5:function(e,L){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,dl]);ss.initClass(fd,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(fe,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$d},$c:function(){this.$d=new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText');this.disposables.add$1(this.$d);var e=this.$d;var L=this.get_viewModel();e.add_click(ss.mkdel(L,L.execute));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var go=this.$d;var gp=this.get_viewModel();go.remove_click(ss.mkdel(gp,gp.execute))})));this.$d.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_click(ss.mkdel(this,this.$9))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new spiff.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,L){switch(L.get_propertyName()){case'isActive':{this.$d.element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var go=this.get_viewModel().get_enabled();this.get_dom().domRoot.attr('tabindex',(go?'0':'-1'));this.$d.set_disabled(!go);break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.$d.set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$e)){this.get_dom().get_image().removeClass(this.$e)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$e=this.get_viewModel().get_iconClass();break}}},$9:function(){if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app&&tab.BrowserSupport.get_isIos()){this.get_viewModel().showDialog()}else if(this.$d.element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.$d.element)}},$b:function(){this.$d.element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.$d.element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[ff]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ff])]);ss.initClass(ff,a,{add_flyoverShown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_flyoverShown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverHidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverHidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_showDialogRequested:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_showDialogRequested:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_buttonAction:function(){return this.action},get_enabled:function(){return this.$6},set_enabled:function(e){if(!this.$a&&this.$6!==e){this.$6=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$7},set_iconClass:function(e){if(!this.$a&&!(ss.compareStrings(this.$7,e,false)===0)){this.$7=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$8},get_isActive:function(){return this.$9},set_isActive:function(e){if(!this.$a&&this.$9!==e){this.$9=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$c},set_text:function(e){if(!this.$a&&!(ss.compareStrings(this.$c,e,false)===0)){this.$c=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$d},set_tooltipText:function(e){if(!this.$a&&!ss.referenceEquals(this.$d,e)){this.$d=e;this.notifyPropertyChanged('tooltipText')}},get_isSeparator:function(){return this.$a},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$b;if(ss.isValue(this.$2$1)){this.popupViewModel.add_shown(this.$2$1)}if(ss.isValue(this.$2$2)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},showDialog:function(){if(ss.isValue(this.dialogContent)&&!ss.staticEquals(this.$2$3,null)){this.$2$3(this.dialogContent)}},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$5:function(){this.raiseActionEvent(this.$2$1)},$4:function(){this.raiseActionEvent(this.$2$2);this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$1);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fg,a,{createMenu:function(){return this.$e(null)},execute:function(){},dropdownClicked:function(e){var L=this.createMenu();if(!L.menuItems.some(function(gq){return gq.enabled})){return null}var go=spiff.MenuViewModel.createForMenu(L,gd.commandMenuItemClicked);go.add_hidden(ss.mkdel(this,function(){this.set_isActive(false)}));var gp=spiff.ShowMenuOptions.create(e,false,tab.DoubleUtil.roundToInt(e.outerWidth(false)));gp.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';go.show(gp);this.set_isActive(true);return go}},ff,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fh,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fi,a,{get_toggleToText:function(){return this.$e},set_toggleToText:function(e){this.$e=e}},ff,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fj,a,{get_dom:function(){return this.get_template()},$m:function(){return this.$3$1},$n:function(e){this.$3$1=e},$r:function(){return this.$3$2},$s:function(e){this.$3$2=e},$p:function(){return this.$3$3},$q:function(e){this.$3$3=e},$o:function(){return this.$B.get_customViewsViewModel()},$u:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$t:function(e){this.get_dom().publicBelowLogo.toggle(e&&!tab.FullscreenUtil.get_inFullscreenMode())},$v:function(e){this.$t(!e);this.get_dom().publicItems.toggleClass('narrow',e)},$l:function(){var e=this.$B.get_shouldShowPublicWatermarkItems();var L=this.$B.get_shouldForceLabelsBelowIcons();var go=this.$B.get_canPutLabelsUnderneath();var gp=this.get_dom().toolbar.width();var gq=(e?this.$A:0);var gr=this.get_dom().vizItems;var gs=this.get_dom().nonVizItems;this.$u(!L);this.$t(true);this.$v(false);fj.$3(this.$m());fj.$3(this.$p());fj.$3(this.$r());if(tab.FullscreenUtil.get_inFullscreenMode()){fj.$1(gr);fj.$1(gs);this.$t(false);return}if(L){if(this.$d(gp,this.$D,gq,this.$y)){fj.$4(gr);fj.$4(gs)}else{fj.$1(gr);fj.$1(gs)}return}if(this.$d(gp,this.$E,gq,this.$z)&&!L){fj.$4(gr);fj.$4(gs)}else if(this.$d(gp,this.$D,gq,this.$y)&&go){this.$u(false);fj.$4(gr);fj.$4(gs)}else if(this.$d(gp,this.$C,gq,this.$z)){fj.$1(gr);fj.$4(gs)}else if(this.$d(gp,this.$E,gq,this.$x)){fj.$4(gr);fj.$1(gs)}else{fj.$1(gr);fj.$1(gs);var gt=this.$C;var gu=this.$x;if(ss.isValue(this.$r())){if(!this.$d(gp,gt,gq,gu)){this.$r().element.hide();gt-=this.$w}}if(ss.isValue(this.$m())){if(!this.$d(gp,gt,gq,gu)){this.$m().element.hide();gu-=this.$w}}if(ss.isValue(this.$p())){if(!this.$d(gp,gt,gq,gu)){this.$p().element.hide();gu-=this.$w}}if(!this.$d(gp,gt,gq,gu)){this.$v(true)}}},$i:function(){this.get_dom().toolbar.height(fk.get_toolbarHeight());this.$j();this.rebuildNonVizItems();this.rebuildPublicItems();this.$h()},$j:function(){this.get_dom().vizItems.empty();this.$s(null);var e=ss.getEnumerator(this.$B.get_vizItems());try{while(e.moveNext()){var L=e.current();var go=fe.create(L);this.get_dom().vizItems.append(go.element);if(ss.equalsT('redo',L.get_iconType())){this.$s(go)}}}finally{e.dispose()}if(tsConfig.is_metrics_enabled){var gp=new ff(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$B,this.$B.showPerformanceMetrics));var gq=fe.create(gp);this.get_dom().vizItems.append(gq.element)}},rebuildNonVizItems:function(){this.get_dom().nonVizItems.empty();if(!tab.FullscreenUtil.get_inFullscreenMode()){this.$n(null);this.$q(null);var e=ss.getEnumerator(this.$B.get_nonVizItems());try{while(e.moveNext()){var L=e.current();var go=fe.create(L);this.get_dom().nonVizItems.append(go.element);if(ss.equalsT('customviews',L.get_iconType())){go.get_dom().get_text().css('max-width','160px');this.$n(go)}else if(ss.equalsT('edit',L.get_iconType())){this.$q(go)}}}finally{e.dispose()}}if(this.get_viewModel().get_shouldShowCommenting()){var gp=T.get_instance().get_rightAreaDrawerViewModel();var gq=function(){gp.done(function(gv){gv.toggle()})};var gr=new ff(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',gq);var gs=fe.create(gr);this.get_dom().nonVizItems.append(gs.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gs)}))}if(tab.FeatureFlags.isEnabled('VizToolbarFullscreenButton')){if(tab.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile){var gt=(tab.FullscreenUtil.get_inFullscreenMode()?new ff(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',tab.FullscreenUtil.exitFullscreen):new ff(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){tab.FullscreenUtil.requestFullscreen(document.documentElement)}));var gu=fe.create(gt);this.get_dom().nonVizItems.append(gu.element)}}this.updateCustomViewsButton()},$e:function(){this.$i()},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$m())){return}var e=this.$o().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$m().element.css('visibility','hidden')}else{this.$m().element.css('visibility','');this.$m().element.toggleClass('tab-customviews-modified',this.$o().get_dirty());if(!ss.equalsT(this.$m().get_toolbarButton().get_label(),e)){this.$m().get_toolbarButton().set_label(e)}}},rebuildPublicItems:function(){if(!this.$B.get_shouldShowPublicWatermarkItems()){this.get_dom().publicItems.hide();return}this.get_dom().publicLogo.empty();this.get_dom().publicBelowLogo.empty();this.$b();this.get_dom().publicLogo.attr('title',tab.Strings.ToolbarAboutTableau);if(this.$B.get_shouldShowViewCount()){this.$c();if(this.$B.get_shouldShowAuthorByLine()){this.$a()}}if(this.$B.get_shouldShowAuthorByLine()){this.$9()}this.get_dom().publicItems.show()},$g:function(){this.rebuildPublicItems();this.$f()},$b:function(){this.get_dom().publicLogo.prop('href',this.$B.get_publicLogoLink());var e=$('<div />');e.addClass('tab-publicLogo');this.get_dom().publicLogo.append(e)},$c:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$B.get_localizedViewCount()));this.get_dom().publicBelowLogo.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().publicBelowLogo.append(e)},$9:function(){var e=$('<span>').html(this.$B.get_authorProfileLink());this.get_dom().publicBelowLogo.append(e)},$h:function(){this.get_dom().toolbar.width('10000px');fj.$2(this.get_dom().nonVizItems);fj.$3(this.$m());fj.$3(this.$p());fj.$3(this.$r());if(this.$w===0){this.$u(!this.$B.get_shouldForceLabelsBelowIcons());fj.$1(this.get_dom().vizItems);fj.$1(this.get_dom().nonVizItems);this.$C=this.get_dom().vizItems.outerWidth(true);this.$x=this.get_dom().nonVizItems.outerWidth(true);this.$w=ss.coalesce(ss.Int32.trunc(this.get_dom().vizItems.children().first().outerWidth(true)),0)}fj.$4(this.get_dom().vizItems);fj.$4(this.get_dom().nonVizItems);if(this.$B.get_canPutLabelsUnderneath()){this.$u(false);this.$D=this.get_dom().vizItems.outerWidth(true);this.$y=this.get_dom().nonVizItems.outerWidth(true)}if(!this.$B.get_shouldForceLabelsBelowIcons()){this.$u(true);this.$E=this.get_dom().vizItems.outerWidth(true);this.$z=this.get_dom().nonVizItems.outerWidth(true)}if(this.$B.get_shouldShowPublicWatermarkItems()){this.$v(false);this.$A=this.get_dom().publicItems.outerWidth(true)}this.get_dom().toolbar.width('');this.$f()},forceResizeToolbar:function(){this.$f()},$f:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var L=this.get_dom().vizItems;var go=this.get_dom().nonVizItems;if(L.children().length===0&&go.children().length===0){return}fj.$2(go);this.$l();fj.$0(go);this.$k()}finally{if(ss.isValue(e)){e.dispose()}}},$k:function(){var e=ss.getEnumerator(this.$B.get_nonVizItems());try{while(e.moveNext()){var L=e.current();if(ss.isValue(L.popupViewModel)){L.popupViewModel.updatePosition()}}}finally{e.dispose()}},$d:function(e,L,go,gp){if(L+go+gp>=e){return false}var gq=Math.max(L,gp)+go/2>=e/2;if(this.$B.get_shouldShowPublicWatermarkItems()&&go>0&&gq){return false}return true}},ss.makeGenericType(spiff.BaseView$1,[fk]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fk])]);ss.initClass(fk,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_shouldShowPublicWatermarkItems:function(){return fk.$0()&&tsConfig.watermarkdisplay},get_shouldShowAuthorByLine:function(){return fk.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return fk.$0()&&tsConfig.showViewCount&&this.$d>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_shouldShowCommenting:function(){return this.$2$4},set_shouldShowCommenting:function(e){this.$2$4=e},get_canPutLabelsUnderneath:function(){return fk.get_toolbarHeight()>40},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var L=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(L),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_viewCount:function(){return this.$d},set_viewCount:function(e){this.$d=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().IFh;var L=e[2];var go=e[8];var gp=e[9];return tableau.format.formatIntAuto(this.$d,L,go,gp)},get_vizCommandItems:function(){return this.$c.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$c.get_nonVizCommandItems()},get_legacyMenuItems:function(){return this.$c.get_legacyMenuItems()},get_vizItems:function(){return this.$e},get_nonVizItems:function(){return this.$b},get_customViewsViewModel:function(){return this.$9},get_dialogHostViewModel:function(){return this.$2$5},set_dialogHostViewModel:function(e){this.$2$5=e},get_forceHideCustomViewsButton:function(){return this.$a},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){spiff.BaseViewModel.prototype.dispose.call(this);this.$9.dispose();this.get_dialogHostViewModel().dispose();if(ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.dispose()}this.$5()},$4:function(e,L){for(var go=0;go<e.length;go++){var gp=e[go];var gq=tab.CommandItemWrapper.create(gp);tab.Param.verifyValue(gp,'commandItem');switch(gq.get_commandsType()){case'separator':{L.push(ff.createSeparator());break}case'item':{if(ff.shouldShowButton(gq,this)){this.$2(gp,L)}break}case'subcommands':{if(gq.get_iconRes()==='toggle-updates'){var gr={$:this.$3(tab.CommandsPresModelWrapper.create(gq.get_commands()).get_commandItems(),L)};var gs={$:tab.ApplicationModel.get_instance().get_workbook()};gs.$.withDashboard(ss.mkdel({workbook:gs,button:gr},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$e.length;e++){var L=this.$e[e];L.dispose()}ss.clear(this.$e);for(var go=0;go<this.$b.length;go++){var gp=this.$b[go];gp.dispose()}ss.clear(this.$b)},$7:function(e,L){if(this.$a&&this.$9.get_hasCustomViews()){this.$a=false;this.$6(null)}},$2:function(e,L){var go=ff.createFromCommandItem(e,'tab-icon-',this);var gp=this.get_dialogHostViewModel();go.add_showDialogRequested(ss.mkdel(gp,gp.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var gq=this.get_dialogHostViewModel();go.remove_showDialogRequested(ss.mkdel(gq,gq.show))})));L.push(go)},$3:function(e,L){if(e.length!==2){return null}var go=fi.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(go)){L.push(go)}return go},$6:function(e){var L=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$c.get_vizCommandItems(),this.$e)}this.$4(this.$c.get_nonVizCommandItems(),this.$b);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(L)){L.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$c.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().get_legacySession().saveAndOpenMetricsView()},showDialog:function(e){var L=ss.getEnumerator(this.get_nonVizItems());try{while(L.moveNext()){var go=L.current();if(ss.equalsT(e,go.get_iconType())){if(e==='alert'){go.execute()}else if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app&&tab.BrowserSupport.get_isIos()){go.showDialog()}else{go.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black')}return}}}finally{L.dispose()}},createDataAlertDialogViewModel:function(e){this.dataAlertDialogViewModel=new bH(e);this.dataAlertDialogViewModel.dialogViewModelDisposed=ss.delegateCombine(this.dataAlertDialogViewModel.dialogViewModelDisposed,ss.mkdel(this,this.$8));this.raiseActionEvent(this.$2$3);return this.dataAlertDialogViewModel},$8:function(){this.dataAlertDialogViewModel=null},handleDataAlertUpdate:function(){if(bH.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){this.createDataAlertDialogViewModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm);return}if(!bH.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){return}if(!bH.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel=null;return}if(bH.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.updateFromDialogPresModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fl,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$k},get_body:function(){return this.$i.get_body()},get_location:function(){return this.$o},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$j},set_horizontalOffset:function(e){this.$j=e},get_verticalOffset:function(){return this.$s},set_verticalOffset:function(e){this.$s=e},get_lastLocation:function(){return this.$l},set_lastLocation:function(e){this.$l=e},get_calculatedShownArgs:function(){return this.$h},get_showAbove:function(){return this.$n},set_showAbove:function(e){this.$n=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,L){this.requestLayout(ss.mkdel(this,function(){if(ss.isValue(L)){L()}this.get_body().empty().append(e)}))},isInSafeZone:function(e,L){var go=this.element.position();var gp=tab.DoubleUtil.roundToInt(this.element.outerWidth());var gq=tab.DoubleUtil.roundToInt(this.element.outerHeight());var gr=10;var gs=10;if(L){gr+=this.get_horizontalOffset();gs+=this.get_verticalOffset()}return e.x>=go.left-gr&&e.x<=go.left+gp+gr&&e.y>=go.top-gs&&e.y<=go.top+gq+gs},show:function(e,L){if(ss.isNullOrUndefined(L)||this.$q){this.close();return}this.set_lastLocation(L);this.ensureAttachedAndSized();this.$p=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e)}else{this.get_body().empty().append(e);this.requestLayout()}},move:function(e){if(!this.$k||ss.isNullOrUndefined(e)||ss.isValue(this.$o)&&this.$o.x===e.x&&this.$o.y===e.y){return}this.$l=e;this.requestLayout()},close:function(){this.set_freezePositionWhileOpen(false);this.$p=false;if(!this.$k){return}this.detach();this.$k=false;this.onClosed()},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$h=null;this.set_freezePositionWhileOpen(false);this.requestLayout()},requestLayout:function(e,L){if(ss.isValue(e)){this.$m.push(e)}if(ss.isValue(L)){bf.getViewport(ss.mkdel(this,function(go){this.layoutTooltip(go,L)}))}else{bf.getViewport(ss.mkdel(this,this.layoutTooltip))}},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$d:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$d();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,L){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(L)){return null}this.$o=e;var go=ss.isValue(this.$r)&&e.y>=ss.unbox(this.$r)-16;var gp=tab.DoubleUtil.roundToInt(this.element.height());var gq=tab.DoubleUtil.roundToInt(this.element.width());var gr=L.getVisibleRoom(e,1);var gs;if(!(gr.roomRight>=gq+this.get_horizontalOffset())&&gr.roomRight+gr.roomLeft>=gq+this.get_horizontalOffset()){gs=parseInt(Math.max(0,gr.roomRight-gq).toString())}else{gs=this.get_horizontalOffset()}var gt=gp+this.get_verticalOffset();var gu=gq+gs;var gv;var gw;if(gr.roomRight>=gu){gv=true;gw=e.x+gs}else if(gr.roomLeft>=gu){gv=false;gw=e.x+ss.Int32.trunc(gr.roomRight)-gu}else{gv=true;gw=Math.max(0,e.x-gu+ss.Int32.trunc(gr.roomRight))}var gx=(this.get_showAbove()?this.$7(e,gr,gt,gu):this.$8(e,gr,gt,gu,go));var gy=gx<=e.y;var gz=new eH;if(gy){if(gv){gz.position='AR'}else{gz.position='AL'}}else if(gv){gz.position='BR'}else{gz.position='BL'}gz.shownX=gw;gz.shownY=gx;gz.shownYOfUbertipContent=gx;gz.origX=e.x;gz.origY=e.y;gz.viewport=L;return gz},$g:function(e){if(ss.isValue(e)){var L=this.$b(e.position);if(!this.element.hasClass(L)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(L)}this.$h=e}},$c:function(){if(ss.isValue(this.$h)){this.element.css(ss.mkdict(['left',this.$h.shownX+'px','top',this.$h.shownY+'px']))}},$b:function(e){var L;switch(e){case'AR':{L='tab-tooltipAR';break}case'AL':{L='tab-tooltipAL';break}case'BL':{L='tab-tooltipBL';break}case'BR':default:{L='tab-tooltipBR';break}}return L},layoutTooltip:function(e,L){this.element.css(ss.mkdict(['top','0','left','0']));if(this.get_freezePositionWhileOpen()){this.$a()}else if(L){var go=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(go)){return}this.$g(go);this.$c()}else{this.$9();this.onPrePosition();var gp=this.$6(this.get_lastLocation(),e);if(!this.$e(gp)){this.$c();return}this.$g(gp);this.onPositionCalculated();if(this.$p){this.$p=false;this.$f()}this.$c();this.onPositioned()}},$a:function(){this.$9();this.$f();this.$c();this.onPositioned()},$f:function(){this.element.show();this.$k=true;this.onShowed()},$9:function(){for(var e=0;e<this.$m.length;e++){var L=this.$m[e];L()}ss.clear(this.$m)},$e:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$p){return true}if(eH.areShownArgsSame(e,this.$h)){return false}return true},$8:function(e,L,go,gp,gq){var gr;if(!gq&&L.roomBelow>=go){gr=e.y+this.get_verticalOffset();this.$r=null}else if(!gq&&L.roomAbove>=go&&L.roomRight>=gp){gr=e.y+(ss.Int32.trunc(L.roomBelow)-go+this.get_verticalOffset())}else if(L.roomAbove>=go){gr=e.y-go;if(!ss.isValue(this.$r)){this.$r=e.y}}else{gr=Math.max(0,e.y-ss.Int32.trunc(L.roomAbove))}return gr},$7:function(e,L,go,gp){var gq;if(L.roomAbove>=go){gq=e.y-go;if(!ss.isValue(this.$r)){this.$r=e.y}}else if(L.roomBelow>=go){gq=e.y+this.get_verticalOffset();this.$r=null}else if(L.roomAbove>=go&&L.roomRight>=gp){gq=e.y+(ss.Int32.trunc(L.roomBelow)-go+this.get_verticalOffset())}else{gq=Math.max(0,e.y-ss.Int32.trunc(L.roomAbove))}return gq},setSuppressTooltip:function(e){this.$q=e;if(this.$q&&this.$k&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable,dj]);ss.initClass(fn,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.$k.get_isShown()},get_tooltip:function(){return this.$k},get_ubertip:function(){return this.$l},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$f},get_defaultBehaviorType:function(){return this.$g},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$e)},$d:function(){return ss.mkdel(this,this.$3)},get_testUseOnlyLastHoveredObjectID:function(){return fn.$1},set_testUseOnlyLastHoveredObjectID:function(e){fn.$1=e},close:function(){this.$k.close()},hoverOverObject:function(e,L,go,gp,gq,gr,gs,gt){if(!this.readyForHover){return}if(ss.isNullOrUndefined(gp)){return}var gu=this.getHoverBehavior(gs);this.switchTooltipMode(gu);var gv=ss.referenceEquals(gp.toString(),fn.$1);var gw=ss.mkdel(this,function(gy){var gz=gt==='viz'&&fn.isUbertipHtmlEmpty(gy);this.get_currentBehavior().hoverOverObject(e,gq,gz,gv)});if(gs==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(gr)&&!this.shouldForceRemoteTooltipForObject(gs,gp)){if(gv){gw(this.get_ubertip().get_model())}else{var gx=this.getAffectedObjects('mark',gp);this.runBehaviorWithLocalUbertip(gw,gp,gx,L,go,gr,gt,gs,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(gw,{x:go.x,y:go.y,w:0,h:0},gt,'on-hover',gs,null,false,null)}},hoverOverWhitespace:function(e,L){if(!this.readyForHover){return}var go='W'===fn.$1;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||!go&&this.needRemoteCommand(L,'whitespace','on-hover',0)){fn.$1='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},L,'on-hover','whitespace',null,false,null)}}else if(this.$k.get_isShown()){fn.$1='W';this.$k.close()}},hoverOverHeader:function(e,L,go,gp,gq){if(!this.readyForHover){return}var gr=gq.length>0&&tab.ActionUtils.getApplicableActions(this.visualId.AVP,'on-hover','url').length>0;if(gr){var gs=!ss.referenceEquals(gq.toString(),fn.$1);this.hoverOverCoordinates(e,L,go,gp,gq,gs)}else{this.hoverOverCoordinates(e,L,go,gp)}},hoverOverCoordinates:function(e,L,go,gp,gq,gr){if(!this.readyForHover){return}fn.$1=(ss.isValue(gq)?gq.toString():'U');var gs=this.getHoverBehavior(go);this.switchTooltipMode(gs);var gt=ss.mkdel(this,function(gu){var gv=gp==='viz'&&fn.isUbertipHtmlEmpty(gu);this.get_currentBehavior().hoverOverObject(e,false,gv,false)});this.runBehaviorWithRemoteUbertip(gt,{x:L.x,y:L.y,w:0,h:0},gp,'on-hover',go,gq,gr,null)},singleSelectComplete:function(e,L,go,gp,gq,gr,gs){var gt=this.getSingleSelectBehavior(gr);this.switchTooltipMode(gt);this.suppressHoverIfNecesary();var gu=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&gr==='mark'){var gv=this.getAffectedObjects(gr,gp);this.runBehaviorWithLocalUbertip(gu,gp,gv,L,go,gq,gs,gr,'on-select')}else{var gw={x:go.x,y:go.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(gu,gw,gs,'on-select',gr,null,false,null)}},singleSelectCoordinates:function(e,L,go,gp){var gq=this.getSingleSelectBehavior(gp);this.switchTooltipMode(gq);var gr=ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(gr,{x:L.x,y:L.y,w:0,h:0},go,'on-select',gp,null,false,null)},multiSelectComplete:function(e,L,go){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var gp=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);fn.$1='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(gp,L,go,'on-select','unspecified',null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){fn.$1='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$5));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$9));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$8));this.$l.remove_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$l.remove_ubertipMenuClosed(ss.mkdel(this,this.$a));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.$k.setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.$g},getHoverBehavior:function(e){return this.$g},shouldForceRemoteTooltipForObject:function(e,L){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){fn.$2=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.$k.setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){var L=ss.isValue(e)&&e.tupleId===0;if(!L&&!ss.referenceEquals(e.tupleId,fn.$2)){return}var go=this.$l.get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(go)&&go.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(go)}}))},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.$l.get_model())?this.$l.get_model().tooltipOffset:null);if(!_.isEqual(e,this.$l.get_model())){this.$l.set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.interactedTupleId)){this.get_tooltip().interactedTupleId=e.interactedTupleId}else{}if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var L=this.get_currentBehavior();L.detach();var go=this.$2(e);go.attach();this.$f=e;this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.$l.prepareForPositioning(this.shouldShowCommandButtons()&&this.$l.hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.$l.get_isShowingActionAndCommandButtons()){return}this.$k.forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.$l.showCommandAreaAndActions()}else{this.$l.hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,L){var go=null;if(this.get_hasContextProvider()){if(ss.contains(this.$e.getSelectedObjects(e),L)){go=this.$e.getSelectedObjects(e)}else{go=[L]}}return go},isCurrentObjectSelected:function(){if(ss.isNullOrUndefined(this.$l.get_model())){return false}var e=this.$l.get_model();var L=((this.get_hasContextProvider()&&ss.isValue(e.interactedTupleId))?this.$e.isMarkSelected(ss.unbox(e.interactedTupleId)):e.tupleSelected);if(L){return true}var go=e.refLineSelected||e.trendLineSelected;if(go){return true}var gp=e.imageRegion;var gq=gp==='bottomaxis'||gp==='leftaxis'||gp==='rightaxis'||gp==='topaxis';if(gq){return true}var gr=gp==='xheader'||gp==='yheader';return gr},runBehaviorWithLocalUbertip:function(e,L,go,gp,gq,gr,gs,gt,gu){fn.$4+=1;fn.$3=this.visualId;var gv=fn.$4;this.$j={x:gq.x,y:gq.y};var gw=ss.mkdel(this,function(gz){if(!this.$4(gv.toString())){if(!ss.referenceEquals(this.visualId,fn.$3)){this.readyForHover=true}return}if(ss.isValue(gz)){gz.requestId=gv;this.modelUpdateCallback(gz);fn.$1=L.toString();if(gs==='viz'&&gz.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(gz)}}});var gx=new tab.LocalUbertipInfo([L],go,gr,false);if(this.needRemoteCommand(gs,gt,gu,L)){var gy=ss.mkdel(this,function(gz){if(!this.$4(gv.toString())||!ss.isValue(gz)){return}gz.requestId=gv;this.updateModelFromServerResponse(gz)});tab.UberTipClientCommands.localAndRemoteUberTipCommand(gp,gs,this.visualId,{x:gq.x,y:gq.y,w:0,h:0},L,gx,gw,gy,this.$d(),gu)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(gp,this.visualId,gx,gw)}},runBehaviorWithRemoteUbertip:function(e,L,go,gp,gq,gr,gs,gt){fn.$4+=1;fn.$3=this.visualId;var gu=fn.$4;this.$j={x:L.x,y:L.y};var gv=ss.mkdel(this,function(gw){if(!this.$4(gu.toString())){if(!ss.referenceEquals(this.visualId,fn.$3)){this.readyForHover=true}return}if(ss.isValue(gw)){gw.requestId=gu;this.modelUpdateCallback(gw);if(go==='viz'&&gw.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(gw)}}else{this.$1();fn.$1=(ss.isValue(gr)?gr.toString():((gq==='whitespace')?'W':'U'))}});tab.UberTipClientCommands.remoteOnlyUbertipCommand(go,this.visualId,L,gv,this.$d(),gp,gr,gs,gt)},needRemoteCommand:function(e,L,go,gp){if(tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||L!=='mark'&&L!=='whitespace'||go!=='on-hover'||this.$h>0){return true}var gq=ss.isValue(this.$e);var gr=gq&&this.$e.isMarkSelected(gp);return!gq||gr},$3:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$1:function(){this.$k.close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$5:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$8:function(e,L){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,L)}},$9:function(e,L){var go=tab.FeatureFlags.isEnabled('SelectionRelaxation')&&ss.isValue(L.command)&&L.command.commandType===23;if(!go){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,L)}if(go){this.$c()}},$c:function(){this.$k.set_freezePositionWhileOpen(true);var e=null;if(ss.isValue(fn.$2)&&ss.unbox(fn.$2)>0){e=fn.$2}this.runBehaviorWithRemoteUbertip(null,{x:this.$j.x,y:this.$j.y,w:0,h:0},'viz','on-select','mark',null,false,e)},$b:function(e){this.$i=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$a:function(){this.$i=false;this.get_currentBehavior().handleUbertipMenuClose()},$6:function(){this.$k.close()},$4:function(e){if(ss.isValue(e)&&!ss.referenceEquals(fn.$4.toString(),e)){return false}return true},$7:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$i){return}var L=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(L.x>e.pageX||L.x+L.w<=e.pageX||L.y>e.pageY||L.y+L.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(fm,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,L){var go=this.getAffectedObjects(e,L);return e==='mark'&&ss.isValue(go)&&go.length>1}},fn);ss.initEnum(fo,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(fp,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(fq,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(e){return function(){}},buildBehaviorsDictionary:function(){var e=new cc;this.tooltipBehaviors['disabled']=e},suppressHoverIfNecesary:function(){}},fn);ss.initClass(fr,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var e=this.tooltipBehaviors['smooth'];e.remove_onMouseStop(ss.mkdel(this,this.$r));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_closed(ss.mkdel(this,this.$s));this.$n();fn.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var e=spiff.ObjectRegistry.newLegacyTooltipBehavior(ds).call(null,ds,this.get_tooltip());var L=new eK(this.get_tooltip());this.tooltipBehaviors['sticky']=e;this.tooltipBehaviors['smooth']=L},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isCurrentObjectSelected()){this.switchTooltipMode('smooth');this.$o()}})},shouldShowCommandButtons:function(){var e=fn.prototype.shouldShowCommandButtons.call(this);var L=this.get_ubertip().get_model();if(!e||ss.isNullOrUndefined(L)){return e}var go=L.tupleId===0;if(!go){e=this.isCurrentObjectSelected()}return e},getSingleSelectBehavior:function(e){return'sticky'},getHoverBehavior:function(e){var L=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(e==='header'||e==='visualparts'){L='sticky'}else if(e==='mark'){L='smooth'}else{}}else if(e==='header'){L='sticky'}else{L='smooth'}return L},onPanOrDragStart:function(e){this.$n();fn.prototype.onPanOrDragStart.call(this,e)},onDragEnd:function(e){this.get_tooltip().close();this.$m();fn.prototype.onDragEnd.call(this,e)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$m()}else{this.$n()}},$s:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true)},$p:function(e){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(e)}},$q:function(e){if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:e.pageX,y:e.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$r:function(e){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}var L=false;var go=this.isCurrentObjectSelected();if(go){L=this.switchTooltipMode('sticky')}this.$o();if(L&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$o:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&fn.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&fn.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$m:function(){if(this.$t){return}this.$u.on(this.$v,ss.mkdel(this,this.$p));this.$u.on(this.$w,ss.mkdel(this,this.$q));this.$t=true},$n:function(){if(!this.$t){return}this.$u.off(this.$v);this.$u.off(this.$w);this.$t=false}},fn);ss.initClass(fs,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initEnum(ft,a,{hover:0,click:1,dragSelect:2});ss.initClass(fv,a,{});ss.initClass(fw,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$17},set_model:function(e){this.$17=e;this.$v()},get_isShowingActionAndCommandButtons:function(){return this.$Z.is(':visible')||this.$W.is(':visible')},$U:function(){return this.$13&&this.hasSummary()},dispose:function(){this.element.detach();this.$1b.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1b.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1a);this.$e();this.$f();spiff.Widget.prototype.dispose.call(this)},$e:function(){if(!ss.staticEquals(this.$Y,null)){this.$1b.remove_positioned(this.$Y);this.$Y=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$17)){return false}var e=ss.isValue(this.$17.actionPMs)&&this.$17.actionPMs.length>0;var L=ss.isValue(this.$17.actions)&&this.$17.actions.length>0;return e||L},hasCommands:function(){if(ss.isNullOrUndefined(this.$17)){return false}return ss.isValue(this.$17.buttonCommands)&&this.$17.buttonCommands.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$17)){return false}return ss.isValue(this.$17.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingActionAndCommandButtons()&&e){this.$1b.requestLayout(ss.mkdel(this,function(){this.$F();this.$10.css('min-width','')}))}else{this.$F();this.$10.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1b.get_isShown()){this.element.css('width','');this.$D(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$u()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1b.get_calculatedShownArgs())){return}if(this.get_isShowingActionAndCommandButtons()&&!this.$1b.get_freezePositionWhileOpen()){return}this.$g();var e=!this.get_isShowingActionAndCommandButtons();this.$F();var L=tab.DoubleUtil.roundToInt(this.element.outerHeight());if(!this.$1b.get_isShown()||L===0){this.$D(false);return}var go=this.$1b.get_calculatedShownArgs();var gp={x:go.shownX,y:go.shownYOfUbertipContent};var gq=go.viewport.getVisibleRoom(gp,1);var gr=ss.Int32.trunc(gq.roomBelow);var gs=ss.Int32.trunc(gq.roomRight);this.$D(false);this.$10.css('min-width',this.$h()+'px');var gt=tab.DoubleUtil.roundToInt(this.element.outerHeight());var gu=tab.DoubleUtil.roundToInt(this.$W.outerHeight(true));var gv=gt-L-gu;var gw=this.$m();if(gw>this.$19){this.$19=gw}this.$B(this.$19);var gx=this.$n(gt,gv);if(e){if(gx>gr||gw>gs){this.$z(gv);gx=this.$n(gt,gv)}}else if(gw>gs){this.$A(gw,gs)}var gy=gu>0&&gx>gr;if(gy){this.$Q(gr,gx,gp.y)}else{this.$l(gv,gr,gx,gp,e)}},$n:function(e,L){return(this.$c()?(e-L):e)},$z:function(e){this.$1b.layoutTooltip(this.$1b.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$18==='AL'||this.$G()){this.$1b.get_calculatedShownArgs().shownY=this.$1b.get_calculatedShownArgs().shownY+e;this.$1b.get_calculatedShownArgs().shownYOfUbertipContent=this.$1b.get_calculatedShownArgs().shownY}},$A:function(e,L){var go=this.$1b.get_calculatedShownArgs().shownX;var gp=2+e-L;this.$1b.get_calculatedShownArgs().shownX=Math.max(0,go-gp)},$Q:function(e,L,go){var gp=2+L-e;var gq=go-gp;this.$1b.get_calculatedShownArgs().shownY=gq;if(!this.$c()){this.$1b.get_calculatedShownArgs().shownYOfUbertipContent=gq}},$l:function(e,L,go,gp,gq){var gr=this.$1b.get_calculatedShownArgs().shownY;if(this.$c()){gr-=e}var gs=gp.y+L;var gt=Math.min(gr,gs-go);this.$F();this.$e();this.$Y=ss.mkdel(this,function(){this.$E(L,go,gt,gp.y,gq)});this.$1b.add_positioned(this.$Y)},$E:function(e,L,go,gp,gq){this.$e();this.$D(gq);switch(this.$18){case'BR':{if(gq){this.$T(gp-tab.DoubleUtil.roundToInt(this.$Z.height()),false)}this.$T(go,gq);break}case'BL':{break}case'AR':{if(e>=L&&this.$G()){this.$T(go,gq)}break}case'AL':{this.$T(go,gq);break}default:{break}}},$T:function(e,L){if(L){this.$1b.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1b.element.css('top',e+'px')}},$c:function(){return this.$18==='BL'||this.$18==='BR'},$G:function(){return(this.$18==='AR'||this.$18==='BR')&&this.$1b.get_calculatedShownArgs().shownX>this.$1b.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$16){this.$16=false;if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}}},hideSpinner:function(){if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$18)&&this.$18===this.$1b.get_calculatedShownArgs().position){return}switch(this.$1b.get_calculatedShownArgs().position){case'AL':case'AR':{this.$11.after(this.$Z);this.$10.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$11.before(this.$Z);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$18=this.$1b.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$9()},$9:function(){if(this.element.width()===0){return}var e=this.$m();this.$B(e)},$m:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$17)){this.set_model(e);return}this.$17.requestId=e.requestId;this.$R(e);this.$I(e);this.$M(e)},$M:function(e){var L=[];var go=null;var gp=null;if(ss.isValue(this.$17)){go=_.find(this.$17.placeHolders,function(gq){return gq.commandType===10});gp=_.find(e.buttonCommands,function(gq){return gq.commandType===10})}if(ss.isValue(gp)){if(!this.$U()){ss.remove(e.buttonCommands,gp);e.buttonCommands.push(gp);L.push(e.buttonCommands.length-1)}this.$17.placeHolders=[]}else if(ss.isValue(go)){this.$17.placeHolders=[];this.$17.placeHolders.push(go)}this.$17.buttonCommands=e.buttonCommands;this.$L(Array.prototype.slice.call(L))},$R:function(e){this.$17.selectionHtml=e.selectionHtml;this.$P();if(ss.isValue(this.$17.selectionHtml)&&this.get_isShowingActionAndCommandButtons()){this.$u();this.$9()}},$I:function(e){this.$17.actionPMs=e.actionPMs;this.$17.actions=e.actions;this.$H();this.$t()},$t:function(){if(this.$16){this.$16=false;if(ss.isValue(this.$17)){for(var e=0;e<this.$17.actions.length;e++){var L=this.$17.actions[e];if(ss.referenceEquals(L.name,this.$V)){var go=new J;go.action=L;this.onActionExecuted(go)}}}}},onCommandExecuted:function(e){if(ss.isValue(this.$2$1)){this.$2$1(this,e)}},onActionExecuted:function(e){if(ss.isValue(this.$2$2)){this.$2$2(this,e)}},$f:function(){this.$12.dispose()},$B:function(e){this.element.css('min-width',e+'px');this.$19=e},$g:function(){this.element.css('min-width','')},$v:function(){this.$f();this.element.show();this.$S();this.$H();this.$L(null);this.$N();this.$P();this.$u();var e=tab.MiscUtil.isNullOrEmpty(this.$17.actions);var L=tab.MiscUtil.isNullOrEmpty(this.$17.actionPMs);var go=ss.isNullOrEmptyString(this.$17.tooltipHtml);var gp=e&&L&&go;if(gp){this.$11.addClass('hide')}else{this.$11.removeClass('hide')}},$u:function(){this.$g();this.$11.css('height','');this.$Z.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$B(e)}else if(this.element.width()>0){this.$19=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$19=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var L=-1;var go=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(go)){go=70}if(e>0&&this.$19>0&&this.$19>=e&&this.$19-e<=ss.unbox(go)){L=this.$19}return L},$h:function(){var e=0;this.$10.find('li').each(function(L,go){e+=go.firstChild.offsetWidth});return e},$F:function(){this.$1b.element.stop();this.$W.stop();this.$Z.stop();this.$W.hide();this.$Z.hide()},$D:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$W.show()}else{this.$W.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$Z.slideDown('fast')}else{this.$Z.show()}}},$S:function(){var e=$(this.$17.tooltipHtml);this.$w(e);this.element.find('.tab-ubertipTooltip').html('').append(e);this.$8()},$w:function(e){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')){return}ss.clearKeys(this.$14);var L=e.find('a.relax-selection');for(var go=0;go<L.length;go++){var gp=L.eq(go);var gq=gp.children().eq(0);gq.unwrap().unwrap();if(tsConfig.allow_select){if(gq.css('text-decoration')==='underline'){gq.addClass('underlined')}gq.addClass('tab-selection-relaxation');gq.css('text-decoration','');this.$14[gp.attr('href')]=gq}}},$P:function(){if(ss.isNullOrUndefined(this.$17.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$17.selectionHtml).removeClass('hide')}},$b:function(e,L,go){if(e.get_commandsType()!=='subcommands'){return false}var gp=[];gd.newMenuItemsFromCommands(gp,e.get_commands(),gd.createDropdownMenuCommands,tab.PermissionManager.buildCommandPermission());if(gp.length===0){return false}var gq=this.$k(e);var gr=new spiff.MenuViewModel(true);gr.set_menu(new spiff.Menu(gp));var gs=ss.mkdel(this,function(){this.$r(gr,gq)});gq.add_click(gs);gr.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var gt=function(){gr.hide()};this.$1b.add_closed(gt);this.$12.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gq.remove_click(gs);gr.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);gr.remove_hidden(ss.mkdel(this,this.$s));this.$1b.remove_closed(gt)})));if(go){L.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var gu=$('<li></li>');gu.append(gq.element);L.append(gu);this.$12.add$1(gr);spiff.ObjectRegistry.newView(spiff.MenuView).call(null,[gr]);return true},$s:function(){if(ss.isValue(this.$2$4)){this.$2$4()}},$r:function(e,L){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$s));e.hide();if(ss.isValue(this.$2$3)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$s));var go=spiff.ShowMenuOptions.create(L.element,false,tab.DoubleUtil.roundToInt(L.element.outerWidth(false)));e.show(go);if(ss.isValue(this.$2$3)){this.$2$3(true)}}},$L:function(e){if(!this.$X){return}var L=false;var go=$('<ul></ul>');if(ss.isValue(this.$17.nestedCommands)){for(var gp=0;gp<this.$17.nestedCommands.length;gp++){var gq=this.$17.nestedCommands[gp];var gr=gq.item1;var gs=gq.item2;if(gr){var gt=this.$17.buttonCommands[gs];if(ss.isValue(gt)&&gt.status!=='hidden'){var gu=ss.isValue(e)&&ss.contains(e,gs);this.$a(gt,go,L,gu);L=true}}else{L=this.$b(this.$17.subcommands[gs],go,L)||L}}}else if(ss.isValue(this.$17.buttonCommands)){for(var gv=0;gv<this.$17.buttonCommands.length;++gv){var gw=this.$17.buttonCommands[gv];if(ss.isValue(gw)&&gw.status!=='hidden'){var gx=ss.isValue(e)&&ss.contains(e,gv);this.$a(gw,go,L,gx);L=true}}}this.$7(go,L);if(L){this.$10.html('').append(go).removeClass('hide')}else{this.$10.html('').addClass('hide')}},$a:function(e,L,go,gp){var gq=this.$j(e);gq.set_context(e);this.$6(gq,ss.mkdel(this,this.$q));if(ss.keyExists(fw.$e,e.commandType)){gq.element.width(fw.$e[e.commandType])}if(gp){gq.element.fadeIn()}if(go){L.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var gr=$('<li></li>');gr.append(gq.element);L.append(gr)},$j:function(e){var L=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var go=ss.formatString('Ubertip{0}Mobile',fw.$1(e));var gp=tab.Strings.getString(go);if(ss.referenceEquals(gp,ss.formatString('!{0}!',go))){gp=e.name}var gq=$('<div>'+gp+'</div>');L.setLabelContents(gq)}else{L.set_label(e.name);L.set_hoverTooltipText(e.description)}var gr=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.imageRes)){gr.append(e.commandType)}else{gr.append(fw.$1(e))}gr.append(' ').append(e.status);L.element.addClass(gr.toString());if(e.status==='disabled'){L.set_disabled(true)}this.$12.add$1(L);return L},$k:function(e){var L=spiff.LabelButton.newNativeButton();L.set_label(e.get_name());L.set_hoverTooltipText(e.get_description());L.element.addClass('enabled'.toString());$('<span>').addClass('tabTooltipMenuDropdownBtnIcon').appendTo(L.element);this.$12.add$1(L);return L},$7:function(e,L){if(ss.isValue(this.get_model().placeHolders)){var go=this.get_model().placeHolders;for(var gp=0;gp<go.length;gp++){var gq=go[gp];var gr=$("<li><div class='tab-separator'>&nbsp;</div></li>");var gs=fw.$0(gq);this.$12.add$1(gs);var gt=$('<li></li>');gt.append(gs.element);if(gq.commandType===10&&this.$U()&&L){var gu=_.filter(this.$17.buttonCommands,function(gx){return gx.commandType===2});if(ss.isValue(gu)){var gv=e.children().get(2);gr.insertAfter(gv);gt.insertAfter(gr)}else{var gw=e.children().get(0);gt.insertBefore(gw);gr.insertBefore(gw)}}else{if(L){e.append(gr)}e.append(gt)}document.documentElement.appendChild(e.first().get(0));fw.$e[gq.commandType]=tab.DoubleUtil.roundToInt(gs.element.innerWidth());gs.element.width(fw.$e[gq.commandType]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,L){var go=function(){L(e)};e.add_click(go);this.$12.add$1(new tab.CallOnDispose(function(){e.remove_click(go)}))},$q:function(e){var L=new bn;L.command=e.get_context();this.onCommandExecuted(L)},$o:function(e){var L=new J;L.action=e.get_context();this.onActionExecuted(L)},$p:function(e){var L=e.get_context();if(tab.ActionUtils.isFilterAction(L)||tab.ActionUtils.isHighlightAction(L)&&!tab.ActionUtils.isTargetOfActionLocal(L)){tab.CommandController.get().get_legacySession().get_waitHandler().showAndLock(false);this.$16=true;this.$V=e.get_labelElement().text()}else{var go=tab.ModelUtils.getVisualModelFromVisualId(this.$17.visualId);var gp=[this.$17.tupleId];tab.UberTipClientCommands.executeUbertipAction(L,gp,go)}},$H:function(){if(tab.MiscUtil.isNullOrEmpty(this.$17.actions)&&tab.MiscUtil.isNullOrEmpty(this.$17.actionPMs)){this.$W.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$17.actions)){this.$K()}else{this.$J()}},$K:function(){var e=$('<ul></ul>');for(var L=0;L<this.$17.actions.length;L++){var go=this.$17.actions[L];this.$i(e,go.name,go,ss.mkdel(this,this.$o))}var gp=tab.DoubleUtil.roundToInt(this.element.height());this.$W.html('').append(e).removeClass('hide invisible');var gq=tab.DoubleUtil.roundToInt(this.element.height());if(gq!==gp){this.$1b.requestLayout(null,true)}},$J:function(){var e=$('<ul></ul>');var L=tab.ModelUtils.getVisualModelFromVisualId(this.$17.visualId);if(!ss.isValue(L)){return}var go=false;var gp=true;for(var gq=0;gq<this.$17.actionPMs.length;gq++){var gr=this.$17.actionPMs[gq];var gs=tab.ActionUtils.getActionType(gr);if(!this.$X&&gs!=='highlight'){continue}var gt=L.get_vizDataModel();var gu=[this.$17.tupleId];var gv=tab.ApplicationModel.get_instance().get_dataDictionary();var gw=(ss.isValue(gr.LeZ)?gr.LeZ.cqY:null);var gx=tab.VizDataUtils.constructUrlFromString(gv,gr.dMo02,gt,gu,L.get_worksheetName(),gw);var gy=false;if(gs==='url'){var gz=tab.ActionUtils.getUrlActionPm(gr,L,gu);gy=gz.item2==='urlConstructionFail';if(ss.isNullOrUndefined(gz.item1)||ss.isNullOrEmptyString(gx)){gp=false}}if(!gy){this.$i(e,gx,gr,ss.mkdel(this,this.$p))}if(gs==='filter'||gs==='url'){go=true}}if(e.find('li').length>0){var gA=-1;if(ss.isValue(L.get_sceneModel())){gA=L.get_sceneModel().get_paneDescriptorCount()}else{}if(gA>1&&go||!gp){this.$W.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$W.html('').append(e).removeClass('hide invisible')}}},$i:function(e,L,go,gp){var gq=spiff.LabelButton.newAnchorButton();gq.set_label(L);gq.element.addClass('tab-action');gq.set_context(go);this.$6(gq,gp);this.$12.add$1(gq);var gr=$('<li></li>');gr.append(gq.element);e.append(gr)},$O:function(){if(!ss.isValue(this.$17.tupleId)){return}var e=ss.unbox(this.$17.tupleId);var L=new ss.ObjectEnumerator(this.$14);try{while(L.moveNext()){var go=L.current();var gp=this.$d(e,go.key);this.$17.contentCommands.push(gp)}}finally{L.dispose()}},$d:function(e,L){var go={};go['J_M']=this.$17.visualId;go['AVP']=this.$17.visualId.AVP;go['HBp02']=L;go['OBN']=e;var gp=tab.CommandUtils.newCommand('select-by-tuple-value',go);var gq={commandType:23,name:L,command:gp};return gq},$N:function(){if(ss.isNullOrUndefined(this.$17.contentCommands)){this.$17.contentCommands=[];this.$O()}this.$C()},$C:function(){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')||!tsConfig.allow_select){return}tab.MiscUtil.dispose(this.$1a);for(var e=0;e<this.$17.contentCommands.length;e++){var L={$:this.$17.contentCommands[e]};if(!ss.keyExists(this.$14,L.$.name)){continue}var go=this.$14[L.$.name];var gp={};gp.tap=ss.mkdel({command:L,$this:this},function(){var gq=this.$this;var gr=new bn;gr.command=this.command.$;gq.onCommandExecuted(gr)});this.$1a.push(new spiff.TableauEventHandler.$ctor1(go.get(0),gp))}},$8:function(){if(!tab.FeatureFlags.isEnabled('VizInTooltips')){return}var e=this.element.find('.tab-ubertipTooltip div[data-tableau="VizInTooltip"]');var L=e.get();for(var go=0;go<L.length;go++){var gp=L[go];if(ss.isValue(gp)){var gq=gp.getAttribute('data-src');gq=ss.replaceAllString(gq,'%TUPLE_ID%',ss.unbox(this.$17.tupleId).toString());gp.setAttribute('src',gq);var gr=gp.clientWidth;var gs=gp.clientHeight;this.$15[gq]=gp;var gt=new dc(null,0,gq,{l:0,t:0,w:gr,h:gs},0);this.vizInTooltipsImageDownloadQueue.addImage(gt)}}},$x:function(e,L){if(ss.isValue(L.get_image().get_imageNode())){var go=L.get_image().get_imageNode();var gp=L.get_image().get_src();en.ensureImageEltSize(go,L.get_image().get_bounds());if(ss.keyExists(this.$15,gp)){this.$15[gp].appendChild(go)}}},$y:function(e,L){}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(fx,a,{});ss.initClass(fy,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_userSelected:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_userSelected:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_props:function(){return this.$2$3},set_props:function(e){this.$2$3=e},get_searchTerm:function(){return this.$6},set_searchTerm:function(e){if(ss.referenceEquals(this.$6,e)){return}this.$6=e;var L=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(e,0);L.done(ss.mkdel(this,function(go){this.get_props().items=[];this.get_props().activeUser=go.items[0];this.get_props().startingY=null;this.$4=0;this.$2(go)}))},reset:function(){this.$6=null;this.$5=false;this.$4=0;this.get_props().items=[];this.get_props().activeUser=null;this.raiseActionEvent(this.$2$1)},selectUser:function(e){this.raiseActionEvent$1(Object).call(this,this.$2$2,e)},handleScrollStop:function(e,L){if(e.y===L.y){this.get_props().fetchNextPage()}},updateActiveUser:function(e){var L=this.get_props().items[e];if(ss.isNullOrUndefined(L)||ss.referenceEquals(this.get_props().activeUser,L.data)){return}if(e<this.$4){this.$4--}else if(e>=this.$4+6){this.$4++}this.get_props().activeUser=L.data;this.get_props().startingY=-(this.$4*26);this.raiseActionEvent(this.$2$1)},$3:function(){if(!this.$5){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.get_searchTerm(),this.get_props().items.length);e.done(ss.mkdel(this,this.$2))},$2:function(e){this.$5=e.moreItems;_.map(e.items,ss.mkdel(this,function(L){return this.get_props().items.push({data:L})}));this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fz,a,{$3:function(e,L,go){var gp={x:0,y:0,w:e.w,h:e.h};if(L>=0&&this.$g.$1){var gq=this.$g.$3[L];var gr=this.$g.$3[L+1];gp.x+=gq;gp.w=gr-gq}if(go>=0&&this.$g.$2){var gs=this.$g.$4[go];var gt=this.$g.$4[go+1];gp.y+=gs;gp.h=gt-gs}return gp},$7:function(e){return this.$h[e]},$8:function(e){var L=this.$e[e];return this.$h[L]},$4:function(e){return this.$e[e]},$5:function(e){return this.$d[e+1]-this.$d[e]},$6:function(e){return{firstMark:this.$d[e],lastMark:this.$d[e+1]-1}},$2:function(e){var L=e.c['user_pane_col'];var go=e.c['user_pane_row'];var gp=e.paneRect;var gq=e.markCount;var gr=0;var gs=-1;var gt=-1;var gu=ss.isNullOrUndefined(go);var gv=ss.isNullOrUndefined(L);if(!gu||!gv){for(var gw=0;gw<gq;++gw){var gx=(gv?-1:L.v[(L.c?0:gw)]);var gy=(gu?-1:go.v[(go.c?0:gw)]);if(gx!==gs||gy!==gt){this.$1(gw,gr,gx,gy,gp);gs=gx;gt=gy;gr+=1}}}this.$d[gr]=gq;this.$0(gr);return gr},$0:function(e){if(e===0){return}var L=e-1;var go=this.$d[L];var gp=this.$d[e];for(var gq=go;gq<gp;++gq){this.$e[gq]=L}},$1:function(e,L,go,gp,gq){if(ss.isValue(this.$c)){this.$c[L]=go}if(ss.isValue(this.$f)){this.$f[L]=gp}this.$h[L]=this.$3(gq,go,gp);this.$d[L]=e;this.$0(L)},$9:function(e){for(var L=0;L<this.$b;++L){var go=this.$7(L);var gp=this.$6(L);var gq=gp.firstMark;var gr=gp.lastMark;for(var gs=gq;gs<=gr;++gs){e(gs,go)}}},$a:function(e,L){var go=-1;var gp=null;for(var gq=0;gq<e.length;gq++){var gr=e[gq];var gs=this.$e[gr];if(gs!==go){go=gs;gp=this.$7(gs)}L(gr,gp)}}});ss.initClass(fA,a,{render:function(){var e={tap:ss.mkdel(this,function(gp){this.props.viewModel.removeUser(this.props.user)})};var L=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['']);var go=React.DOM.span({className:'tabUserPillName'},this.props.user.friendlyName);return React.DOM.div(this.$0(),go,L)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.user.friendlyName:this.props.errorText)}}},React.Component);ss.initClass(fB,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(gq){return React.createElement(fA,{viewModel:this.props.userPillsViewModel,user:gq,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(gq),errorText:this.props.userInvalidText})}));var L=new spiff.ScrollingProps;L.scrollY=true;L.scrollbars=true;L.alwaysShowScrollbarsIfScrollable=true;var go=L;var gp=spiff.ScrollingComponent.createScroller(go,e);return React.DOM.div({className:'tabUserPillsComponent'},gp)}},React.Component);ss.initClass(fC,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(L){return L.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var L=ss.remove(this.get_props().users,e);if(L){this.raiseActionEvent(this.$2$1)}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fD,a,{render:function(){return React.DOM.div({className:'tabUserSearchComponent'},this.$2(),this.$1())},$0:function(e){var L=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(L)){L.value=''}},$2:function(){return React.DOM.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.userSearchViewModel.placeholderMessage,onKeyUp:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyUp),onKeyDown:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyDown),tabIndex:0,ref:'tabUserSearchInputRef'})},$1:function(){return React.createElement(dP,this.props.userSearchViewModel.get_userListViewModel().get_props())}},React.Component);ss.initClass(fE,a,{render:function(){return React.DOM.div({className:'tab-UserSearchSelectorComponent'},this.$0(),this.$1())},$1:function(){return React.createElement(fD,this.props.userSearchProps)},$0:function(){return React.createElement(fB,this.props.userPillsProps)}},React.Component);ss.initClass(fF,a,{get_users:function(){return this.userPillsProps.users}});ss.initClass(fG,a,{get_users:function(){return this.get_props().userPillsProps.users},get_userSearchViewModel:function(){return this.$3$1},set_userSearchViewModel:function(e){this.$3$1=e},get_userPillsViewModel:function(){return this.$3$2},set_userPillsViewModel:function(e){this.$3$2=e},setUserValidator:function(e,L){this.get_props().userPillsProps.userValidator=e;this.get_props().userPillsProps.userInvalidText=L},$4:function(){this.updateProps()},onUserSelected:function(e){this.get_userPillsViewModel().addUser(e)}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[fF]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[fF])]);fG.$ctor1.prototype=fG.prototype;ss.initClass(fH,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_userSelected:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_userSelected:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_props:function(){return this.$2$3},set_props:function(e){this.$2$3=e},get_userListViewModel:function(){return this.$2$4},set_userListViewModel:function(e){this.$2$4=e},handleInputKeyUp:function(e){var L=e.keyCode;if(L===40||L===38||L===13){return}this.$7=e.target.value;this.$6.invokeActionDelayed()},handleInputKeyDown:function(e){var L=this.$5;switch(e.keyCode){case 40:{this.$5=this.$2(1);if(L!==this.$5){this.get_userListViewModel().updateActiveUser(this.$5)}e.preventDefault();break}case 38:{this.$5=this.$2(-1);if(L!==this.$5){this.get_userListViewModel().updateActiveUser(this.$5)}e.preventDefault();break}case 13:{var go=this.get_userListViewModel().get_props().items[this.$5];if(ss.isValue(go)){this.get_userListViewModel().selectUser(go.data)}e.preventDefault();break}}},$2:function(e){var L=this.$5+e;if(L<0||L>=this.get_userListViewModel().get_props().items.length){return this.$5}return L},$3:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){this.$5=0;this.get_userListViewModel().reset();this.raiseActionEvent$1(Object).call(this,this.$2$2,e)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);fH.$ctor1.prototype=fH.prototype;ss.initClass(fI,a,{get_addVariableCtrlBtnArea:function(){return this.$1},get_addVariableCtrlVarSelector:function(){return this.$2}},spiff.Template,[ss.IDisposable]);ss.initClass(fJ,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},dr,[ss.IDisposable]);ss.initClass(fK,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.imageCacheVersion},get_viewWidget:function(){return this.viewWidget},get_viewSession:function(){return this.viewSession},get_sheetName:function(){return this.sheetName},dispose:function(){this.viewWidget=null;this.$4.dispose()},setTiledViewer:function(e){this.viewWidget=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var L=e.layoutStatus;var go=e.primarySheet;if(ss.isNullOrUndefined(L)){return}if(ss.isValue(L.MUp)&&ss.referenceEquals(go,this.sheetName)){this.viewModified=L.MUp}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var gp=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.sheetName);if(gp.get_isVisualValid()){this.viewWidget.doTiledViewerRefreshImages(gp.get_cacheUrlInfo());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(fK.$1$1,null)){fK.$1$1(this.sheetName,e)}this.$0(e)},$3:function(e){if(!ss.isValue(e)){return}if(ss.isValue(e.data)){if(ss.isValue(e.data.layoutStatus)){if(ss.isValue(e.data.layoutStatus.MUp)){this.viewModified=e.data.layoutStatus.MUp}}else{}}if(ss.referenceEquals(e.oldActive,this.viewWidget)){this.active=false}else if(ss.referenceEquals(e.newActive,this.viewWidget)){this.active=true}},incrementCacheVersion:function(){this.imageCacheVersion+=1},$2:function(){W.add_activeViewChanged(ss.mkdel(this,this.$3));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){W.remove_activeViewChanged(ss.mkdel(this,this.$3))})))}},null,[ss.IDisposable]);ss.initClass(fL,a,{get_toolbarViewModel:function(){return this.$j.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$k)){this.$k.dispose();this.$k=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var L=tableau.types.ExportDialogType['ExportImage'];var go=[];var gp=[];if(this.$j.get_isDashboard()){var gq={};var gr=this.$j.get_viewControllers();if(ss.isValue(gr)){$.each(gr,function(gs,gt){var gu=gt.get_viewWidget().get_scrollPosition();var gv=gu.x;var gw=gu.y;if(gv!==0||gw!==0){gq[gt.get_sheetName()+'-x']=gv;gq[gt.get_sheetName()+'-y']=gw;gp.push({x:gv,y:gw});go.push(gt.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,L,go,gp)},exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var L=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(L)){window.open(L.formatUnderlyingDataURL(null),L.getWindow('vud'),'scrollbars,resizable')}},exportCrosstab:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var L=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(L)){var go=tableau.types.ExportDialogType['ExportCrosstab'];L.fileDownloadHelper.openDownload(L.formatExportCrossTabURL('utf16'),go)}},exportPdf:function(){if(ss.isValue(this.$k)){this.$k.dispose()}this.$j.$7(ss.mkdel(this,function(e){this.$k=e;this.$k.add_closed(ss.mkdel(this,function(){this.$k.dispose();this.$k=null}));this.$k.show()}))},$7:function(){tab.WorksheetServerCommands.revert()},$4:function(){if(this.$j.get_autoUpdate()){this.$i()}},$6:function(){if(!this.$j.get_autoUpdate()){this.$i()}},$2:function(){return this.$j.get_autoUpdate()},$i:function(){this.$j.set_autoUpdate(!this.$j.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$j.get_autoUpdate());tab.BaseSession.autoUpdate=this.$j.get_autoUpdate();if(this.$j.get_autoUpdate()&&this.$j.get_invalid()){tab.CommandController.get().refreshLayout()}},$3:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(){var e;if(tsConfig.is_metrics_view){e=this.$j.get_session().metricsViewDownloadUrl()}else{e=this.$8(tsConfig.downloadURI)}window.open(e)},$1:function(e){var L;if(tsConfig.is_metrics_view){L=this.$j.get_session().metricsViewDownloadUrl()}else{L=this.$8(e)}window.open(L)},$5:function(){tab.ToolbarServerCommands.refreshData()},$9:function(){this.$j.get_session().saveAndOpenMetricsView()},$g:function(){if(ss.isValue(this.$j.get_toolbarViewModel())){this.$j.get_toolbarViewModel().showDialog('share')}},$c:function(){if(ss.isValue(this.$j.get_toolbarViewModel())){this.$j.get_toolbarViewModel().showDialog('customviews')}},$d:function(){if(ss.isValue(this.$j.get_toolbarViewModel())){this.$j.get_toolbarViewModel().showDialog('alert')}},$h:function(){if(ss.isValue(this.$j.get_toolbarViewModel())){this.$j.get_toolbarViewModel().showDialog('subscribe')}},$f:function(){if(ss.isValue(this.$j.get_toolbarViewModel())){this.$j.get_toolbarViewModel().showPerformanceMetrics()}},$e:function(){if(ss.isValue(this.$j.get_toolbarViewModel())){this.$j.get_toolbarViewModel().showDialog('download')}},$b:function(){},$a:function(){},$8:function(e){if(ss.isValue(e)){var L=e.match(fL.$0);if(ss.isValue(L)&&L.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+L[1]}}return e}},null,[ss.IDisposable]);ss.initClass(fM,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(e){this.$5=e},get_hoveredCategoricalNode:function(){return this.$4},set_hoveredCategoricalNode:function(e){if(!ss.referenceEquals(this.$4,e)){this.$7=this.$4;this.$4=e;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(e){var L={x:0,y:0,w:0,h:0};var go=[this.$7,this.$4];for(var gp=0;gp<go.length;gp++){var gq=go[gp];if(ss.isValue(gq)){var gr={x:gq.nTH,y:gq.Mk_,w:gq.XqN,h:gq.$UU};L=tab.RectXYUtil.union(L,gr)}}return tab.RectXYUtil.offsetRect(L,e)},isHovered:function(e){return ss.referenceEquals(e,this.$4)},isSelected:function(e){return ss.isValue(this.$9)&&this.$9.isNodeSelected(e)},isBrushed:function(e){return ss.isValue(this.$3)&&this.$3.isNodeSelected(e)},selectNode:function(e,L,go,gp){tab.SelectionClientCommands.selectNode(this.$8,e,go,this.$6,L,this.$a,gp)},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fN,a,{$0:function(){this.$6=null;this.$5=null},computeBoundsOfSelectedMarks:function(e,L){var go=e.get_selectionsModel().tupleSelection;var gp={x:0,y:0,w:0,h:0};var gq=go.get_ids();for(var gr=0;gr<gq.length;gr++){var gs=gq[gr];var gt=L.getMarkBoundingBox(gs);gp=tab.RectXYUtil.union(gp,gt)}return gp},computeBoundsOfSelectedNodes:function(e,L){var go=e.get_selectionsModel().nodeSelection;var gp={x:0,y:0,w:0,h:0};var gq=L;if(ss.isNullOrUndefined(gq)){return gp}var gr=gq.get_groupItemNodes();for(var gs=0;gs<gr.length;gs++){var gt=gr[gs];if(!go.isNodeSelected(gt)){continue}var gu=gt.nTH||0;var gv=gt.Mk_||0;var gw={x:gu,y:gv,w:gt.XqN,h:gt.$UU};gp=tab.RectXYUtil.union(gp,gw)}return gp},computeBoundsOfSelectedRefLines:function(e,L){var go=e.get_selectionsModel().refLineSelection;var gp={x:0,y:0,w:0,h:0};if(go.isEmpty){return gp}for(var gq=0;gq<L.length;gq++){var gr=L[gq];for(var gs=0;gs<gr.tOA.length;gs++){var gt=gr.tOA[gs];var gu=gt;if(!go.isObjectSelected(gu.YLs)){continue}for(var gv=0;gv<gu.tOA.length;gv++){var gw=gu.tOA[gv];if(gw.VzB!=='uEs'&&gw.VzB!=='jpw'){continue}var gx=gw;if(gx.WzG.length<4){continue}var gy={x:gx.WzG[0],y:gx.WzG[1]};var gz={x:gx.WzG[2],y:gx.WzG[3]};var gA=tab.RectXYUtil.rectXYFromCorners(gy,gz);gA=tab.RectXYUtil.nonemptyify(gA);gp=tab.RectXYUtil.union(gp,gA)}}}return gp},computeBoundsOfSelectedTrendLines:function(e,L){var go=e.get_selectionsModel().trendLineSelection;var gp={x:0,y:0,w:0,h:0};if(go.isEmpty){return gp}var gq=this.ensureAndReturnLineHitTestStructures(L);var gr=new Array;for(var gs=0;gs<gq.length;gs++){var gt=gq[gs];gr.push(gt)}while(gr.length!==0){var gu=gr.pop();if(gu.get_nodeType()===4||gu.get_nodeType()===0){var gv=gu.get_children();for(var gw=0;gw<gv.length;gw++){var gx=gv[gw];gr.push(gx)}}else if(gu.get_nodeType()===5){if(go.isObjectSelected(gu.get_objectId())){gp=tab.RectXYUtil.union(gp,gu.get_boundingBox())}}}return gp},ensureAndReturnLineHitTestStructures:function(e){if(ss.isNullOrUndefined(this.$6)){this.$6=[];var L=e.get_trendLineVisualLists();if(ss.isValue(L)){for(var go=0;go<L.length;go++){var gp=L[go];var gq=gp.tOA;var gr=1;for(var gs=0;gs<gq.length;gs++){var gt=gq[gs];if(gt.VzB==='rOX'){var gu=gt;for(var gv=0;gv<gu.tOA.length;gv++){var gw=gu.tOA[gv];switch(gw.VzB){case'Osj':{var gx=gw;if(ss.isValue(gx.Cwi)){gr=gx.Cwi}break}case'bUP':{var gy=gw;var gz=cP.buildTrendLineHitTestStructure(gy,gr,gu.YLs);this.$6.push(gz);break}default:{break}}}}}}}}return this.$6},$4:function(e,L){var go;var gp=tabBootstrap.MetricsController.createContext('HitTestVisualParts',16,null);{var gq=[];var gr=[];var gs=L.get_refLineVisualLists();if(ss.isValue(gs)){gq=fO.hitTestRefLines(gs,e,true);if(gq.length!==0&&gq[0].get_hitType()!==0){}}if(!cO.hasExactHit(gq)){var gt=this.ensureAndReturnLineHitTestStructures(L);gr=fO.hitTestTrendLines(gt,e,true);if(gr.length!==0&&gr[0].get_hitType()!==0){}}var gu=cO.tieBreakHits(gq,gr);go=((gu.get_hitType()===0)?[]:[gu])}gp.dispose();return go},$1:function(e){if(ss.isNullOrUndefined(this.$5)){var L=cP.buildLinearHitTestStructure(e);this.$5=new cN(L)}return this.$5},$2:function(e,L){var go=this.$1(L);var gp={x:e.x,y:e.y,w:1,h:1};var gq=go.hitTestPanes(gp);return gq},$3:function(e,L,go,gp){var gq;{var gr=tabBootstrap.MetricsController.createContext('HitTestMarks',16,null);try{var gs=this.$1(gp);gq=(ss.isNullOrUndefined(e)?go.hitTest(gs,L,gp):gs.hitTest(e,L,gp))}finally{if(ss.isValue(gr)){gr.dispose()}}}if(gq.length>0){}return gq}});ss.initClass(fO,a,{});ss.initEnum(fP,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected'},true);ss.initClass(fR,a,{});ss.initClass(fS,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(e){this.$1$1=e},get_region:function(){return this.$1$2},set_region:function(e){this.$1$2=e},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(e){this.$1$3=e},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(e){this.$1$4=e},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(e){this.$1$5=e},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(e){this.$1$6=e},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(e){this.$1$7=e},get_result:function(){return this.$1$8},set_result:function(e){this.$1$8=e}});ss.initClass(fU,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fV,a,{get_width:function(){return this.element.width()},set_width:function(e){this.element.width(e+'px')},get_height:function(){return this.element.height()},set_height:function(e){this.element.height(e+'px')},dispose:function(){tab.MiscUtil.dispose$1(this.contentView);this.overlayViewModel.remove_shown(ss.mkdel(this,this.onShown));this.overlayViewModel.remove_hidden(ss.mkdel(this,this.onHidden));ss.makeGenericType(spiff.BaseView$1,[fW]).prototype.dispose.call(this)},onShown:function(){this.updateContent();this.visible=true;this.element.insertAfter(this.tabViewer);this.contentView.addToDom(this.get_template().content);this.positionOverlay();this.element.show()},onHidden:function(){this.visible=false;this.element.hide();this.element.detach()},positionOverlay:function(){var e=tab.DomUtil.getElementPosition(this.tabViewer);var L=e.x;var go=e.y-this.tabbedNavigationHeight;var gp=this.tabViewer.outerWidth(false);var gq=this.tabViewer.outerHeight(false)+this.tabbedNavigationHeight;this.element.css('left',L+'px');this.element.css('top',go+'px');this.set_width(gp);this.set_height(gq)},updateContent:function(){var e=this.get_template().content;tab.MiscUtil.dispose$1(this.contentView);this.contentView=spiff.ObjectRegistry.newView$1(ss.makeGenericType(spiff.IView$1,[spiff.IViewModel])).call(null,this.overlayViewModel.get_content().get_viewType(),[this.overlayViewModel.get_content().get_viewModel()]);if(this.visible){this.contentView.addToDom(e)}}},ss.makeGenericType(spiff.BaseView$1,[fW]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[fW])]);ss.initClass(fW,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_content:function(){return this.$2$3},set_content:function(e){this.$2$3=e},show:function(){if(ss.staticEquals(this.$2$1,null)){return}this.$2$1()},hide:function(){if(ss.staticEquals(this.$2$2,null)){return}this.$2$2()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(fX,a,{render:function(){return React.DOM.div({className:'tabVizStateImage'},this.$0())},$0:function(){return React.DOM.img({src:this.props.vizState.url})}},React.Component);ss.initClass(fY,a,{});ss.initClass(fZ,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_viewModel:function(){return this},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[fZ,fX,fY])},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},disposeViewModel:function(){this.dispose()},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,du,ss.makeGenericType(spiff.IPropsProvider$1,[fY])]);ss.initClass(ga,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(gb,a,{get_zoneModel:function(){return this.$j.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$j.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$f:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$d:function(e,L){if(L.get_propertyName()==='isActiveZone'){this.$e()}},$b:function(){var e=null;var L=fx.absolutizeURI(this.get_webZonePresModel().ZNi,true);if(tab.FeatureFlags.isEnabled('DashWebAuthSP4')&&tab.WindowHelper.getLocation(window.window).protocol==='https:'&&ss.startsWithString(L,'http:')){if(tsConfig.is_authoring){e=new cR(L)}else{e=new cS(L)}}else{e=this.$9(this.get_webZonePresModel().ZNi)}this.$f().updateContentTemplate(e);this.$e()},$9:function(e){if(ss.isNullOrUndefined(this.$g)){this.$g=new da('frame_'+this.get_zoneModel().get_zoneId(),this.$i)}tab.DomUtil.resize(this.$g.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var L=fx.absolutizeURI(e,true);this.$g.setSrc(L,e);return this.$g},$a:function(){this.$i.setActive()},$e:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$h)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$h=e;this.$h.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$h)}if(this.$i.get_isActiveZone()){this.$h.hide()}else{this.$h.show()}},$c:function(){this.$b()}},ss.makeGenericType(spiff.BaseView$1,[gc]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gc])]);ss.initClass(gc,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gd,a,{});ss.initClass(ge,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(gf,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$e.get_dashboardNode()},get_containerNode:function(){return this.$e.get_containerNode()},get_dashboardView:function(){return this.$e},dispose:function(){if(ss.isValue(this.$e)){this.$e.dispose()}if(ss.isValue(this.$d)){this.$d.dispose()}ss.makeGenericType(spiff.BaseView$1,[gg]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9()},$9:function(){if(ss.isValue(this.$f.get_dashboardViewModel())){this.$f.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$b));this.$f.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$b));this.$f.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$b))})));this.$e=spiff.ObjectRegistry.newView(bC).call(null,[this.$f.get_dashboardViewModel()]);this.$e.addToDom(this.get_dom().dashboardContainer);this.colorDashboardContainer();this.get_dom().dashboardContainer.css('visibility','visible')}this.positionDashboardContainer()},$b:function(){this.positionDashboardContainer()},positionDashboardContainer:function(){var e=this.$f.get_dashboardContainerPosition();var L={top:e.t+'px',overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){L.overflow='auto'}this.get_dom().dashboardContainer.css(L);tab.DomUtil.setContentBox(this.get_dom().dashboardContainer.get(0),e);this.$c()},$c:function(){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=11){var e=W.selectCenteringContainer();e.css('height','');if(tab.FullscreenUtil.get_inFullscreenMode()){var L=this.$f.get_dashboardContainerPosition().h;L+=(tsConfig.showTabs?tabBootstrap.ViewerBootstrap.get_instance().get_tabsHeight():0);L+=(tsConfig.toolbarContainerVis?tabBootstrap.ViewerBootstrap.get_instance().get_vizToolbarHeight():0);e.css('height',L+'px')}}},colorDashboardContainer:function(){if(tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){return}this.get_dom().dashboardContainer.css('background-color',this.$f.get_dashboardBackgroundColor())},$a:function(){this.$d=spiff.ObjectRegistry.newView(bJ).call(null,[this.$f.get_connectionPromptViewModel()])}},ss.makeGenericType(spiff.BaseView$1,[gg]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gg])]);ss.initClass(gg,a,{add_newDashboard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDashboard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$7.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var L=this.get_dashboardViewModel().get_size();var go=this.get_dashboardPortSizeContainer();e=L.rec===go.w&&L.EUR===go.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var L=_.keys(e);for(var go=0;go<L.length;go++){var gp=L[go];var gq=e[gp];if(gq.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(gq.get_zoneContentViewModel())){return null}return gq.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var L={l:0,t:0,w:e.w,h:e.h};return L},get_dashboardContainerPosition:function(){return W.getClientBounds()},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_newDashboard(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bD.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){this.$5=new bK(e);this.raiseActionEvent(this.$2$2)}else{this.get_connectionPromptViewModel().promptUpdated(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(gh,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(gi,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(gj,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.tab-zone-padding')},get_contentHolder:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.domRoot}return this.get_zonePadding()}},spiff.Template,[ss.IDisposable]);ss.initClass(gk,a,{$l:function(){return this.$r},$m:function(e){this.$r=e;this.$r.addToDom(this.get_dom().get_contentHolder())},$n:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$l()},get_dom:function(){return this.get_template()},dispose:function(){this.$n().remove_updateZone(ss.mkdel(this,this.$e));this.$n().remove_resizeZone(ss.mkdel(this,this.$d));this.$n().remove_newZoneContent(ss.mkdel(this,this.$c));this.$n().remove_validStateChanged(ss.mkdel(this,this.$h));if(ss.isValue(this.$r)){this.$r.dispose();this.$r=null}this.$i();ss.makeGenericType(spiff.BaseView$1,[gl]).prototype.dispose.call(this)},$i:function(){if(ss.isValue(this.$p)){this.$p.dispose();this.$p=null}},onViewModelPropertyChanged:function(e,L){ss.makeGenericType(spiff.BaseView$1,[gl]).prototype.onViewModelPropertyChanged.call(this,e,L);if(L.get_propertyName()==='isActiveZone'){this.$j()}if(L.get_propertyName()==='isReadyZone'){this.$k()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(!ss.isValue(this.$p)){this.$p=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$p.setColor(this.$n().get_model().get_dashboardModel().get_backgroundColor());this.$p.set_opaque(true);this.$p.set_preventWebPageScroll(true);if(tab.ApplicationModel.get_instance().get_autoUpdate()){this.$p.element.css('cursor','progress')}}this.$p.show()},$b:function(){this.$i()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$l())){if(tsConfig.is_authoring&&this.get_viewModel().get_isInDashboard()&&!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.element.append("<div class='tab-zoneExtension'></div>")}this.$e();this.$d();if(ss.isValue(this.$n().get_zoneContentViewModel())){this.$c(this.$n().get_zoneContentViewModel())}this.$h()}if(ss.contains(gk.$2,this.$n().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$n().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(L){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}},$j:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$k:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$e:function(){var e=this.$n().get_zoneZIndex();if(e!==this.$q){this.$q=e;this.get_template().domRoot.css('z-index',e.toString())}this.get_template().domRoot.attr('id',gk.$0(this.get_viewModel().get_zoneId()));this.$j();var L=this.$n().get_zoneType();var go=L==='layout-flow'||L==='layout-free-form'||L==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',go);if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.get_dom().get_zoneMargin().css(this.$n().get_marginCss());this.get_dom().get_zoneMargin().css(this.$n().get_borderCss());this.get_dom().get_zonePadding().css(this.$n().get_paddingCss())}if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')&&ss.contains(gk.zonesThatUseStyledBox,L)){var gp=this.$n().get_containerStyle();var gq=cA.makeStyledBoxCssDict(gp,true);if(ss.isValue(gp)&&!gp.iKN){gq['background-color']=''}this.get_dom().get_contentHolder().css(gq);this.$o='';this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',ss.isValue(gp)&&(ss.isValue(gp.eBu)&&!tab.ColorModel.fromColorCode(gp.eBu).isLuminanceAboveThreshold(0.314999997615814)))}else{var gr=this.$n().get_backgroundColor();if(!ss.referenceEquals(gr,this.$o)){this.get_dom().get_contentHolder().css('background-color',gr);this.$o=gr}}if(ss.isValue(this.$l())&&L==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$h()},$d:function(){var e=this.$n();var L;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){L={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'}}else{L={width:e.get_contentWidth()+'px',height:e.get_contentHeight()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};var go=this.get_template().get_zoneExtension();if(ss.isValue(go)){go.css({width:e.get_widthWithMargin()+'px',height:e.get_heightWithMargin()+'px',top:-1*e.get_marginTop()+'px',left:-1*e.get_marginLeft()+'px',position:'absolute'})}}this.get_template().domRoot.css(L)},$h:function(){if(!this.$n().get_valid()){this.$a()}else{if(ss.isValue(this.$p)){if(!ss.staticEquals(gk.$3$1,null)){gk.$3$1()}}this.$b()}},$c:function(e){var L=this.$n().get_zoneType();switch(L){case'title':case'text':{var go=((L==='title')?1:-1);var gp=new eV.$ctor1(e,go);this.$m(gp);break}case'size':case'shape':case'color':case'map':{if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$m(spiff.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gq){this.$m(gq.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gq){var gr=gq.createLegacyLegendView(e);this.$m(gr)}))}break}case'current-page':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gq){this.$m(gq.createPageView(e))}));break}case'filter':{if(tab.FeatureFlags.isEnabled('VizCatQF')&&this.$n().get_containsNewStyleQuickFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(gq){var gr=e;this.$m(gq.getQuickFilterView(gr))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gq){this.$m(gq.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{if(tab.FeatureFlags.isEnabled('VizDataHL')){this.$m(spiff.ObjectRegistry.newView(bT).call(null,[e]))}break}case'paramctrl':{if(tab.FeatureFlags.isEnabled('VizParam')&&this.$n().get_containsNewStyleParameterFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(gq){var gr=e;this.$m(gq.getParameterFilterView(gr))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gq){this.$m(gq.createParameterControlView(e))}));break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gq){this.$m(gq.newFlipboardNavigatorView(e));this.$9()}));break}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gq){this.$m(gq.newFlipboardView(e))}));break}case'web':{this.$m(new gb(e,this.$n()));break}case'bitmap':{this.$m(new dg(e,this.$n()));break}case'viz':{this.$m(spiff.ObjectRegistry.newView(dW).call(null,[e]));break}case'layout-flow':{this.$m(spiff.ObjectRegistry.newView(ct).call(null,[e]));break}default:{break}}this.$9()},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){if(ss.isValue(this.$l())){this.$l().get_rootElement().addClass('fade-in')}}},$g:function(e){this.$n().zoneEntered(false)},$f:function(e){this.$n().zoneEntered(true)}},ss.makeGenericType(spiff.BaseView$1,[gl]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[gl])]);ss.initClass(gl,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resizeZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resizeZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_zoneResized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_zoneResized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_newZoneContent:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_newZoneContent:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_validStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_validStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$j.get_zoneType()},get_x:function(){return this.$j.get_x()},get_y:function(){return this.$j.get_y()},get_width:function(){return this.$j.get_width()},get_height:function(){return this.$j.get_height()},get_contentHeight:function(){return this.$j.get_contentHeight()},get_contentWidth:function(){return this.$j.get_contentWidth()},get_contentX:function(){return this.$j.get_contentX()},get_contentY:function(){return this.$j.get_contentY()},get_marginLeft:function(){return this.get_contentX()-this.$j.get_xWithMargin()},get_marginTop:function(){return this.get_contentY()-this.$j.get_yWithMargin()},get_widthWithMargin:function(){return this.$j.get_widthWithMargin()},get_heightWithMargin:function(){return this.$j.get_heightWithMargin()},get_model:function(){return this.$j},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$j.get_dashboardModel().get_isDashboard()},get_containerStyle:function(){var e=this.$j.pm.rPC;if(this.$8()){e=tab.MiscUtil.cloneObject(e);e.iKN=true;e.eBu=this.$j.get_dashboardModel().get_zonePlaceholderColor()}return e},get_titleSize:function(){if(this.$j.get_hasTitle()){return{w:this.$j.pm.nkG1,h:this.$j.pm.jZr}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(gl.$3,this.get_zoneType())){return false}return this.$h},get_zoneZIndex:function(){return gl.calculateZoneZIndex(this.$j)},get_zoneId:function(){return this.$j.get_zoneId()},get_associatedSheet:function(){return this.$j.get_associatedSheet()},get_backgroundColor:function(){var e;if(this.$8()){e=this.$j.get_dashboardModel().get_zonePlaceholderColor()}else if(ss.contains(gl.$2,this.get_zoneType())){e=''}else{e=this.$j.get_backgroundColor()||'rgba(0,0,0,0)'}return e},get_isActiveZone:function(){return this.$f},set_isActiveZone:function(e){if(this.$f!==e){this.$f=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$g},set_isReadyZone:function(e){if(this.$g!==e){this.$g=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'||tsConfig.current_sheet_type==='story'&&!tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb')){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$e},$c:function(){var e=this.$j.get_isFloating()&&this.$j.get_zoneType()==='layout-flow';var L=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&L&&this.$j.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$d},get_hasTitle:function(){return this.$j.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute'};if(this.get_styledBoxModel().get_hasFill()){e['background-color']=this.get_styledBoxModel().get_fillColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return{'border-top-width':this.get_styledBoxModel().get_borderWidthTop()+'px','border-left-width':this.get_styledBoxModel().get_borderWidthLeft()+'px','border-bottom-width':this.get_styledBoxModel().get_borderWidthBottom()+'px','border-right-width':this.get_styledBoxModel().get_borderWidthRight()+'px','border-top-style':ss.coalesce(gl.$1[this.get_styledBoxModel().get_borderStyleTop()],'none'),'border-left-style':ss.coalesce(gl.$1[this.get_styledBoxModel().get_borderStyleLeft()],'none'),'border-bottom-style':ss.coalesce(gl.$1[this.get_styledBoxModel().get_borderStyleBottom()],'none'),'border-right-style':ss.coalesce(gl.$1[this.get_styledBoxModel().get_borderStyleRight()],'none'),'border-top-color':this.get_styledBoxModel().get_borderColorTop(),'border-left-color':this.get_styledBoxModel().get_borderColorLeft(),'border-bottom-color':this.get_styledBoxModel().get_borderColorBottom(),'border-right-color':this.get_styledBoxModel().get_borderColorRight()}},setActive:function(){tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),this.$j.get_dashboardModel().get_sheetPath())},zoneEntered:function(e){this.$j.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$j.remove_updateZone(ss.mkdel(this,this.$7));this.$j.remove_resizeZone(ss.mkdel(this,this.$5));this.$j.remove_newZoneContent(ss.mkdel(this,this.$3));this.$j.remove_removeZoneContent(ss.mkdel(this,this.$4));this.$j.remove_changeZoneTitleVisibility(ss.mkdel(this,this.$6));spiff.BaseViewModel.prototype.dispose.call(this)},$a:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$j.get_associatedSheet());if(!ss.referenceEquals(this.$i,e)){if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$i=e;if(ss.isValue(this.$i)){this.$i.add_visualValidStateChanged(ss.mkdel(this,this.$b))}}},$7:function(){tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$a();this.$b();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}}))},$5:function(){this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$3)},$b:function(){var e=true;if(this.$j.get_isDependentOnViz()&&ss.isValue(this.$i)){e=this.$i.get_isVisualValid()}if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},forceZoneValidState:function(e){if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},$2:function(){if(this.$c()){this.zoneContentViewModel=new cu(this.$j);this.$9(this.zoneContentViewModel)}},$3:function(e){this.$e=false;this.$d=false;var L=this.$j.get_zoneType();var go=ss.mkdel(this,function(){this.$9(this.zoneContentViewModel)});var gp=this.$j.get_worksheetName();switch(L){case'title':case'text':{this.zoneContentViewModel=new eW(e);break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gu){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=gu.createCategoricalLegendViewModel(e,L,gp,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=gu.createQuantitativeColorLegendViewModel(e,gp,this)}}else{this.zoneContentViewModel=gu.createLegacyLegendViewModel(e,gp,this)}go()}));return}case'current-page':{if(tsConfig.allow_filter){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gu){this.zoneContentViewModel=gu.createPageViewModel(e);go()}))}return}case'web':{this.zoneContentViewModel=new gc(e);break}case'bitmap':{this.zoneContentViewModel=new dh(e);break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gu){this.zoneContentViewModel=gu.newFlipboardNavigatorViewModel(e);go()}));return}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gu){this.zoneContentViewModel=gu.newFlipboardViewModel(e,this);go()}));return}case'filter':{if(ss.referenceEquals(ss.getInstanceType(e),tab.QuickFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(gu){var gv=gu.newQuickFilterViewModel(e);if(ss.isValue(gv)){this.$e=true;this.zoneContentViewModel=gv;go()}}))}else{var gq=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),gp);var gr=e;var gs=tab.ModelUtils.findMatchingFilterModel(gq,gr);if(ss.isValue(gs)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gu){this.zoneContentViewModel=gu.createLegacyQuickFilterDisplayViewModel(gr,gs);go()}))}else{}}return}case'highlighter':{this.zoneContentViewModel=new bV(e,tab.ModelUtils.getVisualId(gp),this);break}case'paramctrl':{if(ss.referenceEquals(ss.getInstanceType(e),tab.ParameterFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(gu){var gv=gu.newParameterFilterViewModel(e);this.$d=true;this.zoneContentViewModel=gv;go()}))}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gu){this.zoneContentViewModel=gu.createParameterControlViewModel(e);go()}))}return}case'viz':{var gt=this.$j.get_associatedSheet();this.zoneContentViewModel=new dX(e,gt);break}case'layout-basic':{return}default:{return}}go()},$6:function(){this.notifyPropertyChanged('titleVisible')},$4:function(){this.dispose()},$9:function(e){if(!ss.staticEquals(this.$2$4,null)){this.$2$4(e)}},$8:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$j.get_hasContent();return e}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IZoneViewModel]);ss.initClass(gm,a,{});ss.initClass(gn,a,{});ss.setMetadata(dt,{variance:[1]});(function(){s.$0=10;s.$1=600})();(function(){t.$0="\n<div class='tabDataConnVarEditControl'>\n    <span class='tabDataConnVarEditCtrlVarArea'>\n        <div class='tabDataConnVarEditCtrlName'/>\n        <div class='tabDataConnVarEditCtrlDesc'/>\n    </span>\n    <span class='tabDataConnVarEditCtrlOpSelector'/>\n    <input class='tabDataConnVarEditCtrlValInput' type='text'/>\n    <span class='tabDataConnVarEditCtrlValSelector'>\n        <div class='tabDataConnVarEditCtrlFirstValSelector'>\n            <span class='tabDataConnVarEditCtrlFromLabel'/>\n        </div>\n        <div class='tabDataConnVarEditCtrlSecondValSelector'>\n            <span class='tabDataConnVarEditCtrlToLabel'/>\n        </div>\n    </span>\n</div>"})();(function(){u.$0="<div class='refLineConstantValueEditor'><span class='refLineConstantValueEditorTitle'></span><input class='refLineConstantValueEditorInput' type='text'/></div>"})();(function(){v.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){y.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){cz.$4=null;cz.$3=null})();(function(){eS.defaultLinePattern='solid';eS.defaultLineJoin='bevel';eS.defaultLineCap='butt';eS.defaultTextBaseline='alphabetic';eS.defaultTextAlign='start';eS.defaultLineDashDashed=[3,1];eS.defaultLineDashDotted=[1,1];eS.defaultLineWidth=1;eS.defaultColor='rgb(0,0,0)';eS.defaultTextColor='rgb(0,0,0)';eS.defaultTextAngle=0;eS.defaultFontName='Arial';eS.defaultFontSize=8;eS.defaultTextUnderline=false;eS.$1=0.01})();(function(){cF.halfPI=0.5*Math.PI;cF.onePI=Math.PI;cF.oneAndHalfPI=1.5*Math.PI;cF.twoPI=2*Math.PI;cF.$9=Math.PI*0.15})();(function(){bg.halfPI=0.5*Math.PI;bg.onePI=Math.PI;bg.oneAndHalfPI=1.5*Math.PI;bg.twoPI=2*Math.PI;bg.$8='rgb(255,255,255)';bg.angleEpsilon=0.000174000000697561;bg.$7=0.400000005960464})();(function(){dk.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);dk.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);dk.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);dk.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var e=new dk;e.highlightBgColor=dk.defaultHighlightBgColor;e.selectionBgColor=dk.defaultSelectionBgColor;e.highlightTextColor=dk.defaultHighlightTextColor;e.selectionTextColor=dk.defaultSelectionTextColor;dk.defaultColors=e})();(function(){cA.tableauFallback='Arial';cA.sansSerifFallback='sans-serif';cA.$7=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];cA.$5=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];cA.$6=[{item1:'italic',item2:'italic'}];cA.$4={}})();(function(){cd.$8='rgb(0,0,0)';cd.$7='rgb(245,245,245)';cd.$b=['x-labels','bottom-axis','top-axis'];cd.$c=['y-labels','left-axis','right-axis'];cd.$a=new tab.FifoCache(20);cd.$9=true})();(function(){var e=tab.FeatureFlags.isEnabled('AsyncJsModuleLoad');tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemendIf(e);tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemendIf(e);tab.ModuleManager.register(dm).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace();tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemendIf(e);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring.Bundle','StoryAuthoring').andLoadOnDemendIf(e);tab.ModuleManager.register(tab.IUnificationStyleQuickFiltersModule).call(null,'UnificationStyleQuickFilters',null).andLoadOnDemendIf(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemendIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemendIf(e);if(tsConfig.is_mobile){tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile.Bundle','LegacyDojoUIMobile').andLoadOnDemendIf(e)}else{tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb.Bundle','LegacyDojoUIWeb').andLoadOnDemendIf(e)}$(function(){define('React',function(){return React});define('ReactDOM',function(){return Object});define('SharedWidgets',function(){return SharedWidgets})})})();(function(){fy.rowHeight=26;fy.numberOfRowsInViewport=6})();(function(){fH.autoCompleteDebounceTime=200})();(function(){cr.maxEmailLength=100})();(function(){spiff.ObjectRegistry.registerType(dM,dM).call(null)})();(function(){spiff.ObjectRegistry.registerType(cE,cE).call(null)})();(function(){bF.debounceTimeout=300;bF.maxTitleLength=256;bF.notificationIntervalEveryTime=0;bF.notificationIntervalHourly=60;bF.notificationIntervalDaily=1440;bF.notificationIntervalWeekly=10080;bF.notificationIntervalOnlyOnce=2147483647;bF.$0=18})();(function(){Z.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){by.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){bz.$0='tab-customViews-rename-container';spiff.ObjectRegistry.registerType(bz,bz).call(null)})();(function(){bA.maxCustomViewNameLength=255;bA.modeSelect=0;bA.modeManage=1;bA.$1=tab.Logger.getLogger(bA)})();(function(){cl.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){bq.$0=null})();(function(){cy.fontsReadyMetricName='AllFontsDownloaded';cy.uiStabilizedMetricName='UI Stabilized'})();(function(){em.stylesheetId='tab-renderAndCheckFontLoader';em.hiddenDivClass='tab-hiddenFontMeasurer';em.baselineFontClass='tab-baselineFontMeasurer';em.baselineFontName="'Courier New', Monaco, monospace";em.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';em.$2=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);em.maxLengthToWaitForFontsToDownloadMilliseconds=120000;em.fontLoadedCheckDelayPerTryMilliseconds=100;em.ensureFirstRenderPassCompletedDelayMilliseconds=5;em.maxNumberOfTriesToDownloadFont=1200})();(function(){be.fontLoaderElementId='tab-simpleFontLoader'})();(function(){ev.raiseFontPreparationCompleteDelay=200;ev.tableauLight='Tableau Light';ev.tableauBook='Tableau Book';ev.tableauRegular='Tableau Regular';ev.tableauMedium='Tableau Medium';ev.tableauSemibold='Tableau Semibold';ev.tableauBold='Tableau Bold';ev.bentonSansLight='Benton Sans Light';ev.bentonSansBook='Benton Sans Book';ev.bentonSansBookItalic='Benton Sans Book Italic';ev.bentonSansMedium='Benton Sans Medium';ev.bentonSansSemiDemi='Benton Sans SemiDemi';ev.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';ev.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff'),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff'),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff'),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff'),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff'),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff')]);ev.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff'),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff'),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff'),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff'),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff'),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff')]);var e=new cf;e.set_fontFamily('Tableau Light');e.woffLocation=ev.tableauFontWoffPaths['Tableau Light'];var L=new cf;L.set_fontFamily('Tableau Light');L.set_weight('bold');L.woffLocation=ev.tableauFontWoffPaths['Tableau Medium'];var go=new cf;go.set_fontFamily('Tableau Book');go.woffLocation=ev.tableauFontWoffPaths['Tableau Book'];var gp=new cf;gp.set_fontFamily('Tableau Book');gp.set_weight('bold');gp.woffLocation=ev.tableauFontWoffPaths['Tableau Medium'];var gq=new cf;gq.set_fontFamily('Tableau Regular');gq.woffLocation=ev.tableauFontWoffPaths['Tableau Regular'];var gr=new cf;gr.set_fontFamily('Tableau Regular');gr.set_weight('bold');gr.woffLocation=ev.tableauFontWoffPaths['Tableau Semibold'];var gs=new cf;gs.set_fontFamily('Tableau Medium');gs.woffLocation=ev.tableauFontWoffPaths['Tableau Medium'];var gt=new cf;gt.set_fontFamily('Tableau Medium');gt.set_weight('bold');gt.woffLocation=ev.tableauFontWoffPaths['Tableau Bold'];var gu=new cf;gu.set_fontFamily('Tableau Semibold');gu.woffLocation=ev.tableauFontWoffPaths['Tableau Semibold'];var gv=new cf;gv.set_fontFamily('Tableau Semibold');gv.set_weight('bold');gv.woffLocation=ev.tableauFontWoffPaths['Tableau Bold'];var gw=new cf;gw.set_fontFamily('Tableau Bold');gw.woffLocation=ev.tableauFontWoffPaths['Tableau Bold'];var gx=new cf;gx.set_fontFamily('Tableau Bold');gx.set_weight('bold');gx.woffLocation=ev.tableauFontWoffPaths['Tableau Bold'];ev.tableauFontNames=[e,L,go,gp,gq,gr,gs,gt,gu,gv,gw,gx];var e=new cf;e.set_fontFamily('Benton Sans');e.woffLocation=ev.bentonSansWoffPaths['Benton Sans Book'];ev.bentonSansFontNames=[e];var e=new cf;e.set_fontFamily('Benton Sans Low-DPI');e.woffLocation=ev.bentonSansWoffPaths['Benton Sans SemiDemi'];ev.bentonSansLowDpiFontNames=[e];ev.$1=null})();(function(){fM.propertyHoverNode='HoverNode'})();(function(){es.$0=null})();(function(){dQ.shapeMarkStampingRatio=32;dQ.$9='_int';dQ.$7=32767;dQ.$8=100;dQ.$6=['font','font_size','font_style','font_weight'];dQ.$1=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];dQ.$4=['x','x1','x_prev','x_next','cell_x'];dQ.$3=['clip_width'];dQ.$5=['y','y1','y_prev','y_next','cell_y'];dQ.$2=['clip_height'];dQ.$b=null;dQ.$c=null;dQ.$a=null})();(function(){dS.$4='rgba(0,0,0,1)';dS.$3='rgba(255,255,255,255)';dS.$6=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];dS.$5=['background','marks','underLabel','label','foreground']})();(function(){et.$1={x:0,y:0,w:0,h:0}})();(function(){var e=[];e.push('left-axis');e.push('right-axis');e.push('y-labels');e.push('x-labels');e.push('top-axis');e.push('bottom-axis');e.push('title');e.push('caption');dX.blackListVisualParts=e;dX.vizNavigationSettingPropertyName='vizNavigationSetting';dX.borderHighlightPropertyName='borderHighlight'})();(function(){gl.isActiveZonePropertyName='isActiveZone';gl.isReadyZonePropertyName='isReadyZone';gl.titleVisiblePropertyName='titleVisible';gl.$2=['bitmap','text','layout-free-form','empty'];gl.$3=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard'];gl.$1=gl.$0()})();(function(){eU.contentElemClassName='tab-textRegion-content';eU.$1="<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>"})();(function(){bT.$0=312;bT.widgetClassName='tabDataHighlighterView';bT.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bT.searchResultsListItemClassName='tab-list-item';bT.searchResultsListItemLabelClassName='tab-list-item-label';bT.inactiveTextClassName='tabDataHighlighterViewInactiveText';bT.queryDelayTimerMs=200;spiff.ObjectRegistry.registerType(bT,bT).call(null)})();(function(){cR.$0="<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"})();(function(){cS.$0="<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"})();(function(){da.$0='<div><iframe></iframe></div>'})();(function(){ga.$0="<div class='tab-web'></div>"})();(function(){de.$0=Math.pow(2,-23)})();(function(){df.$0="<div class='tab-image'></div>"})();(function(){fS.$0=0})();(function(){fT.hitTestDelay=250;fT.maxHitTestDistance=20})();(function(){cO.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);cO.$1=ss.mkdict(['ref-lines',3,'trend-lines',2,'ref-bands',3,'marks',5,'mark-labels',6])})();(function(){bh.$0="<canvas class='tabCanvas'></canvas>"})();(function(){dU.$2=3;dU.$3=145;dU.$1=false})();(function(){ck.$0=2})();(function(){dO.$0="<img class='tab-overlayImage'/>"})();(function(){bf.$b=null;bf.$a=false;bf.$c=null;bf.$9=false;if(tabBootstrap.Utility.get_embedMode()==='embeddedNotInWg'){var e=window.addEventListener;if(ss.isValue(e)){e('message',bf.$3,false)}else{var L=bf.$3;window.self.attachEvent('onmessage',L)}bf.$9=true}bf.$a=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(tab.BrowserSupport.get_isIE()){bf.$1()}})();(function(){fs.$0='.tab-tooltipContent';fs.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){fl.defaultVerticalOffset=16;fl.defaultHorizonalOffset=16;fl.$3=16;fl.$2=10;fl.belowRightClass='tab-tooltipBR';fl.belowLeftClass='tab-tooltipBL';fl.aboveRightClass='tab-tooltipAR';fl.aboveLeftClass='tab-tooltipAL';fl.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';fl.$4=null})();(function(){fw.$a="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";fw.$c='.tab-ubertipTooltip';fw.$d='.tab-ubertipTooltip div[data-tableau="VizInTooltip"]';fw.$7='.tab-ubertipContent';fw.$2='.tab-ubertipActions';fw.$4='.tab-ubertipCommandArea';fw.$6='.tab-ubertipCommands';fw.$5='.tab-clear';fw.$b='.tab-ubertipSelected';fw.$3="<li><div class='tab-separator'>&nbsp;</div></li>";fw.$8=70;fw.$9=2;fw.$e=null;fw.$e={}})();(function(){fR.$1$1=null;fR.$1$2=null})();(function(){fn.whitespaceObjectId='W';fn.unknownObjectId='U';fn.$0='mouseleave.basemode';fn.$4=0;fn.$3=null;fn.$2=null;fn.$1='U'})();(function(){eK.$0='.SmoothTooltipBehavior'})();(function(){fr.$2=0})();(function(){dF.$0=5})();(function(){cG.$3=50;cG.$6=110.574;cG.$7=111.32;cG.$1=90;cG.$0=180;cG.$4=6000;cG.$2=8;cG.$5="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){dE.widgetClassName='tabMapsSearchView';dE.$0='tabMapsSearchViewCollapsed';dE.$1='tabMapsSearchContainerCollapsed';dE.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';dE.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';dE.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';dE.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';dE.queryDelayTimerMs=200;dE.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';spiff.ObjectRegistry.registerType(dE,dE).call(null)})();(function(){dD.$0={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){dB.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a></div>"})();(function(){cs.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){spiff.ObjectRegistry.registerType(ct,ct).call(null)})();(function(){gj.$0="<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>";gj.$1="<div class='tab-zone no-spacing'></div>"})();(function(){bB.$0="<div class='tab-gutter'><div class='tab-dashboard' role='main'/></div>";bB.$1="<div class='tab-dashboard' role='main'/>"})();(function(){bM.$0='range';spiff.ObjectRegistry.registerType(bM,bM).call(null)})();(function(){bI.$0="\n<div class='tabDataConnectionPrompt'>\n    <div class='tabDataConnPromptCtrlArea'>\n        <div class='tabDataConnPromptVarListArea'>\n            <div class='tabDataConnPromptVarListInstr'/>\n            <div class='tabDataConnPromptVarListHeader'>\n                <span class='tabDataConnPromptVarListHeaderName'/>\n                <span class='tabDataConnPromptVarListHeaderValue'/>\n            </div>\n            <div class='tabDataConnPromptVarListContainer'/>\n        </div>\n        <div class='tabDataConnPromptEditArea'>\n            <div class='tabDataConnPromptEditTitle'/>\n            <div class='tabDataConnPromptEditInstr'/>\n        </div>\n    </div>\n    <div class='tabDataConnPromptBtnArea'/>\n</div>"})();(function(){bO.$0="\n<span class='tabDataConnPromptVarListItem'>\n    <div class='tabDataConnPromptVarName tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptVarValue tabDataConnPromptVarListItemCell'/>\n    <div class='tabDataConnPromptDeleteVarBtnArea'/>\n</span>"})();(function(){bP.$0='required'})();(function(){fI.$0="\n<div class='tabDataConnPromptVarList'>\n    <div class='tabDataConnPromptAddVarCtrl'>\n        <div class='tabDataConnPromptAddVarCtrlBtnArea'/>\n        <div class='tabDataConnPromptAddVarCtrlVarSelector'/>\n    </div>\n</div>"})();(function(){spiff.ObjectRegistry.registerType(bQ,bQ).call(null)})();(function(){spiff.ObjectRegistry.registerType(bJ,bJ).call(null)})();(function(){fd.$1='tabToolbarButtonImg';fd.$2='tabToolbarButtonText';fd.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){fh.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){U.$0="<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"})();(function(){fL.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){ep.$0="<div class='tab-right-area-drawer'></div>"})();(function(){dI.$1$1=null})();(function(){eJ.maxDialogWidth=600;eJ.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){bc.dashboardContainerSelector='.dashboardSpacer';bc.overlayId='auth-overlay';bc.messageEventName='message';bc.frameTestHook='dse-frame'})();(function(){cB.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){co.bodyContainer='<span></span>'})();(function(){eD.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>";eD.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>";eD.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";eD.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){eQ.$0="\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"})();(function(){eO.$0=0;spiff.ObjectRegistry.registerType(eO,eO).call(null)})();(function(){eP.maxSubscriptionSubjectLength=256;eP.maxSubscriptionEmailLength=100;eP.$0='tabSubscriptionScheduleDropdown'})();(function(){spiff.ObjectRegistry.registerType(eE,eE).call(null)})();(function(){fk.$1='tab-icon-';fk.$3='toggle-updates';fk.$2=430})();(function(){eF.currentViewPath='/shared/';eF.$d='http://facebook.com';eF.$9=4;eF.$f=65;eF.$g=32;eF.$h=26;eF.$a=0.75;eF.$c=0.75;eF.$b=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');eF.$e=e})();(function(){spiff.ObjectRegistry.registerType(eq,eq).call(null)})();(function(){fe.$0='tabToolbarButtonFlyoverShown'})();(function(){fj.$7='hideLabels';fj.$a='showLabels';fj.$8='horizontalLabels';fj.$b='stackedLabels';fj.$9='narrow';fj.$6='tab-customviews-modified';fj.$c='.tabToolbarButton';fj.$5='160px';fj.$d=50;spiff.ObjectRegistry.registerType(fj,fj).call(null)})();(function(){ge.$0="<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"})();(function(){dW.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';dW.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];dW.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];dW.$7=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];dW.$5=8;dW.$6=30;dW.$4=[];dW.$9=[];dW.$8=[]})();(function(){gk.$1='tabZoneReady';gk.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];gk.$2=['bitmap','color','shape','size','map','text','web','paramctrl','filter','highlighter','empty','current-page'];gk.$3$1=null;spiff.ObjectRegistry.registerType(gk,gk).call(null)})();(function(){bC.dashboardGutterCssSelector='.tab-gutter';spiff.ObjectRegistry.registerType(bC,bC).call(null)})();(function(){gf.dashboardContainerSelector='.dashboardSpacer';spiff.ObjectRegistry.registerType(gf,gf).call(null)})();(function(){spiff.ObjectRegistry.registerType(V,V).call(null)})();(function(){fK.$1$1=null})();(function(){W.$2$1=null})();(function(){er.$1=320;er.$0=0})();(function(){T.$3=null;T.$4=null;T.$5=false;T.$1$1=null;T.$1$2=null;T.$1$3=null})();(function(){cm.$1='tabDownloadData';cm.$0='tabDownloadCrosstab';cm.$2='tabDownloadImage';cm.$3='tabDownloadPdf';cm.$4='tabDownloadWorkbook';cm.$5='tabPublicApp';cm.$6=715;spiff.ObjectRegistry.registerType(cm,cm).call(null)})();(function(){cn.$0='http://public.tableau.com/s/download'})();(function(){ff.iconTypeDownload='download';ff.iconTypeShare='share';ff.iconTypeCustomViews='customviews';ff.iconTypeSubscribe='subscribe';ff.iconTypeEdit='edit';ff.iconTypeRedo='redo';ff.iconTypeUndo='undo';ff.iconTypeRevert='revert';ff.iconTypeToggleDataUpdates='toggle-updates';ff.iconTypeRefreshData='refresh';ff.pauseButton='Pause'})();(function(){bk.$5='tvdrag_svg_div';bk.$8='circle_radius';bk.$0='circle_crosshair';bk.$1=4;bk.$3='tabDistanceReadout';bk.$4="<div class='tabDistanceReadout'></div>";bk.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";bk.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";bk.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";bk.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){spiff.ObjectRegistry.registerType(bu,bu).call(null)})();(function(){tab.CommandRedirectRegistry.registerHandler('command-redirect-confirmation',bt.$0)})();(function(){spiff.ObjectRegistry.registerType(bG,bG).call(null)})();(function(){bW.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){bY.$6=6})();(function(){cx.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){cJ.simpleRectangleCollider=null;cJ.simpleRectangleCollider=function(e,L){var go=e.get_geom().x;var gp=e.get_geom().x+e.get_geom().w;var gq=e.get_geom().y;var gr=e.get_geom().y+e.get_geom().h;var gs=L.x;var gt=L.x+L.w;var gu=L.y;var gv=L.y+L.h;if(gr<gu){return false}if(gq>gv){return false}if(gp<gs){return false}if(go>gt){return false}return true}})();(function(){cM.$1=null;cM.$0=0})();(function(){cQ.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){fJ.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){dq.$2=0;dq.$1='tabIterButtonDisabled';dq.$0=100})();(function(){gm.$0=0.05})();(function(){dv.$3=100;dv.$4=2;dv.$8=10;dv.$9=0.01;dv.$6=8;dv.$2='leaflet-touching';dv.$5={item1:90,item2:0};dv.$7={item1:-90,item2:0}})();(function(){dz.$0=null;spiff.ObjectRegistry.registerType(dz,dz).call(null)})();(function(){tab.CommandRedirectRegistry.registerHandler('command-redirect-notification',dL.$0)})();(function(){dV.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){dY.$5='M';dY.$4='L';dY.$1='Z';dY.$2='tvdrag_svg_div';dY.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";dY.$6=300})();(function(){ed.minTitleHeight=17;ed.titlePadding=3})();(function(){eg.$1='<div></div>';eg.$0='tvdrag';eg.$2='tvdrag_marquee'})();(function(){ej.$2$1=null})();(function(){ei.$0=988})();(function(){tab.CommandRedirectRegistry.registerHandler('command-redirect-quick-edit',ek.$0)})();(function(){el.headerResizerMinimumLength=20;el.axisResizerMinimumLength=10;el.minimumSizeDifferenceResizeThreshold=1})();(function(){eX.$0="<div class='tvimagesContainer'></div>"})();(function(){fO.visualPartNearHitTestExpansionPixels=7})();(function(){fa.windowLog=null;fa.paneBorderMaskSize=2;fa.canvasBorderPixels=1;fa.zoomAnimationTime=777;fa.minZoomAnimationTime=500;fa.zoomToAnchorAnimationTime=500})();(function(){fU.className='tabVizOverlay';fU.$0="<div class='tabVizOverlay' style='position: absolute;'><div class='tabVizOverlayContent'/></div>"})();(function(){spiff.ObjectRegistry.registerType(fV,fV).call(null)})()})();;
/*! BEGIN LegacyDojoUI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojoui');var b=function(ch,ci,cj,ck,cl,cm){this.$U=null;this.$V=null;this.$T=null;tab.MarksRenderer.call(this,ch.canvasElt,ch.renderContext);this.$V={};var cn=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var co=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+cn.length;var cp=2;var cq=ck-4;var cr=cl-4;var cs=ci-cq/2;var ct=cj-cr/2;var cu=ck-1;var cv=cl-1;var cw=ci-cu/2;var cx=cj-cv/2;var cy=this.$R(co);var cz=this.$R(co);var cA=this.$R(co);var cB=this.$R(co);var cC=this.$R(co);var cD=this.$R(co);for(var cE=0;cE<co;cE++){var cF;if(cE<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){cF=_.keys(tab.SceneDataUtil.shapeMapping)[cE];cA.uBu02[cE]=cq;cB.uBu02[cE]=cr;cC.uBu02[cE]=cs;cD.uBu02[cE]=ct}else{cF=cn[cE-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];cA.uBu02[cE]=cu;cB.uBu02[cE]=cv;cC.uBu02[cE]=cw;cD.uBu02[cE]=cx}this.$V[cF]=cE;cz.uBu02[cE]=cF;cy.uBu02[cE]=cE.toString()}var cG={};cG.GKA={};cG.GKA['shape_id']=cz;cG.GKA['tuple_id']=cy;cG.GKA['size']=cA;cG.GKA['width']=cA;cG.GKA['height']=cB;cG.GKA['left']=cC;cG.GKA['top']=cD;cG.LTd={};cG.LTd['color']=(new tab.ColorModel(0,0,0,1)).toArgbInt();cG.LTd['background_color']=cm.toArgbInt();cG.DTe={};cG.DTe['x']=ci;cG.DTe['y']=cj;var cH={};cH.PeS={};cH.PeS.RAC=0;cH.PeS.thj=0;cH.PeS.rec=ck;cH.PeS.EUR=cl;var cI={};cI.QNi=0;cI.sDT=co;var cJ=new tab.SceneInfo;this.$U=new tab.PresModelPaneDrawInfo.$ctor1('pdKey',cJ,cH,cI,cG,null,'pdKey')};b.__typeName='tab.$0';var c=function(){spiff.Template.call(this,$("<div class='tabHorizontalSlider'>\n</div>'"))};c.__typeName='tab.$1';var d=function(ch,ci,cj,ck,cl){this.$6=false;this.$a=0;this.$7=null;this.$8=null;this.$9=null;this.$a=ch;this.$6=ci;this.$7=cj;this.$8=ck;this.$9=cl};d.__typeName='tab.$2';var e=function(ch,ci,cj){this.dropdown=null;this.menuNode=null;this.glass=null;this.dropdownLabelContainer=null;this.fillListElement=null;this.searchBox=null;this.currentlySelected=0;this.multimode=false;this.$c=false;this.$b=false;h.call(this,ch,ci,cj);this.searchBox=ch.get_searchWidget();this.searchBox.setStyle(1);this.$b=false};e.__typeName='tab.BaseDropdown';global.tab.BaseDropdown=e;var f=function(){};f.__typeName='tab.BaseLegacyDojoUIModule';global.tab.BaseLegacyDojoUIModule=f;var g=function(ch){var ci=function(cj,ck){this.$c=null;ss.makeGenericType(spiff.BaseView$1,[ch]).call(this,cj,ck)};ss.registerGenericClassInstance(ci,g,[ch],{get_legendViewModel:function(){return this.get_viewModel()},get_baseLegendTemplate:function(){return this.get_template()},get_legendTooltip:function(){this.$9();return this.$c},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this)},dispose:function(){if(ss.isValue(this.$c)){this.$c.remove_ubertipCommandExecuted(ss.mkdel(this,this.$a));this.$c.dispose()}ss.makeGenericType(spiff.BaseView$1,[ch]).prototype.dispose.call(this)},drawTitle:function(){this.get_baseLegendTemplate().titleArea.html(this.get_legendViewModel().get_titleHtml());tab.FormattingConverters.cleanUpFontFamilyStyles(this.get_baseLegendTemplate().titleArea);this.$b(this.get_legendViewModel().get_titleInline());tableau.util.setupTitleEllipsis(this.get_baseLegendTemplate().titleArea)},$b:function(cj){var ck='';var cl='';if(cj){this.get_baseLegendTemplate().titleArea.width(this.get_legendViewModel().get_titleWidth());ck='inline-block';cl='top'}else{this.get_baseLegendTemplate().titleArea.width('');this.get_baseLegendTemplate().titleArea.height(this.get_legendViewModel().get_titleHeight())}this.get_baseLegendTemplate().titleArea.css('display',ck);this.get_baseLegendTemplate().titleArea.css('vertical-align',cl);if(ss.isValue(this.get_baseLegendTemplate().get_contentArea())){this.get_baseLegendTemplate().get_contentArea().css('display',ck)}},highlighterFitsUpperRight:function(){var cj=!this.get_legendViewModel().get_titleInline();if(this.get_legendViewModel().get_hasTitle()&&cj){return true}return false},$a:function(cj,ck){tab.UberTipClientCommands.executeUbertipCommand(ck.command)},makeTooltip:function(){var cj=this.get_legendViewModel().$6();if(ss.isNullOrUndefined(cj)){return null}return spiff.ObjectRegistry.newLegacyTooltip(tab.TooltipBaseLegacyMode).call(null,tab.TooltipBaseLegacyMode,null,cj)},$9:function(){if(ss.isNullOrUndefined(this.$c)){this.$c=this.makeTooltip();if(ss.isNullOrUndefined(this.$c)){return}this.$c.add_ubertipCommandExecuted(ss.mkdel(this,this.$a))}}},function(){return ss.makeGenericType(spiff.BaseView$1,[ch])},function(){return[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[ch])]});ci.controlsMargin=2;return ci};g.__typeName='tab.BaseLegendView$1';ss.initGenericClass(g,a,1);global.tab.BaseLegendView$1=g;var h=function(ch,ci,cj){this.div=null;this.parent=null;this.attributes=null;this.pendingManager=null;this.apply=null;this.cancel=null;this.disposables=new tab.DisposableHolder;this.tiledWidget=null;this.$2$1=null;this.$2$2=0;this.$2$3=null;Object.call(this);this.parent=ch;this.div=ci;this.attributes={};if(ss.isValue(cj)){this.attributes=cj}};h.__typeName='tab.BaseMode';global.tab.BaseMode=h;var i=function(ch,ci,cj,ck,cl,cm){this.column=null;this.$1=null;spiff.Template.call(this,$("<span class='tabLegendItemColumn'/>"));this.column=this.domRoot;this.$1=[];for(var cn=0;cn<ch;++cn){this.$1[cn]=new j(ck,cl,cm);l.setDomNodeStyleSize(this.$1[cn].domRoot,ci,cj);this.column.append(this.$1[cn].domRoot)}};i.__typeName='tab.CategoricalLegendColumnHtmlTemplate';global.tab.CategoricalLegendColumnHtmlTemplate=i;var j=function(ch,ci,cj){this.item=null;this.itemSwatch=null;this.itemLabelHolder=null;this.itemLabel=null;this.renderContext=null;this.canvasElt=null;spiff.Template.call(this,$("<div class='tabLegendItem'><span class='tabLegendItemSwatchHolder'></span><span class='tabLegendItemLabelHolder'><span class='tabLegendItemLabel' /></span></div>"));this.item=this.domRoot;var ck=this.getElementBySelector('.tabLegendItemSwatchHolder');this.itemLabel=this.getElementBySelector('.tabLegendItemLabel');this.itemLabelHolder=this.getElementBySelector('.tabLegendItemLabelHolder');l.setDomNodeStyleSize(ck,ch.w,ch.h);var cl=(ss.isValue(ci)?"<span class='tabLegendItemSwatch' />":"<canvas class='tabLegendItemSwatch' />");ck.append($(cl));this.itemSwatch=this.getElementBySelector('.tabLegendItemSwatch');if(ss.isNullOrUndefined(ci)){var cm=this.itemSwatch.get(0);this.renderContext=tab.CanvasRenderer.getRenderContext(cm,'transparent');this.canvasElt=cm;tab.CanvasUtil.sizeCanvasWithHighDPISupport(this.canvasElt,this.renderContext,ch)}else{var cn={l:ci.l,t:ci.t,w:ci.w,h:ci.h};if(cj){var co=1;cn.w-=2;cn.h-=2;this.itemSwatch.css('border-width',co+'px');this.itemSwatch.css('border-style','none')}l.setDomNodeStyleSize(this.itemSwatch,cn.w,cn.h);this.itemSwatch.css('top',cn.t+'px');this.itemSwatch.css('left',cn.l+'px');this.renderContext=null}};j.__typeName='tab.CategoricalLegendItemHtmlTemplate';global.tab.CategoricalLegendItemHtmlTemplate=j;var k=function(ch){this.panel=null;this.columnsHolder=null;this.columnHolder=null;this.legendHighlighterHolder=null;bi.call(this,ch);this.panel=this.domRoot;this.panel.append($("<div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter'/></div>"));this.columnsHolder=this.getElementBySelector('.tabLegendContentHolder');this.columnHolder=this.getElementBySelector('.tabLegendColumnHolder');this.legendHighlighterHolder=this.getElementBySelector('.tabLegendHighlighterHolder');this.getElementBySelector('.tabLegendHighlighter').attr('title',tab.Strings.LegendPanelHighlightSelectedItems)};k.__typeName='tab.CategoricalLegendTemplate';global.tab.CategoricalLegendTemplate=k;var l=function(ch,ci){this.viewportWidth=0;this.viewportHeight=0;this.viewportOffset=null;this.$u=[];this.$x=null;this.$v=null;this.$w=null;ss.makeGenericType(g,[m]).call(this,ch,ci);this.setHighlightButtonVisibility(false);ch.selectionChanged=ss.delegateCombine(ch.selectionChanged,ss.mkdel(this,this.onSelectionChanged));var cj=ss.mkdel(this,this.onFocus);var ck=ss.mkdel(this,function(cl){this.setHighlightButtonVisibility(false)});this.element[0].addEventListener('focus',cj,true);this.element[0].addEventListener('blur',ck,true);this.disposables.add(ss.mkdel(this,function(){ch.selectionChanged=ss.delegateRemove(ch.selectionChanged,ss.mkdel(this,this.onSelectionChanged));this.element[0].removeEventListener('focus',cj,true);this.element[0].removeEventListener('blur',ck,true)}));this.element.on('keydown',ss.mkdel(this,this.onKeyDown))};l.__typeName='tab.CategoricalLegendView';l.setDomNodeStyleSize=function(ch,ci,cj){ch.css('width',ci+'px');ch.css('height',cj+'px')};global.tab.CategoricalLegendView=l;var m=function(ch,ci,cj,ck){this.legendType=null;this.$r=null;this.$w=null;this.$s=null;this.$v=null;this.$p=null;this.$u=null;this.$t=0;this.$q=0;this.selectionChanged=null;bg.call(this,cj,ck);this.legendType=ci;this.$r=ch;this.$r.add_legendChanged(ss.mkdel(this,this.$f));this.$r.add_legendNameChanged(ss.mkdel(this,this.$e));var cl=this.get_visualModel();this.$v=cl.get_selectionsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$v.add_newSelection(ss.mkdel(this,this.$g));this.$p=cl.get_brushingsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$p.add_newSelection(ss.mkdel(this,this.$g));cl.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$g));this.$w=((this.legendType==='color')?tab.ColorModel.fromColorCode(this.$i().mNx):this.$h());this.get_visualModel().add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$d));this.$f()};m.__typeName='tab.CategoricalLegendViewModel';m.legendShouldBeGrayed=function(ch,ci,cj,ck){if(ch&&ci&&!cj){return false}return cj||ci||ck};global.tab.CategoricalLegendViewModel=m;var n=function(ch){this.$2=null;this._anchorIndex=-1;this._selectedIndexes=[];this._lastRangeSelectionIndex=-1;this.changelist=null;this._applyTimer=null;this.$2=ch};n.__typeName='tab.CategoricalSelection';global.tab.CategoricalSelection=n;var o=function(ch,ci,cj){e.call(this,ch,ci,cj);this.set_itemFormatter(ss.mkdel(G.filterItem,G.filterItem.formatChecklistFilterItemHtml))};o.__typeName='tab.CheckDropdown';global.tab.CheckDropdown=o;var p=function(ch,ci,cj){this.checkListContainer=null;this.$2=null;h.call(this,ch,ci,cj);this.set_itemFormatter(p.getFilterItemHtml)};p.__typeName='tab.Checklist';p.addAllItem=function(ch,ci,cj,ck,cl,cm){var cn=G.getAllItemHtml(ci,cj,ck,cl,cm);var co=ch.append($(cn).addClass('tab-ctrl-formatted-text'));G.filterItem.setChecked(co.children().get(0),cl)};p.shouldCheckAllItem=function(ch,ci){if(ss.isValue(ci)&&ss.isValue(ci.get_allItemCheckState())){return ss.unbox(ci.get_allItemCheckState())}return ch.all||ch.allChecked&&!ch.exclude||ch.allNotChecked&&ch.exclude};global.tab.Checklist=p;var q=function(ch,ci,cj){bQ.call(this,ch,ci,cj);this.tileHtml='<div role=\'listbox\' class="tile tab-ctrl-formatted-text" style="top: {0}px; position: absolute; width: 100%;">'};q.__typeName='tab.ChecklistContentFormatter';global.tab.ChecklistContentFormatter=q;var r=function(){this.templateString="<div class='ConditionalsWidget tab-ctrl-formatted-text'><div class='Conditional' dojoAttachPoint='domCondition'><span dojoAttachPoint='domConditionTitle' class='ConditionalTitle'>Condition</span><br/><span dojoAttachPoint='domConditionText'></span></div><div class='Conditional' dojoAttachPoint='domLimit'><span dojoAttachPoint='domLimitTitle' class='ConditionalTitle'>Limit</span><br/><span dojoAttachPoint='domLimitText'></span></div></div>";this.isContainer=false;this.domCondition=null;this.domConditionTitle=null;this.domConditionText=null;this.domLimit=null;this.domLimitTitle=null;this.domLimitText=null;Object.call(this)};r.__typeName='tab.ConditionalsWidget';global.tab.ConditionalsWidget=r;var s=function(ch,ci,cj){this.$2=0;this.$1=null;this.$0=null;ss.EventArgs.call(this);this.$2=ch;this.$1=ci;this.$0=cj};s.__typeName='tab.ContentFetchedEventArgs';global.tab.ContentFetchedEventArgs=s;var t=function(ch){this.viewModel=null;ss.makeGenericType(spiff.BaseView$1,[u]).call(this,ch,new c);this.viewModel=ch;this.get_template().domRoot.addClass(this.viewModel.get_sliderClassName())};t.__typeName='tab.ContinuousSlider';global.tab.ContinuousSlider=t;var u=function(ch){this.$6=null;this.$3=0;this.$4=0;this.$5=0;this.$7=0;this.$8='';this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$6=ch;this.$3=ch.get_currentFraction();this.$6.add_sliderFractionUpdated(ss.mkdel(this,this.$2));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_sliderFractionUpdated(ss.mkdel(this,this.$2))})));this.$5=200};u.__typeName='tab.ContinuousSliderViewModel';global.tab.ContinuousSliderViewModel=u;var v=function(ch){this.baseClass='currentPagePanel';this.templateString="<div dojoAttachPoint='containerNode' baseClass='currentPagePanel'><div dojoAttachPoint='_titlePane' style='border:0; float:left; width:100%; overflow:hidden;'></div><div dojoType='dijit.layout.SplitContainer' persist='false' dojoAttachPoint='innerWrapper' orientation='${cpOrientation}' sizerWidth='0' dragRestriction='true' activeSizing='false' style='float:left; overflow: visible;'><div dojoType='dijit.layout.LayoutContainer' sizeShare='24' sizeMin='24' style='display:${display_dropdown};' dojoAttachPoint='buttonsContainer' ><button dojoAttachEvent='onClick:prevPage' dojoType='dijit.form.Button' layoutAlign='left' style='margin:0; margin-right:2px;' iconClass='dijitIcon cpLeftArrowBlack' showLabel='false' dojoAttachPoint='_leftBtn'></button><select dojoAttachEvent='onChange:onSelection' dojoType='tableau.base.widget.ui.iDropDownSelect' dojoAttachPoint='_dropdown' layoutAlign='client' autoWidth='true' minSize='100' hasDownArrow='true' popupExtraClass='${popupClass}'></select><button dojoAttachEvent='onClick:nextPage' dojoType='dijit.form.Button' layoutAlign='right' style='clear: left; margin:0; margin-left:2px;' iconClass='dijitIcon cpRightArrowBlack' showLabel='false' dojoAttachPoint='_rightBtn'></button></div><div dojoType='dijit.layout.ContentPane' sizeShare='24' sizeMin='24' style='display:${display_slider}; padding:6px 0 0 0; border:0; overflow: visible;' dojoAttachPoint='sliderPane'><div dojoAttachEvent='onChange:onSliderChange' dojoType='dijit.form.HorizontalSlider' slideDuration='0'pageIncrement='1' minimum='0' maximum='${maximum}' discreteValues='${discrete_values}' intermediateChanges='{0}' showButtons='false'dojoAttachPoint='_slider'></div><div dojoAttachPoint='_horizontalRuleNode'></div></div></div><div dojoType='dijit.layout.ContentPane' dojoAttachPoint='_checkboxPane' style='padding:0; height:16px; width:90px; display:${display_toggle}; border:0; position:relative; float:left;'><input dojoAttachEvent='onChange:onCheckboxChange' dojoType='dijit.form.CheckBox' dojoAttachPoint='_showHistoryCb'/></div></div>";this.widgetsInTemplate=true;this.zid=0;this.sliderPane=null;this.show_toggle=false;this.show_dropdown=false;this.show_slider=false;this.sheetid=null;this.session=null;this.lTitle=null;this.titleHtml=null;this.isDashboard=false;this.pageViewModel=null;this.innerWrapper=null;this.cpHeight=0;this.buttonsContainer=null;this._started=false;this._slider=null;this._showHistoryCb=null;this._rightBtn=null;this._leftBtn=null;this._horizontalRuleNode=null;this._dropdown=null;this._checkboxPane=null;this.rid=0;this.timestamp=0;this._horizontalRule=null;this.oldSize=0;this.containerNode=null;this.titleSize=null;this.zoneTitleHeight=0;this.zoneTitleWidth=0;this.updating=false;this._titlePane=null;this.pages=null;this.current_page=0;this.refreshed=false;this.enable=false;this.cpOrientation=null;this.display_dropdown=null;this.display_slider=null;this.display_toggle=null;this.maximum=0;this.discrete_values=0;this.show_ruler=null;this.ruler_count=0;this.popupClass=null;this.requestTimeout=null;this.rebuildLayoutTimeout=null;this.BUTTONS_HEIGHT=26;this.ONLY_BUTTONS=24;this.SLIDER_HEIGHT=22;this.ONLY_SLIDER=16;this.TOGGLE_HEIGHT=16;this.TOGGLE_WIDTH_OFFSET=90;this.RULE_OFFSET=5;this.DOM_OFFSET=4;this.WIDGET_SPACE=8;this.SCROLL_PAGES=14;Object.call(this);this.templateString=ss.formatString(this.templateString,tab.FeatureFlags.isEnabled('PageCardImprovements'))};v.__typeName='tab.CurrentPagePanel';global.tab.CurrentPagePanel=v;var w=function(){this.firstPeriod=0;this.lastPeriod=0;this.isFutureIncluded=true;this.periodType=null;this.anchorDateTime=null;this.fy=0;this.startOfWeek=1;this._applyTimer=null;this.domPreview=null;this.textLast=null;this.textCurr=null;this.textNext=null;this.textLastn1=null;this.textLastn2=null;this.textNextn1=null;this.textNextn2=null;this.textTodate=null;this.rangeType=null;this.radioTodate=null;this.rangeN=0;this.UPDATE_DELAY=800;this.inputLastn=null;this.inputNextn=null;this.lowestAllowedDate=new Date(1753,0,1);this.highestAllowedDate=new Date(9999,11,31);be.call(this)};w.__typeName='tab.DateFilterWidget';global.tab.DateFilterWidget=w;var x=function(){};x.__typeName='tab.DojoUtils';x.localizeDojoLabeledControls=function(ch){var ci=ch;var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck].item1;var cm=ci[ck].item2;if(ss.isValue(cl)){cl.attr('label',tab.Strings.getString(cm))}}};x.disableTextSelection=function(ch){if(typeof(ch['onselectstart'])==='function'){var ci=spiff.EventUtil.stopEvent;ch['onselectstart']=ci}else if('MozUserSelect'in ch.style){ch.style['MozUserSelect']='none'}ch.style.cursor='default'};global.tab.DojoUtils=x;var y=function(){};y.__typeName='tab.DojoWidgets';y.$0=function(){dojo.require('tableau.base.BaseClient');var ch=null;ch=[dijit._Widget];dojo.declare('tableau.base.widget.LegacyQuickFilterWidget',ch,be.prototype);ch=[tableau.base.widget.LegacyQuickFilterWidget];dojo.declare('tableau.base.widget.DateFilterWidget',ch,w.prototype);ch=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];R.prototype['templateString']="<div class='CategoricalFilter' role='form'><div class='CategoricalFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='CFButton CFResetButton' showlabel='false'dojoAttachPoint='resetButton' dojoAttachEvent='onClick:toggleReset'iconClass='wcIconNonfiltered'>Showing all values</div><div dojoType='dijit.form.Button' class='CFButton CFSearchButton' showlabel='false'dojoAttachPoint='searchButton' dojoAttachEvent='onClick:toggleSearchUI'iconClass='wcIconSearch'>Search</div><div dojoType='dijit.form.Button' class='CFButton CFDomainButton' showlabel='false'dojoAttachPoint='domainButton' dojoAttachEvent='onClick:toggleDomain'iconClass='wcIconDomainAll'>Show Fewer Values</div><div dojoType='dijit.form.Button' dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'class='CFButton CFMenuButton' dojoAttachPoint='menuButton' name='type'></div></div><div dojoAttachPoint='searchDiv'></div><div class='CFContent' dojoAttachPoint='domContent'></div><div class='CFHorizScroll' dojoAttachPoint='domHorizScroll' dojoAttachEvent='onscroll:doscrollHoriz'><div dojoAttachPoint='domHorizScrollContent'></div></div><div dojoType='tableau.base.widget.ConditionalsWidget' dojoAttachPoint='conditionals'></div></div></div>";dojo.declare('tableau.base.widget.LegacyCategoricalQuickFilter',ch,R.prototype);ch=[dijit._Widget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.ConditionalsWidget',ch,r.prototype);ch=[dijit.layout._LayoutWidget,dijit._Templated];dojo.declare('tableau.base.widget.TabbedNavigation',ch,bU.prototype);ch=[dijit.layout._LayoutWidget,dijit._Templated];dojo.declare('tableau.base.widget.CurrentPagePanel',ch,v.prototype);dojo.declare('tableau.base.widget.catmode.BaseMode',[dijit._Contained],h.prototype);dojo.declare('tableau.base.widget.catmode.Checklist',[tableau.base.widget.catmode.BaseMode],p.prototype);dojo.declare('tableau.base.widget.catmode.BaseDropdown',[tableau.base.widget.catmode.BaseMode],e.prototype);dojo.declare('tableau.base.widget.catmode.SimpleDropdown',[tableau.base.widget.catmode.BaseDropdown],bP.prototype);dojo.declare('tableau.base.widget.catmode.CheckDropdown',[tableau.base.widget.catmode.BaseDropdown],o.prototype);dojo.declare('tableau.base.widget.catmode.Pattern',[tableau.base.widget.catmode.BaseMode],bz.prototype);dojo.declare('tableau.base.widget.catmode.Slider',[tableau.base.widget.catmode.BaseMode],bS.prototype);dojo.declare('tableau.base.widget.catmode.TypeIn',[tableau.base.widget.catmode.BaseMode],cb.prototype);dojo.declare('tableau.base.widget.catmode.Radiolist',[tableau.base.widget.catmode.BaseMode],bG.prototype);dojo.declare('tableau.base.widget.ui.iDropDownSelect',[dojox.form.DropDownSelect],N.prototype);dojo.declare('tableau.base.widget.ui.Slider',[],bR.prototype);dojo.declare('tableau.base.widget.ui.TypeIn',[],ca.prototype);dojo.declare('tableau.base.widget.ui.TypeInDateField',[ca],cc.prototype);dojo.declare('tableau.base.widget.ui.onClickOverride',null,bl.prototype);dojo.declare('tableau.base.widget.ui.iMenuItem',[dijit.MenuItem,bl],cf.prototype);dojo.declare('tableau.base.widget.ui.iCheckedMenuItem',[dijit.CheckedMenuItem,bl],ce.prototype);dojo.declare('tableau.base.widget.hsm.TreeModel',null,bZ.prototype);dojo.declare('tableau.base.widget.hsm.Tree',[dijit.Tree],bX.prototype);dojo.declare('tableau.base.widget.hsm._TreeNode',[dijit._TreeNode],bY.prototype);ch=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.LegacyHierarchicalQuickFilter',ch,U.prototype);ch=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.LegacyQuantitativeQuickFilter',ch,ba.prototype);ch=[tableau.base.widget.DateFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.LegacyRelativeDateQuickFilter',ch,bf.prototype);ch=[tableau.base.widget.LegacyQuickFilterWidget,dijit._Contained,dijit._Templated];dojo.declare('tableau.base.widget.RelativeDatePickFilter',ch,bL.prototype);ch=[tableau.base.widget.LegacyQuantitativeQuickFilter];dojo.declare('tableau.base.widget.LegacyQuantitativeDateQuickFilter',ch,Z.prototype);ch=[dijit._Widget,dijit._Templated];bp.prototype['templateString']="<div class='ParameterControl' role='form'><div class='ParameterControlBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='ParamTitle' dojoAttachPoint='domTitleBar'></h3></div><div class='PCContent' dojoAttachPoint='domContent'></div></div></div>";dojo.declare('tableau.base.widget.ParameterControl',ch,bp.prototype);dojo.declare('tableau.base.widget.paramui.Base',[dijit._Contained],bt.prototype);dojo.declare('tableau.base.widget.paramui.TypeIn',[tableau.base.widget.paramui.Base],bx.prototype);dojo.declare('tableau.base.widget.paramui.TypeInDateField',[tableau.base.widget.paramui.Base],by.prototype);dojo.declare('tableau.base.widget.paramui.Compact',[tableau.base.widget.paramui.Base],bu.prototype);dojo.declare('tableau.base.widget.paramui.List',[tableau.base.widget.paramui.Base],bv.prototype);dojo.declare('tableau.base.widget.paramui.Slider',[tableau.base.widget.paramui.Base],bw.prototype);ch=[dijit._Widget,dijit._Templated,dijit._Contained];dojo.declare('tableau.base.widget.SearchWidgetBase',ch,bO.prototype);ch=[tableau.base.widget.SearchWidgetBase];bN.prototype['templateString']="<div class='Search' role='form'><div class='SearchBox' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onpaste:onQueryBoxPaste'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><img class='searchBusyImg' title='${CANCEL_SEARCH_TOOLTIP}' src='${busy_gif_url}'dojoAttachPoint='domSearchBusyImg'dojoAttachEvent='onclick:onSearchBusyImgClick'></img><span class='wcIconSearch' title='${SEARCH_TOOLTIP}'dojoAttachPoint='domSearchButton'dojoAttachEvent='onclick:onSearchButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><span class='wcIconSearchAdd' title='${ADD_ITEM_CTRL_ENTER}'dojoAttachPoint='domSearchAddButton'dojoAttachEvent='onclick:onSearchAddButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div><div class='SearchResults' dojoAttachPoint='domResults' dojoAttachEvent='onclick:onListItemClick'></div></div>";dojo.declare('tableau.base.widget.SearchWidget',ch,bN.prototype);dojo.declare('tableau.base.widget.SmallSearchWidget',[tableau.base.widget.SearchWidgetBase],bT.prototype);dojo.declare('tableau.base.widget.FilteringSearchWidget',[tableau.base.widget.SearchWidgetBase],B.prototype);ch=[dijit._Widget,dijit._Templated,dijit._Contained];dojo.declare('tableau.base.widget.TypeInFilterContents',ch,cd.prototype);ch=[dijit.layout._LayoutWidget,dijit._Templated];dojo.declare('tableau.base.widget.FilterPanel',ch,I.prototype)};global.tab.DojoWidgets=y;var z=function(ch,ci,cj){this.$2=0;this.$0=null;this.$1=null;this.$2=ch;this.$0=ci;this.$1=cj};z.__typeName='tab.FetchInfo';global.tab.FetchInfo=z;var A=function(ch,ci,cj){this.$4=null;this.$9=null;this.$3=null;this.$7=null;this.$8=null;this.$6=5;this.$5=false;this.$1$1=null;this.$4=ci;this.$9=ch;this.$3=cj;this.$7=[];this.$8=[]};A.__typeName='tab.FilterContentFetcher';global.tab.FilterContentFetcher=A;var B=function(ch){this.templateString="<div class='Search FilteringSearch'><div class='SearchBox' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onclick:focusQueryBox,onfocus:focusQueryBox,onblur:blurQueryBox' title='${SEARCH_TOOLTIP}'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div></div>";this.domQueryBox=null;this.domSearchButton=null;this.domSearchBusyImg=null;this.$6=100;this.$7=null;this.$8=0;bO.call(this)};B.__typeName='tab.FilteringSearchWidget';global.tab.FilteringSearchWidget=B;var C=function(){};C.__typeName='tab.FilteringSearchWidgetStyle';global.tab.FilteringSearchWidgetStyle=C;var D=function(){};D.__typeName='tab.FilterItemBase';global.tab.FilterItemBase=D;var E=function(){D.call(this)};E.__typeName='tab.FilterItemDesktop';global.tab.FilterItemDesktop=E;var F=function(){D.call(this)};F.__typeName='tab.FilterItemMobile';F.formatListRowFilterItemHtml=function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=ck===G.allItemIndex;var cn;if(cm){cn=ci.s}else if(ch.isSingleSelect()){cn=G.shouldCheckFilterItemSingleValue(ci,ch)}else{cn=G.shouldCheckFilterItemMultiValue(ci,ch)}var co=tableau.format.formatTupleDisplayName(ci,false,ch.get_oFilter().role);var cp=G.showFacets(ch);var cq=(cp?tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role):'');var cr=ss.isValue(ch.get_modeContents())&&ss.isValue(ch.get_modeContents().pendingManager)&&ch.get_modeContents().pendingManager.isPending(ci,ck);var cs=false;if(cm){var ct=(ss.isValue(ch.get_modeContents())?ch.get_modeContents().pendingManager:null);cs=p.shouldCheckAllItem(ch.get_oFilter(),ct)}else if(cn&&!cr||!cn&&cr){cs=true}return F.getScrollingListRowHtml(cl,co,cq,cm,cs,cp,cr)};F.getScrollingListRowHtml=function(ch,ci,cj,ck,cl,cm,cn){return['<div class="ListRow',(ck?' rowAll':''),(cl?' checked':''),(cm?' Wide':''),(cn?' pending':''),'" id="_popup_',ch,'">','<div class="facet">',cj,'</div>','<div class="checkArea">&nbsp;</div>','<div class="labelArea" style="margin-left: 28px;">',ci,'</div></div>'].join('')};F.formatRemovableListRowFilterItemHtml=function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=tableau.format.formatTupleDisplayName(ci,false,ch.get_oFilter().role);return F.getScrollingListRemovableRowHtml(cl,cm)};F.getScrollingListRemovableRowHtml=function(ch,ci){return['<div class="ListRow" id="_popup_',ch,'" style="min-width: 270px; white-space: nowrap;"><div class="wcIconSearchRemoveContainer" style="margin-right:10px"><div class="wcIconSearchRemove" style="margin-right:10px">&nbsp;</div></div><div class="xRowlabelArea">',ci,'</div><div style="clear:both;"></div></div>'].join('')};global.tab.FilterItemMobile=F;var G=function(){};G.__typeName='tab.FilterItemUtil';G.getBaseItemName=function(ch,ci){var cj=ci+'_'+ch.get_oFilter().name;if(ss.isValue(ch.get_session())){cj+=ch.get_session().get_viewId()}return cj};G.getItemId=function(ch,ci){return tableau.format.escapeHTML(ch+'_'+((ci===G.allItemIndex)?G.$1:ci.toString()))};G.getIndexFromId=function(ch){var ci=G.$0(ch);var cj=parseInt(ci,10);if(isNaN(cj)){if(ss.referenceEquals(ci,G.$1)){return G.allItemIndex}else{return G.unknownItemIndex}}return cj};G.isAllItemId=function(ch){return ss.referenceEquals(G.$0(ch),G.$1)};G.getAllItemTuple=function(ch,ci){var cj={d:G.$1,s:ci,t:null};cj.f=[{t:'i',v:ch}];return cj};G.getAllItemHtml=function(ch,ci,cj,ck,cl){return cl(ch,G.getAllItemTuple(cj,ck),ci,G.allItemIndex)};G.isAllOrAllChecked=function(ch){return ch.get_oFilter().all||ch.get_oFilter().allChecked};G.isAllMode=function(ch){return ch.get_oFilter().all};G.addAllItemToTuples=function(ch,ci,cj){var ck=[];ck.push({d:tab.Strings.QuickFilterAll,s:ci,t:[{t:'i',v:cj}]});return $.merge(ck,ch)};G.shouldCheckFilterItemSingleValue=function(ch,ci){return ch.s&&!(ci.get_oFilter().exclude&&G.isAllOrAllChecked(ci))};G.shouldCheckFilterItemMultiValue=function(ch,ci){return ch.s||!ci.get_oFilter().exclude&&G.isAllMode(ci)};G.showFacets=function(ch){return ch.get_oFilter().showFacets&&ch.get_modeContents().get_width()>100};G.resetPendingFilterItems=function(ch,ci){for(var cj=0;cj<ch.length;cj++){var ck=ch[cj];if(G.filterItem.isPending(ck)){G.filterItem.togglePendingState(ck);if(ci){G.filterItem.setChecked(ck,!G.filterItem.isChecked(ck))}}}};G.toggleClassState=function(ch,ci){var cj=$(ch);var ck=!cj.hasClass(ci);cj.toggleClass(ci,ck);return ck};G.getClassElement=function(ch,ci){for(var cj=0;ss.isValue(ch)&&cj<5;cj++,ch=ch.parentNode){if($(ch).hasClass(ci)){return ch}}return null};G.$0=function(ch){var ci=ch.split(String.fromCharCode(95));return ci[ci.length-1]};global.tab.FilterItemUtil=G;var H=function(ch,ci,cj){this.$6=null;this.$4=null;this.$5=null;this.$3=null;this.$1=0;this.$2=0;this.$1$1=null;this.$6=$(ch);this.$6.addClass('tiledContent');var ck=document.createElement('div');this.$4=$(ck);this.$4.css('left','0px');this.$4.css('position','relative');this.$4.css('height',ci+'px');this.$4.css('width',this.$6.css('width')+'px');this.$4.addClass('tileContainer');this.$6.append(this.$4);this.$6.scroll(ss.mkdel(this,this.$0));this.$5=new Array(cj)};H.__typeName='tab.FilterListUI';global.tab.FilterListUI=H;var I=function(ch){this.templateString="<div class='FilterPanel' dojoAttachPoint='containerNode' dojoAttachEvent='onmousedown:onMouseDown'></div>";this.session=null;this.field='';this.filter=null;this.format={};this.width=0;this.metricsOnly=false;this.layoutSession=null;this.zid=0;this.quickFilterDisplayViewModel=null;this.$6=null;this.requestSetAttributes=null;this.titleHTML=null;this.$8=0;this.$9=0;this.attributes={};this.$7=null;this.textStyle=null;this.backgroundColor=null;Object.call(this);this.$6=new tab.DisposableHolder};I.__typeName='tab.FilterPanel';global.tab.FilterPanel=I;var J=function(ch,ci,cj){this.$2=null;this.$0=null;this.$1=null;this.$2=ch;this.$0=ci;this.$1=cj};J.__typeName='tab.FormattingStyleInfo';global.tab.FormattingStyleInfo=J;var K=function(){};K.__typeName='tab.ICategoricalSelectionWidget';global.tab.ICategoricalSelectionWidget=K;var L=function(){};L.__typeName='tab.IContentFetcher';global.tab.IContentFetcher=L;var M=function(){};M.__typeName='tab.IContentFormatter';global.tab.IContentFormatter=M;var N=function(){Object.call(this);this['_stopClickEvents']=false};N.__typeName='tab.IDropDownSelect';global.tab.IDropDownSelect=N;var O=function(ch){cf.call(this)};O.__typeName='tab.IMenuItem';global.tab.IMenuItem=O;var P=function(){};P.__typeName='tab.ITiledGridModel';global.tab.ITiledGridModel=P;var Q=function(){};Q.__typeName='tab.ITiledWidgetUI';global.tab.ITiledWidgetUI=Q;var R=function(ch){this.$k=null;this.$j=null;this.$l=null;this.widgetsInTemplate=true;this.$i=null;this.getContextMenuCommands=null;this.requestSetAttributes=null;this.session=null;this.field='';this.filterViewModel=null;this.presModel=null;this.applyDelay=1000;this.attributes={};this.isTypeInList=false;this.domContent=null;this.domBox=null;this.searchDiv=null;this.resetButton=null;this.domainButton=null;this.menuButton=null;this.stateId=0;this.$n=null;this.singleSelectMenuItem=null;this.multiSelectMenuItem=null;this.inclusiveMenuItem=null;this.exclusiveMenuItem=null;this.getSID=null;this.mode=null;this.metricsOnly=false;this.searchButton=null;this.domControls=null;this.titleH=0;this.titleW=0;this.width=0;this.modeContents=null;this.domHorizScroll=null;this.conditionals=null;this.showContextMenu=null;this.$m=null;this.$4$1=null;be.call(this);this.$i=new n(this);this.set_titleDomId(tab.DomUtil.generateUniqueId());this.$j=ss.mkdel(this,this.$4);this.$l=ss.mkdel(this,this.$a)};R.__typeName='tab.LegacyCategoricalQuickFilter';R.$0=function(ch,ci){if(ss.isNullOrUndefined(ch)){return true}var cj=ch.table.tuples;var ck=ci.table.tuples;if(cj.length!==ck.length){return true}for(var cl=0,cm=cj.length;cl<cm;cl++){if(!ss.referenceEquals(cj[cl].t[0].v,ck[cl].t[0].v)){return true}}return false};R.$1=function(ch,ci){if(ss.isNullOrUndefined(ch)){return true}var cj=ss.isValue(ch.all)&&ch.all;var ck=ss.isValue(ci.all)&&ci.all;return cj!==ck&&ck};global.tab.LegacyCategoricalQuickFilter=R;var S=function(ch){this.$2=null;spiff.BaseViewModel.call(this);this.$2=ch;this.$2.add_filterUpdated(ss.mkdel(this,this.handleUpdateFilterContent))};S.__typeName='tab.LegacyCategoricalQuickFilterViewModel';global.tab.LegacyCategoricalQuickFilterViewModel=S;var T=function(){};T.__typeName='tab.LegacyFilterDropDownArrowTemplate';T.getDropDownForColor=function(ch){return"<svg focusable='false' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='12px' height='12px' viewBox='0 0 12 12' style='enable-background:new 0 0 12 12;' xml:space='preserve'><path style='fill:"+ch+";' d='M4.9,6.9L2.1,3.3C2,3.2,2.1,3,2.2,3h5.6C8,3,8.1,3.2,8,3.3L5.2,6.9C5.1,7,4.9,7,4.9,6.9z'/>"+'</svg>'};global.tab.LegacyFilterDropDownArrowTemplate=T;var U=function(ch){this.templateString="<div class='HierarchicalFilter'><div dojoAttachPoint='domBox' class='HierarchicalFilterBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='HFButton HFSearchButton' showlabel='false'dojoAttachPoint='searchButton' dojoAttachEvent='onClick:toggleSearchUI'iconClass='wcIconSearch'>Search</div><div dojoType='dijit.form.Button' class='HFButton HFMenuButton' dojoAttachPoint='menuButton'name='type' dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div></div><div dojoAttachPoint='searchDiv'></div><div class='HFLevels tab-ctrl-formatted-coloronly' dojoAttachPoint='domLevelBox'><table cellspacing='2'><tr dojoAttachPoint='domLevelContainer'></tr></table></div><div class='HFSelection tab-ctrl-formatted-text' dojoAttachPoint='domContent'></div><div dojoType='tableau.base.widget.ConditionalsWidget' dojoAttachPoint='conditionals'></div></div></div>";this.widgetsInTemplate=true;this.$b=[];this.session=null;this.field='';this.filterViewModel=null;this.$9=500;this.attributes={};this.stateId=0;this.$d=0;this.$e=0;this.domBox=null;this.domLevelBox=null;this.domContent=null;this.domControls=null;this.searchDiv=null;this.searchButton=null;this.RANGE_START='minValue';this.RANGE_END='maxValue';this.$a=null;this.$c=null;this.tree=null;this._applyTimer=null;this.searchWidget=null;this.menuButton=null;this.conditionals=null;this.domLevelContainer=null;this.metricsOnly=false;this.getContextMenuCommands=null;this.showContextMenu=null;this.requestSetAttributes=null;be.call(this)};U.__typeName='tab.LegacyHierarchicalQuickFilter';U.$0=function(ch,ci){var cj=tab.ColorModel.fromColorCode(ci);var ck=tab.ColorModel.fromColorCode(ch.YhU);var cl=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(ck,0.235294118523598),cj);var cm={'border-width':'1px','border-style':'solid','border-color':cl.toRgb()};tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelNoneSelected',cm);var cn=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(ck,0.411764711141586),cj);var co={'border-color':cn.toRgb()};tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelSomeSelected',co);tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelAllSelected',co);var cp=tab.ColorModel.fromColorCode(ci);var cq=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(cj,0.39215686917305),U.$8);var cr=tab.ColorModel.alphaCompositeSolidDest(tab.ColorModel.fromColorModelPlusAlpha(cj,0.549019634723663),U.$8);if(cp.isLStarAboveThreshold(95)){cq=U.$4;cr=U.$2}var cs={'background-color':cq.toRgb()};var ct={'background-color':cr.toRgb()};var cu={'background-color':cp.toRgb()};tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelAllSelected',cs);tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelSomeSelected',ct);tab.StyleUtil.appendCSSRule('.HFLevels td.HFLevelNoneSelected',cu)};global.tab.LegacyHierarchicalQuickFilter=U;var V=function(ch){this.$2=null;spiff.BaseViewModel.call(this);this.$2=ch};V.__typeName='tab.LegacyHierarchicalQuickFilterViewModel';global.tab.LegacyHierarchicalQuickFilterViewModel=V;var W=function(ch){this.domBox=null;this.domContent=null;this.domHighlighter=null;this.domHighlighterHolder=null;this.domImageBody=null;bi.call(this,ch);this.domBox=this.getElementBySelector('.LegendBox');this.domContent=this.getElementBySelector('.LegendContent');this.domHighlighter=this.getElementBySelector('.tabLegendHighlighter');this.domHighlighterHolder=this.getElementBySelector('.tabLegendHighlighterHolder');this.domImageBody=this.getElementBySelector('.LegendImageBody')};W.__typeName='tab.LegacyLegendTemplate';global.tab.LegacyLegendTemplate=W;var X=function(ch,ci){this.legacyLegendViewModel=null;this.$g=null;this.$i=0;this.eventHandler=null;this.iterButtons=null;this.$h=0;this.bodyOffset={x:0,y:0};this.bodySize=null;ss.makeGenericType(g,[Y]).call(this,ch,ci);this.legacyLegendViewModel=ch;this.legacyLegendViewModel.add_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));this.legacyLegendViewModel.add_validStateChanged(ss.mkdel(this,this.handleValidStateChanged));this.$e()};X.__typeName='tab.LegacyLegendView';global.tab.LegacyLegendView=X;var Y=function(ch,ci,cj){this.$h=null;this.$j=null;this.$i=null;this.$3$1=null;this.$3$2=null;bg.call(this,ci,cj);this.$h=ch;this.$h.add_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));this.get_visualModel().add_urlInfoCacheChange(ss.mkdel(this,this.$c));this.$j=cj;this.$j.add_validStateChanged(ss.mkdel(this,this.handleZoneValidStateChanged))};Y.__typeName='tab.LegacyLegendViewModel';global.tab.LegacyLegendViewModel=Y;var Z=function(ch){this.$r=0;this.$p=null;this.$q=null;this.$o=false;ba.call(this,ch)};Z.__typeName='tab.LegacyQuantitativeDateQuickFilter';Z.mergeDateWithTime=function(ch,ci){var cj=new Date(Date.UTC(ch.getUTCFullYear(),ch.getUTCMonth(),ch.getUTCDate(),ci.getUTCHours(),ci.getUTCMinutes(),ci.getUTCSeconds(),ci.getUTCMilliseconds()));return cj};global.tab.LegacyQuantitativeDateQuickFilter=Z;var ba=function(ch){this.templateString="<div class='QuantitativeFilter'><div class='QuantitativeFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='QFTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='QFButton QFResetButton' showlabel='false'dojoAttachPoint='resetButton' dojoAttachEvent='onClick:toggleReset'iconClass='wcIconNonfiltered'>Showing all values</div><div dojoType='dijit.form.Button' class='QFButton QFDomainButton' showlabel='false'dojoAttachPoint='domainButton' dojoAttachEvent='onClick:toggleDomain'iconClass='wcIconDomainAll'>Show Smaller Range</div><div dojoType='dijit.form.Button' class='QFButton QFMenuButton' name='type' dojoAttachPoint='menuButton'dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div></div><div class='QFContent' dojoAttachPoint='domContent'><div class='QFReadout QFLowerBound tab-ctrl-formatted-border-hover' dojoAttachEvent='onclick:showLowerInput' dojoAttachPoint='domLowerBound'><div class='readoutText tab-ctrl-formatted-fixedsize' dojoAttachPoint='domLowerText'></div><input type='text' dojoAttachPoint='domLowerInput'></input></div><div class='QFReadout QFUpperBound tab-ctrl-formatted-border-hover' dojoAttachEvent='onclick:showUpperInput' dojoAttachPoint='domUpperBound'><div class='readoutText tab-ctrl-formatted-fixedsize' dojoAttachPoint='domUpperText'></div><input type='text' dojoAttachPoint='domUpperInput'></input></div><div dojoAttachPoint='domBar' class='QFSlider QFBar'><div dojoAttachPoint='domRange' class='QFRange' dojoAttachEvent='onmousedown:startRangeCapture'><div dojoAttachPoint='domHighlight' class='QFRangeHighlight'></div></div></div><span dojoAttachPoint='domLowerImg' class='QFSlider QFImg QFFilterLeft' dojoAttachEvent='onmousedown:startLowerCapture'></span><span dojoAttachPoint='domUpperImg' class='QFSlider QFImg QFFilterRight' dojoAttachEvent='onmousedown:startUpperCapture'></span></div></div></div>";this.getContextMenuCommands=null;this.requestSetAttributes=null;this.attributes={};this.widgetsInTemplate=true;this.global=false;this.templateRoot=null;this.session=null;this.field='';this.filterViewModel=null;this.presModel=null;this.$c=200;this.$d=null;this.$f=10;this.rid=0;this.timestamp=0;this.domContent=null;this.domControls=null;this.domLowerText=null;this.domUpperText=null;this.domLowerInput=null;this.domUpperInput=null;this.domBar=null;this.domRange=null;this.domHighlight=null;this.domLowerImg=null;this.domUpperImg=null;this.domLowerBound=null;this.domUpperBound=null;this.resetButton=null;this.menuButton=null;this.domainButton=null;this.lastLowerOffset=0;this.lastUpperOffset=0;this.classQF='QF';this.classQFButtonR='QFButtonR';this.classQFButtonHide='QFButtonHide';this.classQFDisabled='QFDisabled';this.classQFCenterText='QFCenterText';this.classQFHideButtons='QFHideButtons';this.classQFHideSlider='QFHideSlider';this.classQFHideReadout='QFHideReadout';this.classQFResetDisabled='QFResetDisabled';this.oCurrentMin=null;this.oCurrentMax=null;this.oRangeMin=null;this.oRangeMax=null;this.oDataMin=null;this.oDataMax=null;this.rangeMinOverride=null;this.rangeMaxOverride=null;this.previousMinVal=null;this.previousMaxVal=null;this.metricsOnly=false;this.oMetrics=null;this.titleH=0;this.titleW=0;this.$h=null;this.precision=0;this.captureInfo=null;this.showInputStartValue=null;this.mode=null;this.showContextMenu=null;this.$e=null;this.$g=false;be.call(this);tab.ServerFontLoader.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$1))};ba.__typeName='tab.LegacyQuantitativeQuickFilter';global.tab.LegacyQuantitativeQuickFilter=ba;var bb=function(ch){this.$2=null;spiff.BaseViewModel.call(this);this.$2=ch};bb.__typeName='tab.LegacyQuantitativeQuickFilterViewModel';global.tab.LegacyQuantitativeQuickFilterViewModel=bb;var bc=function(ch){this.$i=null;ss.makeGenericType(spiff.BaseView$1,[bd]).call(this,ch,new bF);this.$h().add_updateQuickFilterDisplay(ss.mkdel(this,this.$b));this.$h().add_resized(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_updateQuickFilterDisplay(ss.mkdel(this,this.$b))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_resized(ss.mkdel(this,this.$f))})));this.$h().add_updateQuickFilterContent(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_updateQuickFilterContent(ss.mkdel(this,this.$a))})));if(this.$h().get_hasBorder()){this.get_template().domRoot.addClass('tabBordered')}};bc.__typeName='tab.LegacyQuickFilterDisplayView';global.tab.LegacyQuickFilterDisplayView=bc;var bd=function(ch,ci){this.$a=null;this.$6=null;this.$8=true;this.$9=true;this.$7=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$6=ci;this.$6.add_filterUpdated(ss.mkdel(this,this.$5));this.$a=ch;this.$a.add_quickFilterDisplayUpdated(ss.mkdel(this,this.handleUpdateQuickFilterDisplay));this.$a.get_zoneModel().add_resizeZone(ss.mkdel(this,this.$4));this.$3()};bd.__typeName='tab.LegacyQuickFilterDisplayViewModel';global.tab.LegacyQuickFilterDisplayViewModel=bd;var be=function(){this.titleHTML=null;this.format={};this.backgroundColor=null;this.textStyle=null;this.domTitleBar=null;this.oFilter=null;Object.call(this)};be.__typeName='tab.LegacyQuickFilterWidget';global.tab.LegacyQuickFilterWidget=be;var bf=function(ch){this.templateString="<div class='RelativeDateFilter'><div class='RelativeDateFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='RDFButton RDFMenuButton' name='type' dojoAttachPoint='menuButton'dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div></div><div dojoType='dijit.form.DropDownButton' dojoAttachPoint='domDropdownButton'><span class='RDText'>date description</span><div dojoType='dijit.TooltipDialog' dojoAttachPoint='domTooltipDialog'><div class='RelativeDateFilterDialog' dojoAttachPoint='domDialog'><div class='RangeButtonsBar'><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPYear'dojoAttachPoint='buttonYear' name='year'>Years</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPQuarter'dojoAttachPoint='buttonQuarter' name='quarter'>Quarters</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPMonth'dojoAttachPoint='buttonMonth' name='month'>Months</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPWeek'dojoAttachPoint='buttonWeek' name='week'>Weeks</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPDay'dojoAttachPoint='buttonDay' name='day'>Days</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPHour'dojoAttachPoint='buttonHour' name='hour'>Hours</div><div dojotype='dijit.form.ToggleButton' dojoAttachEvent='onClick:setPMinute'dojoAttachPoint='buttonMinute' name='minute'>Minutes</div></div><div class='vertSpacer topHR'></div><div class='radioLine'><div class='column1'><input class='rradio' type='radio' name='radio-${field}' value='last'dojoAttachPoint='radioLast' dojoAttachEvent='onclick:setRLast'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textLast' dojoAttachEvent='onclick:setRLast'></span></div><div class='column2'><input class='rradio' type='radio' name='radio-${field}' value='lastn'dojoAttachPoint='radioLastn' dojoAttachEvent='onclick:setRLastn'></input><div class='fakeRadio'></div><span class='rlabel alignLN' dojoAttachPoint='textLastn1' dojoAttachEvent='onclick:setRLastn'></span><input class='rtext' type='text' size='2' dojoAttachPoint='inputLastn' value='3'dojoAttachEvent='onkeyup:onTypingLast'></input><span class='spinner' dojoAttachPoint='lastSpinner'><div class='spinnerElement spinnerUp' dojoAttachPoint='lastUp'dojoAttachEvent='onmouseover:overLastUp,onmouseout:outLastUp,onclick:upLast'></div><div class='spinnerElement spinnerDown' dojoAttachPoint='lastDown'dojoAttachEvent='onmouseover:overLastDown,onmouseout:outLastDown,onclick:downLast'></div></span><span class='rlabel' dojoAttachPoint='textLastn2' dojoAttachEvent='onclick:setRLastn'></span></div></div><div class='radioLine'><div class='column1'><input class='rradio' type='radio' name='radio-${field}' value='curr'dojoAttachPoint='radioCurr' dojoAttachEvent='onclick:setRCurr'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textCurr' dojoAttachEvent='onclick:setRCurr'></span></div><div class='column2'><input class='rradio' type='radio' name='radio-${field}' value='nextn'dojoAttachPoint='radioNextn' dojoAttachEvent='onclick:setRNextn'></input><div class='fakeRadio'></div><span class='rlabel alignLN' dojoAttachPoint='textNextn1' dojoAttachEvent='onclick:setRNextn'></span><input class='rtext' type='text' size='2' dojoAttachPoint='inputNextn' value='3'dojoAttachEvent='onkeyup:onTypingNext'></input><span class='spinner' dojoAttachPoint='nextSpinner'><div class='spinnerElement spinnerUp' dojoAttachPoint='nextUp'dojoAttachEvent='onmouseover:overNextUp,onmouseout:outNextUp,onclick:upNext'></div><div class='spinnerElement spinnerDown' dojoAttachPoint='nextDown'dojoAttachEvent='onmouseover:overNextDown,onmouseout:outNextDown,onclick:downNext'></div></span><span class='rlabel' dojoAttachPoint='textNextn2' dojoAttachEvent='onclick:setRNextn'></span></div></div><div class='radioline'><div class='column1'><input class='rradio' type='radio' name='radio-${field}' value='next'dojoAttachPoint='radioNext' dojoAttachEvent='onclick:setRNext'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textNext' dojoAttachEvent='onclick:setRNext'></span></div><div class='column2'><input class='rradio' type='radio' name='radio-${field}' value='todate'dojoAttachPoint='radioTodate' dojoAttachEvent='onclick:setRTodate'></input><div class='fakeRadio'></div><span class='rlabel' dojoAttachPoint='textTodate' dojoAttachEvent='onclick:setRTodate'></span></div></div><div class='vertSpacer bottomHR'></div><div class='preview'><span dojoAttachPoint='domPreview'></span></div></div></div></div></div></div>";this.widgetsInTemplate=true;this.session=null;this.field='';this.filterViewModel=null;this.stateId=0;this.rid=0;this.timestamp=0;this.$9=[];this.titleH=0;this.titleW=0;this.layoutSession=null;this.getContextMenuCommands=null;this.showContextMenu=null;this.zid=0;this.domText=null;this.domDropdownButton=null;this.domDialog=null;this.$a=[];this.buttonYear=null;this.buttonQuarter=null;this.buttonMonth=null;this.buttonWeek=null;this.buttonDay=null;this.buttonHour=null;this.buttonMinute=null;this.radioLast=null;this.radioCurr=null;this.radioNext=null;this.radioLastn=null;this.radioNextn=null;this.lastSpinner=null;this.nextSpinner=null;this.lastUp=null;this.lastDown=null;this.nextUp=null;this.nextDown=null;this.domNode=null;this.domTooltipDialog=null;this.menuButton=null;this.$7='RDFButtonR1';this.$6='RDFButtonHide';this.$8=new tab.DisposableHolder;this.getSID=null;this.attributes=null;this.requestSetAttributes=null;w.call(this)};bf.__typeName='tab.LegacyRelativeDateQuickFilter';bf.get_anchoredDescriptions=function(){if(ss.isNullOrUndefined(bf.$1)){bf.$0()}return bf.$1};bf.get_nonAnchoredDescriptions=function(){if(ss.isNullOrUndefined(bf.$2)){bf.$0()}return bf.$2};bf.$0=function(){bf.$1={};bf.$2={};var ch=tab.Strings;var ci=ss.Enum.getValues(bI);for(var cj=0;cj<ci.length;cj++){var ck=ci[cj];var cl={};var cm={};var cn=ss.Enum.getValues(bJ);for(var co=0;co<cn.length;co++){var cp=cn[co];var cq=ss.formatString('RelDateAnchored_{0}_{1}',cp,ck);cl[cp]=ch[cq];cq=ss.formatString('RelDate_{0}_{1}',cp,ck);cm[cp]=ch[cq]}bf.$1[ck]=cl;bf.$2[ck]=cm}};global.tab.LegacyRelativeDateQuickFilter=bf;var bg=function(ch,ci){this.$b=null;this.$9=null;this.$a=null;spiff.BaseViewModel.call(this);this.$b=ch;this.$9=ci;this.$9.add_propertyChanged(ss.mkdel(this,this.$2));this.$9.add_zoneResized(ss.mkdel(this,this.$3));this.$2(this.$9,new spiff.PropertyChangedEventArgs('newZoneParent'))};bg.__typeName='tab.LegendBaseViewModel';global.tab.LegendBaseViewModel=bg;var bh=function(ch,ci,cj,ck,cl){this.selectedItems=null;this.brushedItems=null;this.isHighlightingEnabled=false;this.hasMarkNodeSelection=false;this.isOneway=false;this.selectedItems=ch.slice(0);this.brushedItems=ci.slice(0);this.isHighlightingEnabled=cj;this.hasMarkNodeSelection=ck;this.isOneway=cl};bh.__typeName='tab.LegendSelectionState';bh.$0=function(ch,ci){var cj=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,cj,ch);var ck=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,ck,ci);var cl=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,cj,ck);return tab.SetUtilities.getValues(ss.Int32).call(null,cl)};global.tab.LegendSelectionState=bh;var bi=function(ch){this.legendContentArea=null;this.titleArea=null;spiff.Template.call(this,ch);this.titleArea=this.getElementBySelector('.tabLegendTitle')};bi.__typeName='tab.LegendTemplate';global.tab.LegendTemplate=bi;var bj=function(ch,ci,cj,ck){this.$1=0;this.$2=0;this.$4=0;this.$6=0;this.$5=0;this.$3=0;this.$0=null;this.$1=ch;this.$2=ci;this.$4=cj;this.$6=ck;this.$5=this.$1*this.$2;this.$3=Math.ceil(ch/cj);this.$0={};var cl=0;var cm=cj*ci;var cn=this.$5;for(var co=0;co<this.$3;++co){if(cn<cm){cm=cn}var cp=new tab.IntegerRange(cl,cl+cm-1);var cq=tab.IntegerRange.pixelToItemRange(cp,ci);var cr=new d(co,false,{x:0,y:cl},cq,'item');this.$0[co]=cr;cn-=cm;cl+=cm}};bj.__typeName='tab.ListGridModel';global.tab.ListGridModel=bj;var bk=function(){};bk.__typeName='tab.LocalSearch';bk.searchQueryMatchesText=function(ch,ci){var cj=ch.length;var ck;if(ch.charCodeAt(0)===39&&ch.charCodeAt(cj-1)===39){return ss.referenceEquals(ch.substr(1,cj-2),ci)}else if(ch.charCodeAt(0)!==42&&ch.charCodeAt(cj-1)===42){return ci.indexOf(ch.substr(0,cj-1))===0}else if(ch.charCodeAt(0)===42&&ch.charCodeAt(cj-1)!==42){ck=ci.lastIndexOf(ch.substr(1,cj-1));return ck>=0&&ck===ci.length-(cj-1)}else if(ch.charCodeAt(0)===42&&ch.charCodeAt(cj-1)===42){return ci.indexOf(ch.substr(1,cj-2))>=0}else{return ci.indexOf(ch)>=0}};bk.findMatches=function(ch,ci,cj,ck){var cl=ch.toLowerCase();var cm=[];var cn=ci.table.tuples;if(ss.isNullOrUndefined(ck)){ck=function(cq,cr,cs){return cq}}for(var co=0;co<cn.length;co++){var cp=cj(cn[co]);if(bk.searchQueryMatchesText(cl,cp.toLowerCase())){cm.push(ck(cn[co],cp,co))}}return cm};global.tab.LocalSearch=bk;var bl=function(){this.$2=null;this.$3=tsConfig.is_mobile;dijit.MenuItem.call(this)};bl.__typeName='tab.OnClickOverride';global.tab.OnClickOverride=bl;var bm=function(){spiff.Template.call(this,$("<div class='tab-page'></div>"))};bm.__typeName='tab.PageTemplate';global.tab.PageTemplate=bm;var bn=function(ch){this.pageViewModel=null;this.$9=null;ss.makeGenericType(spiff.BaseView$1,[bo]).call(this,ch,new bm);this.pageViewModel=ch;this.pageViewModel.add_newPage(ss.mkdel(this,this.handleNewPage));this.pageViewModel.add_resized(ss.mkdel(this,this.updatePageControl));this.pageViewModel.add_titleVisibilityChanged(ss.mkdel(this,this.updatePageControl));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pageViewModel.remove_newPage(ss.mkdel(this,this.handleNewPage))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pageViewModel.remove_resized(ss.mkdel(this,this.updatePageControl))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pageViewModel.remove_titleVisibilityChanged(ss.mkdel(this,this.updatePageControl))})))};bn.__typeName='tab.PageView';global.tab.PageView=bn;var bo=function(ch){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$2=ch;this.$2.add_newPage(ss.mkdel(this,this.handleNewPage));this.$2.get_zoneModel().add_resizeZone(ss.mkdel(this,this.handleParentZoneResized));this.get_pageModel().get_zoneModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.handleTitleVisibilityChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newPage(ss.mkdel(this,this.handleNewPage))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.get_zoneModel().remove_resizeZone(ss.mkdel(this,this.handleParentZoneResized))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.get_zoneModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.handleTitleVisibilityChanged))})))};bo.__typeName='tab.PageViewModel';global.tab.PageViewModel=bo;var bp=function(ch){this.$e=true;this.domBox=null;this.domControls=null;this.format=new Object;this.getSID=null;this.session=null;this.$8='';this.$7={};this.stateId=0;this.$d=null;this.$c=null;this.domTitleBar=null;this.domContent=null;this.$9=0;this.$b=0;this.$a=null;this.backgroundColor=null;Object.call(this);this.session=ch.session;this.$8=ch.field;this.$9=ch.titleH;this.$b=ch.titleW;this.$a=ch.titleHTML;this.format=ch.format;this.backgroundColor=ch.backgroundColor;this.$7=ch.attributes;this.$d=ch.viewModel};bp.__typeName='tab.ParameterControl';global.tab.ParameterControl=bp;var bq=function(){spiff.Template.call(this,$("<div class='tab-parameter'></div>"))};bq.__typeName='tab.ParameterControlTemplate';global.tab.ParameterControlTemplate=bq;var br=function(ch){this.$b=null;this.$a=null;ss.makeGenericType(spiff.BaseView$1,[bs]).call(this,ch,new bq);this.$b=ch;this.$b.add_newParameterControl(ss.mkdel(this,this.handleNewParameterControl));this.$b.add_resized(ss.mkdel(this,this.updateSize));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.remove_newParameterControl(ss.mkdel(this,this.handleNewParameterControl))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.remove_resized(ss.mkdel(this,this.updateSize))})));if(this.$b.get_hasBorder()){this.get_template().domRoot.addClass('tabBordered')}};br.__typeName='tab.ParameterControlView';global.tab.ParameterControlView=br;var bs=function(ch){this.$4=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$4=ch;this.$4.add_newParameterCtrl(ss.mkdel(this,this.$2));this.$4.get_zoneModel().add_resizeZone(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$4.remove_newParameterCtrl(ss.mkdel(this,this.$2))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$4.get_zoneModel().remove_resizeZone(ss.mkdel(this,this.$3))})))};bs.__typeName='tab.ParameterControlViewModel';global.tab.ParameterControlViewModel=bs;var bt=function(ch,ci,cj,ck,cl){this.disposables=null;this.parameterViewModel=null;this.parent=null;this.field=null;this.newValInFlight=null;this.div=null;this.attributes=null;Object.call(this);this.disposables=new tab.DisposableHolder;this.parent=ch;this.div=ci;this.field=cj;this.attributes=ck;this.parameterViewModel=cl;this.newValInFlight=null};bt.__typeName='tab.ParamUIBase';global.tab.ParamUIBase=bt;var bu=function(ch,ci,cj,ck,cl){this.$2=null;this.$1=null;bt.call(this,ch,ci,cj,ck,cl);var cm=new spiff.ComboBoxViewModel;cm.set_menuTheme(1);cm.set_menuStyleClass(this.parent.domNode.id+'_menu');this.$2=cm;this.$2.add_selectedItemChanged(ss.mkdel(this,this.$0));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_selectedItemChanged(ss.mkdel(this,this.$0))})));var cn=this.get_legacyModel().domain;var co=cn.length;for(var cp=0;cp<co;cp++){var cq=new spiff.ComboBoxItem(null,cn[cp],cp,'');this.$2.addItem(cq);if(ss.referenceEquals(this.get_legacyModel().alias,cn[cp])){this.$2.set_selectedItem(cq)}}if(!tab.ColorModel.fromColorCode(this.parent.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)){this.$2.set_additionalMenuClass('tab-darkBackground')}this.$1=spiff.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$2]);var cr=new J(this.parent.get_model().mCc,this.parent.get_backgroundColor(),this.parent.get_model().$tN);cg.applyFormattingByClassName(this.$2.get_menuStyleClass(),cr,true);var cs=this.$1.get_rootElement().find('.tabComboBoxButton')[0];cs.innerHTML=T.getDropDownForColor(this.parent.get_model().mCc.YhU.toString());this.$1.addToDom($(this.div));this.disposables.add$1(this.$2);this.disposables.add$1(this.$1)};bu.__typeName='tab.ParamUICompact';global.tab.ParamUICompact=bu;var bv=function(ch,ci,cj,ck,cl){bt.call(this,ch,ci,cj,ck,cl)};bv.__typeName='tab.ParamUIList';global.tab.ParamUIList=bv;var bw=function(ch,ci,cj,ck,cl){this.slider=null;bt.call(this,ch,ci,cj,ck,cl)};bw.__typeName='tab.ParamUISlider';global.tab.ParamUISlider=bw;var bx=function(ch,ci,cj,ck,cl){this.widget=null;bt.call(this,ch,ci,cj,ck,cl)};bx.__typeName='tab.ParamUITypeIn';global.tab.ParamUITypeIn=bx;var by=function(ch,ci,cj,ck,cl){bx.call(this,ch,ci,cj,ck,cl)};by.__typeName='tab.ParamUITypeInDateField';global.tab.ParamUITypeInDateField=by;var bz=function(ch,ci,cj){this.widget=null;h.call(this,ch,ci,cj)};bz.__typeName='tab.Pattern';global.tab.Pattern=bz;var bA=function(ch,ci,cj,ck){this.domainActualSize=0;this.$6=false;this.$5=false;this.$8=null;this.$a=false;this.$9=false;this.$7=null;this.$4=null;this.parent=null;this.$1$1=null;this.$1$2=null;this.parent=ch;this.domainActualSize=ci;this.$6=cj;this.$5=ck;this.resetPendingChanges()};bA.__typeName='tab.PendingChangesManager';global.tab.PendingChangesManager=bA;var bB=function(){};bB.__typeName='tab.QfButtonUtil';bB.enableResetButton=function(ch){if(ss.isNullOrUndefined(ch)){return}var ci=$(ch.iconNode);ci.removeClass('wcIconFiltered');ci.removeClass('wcIconNonfiltered');ci.addClass('wcIconFiltered');ch.attr('label',tab.Strings.QuickFilterClearEnabled);ch.setDisabled(false);$(ch.domNode.firstChild.firstChild).removeClass('tab-quickFilterButtonDisabled')};bB.disableResetButton=function(ch){if(ss.isNullOrUndefined(ch)){return}var ci=$(ch.iconNode);ci.removeClass('wcIconFiltered');ci.addClass('wcIconNonfiltered');ch.attr('label',tab.Strings.QuickFilterClearDisabled);ch.setDisabled(true);ci.removeClass('dijitButtonHover');ci.removeClass('dijitHover');$(ch.domNode.firstChild.firstChild).addClass('tab-quickFilterButtonDisabled')};global.tab.QfButtonUtil=bB;var bC=function(){this.panel=null;this.titleControls=null;this.contextMenuButton=null;this.ramp=null;this.centerMark=null;this.minLabel=null;this.maxLabel=null;bi.call(this,$("\n            <div class='tabLegendPanel' style='position: relative; overflow: hidden'>\n                <div class='tabLegendTitleAndControls'>\n                    <h3 class='tabLegendTitle' style='position: absolute'></h3>\n                    <div class='tabLegendTitleControls'>\n                        <div class='tabLegendContextMenuButton'>\n                            <div class='tabLegendContextMenuButtonIcon'></div>\n                        </div>\n                    </div>\n                </div>\n                <canvas class='tabLegendRamp' style='position: absolute'></canvas>\n                <div class='tabLegendCenterMark' style='position: absolute'></div>\n                <div class='tabLegendMinLabel' style='position: absolute'></div>\n                <div class='tabLegendMaxLabel' style='position: absolute'></div>\n            </div>"));this.panel=this.domRoot;this.titleControls=this.getElementBySelector('.tabLegendTitleControls');this.contextMenuButton=this.getElementBySelector('.tabLegendContextMenuButton');this.ramp=this.getElementBySelector('.tabLegendRamp');this.centerMark=this.getElementBySelector('.tabLegendCenterMark');this.minLabel=this.getElementBySelector('.tabLegendMinLabel');this.maxLabel=this.getElementBySelector('.tabLegendMaxLabel')};bC.__typeName='tab.QuantitativeColorLegendTemplate';global.tab.QuantitativeColorLegendTemplate=bC;var bD=function(ch){ss.makeGenericType(g,[bE]).call(this,ch,new bC);this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$h),ss.mkdel(this,this.$i)));if(this.$r()){var ci=new spiff.Button(this.$u().contextMenuButton);ci.add_click(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ci.remove_click(ss.mkdel(this,this.$s));tab.MiscUtil.dispose$1(ci)})))}else{this.$u().contextMenuButton.hide()}};bD.__typeName='tab.QuantitativeColorLegendView';bD.setDomNodeStyleSize=function(ch,ci,cj){ch.css('width',ci+'px');ch.css('height',cj+'px')};global.tab.QuantitativeColorLegendView=bD;var bE=function(ch,ci,cj){this.$d=null;bg.call(this,ci,cj);this.$d=ch;this.$d.add_legendChanged(ss.mkdel(this,this.$c))};bE.__typeName='tab.QuantitativeColorLegendViewModel';global.tab.QuantitativeColorLegendViewModel=bE;var bF=function(){spiff.Template.call(this,$("<div class='tab-quick-filter'></div>"))};bF.__typeName='tab.QuickFilterDisplayTemplate';global.tab.QuickFilterDisplayTemplate=bF;var bG=function(ch,ci,cj){this.$2=null;this.contentNode=null;h.call(this,ch,ci,cj);this.set_itemFormatter(ss.mkdel(G.filterItem,G.filterItem.formatRadiolistFilterItemHtml))};bG.__typeName='tab.Radiolist';global.tab.Radiolist=bG;var bH=function(ch,ci,cj){q.call(this,ch,ci,cj);this.tileHtml='<div role=\'radiogroup\' class="tile tab-ctrl-formatted-text" style="top: {0}px; position: absolute; width: 100%;">'};bH.__typeName='tab.RadiolistContentFormatter';global.tab.RadiolistContentFormatter=bH;var bI=function(){};bI.__typeName='tab.RelativeDateFilterPeriodType';global.tab.RelativeDateFilterPeriodType=bI;var bJ=function(){};bJ.__typeName='tab.RelativeDateFilterRangeType';global.tab.RelativeDateFilterRangeType=bJ;var bK=function(ch){this.$2=null;spiff.BaseViewModel.call(this);this.$2=ch};bK.__typeName='tab.RelativeDateFilterViewModel';global.tab.RelativeDateFilterViewModel=bK;var bL=function(ch){this.templateString="<div class='RelativeDatePickFilter'><div dojoAttachPoint='domBox' class='RelativeDatePickFilterBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='RDFButton RDFMenuButton' name='type' dojoAttachPoint='menuButton'dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'></div><div class='PicklistContentDiv tab-ctrl-formatted-coloronly' dojoAttachPoint='domPicker'></div></div></div></div>";this.widgetsInTemplate=true;this.session=null;this.field='';this.stateId=0;this.rid=0;this.timestamp=0;this.currentRange=null;this.$3=0;this.$4=0;this.layoutSession=null;this.zid=0;this.filterViewModel=null;this.currentAbbrev=null;this.showContextMenu=null;this.disposables=null;this.getContextMenuCommands=null;this.periodType=null;this.rangeType=null;this.rangeN=0;this.domPicker=null;this.getSID=null;this.$2=null;this.menuButton=null;be.call(this)};bL.__typeName='tab.RelativeDatePickFilter';global.tab.RelativeDatePickFilter=bL;var bM=function(ch){this.$0=null;ss.EventArgs.call(this);this.$0=ch};bM.__typeName='tab.ScrolledEventArgs';global.tab.ScrolledEventArgs=bM;var bN=function(ch,ci){this.templateString="<div class='Search'><div class='SearchBox tab-ctrl-formatted-border tab-ctrl-formatted-darker-border-hover' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onpaste:onQueryBoxPaste'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><img class='searchBusyImg' title='${CANCEL_SEARCH_TOOLTIP}' src='${busy_gif_url}'dojoAttachPoint='domSearchBusyImg'dojoAttachEvent='onclick:onSearchBusyImgClick'></img><span class='wcIconSearch' title='${SEARCH_TOOLTIP}'dojoAttachPoint='domSearchButton'dojoAttachEvent='onclick:onSearchButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><span class='wcIconSearchAdd' title='${ADD_ITEM_CTRL_ENTER}'dojoAttachPoint='domSearchAddButton'dojoAttachEvent='onclick:onSearchAddButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div><div class='SearchResults' dojoAttachPoint='domResults' dojoAttachEvent='onclick:onListItemClick'></div></div>";this.domQuerySection=null;this.domQueryBox=null;this.domSearchAddButton=null;this.domSearchButton=null;this.domSearchBusyImg=null;this.domResults=null;this.$8=null;this.applyDelay=500;this.$9=100;this._bSearching=false;this._queryBoxPasteTimeout=null;this._searchTimer=null;this._isFilterSearchable=false;this._initializedSearchResults=false;this._domResultsPBExtents=null;this._lastRemoteSearch=null;bO.call(this);this.$8=new n(this)};bN.__typeName='tab.SearchWidget';global.tab.SearchWidget=bN;var bO=function(){this.isContainer=false;this.domXButton=null;this.CANCEL_SEARCH_TOOLTIP=tab.Strings.QuickFilterSearchCancel;this.SEARCH_TOOLTIP=tab.Strings.QuickFilterSearchTooltip;this.ADD_ITEM_CTRL_ENTER=tab.Strings.QuickFilterSearchAddItemCtrlEnter;this.ADD_ITEM_ENTER=tab.Strings.QuickFilterSearchAddItemEnter;this.XBUTTON_CLOSE_TOOLTIP=tab.Strings.QuickFilterSearchCloseTooltip;this.XBUTTON_CLEAR_TOOLTIP=tab.Strings.QuickFilterSearchClearTooltip;this.NO_MATCHES=tab.Strings.QuickFilterSearchNoMatches;this.isVisible=false;this.qf=null;this.oResults=null;this.resultCount=-1;this.searchDelay=400;this.busy_gif_url=null;this._isTypeInList=false;Object.call(this)};bO.__typeName='tab.SearchWidgetBase';global.tab.SearchWidgetBase=bO;var bP=function(ch,ci,cj){e.call(this,ch,ci,cj);this.set_itemFormatter(ss.mkdel(G.filterItem,G.filterItem.formatDropdownListFilterItemHtml))};bP.__typeName='tab.SimpleDropdown';global.tab.SimpleDropdown=bP;var bQ=function(ch,ci,cj){this.$0=null;this.$2=null;this.$1=null;this.tileHtml='<div class="tile tab-ctrl-formatted-text" style="top: {0}px; left: 0; right: 0; position: absolute; width: 100%;">';this.$0=ch;this.$2=ci;this.$1=cj};bQ.__typeName='tab.SimpleListContentFormatter';global.tab.SimpleListContentFormatter=bQ;var bR=function(ch,ci,cj,ck,cl,cm,cn,co,cp){this.$g=null;this.styleid=0;this.$x=null;this.$C=-1;this.$s=['show-readout','hide-readout'];this.$w=['show-slider','hide-slider'];this.$d=['show-step-btns','hide-buttons'];this.$B=['show-ticks','hide-ticks'];this.div=null;this.$e=null;this.currentlySelected=0;this.numValues=0;this.$y=null;this.$z=null;this.slider=null;this.readout=null;this.$n=false;this.$A=null;this.$i=null;this.$E=null;this.$p=null;this.$t=null;this.$o=false;this.$l=null;this.$F=null;this.$u=false;this.$k=null;this.$m=false;this.$h=null;this.$q=null;this.$f=null;this.$v=false;this.$r=false;this.$j=null;this.$D=null;this.div=ch;this.$e=ci;this.$m=cj;this.$h=ck;this.$l=cl;this.$k=cm;this.$q=cn;this.$j=co;this.$v=cp;$(this.div).addClass('tableauWidgetUiSlider');this.$g=new tab.DisposableHolder;this.currentlySelected=-1};bR.__typeName='tab.Slider';global.tab.Slider=bR;var bS=function(ch,ci,cj){this.$2=null;this.$3=null;h.call(this,ch,ci,cj)};bS.__typeName='tab.SliderCatmode';global.tab.SliderCatmode=bS;var bT=function(ch,ci){this.templateString="<div class='SmallSearch'><div class='SmallSearchBox' dojoAttachPoint='domSearchBox'><div class='Autocompleter' dojoAttachPoint='domAutocompleter'></div><div class='wcSearchX dijitInlineTable' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></div></div></div>";this.domSearchBox=null;this.domAutocompleter=null;this.autocompleter=null;bO.call(this)};bT.__typeName='tab.SmallSearchWidget';global.tab.SmallSearchWidget=bT;var bU=function(ch,ci){this.baseClass='tableauTabbedNavigation';this.templateString="<div style='width:${innerWidth};' class='tabbedNavigationOuterWrapper' role='navigation'><div id='container' dojoType='dijit.layout.LayoutContainer' style='width:100%; height:100%;' dojoAttachPoint='_innerWrapper'><button dojoType='dijit.form.Button' class='tabsMenuBtn' layoutAlign='left' id='menuBtn' dojoAttachPoint='_menuBtn' style='display:none;'></button><button dojoType='dijit.form.Button' class='tabsLeftBtn' layoutAlign='left' dojoAttachPoint='_leftBtn' style='display:none;'></button><button dojoType='dijit.form.Button' class='tabsRightBtn' layoutAlign='right' dojoAttachPoint='_rightBtn' style='display:none;'></button><div dojoType='dijit.layout.LayoutContainer' layoutAlign='client' dojoAttachPoint='_containerNode'><div class='dijitTabContainerTop-tabs' dojoAttachPoint='_scrollNode' role='tablist'></div></div></div></div>";this.widgetsInTemplate=true;this.innerWidth='100%';this.selectedTabArrayIndex=0;this.$k=0;this.$o=null;this.$l=null;this.$m=new tab.DisposableHolder;this.$n=null;this.currentTab=null;this._scrollNode=null;this._leftBtn=null;this._rightBtn=null;this._menuBtn=null;this._containerNode=null;this._innerWrapper=null;this.$p=null;this._anim=null;this._buttons=null;Object.call(this);this.$o=[];this.$l=[];this.$o=tsConfig.visible_sheets||this.$o;var cj=this._indexOf(this.$o,tsConfig.current_sheet_name);var ck=cj;if(ss.isNullOrUndefined(ck)){ck=this.selectedTabArrayIndex}this.selectedTabArrayIndex=ck;this.innerWidth=ch['innerWidth']||this.innerWidth;var cl=ss.mkdel(this,function(){this.$g(this.currentTab)});tab.ServerFontLoader.get_instance().add_fontPreparationComplete(cl);this.$m.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(cl)}))};bU.__typeName='tab.TabbedNavigation';bU.$2=function(ch){var ci=$(ch.domNode);ch.domNode.setAttribute('role','tab');ch.domNode.setAttribute('aria-controls','tabViewer');ci.find('.dijitTabButtonSpacer').attr('role','presentation');ci.find('.tabLabel').removeAttr('wairole').removeAttr('role');ci.find('.closeImage').removeAttr('wairole').removeAttr('role');bU.$1(ch.domNode,false)};bU.$0=function(ch,ci,cj){ch.setAttribute('role','button');ch.setAttribute('aria-label',ci);ch.setAttribute('aria-disabled',cj.toString());$(ch).find('button')[0].tabIndex=-1};bU.$1=function(ch,ci){ch.setAttribute('aria-selected',ci.toString());ch.tabIndex=(ci?0:-1);$(ch).find('.tabLabel').removeAttr('aria-pressed')};global.tab.TabbedNavigation=bU;var bV=function(ch,ci,cj,ck,cl,cm){this.$5=null;this.$7=null;this.$6=null;this.$9=null;this.$8=100;this.$5=ch;this.$7=ci;this.$6=ck;this.$9=cj;if(this.$6.isValid(cl)){this.$4(0,cl)}this.$5.add_contentFetched(ss.mkdel(this,this.$1));if(cm){this.$3()}else{this.$9.add_scrolled(ss.mkdel(this,this.$2))}};bV.__typeName='tab.TiledWidget';global.tab.TiledWidget=bV;var bW=function(){};bW.__typeName='tab.TiledWidgetFactory';bW.createChecklist=function(ch,ci,cj,ck,cl){var cm=new q(ch,ck,ch.get_modeContents().get_itemFormatter());return bW.createListTiledWidget(ch,ci,cj,cm,cl)};bW.createRadiolist=function(ch,ci,cj,ck,cl){var cm=new bH(ch,ck,ch.get_modeContents().get_itemFormatter());return bW.createListTiledWidget(ch,ci,cj,cm,cl)};bW.createSimpleList=function(ch,ci,cj,ck,cl){var cm=new bQ(ch,ck,ch.get_modeContents().get_itemFormatter());return bW.createListTiledWidget(ch,ci,cj,cm,cl)};bW.createListTiledWidget=function(ch,ci,cj,ck,cl){var cm=((ch.get_oFilter().isTiled&&tsConfig.filterTileSize>0)?tsConfig.filterTileSize:ch.get_oFilter().table.actual_size);cj.style.position='relative';var cn=ch.get_oFilter().table.actual_size*cl;var co=(!!cm?Math.ceil(ch.get_oFilter().table.actual_size/cm):0);var cp=new H(cj,cn,co);var cq=tab.DomUtil.getMarginBox(cj);var cr=new bj(ch.get_oFilter().table.actual_size,cl,cm,cq.h);var cs=new A(ch.get_session(),ch.get_field(),ch.get_domain());var ct=ci.slice(0,cm);var cu=new bV(cs,cr,cp,ck,ct,false);return cu};global.tab.TiledWidgetFactory=bW;var bX=function(ch){this.model=null;this.anchor=null;this.prev_anchor=null;this.anchorIsStart=false;this.$3$1=null;dijit.Tree.call(this)};bX.__typeName='tab.Tree';global.tab.Tree=bX;var bY=function(ch){this.isChecked=false;this.$1=null;this.tree=null;this.item=null;dijit._TreeNode.call(this)};bY.__typeName='tab.TreeNode';global.tab.TreeNode=bY;var bZ=function(ch,ci,cj,ck){this.root=null;this.session=null;this.field=null;this.levels=0;this.isSingleSelect=false;this.session=ch;this.field=ci;this.levels=cj;this.isSingleSelect=ck;this.root=new Object;this.root.schema=null;this.root.tuple={d:null,s:false,t:null};this.root.label='$ROOT$';this.root.level=-1;this.root.children=null};bZ.__typeName='tab.TreeSupport';global.tab.TreeSupport=bZ;var ca=function(ch,ci,cj){this.queryBox=null;this.div=null;this.outerDiv=null;this.querySpan=null;this.$r=null;this.$v=null;this.goButton=null;this.$m=null;this.$l=null;this.$w=false;this.$t=null;this.$q=null;this.$o=false;this.$n=null;this.$x=false;this.$A=null;this.$u=false;this.$y=0;this.$s=null;this.$p=null;this.$z=null;this.div=ch;this.$s=ci;this.$A=cj;this.div.classList.add('tableauWidgetUiTypeIn');this.$r=new tab.DisposableHolder};ca.__typeName='tab.TypeIn';ca.selectText=function(ch,ci,cj){if(ss.isNullOrUndefined(ch)){return}if(typeof(ch['createTextRange'])==='function'){var ck=ch.createTextRange();ck.collapse(true);ck.moveStart('character',ci);ck.moveEnd('character',cj-ci);ck.select()}else if(typeof(ch['setSelectionRange'])==='function'){ch.setSelectionRange(ci,cj)}else if(typeof(ch['selectionStart'])==='function'){ch.selectionStart=ci;ch.selectionEnd=cj}ch.focus()};global.tab.TypeIn=ca;var cb=function(ch,ci,cj){this.isContainer=true;this.$5=null;h.call(this,ch,ci,cj)};cb.__typeName='tab.TypeInCatmode';global.tab.TypeInCatmode=cb;var cc=function(ch,ci,cj,ck){this.$H=null;this.$G=null;this.$J=null;this.$I=null;this.$M=null;this.$L=null;this.$K=null;ca.call(this,ch,ci,cj);this.$H=ck;if(ss.isNullOrUndefined(this.$H)){this.$H=function(cl){return new tab.DatePicker(cl)}}};cc.__typeName='tab.TypeInDateField';global.tab.TypeInDateField=cc;var cd=function(){this.templateString="<div class='TypeInFilter'><div class='TIFItemsList tab-ctrl-formatted-text' dojoAttachPoint='domItemsList'dojoAttachEvent='onclick:_onItemsListClick,onmouseover:_onItemsListMouseOver,onmouseout:_onItemsListMouseOut,onkeydown:_onItemsKeyDown'><div class='wcIconSearchRemove' dojoAttachPoint='domXButton'dojoAttachEvent='onclick:_onXButtonClick,onmouseover:_onXButtonMouseOver,onmouseout:_onXButtonMouseOut'></div></div><div class='TIFButtonDiv' dojoAttachPoint='domClearListButtonDiv'><button class='TIFButton'dojoAttachEvent='onclick:_onClearListButtonClick'>Clear List</button></div></div>";this.isContainer=false;this.parentFilter=null;this.tuples=null;this.itemName='';this.role=null;this.domItemsList=null;this.domXButton=null;this.domClearListButtonDiv=null;this.$0=null;Object.call(this)};cd.__typeName='tab.TypeInFilterContents';global.tab.TypeInFilterContents=cd;var ce=function(){bl.call(this)};ce.__typeName='tab.UICheckedMenuItem';global.tab.UICheckedMenuItem=ce;var cf=function(){bl.call(this)};cf.__typeName='tab.UIMenuItem';global.tab.UIMenuItem=cf;var cg=function(){};cg.__typeName='tab.WidgetStyle';cg.applyFormatting=function(ch,ci,cj,ck,cl){cg.$0(ch.id,ci,cj,ck,cg.$2,cl)};cg.applyFormattingByClassName=function(ch,ci,cj){cg.$0(ch,ci.get_textStyleModel(),ci.get_backgroundColor(),ci.get_lineHeight(),cg.$1,cj)};cg.$0=function(ch,ci,cj,ck,cl,cm){var cn=ch+'-style';tab.StyleUtil.clearStyleSheet(cn);var co=tab.FormattingConverters.makeFormatStyleDict(ci);if(ss.isValue(ck)){co['line-height']=ck+'px'}if(ss.isNullOrUndefined(co['font-style'])){co['font-style']='normal'}if(ss.isNullOrUndefined(co['font-weight'])){co['font-weight']='normal'}if(ss.isNullOrUndefined(co['text-decoration'])){co['text-decoration']='none'}tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-text'),co);co['font-size']=null;co['line-height']=null;tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-fixedsize'),co);if(ss.isValue(ci.YhU)){var cp={color:ci.YhU};tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-coloronly'),cp)}var cq={};if(ss.isValue(ci.YhU)){cq['border-color']=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(ci.YhU),0.7843137383461).toString();tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-darker-border-hover:hover'),cq);cq['border-color']=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(ci.YhU),0.411764711141586).toString();tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-border'),cq);tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-border-hover:hover'),cq)}if(cm&&ss.isValue(cj)){var cr=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(cj),0.549019634723663);var cs=tab.ColorModel.alphaCompositeSolidDest(cr,new tab.ColorModel(255,255,255,1));cq['background-color']=cs.toRgb();tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-widget'),cq);cq['border-color']=null;tab.StyleUtil.appendCSSRuleToStyleSheet$1(cn,cl(ch,'tab-ctrl-formatted-widget:hover'),cq)}};cg.$2=function(ch,ci){return'[id="'+ch+'"].'+ci+','+'[id="'+ch+'"] .'+ci};cg.$1=function(ch,ci){return'.'+ch+'.'+ci+','+'.'+ch+' .'+ci};global.tab.WidgetStyle=cg;ss.initClass(b,a,{get_currentContext:function(){if(ss.isValue(this.$T)){return this.$T}return tab.CanvasRenderer.prototype.get_currentContext.call(this)},$R:function(ch){var ci={};ci.uBu02=new Array(ch);return ci},$Q:function(ch){return ss.isValue(this.$V[ch.toString()])},$S:function(ch,ci,cj){this.$T=ch;var ck=(cj?'colorOverrideFog':'colorOverrideOpaque');this.drawShapeMarkLayer(this.$U,this.$V[ci.toString()],'normalOn',ck)}},tab.MarksRenderer);ss.initClass(c,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(d,a,{$5:function(){return this.$a},$0:function(){return this.$6},$1:function(ch){this.$6=ch},$2:function(){return this.$7},$3:function(){return this.$8},$4:function(){return this.$9}});ss.initClass(h,a,{add_applyOrCancelClicked:function(ch){this.$2$1=ss.delegateCombine(this.$2$1,ch)},remove_applyOrCancelClicked:function(ch){this.$2$1=ss.delegateRemove(this.$2$1,ch)},get_lineHeight:function(){return this.parent.get_presModel().$tN},get_width:function(){return this.$2$2},set_width:function(ch){this.$2$2=ch},get_itemFormatter:function(){return this.$2$3},set_itemFormatter:function(ch){this.$2$3=ch},get_scrollNode:function(){return null},instantiate:function(ch,ci,cj){},shouldNotReinstantiate:function(){return false},updateContent:function(ch){},resetContent:function(ch,ci,cj){},setUpForPendingChanges:function(){if(this.parent.shouldDeferChanges()){this.pendingManager=this.parent.makePendingChangesManager();this.pendingManager.add_onPendingChanges(ss.mkdel(this,this.handlePendingChanges));this.pendingManager.add_onNoPendingChanges(ss.mkdel(this,this.handleNoPendingChanges));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.pendingManager.remove_onPendingChanges(ss.mkdel(this,this.handlePendingChanges));this.pendingManager.remove_onNoPendingChanges(ss.mkdel(this,this.handleNoPendingChanges))})));this.$0()}},$0:function(){this.apply=spiff.LabelButton.newNativeButton();this.apply.addClass('apply');this.apply.set_label(tab.Strings.QuickFilterApply);this.apply.set_hoverTooltipText(tab.Strings.QuickFilterApply);var ch=ss.mkdel(this,function(){this.resetPendingVisuals(false);this.parent.applyPendingChangesByChangelist();this.$1()});this.apply.add_click(ch);this.disposables.add$1(this.apply);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.apply.remove_click(ch)})));this.cancel=spiff.LabelButton.newNativeButton();this.cancel.addClass('cancel');this.cancel.set_label(tab.Strings.QuickFilterCancel);this.cancel.set_hoverTooltipText(tab.Strings.QuickFilterCancel);var ci=ss.mkdel(this,function(){this.resetPendingVisuals(true);this.parent.cancelPendingChangesByChangelist();this.$1()});this.cancel.add_click(ci);this.disposables.add$1(this.cancel);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.cancel.remove_click(ci)})));this.initApplyAndCancelButtonStates()},initApplyAndCancelButtonStates:function(){this.apply.set_disabled(true);this.cancel.set_disabled(true)},appendApplyButton:function(ch){if(this.parent.shouldDeferChanges()){ch.addClass('CFApplyButtonContainer');ch.append(this.cancel.element);ch.append(this.apply.element)}},layoutApplyButton:function(ch){if(ss.isValue(ch)){var ci=tab.DoubleUtil.roundToInt(ch.width());var cj=parseInt(this.apply.element.css('margin-right'));var ck=Math.floor(ci/2-cj);var cl='max-width';this.apply.element.css(cl,ck+'px');this.cancel.element.css(cl,ck+'px')}},handlePendingChanges:function(){this.apply.set_disabled(false);this.cancel.set_disabled(false)},handleNoPendingChanges:function(){this.apply.set_disabled(true);this.cancel.set_disabled(true)},resetPendingVisuals:function(ch){},$1:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},applyChanges:function(){},layout:function(ch,ci){dojo.marginBox(this.div,ch)},fetchChildNodeByIndex:function(ch){if(ss.isNullOrUndefined(ch)||ch<0){return null}if(G.filterItem.isAllItem(this.div.firstChild)){ch+=1}return this.div.childNodes[ch]},fetchAllItem:function(){return this.div.childNodes[0]},shouldUseAllItem:function(){return this.attributes['show-all']!=='false'},countIfAll:function(ch){var ci=((this.parent.get_mode()==='checklist')?1:0);for(var cj=0;cj<ch.length;cj++){if(ch[cj].s){ci+=1}}return ci===ch.length},getSummaryText:function(){return(this.hasSummaryText()?this.parent.get_oFilter().summary:'')},formatTuple:function(ch){return tableau.format.formatTupleDisplayName(ch,true,this.parent.get_oFilter().role)},formatFacet:function(ch){return tableau.format.formatTupleDisplayFacet(ch,true,this.parent.get_oFilter().role)},onSmallSearchUI:function(ch,ci){},hasSummaryText:function(){var ch=this.parent.get_mode()==='slider';var ci=this.parent.get_mode()==='dropdown'||this.parent.get_mode()==='checkdropdown';var cj=this.parent.get_oFilter().summary;var ck=!ss.referenceEquals(cj,tab.Strings.QuickFilterAll);return ss.isValue(cj)&&(ch||ci&&ck)},applyChangesByChangelist:function(ch,ci){var cj=ss.coalesce(this.attributes['values'],'');var ck=[];var cl=[];var cm=[];if(ci==='checklist'||ci==='checkdropdown'||ci==='typeinlist'){var cn=ch.compileForChecklist(cj);var co;for(var cp=0;cp<cn.select.length;cp++){co=cn.select[cp];ck.push(co)}for(var cq=0;cq<cn.deselect.length;cq++){co=cn.deselect[cq];cl.push(co)}tab.FilterClientCommands.modifyCategoricalFilterValuesByIndex(this.parent.get_session().get_visualId(),this.parent.get_field(),Array.prototype.slice.call(ck),Array.prototype.slice.call(cl))}else if(ci==='radiolist'){var cr=ch.compileForRadiolist(cj);cm.push(cr.index);tab.FilterClientCommands.setCategoricalFilterValuesByIndex(this.parent.get_session().get_visualId(),this.parent.get_field(),'filter-replace',Array.prototype.slice.call(cm))}},destroy:null,dispose:function(){this.disposables.dispose()}},Object,[ss.IDisposable]);ss.initClass(e,a,{get_scrollNode:function(){var ch=null;if(ss.isValue(this.menuNode)){ch=this.menuNode.children('.CFInnerContainer').get(0)}return ch},instantiate:function(ch,ci,cj){this.fillListElement=ss.mkdel(this,function(ck){this.createListElement(ck,ch,ci,cj)});this.dropdown=$('<span>').addClass('tabComboBox').addClass('tab-ctrl-formatted-widget').addClass('tab-ctrl-formatted-darker-border-hover').addClass('tabComboStdTheme').addClass('tabComboBoxNoIcon').addClass('tiledContent').on('click',ss.mkdel(this,this.onDropdownClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dropdown.remove()})));this.dropdownLabelContainer=$('<div>').addClass('tabComboBoxNameContainer').addClass('tab-ctrl-formatted-fixedsize').appendTo(this.dropdown);$('<span>').addClass('tabComboBoxName').text(this.getLabelText(ch)).appendTo(this.dropdownLabelContainer);$("<div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'>"+T.getDropDownForColor(this.parent.get_presModel().mCc.YhU.toString())+'</span></div>').appendTo(this.dropdown);this.div.appendChild(this.dropdown.get(0));if(ss.isValue(this.menuNode)){this.menuNode.children('.tiledContent').remove();this.fillMenu(this.menuNode)}this.$6(ch.length);spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(this,this.$5))},updateContent:function(ch){if(ss.isValue(this.menuNode)){if(tab.BrowserSupport.get_isIE()){this.menuNode.css({'box-shadow':'none'})}var ci=((ch.length>0)?ch.join(''):this.searchBox.get_noMatchHtml());var cj=this.menuNode.children('.tiledContent');if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}cj.html(ci);if(this.$c){var ck=this.dropdown.offset();this.menuNode.css({top:ck.top-this.menuNode.outerHeight()+'px'})}if(tab.BrowserSupport.get_isIE()){this.menuNode.css({'box-shadow':'2px 2px 2px #adadad'})}}},resetContent:function(ch,ci,cj){this.fillListElement=ss.mkdel(this,function(cl){this.createListElement(cl,ch,ci,cj)});if(ss.isValue(this.searchBox)&&this.searchBox.isShowingResults()){return}if(ss.isValue(this.menuNode)){this.$a(this.menuNode);var ck=this.$3();this.menuNode.css({top:(this.$c?(ck.y-this.dropdown.height()-this.menuNode.outerHeight()-1+'px'):(ck.y+'px')),left:ck.x+'px'})}this.dropdownLabelContainer.children().text(this.getLabelText(ch));if(ss.isValue(this.menuNode)){tab.BrowserViewport.getViewport(ss.mkdel(this,function(cl){if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}if(ss.isValue(this.menuNode)){this.menuNode.children().remove();this.$2(cl,this.menuNode)}}))}this.$6(ch.length)},$6:function(ch){var ci=(this.shouldUseAllItem()?1:0);if(ch+ci<=5){this.searchBox.hideUI()}else{this.searchBox.showUI$1()}},shouldNotReinstantiate:function(){return false},layout:function(ch,ci){this.inherited(arguments);if(ss.isValue(this.tiledWidget)){this.tiledWidget.updateViewport(ch.w,ch.h)}},destroy:function(){this.dispose();this.hideMenu();if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=null;spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(this,this.$5))},fetchAllItem:function(){if(!this.shouldUseAllItem()){return null}else{return this.menuNode.children('.CFInnerContainer').children('.FIItem').get(0)}},fetchChildNodeByIndex:function(ch){if(ss.isValue(this.tiledWidget)){return this.tiledWidget.getElement(ch)}else{return null}},createListElement:null,getLabelText:function(ch){var ci=G.isAllOrAllChecked(this.parent);this.currentlySelected=-1;this.multimode=false;var cj=ch.length;if(cj===0){if(!ci){}return tab.Strings.QuickFilterAll}for(var ck=0;ck<cj;ck++){if(ch[ck].s&&!ci){if(this.currentlySelected>-1){this.multimode=true;break}this.currentlySelected=ck}}if(ci&&cj>1){return tab.Strings.QuickFilterAll}else if(this.multimode){return tab.Strings.QuickFilterMultipleValues}else if(this.currentlySelected===-1&&this.hasSummaryText()){return this.getSummaryText()}else{var cl=((this.currentlySelected>-1)?this.currentlySelected:0);return tableau.format.formatTupleDisplayName(ss.coalesce(ch[cl],''),true,this.parent.get_oFilter().role)}},onDropdownClicked:function(ch){tab.BrowserViewport.getViewport(ss.mkdel(this,this.$8))},$8:function(ch){if(this.$4()){return}var ci=document.body;this.removeGlass();this.glass=new spiff.Glass;this.glass.add_click(ss.mkdel(this,this.hideMenu));this.glass.set_zIndex(899);this.glass.show();var cj=this.$3();this.menuNode=$('<div>').attr('id',this.parent.id+'_menu').addClass('CFOuterContainer').addClass('tabMenuComboDropdownTheme').addClass('tab-ctrl-formatted-widget').css({position:'absolute',top:cj.y+'px',left:cj.x+'px','max-height':30*this.get_lineHeight()+'px','z-index':'900',visibility:'hidden'}).appendTo(ci);if(!tab.ColorModel.fromColorCode(this.parent.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)){this.menuNode.addClass('tab-darkBackground')}if(!this.$b){cg.applyFormatting(this.menuNode.get(0),this.parent.get_presModel().mCc,this.parent.get_backgroundColor(),this.get_lineHeight(),true);this.$b=true}this.searchBox.startupNoAppend();this.$a(this.menuNode);this.$2(ch,this.menuNode);$(this.menuNode.get(0)).toggleClass('QFDropdownMenuAbove',this.$c)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.hideMenu));this.glass.dispose();this.glass=null}},hideMenu:function(){this.searchBox.clearSearch(false,false);this.removeGlass();if(ss.isValue(this.menuNode)){this.menuNode.remove();this.menuNode=null}},$4:function(){return ss.isValue(this.menuNode)||ss.isValue(this.glass)},$3:function(){var ch=this.dropdown.offset();var ci=tab.DoubleUtil.roundToInt(this.dropdown.outerHeight());return{x:tab.DoubleUtil.roundToInt(ch.left),y:tab.DoubleUtil.roundToInt(ch.top)+ci-1}},$2:function(ch,ci){if(ss.isNullOrUndefined(ci)){return}this.fillMenu(ci);this.$c=this.$7(ch,ci);if(this.$c){$(this.searchBox.domNode).appendTo(ci)}else{$(this.searchBox.domNode).insertBefore(ci.children().first())}this.$9(ch,ci);if(this.searchBox.get_isVisible()){this.searchBox.showUI$1()}},$9:function(ch,ci){var cj=this.dropdown.offset();var ck=tab.DoubleUtil.roundToInt(this.dropdown.outerWidth())-2;var cl=document.body;var cm=ci.find('.tile').eq(0);var cn=cm.css('right');var co=(ss.isValue(cm[0])?cm[0].style.width:'');cm.css({right:'auto',width:''});var cp=tab.DoubleUtil.roundToInt(cm.width())+20;cm.css({right:cn});cm.css({width:co});cp=Math.max(cp,ck);var cq=tab.DoubleUtil.roundToInt($(cl).width());cp=Math.min(cp,cq);ci.width(cp);var cr=ci.offset();var cs=tab.DoubleUtil.roundToInt(cr.left);var ct=cs+tab.DoubleUtil.roundToInt(ci.outerWidth());var cu=$(cl).find('.dashboardSpacer');var cv=cu.offset();var cw=tab.DoubleUtil.roundToInt(cv.left)+tab.DoubleUtil.roundToInt(cu.width());var cx=ct-cw;if(cx>0){var cy=cs-cx;cy=Math.max(cy,0);ci.css({left:cy+'px'})}var cz=30*this.get_lineHeight();var cA=3*this.get_lineHeight();var cB=ch.getVisibleRoom(tab.PointUtil.fromPosition(cj),0);var cC=(this.$c?cB.roomAbove:(cB.roomBelow-2))-20;cC=cC-parseInt(ci.css('border-bottom-width'));cC=Math.min(cC,cz);cC=Math.max(cC,cA);ci.css({'max-height':cC+'px'});if(this.$c){if(cB.roomAbove>cC-1){ci.css({top:cj.top-ci.outerHeight()+'px'})}else{ci.css({top:cj.top-cB.roomAbove+'px'})}}var cD=((ss.isValue(this.searchBox)&&this.searchBox.get_isVisible())?dojo.marginBox(this.searchBox.domNode).h:0);var cE=0;var cF=ci.children('.CFInnerContainer');if(this.parent.shouldDeferChanges()&&ss.isValue(this.apply)&&!this.menuNode.hasClass('CFDropdownNoItems')){cE=dojo.marginBox(this.apply.element.get(0)).h;this.layoutApplyButton(cF)}if(ss.isValue(cF)){cF.css({'max-height':ci.get(0).clientHeight-cD-cE+'px'});this.tiledWidget.updateViewport(tab.DoubleUtil.roundToInt(cF.height()),0)}ci.css({visibility:'visible'})},$7:function(ch,ci){var cj=this.dropdown.offset();var ck=30*this.get_lineHeight();var cl=ch.getVisibleRoom(tab.PointUtil.fromPosition(cj),0);var cm=Math.min(ci.outerHeight(),ck)>cl.roomBelow&&cl.roomAbove>cl.roomBelow;return cm},fillMenu:function(ch){if(ss.isNullOrUndefined(ch)){return}var ci=$('<div>').addClass('CFInnerContainer').addClass('tab-ctrl-formatted-text');ch.append(ci);this.fillListElement(ci.get(0))},$a:function(ch){if(this.parent.get_oFilter().all||this.parent.get_oFilter().allNotChecked){ch.addClass('CFAll')}else{ch.removeClass('CFAll')}if(this.parent.get_oFilter().exclude){ch.addClass('CFExclusive')}else{ch.removeClass('CFExclusive')}},$5:function(){this.hideMenu()}},h,[ss.IDisposable]);ss.initClass(f,a,{createTabbedNavigation:function(ch,ci){return new tableau.base.widget.TabbedNavigation(ch,ci)},createPageViewModel:function(ch){return new bo(ch)},createCategoricalLegendViewModel:function(ch,ci,cj,ck){return new m(ch,ci,cj,ck)},createQuantitativeColorLegendViewModel:function(ch,ci,cj){return new bE(ch,ci,cj)},createLegacyLegendViewModel:function(ch,ci,cj){return new Y(ch,ci,cj)},createLegacyQuickFilterDisplayViewModel:function(ch,ci){return new bd(ch,ci)},createParameterControlViewModel:function(ch){return new bs(ch)},createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:function(ch){return new bD(ch)},createContinuousSliderViewModel:function(ch){return new u(ch)},createLegacyLegendView:null,createContinuousSlider:null},null,[tab.ILegacyDojoUIModule]);ss.initClass(i,a,{get_legendItems:function(){return this.$1}},spiff.Template,[ss.IDisposable]);ss.initClass(j,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bi,a,{get_contentArea:function(){return this.legendContentArea}},spiff.Template,[ss.IDisposable]);ss.initClass(k,a,{},bi,[ss.IDisposable]);ss.initClass(l,a,{get_docSize:function(){var ch=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.vYY;return{w:ch.rec,h:ch.EUR}},get_focusableLegendItems:function(){return this.element.find('.tabLegendItem[tabindex]')},get_catLegendViewModel:function(){return this.get_viewModel()},get_catLegendTemplate:function(){return this.get_template()},get_scrollOffset:function(){var ch=this.get_catLegendTemplate().columnsHolder.scrollLeft();var ci=tab.DoubleUtil.roundToInt(this.get_catLegendTemplate().columnsHolder.scrollTop());return{x:ch,y:ci}},set_scrollOffset:function(ch){this.get_catLegendTemplate().columnsHolder.scrollLeft(ch.x);this.get_catLegendTemplate().columnsHolder.scrollTop(ch.y)},onAddedToDom:function(){ss.makeGenericType(g,[m]).prototype.onAddedToDom.call(this);this.drawLegend(true)},onKeyDown:function(ch){var ci=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.OSr;switch(ch.which){case 39:{if(this.$u.length===1){var cj=this.get_viewModel();cj.set_focusIndex(cj.get_focusIndex()+1)}else if(this.get_viewModel().get_focusIndex()+ci<this.get_viewModel().get_numLegendItems()){var ck=this.get_viewModel();ck.set_focusIndex(ck.get_focusIndex()+ci)}else{this.get_viewModel().set_focusIndex(this.get_viewModel().get_numLegendItems()-1)}break}case 37:{if(this.$u.length===1){var cl=this.get_viewModel();cl.set_focusIndex(cl.get_focusIndex()-1)}else if(this.get_viewModel().get_focusIndex()>=ci){var cm=this.get_viewModel();cm.set_focusIndex(cm.get_focusIndex()-ci)}else{this.get_viewModel().set_focusIndex(0)}break}case 40:{var cn=this.get_viewModel();cn.set_focusIndex(cn.get_focusIndex()+1);break}case 38:{var co=this.get_viewModel();co.set_focusIndex(co.get_focusIndex()-1);break}case 36:{this.get_viewModel().set_focusIndex(0);break}case 35:{this.get_viewModel().set_focusIndex(this.get_viewModel().get_numLegendItems()-1);break}case 27:{this.get_viewModel().selectNone('simple');break}case 32:{var cp=this.get_catLegendViewModel().getLegendItem(this.get_viewModel().get_focusIndex());if(ss.isValue(cp)){this.get_viewModel().selectItem(cp,'toggle')}break}case 13:{if(this.get_catLegendViewModel().get_shouldShowHighlighter()){this.get_catLegendViewModel().toggleHighlighting()}break}default:{return}}ch.preventDefault();ch.stopPropagation()},onFocus:function(ch){var ci=ch.target;if(ci.classList.contains('tabLegendItem')){this.get_viewModel().set_focusIndex(this.get_focusableLegendItems().index(ci))}else if(ss.referenceEquals(ci,this.element[0])){tab.DomUtil.focusWithoutScrolling(ss.mkdel(this,this.updateFocus),this.get_catLegendTemplate().columnsHolder)}this.setHighlightButtonVisibility(true)},onSelectionChanged:function(ch){if(this.get_catLegendViewModel().get_categoricalLegendPM().vNc.IAN===this.$u.length){this.$i(ch);this.$t()}},onViewModelPropertyChanged:function(ch,ci){switch(ci.get_propertyName()){case'isActiveZone':case'isReadyZone':{break}case'Items':{this.onSelectionChanged(null);break}case'ParentZoneSizeChanged':{var cj=this.get_catLegendViewModel().$4();if(cj.w===tab.DoubleUtil.roundToInt(this.get_catLegendTemplate().panel.width())&&cj.h===tab.DoubleUtil.roundToInt(this.get_catLegendTemplate().panel.height())){}else{this.resetLegend(false)}this.$p();break}case'CustomShapesLoaded':{if(this.get_catLegendViewModel().get_legendTypeEnum()==='shape'){if(ss.isValue(this.$x)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$x))}this.$x=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$x=null;this.$i(null)}))}break}case'FocusIndex':{this.updateFocus();break}case'titleVisible':case null:{this.resetLegend(false);break}default:{this.resetLegend(true);break}}},$p:function(){if(!this.get_legendTooltip().get_isTooltipShown()){return}var ch=this.$e();var ci=this.$l();if(ss.isValue(ci)&&!tab.RectXYUtil.isEmpty(ch)){this.scrollToShowBounds(ch);var cj=tab.DomUtil.getRectXY(ci.item);var ck={x:cj.x+ss.Int32.div(cj.w,2),y:cj.y+ss.Int32.div(cj.h,2)};this.get_legendTooltip().selectionMoved(ck)}else{this.get_legendTooltip().repositionWithinRegion(tab.DomUtil.getRectXY(this.get_catLegendTemplate().panel))}},scrollToShowBounds:function(ch){},$e:function(){var ch={x:0,y:0,w:0,h:0};var ci=this.get_catLegendViewModel().get_categoricalLegendPM();var cj=ci.vNc;for(var ck=0;ck<cj.IAN;++ck){var cl=this.$u[ck];for(var cm=0;cm<cj.OSr&&cm<cl.get_legendItems().length;++cm){var cn=cl.get_legendItems()[cm];var co=cn.domRoot.data('tabLegendItem');if(ss.isValue(co)&&this.get_catLegendViewModel().isSelected(co)){var cp=tab.DomUtil.getMarginBoxJQ(cn.item);var cq={x:cp.l,y:cp.t,w:cp.w,h:cp.h};ch=tab.RectXYUtil.union(ch,cq)}}}return ch},$l:function(){var ch=this.get_catLegendViewModel().get_categoricalLegendPM();var ci=ch.vNc;for(var cj=0;cj<ci.IAN;++cj){var ck=this.$u[cj];for(var cl=0;cl<ci.OSr&&cl<ck.get_legendItems().length;++cl){var cm=ck.get_legendItems()[cl];var cn=cm.domRoot.data('tabLegendItem');if(ss.isValue(cn)&&this.get_catLegendViewModel().isSelected(cn)){return cm}}}return null},getLegendItemFromEvent:function(ch){var ci=$(ch.target);if(ci.hasClass('tabLegendItemLabelHolder')||ci.hasClass('tabLegendItem')){return null}return ci.parents('.tabLegendItem').addBack().first().data('tabLegendItem')},resetLegend:function(ch){this.drawLegend(ch)},getViewportPosition:function(ch){var ci=ch.get_gestureInfo();var cj={x:ci.pageX,y:ci.pageY};return cj},getDocumentPosition:function(ch){var ci={x:ch.x,y:ch.y};var cj=tab.DomUtil.getRectXY(this.get_catLegendTemplate().columnsHolder);ci.x+=this.get_catLegendTemplate().columnsHolder.scrollLeft()+this.viewportOffset.x-cj.x;ci.y+=tab.DoubleUtil.roundToInt(this.get_catLegendTemplate().columnsHolder.scrollTop())+this.viewportOffset.y-cj.y;return ci},performSelectOnItem:function(ch,ci,cj,ck){if(this.get_catLegendViewModel().get_legendTypeEnum()!=='map'){if(tab.FeatureFlags.isEnabled('VizLegendHover')){switch(ci){case'simple':case'range':{if(ss.referenceEquals(this.$w,ch)){this.get_catLegendViewModel().selectItem(ch,'toggle')}this.get_catLegendViewModel().selectItem(ch,ci);break}case'toggle':{if(!ss.referenceEquals(this.$w,ch)){this.get_catLegendViewModel().selectItem(ch,ci)}break}}this.$w=null}else{this.get_catLegendViewModel().selectItem(ch,ci)}this.get_legendTooltip().singleSelectCoordinates(cj,{x:ck.x,y:ck.y},this.get_legendViewModel().get_regionType(),'legenditem')}},performHoverOnItem:function(ch,ci,cj){if(this.get_catLegendViewModel().get_legendTypeEnum()!=='map'){var ck=true;if(tab.FeatureFlags.isEnabled('VizLegendHover')){if(ss.referenceEquals(this.$w,ch)){ck=false}else if(this.get_catLegendViewModel().isSelected(ch)){this.clearPreviousHoveredItem()}else{this.hoverOnCurrentItem(ch);this.$w=ch;ck=false}}if(ck){this.get_legendTooltip().hoverOverCoordinates(ci,{x:cj.x,y:cj.y},'legenditem',this.get_legendViewModel().get_regionType())}}},isValidPreviousHoveredItem:function(){return ss.isValue(this.$w)&&this.get_catLegendViewModel().isSelected(this.$w)},clearPreviousHoveredItem:function(){if(this.isValidPreviousHoveredItem()){this.get_catLegendViewModel().selectItem(this.$w,'toggle')}},hoverOnCurrentItem:function(ch){var ci=[];ci.push(ch);if(this.isValidPreviousHoveredItem()){ci.push(this.$w)}this.get_catLegendViewModel().selectItems(ci,'toggle')},clearHoverOnItem:function(){this.clearPreviousHoveredItem();this.$w=null},setContentSize:function(ch,ci){l.setDomNodeStyleSize(this.get_catLegendTemplate().columnsHolder,ci,ch)},onLegendHighlighterTapped:function(){this.get_catLegendViewModel().toggleHighlighting()},setHighlightButtonVisibility:function(ch){ch=ch&&this.get_catLegendViewModel().get_shouldShowHighlighter();if(ch){this.get_catLegendTemplate().legendHighlighterHolder.show()}else{this.get_catLegendTemplate().legendHighlighterHolder.hide()}},drawLegend:function(ch){var ci=$.contains(this.element[0],document.activeElement);this.$q();this.drawTitle();this.element.attr('aria-label',tab.Strings.Legend+': '+this.get_catLegendTemplate().titleArea.text());this.setupPanelAndViewport();if(ch){this.$r()}this.$n();this.$t();this.$i(null);if(ci){this.updateFocus()}},updateFocus:function(){var ch=this.get_focusableLegendItems();ch.attr('tabindex','-1');ch.eq(this.get_viewModel().get_focusIndex()).attr('tabindex','0').focus()},$q:function(){for(var ch=0;ch<this.$u.length;ch++){var ci=this.$u[ch];ci.domRoot.remove()}ss.clear(this.$u)},drawTitle:function(){ss.makeGenericType(g,[m]).prototype.drawTitle.call(this);this.$s()},$s:function(){if(this.get_catLegendViewModel().get_titleInline()){var ch=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.bjh;this.get_baseLegendTemplate().titleArea.css('height',ch+'px');this.get_baseLegendTemplate().titleArea.css('line-height',ch+'px')}},setupPanelAndViewport:function(){var ch=this.get_catLegendViewModel().$4().w;var ci=this.get_catLegendViewModel().$4().h;l.setDomNodeStyleSize(this.get_catLegendTemplate().panel,ch,ci);this.get_catLegendTemplate().panel.get(0).id=this.$o();this.$d(ch,ci);this.setContentSize(this.viewportHeight,this.viewportWidth)},$o:function(){return'tableau_base_legend_'+this.get_catLegendViewModel().get_regionType().toString()+(this.get_catLegendViewModel().get_shouldShowHighlighter()?'_q_':'_')+encodeURIComponent(this.get_catLegendViewModel().$7())},$d:function(ch,ci){var cj=this.get_catLegendViewModel().$5();this.viewportWidth=ch;this.viewportHeight=ci;this.viewportOffset={x:0,y:0};if(this.get_catLegendViewModel().get_titleInline()){this.viewportWidth-=cj.w;this.viewportOffset.x+=cj.w}else{this.viewportHeight-=cj.h;this.viewportOffset.y+=cj.h}},$r:function(){var ch=this.get_catLegendViewModel().get_categoricalLegendPM();var ci=ch.xxA;if(ss.isNullOrUndefined(ci)){ci={};ci.thj=0;ci.RAC=0}this.set_scrollOffset(tab.PointUtil.fromPresModel(ci))},$n:function(){var ch=this.get_catLegendViewModel().get_categoricalLegendPM().vNc;var ci=ch.EfC.rec;var cj=ch.EfC.EUR;var ck=ch.RbA.rec;var cl=ch.RbA.EUR;var cm=Math.ceil((ci-ck)/2);var cn=Math.ceil((cj-cl)/2);var co={w:ci,h:cj};var cp=null;var cq=false;if(this.get_catLegendViewModel().legendType==='color'||this.get_catLegendViewModel().legendType==='map'){cp={l:cm,t:cn,w:ck,h:cl};cq=ss.isValue(this.get_catLegendViewModel().$i().jBs)}var cr=this.$m(ch);for(var cs=0;cs<ch.IAN;++cs){var ct=new i(ch.OSr,cr,ch.bjh,co,cp,cq);this.$u.push(ct);ct.column.width(cr);this.get_catLegendTemplate().columnHolder.append(ct.domRoot)}},$t:function(){this.get_catLegendTemplate().legendHighlighterHolder.toggleClass('tabHighlightEnabled',this.get_catLegendViewModel().$k());this.get_catLegendTemplate().legendHighlighterHolder.toggleClass('tabHighlightDisabled',!this.get_catLegendViewModel().$k())},$i:function(ch){var ci=ss.isNullOrUndefined(ch);var cj=this.get_catLegendViewModel().get_categoricalLegendPM();var ck=cj.vNc;var cl=this.get_catLegendViewModel().get_numLegendItems();var cm=0;for(var cn=0;cn<ck.IAN&&cm<cl;++cn){var co=this.$u[cn];for(var cp=0;cp<ck.OSr&&cm<cl&&cp<co.get_legendItems().length;++cp,++cm){if(!ci&&!ss.contains(ch,cm)){continue}var cq=co.get_legendItems()[cp];var cr=this.$g(cm,cq);if(ss.isValue(cr)){this.$h(cr,cj,cq);cq.domRoot.data('tabLegendItem',cr)}}}this.get_focusableLegendItems().eq(this.get_viewModel().get_focusIndex()).attr('tabindex','0')},$g:function(ch,ci){var cj=null;switch(this.get_catLegendViewModel().legendType){case'color':case'map':{cj=this.$f(ch,ci);break}case'size':{cj=this.$k(ch,ci);break}case'shape':{cj=this.$j(ch,ci);break}default:{break}}return cj},$f:function(ch,ci){var cj=this.get_catLegendViewModel().$i();var ck=cj.DKF[ch];var cl=this.get_catLegendViewModel().$o();var cm=tab.ColorModel.fromColorCode(ck.YhU);cm=tab.ColorModel.alphaComposite(cm,cl);var cn=this.get_catLegendViewModel().isLegendItemGrayed(ck);if(cn){cm=tab.SceneDataUtil.applyFoggingToColor(cm,cl)}var co=cm.toString();ci.itemSwatch.get(0).id=co;var cp={};cp['background-color']=co;if(ss.isValue(cj.jBs)){cp['border-style']='solid';var cq=tab.ColorModel.fromColorCode(cj.jBs);if(cn){cq=tab.SceneDataUtil.applyFoggingToColor(cq,cl)}cp['border-color']=cq.toString()}ci.itemSwatch.css(cp);return ck},$j:function(ch,ci){var cj=this.get_catLegendViewModel().$m();var ck=cj.x_f[ch];var cl=cj.vNc.EfC.rec;var cm=cj.vNc.EfC.EUR;var cn=ci.renderContext;cn.clearRect(0,0,cl,cm);if(ss.isNullOrUndefined(this.$v)||!this.$v.$Q(ck.Yi)){this.$v=new b(ci,cl/2,cm/2,cj.vNc.RbA.rec,cj.vNc.RbA.EUR,this.get_catLegendViewModel().$o())}this.$v.$S(cn,ck.Yi,this.get_catLegendViewModel().isLegendItemGrayed(ck));ci.itemSwatch.get(0).id=ck.Yi.toString();return ck},$k:function(ch,ci){var cj=this.get_catLegendViewModel().$n();var ck=cj.nJz[ch];var cl=cj.vNc.EfC.rec;var cm=cj.vNc.EfC.EUR;var cn=cj.vNc.RbA.EUR;var co=Math.ceil((cm-cn)/2);var cp=ci.renderContext;cp.save();var cq=l.$5;var cr=l.$3;if(this.get_catLegendViewModel().isLegendItemGrayed(ck)){var cs=this.get_catLegendViewModel().$o();cq=tab.SceneDataUtil.applyFoggingToColor(cq,cs);cr=tab.SceneDataUtil.applyFoggingToColor(cr,cs)}cp.set_shapeFillStyle(cq.toString());cp.set_strokeStyle(cr.toString());cp.set_lineWidth(2);var ct=cl/2;var cu=cm/2;var cv=ck.dIK/2;cp.clearRect(0,0,cl,cm);cp.setClip({x:0,y:1,w:cl,h:cm-2});switch(cj.WnZ){case'shape':case'circle':case'pie':{cp.beginPath();cp.arc(ct,cu,cv,0,Math.PI*2,false);cp.closePath();cp.fill();cp.beginPath();cp.arc(ct,cu,cv,0,Math.PI*2,false);cp.closePath();cp.stroke();break}case'line':case'gantt':case'bar':{cp.fillRect(ct-cv,co,ck.dIK,cn);break}case'square':{var cw=ct-cv;var cx=cu-cv;cp.fillRect(cw,cx,ck.dIK,ck.dIK);cp.strokeRect(cw,cx,ck.dIK,ck.dIK);break}case'text':{var cy=cj.mYd;if(typeof(cy)==='undefined'){cy=cj.mCc}tab.DisplayList2DRenderer.setTextProperties(cp,cy,ck.dIK);cp.set_textAlign('center');cp.fillText1(tab.Strings.SizeLegendTextMarkSwatch,ct,cu);break}default:{break}}cp.restore();ci.itemSwatch.get(0).id=cj.WnZ.toString()+'_'+ck.dIK.toString();return ck},$m:function(ch){if(ch.ICz==='grid'&&ch.vYY.rec<ch.Fvw){return ch.vYY.rec}return ch.Fvw},$h:function(ch,ci,cj){var ck=ci.mCc;var cl=null;var cm='';if(this.get_catLegendViewModel().isSelected(ch)){ck=ci._PQ;cm=ci.kLF}else if(this.get_catLegendViewModel().isLegendItemGrayed(ch)){var cn=this.get_catLegendViewModel().$o();cl=tab.SceneDataUtil.applyFoggingToColor(tab.ColorModel.fromColorCode(ck.YhU),cn).toString()}var co=ci.vNc.MsN.RAC;var cp=ci.vNc.MsN.thj;var cq='left';var cr=this.$m(ci.vNc);var cs=cr-cp;var ct={};if(ck.weu==='h-align-right'||ci.vNc.ZTg){cq='right';ct.overflow='inherit';var cu=Math.max(cr-cp-ci.vNc.sWs,0);ct.right=cu+'px';cs=cr-cu}else{ct.left=cp+'px'}ct.top=co+'px';ct.width=cs-1+'px';ct.bottom='0px';ct['text-align']=cq;cj.itemLabelHolder.css(ct);cj.itemLabel.css('background-color',cm);cj.itemLabel.css(tab.FormattingConverters.makeFormatStyleDict(ck,cl));cj.itemLabel.text(ch.gjO);cj.domRoot.attr('tabindex','-1').attr('role','option').attr('aria-selected',this.get_catLegendViewModel().isSelected(ch).toString())}},ss.makeGenericType(g,[m]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[m]),ss.makeGenericType(tab.ICategoricalLegendView$1,[m])]);ss.initClass(bg,a,{$4:function(){var ch=null;if(ss.isValue(this.$9)){ch={w:this.$9.get_contentWidth(),h:this.$9.get_contentHeight()}}return ch},$5:function(){var ch=null;if(ss.isValue(this.$9)){ch=this.$9.get_titleSize();ch.h=Math.max(0,ch.h-2*this.get_borderWidth());ch.w=Math.max(0,ch.w-2*this.get_borderWidth())}else{ch={w:0,h:0}}return ch},$7:function(){return this.$b},$8:function(){return this.$9.get_zoneId()},$6:function(){return(ss.isValue(this.get_visualModel())?this.$a.get_visualId():null)},get_visualModel:function(){if(ss.isNullOrUndefined(this.$a)){this.$a=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$b)}return this.$a},get_parentZoneVM:function(){return this.$9},get_hasTitle:function(){return this.get_parentZoneVM().get_hasTitle()},get_borderWidth:null,get_regionType:null,get_titleHtml:function(){if(this.get_hasTitle()){return this.get_presModelTitleHtml()}return''},get_presModelTitleHtml:null,get_titleInline:function(){var ch=this.$5();if(this.get_presModelTitleInline()===false&&ch.h===0&&ch.w>0){return true}return this.get_presModelTitleInline()},get_presModelTitleInline:null,get_titleHeight:function(){if(!this.get_hasTitle()){return 0}var ch=this.get_presModelTitleHeight();if(ch===0){ch=this.$5().h}return ch},get_presModelTitleHeight:null,get_titleWidth:function(){if(!this.get_hasTitle()){return 0}var ch=this.get_presModelTitleWidth();if(ch===0){ch=this.$5().w}return ch},get_presModelTitleWidth:null,dispose:function(){if(ss.isValue(this.$9)){this.$9.remove_propertyChanged(ss.mkdel(this,this.$2));this.$9.remove_zoneResized(ss.mkdel(this,this.$3))}spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(ch,ci){this.notifyPropertyChanged(ci.get_propertyName())},$3:function(){this.notifyPropertyChanged('ParentZoneSizeChanged')}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel]);ss.initClass(m,a,{get_catLegendModel:function(){return this.$r},get_legendTypeEnum:function(){switch(this.legendType){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'},get_categoricalLegendPM:function(){return this.$r.get_catLegendPresModel()},get_numLegendItems:function(){var ch=this.get_catLegendModel().get_items();return(ss.isNullOrUndefined(ch)?0:ch.length)},get_presModelTitleInline:function(){return this.get_categoricalLegendPM().vNc.HNR},get_presModelTitleHtml:function(){return this.get_categoricalLegendPM().XjF},$l:function(){return this.get_catLegendModel().get_legendNames()},$o:function(){return this.$w||new tab.ColorModel(255,255,255,1)},$h:function(){var ch=this.get_categoricalLegendPM().rPC;return(ss.isValue(ch.eBu)?tab.ColorModel.fromColorCode(ch.eBu):m.$1)},$i:function(){return this.$r.get_catLegendPresModel()},$m:function(){return this.$r.get_catLegendPresModel()},$n:function(){return this.$r.get_catLegendPresModel()},get_regionType:function(){var ch='color';switch(this.legendType){case'color':{ch='color';break}case'size':{ch='size';break}case'shape':{ch='shape';break}case'map':{ch='map';break}default:{break}}return ch},get_borderWidth:function(){var ch=this.get_categoricalLegendPM().rPC.s$V;if(this.get_categoricalLegendPM().rPC.ysh1==='bs-none'){ch=0}return ch},get_presModelTitleHeight:function(){return this.get_categoricalLegendPM().vNc.jZr},get_presModelTitleWidth:function(){return this.get_categoricalLegendPM().vNc.nkG1},$k:function(){return this.get_catLegendModel().get_isHighlightEnabled()},get_shouldShowHighlighter:function(){return this.get_catLegendModel().get_isHighlightAllowed()},$j:function(){return this.get_visualModel().get_selectionsModel().get_brushVizForNodeSelection()||!this.get_visualModel().get_selectionsModel().tupleSelection.isEmpty},get_focusIndex:function(){if(this.get_numLegendItems()!==this.$q){this.$t=0;this.$q=this.get_numLegendItems()}return this.$t},set_focusIndex:function(ch){this.$q=this.get_numLegendItems();if(this.$t===ch){return}this.$t=ch%this.get_numLegendItems();if(this.$t<0){this.$t+=this.get_numLegendItems()}this.notifyPropertyChanged('FocusIndex')},dispose:function(){bg.prototype.dispose.call(this);this.$r.remove_legendChanged(ss.mkdel(this,this.$f));this.$r.remove_legendNameChanged(ss.mkdel(this,this.$e));this.$v.remove_newSelection(ss.mkdel(this,this.$g));this.$p.remove_newSelection(ss.mkdel(this,this.$g));this.get_visualModel().get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$g));this.get_visualModel().remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$d));if(ss.isValue(this.$s)){this.$s.dispose()}},isLegendItemGrayed:function(ch){if(this.$k()){if(this.isSelected(ch)||this.isBrushed(ch)){return false}var ci=this.get_visualModel();if(ss.isNullOrUndefined(ci)){return false}var cj=ss.isValue(this.$p)&&!this.$p.isEmpty;return ci.get_emptyHighlightFogAll()||m.legendShouldBeGrayed(this.get_catLegendModel().get_isOneWay(),this.$j(),this.hasSelection(),cj)}return false},hasSelection:function(){return!this.$v.isEmpty},isSelected:function(ch){return this.$v.isLegendItemSelected(ch)},isBrushed:function(ch){return this.$p.isLegendItemSelected(ch)},toggleHighlighting:function(){tab.SelectionClientCommands.toggleLegendHighlight(this.$8(),this.$6(),this.get_regionType(),this.$l(),null)},selectItem:function(ch,ci){var cj=[];cj.push(ch);this.selectItems(cj,ci)},selectItems:function(ch,ci){tab.SelectionClientCommands.selectLegendItemsLocal(this.$8(),ci,ch,this.$6(),this.get_catLegendModel(),this.get_legendTypeEnum())},selectNone:function(ch){var ci=[];this.selectItems(ci,ch)},getLegendItem:function(ch){var ci=this.get_catLegendModel().get_items();if(ss.isNullOrUndefined(ci)||ch<0||ch>=ci.length){return null}return ci[ch]},$e:function(){this.$v.remove_newSelection(ss.mkdel(this,this.$g));this.$v=this.get_visualModel().get_selectionsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$v.add_newSelection(ss.mkdel(this,this.$g));this.$p.remove_newSelection(ss.mkdel(this,this.$g));this.$p=this.get_visualModel().get_brushingsModel().getLegendSelection(this.get_legendTypeEnum(),this.$l());this.$p.add_newSelection(ss.mkdel(this,this.$g))},$f:function(){if(this.legendType==='shape'){var ch=new Set;var ci=this.$m();for(var cj=0;cj<ci.x_f.length;cj++){var ck=ci.x_f[cj];if(tab.SceneDataUtil.isCustomShape(ck.Yi)){ch.add(ck.Yi)}}if(ss.isNullOrUndefined(this.$s)){this.$s=new tab.ShapeDependencyManager(ss.mkdel(this,function(){this.notifyPropertyChanged('CustomShapesLoaded')}))}this.$s.initialize(tab.SetUtilities.getValues(ss.Int32).call(null,ch))}this.$u=this.$c();this.notifyPropertyChanged(null)},$g:function(){var ch=this.$c();var ci=!this.$u.isSelectionStateTheSame(ch);if(ci){var cj=this.$u.computeChangedItems(ch);this.notifySelectionChanged(cj);this.$u=ch}},notifySelectionChanged:function(ch){if(!ss.staticEquals(this.selectionChanged,null)){this.selectionChanged(ch)}},$d:function(){this.notifyPropertyChanged('Items')},$c:function(){return new bh(this.$v.get_ids(),this.$p.get_ids(),this.$k(),this.$j(),this.get_catLegendModel().get_isOneWay())}},bg,[ss.IDisposable,spiff.IViewModel,tab.ICategoricalLegendViewModel]);ss.initClass(n,a,{get_selectedIndexes:function(){return this._selectedIndexes},clearRangeAnchor:function(){var ch=this.$2.fetchChildNodeByIndex(this._anchorIndex);if(!!ch){var ci=G.filterItem.getCssNode(ch);if(!!ci){$(ch).removeClass('anchorSelection')}}this._anchorIndex=this._lastRangeSelectionIndex=-1},clearRangeAnchorAndSelection:function(){this.clearRangeAnchor();this._clearSelection()},refreshRangeAnchorAndSelection:function(){if(this._anchorIndex>=0){var ch=this.$2.fetchChildNodeByIndex(this._anchorIndex);if(!!ch){var ci=G.filterItem.getCssNode(ch);if(!!ci){$(ci).addClass('anchorSelection')}}else{this._anchorIndex=-1}}for(var cj=this._selectedIndexes.length-1;cj>=0;--cj){var ck=this._selectedIndexes[cj];var cl=this.$2.fetchChildNodeByIndex(ck);if(!!cl){this._selectItem(ck)}else{this._selectedIndexes.splice(cj,1)}}},onListItemClick:function(ch){var ci=G.filterItem.getNodeFromEvent(ch);if(!!!ci){return}var cj=tableau.util.isNodeMatch(ch.target,'input',ss.mkdict(['type','checkbox']));cj=cj||tableau.util.isNodeMatch(ch.target,'input',ss.mkdict(['type','radio']));if(cj){G.filterItem.syncCssToCheckState(ci);this.$2.handleItemClick(ci)}var ck=G.filterItem.getIndex(ci);if(ss.isNullOrUndefined(ck)||ck<0){return}if(G.filterItem.isTypeInListItem(ci)){this.$0(ch,ck)}else{if(!!!this.changelist){this.changelist=new tab.Changelist}if(cj){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&!this.$2.shouldDeferChanges()){var cl=[];var cm=this.$2.get_filterTable();if(!!cm&&cm.actual_size===cm.tuples.length){var cn=cm.tuples;var co=this._getCheckedIndexes(cn,ci,this.changelist);for(var cp=0,cq=co.length;cp<cq;cp++){var cr=co[cp];var cs=cn[cr].d||cn[cr].t[0].v;cl.push(cs)}var ct=this.$2.get_quickFilter();var cu=new tab.LegacyCategoricalQuickFilterData(ct.get_oFilter().targetSheets,ct.get_field(),ct.get_oFilter().exclude,cl);tab.FilterClientCommands.updateCategoricalFilter(cu)}}this.$1(ci,ch,ck);if(this.$2.shouldDeferChanges()){this.$2.applyChangesByChangelist(this.changelist);this.changelist.reset()}else{this.notifyChange(this.getDoChangeFunc())}}this._updateRangeAnchor(ck)}},$1:function(ch,ci,cj){var ck=new tab.RawChange;var cl=G.filterItem.isChecked(ch);if(G.filterItem.isTiled(ch)){if(ci.shiftKey===true){this._updateCheckboxRangeFromAnchorByIndex(cj);var cm=((this._anchorIndex>-1)?this._anchorIndex:cj);ck.setRange(new tab.IntegerRange(cm,cj),cl);this.changelist.addChange(ck)}else{ck.setSingle(cj,cl);this.changelist.addChange(ck)}}else if(ci.shiftKey===true&&this._anchorIndex>-1){this._updateCheckboxRangeFromAnchor(cj)}else{ck.setSingle(cj,cl);this.changelist.addChange(ck)}},$0:function(ch,ci){if(ch.shiftKey&&this._anchorIndex>=0){this._selectRangeFromAnchor(ci)}else if((tab.BrowserSupport.get_isMac()?ch.metaKey:ch.ctrlKey)){this._toggleItemSelection(ci);this._updateRangeAnchor(ci)}else{this._clearSelection();this._updateRangeAnchor(ci);this._selectItem(ci)}},getDoChangeFunc:function(){var ch=ss.mkdel(this,function(){this.$2.applyChangesByChangelist(this.changelist);this.changelist.reset()});return ch},notifyChange:function(ch){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.$2.updateStateIfNeeded();this._applyTimer=tab.WindowHelper.setTimeout(ch,this.$2.get_applyDelay())},cancelPendingChange:function(){tab.MiscUtil.clearTimeout(this._applyTimer);this._applyTimer=null},_getCheckedIndexes:function(ch,ci,cj){var ck=[];var cl=this.$2.get_quickFilter();var cm=cl.get_mode()==='checklist'||cl.get_mode()==='checkdropdown';var cn=cm||cl.get_mode()==='radiolist'||cl.get_mode()==='dropdown';var co=null;if(cm){co=cj.compileForChecklist(null)}for(var cp=0,cq=ch.length;cp<cq;cp++){var cr=this.$2.fetchChildNodeByIndex(cp);if(!!cr){if(G.filterItem.isChecked(cr)){ck.push(cp)}}else if(cn){var cs=ch[cp].s;if(G.filterItem.getIndex(ci)===cp){if(G.filterItem.isChecked(ci)){ck.push(cp)}}else if(cm){if(ss.contains(co.select,cp)){ck.push(cp)}else if(!ss.contains(co.deselect,cp)&&cs){ck.push(cp)}}}}return ck},forEachSelected:function(ch){if(ss.isNullOrUndefined(ch)||typeof(ch)!=='function'){return}for(var ci=0,cj=this._selectedIndexes.length;ci<cj;ci++){var ck=this._selectedIndexes[ci];var cl=this.$2.fetchChildNodeByIndex(ck);ch(ck,cl)}},_selectRangeFromAnchor:function(ch){var ci;var cj;var ck=this._anchorIndex;var cl;var cm;var cn=((this._lastRangeSelectionIndex>=0)?this._lastRangeSelectionIndex:ck);var co=Math.min(ck,ch);var cp=Math.max(ck,ch);for(ci=ch;ci<=Math.min(ck,cn);ci++){this._selectItem(ci)}for(cl=cn;cl<co;cl++){this._deselectItem(cl)}for(cj=Math.max(ck,cn);cj<=ch;cj++){this._selectItem(cj)}for(cm=cp+1;cm<=cn;cm++){this._deselectItem(cm)}this._lastRangeSelectionIndex=ch},_toggleItemSelection:function(ch){var ci=this.$2.fetchChildNodeByIndex(ch);if(G.filterItem.isSelected(ci)){this._deselectItem(ch)}else{this._selectItem(ch)}},_selectItem:function(ch){var ci=this.$2.fetchChildNodeByIndex(ch);var cj;G.filterItem.setSelected(ci,true);cj=tableau.util.binarySearch(ss.Int32).call(null,ch,this._selectedIndexes);if(!cj.found){this._selectedIndexes.splice(cj.index,0,ch)}},_deselectItem:function(ch){var ci=this.$2.fetchChildNodeByIndex(ch);var cj;G.filterItem.setSelected(ci,false);cj=tableau.util.binarySearch(ss.Int32).call(null,ch,this._selectedIndexes);if(cj.found){this._selectedIndexes.splice(cj.index,1)}},_clearSelection:function(){for(var ch=this._selectedIndexes.length-1;ch>=0;--ch){this._deselectItem(this._selectedIndexes[ch])}this._selectedIndexes=[]},_updateCheckboxRangeFromAnchor:function(ch){var ci=Math.min(this._anchorIndex,ch);var cj=Math.max(this._anchorIndex,ch);var ck=this.$2.fetchChildNodeByIndex(ci);var cl=this.$2.fetchChildNodeByIndex(cj);var cm=G.filterItem.isChecked(this.$2.fetchChildNodeByIndex(ch));var cn;while(!!ck&&!ss.referenceEquals(ck,cl)){G.filterItem.setChecked(ck,cm);cn=new tab.RawChange;cn.setSingle(G.filterItem.getIndex(ck),cm);this.changelist.addChange(cn);ck=ck.nextSibling}G.filterItem.setChecked(cl,cm);cn=new tab.RawChange;cn.setSingle(G.filterItem.getIndex(cl),cm);this.changelist.addChange(cn)},_updateCheckboxRangeFromAnchorByIndex:function(ch){var ci=Math.min(this._anchorIndex,ch);var cj=Math.max(this._anchorIndex,ch);var ck=G.filterItem.isChecked(this.$2.fetchChildNodeByIndex(ch));var cl;var cm;for(cl=ci;cl<=cj;++cl){cm=this.$2.fetchChildNodeByIndex(cl);if(!!cm){this.$2.handleClickIfPending(cm);G.filterItem.setChecked(cm,ck)}}},_updateRangeAnchor:function(ch){if(this.$2.isSingleSelect()){return}if(this._anchorIndex===ch&&ch>=0){return}var ci;if(this._anchorIndex>=0){ci=this.$2.fetchChildNodeByIndex(this._anchorIndex);if(!!ci){$(G.filterItem.getCssNode(ci)).removeClass('anchorSelection')}}this._anchorIndex=ch;ci=this.$2.fetchChildNodeByIndex(ch);if(!!ci){$(G.filterItem.getCssNode(ci)).addClass('anchorSelection')}else{this._anchorIndex=-1}this._lastRangeSelectionIndex=-1}});ss.initClass(o,a,{instantiate:function(ch,ci,cj){this.setUpForPendingChanges();this.inherited(arguments)},fillMenu:function(ch){this.inherited(arguments);var ci=$('<div>');this.appendApplyButton(ci);if(ci.children().length>0){ch.append(ci);ci.css('height',this.apply.element.outerHeight(true)+'px')}},createListElement:function(ch,ci,cj,ck){var cl=$(ch);if(this.shouldUseAllItem()&&ci.length>0){p.addAllItem(cl,this.parent,cj,ck,p.shouldCheckAllItem(this.parent.get_oFilter(),this.pendingManager),ss.mkdel(G.filterItem,G.filterItem.formatChecklistFilterItemHtml))}{if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=bW.createChecklist(this.parent,ci,ch,cj,this.get_lineHeight())}{var cm=spiff.EventUtil.bindWithDispose(cl,'click',ss.mkdel(this.parent,this.parent.onListItemClick));this.disposables.add$1(cm);var cn=spiff.EventUtil.bindWithDispose(cl,'touchend',ss.mkdel(this.parent,this.parent.onListItemClick));this.disposables.add$1(cn)}cl.parent().toggleClass('CFDropdownNoItems',ci.length===0);if(ci.length===0){cl.text(tab.Strings.QuickFilterNoItems)}},resetPendingVisuals:function(ch){var ci;if(ss.isValue(this.searchBox)&&this.searchBox.isShowingResults()){ci=this.menuNode.children('.tiledContent')}else{ci=this.menuNode.find('.tile')}if(ss.isNullOrUndefined(ci)){return}var cj=ci.children().get();for(var ck=0;ck<cj.length;ck++){var cl=cj[ck];if(G.filterItem.isPending(cl)){G.filterItem.togglePendingState(cl);if(ch){G.filterItem.setChecked(cl,!G.filterItem.isChecked(cl))}}}}},e,[ss.IDisposable]);ss.initClass(p,a,{get_scrollNode:function(){return this.checkListContainer},instantiate:function(ch,ci,cj){this.setUpForPendingChanges();this.div.innerHTML='';this.$2=this.parent.get_searchWidget();this.$2.setStyle(2);var ck=$(this.div);this.$2.startupAndAppendTo(ck);this.$2.hideUI();ck.addClass('CFOuterContainer');var cl=$('<div>').addClass('CFInnerContainer').addClass('tab-ctrl-formatted-text').attr('role','group').attr('aria-labelledby',this.parent.get_titleDomId());ck.append(cl);this.checkListContainer=cl.get(0);this.createChecklist(this.checkListContainer,ch,ci,cj);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(this.div),'click',ss.mkdel(this.parent,this.parent.onListItemClick)));this.appendApplyButton($(this.div))},resetContent:function(ch,ci,cj){var ck=$(this.checkListContainer);ck.empty();if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}this.createChecklist(this.checkListContainer,ch,ci,cj);this.appendApplyButton($(this.div))},updateContent:function(ch){var ci=((ch.length>0)?ch.join(''):this.$2.get_noMatchHtml());var cj=$(this.checkListContainer);if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}cj.html(ci)},shouldNotReinstantiate:function(){return ss.isValue(this.$2)&&this.$2.isShowingResults()},layout:function(ch,ci){this.inherited(arguments);if(ss.isValue(this.tiledWidget)){this.tiledWidget.updateViewport(ch.w,ch.h)}var cj=((ss.isValue(this.$2)&&this.$2.get_isVisible())?dojo.marginBox(this.$2.domNode).h:0);var ck=0;if(this.parent.shouldDeferChanges()){ck=dojo.marginBox(this.apply.element.get(0)).h;this.layoutApplyButton($(this.checkListContainer))}if(ss.isValue(this.checkListContainer)){this.checkListContainer.style.height=this.div.clientHeight-cj-ck+'px'}},destroy:function(){this.dispose();if(ss.isValue(this.$2)){this.$2.destroy()}if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=null},fetchChildNodeByIndex:function(ch){if(ss.isValue(this.tiledWidget)){return this.tiledWidget.getElement(ch)}else{return null}},createChecklist:function(ch,ci,cj,ck){if(this.shouldUseAllItem()&&ci.length>0){p.addAllItem($(ch),this.parent,cj,ck,p.shouldCheckAllItem(this.parent.get_oFilter(),this.pendingManager),ss.mkdel(G.filterItem,G.filterItem.formatChecklistFilterItemHtml))}{if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=bW.createChecklist(this.parent,ci,ch,cj,this.get_lineHeight())}},fetchAllItem:function(){if(ss.isValue(this.checkListContainer)){return this.checkListContainer.firstChild}else{return null}},resetPendingVisuals:function(ch){var ci;if(ss.isValue(this.$2)&&this.$2.isShowingResults()){ci=$(this.checkListContainer)}else{ci=$(this.checkListContainer).find('.tile')}if(ss.isNullOrUndefined(ci)){return}var cj=ci.children().get();for(var ck=0;ck<cj.length;ck++){var cl=cj[ck];if(G.filterItem.isPending(cl)){G.filterItem.togglePendingState(cl);if(ch){G.filterItem.setChecked(cl,!G.filterItem.isChecked(cl))}}}}},h,[ss.IDisposable]);ss.initInterface(M,a,{destroy:null,format:null,isValid:null});ss.initClass(bQ,a,{destroy:function(){},format:function(ch,ci,cj){var ck='';var cl=ss.safeCast(ch,Array);if(ss.isNullOrUndefined(ci)){return ck}if(ss.isNullOrUndefined(cj)){return ck}if(!this.isValid(cl)){return ck}ck+=ss.formatString(this.tileHtml,ci.y.toString());for(var cm=0,cn=cj.get_from();cm<cl.length;++cm,++cn){ck+=this.$1(this.$0,cl[cm],this.$2,cn)}ck+='</div>';return ck},isValid:function(ch){return true}},null,[M]);ss.initClass(q,a,{isValid:function(ch){var ci=ss.safeCast(ch,Array);return ss.isValue(ci)&&ci.length!==0}},bQ,[M]);ss.initClass(r,a,{init:function(ch,ci){if(!tab.MiscUtil.isNullOrEmpty$1(ch)){this.domConditionText.innerHTML=ch;this.domCondition.title=ch}else{this.domCondition.style.display='none'}if(!tab.MiscUtil.isNullOrEmpty$1(ci)){this.domLimitText.innerHTML=ci;this.domLimit.title=ci}else{this.domLimit.style.display='none'}if(!tab.MiscUtil.isNullOrEmpty$1(ch)&&!tab.MiscUtil.isNullOrEmpty$1(ci)){this.domLimit.style.borderTop='solid 1px #FAFAFA'}},postCreate:function(){this.$0()},$0:function(){this.domConditionTitle.innerHTML=tableau.format.escapeHTML(tab.Strings.QuickFilterConditionalsCondition);this.domLimitTitle.innerHTML=tableau.format.escapeHTML(tab.Strings.QuickFilterConditionalsLimit)}},Object);ss.initClass(s,a,{get_data:function(){return this.$0},get_tileIndex:function(){return this.$2},get_itemRange:function(){return this.$1}},ss.EventArgs);ss.initClass(t,a,{get_widgetNode:function(){return this.element},applyChanges:function(ch){this.viewModel.set_sliderCurrentValue(ch)},dispose:function(){ss.makeGenericType(spiff.BaseView$1,[u]).prototype.dispose.call(this);this.viewModel=null},onAddedToDomShim:function(){this.onAddedToDom()}},ss.makeGenericType(spiff.BaseView$1,[u]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[u]),tab.IContinuousSlider]);ss.initClass(u,a,{add_intermediateChange:function(ch){this.$2$1=ss.delegateCombine(this.$2$1,ch)},remove_intermediateChange:function(ch){this.$2$1=ss.delegateRemove(this.$2$1,ch)},add_sliderValueChange:function(ch){this.$2$2=ss.delegateCombine(this.$2$2,ch)},remove_sliderValueChange:function(ch){this.$2$2=ss.delegateRemove(this.$2$2,ch)},get_sliderClassName:function(){return this.$8},set_sliderClassName:function(ch){this.$8=ch},get_pixelWidth:function(){return this.$5},set_pixelWidth:function(ch){this.$5=ch},get_ruleTickCount:function(){return this.$7},set_ruleTickCount:function(ch){this.$7=ch},get_currentFraction:function(){return this.$3},set_currentFraction:function(ch){var ci=Math.ceil(Math.log(1000)/Math.LN10);var cj=this.$3.toFixed(ci);var ck=ch.toFixed(ci);if(!ss.referenceEquals(cj,ck)){this.$3=ch;this.$2$2(this.$3)}},get_sliderIntermediateValue:function(){return this.$4*1000},get_sliderCurrentValue:function(){return this.get_currentFraction()*1000},set_sliderCurrentValue:function(ch){this.set_currentFraction(ch/1000)},get_sliderMinimumValue:function(){return 0},get_sliderMaximumValue:function(){return 1000},get_rangeModel:function(){return this.$6},applyIntermediateChange:function(ch){this.$4=ch/1000;if(ss.isValue(this.$2$1)){this.$2$1(this.$4)}},$2:function(ch){this.set_currentFraction(ch)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IContinuousSliderViewModel]);ss.initClass(v,a,{get_showTitle:function(){return ss.isValue(this.lTitle)&&this.lTitle.length!==0},$5:function(){return Math.max(this.pages.length-1,0)},$3:function(ch){return this.pages.length!==0&&ch!==this.pages.length-1},getDomNode:function(){return this.domNode},destroyRecursiveShim:function(ch){this.destroyRecursive(ch)},startupShim:function(){this.startup()},startup:function(){this.containerNode=this.domNode;this.titleSize={w:0,h:0};this.inherited(arguments);this.innerWrapper.startup();this.innerWrapper.domNode.style.overflow='visible';this.buttonsContainer.startup();this.refreshLayout();if(this.show_toggle){var ch=document.createElement('div');ch.className='fakeCheckBox';if(ss.isValue(this._showHistoryCb.domNode)){this._showHistoryCb.domNode.appendChild(ch)}var ci=document.createElement('label');ci.innerHTML=tableau.format.escapeHTML(tab.Strings.CurrentPagePanelShowHistory);ci.setAttribute('for',this._showHistoryCb.id);if(ss.isValue(this._checkboxPane.domNode)){this._checkboxPane.attr('title',tab.Strings.CurrentPagePanelShowHistory);this._checkboxPane.domNode.appendChild(ci)}}this._rightBtn.setAttribute('_scroll',false);this._leftBtn.setAttribute('_scroll',false);this._slider.setAttribute('_scroll',false)},layout:function(ch){var ci=0;var cj=0;var ck=0;if(ss.isNullOrUndefined(this.titleSize)||ss.isValue(this.lTitle)&&this.titleSize.w===0){return}var cl=dojo.marginBox(this.containerNode);var cm=cl.w-this.DOM_OFFSET;var cn;if(this.get_showTitle()){if(this.titleSize.w<cl.w){if(cl.h<this.getWidgetOffset()){this.cpOrientation='horizontal'}else{this.cpOrientation='vertical'}cm-=this.titleSize.w;ci=this.titleSize.w}else{if(cl.h-this.titleSize.h<this.getWidgetOffset()){this.cpOrientation='horizontal'}else{this.cpOrientation='vertical'}cj=ss.Int32.div(this.titleSize.h,2)}}if(this.cpOrientation==='horizontal'){if(this.show_toggle){cm-=this.TOGGLE_WIDTH_OFFSET}cn=(this.show_dropdown?this.BUTTONS_HEIGHT:this.SLIDER_HEIGHT)}else{cn=(this.show_slider?this.SLIDER_HEIGHT:0);cn+=(this.show_dropdown?this.BUTTONS_HEIGHT:0);ck=(this.show_toggle?ss.Int32.div(this.TOGGLE_HEIGHT,2):0)}this.innerWrapper.isHorizontal=this.cpOrientation==='horizontal';dojo.marginBox(this.innerWrapper.domNode,ss.mkdict(['w',cm,'h',cn]));this.innerWrapper.resize();var co=dojo.marginBox(this.sliderPane.domNode);if(ss.isValue(this._horizontalRule)&&co.w>0){dojo.marginBox(this._horizontalRule.domNode,ss.mkdict(['w',co.w]));if(this.pages.length*2>co.w){this._horizontalRule.domNode.style.display='none'}else{this._horizontalRule.domNode.style.display=''}}var cp=Math.min(ss.Int32.div(cl.h-cn,2)-cj-ck,3);var cq=cp+2*cj;$(this.innerWrapper.domNode).css(ss.mkdict(['top',Math.max(cq,0)+'px','position','absolute','left',ci+ss.Int32.div(this.DOM_OFFSET,2)+'px']));if(this.cpOrientation==='vertical'){$(this.buttonsContainer.domNode).css(ss.mkdict(['height',this.ONLY_BUTTONS+'px','position','relative','top','','left','','padding','0 0 2px 0']));this.buttonsContainer.resize();$(this.sliderPane.domNode).css(ss.mkdict(['height',this.SLIDER_HEIGHT+'px','position','relative','top','','left','']));$(this._checkboxPane.domNode).css(ss.mkdict(['width',Math.max(cl.w-1,0)+'px','top',Math.max(cq,0)+cn+cp+'px','position','absolute','left',ci+'px']))}else{dojo.marginBox(this.sliderPane.domNode,ss.mkdict(['w',co.w-this.WIDGET_SPACE]));if(ss.isValue(this._horizontalRule)){dojo.marginBox(this._horizontalRule.domNode,ss.mkdict(['w',co.w-this.WIDGET_SPACE-this.RULE_OFFSET]))}var cr=dojo.marginBox(this._dropdown.domNode);dojo.marginBox(this._dropdown.domNode,ss.mkdict(['w',cr.w-this.WIDGET_SPACE]));dojo.marginBox(this._rightBtn.domNode,ss.mkdict(['l',cr.l+cr.w-this.WIDGET_SPACE]));$(this.buttonsContainer.domNode).css(ss.mkdict(['height',this.ONLY_BUTTONS+'px','position','','top','','left','','padding','0 0 2px 0']));this.buttonsContainer.resize();$(this.sliderPane.domNode).css(ss.mkdict(['height',this.SLIDER_HEIGHT+'px','position','','top','','left',ss.Int32.div(cm+this.DOM_OFFSET,2)+'px']));$(this._checkboxPane.domNode).css(ss.mkdict(['top',Math.max(cq,0)+'px','position','absolute','left',ci+cm+ss.Int32.div(this.DOM_OFFSET,2)+'px']))}var cs=parseInt($(this._dropdown.domNode).css('width'))-24;dojo.marginBox(this._dropdown.containerNode,ss.mkdict(['w',cs]))},getWidgetOffset:function(){var ch=(this.show_dropdown?this.BUTTONS_HEIGHT:0);ch+=(this.show_slider?this.SLIDER_HEIGHT:0);ch+=(this.show_toggle?this.TOGGLE_HEIGHT:0);return ch},postMixInProperties:function(){this.display_dropdown=(this.show_dropdown?'block':'none');this.display_slider=(this.show_slider?'block':'none');this.display_toggle=(this.show_toggle?'block':'none');var ch=this.pages.length;this.maximum=this.$5();this.discrete_values=ch;this.show_ruler=(this.show_slider?'block':'none');this.ruler_count=ch;this.popupClass=((ch>this.SCROLL_PAGES)?'cpPopupEx':'cpPopup');this.cpOrientation=((this.cpHeight<this.getWidgetOffset())?'horizontal':'vertical')},postCreate:function(){this.inherited(arguments);this.timestamp=(new Date).getTime();if(!this.show_dropdown){this.innerWrapper.removeChild(this.buttonsContainer)}if(!this.show_slider){this.innerWrapper.removeChild(this.sliderPane)}if(this.show_toggle&&'attr'in this._showHistoryCb){this._showHistoryCb.attr('checked',this.enable)}},$4:function(ch,ci){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$2(ch,ci)}else{this.$1();this.requestTimeout=window.setTimeout(ss.mkdel(this,function(){this.$2(ch,ci)}),500)}},$1:function(){this.requestTimeout=tab.MiscUtil.clearTimeout(this.requestTimeout)},$0:function(){this.rebuildLayoutTimeout=tab.MiscUtil.clearTimeout(this.rebuildLayoutTimeout)},$2:function(ch,ci){this.$1();if(this.isDashboard){tab.PageServerCommands.syncedChangePage(this.pageViewModel.get_pageModel(),this.pageViewModel.get_visualId(),this.zid,ch)}else{tab.PageServerCommands.changePage(ch,this.pageViewModel.get_visualId())}},destroy:function(ch){this.$1();this.$0();this.inherited(arguments)},updateProperties:function(ch){this.sheetid=ch.sheetid;this.zid=ch.zid;this.enable=ch.enable;this.show_slider=ch.show_slider;this.show_toggle=ch.show_toggle;this.show_dropdown=ch.show_dropdown;this.current_page=ch.current_page;this.pages=ch.pages;this.session=ch.session;this.lTitle=ch.lTitle;this.titleHtml=ch.titleHtml;this.zoneTitleHeight=ch.zoneTitleHeight;this.zoneTitleWidth=ch.zoneTitleWidth;this.isDashboard=ch.isDashboard;this.pageViewModel=ch.pageViewModel},setTitle:function(){this._titlePane.innerHTML=this.titleHtml;this.setTitleSize()},setTitleSize:function(){var ch=dojo.marginBox(this._titlePane);if(this.zoneTitleWidth===0){ch.w=dojo.marginBox(this.containerNode).w}else{ch.w=this.zoneTitleWidth;dojo.marginBox(this._titlePane,ch)}if(this.zoneTitleHeight===0&&this.get_showTitle()){ch.h=dojo.marginBox(this.containerNode).h}else{ch.h=this.zoneTitleHeight}this.titleSize=ch;$(this._titlePane).css(ss.mkdict(['height',this.titleSize.h+'px']));this.layout(null);tableau.util.setupTitleEllipsis($(this._titlePane))},refreshLayout:function(){this.refreshed=false;var ch=false;var ci=ss.mkdel(this,function(){this.refreshed=true;this.refreshWidget(this.current_page)});if(this.show_dropdown){var cj=this.pages.length;var ck=false;if(cj!==this._dropdown.options.length){ck=true}else{for(var cl=0;cl<cj;cl++){var cm=this._dropdown.options[cl]['label'];if(!ss.referenceEquals(this.pages[cl],cm)){ck=true;break}}}if(ck){this.$0();ch=true;this._dropdown.options=[];this.rebuildLayoutTimeout=window.setTimeout(ss.mkdel(this,function(){var co=[];for(var cp=0,cq=this.pages.length;cp<cq;cp++){co.push(ss.mkdict(['label',this.pages[cp],'value',cp.toString(10),'selected',cp===this.current_page]))}this._dropdown.addOption(co);this._dropdown.startup();ci()}),1);this._dropdown.popupExtraClass=((this.pages.length>this.SCROLL_PAGES)?'cpPopupEx':'cpPopup')}else{this._dropdown.setValue(this.current_page)}}if(this.show_slider){if(ss.isValue(this._horizontalRule)){this._horizontalRule.destroy(false);this._horizontalRule=null}this._slider.maximum=this.$5();this._slider.discreteValues=this.pages.length;dijit.setWaiState(this._slider.focusNode,'valuemax',this.pages.length);if(this.pages.length<1200){var cn=ss.mkdict(['style','width:100%; height:3px; margin-left:4px; margin-right:4px;','count',this.pages.length]);this._horizontalRule=new dijit.form.HorizontalRule(cn,this._horizontalRuleNode);this._horizontalRule.placeAt(this.sliderPane.domNode,2);this._horizontalRule.startup()}this._slider.startup()}this._showHistoryCb.attr('value',this.enable);this.setTitle();if(!ch){ci()}},refreshWidget:function(ch){this.updating=true;if(this.show_dropdown&&ss.isValue(this._dropdown)){this._dropdown.setValue(ch);var ci=!this.$3(ch);var cj=ch===0;this._rightBtn.setAttribute('disabled',ci);this._rightBtn.attr('iconClass','dijitIcon cpRightArrow'+(ci?'Grey':'Black'));this._leftBtn.setAttribute('disabled',cj);this._leftBtn.attr('iconClass','dijitIcon cpLeftArrow'+(cj?'Grey':'Black'))}if(this.show_slider&&ss.isValue(this._slider)){this._slider.setValue(ch)}if('attr'in this._showHistoryCb){var ck=this.pageViewModel.get_isHistoryToggleInteractionDisabled()||this.pages.length===0;this._showHistoryCb.attr('disabled',ck)}this.updating=false},prevPage:function(ch){if(this.current_page===0){return}this.$4(this.current_page-1,this.current_page);if(!tab.FeatureFlags.isEnabled('PageCardImprovements')){this.refreshWidget(this.current_page-1)}},nextPage:function(ch){if(!this.$3(this.current_page)){return}this.$4(this.current_page+1,this.current_page);if(!tab.FeatureFlags.isEnabled('PageCardImprovements')){this.refreshWidget(this.current_page+1)}},onCheckboxChange:function(){if(!this.refreshed){return}this.enable=!this.enable;tab.PageServerCommands.toggleTrails(this.pageViewModel.get_visualId())},onSelection:function(ch,ci){if(this.updating){return}var cj=parseInt(ch.toString());cj=(isNaN(cj)?0:cj);if(cj===this.current_page||!this._started||!this.refreshed){return}this.$2(cj,this.current_page);this.refreshWidget(cj)},onSliderChange:function(ch){if(this.updating){return}var ci=parseInt(ch);if(ci===this.current_page||!this.refreshed){return}this.$4(ci,this.current_page);this.refreshWidget(ci)},destroyRecursiveShim$1:function(){this.destroyRecursive()},updatePropertiesShim:function(ch){this.updateProperties(ch)},refreshLayoutShim:function(){this.refreshLayout()}},Object,[tab.ILegacyWidgetShim,tab.ICurrentPagePanelWidgetShim]);ss.initClass(be,a,{updateFilterProperties:function(ch){this.titleHTML=ch.titleHTML;this.format=ch.format;this.backgroundColor=ch.backgroundColor},hideEmptyTitlebar:function(){return ss.isNullOrEmptyString(this.titleHTML)},updateTitleBar:function(){this.domTitleBar.innerHTML=this.titleHTML;tab.FormattingConverters.cleanUpFontFamilyStyles($(this.domTitleBar))},resetTitleSize:function(){if(ss.isValue(this.domTitleBar)){$(this.domTitleBar).css({height:'auto',width:'auto'})}}},Object);ss.initClass(w,a,{setRangeType:function(ch,ci){var cj,ck;var cl;switch(ch){case'curr':{cj=0;ck=0;cl=true;break}case'todate':{cj=0;ck=0;cl=false;break}case'last':{cj=-1;ck=-1;cl=true;break}case'next':{cj=1;ck=1;cl=true;break}case'lastn':{cj=1-ci;ck=0;cl=true;break}case'nextn':{cj=0;ck=ci-1;cl=true;break}default:{return}}this.firstPeriod=cj;this.lastPeriod=ck;this.isFutureIncluded=cl},getRangeType:function(){var ch=this.isFutureIncluded;var ci=this.firstPeriod;var cj=this.lastPeriod;var ck;if(ci===0&&cj===0&&ch){ck='curr'}else if(ci===0&&cj===0&&!ch){ck='todate'}else if(ci===-1&&cj===-1&&ch){ck='last'}else if(ci===1&&cj===1&&ch){ck='next'}else if(ci<0&&cj===0&&ch){ck='lastn'}else if(ci===0&&cj>0&&ch){ck='nextn'}else if(ci>0&&cj>0&&!ch){ck='invalid'}else if(ci>cj){ck='invalid'}else if(ci===cj){ck='other'}else{ck='othern'}return ck},adjustLastDate:function(ch){var ci=null;switch(this.periodType){case'year':case'quarter':case'month':case'week':case'day':{ci=new Date(ch.getFullYear(),ch.getMonth(),ch.getDate());ci=new Date(ci.getTime()-tab.DateUtil.oneSecond);break}case'hour':case'minute':case'second':{ci=new Date(ch.getTime()-tab.DateUtil.oneSecond);break}}return ci},getPeriods:function(){return this.lastPeriod-this.firstPeriod+1},roundToPeriod:function(ch,ci,cj){var ck=ch.getMonth();var cl=ch.getFullYear();switch(this.periodType){case'year':{if(ck<ci){cl-=1}return new Date(cl,ci,1)}case'quarter':{var cm;if(ck>=ci){cm=Math.floor((ck-ci)/3);ck=ci+cm*3}else{cm=Math.floor((ck+12-ci)/3);var cn=(ci+cm*3)%12;if(cn===0){cn=12}if(cn>ck){--cl}ck=cn}return new Date(cl,ck,1)}case'month':{return new Date(cl,ck,1)}case'week':{var co=(7+(1+ch.getDay())-cj)%7;var cp=new Date(cl,ck,ch.getDate(),12);return new Date(cp.getTime()-co*tab.DateUtil.oneDay)}case'day':{return new Date(cl,ck,ch.getDate())}case'hour':{return new Date(cl,ck,ch.getDate(),ch.getHours())}case'minute':{return new Date(cl,ck,ch.getDate(),ch.getHours(),ch.getMinutes())}case'second':{return new Date(cl,ck,ch.getDate(),ch.getHours(),ch.getMinutes(),ch.getSeconds())}}return null},getEffectiveAnchor:function(){return(ss.staticEquals(this.anchorDateTime,null)?new Date:this.anchorDateTime)},getAnchorPeriod:function(ch){return this.roundToPeriod(ch,this.fy,this.startOfWeek)},evaluateFirstDate:function(ch){return tab.DateUtil.adjustDateByPeriod(ch,this.periodType,this.firstPeriod)},evaluateLastDate:function(ch,ci){var cj=tab.DateUtil.adjustDateByPeriod(ci,this.periodType,this.lastPeriod+1);var ck=this.adjustLastDate(cj);if(!this.isFutureIncluded){ck=new Date(Math.min(ch.getTime(),ck.getTime()))}return ck},setPYear:function(){this.setPeriod('year')},setPQuarter:function(){this.setPeriod('quarter')},setPMonth:function(){this.setPeriod('month')},setPWeek:function(){this.setPeriod('week')},setPDay:function(){this.setPeriod('day')},setPHour:function(){this.setPeriod('hour')},setPMinute:function(){this.setPeriod('minute')},setPSecond:function(){this.setPeriod('second')},onTypingLast:function(){this.onTyping(this.inputLastn)},onTypingNext:function(){this.onTyping(this.inputNextn)},setRLast:function(){this.setRange('last')},setRCurr:function(){this.setRange('curr')},setRNext:function(){this.setRange('next')},setRLastn:function(){this.setRange('lastn',parseInt(this.inputLastn.value))},setRNextn:function(){this.setRange('nextn',parseInt(this.inputNextn.value))},setRTodate:function(){this.setRange('todate')},setRange:function(ch,ci){ci=ci||0;if(ch!==this.rangeType){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.rangeType=ch;this.setRangeType(ch,ci);this._applyTimer=window.setTimeout(ss.mkdel(this,this.applyChanges),this.UPDATE_DELAY)}this.setRangeUI(ch,ci);this.setPreviewUI()},applyChanges:null,setRangeUI:null,setPeriod:function(ch){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.setPeriodUI(ch);if(ch!==this.periodType){this.periodType=ch;this.updateVisibilityOfDayToAnchor();this.setPreviewUI();this._applyTimer=window.setTimeout(ss.mkdel(this,this.applyChanges),this.UPDATE_DELAY*2)}},updateVisibilityOfDayToAnchor:function(){if(this.oFilter.noTime&&this.periodType==='day'){this.radioTodate.style.display='none';this.textTodate.style.display='none';$(this.textTodate).parent().find('.fakeRadio').css('display','none');if(this.rangeType==='todate'){this.setRCurr()}}else{this.radioTodate.style.display='';this.textTodate.style.display='';$(this.textTodate).parent().find('.fakeRadio').css('display','')}},onTyping:function(ch){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);ch.value=ch.value.replace(new RegExp('/[^0-9]/g'),'');if(ch.value.length>0&&parseInt(ch.value)!==this.oFilter.rangeN){this.rangeN=parseInt(ch.value);this.rangeType=(ss.referenceEquals(ch,this.inputLastn)?'lastn':'nextn');this.setRangeType(this.rangeType,this.rangeN);this._applyTimer=window.setTimeout(ss.mkdel(this,this.applyChanges),this.UPDATE_DELAY)}this.setPreviewUI()},updateRangeButtons:null,setPeriodUI:function(ch){var ci;var cj;var ck;this.updateRangeButtons(ch);if(ss.staticEquals(this.anchorDateTime,null)){ck=bf.get_nonAnchoredDescriptions()[ch]}else{ck=bf.get_anchoredDescriptions()[ch]}this.textLast.innerHTML=ck['last'];this.textCurr.innerHTML=ck['curr'];this.textNext.innerHTML=ck['next'];var cl=ck['lastn'].split('%');this.textLastn1.innerHTML=cl[0];this.textLastn2.innerHTML=cl[1];var cm=ck['nextn'].split('%');this.textNextn1.innerHTML=cm[0];this.textNextn2.innerHTML=cm[1];this.textTodate.innerHTML=ck['todate'];ci=parseFloat($(this.textLastn1).css('width'));cj=parseFloat($(this.textNextn1).css('width'));if(ci>cj){this.textNextn1.style.width=ci+'px'}else if(ci<cj){this.textLastn1.style.width=cj+'px'}},$0:function(){var ch=null;if(ss.isValue(this.oFilter)&&ss.isValue(this.oFilter.default_format)){ch=this.oFilter.default_format}return((ss.isValue(ch)&&ch.length===3)?ch[0]:'*M/d/yyyy')},$1:function(){var ch=null;if(ss.isValue(this.oFilter)&&ss.isValue(this.oFilter.default_format)){ch=this.oFilter.default_format}return((ss.isValue(ch)&&ch.length===3)?ch[1].substr(1):'hh:nn:ss ampm')},$2:function(){var ch=null;if(ss.isValue(this.oFilter)&&ss.isValue(this.oFilter.default_format)){ch=this.oFilter.default_format}return((ss.isValue(ch)&&ch.length===3)?ch[2]:'en_US')},setPreviewUI:function(){this.domPreview.innerHTML=this.getPreviewMessage()},getPreviewMessage:function(){var ch=this.getEffectiveAnchor();var ci=this.$0();var cj=this.$2();var ck=this.$1();var cl;var cm=this.getAnchorPeriod(ch);var cn=this.evaluateFirstDate(cm);var co=ci+' '+ck;var cp=this.evaluateLastDate(ch,cm);if(this.isRangeValid(cn,cp)){var cq=new Date(Date.UTC(cn.getFullYear(),cn.getMonth(),cn.getDate(),cn.getHours(),cn.getMinutes(),cn.getSeconds()));var cr=new Date(Date.UTC(cp.getFullYear(),cp.getMonth(),cp.getDate(),cp.getHours(),cp.getMinutes(),cp.getSeconds()));var cs=tableau.format.formatCustomJSDateTime(cq,ci,0,null,cj,null,null,null);var ct=tableau.format.formatCustomJSDateTime(cr,ci,0,null,cj,null,null,null);if(this.periodType==='hour'||this.periodType==='minute'||this.periodType==='second'||this.periodType==='day'&&!this.isFutureIncluded){var cu=co;var cv=(ss.referenceEquals(cs,ct)?ck:co);cs=tableau.format.formatCustomJSDateTime(cq,cu,0,null,cj,null,null,null);ct=tableau.format.formatCustomJSDateTime(cr,cv,0,null,cj,null,null,null)}cl=tab.Strings.RelDateFilterPreview(cs,ct)}else{cl='Invalid relative date';this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer)}return cl},isRangeValid:function(ch,ci){var cj=true;if(isNaN(ch.getTime())||isNaN(ci.getTime())){cj=false}else if(this.firstPeriod>this.lastPeriod||this.firstPeriod>0&&!this.isFutureIncluded){cj=false}else if(!!!ch||!!!ci){cj=false}else if(ch<this.lowestAllowedDate||ci>this.highestAllowedDate){cj=false}return cj}},be);ss.initClass(x,a,{});ss.initClass(y,a,{});ss.initClass(z,a,{get_tileIndex:function(){return this.$2},get_range:function(){return this.$0},get_rangeType:function(){return this.$1}});ss.initInterface(L,a,{add_contentFetched:null,remove_contentFetched:null,destroy:null,fetch:null,isTilePending:null});ss.initClass(A,a,{add_contentFetched:function(ch){this.$1$1=ss.delegateCombine(this.$1$1,ch)},remove_contentFetched:function(ch){this.$1$1=ss.delegateRemove(this.$1$1,ch)},destroy:function(){},fetch:function(ch){for(var ci=0;ci<ch.length;++ci){var cj=ch[ci];if(ss.contains(this.$7,cj.get_tileIndex())){continue}this.$7.push(cj.get_tileIndex());this.$8.push(cj)}while(this.$8.length>this.$6){var ck=this.$8[0];ss.remove(this.$7,ck.get_tileIndex());ss.remove(this.$8,ck)}this.$2()},isTilePending:function(ch){return ss.contains(this.$7,ch)},$0:function(ch){var ci=ss.mkdel(this,function(){this.$1(ch)});return ci},$1:function(ch){var ci=ss.mkdel(this,function(ck){this.$5=false;ss.remove(this.$7,ch.get_tileIndex());var cl=new s(ch.get_tileIndex(),ch.get_range(),ck);this.$1$1(this,cl);this.$2()});var cj=ss.mkdel(this,function(ck){this.$5=false;ss.remove(this.$7,ch.get_tileIndex());this.$2()});this.$9.getFilterItems(this.$4,this.$3,ch.get_range(),ci,cj)},$2:function(){if(this.$8.length>0&&!this.$5){this.$5=true;var ch=this.$8.length-1;var ci=this.$8[ch];ss.removeAt(this.$8,ch);var cj=this.$0(ci);window.setTimeout(cj,0)}}},null,[L]);ss.initClass(bO,a,{get_domXButton:function(){return this.domXButton},get_isVisible:function(){return this.isVisible},set_isVisible:function(ch){this.isVisible=ch},get_qf:function(){return this.qf},set_qf:function(ch){this.qf=ch},get_dijitDomNode:function(){return this.domNode},get_oResults:function(){return this.oResults},set_oResults:function(ch){this.oResults=ch},get_applyDelay:null,get_dijitClassName:function(){return this.declaredClass},postMixInProperties:function(){this.inherited(arguments);this.busy_gif_url=tableau.util.assetUrl('/images/busy.gif')},postCreate:function(){this._isTypeInList=!!this.get_qf()&&this.get_qf().get_isTypeInList()},resize:function(ch){dojo.marginBox(this.domNode,ch);this.layout(null)},onQueryBoxKeyDown:function(ch){var ci=this.getOnQueryBoxKeyDownBehavior(ch);if(!!ci){if(ci.stopEvent){spiff.EventUtil.stopEvent(ch)}if(!!ci.functionToCall){window.setTimeout(ci.functionToCall,10)}}},getOnQueryBoxKeyDownBehavior:function(ch){var ci=new Object;ci.functionToCall=null;ci.stopEvent=false;var cj=ci;switch(ch.keyCode){case 13:{cj.stopEvent=true;break}case 27:{this.onXButtonClick(null);cj.stopEvent=true;break}case 16:{cj.stopEvent=true;break}case 17:{cj.stopEvent=true;break}default:{cj.functionToCall=ss.mkdel(this,this.handleQueryTextChanged);break}}return cj},handleQueryTextChanged:function(ch){this.$0()},onXButtonClick:function(ch){if(!this._isTypeInList){var ci=this.getQuery();this.hideUI();if(ci!==''){this.showUI$1()}}else{this.clearSearch(false,false)}},onButtonHover:function(ch){$(ch.target).addClass('Hover')},onButtonUnhover:function(ch){$(ch.target).removeClass('Hover')},toggleUI:function(){if(this.get_isVisible()){this.hideUI()}else{this.showUI$1()}},applyChangesByChangelist:function(ch){throw new ss.NotSupportedException},isShowingResults:function(){return this.isVisible&&this.resultCount>0},focusQueryBox:null,blurQueryBox:null,getQuery:null,setQuery:null,updateSearch:null,notifyParentFilterOfChanged:function(ch,ci,cj){},showUI$1:function(){this.showUI(false)},showUI:function(ch){if(this.get_isVisible()){return}$(this.domNode).css('display','block');this.isVisible=true;if(!ch){this.get_qf().layout(null)}this.focusQueryBox()},hideUI:function(){if(!this.get_isVisible()){return}this.clearSearch(false,true);$(this.domNode).css('display','none');this.blurQueryBox();this.isVisible=false;this.get_qf().layout(null)},clearSearch:function(ch,ci){if(!ch){this.setQuery('');this.$0()}this.resultCount=0;this.get_qf().layout(null);if(!ci){this.focusQueryBox()}},doCategoricalSearch:function(ch){var ci=this.get_qf().get_oFilter();var cj=this.makeUniqueSearchItemIdPrefix();var ck=ss.mkdel(this,function(cl,cm,cn){return G.filterItem.getSearchResultHtml(this.get_qf(),cl,cj,cn)});return bk.findMatches(ch,ci,ss.mkdel(this,this.formatTuple),ck)},$0:function(){if(ss.isNullOrEmptyString(this.getQuery())&&!this._isTypeInList){this.get_domXButton().title=this.XBUTTON_CLOSE_TOOLTIP}else{this.get_domXButton().title=this.XBUTTON_CLEAR_TOOLTIP}},formatTuple:function(ch){return tableau.format.formatTupleDisplayName(ch,true,this.get_qf().get_oFilter().role)},isSingleSelect:function(){return this.get_qf().isSingleSelect()},makeUniqueSearchItemIdPrefix:function(){return G.getBaseItemName(this.get_qf(),'SI')},currentDomain:function(){var ch=tableau.types.QFDomain.QFD_ALL;if(!!this.get_qf().get_attributes()){ch=this.get_qf().get_attributes()['values']}return ch},doAjaxRemoteSearch:function(ch,ci,cj,ck,cl){return this.get_qf().get_session().searchFilter(this.get_qf().get_field(),ch,ci,cj,this.currentDomain(),ck,cl)}},Object);ss.initClass(B,a,{get_noMatchHtml:function(){return this.NO_MATCHES},$5:function(){return this.get_qf()},setStyle:function(ch){this.$8=ch;var ci=$(this.domNode);if(this.$8===1){ci.addClass('FilteringDropdown');ci.addClass('SearchCleared')}else if(this.$8===2){ci.addClass('FilteringInline')}},get_applyDelay:function(){return 0},startupAndAppendTo:function(ch){ch.append(this.domNode);this.startupNoAppend()},startupNoAppend:function(){this.startup()},layout:function(ch){},hideUI:function(){this.domNode.style.display='none';bO.prototype.hideUI.call(this)},showUI:function(ch){bO.prototype.showUI.call(this,ch);this.focusQueryBox()},focusQueryBox:function(){this.domQueryBox.focus()},blurQueryBox:function(){this.domQueryBox.blur()},getQuery:function(){return this.domQueryBox.value},setQuery:function(ch){this.domQueryBox.value=ch},onXButtonClick:function(ch){if(this.$8===1){this.clearSearch(false,false);$(this.get_domXButton()).removeClass('Hover')}else{bO.prototype.onXButtonClick.call(this,ch)}},updateSearch:function(){if(this.get_isVisible()){this.searchWithQuery(this.getQuery())}},searchWithQuery:function(ch){if(ch.length<=0){this.clearSearch(false,false)}else if(this.get_qf().get_oFilter().isTiled){this.doRemoteSearch(ch,true)}else{this.$2(this.doCategoricalSearch(ch))}},doRemoteSearch:function(ch,ci){this.doAjaxRemoteSearch(ch,this.$6,ci,ss.mkdel(this,this.$2),ss.mkdel(this,this.$3))},getOnQueryBoxKeyDownBehavior:function(ch){var ci;ci=this.inherited(arguments);switch(ch.keyCode){case 9:{ci.functionToCall=null;ci.stopEvent=true;break}case 37:case 39:case 38:{ci.functionToCall=null;ci.stopEvent=false;break}case 40:{var cj=$(this.domNode.parentElement);cj.find('.FIItem').eq(0).focus();ci.functionToCall=null;ci.stopEvent=true;break}case 27:{if(tab.BrowserSupport.get_isFF()){ci.functionToCall=ss.mkdel(this,this.onXButtonClick)}break}case 13:{ci.stopEvent=true;ci.functionToCall=ss.mkdel(this,this.$1);break}}return ci},clearSearch:function(ch,ci){if(this.resultCount===-1){return}$(this.domNode).addClass('SearchCleared');bO.prototype.clearSearch.call(this,ch,ci);this.$5().filterBySearchResults(null);this.resultCount=-1},handleQueryTextChanged:function(ch){var ci=500;$(this.domNode).removeClass('SearchCleared');bO.prototype.handleQueryTextChanged.call(this,ch);switch(this.domQueryBox.value.length){case 1:{ci=Math.round(ci*1.5);break}case 2:{ci=Math.round(ci*1.25);break}}this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,this.updateSearch),ci)},$1:function(ch){this.updateSearch()},$2:function(ch){if(ss.isValue(ch.length)){this.resultCount=ch.length}else if(ss.isValue(ch.tuples)){this.resultCount=ch.tuples.length;ch=this.$4(ch)}this.$5().filterBySearchResults(ch);if(!$(this.domQueryBox).is(':focus')){this.domNode.focus();this.focusQueryBox()}},$4:function(ch){var ci=this.makeUniqueSearchItemIdPrefix();var cj=ch.tuples;var ck=ch.indices;var cl=[];for(var cm=0;cm<cj.length;cm++){cl.push(G.filterItem.getSearchResultHtml(this.get_qf(),cj[cm],ci,ck[cm]))}return cl},$3:function(ch){}},bO);ss.initEnum(C,a,{invalid:0,dropdown:1,inline:2});ss.initClass(D,a,{getSearchResultHtml:null,formatChecklistFilterItemHtml:null,getCheckHtml:null,formatRadiolistFilterItemHtml:null,getRadioHtml:null,formatDropdownListFilterItemHtml:null,getDropdownHtml:null,getDropdownNoneHtml:null,getTypeInHtml:null,getSelectHtml:function(ch,ci,cj,ck){var cl=['<option value="','','" ','','>','','</option>'];cl[1]=tableau.format.escapeHTML(ch);cl[3]=((cj&&!ck)?'SELECTED':'');cl[5]=tableau.format.escapeHTML(ci);return cl.join('')},getCssNode:null,isPending:null,togglePendingState:null,setChecked:null,isChecked:null,syncCssToCheckState:null,setSelected:null,isSelected:null,isTiled:function(ch){var ci=ch.parentNode;if(ss.isValue(ci)){return $(ci).hasClass('tile')}return false},getNodeFromEvent:null,getIndex:null,isTypeInListItem:null,isAllItem:null,getCheckboxOrRadio:function(ch){var ci=tableau.util.findElementByTagName(ch,'input',ss.mkdict(['type','checkbox']));if(ss.isValue(ci)){return ci}return tableau.util.findElementByTagName(ch,'input',ss.mkdict(['type','radio']))}});ss.initClass(E,a,{$0:function(ch,ci,cj,ck,cl){var cm=["<div tabindex='0' class=\"",'','" id="','','"><div class="facet">','','</div><div class="facetOverflow"><a title="','','">','','</a></div></div>'];cm[1]='FIItem FISimpleDropdownItem'+(cl?' FINone':'');cm[3]=ch;cm[7]=cm[9]=ci;cm[5]=(ck?cj:'');return cm.join('')},getSearchResultHtml:function(ch,ci,cj,ck){switch(ch.get_mode()){case'checklist':case'checkdropdown':case'typeinlist':{return this.formatChecklistFilterItemHtml(ch,ci,cj,ck)}case'radiolist':{return this.formatRadiolistFilterItemHtml(ch,ci,cj,ck)}case'dropdown':{return this.formatDropdownListFilterItemHtml(ch,ci,cj,ck)}}return''},formatChecklistFilterItemHtml:function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=G.shouldCheckFilterItemMultiValue(ci,ch);var cn=tableau.format.formatTupleDisplayName(ci,true,ch.get_oFilter().role);var co=tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role);var cp=G.showFacets(ch);var cq=ch.get_viewModel().get_filterType()!=='Hierarchical'&&ss.isValue(ch.get_modeContents().pendingManager)&&ch.get_modeContents().pendingManager.isPending(ci,ck);return this.getCheckHtml(cl,cn,cm,co,cp,cq)},getCheckHtml:function(ch,ci,cj,ck,cl,cm){var cn=['<div role="checkbox" tabindex="-1"',' class="','" id="','','"><div class="facet">','','</div><div class="facetOverflow"><input tabindex="-1" type="checkbox" class="FICheckRadio" name="','','" ','','><div class="fakeCheckBox"></div><a class="FIText" title="','','">','','</a></div></div>'];var co=(cm?'FIItem FIPending':'FIItem');cn[1]+=co;cn[3]=cn[7]=tableau.format.escapeHTML(ch);cn[9]='';cn[11]=cn[13]=tableau.format.escapeHTML(ci);cn[5]=(cl?ck:'');if(cj&&!cm||!cj&&cm){cn[0]+=' aria-checked="true" ';cn[1]+=' FIChecked';cn[9]+=' checked="checked" '}else{cn[0]+=' aria-checked="false" '}return cn.join('')},formatRadiolistFilterItemHtml:function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=G.shouldCheckFilterItemSingleValue(ci,ch);var cn=tableau.format.formatTupleDisplayName(ci,true,ch.get_oFilter().role);var co=tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role);var cp=G.showFacets(ch);return this.getRadioHtml(cl,cj,cn,cm,co,cp)},getRadioHtml:function(ch,ci,cj,ck,cl,cm){var cn=['<div role="radio" tabindex="-1"',' class="','" id="','','"><div class="facet">','','</div><div class="facetOverflow"><input tabindex="-1" type="radio" class="FICheckRadio" name="','','" ','','><div class="fakeRadio"></div><a class="FIText" title="','','">','','</a></div></div>'];cn[1]+='FIItem';cn[3]=tableau.format.escapeHTML(ch);cn[7]=tableau.format.escapeHTML(ci);cn[9]='';cn[11]=cn[13]=tableau.format.escapeHTML(cj);cn[5]=(cm?cl:'');if(ck){cn[0]+=' aria-checked="true" ';cn[1]+=' FIChecked';cn[9]+=' checked="checked" '}else{cn[0]+=' aria-checked="false" '}return cn.join('')},formatDropdownListFilterItemHtml:function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=tableau.format.formatTupleDisplayName(ci,false,ch.get_oFilter().role);var cn=tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role);var co=G.showFacets(ch);return this.getDropdownHtml(cl,cm,cn,co)},getDropdownNoneHtml:function(ch,ci,cj,ck){return this.$0(ch,ci,cj,ck,true)},getDropdownHtml:function(ch,ci,cj,ck){return this.$0(ch,ci,cj,ck,false)},getTypeInHtml:function(ch,ci){var cj=['<div tabindex="0" class="FIItem FITypeInItem FIChecked" id="','','" title="','','">','','</div>'];cj[1]=tableau.format.escapeHTML(ch);cj[3]=cj[5]=tableau.format.escapeHTML(ci);return cj.join('')},getCssNode:function(ch){return G.getClassElement(ch,'FIItem')},isPending:function(ch){var ci=this.getCssNode(ch);return ss.isValue(ci)&&$(ci).hasClass('FIPending')},togglePendingState:function(ch){var ci=this.getCssNode(ch);$(ci).toggleClass('FIPending')},setChecked:function(ch,ci,cj){var ck=this.getCssNode(ch);if(ss.isValue(ck)){if(ci){$(ck).addClass('FIChecked')}else{$(ck).removeClass('FIChecked')}}var cl=this.getCheckboxOrRadio(ch);if(ss.isValue(cl)){cl.checked=ci===true}if(ss.isValue(cj)){cj.s=ci===true}return cj},isChecked:function(ch){var ci=this.getCssNode(ch);return ss.isValue(ci)&&$(ci).hasClass('FIChecked')},syncCssToCheckState:function(ch){var ci=this.getCheckboxOrRadio(ch);if(ss.isValue(ci)){this.setChecked(ch,ci.checked,null)}},setSelected:function(ch,ci){var cj=this.getCssNode(ch);if(ci){$(cj).addClass('FISelected')}else{$(cj).removeClass('FISelected')}},isSelected:function(ch){var ci=this.getCssNode(ch);return ss.isValue(ci)&&$(ci).hasClass('FISelected')},getNodeFromEvent:function(ch){if(ss.isNullOrUndefined(ch)||ss.isNullOrUndefined(ch.target)){return null}var ci=ch.target;while(ss.isValue(ci)&&ci.tagName!=='OPTION'&&!$(ci).hasClass('FIItem')){ci=ci.parentNode}return ci},getIndex:function(ch){return G.getIndexFromId(ch.id)},isTypeInListItem:function(ch){var ci=this.getCssNode(ch);return ss.isValue(ci)&&$(ci).hasClass('FITypeInItem')},isAllItem:function(ch){if(ss.isNullOrUndefined(ch)||this.isTypeInListItem(ch)){return false}return G.isAllItemId(ch.id)}},D);ss.initClass(F,a,{$0:function(ch,ci,cj,ck,cl){var cm='';if(ck){cm=cj}var cn=ss.htmlEncode(ci);return['<div class="FIMContainer FIMDropdown'+(cl?' FINone':'')+'" id="',ch,'"><div class="facet">',cm,'</div><span class="FIMCheckLabel tab-ctrl-formatted-fixedsize">',cn,'</span></div>'].join('')},getSearchResultHtml:function(ch,ci,cj,ck){switch(ch.get_mode()){case'checklist':case'checkdropdown':case'typeinlist':{return this.formatChecklistFilterItemHtml(ch,ci,cj,ck)}case'radiolist':{return this.formatRadiolistFilterItemHtml(ch,ci,cj,ck)}case'dropdown':{return this.formatDropdownListFilterItemHtml(ch,ci,cj,ck)}}return''},formatChecklistFilterItemHtml:function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=G.shouldCheckFilterItemMultiValue(ci,ch);var cn=tableau.format.formatTupleDisplayName(ci,false,ch.get_oFilter().role);var co=tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role);var cp=G.showFacets(ch);var cq=ss.isValue(ch.get_modeContents().pendingManager)&&ch.get_modeContents().pendingManager.isPending(ci,ck);return this.getCheckHtml(cl,cn,cm,co,cp,cq)},getCheckHtml:function(ch,ci,cj,ck,cl,cm){var cn='';var co=(cm?'FIMPending':'');var cp='';if(cj&&!cm||!cj&&cm){cn=' FIMChecked'}if(cl){cp=ck}return['<div class="FIMContainer '+co+' facetOverflow" id="',ch,'"><div class="facet">',cp,'</div><span class="FIMCheckMark',cn,'"></span><span class="FIMCheckLabel tab-ctrl-formatted-text',cn,'">',ci,'</span></div>'].join('')},formatRadiolistFilterItemHtml:function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=G.shouldCheckFilterItemSingleValue(ci,ch);var cn=tableau.format.formatTupleDisplayName(ci,false,ch.get_oFilter().role);var co=tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role);var cp=G.showFacets(ch);return this.getRadioHtml(cl,null,cn,cm,co,cp)},getRadioHtml:function(ch,ci,cj,ck,cl,cm){var cn='',co='';if(ck){cn=' FIMRadiolist FIMChecked'}if(cm){co=cl}return['<div class="FIMContainer facetOverflow" id="',ch,'"><div class="facet">',co,'</div><span class="FIMCheckMark',cn,'"></span><span class="FIMCheckLabel tab-ctrl-formatted-text',cn,'">',cj,'</span></div>'].join('')},formatDropdownListFilterItemHtml:function(ch,ci,cj,ck){var cl=G.getItemId(cj,ck);var cm=tableau.format.formatTupleDisplayName(ci,false,ch.get_oFilter().role);var cn=tableau.format.formatTupleDisplayFacet(ci,false,ch.get_oFilter().role);var co=G.showFacets(ch);return this.getDropdownHtml(cl,cm,cn,co)},getDropdownNoneHtml:function(ch,ci,cj,ck){return this.$0(ch,ci,cj,ck,true)},getDropdownHtml:function(ch,ci,cj,ck){return this.$0(ch,ci,cj,ck,false)},getTypeInHtml:function(ch,ci){return['<div class="FIMContainer FIMTypeIn" id="',ch,'"><span class="FIMCheckLabel tab-ctrl-formatted-text">',ci,'</span></div>'].join('')},getCssNode:function(ch){return G.getClassElement(ch,'FIMContainer')},setChecked:function(ch,ci,cj){var ck=$(ch).find('.FIMCheckMark');var cl=$(ch).find('.FIMCheckLabel');if(ss.isValue(ck)&&ss.isValue(cl)){if(ci){ck.addClass('FIMChecked');cl.addClass('FIMChecked')}else{ck.removeClass('FIMChecked');cl.removeClass('FIMChecked')}}if(ss.isValue(cj)){cj.s=ci===true}return cj},isChecked:function(ch){if(ss.isValue(ch)&&$(ch).hasClass('FIMContainer')){var ci=$(ch).find('.FIMCheckMark');return(ss.isValue(ci)?ci.hasClass('FIMChecked'):false)}return false},isPending:function(ch){if(ss.isValue(ch)){return $(ch).hasClass('FIMPending')}return false},togglePendingState:function(ch){$(ch).toggleClass('FIMPending')},syncCssToCheckState:function(ch){var ci=this.getCheckboxOrRadio(ch);if(ss.isValue(ci)){this.setChecked(ch,ci.checked)}},setSelected:function(ch,ci){var cj=this.getCssNode(ch);if(ci){$(cj).addClass('FIMSelected')}else{$(cj).removeClass('FIMSelected')}},isSelected:function(ch){var ci=this.getCssNode(ch);return $(ci).hasClass('FIMSelected')},getNodeFromEvent:function(ch){if(ss.isNullOrUndefined(ch)||ss.isNullOrUndefined(ch.target)){return null}var ci=ch.target;while(ss.isValue(ci)&&ci.tagName!=='OPTION'&&!$(ci).hasClass('FIMContainer')){ci=ci.parentNode}return ci},getIndex:function(ch){return G.getIndexFromId(ch.id)},isTypeInListItem:function(ch){var ci=this.getCssNode(ch);return $(ci).hasClass('FIMTypeIn')},isAllItem:function(ch){if(this.isTypeInListItem(ch)){return false}return G.isAllItemId(ch.id)}},D);ss.initClass(G,a,{});ss.initInterface(Q,a,{add_scrolled:null,remove_scrolled:null,destroy:null,setContent:null,getTileElement:null,getItemElement:null});ss.initClass(H,a,{add_scrolled:function(ch){this.$1$1=ss.delegateCombine(this.$1$1,ch)},remove_scrolled:function(ch){this.$1$1=ss.delegateRemove(this.$1$1,ch)},get_windowNode:function(){return this.$6},get_tileContainerNode:function(){return this.$4},destroy:function(){this.$6.off('scroll');this.$4.remove()},setContent:function(ch,ci){var cj=$(ci);this.$4.append(cj);this.$5[ch]=cj},getTileElement:function(ch){if(ch<0||ch>=this.$5.length){return null}return this.$5[ch].get(0)},getItemElement:function(ch,ci){var cj=this.getTileElement(ch);if(ss.isNullOrUndefined(cj)){return null}var ck=cj.children;if(ck.length<ci||ci<0){return null}return ck[ci]},$0:function(ch){var ci=(new Date).getTime();var cj=tab.DoubleUtil.roundToInt(this.$6.parent().offset().top)-tab.DoubleUtil.roundToInt(this.$4.offset().top);var ck=0;if(ss.isValue(this.$3)){var cl=Math.abs(this.$2-cj);var cm=ci-this.$1;ck=cl/Math.min(cm,1000)}var cn=new bM({x:0,y:cj});this.$2=cj;this.$1=ci;this.$3=cn;var co=ss.mkdel(this,function(){if(ss.referenceEquals(cn,this.$3)){this.$1$1(this,cn)}});if(ck>H.$0){window.setTimeout(co,100)}else{co()}}},null,[Q]);ss.initClass(I,a,{$5:function(){return this.quickFilterDisplayViewModel.get_quickFilterDisplayModel()},get_getFilterModeMatrix:function(){if(ss.isValue(this.$5())&&ss.isValue(this.$5().get_quickFilterModeMatrix())){return this.$5().get_quickFilterModeMatrix()}else{return null}},postCreate:function(){if(this.metricsOnly){return}},dispose:function(){this.requestSetAttributes=null;this.$6.dispose()},updateFilterProperties:function(ch){this.titleHTML=ch.titleHTML;this.attributes=ch.attributes;this.format=ch.format;this.layoutSession=ch.layoutSession;this.width=ch.width;this.textStyle=ch.textStyle;this.backgroundColor=ch.backgroundColor},destroy:function(){this.dispose();this.inherited(arguments)},makeQuantitativeFilter:function(ch){return new tableau.base.widget.LegacyQuantitativeQuickFilter(ch)},makeQuantitativeDateFilter:function(ch){return new tableau.base.widget.LegacyQuantitativeDateQuickFilter(ch)},makeHierarchicalFilter:function(ch){return new tableau.base.widget.LegacyHierarchicalQuickFilter(ch)},makeCategoricalFilter:function(ch){return new tableau.base.widget.LegacyCategoricalQuickFilter(ch)},makeRelativeDateFilter:function(ch){return new tableau.base.widget.LegacyRelativeDateQuickFilter(ch)},makeRelativeDatePickFilter:function(ch){return new tableau.base.widget.RelativeDatePickFilter(ch)},setupEventHandlers:function(){var ch=$(this.filter.domNode);this.$6.add$1(spiff.EventUtil.bindWithDispose(ch,'mouseenter',ss.mkdel(this,this.$2)));this.$6.add$1(spiff.EventUtil.bindWithDispose(ch,'mouseleave',ss.mkdel(this,this.$3)));var ci=ss.mkdel(this,function(ck){this.$4()});var cj=ss.mkdel(this,function(ck){window.setTimeout(ss.mkdel(this,function(){if(!tab.DomUtil.isAncestorOf(this.domNode,document.activeElement)){this.hideControls()}}))});this.domNode.addEventListener('focus',ci,true);this.domNode.addEventListener('blur',cj,true);this.$6.add(ss.mkdel(this,function(){this.domNode.removeEventListener('focus',ci,true);this.domNode.removeEventListener('blur',cj,true)}))},$1:function(ch){var ci=new Object;ci.presModel=this.$5().get_quickFilterDisplayPresModel();ci.backgroundColor=this.$5().get_zone().rPC.eBu;ci.textStyle=this.textStyle;ci.field=this.field;ci.oFilter=ch;ci.filterViewModel=this.quickFilterDisplayViewModel.get_filterTypeViewModel();ci.layoutSession=this.layoutSession;ci.zid=this.zid;ci.format=this.format;ci.attributes=this.attributes||{};ci.requestSetAttributes=this.requestSetAttributes;ci.titleH=this.$8;ci.titleW=this.$9;ci.titleHTML=this.titleHTML;ci.width=this.width;ci.getContextMenuCommands=ss.mkdel(this,function(){return this.getContextMenuCommands()});ci.showContextMenu=ss.mkdel(this,function(cj){if(ss.isNullOrUndefined(this.get_getFilterModeMatrix())){this.showContextMenu(cj)}else{this.showFilterPicker()}});if(ss.isValue(this.session)){ci.session=this.session}else{ci.metricsOnly=true}return ci},updateFilterState:function(ch){if(!ss.referenceEquals(this.field,tableau.format.formatQualifiedName(ch.name))){return}if(!!this.filter&&(!ss.referenceEquals(this.filter.oFilter.type,ch.type)||ch.type==='RD'&&ch.showRelDatePick!==this.filter.oFilter.showRelDatePick||ch.type==='C'&&!ss.referenceEquals(ch.mode,this.filter.oFilter.mode))){this.filter.destroy(false);this.filter=null}this.textStyle=this.quickFilterDisplayViewModel.get_quickFilterDisplayPresModel().mCc;var ci=this.$1(ch);if(ss.isNullOrUndefined(this.filter)){this.createFilterWidget(ch,ci)}else{this.filter.attributes=(ss.isNullOrUndefined(this.attributes)?{}:this.attributes);this.filter.oFilter=ch;this.filter.setTitleSize(this.$8,this.$9);this.filter.initFromState();this.$0()}},createFilterWidget:function(ch,ci){if(ss.isNullOrUndefined(ci)){ci=this.$1(ch)}switch(ch.type){case'Q':{if(tab.LegacyFilterModel.isQuantitativeDateFilter(ch)){this.filter=this.makeQuantitativeDateFilter(ci)}else{this.filter=this.makeQuantitativeFilter(ci)}break}case'H':{this.filter=this.makeHierarchicalFilter(ci);break}case'C':{this.filter=this.makeCategoricalFilter(ci);break}case'RD':{if(ch.showRelDatePick){this.filter=this.makeRelativeDatePickFilter(ci)}else{this.filter=this.makeRelativeDateFilter(ci)}break}default:{this.domNode.style.display='none';return}}this.addChild(this.filter);this.setupEventHandlers();this.filter.setTitleSize(this.$8,this.$9);this.$0();this.hideControls()},$0:function(){var ch=this.$5().get_quickFilterDisplayPresModel().$tN;if(ss.isValue(this.session)){dojo.marginBox(this.filter.domNode,dojo.contentBox(this.domNode))}cg.applyFormatting(this.domNode,this.textStyle,this.backgroundColor,ch,false);this.filter.layout(null)},$4:function(){if(this.$8>0){$(this.filter.domControls).removeClass('HideControls')}},hideControls:function(){$(this.filter.domControls).addClass('HideControls')},$2:function(ch){this.$4()},$3:function(ch){var ci=dojo.coords(this.filter.domNode,true);if(ci.x>ch.pageX||ci.x+ci.w<=ch.pageX||ci.y>ch.pageY||ci.y+ci.h<=ch.pageY){this.hideControls()}},setTitleSize:function(ch,ci){this.$8=ch;this.$9=ci},resize:function(ch,ci){this.$7=dojo.marginBox(this.domNode);this.inherited(arguments)},layout:function(ch){if(!!this.filter){var ci=dojo.marginBox(this.domNode);var cj=_.isEqual(this.$7,ci);if(!cj){dojo.marginBox(this.filter.domNode,dojo.contentBox(this.domNode));this.filter.setTitleSize(this.$8,this.$9);this.filter.layout(null)}}},updateAttributes:function(ch){this.attributes=(ss.isNullOrUndefined(ch)?{}:ch)},updateSubWidget:function(ch){if(ss.isValue(this.filter)){var ci=this.$1(ch);this.filter.setTitleSize(ci.titleH,ci.titleW);this.filter.updateFilterProperties(ci)}},getContextMenuCommands:function(){if(ss.isValue(this.$5())&&ss.isValue(this.$5().get_quickFilterCommands())){return this.$5().get_quickFilterCommands()}else{return{}}},showContextMenu:function(ch){var ci=this.getContextMenuCommands();var cj=[];tab.WidgetUtil.newMenuItemsFromCommands(cj,ci,function(co){return function(){var cp=tab.CommandItemWrapper.create(co);var cq=tab.CommandSerializer.deserialize(cp.get_command());tab.ServerCommands.executeServerCommand(cq,'immediately')}});var ck=function(co){var cp=co.data;cp()};var cl=spiff.MenuViewModel.createForMenu(new spiff.Menu(cj),ck);var cm=new spiff.ShowMenuOptions($(ch),false,0);cm.additionalMenuClass='tabQFContextMenu';var cn=cm;cl.show(cn)},showFilterPicker:function(){},getDomNode:function(){return this.domNode},destroyRecursiveShim:function(ch){this.destroyRecursive(ch)},startupShim:function(){this.startup()},updateAttributesShim:function(ch){this.updateAttributes(ch)},updateFilterStateShim:function(ch){this.updateFilterState(ch)},setTitleSizeShim:function(ch,ci){this.setTitleSize(ch,ci)},updateFilterPropertiesShim:function(ch){this.updateFilterProperties(ch)},updateSubWidgetShim:function(ch){this.updateSubWidget(ch)}},Object,[ss.IDisposable,tab.ILegacyWidgetShim,tab.IFilterPanelWidgetShim]);ss.initClass(J,a,{get_textStyleModel:function(){return this.$2},get_backgroundColor:function(){return this.$0},get_lineHeight:function(){return this.$1}});ss.initInterface(K,a,{get_filterTable:null,get_quickFilter:null,shouldDeferChanges:null,updateStateIfNeeded:null,clearRangeAnchorAndSelection:null,forEachSelected:null,onListItemClick:null,fetchChildNodeByIndex:null,handleItemClick:null,handleClickIfPending:null});ss.initClass(N,a,{_getMenuItemForOption:function(ch){if(ss.isNullOrEmptyString(ch.value)){return new dijit.MenuSeparator}else{var ci=ss.mkdel(this,function(){this._setValueAttr(ch)});var cj=new Object;cj.option=ch;cj.label=ch.label;cj.onClick=ci;cj.disabled=ch.disabled||false;return new tableau.base.widget.ui.iMenuItem(cj)}}},Object);ss.initClass(bl,a,{postCreate:function(){this.inherited(arguments);if(this.$3){var ch=new tableau.util.NoClickDelay(this.domNode)}},$0:function(){this.getParent().focusChild(this)},$1:function(ch){this.$2=tab.MiscUtil.clearTimeout(this.$2);this.$2=window.setTimeout(ch,75)},_onClick:function(ch){if(this.$3){if(!this._isReasonableEvent(ch)){return}var ci=ss.mkdel(this,function(){this.getParent().onItemClick(this,ch);spiff.EventUtil.stopEvent(ch)});this.$0();this.$1(ci)}else{this.inherited(arguments)}},_onHover:function(ch){if(this.$3){this._onClick(ch)}else{this.inherited(arguments)}}},dijit.MenuItem);ss.initClass(cf,a,{},bl);ss.initClass(O,a,{},cf);ss.initInterface(P,a,{get_totalHeight:null,get_viewportHeight:null,get_itemHeight:null,get_tileCount:null,destroy:null,updateViewport:null,getTileStatus:null,updateTileStatus:null,getTilePosition:null,getTileRange:null,getTileRangeType:null,pixelToTileRange:null,itemToTileIndex:null,globalToLocalItemIndex:null});ss.initClass(R,a,{get_domBox:function(){return this.domBox},get_resetButton:function(){return this.resetButton},get_shouldDisableResetButton:function(){return ss.isValue(this.get_oFilter().all)&&this.get_oFilter().all},get_applyDelay:function(){return this.applyDelay},get_isTypeInList:function(){return this.isTypeInList},get_oFilter:function(){return this.oFilter},get_quickFilterViewModel:function(){return this.filterViewModel},get_viewModel:function(){return this.filterViewModel},get_dijitDeclaredClass:function(){return this.declaredClass},get_mode:function(){return this.mode},set_mode:function(ch){this.mode=ch},get_session:function(){return this.session},set_session:function(ch){this.session=ch},get_attributes:function(){return this.attributes},set_attributes:function(ch){this.attributes=ch},get_field:function(){return this.field},get_stateId:function(){return this.stateId},set_stateId:function(ch){this.stateId=ch},get_modeContents:function(){return this.modeContents},get_domContent:function(){return this.domContent},set_domContent:function(ch){this.domContent=ch},get_dijitDomNode:function(){return this.domNode},set_dijitDomNode:function(ch){this.domNode=ch},get_domain:function(){var ch=null;if(!!this.get_attributes()['values']){ch=this.get_attributes()['values']}return ch},get_searchWidget:function(){return this.$n},set_searchWidget:function(ch){this.$n=ch},get_presModel:function(){return this.presModel},get_backgroundColor:function(){return this.backgroundColor},$g:function(){return this.$m},$h:function(ch){this.$m=ch},get_quickFilter:function(){return this},get_filterTable:function(){return this.get_quickFilterViewModel().get_catFilterTable()},get_canShowApplyAndCancelButtons:function(){return this.get_attributes()['show-apply']==='true'},get_titleDomId:function(){return this.$4$1},set_titleDomId:function(ch){this.$4$1=ch},getCheckDropdownCatmodeClass:function(){return tableau.base.widget.catmode.CheckDropdown},getChecklistCatmodeClass:function(){return tableau.base.widget.catmode.Checklist},getRadiolistCatmodeClass:function(){return tableau.base.widget.catmode.Radiolist},getSliderCatmodeClass:function(){return tableau.base.widget.catmode.Slider},getDropdownCatmodeClass:function(){return tableau.base.widget.catmode.SimpleDropdown},getPatternCatmodeClass:function(){return tableau.base.widget.catmode.Pattern},getTypeInListCatmodeClass:function(){return tableau.base.widget.catmode.TypeIn},makeSmallSearchWidget:function(ch,ci){return new tableau.base.widget.SmallSearchWidget(ch,ci)},makeSearchWidget:function(ch,ci){return new tableau.base.widget.SearchWidget(ch,ci)},makeFilteringSearchWidget:function(ch){return new tableau.base.widget.FilteringSearchWidget(ch)},makePendingChangesManager:function(){return new bA(this.get_modeContents(),this.oFilter.table.actual_size,this.oFilter.exclude,this.oFilter.all)},postCreate:function(){this.getSID=ss.mkdel(this,function(){return this.get_stateId()});this.$5();this.$9();if(this.mode!=='pattern'){x.disableTextSelection(this.get_domContent())}if(this.filterViewModel.get_filterType()!=='Categorical'){}var ch={};ch.qf=this;if(this.mode==='slider'){this.set_searchWidget(this.makeSmallSearchWidget(ch,this.searchDiv))}else if(this.$f()){this.set_searchWidget(this.makeFilteringSearchWidget(ch))}else{this.set_searchWidget(this.makeSearchWidget(ch,this.searchDiv))}this.get_searchWidget().startup();this.initFromState(true,false)},processControlButtons:function(){if(this.metricsOnly){return}var ch=this.mode==='checkdropdown'||this.mode==='dropdown'||this.mode==='pattern'||this.mode==='typeinlist'||this.shouldHideSearchButton();var ci=this.mode==='pattern'||this.mode==='typeinlist'||this.shouldHideDomainButton();var cj=this.shouldHideContextMenu();var ck=this.mode==='pattern'||this.mode==='typeinlist'||this.shouldHideResetButton();var cl=0;var cm=function(cn,co){if(co){$(cn.domNode).removeClass('CFButtonR1 CFButtonR2 CFButtonR3 CFButtonR4');cn.domNode.classList.add('CFButtonHide')}else{cl+=1;cn.domNode.classList.remove('CFButtonHide');cn.domNode.classList.add('CFButtonR'+cl)}};cm(this.menuButton,cj);cm(this.domainButton,ci);cm(this.searchButton,ch);cm(this.resetButton,ck);this.domControls.classList.add('CF'+cl+'Button');$(this.menuButton.domNode).css('background-color',this.backgroundColor);$(this.domainButton.domNode).css('background-color',this.backgroundColor);$(this.searchButton.domNode).css('background-color',this.backgroundColor);$(this.resetButton.domNode).css('background-color',this.backgroundColor)},setTitleSize:function(ch,ci){this.titleH=ch;this.titleW=ci},updateStateIfNeeded:function(){this.set_stateId(this.get_stateId()+1)},handleClickIfPending:function(ch){if(this.shouldDeferChanges()){this.get_modeContents().pendingManager.handleItemClicked(G.filterItem.getIndex(ch),ch)}},shouldDeferChanges:function(){var ch=this.get_mode()==='checklist'||this.get_mode()==='checkdropdown';return this.get_canShowApplyAndCancelButtons()&&ch},shouldHideResetButton:function(){return this.hideEmptyTitlebar()||this.get_attributes()['show-all']==='false'||this.get_attributes()['show-filter-state']==='false'},shouldHideSearchButton:function(){return this.hideEmptyTitlebar()||this.get_attributes()['show-search']==='false'},shouldHideIncludeExclude:function(){return tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring||this.hideEmptyTitlebar()||this.get_attributes()['show-exclude']==='false'},shouldHideDomainButton:function(){return this.hideEmptyTitlebar()||this.get_attributes()['show-morefewerbutton']!=='true'},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var ch=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(ch)||ch.get_commandItems().length===0},$8:function(){return $(this.domNode).hasClass('CFInlineTitle')},resize$1:function(ch){dojo.marginBox(this.domNode,ch);this.layout(null)},$b:function(){this.domNode.removeEventListener('focus',this.$j,true);this.domNode.removeEventListener('keydown',this.$l)},destroy:function(ch){this.$b();if(ss.isValue(this.get_modeContents())&&typeof(this.get_modeContents()['destroy'])==='function'){this.get_modeContents()['destroy']();this.modeContents=null}if(ss.isValue(this.get_searchWidget())){this.get_searchWidget().destroy();this.set_searchWidget(null)}if(ss.isValue(this.$i)){this.$i.cancelPendingChange()}this.requestSetAttributes=null;this.getContextMenuCommands=null;this.showContextMenu=null;this.get_domContent().innerHTML='';this.domContent=null;this.inherited(arguments)},handleItemClick:function(ch){if(ss.isValue(this.get_modeContents().pendingManager)){this.get_modeContents().pendingManager.handleItemClicked(G.filterItem.getIndex(ch),ch)}if(G.filterItem.isAllItem(ch)){this.doSelectAll(this.isSingleSelect()||G.filterItem.isChecked(ch));return}},$5:function(){this.mode=ss.coalesce(this.get_oFilter().mode,'checklist');if(!ss.isNullOrEmptyString(this.get_oFilter().pattern)){this.mode='pattern'}this.isTypeInList=this.mode==='typeinlist'},initFromState:function(ch,ci,cj){var ck;var cl;var cm;var cn=tableau.format.formatColumnDisplayName(this.get_oFilter(),false,true);var co=0;var cp='';var cq=this.get_oFilter().showFacets&&this.width>100;var cr;var cs=0;var ct=0;this.processControlButtons();var cu=ss.isValue(this.get_modeContents())&&this.$f();if(ss.isValue(this.get_modeContents())&&ss.isValue(this.get_modeContents().get_scrollNode())&&this.get_modeContents().get_scrollNode().scrollTop>0){cs=this.get_modeContents().get_scrollNode().scrollTop}var cv=ss.isValue(this.modeContents)&&ss.isValue(this.get_modeContents().pendingManager);var cw=cv&&ss.isValue(this.get_modeContents().pendingManager.get_allItemCheckState());var cx=cv&&ss.coalesce(this.get_modeContents().pendingManager.get_allItemCheckState(),false);var cy=(cw?cx:(this.get_oFilter().all||this.get_oFilter().allNotChecked));var cz=$(this.domNode);cz.toggleClass('CFAll',cy);cz.toggleClass('CFValue',!cy);if(this.get_oFilter().exclude){this.domNode.classList.add('CFExclusive')}else{this.domNode.classList.remove('CFExclusive')}this.updateResetButtonState();this.updateDomainButton();if(ss.isValue(this.get_modeContents())&&this.get_modeContents().shouldNotReinstantiate()){var cA=R.$0(this.$g(),this.get_oFilter());var cB=this.$g().exclude!==this.get_oFilter().exclude;var cC=R.$1(this.$g(),this.get_oFilter());this.$h(this.get_oFilter());if(ss.isValue(this.get_oFilter().domains)&&ss.contains(this.get_oFilter().domains,'relevant')&&cA||cB){this.updateSearch()}else if(cC){if(this.get_searchWidget().get_isVisible()){this.get_searchWidget().toggleUI()}}return}this.$h(this.get_oFilter());this.$5();if(this.get_oFilter().exclude){cn=tab.Strings.QuickFilterTitleBarExclusive(cn)}this.domTitleBar.setAttribute('title',cn);this.domTitleBar.setAttribute('id',this.get_titleDomId());this.updateTitleBar();if(!cu){this.get_domContent().innerHTML=''}cm=G.getBaseItemName(this,'FI');ck=((this.mode==='pattern')?this.get_oFilter().pattern:this.get_oFilter().table.tuples);if(cq&&(this.mode==='slider'||this.mode==='checklist'||this.mode==='checkdropdown'||this.mode==='radiolist'||this.mode==='dropdown')){cr=this.get_oFilter().table.tuples;for(cl=0;cl<cr.length;cl++){co+=parseInt(cr[cl].f[0].v,10)}cp=co.toString()}var cD=$.contains(this.domNode,document.activeElement);if(cu){if(!cj&&ss.isValue(this.modeContents.pendingManager)){this.get_modeContents().pendingManager.resetFilterInfo(this.get_oFilter().table.actual_size,this.get_oFilter().exclude,this.get_oFilter().all);this.get_modeContents().pendingManager.resetPendingChanges()}this.get_modeContents().resetContent(ck,cm,cp)}else{if(ss.isValue(this.get_modeContents())&&typeof(this.get_modeContents()['destroy'])==='function'){this.get_modeContents().destroy();this.modeContents=null}this.$6();this.get_modeContents().set_width(this.width);this.get_modeContents().instantiate(ck,cm,cp)}this.$i.refreshRangeAnchorAndSelection();this.conditionals.init(this.get_oFilter().condition,this.get_oFilter().limit);if(!ch){this.layout(null)}if(!ci&!this.$f()){this.updateSearch()}if(ss.isValue(this.get_modeContents())&&ss.isValue(this.get_modeContents().get_scrollNode())){ct=this.get_modeContents().get_scrollNode().scrollHeight-this.get_modeContents().get_scrollNode().clientHeight;this.get_modeContents().get_scrollNode().scrollTop=Math.min(cs,ct)}this.domNode.addEventListener('focus',this.$j,true);this.domNode.addEventListener('keydown',this.$l);cz.attr('tabindex','-1');this.$d(cD)},$d:function(ch){var ci=$(this.domNode).find('.FIItem[tabindex]');ci.attr('tabindex','-1');var cj=document.getElementById(this.$k);if(ss.isValue(cj)){cj.tabIndex=0;if(ch){cj.focus()}}else{if(ci.length>0){ci.first().attr('tabindex','0')}else{var ck=$(this.domNode);ci=$(ck.find('input:focusable').get().concat(ck.find('textarea:focusable').get()).concat(ck.find(':focusable').get()))}if(ch){ci.first().focus()}}},$4:function(ch){if(ss.referenceEquals(ch.target,this.domNode)){tab.DomUtil.focusWithoutScrolling(ss.mkdel(this,function(){this.$d(true)}),$(this.modeContents.get_scrollNode()))}else{var ci=$(ch.target);var cj=ci.closest('.FIItem');if(cj.length>0){this.$k=cj[0].id;this.$d(true)}}},$a:function(ch){var ci=$(document.activeElement).filter('.FIItem');if(ci.length===0){return}var cj=$(this.domNode).find('.FIItem');var ck=cj.index(ci[0]);switch(ch.which){case 37:case 38:{cj.eq(ck-1).focus();break}case 39:case 40:{cj.eq((ck+1)%cj.length).focus();break}case 36:{cj.first().focus();break}case 35:{cj.last().focus();break}case 32:{ci.find('input:first').click();break}case 27:{if(!this.get_shouldDisableResetButton()){this.toggleReset()}break}case 13:{if(this.get_canShowApplyAndCancelButtons()){this.applyPendingChangesByChangelist()}break}default:{return}}ch.preventDefault();ch.stopPropagation()},updateResetButtonState:function(){if(this.get_shouldDisableResetButton()){bB.disableResetButton(this.get_resetButton())}else{bB.enableResetButton(this.get_resetButton())}},$1:function(){var ch=null;if(this.mode==='checkdropdown'){ch=this.getCheckDropdownCatmodeClass()}else if(this.mode==='checklist'){ch=this.getChecklistCatmodeClass()}else if(this.mode==='radiolist'){ch=this.getRadiolistCatmodeClass()}else if(this.mode==='slider'){ch=this.getSliderCatmodeClass()}else if(this.mode==='dropdown'){ch=this.getDropdownCatmodeClass()}else if(this.mode==='pattern'){ch=this.getPatternCatmodeClass()}else if(this.mode==='typeinlist'){ch=this.getTypeInListCatmodeClass()}if(ss.isNullOrUndefined(ch)){return}this.modeContents=new ch(this,this.get_domContent(),this.get_attributes())},$6:function(){this.$1()},updateSearch:function(){this.get_searchWidget().updateSearch()},applyChanges:function(){this.get_modeContents().applyChanges()},applyChangesByChangelist:function(ch){if(this.shouldDeferChanges()){this.get_modeContents().pendingManager.processChanges(ch);if(ss.isValue(this.get_modeContents().pendingManager.get_allItemCheckState())){if(ss.unbox(this.get_modeContents().pendingManager.get_allItemCheckState())){this.domNode.classList.add('CFAll')}else{this.domNode.classList.remove('CFAll')}}}else{this.get_modeContents().applyChangesByChangelist(ch,this.mode)}},applyPendingChangesByChangelist:function(){if(this.get_modeContents().pendingManager.isSelectAll()){this.$0(true)}else if(this.get_modeContents().pendingManager.isDeSelectAll()){this.$0(false)}else{var ch=this.get_modeContents().pendingManager.get_pendingChangelist();this.get_modeContents().applyChangesByChangelist(ch,this.mode)}this.get_modeContents().pendingManager.resetPendingChanges()},cancelPendingChangesByChangelist:function(){this.get_modeContents().pendingManager.resetPendingChanges();this.initFromState(false,true,true)},$f:function(){return this.mode==='checklist'||this.mode==='radiolist'||this.mode==='checkdropdown'||this.mode==='dropdown'},filterBySearchResults:function(ch){if(ss.isNullOrUndefined(ch)){this.initFromState(false,true,true)}else if(this.$f()){this.modeContents.updateContent(ch);this.$i.clearRangeAnchor()}},updateStateFromSearch:function(ch){var ci=false;var cj=this.get_isTypeInList();if(this.get_isTypeInList()){this.$e(ch)}this.initFromState(ci,cj)},$e:function(ch){var ci;var cj={};var ck;var cl;var cm;var cn;var co=this.get_oFilter().table.tuples;for(ck=0;ck<co.length;ck++){cl={};cl.node=this.fetchChildNodeByIndex(ck);cl.tuple=co[ck];var cp=co[ck].d;if(ss.isNullOrUndefined(cp)){cp=co[ck].t[0].v}cj[cp]=cl}for(ck=0;ck<ch.tuples.length;ck++){cn=ch.tuples[ck];var cq=cn.d;if(ss.isNullOrUndefined(cq)){cq=cn.t[0].v}ci=cj[cq];if(ss.isValue(ci)&&ss.isValue(ci.node)){G.filterItem.setChecked(ci.node,cn.s,ci.tuple)}else{cm=tableau.util.binarySearch(Object).call(null,cn,co,0,null,ss.mkdel(this,this.$c));if(!cm.found){co.splice(cm.index,0,cn)}}}},$c:function(ch,ci){var cj=tableau.format.formatTupleDisplayName(ch);var ck=tableau.format.formatTupleDisplayName(ci);if(ss.referenceEquals(cj,ck)){return 0}else if(ss.compareStrings(cj,ck)<0){return-1}else{return 1}},fetchChildNodeByIndex:function(ch){return this.get_modeContents().fetchChildNodeByIndex(ch)},isSingleSelect:function(){return this.mode!=='checklist'&&this.mode!=='checkdropdown'&&this.mode!=='typeinlist'},updateDomainButton:function(){if(ss.isNullOrUndefined(this.get_oFilter().domains)||this.get_oFilter().domains.length<=1){this.domainButton.domNode.style.display='none';return}var ch=this.domainButton.iconNode.classList;ch.remove('wcIconDomainAll');ch.remove('wcIconDomainContext');ch.remove('wcIconDomainRelevant');if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_RELEVANT){this.domainButton.attr('label',tab.Strings.QuickFilterDomainShowMoreValues);ch.add('wcIconDomainRelevant')}else if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_CONTEXT){this.domainButton.attr('label',tab.Strings.QuickFilterDomainShowFewerValues);ch.add('wcIconDomainContext')}else{this.domainButton.attr('label',tab.Strings.QuickFilterDomainShowFewerValues);ch.add('wcIconDomainAll')}},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},toggleReset:function(){bB.disableResetButton(this.resetButton);this.doSelectAll(true,true)},toggleDomain:function(){var ch=function(ci){return ci===tableau.types.QFDomain.QFD_CONTEXT};if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_RELEVANT){this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_ALL]),false)}else if(this.get_attributes()['values']===tableau.types.QFDomain.QFD_CONTEXT){this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_RELEVANT]),false)}else if(_.any(this.get_oFilter().domains,ch)){this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_CONTEXT]),false)}else{this.$2(ss.mkdict(['values',tableau.types.QFDomain.QFD_RELEVANT]),false)}},getTheAllItemNode:function(){return this.get_modeContents().fetchAllItem()},doSelectAll:function(ch,ci){if(this.shouldDeferChanges()){this.get_modeContents().pendingManager.processAll(ch);if(ch){this.domNode.classList.add('CFAll')}else{this.domNode.classList.remove('CFAll')}if(ci){this.applyPendingChangesByChangelist()}}else{this.$0(ch)}},$0:function(ch){var ci,cj;var ck;var cl;var cm;var cn=[];if(this.mode==='checklist'||this.mode==='checkdropdown'){if($(this.get_domContent()).find('.tiledContent').length>0){cj=this.get_oFilter().table.actual_size;var co=(this.get_oFilter().exclude?!ch:ch);for(ci=0;ci<cj;++ci){cl=this.fetchChildNodeByIndex(ci);if(ss.isValue(cl)){G.filterItem.setChecked(cl,co)}}}}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){cm=new tab.LegacyCategoricalQuickFilterData(this.get_oFilter().targetSheets,this.get_field(),this.get_oFilter().exclude,null);if(ch){cm.set_includeAll(true)}tab.FilterClientCommands.updateCategoricalFilter(cm)}if(ch){tab.FilterClientCommands.setCategoricalFilterValues(this.get_session().get_visualId(),this.get_field(),'filter-all',null,null)}else if(this.mode==='checklist'||this.mode==='checkdropdown'){bB.enableResetButton(this.resetButton);ck=new Object;ck.schema=this.get_oFilter().table.schema;ck.tuples=[];if(this.get_oFilter().exclude){this.$3();return}tab.FilterClientCommands.setCategoricalFilterValues(this.get_session().get_visualId(),this.get_field(),'filter-replace',cn,null)}},$3:function(){var ch;var ci,cj=0,ck=this.get_oFilter().table.actual_size-1;var cl=new tab.Changelist;var cm=new tab.RawChange;if($(this.get_domContent()).find('.tiledContent').length>0){for(ci=cj;ci<=ck;ci++){ch=this.get_modeContents().fetchChildNodeByIndex(ci);if(ss.isValue(ch)){G.filterItem.setChecked(ch,true)}}}cm.setRange(new tab.IntegerRange(cj,ck),true);cl.addChange(cm);this.get_modeContents().applyChangesByChangelist(cl,this.mode)},toggleSearchUI:function(){this.get_searchWidget().toggleUI()},$2:function(ch,ci){this.requestSetAttributes(ch,ci)},doscrollHoriz:function(){this.get_domContent().scrollLeft=this.domHorizScroll.scrollLeft},$7:function(){return this.mode==='slider'||this.mode==='dropdown'||this.mode==='checkdropdown'||this.mode==='pattern'},getTitleOffset:function(){if($(this.domNode).hasClass('CFInlineTitle')){return 0}else{return dojo.marginBox(this.domTitleBar).h}},_getSearchWidgetDim:function(){var ch=this.get_searchWidget().get_dijitDomNode();if($(ch).css('display')==='none'||this.$f()){var ci={};ci.h=0;ci.l=0;ci.t=0;ci.w=0;return ci}else{return dojo.marginBox(ch)}},layoutVertical:function(ch){var ci;var cj=ss.mkdict(['h',0]);var ck=ss.mkdict(['h',0]);this._layoutSearchWidget(ch);ck=this._getSearchWidgetDim();ci=ch.h-cj.h-ck.h;this.get_modeContents().layout({w:ch.w,h:ci},false)},_getContentFloatingElement:function(){return(this.get_isTypeInList()?this.get_searchWidget().get_dijitDomNode():this.get_domContent())},_layoutSearchWidget:function(ch){var ci;var cj;if(this.get_searchWidget().get_isVisible()){cj=ss.mkdict(['h',0]);ci=ch.h-cj['h'];this.get_searchWidget().layout(ci)}},_layoutTypeInList:function(ch){if(this.$8()){dojo.marginBox(this.get_searchWidget().get_dijitDomNode(),ch)}else{$(this.get_searchWidget().get_dijitDomNode()).css({height:'auto',width:'auto'})}this.layoutVertical(ch)},_layoutCompactFilter:function(ch){this.domNode.classList.add('CFHorizontal');this._layoutSearchWidget(ch);this.get_modeContents().layout({w:ch.w,h:ch.h},false)},layout:function(ch){var ci;var cj,ck;var cl;this.updateTitleBar();if(ss.isNullOrUndefined(this.domNode.parentNode)){return}this.domNode.classList.remove('CFHorizontal');this.domNode.classList.remove('CFInlineTitle');this.domHorizScroll.style.display='none';cj=dojo.marginBox(this.domTitleBar);this.resetTitleSize();if(this.titleH>0){cj.h=this.titleH;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',cj.h]))}if(this.titleW>0){cj.w=this.titleW;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',cj.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));ck=dojo.contentBox(this.domNode);cl={w:ck.w,h:ck.h};if(!this.metricsOnly){ci=this._getContentFloatingElement();if(!this.hideEmptyTitlebar()){if(this.titleW>0){cl.w=ck.w-cj.w;this.domTitleBar.style.cssFloat='left';ci.style.cssFloat='left';this.domNode.classList.add('CFInlineTitle')}else{cl.h=ck.h-cj.h;this.domTitleBar.style.cssFloat='none';ci.style.cssFloat='none'}}else{ci.style.cssFloat='none'}}if(this.$7()){this._layoutCompactFilter(cl)}else if(this.get_isTypeInList()){this._layoutTypeInList(cl)}else{this.layoutVertical(cl)}},$9:function(){x.localizeDojoLabeledControls([{item1:this.searchButton,item2:'QuickFilterSearch'},{item1:this.domainButton,item2:'QuickFilterDomainShowFewerValues'},{item1:this.menuButton,item2:'QuickFilterShowContextMenu'}])},clearRangeAnchorAndSelection:function(){this.$i.clearRangeAnchorAndSelection()},forEachSelected:function(ch){if(ss.isNullOrUndefined(ch)||$.isFunction(ch)){return}var ci=this.$i.get_selectedIndexes();for(var cj=0,ck=ci.length;cj<ck;cj++){var cl=ci[cj];var cm=this.fetchChildNodeByIndex(cl);ch(cl,cm)}},onListItemClick:function(ch){this.$i.onListItemClick(ch)},notifyChange:function(ch){this.$i.notifyChange(ch)}},be,[K]);ss.initClass(S,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyCategoricalQuickFilterModel:function(){return this.$2},get_mode:function(){return this.$2.get_mode()},get_pattern:function(){return this.$2.get_pattern()},get_isAllMode:function(){return this.$2.get_isAllMode()},get_allItemsAreChecked:function(){return this.$2.get_allItemsAreChecked()},get_noItemsAreChecked:function(){return this.$2.get_noItemsAreChecked()},get_exclude:function(){return this.$2.get_exclude()},get_isTiled:function(){return this.$2.get_isTiled()},get_isSearchable:function(){return this.$2.get_isSearchable()},get_summary:function(){return this.$2.get_summary()},get_underlyingDataSourceIsCube:function(){return this.$2.get_underlyingDataSourceIsCube()},get_condition:function(){return this.$2.get_condition()},get_limit:function(){return this.$2.get_limit()},get_rangeType:function(){return this.$2.get_rangeType()},get_catFilterTable:function(){return this.$2.get_catFilterTable()},get_domainActualSize:function(){return this.$2.get_domainActualSize()},get_tuples:function(){return this.$2.get_tuples()},handleUpdateFilterContent:function(){},dispose:function(){this.$2.remove_filterUpdated(ss.mkdel(this,this.handleUpdateFilterContent));this.$2=null;spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFilterTypeViewModel]);ss.initClass(T,a,{});ss.initClass(U,a,{get_applyDelay:function(){throw new ss.NotSupportedException},get_isTypeInList:function(){return false},get_oFilter:function(){return this.oFilter},get_quickFilterViewModel:function(){return this.filterViewModel},get_viewModel:function(){return this.filterViewModel},get_dijitDeclaredClass:function(){return this.declaredClass},get_mode:function(){return this.$c},set_mode:function(ch){window.alert(tab.Strings.noLoc('Bad interface call to set LegacyHierarchicalQuickFilter.Mode'))},get_session:function(){return this.session},set_session:function(ch){this.session=ch},get_domain:function(){var ch=null;if(!!this.get_attributes()['values']){ch=this.get_attributes()['values']}return ch},get_attributes:function(){return this.attributes},set_attributes:function(ch){this.attributes=ch},get_field:function(){return this.field},get_stateId:function(){return this.stateId},set_stateId:function(ch){this.stateId=ch},get_modeContents:function(){return null},get_domContent:function(){return this.domContent},set_domContent:function(ch){this.domContent=ch},get_dijitDomNode:function(){return this.domNode},set_dijitDomNode:function(ch){this.domNode=ch},get_searchWidget:function(){return this.searchWidget},set_searchWidget:function(ch){this.searchWidget=ch},destroy:function(){this.tree.remove_notifyChangeCalled(ss.mkdel(this,this.$8));this.searchWidget.destroy();this.searchWidget=null;this.tree.destroy();this.tree=null;this.inherited(arguments)},applyChangesByChangelist:function(ch){window.alert(tab.Strings.noLoc('Bad interface call on LegacyHierarchicalQuickFilter.ApplyChangesByChangelist'))},postCreate:function(){if(this.filterViewModel.get_filterType()!=='Hierarchical'){}this.$a=ss.mkdel(this,function(){return this.stateId});var ch={};ch.qf=this;this.searchWidget=new tableau.base.widget.SearchWidget(ch,this.searchDiv);this.searchWidget.startup();this.initFromState(true);this.$7();var ci=this.tree;_.each(this.tree.rootNode.getChildren(),function(cj){if(cj.isExpandable){ci._expandNode(cj)}});U.$0(this.textStyle,this.backgroundColor)},$2:function(){if(!!tab.BrowserSupport.get_isIE()){var ch=$(this.domContent);ch.css('zoom','1');tab.WindowHelper.requestAnimationFrame(function(){tab.RenderUtil.manualFadeAnimation(ch,96,100,8,3875,true)})}},shouldHideLevelButtons:function(){return this.attributes['show-levels']==='false'},shouldHideSearchButton:function(){return this.hideEmptyTitlebar()||this.attributes['show-search']==='false'},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var ch=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(ch)||ch.get_commandItems().length===0},resize:function(ch){dojo.marginBox(this.domNode,ch);this.layout(null)},isSingleSelect:function(){return this.$c!=='checklist'},initMode:function(){this.$c=this.$5()},$5:function(){var ch='checklist';if(ss.keyExists(this.attributes,'mode')){ch=this.attributes['mode']}return ch},createTreeDom:function(){var ch=new tableau.base.widget.hsm.TreeModel(this.session,this.field,this.oFilter.levels.length,this.isSingleSelect());ch.onChildrenChange(ch.root,ch.itemsFromTable(this.oFilter.table[0],0));var ci=new Object;ci.model=ch;ci.showRoot=false;this.tree=new tableau.base.widget.hsm.Tree(ci);this.tree.add_notifyChangeCalled(ss.mkdel(this,this.$8));this.connect(this.tree,'_onTreeFocus',ss.mkdel(this,this.updateRangeAnchor));this.domContent.appendChild(this.tree.domNode)},hideEmptyTitlebar:function(){return ss.isNullOrEmptyString(this.titleHTML)},setTitleSize:function(ch,ci){this.$d=ch;this.$e=ci},initFromState:function(ch){if(!ss.referenceEquals(this.$5(),this.$c)){$(this.domContent).empty()}if(!this.domContent.hasChildNodes()){this.initMode();this.createTreeDom()}var ci=tableau.format.formatColumnDisplayName(this.oFilter,false,true);this.domTitleBar.setAttribute('title',ci);this.updateTitleBar();if(ss.isValue(this.domLevelContainer)){$(this.domLevelContainer).empty()}if(this.shouldHideLevelButtons()){if(ss.isValue(this.domLevelBox)){this.domLevelBox.setAttribute('display','none')}}else{this.$3()}if(!ch){this.tree.model.refresh(this.oFilter.table)}if(ss.isValue(this.tree.anchor)){this.tree.anchor.labelNode.classList.add('anchorSelection');this.tree.anchor.domNode.classList.add('anchorSelectionNode')}else{this.tree.anchor=null}this.conditionals.init(this.oFilter.condition,this.oFilter.limit);this.layout(null);if(ss.isValue(this.searchWidget)){this.searchWidget.updateSearch()}var cj=0;if(!this.metricsOnly){var ck=ss.mkdel(this,function(cl,cm){if(!this._hasDomNode(cl)){return}if(cm){$(cl.domNode).removeClass('HFButtonR1 HFButtonR2');cl.domNode.classList.add('HFButtonHide')}else{cj+=1;cl.domNode.classList.remove('HFButtonHide');cl.domNode.classList.add('HFButtonR'+cj)}$(cl.domNode).css('background-color',this.backgroundColor)});ck(this.menuButton,this.shouldHideContextMenu());ck(this.searchButton,this.shouldHideSearchButton());this.domControls.classList.add('HF'+cj+'Button')}},$3:function(){var ch;if(ss.isNullOrUndefined(this.domLevelBox)){return}ch=document.createElement('td');ch.appendChild(document.createTextNode(''));ch.classList.add('HFLevelSpacer');for(var ci=0;ci<this.oFilter.levels.length;ci++){ch=document.createElement('td');ch.appendChild(document.createTextNode(ci.toString()));this.domLevelContainer.appendChild(ch);if(this.$c!=='radiolist'){if(this.oFilter.levels[ci]===0){ch.classList.add('HFLevelAllSelected')}else if(this.oFilter.levels[ci]===1){ch.classList.add('HFLevelNoneSelected')}else{ch.classList.add('HFLevelSomeSelected')}}if(ci===0){ch.classList.add('HFLevelFirst')}else if(ci<this.oFilter.levels.length-1){ch.classList.add('HFLevelNonLeaf')}else{ch.classList.add('HFLevelLast')}this.connect(ch,'onclick',ss.mkdel(this,this.onLevelClick))}},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},$0:function(){var ch=[];var ci=[];var cj=[].concat.apply([],this.tree.rootNode.getChildren());var ck='filter-delta';var cl=[];var cm=[];if(cj.length===0){return}do{var cn=cj.shift();var co=cn.item.tuple;if(cn.item.schema.length>ch.length){ch=cn.item.schema}if(cn.isChecked&&!co.s){co.s=true;ci.push(co);if(this.isSingleSelect()){ck='filter-replace';break}}else if(!cn.isChecked&&co.s){delete co['s'];ci.push(co)}cj=cj.concat.apply(cj,cn.getChildren())}while(cj.length!==0);var cp=ci;if(cp.length!==0){for(var cq=0;cq<cp.length;cq++){var cr=cp[cq].t.length-1;var cs=cp[cq].t[cr].v;if(cp[cq].s){cl.push(cs)}else{cm.push(cs)}}tab.FilterClientCommands.doMemberHierarchialFilter(this.session.get_visualId(),this.field,cl,cm,ck)}},$1:function(ch,ci){if(ss.isNullOrUndefined(ch)||ss.isNullOrUndefined(ci)){return}var cj=this.tree.getDepth(ci);var ck=this.tree.findEarlierNode(ci,ch,cj);var cl=(ss.referenceEquals(ck,ci)?ch:ci);var cm=ck.item.tuple.t;var cn=cl.item.tuple.t;var co=cm[cm.length-1].v;var cp=cn[cn.length-1].v;var cq={};var cr={};var cs='filter-delta';if(ch.isChecked){cq[this.RANGE_START]=co;cq[this.RANGE_END]=cp}else{cr[this.RANGE_START]=co;cr[this.RANGE_END]=cp}tab.FilterClientCommands.doRangeHierarchialFilter(this.session.get_visualId(),this.field,cq,cr,cs)},updateStateFromSearch:function(ch){var ci={};var cj=ch.tuples;for(var ck=0;ck<cj.length;ck++){ci[cj[ck].d]=cj[ck].s===true}var cl=[].concat.apply([],this.tree.rootNode.getChildren());while(cl.length!==0){var cm=cl.shift();var cn=cm.item.tuple;var co=ci[cn.d];if(ss.isValue(co)){if(co!==cn.s){if(co){cm.isChecked=true;cm.labelNode.firstChild.checked=true;cn.s=true}else{cm.isChecked=false;cm.labelNode.firstChild.checked=false;delete cn['s']}}}else if(this.isSingleSelect()&&cn.s){cm.isChecked=false;cm.labelNode.firstChild.checked=false;delete cn['s']}cl=cl.concat.apply(cl,cm.getChildren())}},updateRangeAnchor:function(ch){if(this.isSingleSelect()){return}if(ss.referenceEquals(this.tree.anchor,ch)){return}if(ss.isValue(this.tree.anchor)){this.tree.anchor.labelNode.classList.remove('anchorSelection');this.tree.anchor.domNode.classList.remove('anchorSelectionNode');this.tree.anchor.labelNode.classList.remove('dijitTreeLabelFocused');this.tree.prev_anchor=this.tree.anchor}this.tree.anchor=ch;this.tree.anchor.labelNode.classList.add('anchorSelection');this.tree.anchor.domNode.classList.add('anchorSelectionNode')},$8:function(ch){if(ch.target.tagName.toLowerCase()==='input'){this._applyTimer=tab.MiscUtil.clearTimeout(this._applyTimer);this.stateId++;var ci=dijit.getEnclosingWidget(ch.target.parentNode);if(!ss.referenceEquals(this.tree.anchor,ci)){this.updateRangeAnchor(ci)}if(ch.shiftKey===true&&ss.isValue(this.tree.prev_anchor)&&this.tree.getDepth(this.tree.prev_anchor)===this.tree.getDepth(this.tree.anchor)&&!this.isSingleSelect()){this.updateCheckboxRange(this.tree.anchor,this.tree.prev_anchor);this.$1(this.tree.anchor,this.tree.prev_anchor)}else{this._applyTimer=window.setTimeout(ss.mkdel(this,this.$0),this.$9)}}},updateCheckboxRange:function(ch,ci){var cj=this.tree.getDepth(ci);var ck=this.tree.findEarlierNode(ci,ch,cj);var cl=(ss.referenceEquals(ck,ci)?ch:ci);var cm=ch.isChecked;var cn=ck;this.tree.anchorIsStart=!ss.referenceEquals(ck,ci);while(ss.isValue(cn)&&cn.isTreeNode&&!ss.referenceEquals(cn,cl)){cn.labelNode.firstChild.checked=cm;cn.isChecked=cm;cn=this.$6(cn,cj)}cl.labelNode.firstChild.checked=cm;cl.isChecked=cm},$6:function(ch,ci){var cj=ci;var ck=ch;var cl=ch.getNextSibling();if(ss.isValue(cl)){return cl}while(ss.isNullOrUndefined(cl)&&cj>=0){ck=ck.getParent();cj-=1;cl=ck.getNextSibling();while(ss.isValue(cl)){var cm=this.$4(cl,cj,ci);if(ss.isValue(cm)){return cm}cl=cl.getNextSibling()}}if(cj>=0){return cl}return null},$4:function(ch,ci,cj){if(ss.isNullOrUndefined(ch)){return null}if(ci<0){return null}if(ci>cj){return null}if(ci===cj){return ch}if(ch.hasChildren()){var ck=ch.getChildren();var cl=ck.length;for(var cm=0;cm<cl;cm++){var cn=this.$4(ck[cm],ci+1,cj);if(ss.isValue(cn)){return cn}}}return null},toggleSearchUI:function(){if(ss.isValue(this.searchWidget)){this.searchWidget.toggleUI()}},onLevelClick:function(ch){var ci=ch.target;var cj;var ck=[];var cl=[];if(ci.tagName.toLowerCase()!=='td'){return}spiff.EventUtil.stopEvent(ch);if(this.isSingleSelect()){return}var cm=parseInt(ci.textContent,10);if(this.oFilter.levels[cm]===0){cj=false;ci.classList.remove('HFLevelAllSelected');ci.classList.remove('HFLevelSomeSelected');ci.classList.add('HFLevelNoneSelected')}else{cj=true;ci.classList.remove('HFLevelNoneSelected');ci.classList.remove('HFLevelSomeSelected');ci.classList.add('HFLevelAllSelected')}if(cj){ck.push(cm)}else{cl.push(cm)}if(ck.length>0||cl.length>0){tab.FilterClientCommands.doLevelHierarchialFilter(this.session.get_visualId(),this.field,ck,cl,'filter-delta')}},layout:function(ch){var ci=$(this.domContent);ci.hide();this.domNode.classList.remove('HFHorizontal');var cj=dojo.contentBox(this.domNode);var ck=dojo.marginBox(this.domTitleBar);var cl=(ss.isValue(this.domLevelBox)?dojo.marginBox(this.domLevelBox):ss.mkdict(['w',0,'h',0]));var cm=dojo.marginBox(this.conditionals.domNode);var cn=ss.mkdict(['h',0]);this.updateTitleBar();this.resetTitleSize();if(this.$d>0){ck.h=this.$d;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',ck.h]))}if(this.$e>0){ck.w=this.$e;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',ck.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var co=ck.h;var cp=cj.w;if(!this.hideEmptyTitlebar()&&this.$e>0){this.domNode.classList.add('HFHorizontal');this.domTitleBar.style.cssFloat='left';if(ss.isValue(this.domLevelBox)){this.domLevelBox.style.cssFloat='left'}if(this._hasDomNode(this.menuButton)){this.menuButton.domNode.classList.add('HFButtonHide')}if(this._hasDomNode(this.searchButton)){this.searchButton.domNode.classList.add('HFButtonHide')}cp-=ck.w;co=0}else{if(!this.shouldHideContextMenu()&&this._hasDomNode(this.menuButton)){this.menuButton.domNode.classList.remove('HFButtonHide')}if(!this.shouldHideSearchButton()&&this._hasDomNode(this.searchButton)){this.searchButton.domNode.classList.remove('HFButtonHide')}this.domTitleBar.style.cssFloat='none';if(ss.isValue(this.domLevelBox)){this.domLevelBox.style.cssFloat='none'}}if(ss.isValue(this.searchWidget)&&this.searchWidget.get_isVisible()){var cq=cj.h-co-cl.h-cm.h;this.searchWidget.layout(cq);cn=dojo.marginBox(this.searchWidget.get_dijitDomNode())}var cr=cj.h-co-cl.h-cm.h-cn.h;if(ss.isValue(this.domLevelBox)){dojo.marginBox(this.domLevelBox,ss.mkdict(['w',cp]))}dojo.marginBox(this.domContent,ss.mkdict(['h',cr,'w',cp]));this.$2();ci.show()},_hasDomNode:function(ch){return ss.isValue(ch)&&ss.isValue(ch.domNode)},$7:function(){x.localizeDojoLabeledControls([{item1:this.searchButton,item2:'QuickFilterSearch'}])}},be);ss.initClass(V,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyHierarchicalQuickFilterModel:function(){return this.$2},get_hierarchyTables:function(){return this.$2.get_hierarchyTables()},get_levels:function(){return this.$2.get_levels()},get_isSearchable:function(){return this.$2.get_isSearchable()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFilterTypeViewModel]);ss.initClass(W,a,{},bi,[ss.IDisposable]);ss.initClass(X,a,{get_domRoot:function(){return this.get_template().domRoot},get_domNode:function(){return this.get_template().domRoot.get(0)},$f:function(){return this.legacyLegendViewModel.get_viewSession()},get_serverRenderedModel:function(){return this.legacyLegendViewModel.get_presModel()},get_legendTemplate:function(){return this.get_template()},onAddedToDom:function(){ss.makeGenericType(g,[Y]).prototype.onAddedToDom.call(this);this.$i=(new Date).getTime();this.eventHandler=this.makeViewerInputHandler(this.$f(),this.get_legendTemplate().get_contentArea().get(0));this.get_viewModel().get_viewController().add_refreshLegacyLegendImages(ss.mkdel(this,this.refreshImages));tab.ViewController.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().get_viewController().remove_refreshLegacyLegendImages(ss.mkdel(this,this.refreshImages));tab.ViewController.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged))})));this.iterButtons=new tab.IteratorButtons(this.get_legendTemplate().get_contentArea(),true,12);this.updateHighlightStatus();this.hideControls();this.doConnections();this.disposables.add$1(spiff.ClickHandler.targetAndClick(this.get_legendTemplate().domHighlighterHolder,ss.mkdel(this,this.toggleHighlight)));this.get_legendTemplate().domImageBody.on('load',ss.mkdel(this,function(ch){this.$d();this.setBodySize()}));this.get_legendTemplate().domImageBody.on('error',ss.mkdel(this,function(ch){this.onImageLoadFailed()}));this.refreshImages()},dispose:function(){this.legacyLegendViewModel.remove_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));if(ss.isValue(this.eventHandler)){this.eventHandler.dispose();this.eventHandler=null}this.iterButtons.dispose();ss.makeGenericType(g,[Y]).prototype.dispose.call(this)},handleNewLegacyLegend:function(){var ch=this.legacyLegendViewModel.get_presModel();if(ss.isValue(this.get_serverRenderedModel())&&this.get_serverRenderedModel().dWr===ch.dWr&&ss.referenceEquals(this.get_serverRenderedModel().R_X,ch.R_X)){this.$d();this.updateHighlightStatus()}else{this.refreshImages()}this.layout()},handleValidStateChanged:function(){if(this.legacyLegendViewModel.$g()){this.refreshImages()}},onViewModelPropertyChanged:function(ch,ci){if(ss.compareStrings(ci.get_propertyName(),'urlCacheInfo',false)===0){}else if(ss.compareStrings(ci.get_propertyName(),'ParentZoneSizeChanged',false)===0){this.$e();if(this.get_legendTooltip().get_isTooltipShown()){this.get_legendTooltip().repositionWithinRegion(tab.DomUtil.getRectXY(this.get_legendTemplate().domBox))}}else if(ss.equalsT(ci.get_propertyName(),'titleVisible')){this.handleNewLegacyLegend()}},$e:function(){var ch=this.legacyLegendViewModel.$4();if(ss.isValue(ch)&&!tab.SizeUtil.equals(ch,this.$g)){this.get_legendTemplate().domBox.css(ss.mkdict(['width',ch.w+'px','height',ch.h+'px']));this.$g=ch}},get_visualId:function(){return tab.ModelUtils.getVisualId(this.legacyLegendViewModel.get_sheetName())},allowHover:function(){},disallowHover:function(){},doConnections:function(){},cancelHover:function(){},hideControls:function(){this.get_legendTemplate().domHighlighterHolder.css('visibility','hidden');this.get_domRoot().removeClass('tvmodeSelect')},updateHighlightStatus:function(){this.get_legendTemplate().domHighlighterHolder.toggleClass('tabHighlightEnabled',this.get_serverRenderedModel().MJI);this.get_legendTemplate().domHighlighterHolder.toggleClass('tabHighlightDisabled',!this.get_serverRenderedModel().MJI)},refreshImages:function(){var ch=this.get_viewModel().$f();this.$h+=1;this.bodySize=null;var ci=this.$h+'Z'+this.$i;var cj=(ss.isValue(this.get_serverRenderedModel().dWr)?this.get_serverRenderedModel().dWr.toString():'');this.disallowHover();this.get_legendTemplate().domBox.addClass('LegendBusy');if(tab.BrowserSupport.get_isSafari()||this.get_serverRenderedModel().fXK){this.get_legendTemplate().get_contentArea().css('overflow','hidden')}var ck=this.$f().formatLegendRegionTileURL(ch,this.get_serverRenderedModel().jhL+'-body',this.get_serverRenderedModel().R_X,cj,ci);this.get_legendTemplate().domImageBody.attr('src',ck)},onImageLoadFailed:function(){this.get_legendTemplate().domContent.css('visibility','hidden')},onSelectionChanged:function(ch,ci){if(!ss.referenceEquals(ch,this.get_viewModel().get_viewController().get_sheetName())){return}if(ss.isNullOrUndefined(ci)){return}this.allowHover()},getDocumentPoint:function(ch){var ci={x:0,y:0};if(this.get_legendViewModel().get_titleInline()&&!this.get_serverRenderedModel().HNR){ci.x=-this.get_legendViewModel().get_titleWidth();ci.y=this.get_legendViewModel().get_titleHeight()}return{x:ch.pageX+ci.x,y:ch.pageY+ci.y}},documentPointToContentPoint:function(ch){var ci=this.get_legendTemplate().get_contentArea().offset();return{x:ch.x-tab.DoubleUtil.roundToInt(ci.left)+this.get_legendTemplate().get_contentArea().scrollLeft()+this.bodyOffset.x,y:ch.y-tab.DoubleUtil.roundToInt(ci.top)+tab.DoubleUtil.roundToInt(this.get_legendTemplate().get_contentArea().scrollTop())+this.bodyOffset.y}},onHover:function(ch){var ci=this.getDocumentPoint(ch);var cj=this.documentPointToContentPoint(ci);if('map'!==this.get_serverRenderedModel().jhL){this.get_legendTooltip().hoverOverCoordinates(ci,cj,'legenditem',this.legacyLegendViewModel.get_regionType())}},toggleHighlight:function(){this.get_serverRenderedModel().MJI=!this.get_serverRenderedModel().MJI;this.updateHighlightStatus();var ch=this.legacyLegendViewModel.get_regionType();var ci=this.get_serverRenderedModel().R_X;var cj=ci.split('\n');var ck=tab.ModelUtils.getZoneIdForSheetName(this.$f().sheetId);if(ck!==-1){tab.SelectionClientCommands.toggleLegendHighlight(ck,this.$f().get_visualId(),ch,cj,null)}},setBodySize:function(){this.get_legendTemplate().domContent.css('visibility','');this.allowHover();this.get_legendTemplate().domBox.removeClass('LegendBusy');this.bodySize={w:tab.DoubleUtil.roundToInt(this.get_legendTemplate().domImageBody.width()),h:tab.DoubleUtil.roundToInt(this.get_legendTemplate().domImageBody.height())};this.layout()},layout:function(){if(!!!this.bodySize){return}this.drawTitle();this.get_domRoot().removeClass('LegendHorizontal');if(this.get_serverRenderedModel().fXK){this.get_domRoot().addClass('CategoricalLegend')}else{this.get_domRoot().addClass('QuantitativeLegend')}var ch=this.$g;var ci={w:ch.w,h:ch.h};this.bodyOffset={x:0,y:0};if(this.get_legendViewModel().get_titleInline()){ci.w=ch.w-this.get_legendViewModel().get_titleWidth();this.bodyOffset.x=this.get_legendViewModel().get_titleWidth()}else{ci.h=ch.h-this.get_legendViewModel().get_titleHeight();this.bodyOffset.y=this.get_legendViewModel().get_titleHeight()}this.layoutButtons(ci)},getFieldNameVec:function(){if(ss.isValue(this.get_serverRenderedModel().R_X)){return this.get_serverRenderedModel().R_X.toString().split('\n')}return null},$d:function(){var ch=this.get_serverRenderedModel();if(!ch.fXK){this.get_legendTemplate().domImageBody.css('width','inherit')}else if(this.get_serverRenderedModel().ICz!=='vertical'){var ci=ch.gCJ;if(!!!ch.HNR&&this.get_legendViewModel().get_hasTitle()&&ss.isValue(ch.jZr)&&ch.jZr!==0){ci-=ch.jZr+1}this.get_legendTemplate().domImageBody.css('height',ci+'px');this.get_legendTemplate().domImageBody.css('width','')}else{this.get_legendTemplate().domImageBody.css('width',ch.mi_+'px');this.get_legendTemplate().domImageBody.css('height','')}},layoutButtons:null,makeViewerInputHandler:null},ss.makeGenericType(g,[Y]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[Y]),ss.makeGenericType(tab.ILegacyLegendView$1,[Y])]);ss.initClass(Y,a,{add_newLegacyLegend:function(ch){this.$3$1=ss.delegateCombine(this.$3$1,ch)},remove_newLegacyLegend:function(ch){this.$3$1=ss.delegateRemove(this.$3$1,ch)},add_validStateChanged:function(ch){this.$3$2=ss.delegateCombine(this.$3$2,ch)},remove_validStateChanged:function(ch){this.$3$2=ss.delegateRemove(this.$3$2,ch)},get_presModel:function(){return this.$h.pm},get_viewId:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetName())},get_sessionId:function(){return tab.CommandController.get().get_legacySession().get_id()},get_sheetName:function(){return this.get_parentZoneVM().get_associatedSheet()},get_viewSession:function(){return tab.ModelUtils.getViewSession(this.get_sheetName())},get_viewController:function(){if(ss.isNullOrUndefined(this.$i)){this.$i=_.find(tab.Application.get_instance().get_client().get_viewControllers(),ss.mkdel(this,function(ch){return ss.referenceEquals(ch.get_sheetName(),this.get_sheetName())}))}return this.$i},$f:function(){return this.get_visualModel().get_cacheUrlInfo()},$g:function(){return this.get_parentZoneVM().get_valid()},get_presModelTitleHtml:function(){return this.get_presModel().XjF},get_presModelTitleInline:function(){return this.get_presModel().HNR},get_regionType:function(){var ch='color';switch(this.get_presModel().jhL){case'color':{ch='color';break}case'size':{ch='size';break}case'shape':{ch='shape';break}case'map':{ch='map';break}default:{break}}return ch},get_borderWidth:function(){if(ss.isValue(this.get_parentZoneVM())){return this.get_parentZoneVM().get_model().borderWidth()}return 0},get_presModelTitleHeight:function(){return this.get_presModel().jZr},get_presModelTitleWidth:function(){return(this.get_presModel().fXK?this.get_presModel().nkG1:this.$5().w)},handleZoneValidStateChanged:function(){this.$e()},dispose:function(){this.$h.remove_newLegacyLegend(ss.mkdel(this,this.handleNewLegacyLegend));this.get_visualModel().remove_urlInfoCacheChange(ss.mkdel(this,this.$c));this.$j.remove_validStateChanged(ss.mkdel(this,this.handleZoneValidStateChanged));bg.prototype.dispose.call(this)},handleNewLegacyLegend:function(){this.$d()},$d:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$e:function(){if(ss.isValue(this.$3$2)){this.$3$2()}},$c:function(){this.notifyPropertyChanged('urlCacheInfo')}},bg,[ss.IDisposable,spiff.IViewModel,tab.ILegacyLegendViewModel]);ss.initClass(ba,a,{get_attributes:function(){return this.attributes},get_presModel:function(){return this.presModel},get_oCurrentMin:function(){return this.oCurrentMin},get_oCurrentMax:function(){return this.oCurrentMax},get_editingFormat:function(){if(ss.isNullOrUndefined(this.$e)){this.$e=tableau.format.deriveNumberEditingFormat(this.oFilter.format)}return this.$e},get_quickFilterViewModel:function(){return this.filterViewModel},$1:function(){if(ss.isValue(this.domNode)&&this.$g){this.layout(null)}},postCreate:function(){if(this.filterViewModel.get_filterType()!=='Quantitative'){}this.domLowerInput.style.display='none';this.domUpperInput.style.display='none';$(this.domLowerInput).on('blur',ss.mkdel(this,this.hideLowerInput)).on('keydown',ss.mkdel(this,this.lowerInputKeyDown)).on('keypress',ss.mkdel(this,this.checkLowerEnter));$(this.domUpperInput).on('blur',ss.mkdel(this,this.hideUpperInput)).on('keydown',ss.mkdel(this,this.upperInputKeyDown)).on('keypress',ss.mkdel(this,this.checkUpperEnter));$(document.body).on('mousedown.'+this.domNode.id,ss.mkdel(this,function(cj){if(!ss.referenceEquals(cj.target,this.domLowerInput)){this.domLowerInput.blur()}if(!ss.referenceEquals(cj.target,this.domUpperInput)){this.domUpperInput.blur()}}));this.timestamp=(new Date).getTime();this.localize();var ch=tableau.format.formatColumnDisplayName(this.oFilter,false,true);this.domTitleBar.setAttribute('title',ch);this.updateTitleBar();this.$9();var ci=this.oFilter.table;this.$3(ci.min.v,ci.max.v)},$9:function(){if(this.metricsOnly){return}var ch=0;var ci=ss.mkdel(this,function(cj,ck){if(ck){$(cj.domNode).removeClass(this.classQFButtonR+'1 '+this.classQFButtonR+'2 '+this.classQFButtonR+'3');cj.domNode.classList.add(this.classQFButtonHide)}else{ch+=1;cj.domNode.classList.remove(this.classQFButtonHide);cj.domNode.classList.add(this.classQFButtonR+ch)}});ci(this.menuButton,this.shouldHideContextMenu());ci(this.domainButton,this.shouldHideDomainButton());ci(this.resetButton,this.shouldHideResetButton());this.domControls.classList.add(this.classQF+ch+'Button');$(this.menuButton.domNode).css('background-color',this.backgroundColor);$(this.domainButton.domNode).css('background-color',this.backgroundColor);$(this.resetButton.domNode).css('background-color',this.backgroundColor)},$3:function(ch,ci){if(this.isMaxRange(ch,ci)){bB.disableResetButton(this.resetButton)}else{bB.enableResetButton(this.resetButton)}},isMaxRange:function(ch,ci){var cj=ss.isValue(ch);var ck=ss.isValue(ci);if(cj&&ck&&this.oFilter.table.included!=='include-all'){return false}var cl=this.oFilter.range.min.v;var cm=this.oFilter.range.max.v;if(!cj){ch=cl}if(!ck){ci=cm}return ss.isValue(cl)&&ss.isValue(ch)&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(ch),ss.unbox(cl))&&(ss.isValue(cm)&&ss.isValue(ci)&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(ci),ss.unbox(cm)))},postMixInProperties:function(){this.inherited(arguments);this.templateRoot=dojo.moduleUrl('tableau.base.widget','templates').toString()},destroy:function(ch){if(ss.isValue(this.$h)){this.$h.dispose()}$(this.domLowerInput).off('blur').off('keydown').off('keypress');$(this.domUpperInput).off('blur').off('keydown').off('keypress');$(document.body).off('mousedown.'+this.domNode.id);this.showContextMenu=null;this.requestSetAttributes=null;this.getContextMenuCommands=null;tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$1));this.inherited(arguments)},showFullDateTimes:function(ch,ci){return 0},getPrecision:function(){return this.precision},hasCurrentMin:function(){return tab.LegacyFilterModel.isNormalValue(this.oCurrentMin)},hasCurrentMax:function(){return tab.LegacyFilterModel.isNormalValue(this.oCurrentMax)},getRangeMin:function(){return(ss.isValue(this.rangeMinOverride)?this.rangeMinOverride:this.oRangeMin.v)},getRangeMax:function(){return(ss.isValue(this.rangeMaxOverride)?this.rangeMaxOverride:this.oRangeMax.v)},getRange:function(){var ch=this.getRangeMin();var ci=this.getRangeMax();if(ss.isValue(ch)&&ss.isValue(ci)){return ss.Nullable$1.sub(ci,ch)}return null},hasDataMin:function(){var ch=this.presModel.ps$;return tab.LegacyFilterModel.isNormalValue(this.oDataMin)&&ss.keyExists(ch,'IIq'.toString())},hasDataMax:function(){var ch=this.presModel.ps$;return tab.LegacyFilterModel.isNormalValue(this.oDataMax)&&ss.keyExists(ch,'Wba'.toString())},getDataMin:function(){return this.oDataMin.v},getDataMax:function(){return this.oDataMax.v},getCurMin:function(){return this.oCurrentMin.v},getCurMax:function(){return this.oCurrentMax.v},getMinText:function(){return this.speciallyFormatDataValueForQuantitativeQF(this.oCurrentMin)},getMaxText:function(){return this.speciallyFormatDataValueForQuantitativeQF(this.oCurrentMax)},getLowerPos:function(){return this.domLowerImg.offsetLeft-this.oMetrics.absOffset+(this.$f-1)},setLowerPos:function(ch){this.domLowerImg.style.left=ch+this.oMetrics.absOffset-(this.$f-1)+'px'},$4:function(){return this.lastLowerOffset!==this.domLowerImg.offsetLeft},$2:function(){return this.domUpperImg.offsetLeft-this.oMetrics.absOffset},setUpperPos:function(ch){this.domUpperImg.style.left=ch+this.oMetrics.absOffset+'px'},$5:function(){return this.lastUpperOffset!==this.domUpperImg.offsetLeft},isRange:function(){switch(this.oFilter.table.included){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}},shouldHideDomainButton:function(){return this.hideEmptyTitlebar()||this.attributes['show-morefewerbutton']!=='true'},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var ch=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(ch)||ch.get_commandItems().length===0},shouldHideResetButton:function(){return this.hideEmptyTitlebar()||this.attributes['show-all']==='false'||this.attributes['show-filter-state']==='false'},computePrecision:function(ch){var ci=this.getRange();var cj=((ss.isValue(ci)&&ch!==0)?(ss.unbox(ci)/ch):1);var ck=Math.log(cj)/Math.log(10);this.precision=((ck>0)?Math.ceil(ck):Math.floor(ck));if(this.precision===Number.NEGATIVE_INFINITY||isNaN(this.precision)){this.precision=5}},$a:function(ch,ci,cj){var ck;var cl=ch*ss.coalesce(this.getRange(),0)/ci;if(this.precision>=0){return Math.round(cj+cl)}ck=Math.pow(10,-this.precision);return Math.round((cj+cl)*ck)/ck},clearDataRange:function(){if(ss.isValue(this.oDataMin)){this.oDataMin=null}if(ss.isValue(this.oDataMax)){this.oDataMax=null}this.domHighlight.style.visibility='hidden'},setMinValue:function(ch){if(ss.isNullOrUndefined(ch)||isNaN(ch)){return}if(this.hasCurrentMax()&&ss.Nullable$1.gt(ch,this.getCurMax())){ch=ss.unbox(this.getCurMax())}if(this.oCurrentMin.t==='i'){this.oCurrentMin.v=Math.round(ch)}else{this.oCurrentMin.v=ch}this.domLowerText.textContent=this.getMinText();var ci=this.getRangeMin();if(this.hasCurrentMin()&&(!ss.isValue(ci)||ss.Nullable$1.lt(this.getCurMin(),ci))){this.rangeMinOverride=this.getCurMin()}},setMaxValue:function(ch){if(ss.isNullOrUndefined(ch)||isNaN(ch)){return}if(this.hasCurrentMin()&&ss.Nullable$1.lt(ch,this.getCurMin())){ch=ss.unbox(this.getCurMin())}if(this.oCurrentMax.t==='i'){this.oCurrentMax.v=Math.round(ch)}else{this.oCurrentMax.v=ch}this.domUpperText.textContent=this.getMaxText();var ci=this.getRangeMax();if(this.hasCurrentMax()&&(!ss.isValue(ci)||ss.Nullable$1.gt(this.getCurMax(),ci))){this.rangeMaxOverride=this.getCurMax()}},removeRangeOverride:function(){this.rangeMinOverride=null;this.rangeMaxOverride=null},getValueFromInput:function(ch,ci){var cj={t:ci.t,v:ss.unbox(ci.v)};return tableau.format.parseQuantitativeDataValue(ch.value,ci.t,this.get_editingFormat(),this.showFullDateTimes(this.get_editingFormat()),cj)},speciallyFormatDataValueForQuantitativeQF:function(ch){return tableau.format.formatDataValue(ch,this.oFilter.role,this.oFilter.format,null,0)},initValues:function(){this.oRangeMin=$.extend({},this.oFilter.range.min);this.oRangeMax=$.extend({},this.oFilter.range.max);this.oDataMin=$.extend({},this.oFilter.data.min);this.oDataMax=$.extend({},this.oFilter.data.max);if(this.isRange()&&(ss.isValue(this.oFilter.table.min.v)||ss.isValue(this.oFilter.table.max.v))){this.oCurrentMin=$.extend({},this.oFilter.table.min);this.oCurrentMax=$.extend({},this.oFilter.table.max)}else{this.oCurrentMin=$.extend({},this.oFilter.range.min);this.oCurrentMax=$.extend({},this.oFilter.range.max)}this.oMetrics={};this.domLowerInput.value=tableau.format.formatDataValue(this.oCurrentMin,this.oFilter.role,this.get_editingFormat(),null,this.showFullDateTimes(this.get_editingFormat()));this.domUpperInput.value=tableau.format.formatDataValue(this.oCurrentMax,this.oFilter.role,this.get_editingFormat(),null,this.showFullDateTimes(this.get_editingFormat()))},setTitleSize:function(ch,ci){this.titleH=ch;this.titleW=ci},resize:function(ch){tab.DomUtil.setMarginBox(this.domNode,ch);this.layout(null)},layout:function(ch){this.$g=true;var ci=200;this.initValues();this.updateTitleBar();if(this.hasCurrentMin()){this.domLowerText.textContent=this.getMinText();this.domLowerText.parentNode.classList.remove(this.classQFDisabled);this.domLowerText.parentNode.classList.add('tab-ctrl-formatted-border-hover')}else{this.domLowerText.textContent=this.speciallyFormatDataValueForQuantitativeQF(this.oRangeMin);this.domLowerText.parentNode.classList.add(this.classQFDisabled);this.domLowerText.parentNode.classList.remove('tab-ctrl-formatted-border-hover')}if(this.hasCurrentMax()){this.domUpperText.textContent=this.getMaxText();this.domUpperText.parentNode.classList.remove(this.classQFDisabled);this.domUpperText.parentNode.classList.add('tab-ctrl-formatted-border-hover')}else{this.domUpperText.textContent=this.speciallyFormatDataValueForQuantitativeQF(this.oRangeMax);this.domUpperText.parentNode.classList.add(this.classQFDisabled);this.domUpperText.parentNode.classList.remove('tab-ctrl-formatted-border-hover')}this.domNode.classList.add(this.classQFHideButtons);this.domNode.classList.remove(this.classQFCenterText);var cj=dojo.marginBox(this.domTitleBar);this.resetTitleSize();var ck=this.titleH===0&&this.titleW===0;if(this.titleH>0||ck){cj.h=this.titleH;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',cj.h]))}if(this.titleW>0||ck){cj.w=this.titleW;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',cj.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var cl=dojo.contentBox(this.domNode);var cm={w:cl.w,h:cl.h};if(!this.metricsOnly){if(this.titleW>0){cm.w=cl.w-cj.w;this.domContent.style.top='';this.domContent.style.left=cj.w+'px'}else if(this.titleH>0){this.domNode.classList.remove(this.classQFHideButtons);cm.h=cl.h-cj.h;this.domContent.style.top=cj.h+'px';this.domContent.style.left=''}else{this.domNode.classList.remove(this.classQFHideButtons);this.domContent.style.top='';this.domContent.style.left=''}}dojo.marginBox(this.domContent,ss.mkdict(['w',cm.w,'h',cm.h]));if(this.attributes['show-slider']!=='false'&&this.attributes['show-readout']!=='false'){this.domNode.classList.remove(this.classQFHideReadout);this.domNode.classList.remove(this.classQFHideSlider);var cn=dojo.contentBox(this.domLowerBound).h+dojo.contentBox(this.domLowerImg).h+8;if(cm.h<cn&&cm.w>200){this.domNode.classList.add(this.classQFCenterText);var co=this.contentBox(this.domLowerText).w;var cp=this.contentBox(this.domUpperText).w;this.domLowerBound.style.width='';this.domUpperBound.style.width='';this.domLowerBound.style.top='0';this.domUpperBound.style.top='0';var cq=cm.w-(co+dojo.contentBox(this.domLowerImg).w)-(cp+dojo.contentBox(this.domUpperImg).w)-16;if(cq<=0){this.domNode.classList.add(this.classQFHideSlider)}else{dojo.marginBox(this.domBar,ss.mkdict(['w',cq]));this.domBar.style.top='7px';this.domBar.style.left=co+tab.DomUtil.getContentBox(this.domLowerImg).w+8+'px';this.domLowerInput.style.width=co+'px';this.domUpperInput.style.width=cp+'px'}}else{var cr=Math.min(ci,Math.floor(cm.w/2-4));dojo.marginBox(this.domLowerBound,ss.mkdict(['w',cr]));dojo.marginBox(this.domUpperBound,ss.mkdict(['w',cr]));this.domLowerInput.style.width=dojo.contentBox(this.domLowerBound).w+'px';this.domUpperInput.style.width=dojo.contentBox(this.domUpperBound).w+'px';var cs=this.domLowerBound.offsetTop+this.domLowerBound.offsetHeight+8;dojo.marginBox(this.domBar,ss.mkdict(['w',cm.w-24]));this.domBar.style.top=cs+'px';this.domBar.style.left='12px'}}else if(this.attributes['show-slider']!=='false'){this.domNode.classList.add(this.classQFHideReadout);this.domNode.classList.remove(this.classQFHideSlider);dojo.marginBox(this.domBar,ss.mkdict(['w',cm.w-24]));this.domBar.style.left='12px'}else if(this.attributes['show-readout']!=='false'){this.domNode.classList.remove(this.classQFHideReadout);this.domNode.classList.add(this.classQFHideSlider);var ct=Math.min(ci,Math.floor(cm.w/2-4));dojo.marginBox(this.domLowerBound,ss.mkdict(['w',ct]));dojo.marginBox(this.domUpperBound,ss.mkdict(['w',ct]));this.domLowerInput.style.width=tab.DomUtil.getContentBox(this.domLowerBound).w+'px';this.domUpperInput.style.width=tab.DomUtil.getContentBox(this.domUpperBound).w+'px'}else{this.domNode.classList.add(this.classQFHideSlider);this.domNode.classList.add(this.classQFHideReadout)}this.oMetrics.top=this.domBar.offsetTop-2;this.oMetrics.absOffset=this.domBar.offsetLeft;this.oMetrics.left=0;this.oMetrics.right=this.domBar.offsetWidth;if(this.hasCurrentMin()){this.domLowerImg.style.top=this.oMetrics.top-4+'px';this.domLowerImg.style.visibility='visible'}else{this.domLowerImg.style.visibility='hidden'}if(this.hasCurrentMax()){this.domUpperImg.style.top=this.oMetrics.top-4+'px';this.domUpperImg.style.visibility='visible'}else{this.domUpperImg.style.visibility='hidden'}var cu=(this.shouldShowDomContent()?'visible':'hidden');this.domContent.style.visibility=cu;this.oMetrics.width=this.oMetrics.right-this.oMetrics.left;this.computePrecision(this.oMetrics.width);var cv=this.hasDataMin()||this.hasDataMax();this.domHighlight.style.visibility=(cv?'visible':'hidden');this.updateMinAndMax(this.oCurrentMin.v,this.oCurrentMax.v);this.updateDomainButton()},shouldShowDomContent:function(){return this.hasCurrentMax()||this.hasCurrentMin()},updateFromIcons:function(){var ch,ci;var cj;if(this.hasCurrentMin()&&this.$4()){var ck=this.getLowerPos();ch=ck-this.oMetrics.left;if(ch===0){cj=this.getRangeMin()}else if(ch===this.oMetrics.width){cj=this.getRangeMax()}else if(this.hasCurrentMax()&&this.getLowerPos()===this.$2()){cj=this.getCurMax()}else{cj=this.$a(ch,this.oMetrics.width,ss.unbox(this.getRangeMin())||0)}if(ss.isValue(cj)){this.setMinValue(ss.unbox(cj))}this.lastLowerOffset=this.domLowerImg.offsetLeft;this.domRange.style.left=ck+'px'}ci=(this.hasCurrentMin()?this.getLowerPos():this.oMetrics.left);if(this.hasCurrentMax()){var cl=this.$2()-ci;if(this.$5()){ch=this.oMetrics.right-this.$2();if(ch===0){cj=this.getRangeMax()}else if(ch===this.oMetrics.width){cj=this.getRangeMin()}else if(this.hasCurrentMin()&&this.getLowerPos()===this.$2()){cj=this.getCurMin()}else{cj=this.$a(-ch,this.oMetrics.width,ss.unbox(this.getRangeMax())||0)}if(ss.isValue(cj)){this.setMaxValue(ss.unbox(cj))}this.lastUpperOffset=this.domUpperImg.offsetLeft}this.domRange.style.width=cl+'px'}else{this.domRange.style.width=this.oMetrics.right-ci+'px'}this.updateDataBar()},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},updateFromOneInput:function(ch){var ci,cj;if(ss.referenceEquals(ch,this.domLowerInput)){ci=(this.hasCurrentMin()?this.getValueFromInput(this.domLowerInput,this.oCurrentMin):Number.MIN_VALUE);cj=this.oCurrentMax.v}else{ci=this.oCurrentMin.v;cj=(this.hasCurrentMax()?this.getValueFromInput(this.domUpperInput,this.oCurrentMax):Number.MAX_VALUE)}this.updateMinAndMax(ci,cj)},updateMinAndMax:function(ch,ci){var cj;if(ss.isValue(ch)&&ss.isValue(ci)){if(ss.unbox(ch)>ss.unbox(ci)){var ck=ch;ch=ci;ci=ck}}this.removeRangeOverride();if(this.hasCurrentMin()&&ss.isValue(ch)&&!isNaN(ss.unbox(ch))){this.setMinValue(ss.unbox(ch))}if(this.hasCurrentMax()&&ss.isValue(ci)&&!isNaN(ss.unbox(ci))){this.setMaxValue(ss.unbox(ci))}var cl=this.getRange();cj=this.oMetrics.left;if(this.hasCurrentMin()){var cm=((ss.isValue(cl)&&!tab.DoubleUtil.isApproximatelyZero(ss.unbox(cl)))?Math.round((ss.coalesce(this.getCurMin(),0)-ss.coalesce(this.getRangeMin(),0))*this.oMetrics.width/ss.unbox(cl)):0);if(this.oMetrics.left+cm>this.oMetrics.width){cm=this.oMetrics.left+this.oMetrics.width}this.setLowerPos(this.oMetrics.left+cm);this.lastLowerOffset=this.domLowerImg.offsetLeft;this.domRange.style.left=this.oMetrics.left+cm+'px';cj=this.getLowerPos()}else{this.domRange.style.left=cj+'px'}if(this.hasCurrentMax()){var cn=(this.hasCurrentMin()?this.getCurMin():this.getRangeMin());var co=((ss.isValue(cl)&&!tab.DoubleUtil.isApproximatelyZero(ss.unbox(cl)))?Math.round((ss.coalesce(this.getCurMax(),0)-ss.unbox(cn))*this.oMetrics.width/ss.unbox(cl)):this.oMetrics.width);this.setUpperPos(cj+co);this.lastUpperOffset=this.domUpperImg.offsetLeft;this.domRange.style.width=Math.max(co,0)+'px'}else{this.domRange.style.width=Math.max(this.oMetrics.right-cj,0)+'px'}this.updateDataBar()},updateDataBar:function(){var ch=0;var ci;var cj;var ck=this.getRange();if(ss.isValue(ck)&&!tab.DoubleUtil.isApproximatelyZero(ss.unbox(ck))&&this.hasDataMin()){var cl=ss.coalesce((this.hasCurrentMin()?this.getCurMin():this.getRangeMin()),0);ch=Math.round((ss.coalesce(this.getDataMin(),0)-cl)*this.oMetrics.width/ss.unbox(ck))}this.domHighlight.style.left=ch+'px';cj=(this.hasCurrentMin()?this.getLowerPos():this.oMetrics.left);ci=(this.hasCurrentMax()?this.$2():this.oMetrics.right)-cj;if(ss.isValue(ck)&&this.hasDataMax()){var cm=(this.hasDataMin()?this.getDataMin():this.getRangeMin());if(!tab.DoubleUtil.isApproximatelyZero(ss.unbox(ck))){ci=Math.round((ss.coalesce(this.getDataMax(),0)-ss.unbox(cm))*this.oMetrics.width/ss.unbox(ck))}ci=Math.max(ci,2)}this.domHighlight.style.width=Math.max(ci,0)+'px'},startUpperCapture:function(ch){this.startCapture(ch,false,this.domUpperImg)},startLowerCapture:function(ch){this.startCapture(ch,false,this.domLowerImg)},startRangeCapture:function(ch){if(this.hasCurrentMin()&&this.hasCurrentMax()){this.startCapture(ch,true,this.domRange)}},startCapture:function(ch,ci,cj){this.savePreviousMinAndMaxVals();var ck=(ci?ss.mkdel(this,this.$8):ss.mkdel(this,this.onMouseMove));spiff.EventUtil.stopEvent(ch);var cl=this.getRange();if(!ss.isValue(cl)||tab.DoubleUtil.isApproximatelyZero(ss.unbox(cl))){return}this.captureInfo={x:ch.pageX,y:ch.pageY,xStart:cj.offsetLeft,isRangeCapture:ci,oImg:cj};if(ci){this.captureInfo.lowerStart=this.getLowerPos();this.captureInfo.upperStart=this.$2()}if(ss.isValue(this.$h)){this.$h.dispose()}this.$h=new tab.DisposableHolder;this.$h.add$1(spiff.EventUtil.bindWithDispose($(document),'mousemove',ck));this.$h.add$1(spiff.EventUtil.bindWithDispose($(document),'mouseup',ss.mkdel(this,this.$b)))},onMouseMove:function(ch){var ci=(this.hasCurrentMin()?this.getLowerPos():this.oMetrics.left);var cj=(this.hasCurrentMax()?this.$2():this.oMetrics.right);var ck=(ss.referenceEquals(this.captureInfo.oImg,this.domLowerImg)?(this.oMetrics.left-this.$f):ci);var cl=(ss.referenceEquals(this.captureInfo.oImg,this.domUpperImg)?this.oMetrics.right:(cj-this.$f));var cm=ch.pageX-this.captureInfo.x+this.captureInfo.xStart-this.oMetrics.absOffset;spiff.EventUtil.stopEvent(ch);cm=Math.min(cl,Math.max(ck,cm));var cn=false;if(ss.referenceEquals(this.captureInfo.oImg,this.domLowerImg)){cn=cm+this.$f!==ci;this.setLowerPos(cm+this.$f)}else{cn=cm!==cj;this.setUpperPos(cm)}this.updateFromIcons();if(cn){this.applyQuantFilter(this.getCurMin(),this.getCurMax())}},applyQuantFilter:function(ch,ci){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var cj=new tab.QuantitativeFilterData(this.oFilter.targetSheets,this.field,ch,ci,this.previousMinVal,this.previousMaxVal);tab.FilterClientCommands.updateQuantitativeFilter(cj)}},savePreviousMinAndMaxVals:function(){this.previousMinVal=this.getCurMin();this.previousMaxVal=this.getCurMax()},$8:function(ch){var ci=this.captureInfo.x-(this.captureInfo.lowerStart-this.oMetrics.left);var cj=this.captureInfo.x+(this.oMetrics.right-this.captureInfo.upperStart);var ck=ch.pageX;ck=Math.min(cj,Math.max(ci,ck));spiff.EventUtil.stopEvent(ch);this.setLowerPos(this.captureInfo.lowerStart+(ck-this.captureInfo.x));this.setUpperPos(this.captureInfo.upperStart+(ck-this.captureInfo.x));tab.ModelUtils.invalidateVisuals(this.oFilter.targetSheets);this.updateFromIcons()},$b:function(ch){if(ss.isValue(this.$h)){this.$h.dispose()}this.$h=null;spiff.EventUtil.stopEvent(ch);if(this.captureInfo.x!==ch.pageX){this.removeRangeOverride();this.updateFromIcons();this.notifyChange()}},showLowerInput:function(ch){if(!this.hasCurrentMin()){return}this.showInput(ch,this.oCurrentMin,this.domLowerInput);this.domLowerBound.classList.add('active');this.savePreviousMinAndMaxVals()},showUpperInput:function(ch){if(!this.hasCurrentMax()){return}this.showInput(ch,this.oCurrentMax,this.domUpperInput);this.domUpperBound.classList.add('active');this.savePreviousMinAndMaxVals()},showInput:function(ch,ci,cj){spiff.EventUtil.stopEvent(ch);if($(cj).css('display')!=='none'){return}cj.value=tableau.format.formatDataValue(ci,this.oFilter.role,this.get_editingFormat(),null,this.showFullDateTimes(this.get_editingFormat()));this.showInputStartValue=this.getValueFromInput(cj,ci);$(cj).show().siblings('.readoutText').hide();cj.focus();cj.select()},lowerInputKeyDown:function(ch){this.$7(ch,this.domLowerInput)},upperInputKeyDown:function(ch){this.$7(ch,this.domUpperInput)},$7:function(ch,ci){if(ch.which===27){$(ci).val('');ci.blur()}},checkLowerEnter:function(ch){this.$0(ch,this.domLowerInput)},checkUpperEnter:function(ch){this.$0(ch,this.domUpperInput)},$0:function(ch,ci){if(ch.keyCode===13){spiff.EventUtil.stopEvent(ch);ci.blur()}},hideLowerInput:function(ch){this.$6(ch,this.oCurrentMin,this.domLowerInput,this.domLowerBound)},hideUpperInput:function(ch){this.$6(ch,this.oCurrentMax,this.domUpperInput,this.domUpperBound)},$6:function(ch,ci,cj,ck){var cl=this.getValueFromInput(cj,ci);spiff.EventUtil.stopEvent(ch);this.applyInputValue(ci,cj,ck,cl,ss.mkdel(this,function(){this.updateFromOneInput(cj)}))},applyInputValue:function(ch,ci,cj,ck,cl){var cm=new Object;cm=$.extend({},ch);var cn=null;if(ss.isNullOrUndefined(ck)||isNaN(ss.unbox(ck))){ck=this.showInputStartValue}else{cm.v=ss.unbox(ck);cn=this.speciallyFormatDataValueForQuantitativeQF(cm)}var co=$(ci).hide().siblings('.readoutText').show();if(ss.isValue(ck)&&(ss.isValue(this.showInputStartValue)&&!tab.DoubleUtil.isApproximatelyEqual(ss.unbox(this.showInputStartValue),ss.unbox(ck)))){co.text(cn);cl();this.notifyChange()}this.showInputStartValue=null;cj.classList.remove('active')},applyChanges:function(){var ch=false;var ci=$.extend(false,new Object,this.oFilter.table);if(this.hasCurrentMin()&&(!ss.isValue(ci.min.v)||!tab.DoubleUtil.isApproximatelyEqual(ss.unbox(ci.min.v),ss.unbox(this.getCurMin())))){ch=true;ci.min=$.extend({},this.oCurrentMin)}if(this.hasCurrentMax()&&(!ss.isValue(ci.max.v)||!tab.DoubleUtil.isApproximatelyEqual(ss.unbox(ci.max.v),ss.unbox(this.getCurMax())))){ch=true;ci.max=$.extend({},this.oCurrentMax)}if(!ch){tab.FilterClientCommands.resetQuantitativeFilter(this.field,this.oFilter.targetSheets);return}this.clearDataRange();++this.rid;if(!this.isRange()){ci.included='include-range'}tab.FilterClientCommands.setQuantitativeFilterRange(this.session.get_visualId(),this.field,ci.min.v,ci.max.v,ci.included);this.$3(ci.min.v,ci.max.v)},updateDomainButton:function(){if(!ss.isValue(this.oFilter.domains)||this.oFilter.domains.length<=1){this.domainButton.domNode.style.display='none';return}var ch=this.domainButton.iconNode.classList;ch.remove('wcIconDomainAll');ch.remove('wcIconDomainContext');ch.remove('wcIconDomainRelevant');var ci=this.attributes['values'];if(ci==='relevant'){this.domainButton.attr('label',tab.Strings.QuickFilterShowLargerRange);ch.add('wcIconDomainRelevant')}else if(ci==='context'){this.domainButton.attr('label',tab.Strings.QuickFilterShowSmallerRange);ch.add('wcIconDomainContext')}else{this.domainButton.attr('label',tab.Strings.QuickFilterShowSmallerRange);ch.add('wcIconDomainAll')}},toggleReset:function(){var ch=this.oFilter.table;var ci=ss.isValue(ch.min.v);var cj=ss.isValue(ch.max.v);if(!ci&&cj||!cj&&ci){var ck=null;var cl=null;if(!ci){cl=this.getRangeMax()}else{ck=this.getRangeMin()}tab.FilterClientCommands.setQuantitativeFilterRange(this.session.get_visualId(),this.field,ck,cl,this.oFilter.table.included)}else{tab.FilterClientCommands.setQuantitativeFilterRange(this.session.get_visualId(),this.field,this.oRangeMin.v,this.oRangeMax.v,'include-all')}bB.disableResetButton(this.resetButton)},toggleDomain:function(){var ch=function(ck){return ck==='context'};var ci;var cj=this.attributes['values'];if(cj==='relevant'){ci='all'}else if(cj==='context'){ci='relevant'}else if(_.any(this.oFilter.domains,ch)){ci='context'}else{ci='relevant'}this.doRequestSetAttributes(ss.mkdict(['values',ci.toString()]),false)},doRequestSetAttributes:function(ch,ci){var cj=ss.getEnumerator(Object.keys(ch));try{while(cj.moveNext()){var ck=cj.current();this.attributes[ck]=ch[ck]}}finally{cj.dispose()}if(!tab.BaseSession.autoUpdate){this.initFromState()}this.requestSetAttributes(ch,ci)},notifyChange:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d);this.$d=window.setTimeout(ss.mkdel(this,this.applyChanges),this.$c)},initFromState:function(){this.$9();this.layout(null)},localize:function(){},contentBox:function(ch){var ci=$(ch).css('display');if(ci==='none'){ch.style.display=''}var cj=dojo.contentBox(ch);ch.style.display=ci;return cj}},be);ss.initClass(Z,a,{get_editingFormat:function(){return this.oFilter.editing_format},postCreate:function(){this.inherited(arguments);var ch=this.oFilter.date_format;var ci=ch.locale_formatting_strings;var cj=this.get_editingFormat();var ck=ci.narrowDay.filter(function(co){return!ss.isNullOrEmptyString(co)});var cl=this.oFilter.first_day_of_week;if(ss.isValue(cl)){cl=cl-1}var cm=new Date;var cn=new Date(Date.UTC(cm.getFullYear(),cm.getMonth(),cm.getDate()));this.$p=new tab.DatePicker(new tab.DatePickerSettings(cn,cn,null,null,cl,ck,ci.todayFormatTemplate,function(co){return tableau.format.formatCustomJSDateTime(co,tableau.format.mapIcuToOleFormat(ch.yearMonthFormat),0,'d',ch.locale,null,null,ci)},function(co){return tableau.format.formatCustomJSDateTime(co,cj.format,0,'d',cj.locale,null,null,ci)}));this.$p.element.on('dateSelected',ss.mkdel(this,this.$j)).on('mousedown',ss.mkdel(this,this.$i)).appendTo(document.body);this.$o=false},destroy:function(ch){this.$p.dispose();this.$p=null;this.inherited(arguments)},showFullDateTimes:function(ch,ci){this.$r=tab.QuickFilterDateFormatUtil.getDateTimeFormatMode([this.oCurrentMin,this.oCurrentMax,this.oRangeMin,this.oRangeMax,ci],this.get_presModel().Ymv02,ch,this.$r);return this.$r},speciallyFormatDataValueForQuantitativeQF:function(ch){return tableau.format.formatDataValue(ch,this.oFilter.role,this.oFilter.date_format,null,this.showFullDateTimes(this.oFilter.date_format,ch))},$l:function(){return tab.QuickFilterDateFormatUtil.isPureTime([this.oCurrentMin,this.oCurrentMax,this.oRangeMin,this.oRangeMax],this.get_presModel().Ymv02)},showInput:function(ch,ci,cj){this.inherited(arguments);if(this.get_presModel().Ymv02!=='trunc-month'&&this.get_presModel().Ymv02!=='trunc-year'&&!this.$l()&&(!ss.referenceEquals(this.$q,cj)||this.$p.element.is(':hidden'))){var ck=((tab.LegacyFilterModel.isNormalValue(ci)&&!isNaN(ss.unbox(ci.v)))?new Date(tableau.types.JsDateFromOleDate(ss.unbox(ci.v))):null);this.$p.show(ck);this.$q=cj;this.$m()}},layout:function(ch){this.inherited(arguments);this.$m()},$m:function(){if(ss.isNullOrUndefined(this.$q)){return}var ch=$((ss.referenceEquals(this.$q,this.domLowerInput)?this.domLowerBound:this.domUpperBound));this.$p.positionCalendarByElement(ch)},$j:function(ch,ci){this.$p.hide();var cj=ss.referenceEquals(this.$q,this.domLowerInput);var ck=(cj?this.oCurrentMin:this.oCurrentMax);var cl=(cj?this.domLowerBound:this.domUpperBound);var cm=Z.mergeDateWithTime(ci,new Date(tableau.types.JsDateFromOleDate(ss.unbox(ck.v))));var cn=tableau.types.OleDateFromJsDate(cm.getTime());this.applyInputValue(ck,this.$q,cl,cn,ss.mkdel(this,function(){this.$n(cj,cn)}))},$n:function(ch,ci){if(ch){this.updateMinAndMax(ci,this.oCurrentMax.v)}else{this.updateMinAndMax(this.oCurrentMin.v,ci)}},$i:function(ch){this.$o=true},hideLowerInput:function(ch){this.$k(ch,this.domLowerInput,ss.mkdel(this,function(ci){ba.prototype.hideLowerInput.call(this,ci)}))},hideUpperInput:function(ch){this.$k(ch,this.domUpperInput,ss.mkdel(this,function(ci){ba.prototype.hideUpperInput.call(this,ci)}))},$k:function(ch,ci,cj){if(this.$o){spiff.EventUtil.stopEvent(ch);this.$o=false;window.setTimeout(function(){if($(ci).is(':visible')){ci.focus()}},0)}else{cj(ch);this.$p.hide();if(ss.referenceEquals(this.$q,ci)){this.$q=null}}}},ba);ss.initClass(bb,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyQuantitativeQuickFilterModel:function(){return this.$2},get_range:function(){return this.$2.get_range()},get_data:function(){return this.$2.get_data()},get_dateFormat:function(){return this.$2.get_dateFormat()},get_editingFormat:function(){return this.$2.get_editingFormat()},get_format:function(){return this.$2.get_format()},get_calendarControlStartOfWeek:function(){return this.$2.get_calendarControlStartOfWeek()},get_dataSourceStartOfWeek:function(){return this.$2.get_dataSourceStartOfWeek()},get_quantitativeFilterTable:function(){return this.$2.get_quantitativeFilterTable()},get_column:function(){return this.get_quantitativeFilterTable().column},get_included:function(){return this.get_quantitativeFilterTable().included},get_min:function(){return this.get_quantitativeFilterTable().min},get_max:function(){return this.get_quantitativeFilterTable().max}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFilterTypeViewModel]);ss.initClass(bc,a,{get_zoneModel:function(){return this.$h().get_zoneModel()},get_domRoot:function(){return this.get_template().domRoot},$g:function(){return this.$h().get_frame()},$h:function(){return this.get_viewModel()},dispose:function(){if(ss.isValue(this.$i)){this.$i.destroyRecursiveShim(false);this.$i=null}ss.makeGenericType(spiff.BaseView$1,[bd]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.$h().get_quickFilterDisplayModel())){this.$b()}},$b:function(){if(ss.isNullOrUndefined(this.$i)||this.$h().get_needToUpdateDisplay()){if(ss.isNullOrUndefined(this.$i)){this.$i=this.$9();this.get_template().domRoot.append(this.$i.getDomNode());this.$i.startupShim()}else{this.$e()}this.$f();this.$a()}},$a:function(){if(ss.isValue(this.$i)&&(this.$h().get_needToUpdateContent()||this.$h().get_needToUpdateDisplay())){this.$i.updateAttributesShim(this.$g().attributes);this.$i.updateFilterStateShim(this.$h().get_filterPresModel())}},$f:function(){tab.DomUtil.resize(this.$i,this.get_zoneModel().get_zoneContentBounds());this.$i.setTitleSizeShim(this.$h().get_zoneTitleHeight(),this.$h().get_zoneTitleWidth())},$9:function(){var ch=this.$c();var ci=this.makeFilterPanel(ch);return ci},$e:function(){var ch=this.$c();this.$i.updateFilterPropertiesShim(ch);this.$i.updateSubWidgetShim(this.$h().get_filterPresModel())},$c:function(){var ch=this.$h().get_layoutSession();var ci=this.$h().get_zoneModel().get_worksheetName();var cj=new Object;cj.sessionid=ch.get_id();cj.urlRoot=ch.get_urlRoot();cj.layoutSession=ch;cj.sheetid=ci;cj.zid=this.$g().key.zid;cj.titleHTML=(this.get_zoneModel().get_hasTitle()?this.$h().get_quickFilterDisplayModel().get_quickFilterTitle().xBc:'');cj.session=this.$h().get_viewSession();cj.field=this.$g().param;cj.quickFilterDisplayViewModel=this.$h();if(ss.isValue(this.$g().format)){cj.format=this.$g().format}if(ss.isValue(this.$g().attributes)){cj.attributes=this.$g().attributes}if(ss.isValue(this.$g().w)){cj.width=this.$g().w}var ck=ss.mkdel(this,function(cl,cm){this.$d(this.$g().param,this.$h().get_visualId(),cl,cm)});cj.requestSetAttributes=ck;cj.textStyle=this.$h().get_quickFilterDisplayPresModel().mCc;if(ss.isValue(this.get_zoneModel().pm.rPC)){cj.backgroundColor=this.get_zoneModel().get_styledBoxModel().get_fillColor()}return cj},makeFilterPanel:function(ch){var ci=spiff.ObjectRegistry.resolve(tab.ILegacyDojoWidgetMaker).call(null,[]);return ci.makeFilterPanelWidget(ch)},$d:function(ch,ci,cj,ck){if(ss.keyExists(cj,'mode')){tab.FilterClientCommands.setCategoricalQuickFilterMode(ci,ch,cj['mode'])}else if(ss.keyExists(cj,'values')){tab.FilterClientCommands.setCategoricalQuickFilterDomain(ci,ch,cj['values'])}}},ss.makeGenericType(spiff.BaseView$1,[bd]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bd]),ss.makeGenericType(tab.ILegacyQuickFilterDisplayView$1,[bd])]);ss.initClass(bd,a,{add_updateQuickFilterDisplay:function(ch){this.$2$1=ss.delegateCombine(this.$2$1,ch)},remove_updateQuickFilterDisplay:function(ch){this.$2$1=ss.delegateRemove(this.$2$1,ch)},add_updateQuickFilterContent:function(ch){this.$2$2=ss.delegateCombine(this.$2$2,ch)},remove_updateQuickFilterContent:function(ch){this.$2$2=ss.delegateRemove(this.$2$2,ch)},add_resized:function(ch){this.$2$3=ss.delegateCombine(this.$2$3,ch)},remove_resized:function(ch){this.$2$3=ss.delegateRemove(this.$2$3,ch)},get_quickFilterDisplayModel:function(){return this.$a},get_frame:function(){return this.$a.get_frame()},get_zoneModel:function(){return this.$a.get_zoneModel()},get_quickFilterDisplayPresModel:function(){return this.$a.get_quickFilterDisplayPresModel()},get_viewSession:function(){return tab.ModelUtils.getViewSession(this.get_zoneModel().get_worksheetName())},get_layoutSession:function(){return tab.CommandController.get().get_legacySession()},get_zoneTitleHeight:function(){if(!this.get_zoneModel().get_hasTitle()||this.get_zoneModel().get_titleHeight()===0){return 0}var ch=this.get_quickFilterDisplayPresModel().jOs.EUR;if(ch>0){if(this.get_hasBorder()){ch+=3}ch=Math.max(ch,17)}return ch},get_zoneTitleWidth:function(){if(!this.get_zoneModel().get_hasTitle()||this.get_zoneModel().get_titleWidth()===0){return 0}return this.get_quickFilterDisplayPresModel().jOs.rec},get_hasBorder:function(){return this.$a.get_zoneModel().get_hasBorder()},get_filterPresModel:function(){return this.$6.get_filterPresModel()},get_filterTypeViewModel:function(){return this.$7},get_needToUpdateContent:function(){return this.$8},set_needToUpdateContent:function(ch){this.$8=ch},get_needToUpdateDisplay:function(){return this.$9},set_needToUpdateDisplay:function(ch){this.$9=ch},get_visualId:function(){return tab.ModelUtils.getVisualId(this.get_zoneModel().get_worksheetName())},handleUpdateQuickFilterDisplay:function(ch){this.set_needToUpdateDisplay(true);_.defer(ss.mkdel(this,function(){this.raiseActionEvent(this.$2$1);this.set_needToUpdateDisplay(false)}))},$4:function(){this.raiseActionEvent(this.$2$3)},$5:function(){this.set_needToUpdateContent(true);_.defer(ss.mkdel(this,function(){this.raiseActionEvent(this.$2$2);this.set_needToUpdateContent(false)}))},$3:function(){this.$2();switch(this.$6.get_filterType()){case'Categorical':{this.$7=new S(this.$6);break}case'Hierarchical':{this.$7=new V(this.$6);break}case'Quantitative':{this.$7=new bb(this.$6);break}case'RelativeDate':case'RelativeDatePick':{this.$7=new bK(this.$6);break}}},$2:function(){if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}},dispose:function(){this.$a.remove_quickFilterDisplayUpdated(ss.mkdel(this,this.handleUpdateQuickFilterDisplay));this.$a.get_zoneModel().remove_resizeZone(ss.mkdel(this,this.$4));this.$a=null;this.$6.remove_filterUpdated(ss.mkdel(this,this.$5));this.$6=null;this.$2();spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.ILegacyQuickFilterDisplayViewModel]);ss.initClass(bf,a,{get_filterViewModel:function(){return this.filterViewModel},postCreate:function(){if(this.filterViewModel.get_filterType()!=='RelativeDate'){}this.$3();this.getSID=ss.mkdel(this,function(){return this.stateId});if(ss.isValue(this.oFilter.fy)){this.fy=this.oFilter.fy-1}if(ss.isValue(this.oFilter.start_of_week)){this.startOfWeek=this.oFilter.start_of_week}this.timestamp=(new Date).getTime();this.$a=[this.buttonYear,this.buttonQuarter,this.buttonMonth,this.buttonWeek,this.buttonDay];if(this.oFilter.noTime){this.buttonHour.domNode.style.display='none';this.buttonMinute.domNode.style.display='none'}else{this.$a.push(this.buttonHour);this.$a.push(this.buttonMinute)}this.connect(this.domTooltipDialog,'onOpen',ss.mkdel(this,this.$4));this.initFromState();$(this.menuButton.domNode).css('background-color',this.backgroundColor)},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var ch=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(ch)||ch.get_commandItems().length===0},shouldHideDomainButton:function(){return true},setTitleSize:function(ch,ci){this.titleH=ch;this.titleW=ci},dispose:function(){this.$8.dispose();this.showContextMenu=null},destroy:function(ch){this.dispose();if(ss.isValue(this.domText)){this.domText.innerHTML=''}this.inherited(arguments)},layout:function(ch){this.updateTitleBar();this.domNode.classList.remove('RDFHorizontal');var ci=dojo.marginBox(this.domDialog);if(!ss.isValue(ci)||!ss.isValue(ci.w)||ci.w===0){return}var cj=dojo.marginBox(this.domTitleBar);this.resetTitleSize();if(this.titleH>0){cj.h=this.titleH;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',cj.h]))}if(this.titleW>0){cj.w=this.titleW;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',cj.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var ck=dojo.contentBox(this.domNode);var cl=ck.w-2;var cm=$(this.domDropdownButton.domNode);cm.find('.dijitButtonNode').addClass('tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover');cm.find('.dijitButtonText').addClass('tab-ctrl-formatted-fixedsize');cm.find('.dijitArrowButtonInner')[0].innerHTML=T.getDropDownForColor(this.textStyle.YhU.toString());if(!this.hideEmptyTitlebar()&&this.titleW>0){this.domNode.classList.add('RDFHorizontal');this.domTitleBar.style.cssFloat='left';this.domDropdownButton.domNode.style.cssFloat='left';var cn=dojo._getPadBorderExtents(this.domDropdownButton.domNode);cl=ck.w-cj.w-cn.w}else{this.domTitleBar.style.cssFloat='none';this.domDropdownButton.domNode.style.cssFloat='none'}if(cl>29){this.domDropdownButton.domNode.style.width=cl+'px';this.domDropdownButton.domNode.firstChild.style.width=cl-2+'px';cl=cl-25;var co=this.domDropdownButton.domNode.firstChild.firstChild.firstChild.childNodes[1];if(ss.isValue(co)){co.style.width=cl+'px'}}var cp=Math.floor((ci.w-10)/this.$a.length);for(var cq=0;cq<this.$a.length;cq++){var cr=this.$a[cq];cr.titleNode.style.width=cp-5+'px'}},initFromState:function(){var ch=ss.mkdel(this,function(ci,cj){if(cj){ci.domNode.classList.remove(this.$7);ci.domNode.classList.add(this.$6)}else{ci.domNode.classList.remove(this.$6);ci.domNode.classList.add(this.$7)}});ch(this.menuButton,this.shouldHideContextMenu());this.domDropdownButton.attr('label',this.oFilter.text);this.updateCurrentStateOfData();this.setRangeType(this.rangeType,this.rangeN);this.setTitle();this.updateTitleBar()},updateCurrentStateOfData:function(){var ch=this.oFilter.table;this.periodType=ch.periodType;this.rangeType=ch.rangeType;this.rangeN=ch.rangeN;if(!(typeof(ch.anchor)==='undefined')){var ci=ch.anchor;this.anchorDateTime=new Date(ci.year,ci.month-1,ci.day,ci.hour,ci.minute,ci.second)}},setTitle:function(){var ch=tableau.format.formatColumnDisplayName(this.oFilter,false,true);this.domTitleBar.setAttribute('title',ch)},applyChanges:function(){var ch={};ch.periodType=this.periodType;ch.rangeType=this.rangeType;ch.rangeN=this.rangeN;this.stateId+=1;var ci=tableau.util.findDirectParentByClassName(this.domDialog,'dijitPopup',document.body);if(!ss.isNullOrUndefined(ci)){ci.style.zIndex='980'}tab.FilterClientCommands.doRelativeDateQuickFilter(this.session.get_visualId(),this.field,this.periodType,this.rangeType,this.rangeN)},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},$4:function(){this.setPeriodUI(this.periodType);this.setRangeUI(this.rangeType,this.rangeN);this.setPreviewUI();this.updateVisibilityOfDayToAnchor()},setRangeUI:function(ch,ci){this.inputLastn.disabled=true;this.inputNextn.disabled=true;this.lastSpinner.style.display='none';this.radioLastn.classList.remove('spinnerBugFix');this.nextSpinner.style.display='none';this.radioNextn.classList.remove('spinnerBugFix');switch(ch){case'last':{this.radioLast['checked']=true;break}case'curr':{this.radioCurr['checked']=true;break}case'next':{this.radioNext['checked']=true;break}case'lastn':{this.radioLastn['checked']=true;this.rangeN=ci;this.inputLastn.value=this.rangeN.toString();this.inputLastn.disabled=false;this.lastSpinner.style.display='';this.radioLastn.classList.add('spinnerBugFix');break}case'nextn':{this.radioNextn['checked']=true;this.rangeN=ci;this.inputNextn.value=this.rangeN.toString();this.inputNextn.disabled=false;this.nextSpinner.style.display='';this.radioNextn.classList.add('spinnerBugFix');break}case'todate':{this.radioTodate['checked']=true;break}}},updateRangeButtons:function(ch){var ci=this.$a.length;for(var cj=0;cj<ci;cj++){this.$a[cj].attr('checked',ss.referenceEquals(this.$a[cj].name,ch.toString()))}},overLastUp:function(){this.lastUp.classList.add('hover')},outLastUp:function(){this.lastUp.classList.remove('hover')},overLastDown:function(){this.lastDown.classList.add('hover')},outLastDown:function(){this.lastDown.classList.remove('hover')},overNextUp:function(){this.nextUp.classList.add('hover')},outNextUp:function(){this.nextUp.classList.remove('hover')},overNextDown:function(){this.nextDown.classList.add('hover')},outNextDown:function(){this.nextDown.classList.remove('hover')},$5:function(ch,ci){var cj=parseInt(ch.value,10)+(ci?1:-1);if(cj<1){return}ch.value=cj.toString();this.onTyping(ch)},upLast:function(){this.$5(this.inputLastn,true)},downLast:function(){this.$5(this.inputLastn,false)},upNext:function(){this.$5(this.inputNextn,true)},downNext:function(){this.$5(this.inputNextn,false)},$3:function(){x.localizeDojoLabeledControls([{item1:this.buttonYear,item2:'RelDateFilterYears'},{item1:this.buttonQuarter,item2:'RelDateFilterQuarters'},{item1:this.buttonMonth,item2:'RelDateFilterMonths'},{item1:this.buttonWeek,item2:'RelDateFilterWeeks'},{item1:this.buttonDay,item2:'RelDateFilterDays'},{item1:this.buttonHour,item2:'RelDateFilterHours'},{item1:this.buttonMinute,item2:'RelDateFilterMinutes'}])}},w,[ss.IDisposable]);ss.initClass(bh,a,{get_isCurrentLegendGreyed:function(){var ch=ss.isValue(this.selectedItems)&&this.selectedItems.length>0;var ci=ss.isValue(this.brushedItems)&&this.brushedItems.length>0;return m.legendShouldBeGrayed(this.isOneway,this.hasMarkNodeSelection,ch,ci)},computeChangedItems:function(ch){if(ss.isNullOrUndefined(ch)){return null}if(this.isHighlightingEnabled!==ch.isHighlightingEnabled){return null}if(this.get_isCurrentLegendGreyed()!==ch.get_isCurrentLegendGreyed()){return null}var ci=bh.$0(this.selectedItems,ch.selectedItems);var cj=bh.$0(this.brushedItems,ch.brushedItems);return ci.concat.apply(ci,cj)},isSelectionStateTheSame:function(ch){if(ss.isNullOrUndefined(ch)){return false}if(this.isHighlightingEnabled!==ch.isHighlightingEnabled){return false}if(this.get_isCurrentLegendGreyed()!==ch.get_isCurrentLegendGreyed()){return false}var ci=_.isEqual(ch.selectedItems,this.selectedItems);var cj=_.isEqual(ch.brushedItems,this.brushedItems);return ci&&cj}});ss.initClass(bj,a,{get_totalHeight:function(){return this.$5},get_itemHeight:function(){return this.$2},get_tileCount:function(){return this.$3},get_viewportHeight:function(){return this.$6},destroy:function(){},updateViewport:function(ch,ci){this.$6=ci},getTileStatus:function(ch){var ci=this.$0[ch];if(typeof(ci)==='undefined'){return false}return ci.$0()},updateTileStatus:function(ch,ci){var cj=this.$0[ch];if(typeof(cj)==='undefined'){return}this.$0[ch].$1(ci)},getTilePosition:function(ch){var ci=this.$0[ch];if(typeof(ci)==='undefined'){return null}return{x:ci.$2().x,y:ci.$2().y}},getTileRange:function(ch){var ci=this.$0[ch];if(typeof(ci)==='undefined'){return null}return new tab.IntegerRange(ci.$3().get_from(),ci.$3().get_to())},getTileRangeType:function(ch){var ci=this.$0[ch];if(typeof(ci)==='undefined'){return'unknown'}return ci.$4()},pixelToTileRange:function(ch){return tab.IntegerRange.pixelToTileRange(ch,this.$2,this.$4)},itemToTileIndex:function(ch){var ci=Math.floor(ch/this.$4);return ci},globalToLocalItemIndex:function(ch){return ch%this.$4}},null,[P]);ss.initClass(bk,a,{});ss.initClass(bm,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bn,a,{get_zonePresModel:function(){return this.pageViewModel.get_pageModel().get_zone()},get_domRoot:function(){return this.get_template().domRoot},dispose:function(){if(ss.isValue(this.$9)){this.$9.destroyRecursiveShim(false);this.$9=null}ss.makeGenericType(spiff.BaseView$1,[bo]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.pageViewModel.get_pageModel())){this.handleNewPage()}},handleNewPage:function(){if(ss.isNullOrUndefined(this.$9)&&ss.isValue(this.pageViewModel.get_pageModel())&&ss.isValue(this.pageViewModel.get_pageModel().pm)){this.$9=this.createCurrentPagePanel();this.get_template().domRoot.append(this.$9.getDomNode());this.$9.startupShim();var ch={x:0,y:0,w:this.get_zonePresModel().rec,h:this.get_zonePresModel().EUR};tab.DomUtil.resize(this.$9,tab.RectXYUtil.toRect(ch))}else{var ci=this.createCurrentPagePanelProperties();this.$9.updatePropertiesShim(ci);this.$9.refreshLayoutShim()}},updatePageControl:function(){if(ss.isValue(this.pageViewModel.get_pageModel())&&ss.isValue(this.pageViewModel.get_pageModel().pm)){this.$9.destroyRecursiveShim$1();this.$9=null;this.handleNewPage()}},createCurrentPagePanelProperties:function(){var ch=this.pageViewModel.get_pageModel().pm;var ci=new Object;ci.cpHeight=this.get_zonePresModel().EUR;ci.sheetid=this.get_zonePresModel().Gge;ci.zid=this.get_zonePresModel().BCp;ci.enable=this.pageViewModel.get_historyTrailsEnabled();ci.show_slider=ch.Xmc;ci.show_toggle=this.pageViewModel.get_showHistoryToggle();ci.show_dropdown=ch.uin;ci.current_page=ch.f_c;ci.pages=ch.tMd;ci.session=this.pageViewModel.get_viewSession();ci.layoutSession=this.pageViewModel.get_layoutSession();ci.lTitle=this.pageViewModel.get_title();ci.titleHtml=this.pageViewModel.get_titleHtml();ci.zoneTitleHeight=this.pageViewModel.get_zoneTitleHeight();ci.zoneTitleWidth=this.pageViewModel.get_zoneTitleWidth();ci.isDashboard=true;ci.pageViewModel=this.pageViewModel;return ci},createCurrentPagePanel:function(){var ch=this.createCurrentPagePanelProperties();return this.instantiateCurrentPagePanel(ch)},instantiateCurrentPagePanel:function(ch){var ci=spiff.ObjectRegistry.resolve(tab.ILegacyDojoWidgetMaker).call(null,[]);return ci.makeCurrentPagePanelWidget(ch)}},ss.makeGenericType(spiff.BaseView$1,[bo]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bo]),ss.makeGenericType(tab.IPageView$1,[bo])]);ss.initClass(bo,a,{add_newPage:function(ch){this.$2$1=ss.delegateCombine(this.$2$1,ch)},remove_newPage:function(ch){this.$2$1=ss.delegateRemove(this.$2$1,ch)},add_resized:function(ch){this.$2$2=ss.delegateCombine(this.$2$2,ch)},remove_resized:function(ch){this.$2$2=ss.delegateRemove(this.$2$2,ch)},add_titleVisibilityChanged:function(ch){this.$2$3=ss.delegateCombine(this.$2$3,ch)},remove_titleVisibilityChanged:function(ch){this.$2$3=ss.delegateRemove(this.$2$3,ch)},get_pageModel:function(){return this.$2},get_viewSession:function(){return tab.ModelUtils.getViewSession(this.get_pageModel().get_zone().Gge)},get_layoutSession:function(){return tab.CommandController.get().get_legacySession()},get_visualId:function(){return tab.ModelUtils.getVisualId(this.get_pageModel().get_zone().Gge)},get_titleHtml:function(){return(this.get_pageModel().get_zoneModel().get_hasTitle()?this.get_pageModel().pm.XjF:'')},get_title:function(){return(this.get_pageModel().get_zoneModel().get_hasTitle()?this.get_pageModel().get_title():'')},get_historyTrailsEnabled:function(){return this.$2.pm.TjM.chK},get_isHistoryToggleInteractionDisabled:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()},get_showHistoryToggle:function(){var ch=this.$2.pm.SCY;if(tsConfig.is_mobile&&this.get_isHistoryToggleInteractionDisabled()&&!this.get_historyTrailsEnabled()){ch=false}return ch},get_showHistoryToggleForPopup:function(){var ch=this.get_showHistoryToggle();if(this.get_isHistoryToggleInteractionDisabled()){ch=false}return ch},get_zoneTitleHeight:function(){return(this.get_pageModel().get_zone().yqe?this.get_pageModel().get_zone().jZr:0)},get_zoneTitleWidth:function(){return(this.get_pageModel().get_zone().yqe?this.get_pageModel().get_zone().nkG1:0)},handleNewPage:function(ch){this.raiseActionEvent(this.$2$1)},handleParentZoneResized:function(){this.raiseActionEvent(this.$2$2)},handleTitleVisibilityChanged:function(){this.raiseActionEvent(this.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IPageViewModel]);ss.initClass(bp,a,{get_model:function(){return this.$d.get_parameterCtrlModel().get_parameterCtrlPresModel()},get_domBoxElement:function(){return this.domBox},get_backgroundColor:function(){return this.backgroundColor},postCreate:function(){this.getSID=ss.mkdel(this,function(){return this.stateId});this.$1()},destroy:function(ch){if(ss.isValue(this.$c)){this.$c.destroy()}this.domContent.innerHTML='';this.inherited(arguments)},getTypeInParamClass:function(){return tableau.base.widget.paramui.TypeIn},getTypeInDateFieldParamClass:function(){return tableau.base.widget.paramui.TypeInDateField},getCompactParamClass:function(){return tableau.base.widget.paramui.Compact},getListParamClass:function(){return tableau.base.widget.paramui.List},getSliderParamClass:function(){return tableau.base.widget.paramui.Slider},$1:function(){var ch=null;if(ss.isNullOrUndefined(this.get_model())||ss.isNullOrUndefined(this.get_model().nql)){return}this.domTitleBar.setAttribute('title',this.get_model().nql.title);switch(this.$2()){case'type_in':{ch=this.getTypeInParamClass();break}case'compact':{ch=this.getCompactParamClass();break}case'list':{ch=this.getListParamClass();break}case'slider':{ch=this.getSliderParamClass();break}case'datetime':{ch=this.getTypeInDateFieldParamClass();break}default:{return}}if(ss.isValue(this.$c)){this.$c.destroy();this.$c=null}if(ss.isNullOrUndefined(this.$7)){this.$7={}}this.$c=new ch(this,this.domContent,this.$8,this.$7,this.$d);this.$c.instantiate(false);this.$6();this.$3()},$6:function(){this.domTitleBar.innerHTML=this.$a;tab.FormattingConverters.cleanUpFontFamilyStyles($(this.domTitleBar));$(this.domTitleBar).find('div').css(ss.mkdict(['text-overflow','ellipsis','overflow','hidden']))},updateProperties:function(ch){this.session=ch.session;this.$8=ch.field;this.$9=ch.titleH;this.$b=ch.titleW;this.$a=ch.titleHTML;this.format=ch.format;this.backgroundColor=ch.backgroundColor;this.$7=ch.attributes;this.$6();this.$3();this.$4()},$3:function(){cg.applyFormatting(this.domNode,this.get_model().mCc,this.get_backgroundColor(),this.get_model().$tN,false)},$4:function(){if(ss.isValue(this.$c)){this.$c.refreshState(this.$7)}},$2:function(){return this.get_model().NId},$0:function(){return this.$b===0&&this.$9===0},$5:function(){if(ss.isValue(this.domTitleBar)){$(this.domTitleBar).css({height:'auto',width:'auto'})}},getTitleOffset:function(){return($(this.domNode).hasClass('PCInlineTitle')?0:dojo.marginBox(this.domTitleBar).h)},layout:function(ch){if(ss.isNullOrUndefined(this.domNode.parentNode)||ss.isNullOrUndefined(this.$c)){return}$(this.domNode).removeClass('PCInlineTitle');var ci={};this.$5();if(this.$9>0||this.$0()){ci.h=this.$9;this.domTitleBar.style.height=ci.h+'px'}if(this.$b>0||this.$0()){ci.w=this.$b;this.domTitleBar.style.width=ci.w+'px'}tableau.util.setupTitleEllipsis($(this.domTitleBar));var cj=dojo.contentBox(this.domNode);var ck={w:cj.w,h:cj.h};if(!this.$0()){if(this.$b>0){ck.w=cj.w-ci.w;if(this.$d.get_hasBorder()){this.domContent.style.paddingTop='1px';ck.w-=6}else{ck.w-=2}this.domTitleBar.style.cssFloat='left';this.domContent.style.cssFloat='left';this.domNode.classList.add('PCInlineTitle')}else{ck.h=cj.h-ci.h;this.domTitleBar.style.cssFloat='none';this.domContent.style.cssFloat='none'}}this.$c.layout(ck)},getDomNode:function(){return this.domNode},destroyRecursiveShim:function(ch){this.destroyRecursive(ch)},startupShim:function(){this.startup()},destroyRecursiveShim$1:function(){this.destroyRecursive()},updatePropertiesShim:function(ch){this.updateProperties(ch)},layoutShim:function(ch){this.layout(ch)}},Object,[tab.ILegacyWidgetShim,tab.IParameterControlWidgetShim]);ss.initClass(bq,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(br,a,{get_zoneModel:function(){return this.$b.get_zoneModel()},$9:function(){return this.$b.get_frame()},dispose:function(){if(ss.isValue(this.$a)){this.$a.destroyRecursiveShim(false);this.$a=null}ss.makeGenericType(spiff.BaseView$1,[bs]).prototype.dispose.call(this)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.$b.get_parameterCtrlModel())){this.handleNewParameterControl()}},handleNewParameterControl:function(){if(ss.isNullOrUndefined(this.$a)){this.$a=this.createParameterControl();this.get_template().domRoot.append(this.$a.getDomNode());this.$a.startupShim();tab.DomUtil.resize(this.$a,this.get_zoneModel().get_zoneContentBounds())}else{this.updateViewProperties()}this.$a.layoutShim(null)},updateSize:function(){tab.DomUtil.resize(this.$a,this.get_zoneModel().get_zoneContentBounds());this.$a.layoutShim(null)},updateViewProperties:function(){var ch=this.createParameterControlProperties();this.$a.updatePropertiesShim(ch)},createParameterControlProperties:function(){var ch=new Object;ch.session=this.$b.get_layoutSession();ch.zid=this.get_zoneModel().get_zoneId().toString();ch.field=this.$9().param;if(ss.isValue(this.get_zoneModel().pm.rPC)){ch.backgroundColor=this.get_zoneModel().get_styledBoxModel().get_fillColor()}if(ss.isValue(this.get_zoneModel().pm.KDk)){ch.titleHTML=this.$b.get_titleHtml();ch.titleH=this.$b.get_titleHeight();ch.titleW=this.$b.get_titleWidth()}if(ss.isValue(this.$9().format)){ch.format=this.$9().format}if(ss.isValue(this.$9().attributes)){ch.attributes=this.$9().attributes}ch.viewModel=this.$b;return ch},createParameterControl:function(){var ch=this.createParameterControlProperties();this.$a=this.makeParameterControl(ch);return this.$a},makeParameterControl:function(ch){var ci=spiff.ObjectRegistry.resolve(tab.ILegacyDojoWidgetMaker).call(null,[]);return ci.makeControlWidget(ch)}},ss.makeGenericType(spiff.BaseView$1,[bs]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bs]),ss.makeGenericType(tab.IParameterControlView$1,[bs])]);ss.initClass(bs,a,{add_newParameterControl:function(ch){this.$2$1=ss.delegateCombine(this.$2$1,ch)},remove_newParameterControl:function(ch){this.$2$1=ss.delegateRemove(this.$2$1,ch)},add_resized:function(ch){this.$2$2=ss.delegateCombine(this.$2$2,ch)},remove_resized:function(ch){this.$2$2=ss.delegateRemove(this.$2$2,ch)},get_parameterCtrlModel:function(){return this.$4},get_frame:function(){return this.$4.get_frame()},get_zoneModel:function(){return this.$4.get_zoneModel()},get_layoutSession:function(){return tab.CommandController.get().get_legacySession()},get_hasBorder:function(){return this.$4.get_zoneModel().get_hasBorder()},get_titleHtml:function(){return(this.get_zoneModel().get_hasTitle()?this.get_zoneModel().pm.KDk.xBc:'')},get_titleWidth:function(){var ch=0;if(this.get_zoneModel().get_hasTitle()&&this.get_zoneModel().get_titleWidth()>0){ch=this.get_zoneModel().pm.KDk.rec}return ch},get_titleHeight:function(){var ch=0;if(this.get_zoneModel().get_hasTitle()&&this.get_zoneModel().get_titleHeight()>0){ch=this.get_zoneModel().pm.KDk.EUR;if(this.get_hasBorder()){ch+=3}ch=Math.max(ch,17)}return ch},$2:function(ch){this.raiseActionEvent(this.$2$1)},$3:function(){this.raiseActionEvent(this.$2$2)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IParameterControlViewModel]);ss.initClass(bt,a,{get_legacyModel:function(){return this.parameterViewModel.get_parameterCtrlModel().get_parameterCtrlJsonPresModel()},get_model:function(){return this.parameterViewModel.get_parameterCtrlModel().get_parameterCtrlPresModel()},instantiate:null,setNewState:null,refreshState:function(ch){this.attributes=ch;this.setNewState()},dispose:function(){this.disposables.dispose()},destroy:function(ch){this.dispose();this.div.innerHTML=''},layout:function(ch){dojo.marginBox(this.div,ch)}},Object,[ss.IDisposable]);ss.initClass(bu,a,{instantiate:function(ch){},setNewState:function(){if(ss.isValue(this.$2.get_selectedItem())&&!ss.referenceEquals(this.get_legacyModel().alias,this.$2.get_selectedItem().get_name())){var ch=this.$2.get_items();for(var ci=0;ci<ch.length;ci++){var cj=ch[ci];if(ss.referenceEquals(cj.get_name(),this.get_legacyModel().alias)){this.$2.set_selectedItem(cj);break}}}},$0:function(ch){var ci=ch.get_data();var cj=this.get_legacyModel().domain;if(ci>=cj.length||ci<0||tab.MiscUtil.isNullOrEmpty(cj)){return}if(ss.referenceEquals(cj[ci],this.get_legacyModel().alias)){return}var ck=cj[ci];tab.ParameterServerCommands.setParameterValue(this.field,ck,null)},layout:function(ch){this.inherited(arguments)}},bt,[ss.IDisposable]);ss.initClass(bv,a,{instantiate:function(ch){var ci=ss.mkdel(G.filterItem,G.filterItem.getRadioHtml);var cj=this.field;var ck=this.get_legacyModel().alias;var cl=[];var cm=this.get_legacyModel().domain;var cn=cm.length;for(var co=0;co<cn;co++){var cp=[cj,'_',co.toString()].join('');cl.push(ci(cp,cj,cm[co],ss.referenceEquals(ck,cm[co])))}this.div.innerHTML=cl.join('');$(this.div).addClass('tab-ctrl-formatted-text');if(ch!==true){this.disposables.add$1(spiff.EventUtil.bindWithDispose($(this.div),'click',ss.mkdel(this,this.$0)))}},setNewState:function(){this.instantiate(true)},$0:function(ch){var ci=ch.target.tagName.toLowerCase();if(ci!=='input'){return}var cj=$(ch.target);var ck=cj.parents('.FIItem');if(ck.length>0){var cl=G.filterItem.getIndex(ck.get(0));var cm=this.get_legacyModel().domain[cl];tab.ParameterServerCommands.setParameterValue(this.field,cm,null)}}},bt,[ss.IDisposable]);ss.initClass(bw,a,{instantiate:function(ch){var ci=this.get_legacyModel();var cj=this.get_legacyModel().domain;var ck=this.get_legacyModel().alias;var cl=1;var cm=1;this.slider=new tableau.base.widget.ui.Slider(this.div,this.attributes,false,ss.mkdel(this,this.doUpdateViz),ss.mkdel(this.parent,this.parent.getTitleOffset),ss.mkdel(this,this.getCurrentText),null,null,false);if(ci.fake_continuous){this.attributes['show-step-btns']='false';this.attributes['show-ticks']='false'}var cn=ss.mkdel(this,function(){this.slider.instantiateFromDomain(cj,ck)});var co=ss.mkdel(this,function(){cl=Number.POSITIVE_INFINITY;cm=this.percentageOfRange(this.modelValueOrRangeMin())*100;this.attributes['show-step-btns']='false';this.slider.instantiate(cl,cm,ck)});var cp=ss.mkdel(this,function(){cl=this.numPeriods();cm=this.indexInDateRange(this.modelValueOrRangeMin());ck=this.formatValue(this.modelValueOrRangeMin());this.slider.instantiate(cl,cm,ck)});var cq=ss.mkdel(this,function(){cl=this.sizeOfDiscreteRange();cm=this.indexInRange(this.modelValueOrRangeMin());this.slider.instantiate(cl,cm,ck)});this.behaviorPicker(cn,co,cp,cq)},behaviorPicker:function(ch,ci,cj,ck){if(this.$0()){return ch()}else if(this.$1()){if(this.$6()){return ci()}else if(this.$5()){return cj()}else{return ck()}}return null},setNewState:function(){var ch=this.get_legacyModel().domain;var ci=this.get_legacyModel().alias;var cj=function(){var co=ch.length;for(var cp=0;cp<co;cp++){if(ss.referenceEquals(ch[cp],ci)){return{item1:ci,item2:cp}}}return null};var ck=ss.mkdel(this,function(){return{item1:ci,item2:this.percentageOfRange(this.modelValueOrRangeMin())*100}});var cl=ss.mkdel(this,function(){return{item1:this.formatValue(this.modelValueOrRangeMin()),item2:this.indexInDateRange(this.modelValueOrRangeMin())}});var cm=ss.mkdel(this,function(){return{item1:ci,item2:this.indexInRange(this.modelValueOrRangeMin())}});var cn=this.behaviorPicker(cj,ck,cl,cm);this.slider.setNewState(cn.item2);this.slider.updateReadout(cn.item1)},doUpdateViz:function(ch){var ci=ss.mkdel(this,function(){return{item1:this.get_legacyModel().domain[ch],item2:null}});var cj=ss.mkdel(this,function(){return{item1:null,item2:this.$4(this.$d(ch))}});var ck=ss.mkdel(this,function(){return{item1:null,item2:this.$4(this.$b(ch))}});var cl=ss.mkdel(this,function(){return{item1:null,item2:this.$4(this.$c(ch))}});var cm=this.behaviorPicker(ci,cj,ck,cl);var cn=null;if(ss.isValue(cm.item1)){cn=cm.item1}else if(ss.isValue(cm.item2)){cn=tableau.format.formatDataValue(cm.item2,null,null,null,2)}tab.ParameterServerCommands.setParameterValue(this.field,cn,true)},layout:function(ch){this.inherited(arguments);if(ss.isValue(this.slider)&&typeof(this.slider['layout'])==='function'){this.slider.layout()}},getCurrentText:function(ch){var ci=ss.mkdel(this,function(){return this.get_legacyModel().domain[ch]});var cj=ss.mkdel(this,function(){return this.formatValue(this.$d(ch))});var ck=ss.mkdel(this,function(){return this.formatValue(this.$b(ch))});var cl=ss.mkdel(this,function(){return this.formatValue(this.$c(ch))});return this.behaviorPicker(ci,cj,ck,cl)},$0:function(){return ss.isValue(this.get_legacyModel().domain)},$1:function(){return ss.isValue(this.get_legacyModel().granularity)&&ss.isValue(this.get_legacyModel().min)&&ss.isValue(this.get_legacyModel().max)},$6:function(){return this.get_legacyModel().granularity.s==='n'},$5:function(){return ss.isValue(this.get_legacyModel().date_period_type)},$8:function(){return ss.unbox(this.get_legacyModel().min.v)},$7:function(){return ss.unbox(this.get_legacyModel().max.v)},modelValueOrRangeMin:function(){return(ss.isValue(this.get_legacyModel().value.v)?ss.unbox(this.get_legacyModel().value.v):this.$8())},$3:function(){return this.get_legacyModel().granularity.v},$2:function(){return this.get_legacyModel().date_period_type},numPeriods:function(){return this.get_legacyModel().num_periods},$a:function(){return this.$7()-this.$8()},percentageOfRange:function(ch){return(ch-this.$8())/this.$a()},$d:function(ch){return ch/100*this.$a()+this.$8()},sizeOfDiscreteRange:function(){return Math.round(this.$a()/this.$3())+1},indexInRange:function(ch){return Math.round((ch-this.$8())/this.$3())},$c:function(ch){return ch*this.$3()+this.$8()},indexInDateRange:function(ch){return Math.round((ch-this.$8())/(this.$3()*this.$9()))},$b:function(ch){ch=ch*this.$3();var ci=tab.DateUtil.adjustDateByPeriodInUTC(new Date(tableau.types.JsDateFromOleDate(this.$8())),this.$2(),ch);return Math.min(tableau.types.OleDateFromJsDate(ci.getTime()),this.$7())},$9:function(){switch(this.$2()){case'year':{return 365.25}case'quarter':{return 91.3125}case'month':{return 30.4375}case'week':{return 7}case'day':{return 1}case'hour':{return 0.0416666666666667}case'minute':{return 0.000694444444444444}case'second':{return 1.15740740740741E-05}}return 0},formatValue:function(ch){var ci=this.get_legacyModel().date_format||this.get_legacyModel().format;return tableau.format.formatDataValue(this.$4(ch),null,ci,null,2)},$4:function(ch){return{t:this.get_legacyModel().min.t,v:ch.toString()}}},bt,[ss.IDisposable]);ss.initClass(bx,a,{getWidgetClass:function(){return tableau.base.widget.ui.TypeIn},instantiate:function(ch){var ci=this.getWidgetClass();this.widget=new ci(this.div,ss.mkdel(this,this.$0),'TypeIn');this.widget.instantiate(this.get_legacyModel().alias,this.field,this.get_legacyModel().value,this.get_legacyModel().min,this.get_legacyModel().max,this.get_legacyModel().format,this.get_legacyModel().date_format,this.get_legacyModel().editing_format,this.get_model()._$D);if(this.get_legacyModel().is_list_domain){this.widget.$3(this.get_legacyModel().domain,ss.mkdel(this.parent.session,this.parent.session.getAutocompleteInfo))}},setNewState:function(){this.widget.setNewState(this.get_legacyModel().alias,this.get_legacyModel().domain,this.get_legacyModel().value,this.get_legacyModel().min,this.get_legacyModel().max)},layout:function(ch){this.inherited(arguments);this.widget.layout()},$0:function(ch){if(ss.referenceEquals(this.newValInFlight,ch)){return}this.newValInFlight=ch;tab.ParameterServerCommands.setParameterValue$1(this.field,ch,false,ss.mkdel(this,this.$2),ss.mkdel(this,this.$1))},$1:function(ch){this.widget.queryBox.value=this.get_legacyModel().alias;this.newValInFlight=null;this.setNewState()},$2:function(ch){this.newValInFlight=null;_.defer(ss.mkdel(this,this.setNewState))}},bt,[ss.IDisposable]);ss.initClass(by,a,{getWidgetClass:function(){return tableau.base.widget.ui.TypeInDateField}},bx,[ss.IDisposable]);ss.initClass(bz,a,{instantiate:function(ch,ci,cj){var ck=arguments[0];this.widget=new tableau.base.widget.ui.TypeIn(this.div,ss.mkdel(this,this.doChange),'Pattern');this.widget.instantiate(ck,ci)},destroy:function(){this.widget.destroy()},layout:function(ch,ci){this.inherited(arguments);this.widget.layout()},doChange:function(ch){this.parent.set_stateId(this.parent.get_stateId()+1);tab.FilterClientCommands.setPatternFilterState(this.parent.get_session().get_visualId(),this.parent.get_field(),ch.toString());this.parent.get_oFilter().pattern=ch}},h,[ss.IDisposable]);ss.initClass(bA,a,{add_onPendingChanges:function(ch){this.$1$1=ss.delegateCombine(this.$1$1,ch)},remove_onPendingChanges:function(ch){this.$1$1=ss.delegateRemove(this.$1$1,ch)},add_onNoPendingChanges:function(ch){this.$1$2=ss.delegateCombine(this.$1$2,ch)},remove_onNoPendingChanges:function(ch){this.$1$2=ss.delegateRemove(this.$1$2,ch)},get_allItemCheckState:function(){return this.$4},set_allItemCheckState:function(ch){this.$4=ch},get_pendingChangelist:function(){return this.$8},set_pendingChangelist:function(ch){this.$8=ch},resetFilterInfo:function(ch,ci,cj){this.domainActualSize=ch;this.$6=ci;this.$5=cj},resetPendingChanges:function(){this.$8=new tab.Changelist;this.$7=[];this.$a=false;this.$9=false;this.$4=null;this.$1()},processChanges:function(ch){this.get_pendingChangelist().appendChangelist(ch);this.$0()},processAll:function(ch){this.$7=[];this.$a=true;this.$9=(this.$6?!ch:ch);this.$8=new tab.Changelist;var ci=new tab.RawChange;ci.setRange(new tab.IntegerRange(0,this.domainActualSize),this.$9);this.get_pendingChangelist().addChange(ci);this.$0()},isSelectAll:function(){return this.$a&&this.$7.length===0&&(this.$6?!this.$9:this.$9)},isDeSelectAll:function(){return this.$a&&this.$7.length===0&&(this.$6?this.$9:!this.$9)},handleAllItemClicked:function(ch){var ci=(this.$6?!ch:ch);this.set_allItemCheckState(ch);var cj=0;while(this.hasItemAtIndex(cj)){if(ci){if(!this.isChecked(cj)){this.togglePendingCss(cj)}this.setChecked(cj,true)}else{if(this.isChecked(cj)){this.togglePendingCss(cj)}this.setChecked(cj,false)}cj++}this.$a=true;this.$9=ci;this.$7=[]},handleItemClicked:function(ch,ci){if(ch===-1){this.handleAllItemClicked(this.isChecked(ch));return}if(!this.isChecked(ch,ci)){if(this.parent.shouldUseAllItem()){this.set_allItemCheckState(false);if(this.hasAllItem()){this.setAllItemChecked(false);if(this.$6){var cj=true;var ck=0;while(cj&&this.hasItemAtIndex(ck)){if(this.isChecked(ck)){cj=false}ck++}this.setAllItemChecked(cj)}}}}else if(this.hasAllItem()){var cl=true;var cm=0;while(cl&&this.hasItemAtIndex(cm)){if(!this.isChecked(cm)){cl=false}cm++}this.setAllItemChecked(cl)}this.togglePendingCss(ch,ci);this.$3(ch)},hasAllItem:function(){var ch=this.parent.fetchAllItem();return ss.isValue(ch)&&G.filterItem.isAllItem(ch)},hasItemAtIndex:function(ch){return ch<this.domainActualSize&&ss.isValue(this.parent.fetchChildNodeByIndex(ch))},setAllItemChecked:function(ch){var ci=this.parent.fetchAllItem();if(ss.isValue(ci)){G.filterItem.setChecked(ci,ch);this.set_allItemCheckState(ch)}},togglePendingCss:function(ch,ci){var cj=(ss.isValue(ci)?ci:this.parent.fetchChildNodeByIndex(ch));if(ss.isValue(cj)){G.filterItem.togglePendingState(cj)}},setChecked:function(ch,ci){var cj=this.parent.fetchChildNodeByIndex(ch);if(ss.isValue(cj)){G.filterItem.setChecked(cj,ci)}},isChecked:function(ch,ci){var cj;if(ch===-1){cj=this.parent.fetchAllItem()}else{cj=(ss.isValue(ci)?ci:this.parent.fetchChildNodeByIndex(ch))}return G.filterItem.isChecked(cj)},isPending:function(ch,ci){if(this.$a){var cj=((this.$5&&!this.$6)?true:ch.s);if(ss.contains(this.$7,ci)){return cj===this.$9}else{return cj!==this.$9}}else{return ss.contains(this.$7,ci)}},$0:function(){if(this.$a||this.$7.length>0){this.$2()}else{this.$1()}},$2:function(){if(ss.isValue(this.$1$1)){this.$1$1()}},$1:function(){if(ss.isValue(this.$1$2)){this.$1$2()}},$3:function(ch){if(ss.contains(this.$7,ch)){ss.remove(this.$7,ch)}else{this.$7.push(ch)}}});ss.initClass(bB,a,{});ss.initClass(bC,a,{},bi,[ss.IDisposable]);ss.initClass(bD,a,{$v:function(){return this.get_viewModel()},$t:function(){return this.$v().get_quantColorLegendPresModel()},$u:function(){return this.get_template()},onAddedToDom:function(){ss.makeGenericType(g,[bE]).prototype.onAddedToDom.call(this);this.$g()},onViewModelPropertyChanged:function(ch,ci){switch(ci.get_propertyName()){case'isActiveZone':case'isReadyZone':{break}case'ParentZoneSizeChanged':{var cj=this.$v().$4();if(cj.w===tab.DoubleUtil.roundToInt(this.$u().panel.width())&&cj.h===tab.DoubleUtil.roundToInt(this.$u().panel.height())){}else{this.$n()}break}case null:case'titleVisible':case'ModelChanged':{this.$n();break}default:{this.$n();break}}},$r:function(){return tab.FeatureFlags.isEnabled('WebAuthoringContinuousColorPicker')&&tsConfig.current_sheet_type!=='story'&&tsConfig.current_sheet_type!=='dashboard'&&tsConfig.is_authoring},$s:function(){},$h:function(ch){this.$u().panel.addClass('hover')},$i:function(ch){this.$u().panel.removeClass('hover')},$n:function(){this.$g()},$g:function(){this.drawTitle();this.$q();this.$k()},drawTitle:function(){ss.makeGenericType(g,[bE]).prototype.drawTitle.call(this);if(!this.get_legendViewModel().get_titleInline()){this.$u().titleArea.width(this.$v().$4().w)}},$q:function(){this.$u().panel.get(0).id=this.$j();var ch=this.$v().$4().h;var ci=this.$v().$4().w;bD.setDomNodeStyleSize(this.$u().panel,ci,ch)},$j:function(){return'tableau_qcolor_legend_'+encodeURIComponent(this.$v().$7())},$k:function(){var ch=this.$t().tV;var ci=$.extend(true,new Object,ch.oyQ);var cj=this.$u().ramp;var ck=cj.get(0);var cl=tab.CanvasRenderer.getRenderContext(ck,'opaque');var cm=ch.xuX.thj+ch.xuX.rec<ci.thj;this.$l(cl,cm,ci);this.$m(cj,ci,ck,cl,cm)},$l:function(ch,ci,cj){ch.save();tab.DisplayList2DRenderer.setTextProperties(ch,this.$t().ZBT,0);{this.$p(this.$u().minLabel);if(ci){this.$e(ch,cj)}}var ck=this.$u().maxLabel;if(this.$t().tV.fUl){ck.css('visibility','hidden')}else{ck.css('visibility','visible');this.$o(ck);if(ci){this.$d(ch,cj,ck)}}ch.restore()},$m:function(ch,ci,cj,ck,cl){ch.css('left',ci.thj.toString()+'px');ch.css('top',ci.RAC.toString()+'px');var cm=this.$t().POI.s$V*2;var cn=ci.rec-cm+1;var co=ci.EUR-cm+1;ch.css('width',cn+'px');ch.css('height',co+'px');{var cp={w:cn,h:co};tab.CanvasUtil.sizeCanvasWithHighDPISupport(cj,ck,cp);ck.save();var cq=this.$v().get_rampColorSamplesAsColorModels();var cr=cq.length;if(this.$t().tzB){var cs=0;var ct=Math.round(cn/cr);for(var cu=0;cu<cr-1;++cu){ck.set_shapeFillStyle(cq[cu]);ck.fillRect(cs,0,ct+1,co);cs+=ct}var cv=cn-cs;ck.set_shapeFillStyle(cq[cr-1]);ck.fillRect(cs,0,cv,co)}else{var cw=ck.createLinearGradient(0,0,cn,0);var cx=1/(cr-1);for(var cy=0;cy<cr;++cy){var cz=cy*cx;cw.addColorStop(cz,cq[cy])}ck.set_shapeFillStyle(cw);ck.fillRect(0,0,cn,co)}ck.restore()}{var cA=tab.FormattingConverters.makeBorderStyleDict(this.$t().POI);ch.css(cA)}if(this.$t().uiH){var cB=this.$u().centerMark;cB.css('visibility','visible');var cC=this.$t().tV.sOh.thj;var cD=this.$t().tV.sOh.RAC;var cE=this.$t().tV.fhz.RAC;var cF=cE-cD;if(cl&&ci.rec!==this.$t().tV.oyQ.rec){var cG=this.$t().tV.oyQ;var cH=(cC-cG.thj)/cG.rec;cC=ci.thj+Math.ceil(cH*ci.rec)}cB.css('left',cC.toString()+'px');cB.css('top',cD.toString()+'px');cB.width(1);cB.height(cF);cB.css('background-color','black')}else{this.$u().centerMark.css('visibility','hidden')}},$o:function(ch){var ci=this.$t().tV;ch.css('left',ci._oB.thj.toString()+'px');ch.css('top',ci._oB.RAC.toString()+'px');ch.css('width',ci._oB.rec.toString()+'px');ch.css('height',ci._oB.EUR.toString()+'px');ch.css('line-height',ci._oB.EUR.toString()+'px');ch.css('text-align','right');var cj=this.$t().ZBT;ch.css(tab.FormattingConverters.makeFormatStyleDict(cj,null));ch.text(this.$t().ZWE)},$d:function(ch,ci,cj){var ck=Math.max(0,Math.round(ch.measureText(this.$t().ZWE).width)-this.$t().tV._oB.rec);ck+=this.$v().get_borderWidth()*2;ck=this.$f(ck,ci.rec);if(ck>0){cj.css('left',(this.$t().tV._oB.thj-ck).toString()+'px');ci.rec-=ck}},$p:function(ch){var ci=this.$t().tV;ch.css('left',ci.xuX.thj.toString()+'px');ch.css('top',ci.xuX.RAC.toString()+'px');ch.css('width',ci.xuX.rec.toString()+'px');ch.css('height',ci.xuX.EUR.toString()+'px');ch.css('line-height',ci.xuX.EUR.toString()+'px');ch.css('text-align',(ci.fUl?'center':'left'));var cj=this.$t().ZBT;ch.css(tab.FormattingConverters.makeFormatStyleDict(cj,null));ch.text(this.$t().lUK)},$e:function(ch,ci){var cj=Math.round(ch.measureText(this.$t().lUK).width)-this.$t().tV.xuX.rec;cj=this.$f(cj,ci.rec);if(cj>0){ci.thj+=cj;ci.rec-=cj}},$f:function(ch,ci){var cj=0;if(ch>0&&ci>1){cj=Math.min(ch,Math.floor(ci*0.15))}return cj}},ss.makeGenericType(g,[bE]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[bE]),ss.makeGenericType(tab.IQuantitativeColorLegendView$1,[bE])]);ss.initClass(bE,a,{get_quantColorLegendPresModel:function(){return this.$d.get_quantColorLegendPresModel()},get_presModelTitleHtml:function(){return this.get_quantColorLegendPresModel().XjF},get_presModelTitleInline:function(){return this.get_quantColorLegendPresModel().tV.HNR},get_regionType:function(){return'color'},get_rampColorSamplesAsColorModels:function(){var ch=[];var ci=this.get_quantColorLegendPresModel().eg$;if(ss.isValue(ci)){var cj=this.get_quantColorLegendPresModel().Avh/255;ch=new Array(ci.length);for(var ck=0;ck<ci.length;++ck){ch[ck]=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.fromColorCode(ci[ck]),cj).toString()}}return ch},get_borderWidth:function(){var ch=this.get_quantColorLegendPresModel().rPC.s$V;if(this.get_quantColorLegendPresModel().rPC.ysh1==='bs-none'){ch=0}return ch},get_presModelTitleHeight:function(){return this.get_quantColorLegendPresModel().tV.HVI.EUR},get_presModelTitleWidth:function(){return this.get_quantColorLegendPresModel().tV.HVI.rec},dispose:function(){this.$d.remove_legendChanged(ss.mkdel(this,this.$c));bg.prototype.dispose.call(this)},$c:function(){this.notifyPropertyChanged('ModelChanged')}},bg,[ss.IDisposable,spiff.IViewModel,tab.IQuantitativeColorLegendViewModel]);ss.initClass(bF,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bG,a,{get_scrollNode:function(){return this.contentNode},instantiate:function(ch,ci,cj){this.$2=this.parent.get_searchWidget();this.$2.setStyle(2);var ck=$(this.div).addClass('CFOuterContainer');this.$2.startupAndAppendTo(ck);this.$2.hideUI();var cl=$('<div>').addClass('CFInnerContainer').addClass('tab-ctrl-formatted-text');ck.append(cl);this.contentNode=cl.get(0);this.resetContent(ch,ci,cj);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(this.div),'click',ss.mkdel(this.parent,this.parent.onListItemClick)))},resetContent:function(ch,ci,cj){var ck=$(this.contentNode);ck.empty();if(this.shouldUseAllItem()&&ch.length>0){p.addAllItem(ck,this.parent,ci,cj,G.isAllOrAllChecked(this.parent),this.get_itemFormatter());if(G.isAllOrAllChecked(this.parent)){for(var cl=0;cl<ch.length;cl++){ch[cl].s=false}}}if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=bW.createRadiolist(this.parent,ch,this.contentNode,ci,this.get_lineHeight());var cm=this.contentNode.querySelector('[role=radiogroup]');if(ss.isValue(cm)){cm.setAttribute('aria-labelledby',this.parent.get_titleDomId())}},updateContent:function(ch){var ci=((ch.length>0)?ch.join(''):this.$2.get_noMatchHtml());var cj=$(this.contentNode);if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy();this.tiledWidget=null}cj.html(ci)},shouldNotReinstantiate:function(){return ss.isValue(this.$2)&&this.$2.isShowingResults()},layout:function(ch,ci){this.inherited(arguments);if(ss.isValue(this.tiledWidget)){this.tiledWidget.updateViewport(ch.w,ch.h)}var cj=((ss.isValue(this.$2)&&this.$2.get_isVisible())?dojo.marginBox(this.$2.domNode).h:0);this.contentNode.style.height=this.div.clientHeight-cj+'px'},destroy:function(){this.dispose();if(ss.isValue(this.$2)){this.$2.destroy()}if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=null},fetchChildNodeByIndex:function(ch){if(ss.isValue(this.tiledWidget)){return this.tiledWidget.getElement(ch)}else{return null}},fetchAllItem:function(){if(this.shouldUseAllItem()&&ss.isValue(this.contentNode)){return this.contentNode.firstChild}else{return null}}},h,[ss.IDisposable]);ss.initClass(bH,a,{},q,[M]);ss.initEnum(bI,a,{year:'year',quarter:'quarter',month:'month',week:'week',day:'day',hour:'hour',minute:'minute',second:'second'},true);ss.initEnum(bJ,a,{curr:'curr',todate:'todate',last:'last',next:'next',lastn:'lastn',nextn:'nextn',other:'other',othern:'othern',invalid:'invalid'},true);ss.initClass(bK,a,{get_filterType:function(){return this.$2.get_filterType()},get_legacyRelativeDateQuickFilterModel:function(){return this.$2},get_defaultFormat:function(){return this.$2.get_defaultFormat()},get_fiscalYearStart:function(){return this.$2.get_fiscalYearStart()},get_noTime:function(){return this.$2.get_noTime()},get_isRelativeDatePick:function(){return this.$2.get_isRelativeDatePick()},get_text:function(){return this.$2.get_text()},get_relativeDateTable:function(){return this.$2.get_relativeDateTable()},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return(ss.isValue(this.get_relativeDateTable().anchor)?this.get_relativeDateTable().anchor:null)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFilterTypeViewModel]);ss.initClass(bL,a,{get_filterViewModel:function(){return this.filterViewModel},postCreate:function(){if(this.filterViewModel.get_filterType()!=='RelativeDatePick'){}this.disposables=new tab.DisposableHolder;this.getSID=ss.mkdel(this,function(){return this.stateId});this.timestamp=(new Date).getMilliseconds();this.initFromState();$(this.menuButton.domNode).css('background-color',this.backgroundColor)},shouldHideDomainButton:function(){return true},shouldHideContextMenu:function(){if(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring){return true}var ch=tab.CommandsPresModelWrapper.create(this.getContextMenuCommands());return this.hideEmptyTitlebar()||ss.isNullOrUndefined(ch)||ch.get_commandItems().length===0},dispose:function(){this.disposables.dispose();this.showContextMenu=null},destroy:function(ch){this.dispose();this.domPicker.innerHTML='';this.inherited(arguments)},initFromState:function(){this.currentRange=this.oFilter.table;this.currentAbbrev=this.toAbbrev(this.currentRange);this.domPicker.innerHTML='';var ch=tableau.format.formatColumnDisplayName(this.oFilter,false,false);this.domTitleBar.setAttribute('title',ch);this.updateTitleBar();_.each(bL.pickerStrings,ss.mkdel(this,function(cj,ck){var cl=document.createElement('div');cl.innerHTML=tableau.format.escapeHTML(cj);cl.classList.add('PickLabel');cl.classList.add('tab-ctrl-formatted-border-hover');this.domPicker.appendChild(cl);var cm=$(cl);var cn=ss.mkdel(this,function(co){this.onClick(ck,co)});this.disposables.add$1(spiff.EventUtil.bindWithDispose(cm,'click',cn));if(ss.referenceEquals(this.currentAbbrev,bL.pickerDurations[ck])){this.$0(cl);this.$2=cl}}));this.layout(null);var ci=function(cj,ck){var cl=$(cj.domNode);if(ck){cl.removeClass('RDFButtonR1');cl.addClass('RDFButtonHide')}else{cl.removeClass('RDFButtonHide');cl.addClass('RDFButtonR1')}};ci(this.menuButton,this.shouldHideContextMenu())},$0:function(ch){var ci=$(ch);ci.addClass('Selected');ci.addClass('tab-ctrl-formatted-widget');ci.removeClass('tab-ctrl-formatted-border-hover');ci.addClass('tab-ctrl-formatted-darker-border-hover')},$1:function(ch){var ci=$(ch);ci.removeClass('Selected');ci.removeClass('tab-ctrl-formatted-widget');ci.addClass('tab-ctrl-formatted-border-hover');ci.removeClass('tab-ctrl-formatted-darker-border-hover')},formatTuple:function(ch){return tableau.format.formatTupleDisplayName(ch,true,this.oFilter.role)},toAbbrev:function(ch){var ci=ch.rangeN.toString();var cj;switch(ch.rangeType){case'curr':{cj='0';break}case'lastn':{cj='-'+ci;break}case'nextn':{cj=ci;break}default:{return''}}switch(ch.periodType){case'year':{cj+='y';break}case'quarter':{cj+='q';break}case'month':{cj+='m';break}case'week':{cj+='w';break}case'day':{cj+='d';break}case'hour':{cj+='h';break}default:{return''}}return cj},onClick:function(ch,ci){var cj=bL.pickerDurationsInteger[ch];if(!ss.referenceEquals(ci.target,this.$2)){if(ss.isValue(this.$2)){this.$1(this.$2)}this.$0(ci.target);tab.FilterClientCommands.doRelativeDateQuickFilter(this.session.get_visualId(),this.field,'day','lastn',cj)}},hideEmptyTitlebar:function(){return ss.isNullOrEmptyString(this.titleHTML)},doMenu:function(){this.showContextMenu(this.menuButton.domNode)},setTitleSize:function(ch,ci){this.$3=ch;this.$4=ci},adjustLabelPickWidth:function(ch){var ci=Math.floor((ch-1)/bL.pickerDurations.length);_.each(this.domPicker.childNodes,function(cj){$(cj).css('width',ci-3+'px')})},layout:function(ch){var ci;$(this.domNode).removeClass('RDPFHorizontal');this.updateTitleBar();var cj=dojo.marginBox(this.domPicker);if(!ss.isValue(cj)||!ss.isValue(cj.w)||cj.w===0){return}var ck=dojo.marginBox(this.domTitleBar);this.resetTitleSize();if(this.$3>0){ck.h=this.$3;dojo.marginBox(this.domTitleBar,ss.mkdict(['h',ck.h]))}if(this.$4>0){ck.w=this.$4;dojo.marginBox(this.domTitleBar,ss.mkdict(['w',ck.w]))}tableau.util.setupTitleEllipsis($(this.domTitleBar));var cl=dojo.contentBox(this.domNode);ci=cl.w;if(!this.hideEmptyTitlebar()&&this.$4>0){$(this.domNode).addClass('RDPFHorizontal');$(this.domTitleBar).css('float','left');$(this.domPicker).css('float','left');ci=cl.w-ck.w}else{$(this.domTitleBar).css('float','none');$(this.domPicker).css('float','none')}dojo.contentBox(this.domPicker,ss.mkdict(['w',ci]));this.adjustLabelPickWidth(ci)}},be,[ss.IDisposable]);ss.initClass(bM,a,{get_newPos:function(){return this.$0}},ss.EventArgs);ss.initClass(bN,a,{get_applyDelay:function(){return this.applyDelay},get_isPendingMode:function(){return false},get_filterTable:function(){return(!!this.get_oResults()?this.get_oResults():null)},get_quickFilter:function(){return this.get_qf()},shouldDeferChanges:function(){return false},postCreate:function(){this.inherited(arguments);if(this._isTypeInList){this.showUI(true)}this._isFilterSearchable=true;if(!!this.get_qf()&&this._isTypeInList){this._isFilterSearchable=this.get_qf().get_oFilter().is_searchable}if(this._isFilterSearchable){this.domSearchAddButton.title=this.ADD_ITEM_CTRL_ENTER}else{this.domSearchAddButton.title=this.ADD_ITEM_ENTER}this.setQueryIconsVisibility(true);x.disableTextSelection(this.domResults)},destroy:function(){if(ss.isValue(this.domResults)){$([this.domResults]).remove()}this.inherited(arguments)},onQueryBoxPaste:function(ch){this._queryBoxPasteTimeout=tab.MiscUtil.clearTimeout(this._queryBoxPasteTimeout);this._queryBoxPasteTimeout=window.setTimeout(ss.mkdel(this,this._handleQueryBoxPaste),10)},_handleQueryBoxPaste:function(){var ch;var ci;ci=this.getQuery();ci=ci.replace('/\r\n/g','\n');ch=ci.split('\n');if(ch.length>1){this.addManualSearchItems(ch)}},getOnQueryBoxKeyDownBehavior:function(ch){var ci;ci=this.inherited(arguments);switch(ch.keyCode){case 27:{if(tab.BrowserSupport.get_isFF()){ci.functionToCall=ss.mkdel(this,this.onXButtonClick)}break}case 13:{if(this._isTypeInList){ci.stopEvent=true;ci.functionToCall=this._getEnterKeyDownBehaviorOnTypeInList(ch)}break}}return ci},_getEnterKeyDownBehaviorOnTypeInList:function(ch){if(ch.ctrlKey){return ss.mkdel(this,this.onSearchAddButtonClick)}if(this._isFilterSearchable){return ss.mkdel(this,this.onSearchButtonClick)}return ss.mkdel(this,this.onSearchAddButtonClick)},handleQueryTextChanged:function(ch){this.inherited(arguments);if(this._isTypeInList){this.clearSearch(true,true)}if(!this._isTypeInList){this.$7()}},onSearchAddButtonClick:function(ch){this.addManualSearchItems(null)},onSearchButtonClick:function(ch){this.doSearch()},onSearchBusyImgClick:function(ch){this.$2()},focusQueryBox:function(){this.domQueryBox.focus()},blurQueryBox:function(){this.domQueryBox.blur()},getQuery:function(){return this.domQueryBox.value},setQuery:function(ch){this.domQueryBox.value=ch},showUI:function(ch){if(this.get_isVisible()){return}if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyCategoricalQuickFilter'&&this.get_qf().get_oFilter().table.tuples.length===0&&!this._isTypeInList){return}this.inherited(arguments)},clearSearch:function(ch,ci){this.domResults.style.display='none';this.domResults.innerHTML='';this.clearRangeAnchorAndSelection();this.$2();this.inherited(arguments)},setQueryIconsVisibility:function(ch){var ci=this._isTypeInList;var cj=((!!ch&&ch)?false:tableau.util.isElementVisible(this.domResults));var ck=!ss.isNullOrEmptyString(this.getQuery())&&ci&&!cj;var cl=ck;var cm=ck&&this._isFilterSearchable;this.domSearchBusyImg.style.display=((cm&&this._bSearching)?'block':'none');this.domSearchButton.style.display=((cm&&!this._bSearching)?'block':'none');this.domSearchAddButton.style.display=(cl?'block':'none');var cn=((ci&&!cj)?'none':'block');this.get_domXButton().style.display=cn;this.fixQueryWidth()},fetchChildNodeByIndex:function(ch){var ci=this.domResults.childNodes;for(var cj=0,ck=ci.length;cj<ck;cj++){if(G.filterItem.getIndex(ci[cj])===ch){return ci[cj]}}return null},layout:function(ch){this.setQueryIconsVisibility();var ci=this.$3();if(this._isTypeInList||this.get_qf().get_mode()==='checkdropdown'){this.$4(ci)}else if(ci!==0){this.$6(ss.Int32.div(ss.unbox(ch),ci),ci)}},fixQueryWidth:function(){var ch=tableau.util.isElementVisible(this.get_domXButton());var ci=tableau.util.isElementVisible(this.domSearchAddButton);var cj=tableau.util.isElementVisible(this.domSearchButton);var ck=tableau.util.isElementVisible(this.domSearchBusyImg);var cl=0;if(ch){cl+=dojo.marginBox(this.get_domXButton()).w}if(ci){cl+=dojo.marginBox(this.domSearchAddButton).w}if(cj){cl+=dojo.marginBox(this.domSearchButton).w}if(ck){cl+=dojo.marginBox(this.domSearchBusyImg).w}dojo.marginBox(this.domQueryBox,ss.mkdict(['w',dojo.contentBox(this.domQuerySection).w-cl-1]))},$4:function(ch){var ci=$(tab.WorkbookView.dashboardContainerSelector).get(0);if(!this._initializedSearchResults){this._initializedSearchResults=true;ci.appendChild(this.domResults);$(this.domResults).css(ss.mkdict(['position','absolute','zIndex','987']));this._domResultsPBExtents=dojo._getPadBorderExtents(this.domResults)}var cj=dojo.coords(this.domQuerySection);var ck=$(this.domQuerySection).offset();var cl=$(ci).offset();var cm=tab.DoubleUtil.roundToInt(ck.top)-tab.DoubleUtil.roundToInt(cl.top);var cn=cm+cj.h;var co=dojo.coords(ci);var cp=co.t+co.h;var cq=ch+this._domResultsPBExtents.h;var cr=this.domResults.childNodes.length*ch+this._domResultsPBExtents.h;var cs=cp-cn;var ct=cm-co.t;var cu=true;var cv=Math.min(cr,cs);if(cv<cq&&ct>cs){cv=Math.min(cr,ct);cu=false}cv=Math.max(cv,cq);dojo.marginBox(this.domResults,ss.mkdict(['w',cj.w,'h',cv]));var cw=(cu?cn:(cm-cv));var cx=tab.DoubleUtil.roundToInt(ck.left)-tab.DoubleUtil.roundToInt(cl.left);$(this.domResults).css(ss.mkdict(['top',cw.toString()+'px','left',cx.toString()+'px','borderTopWidth',(cu?'0':'1px'),'borderBottomWidth',(cu?'1px':'0')]))},$6:function(ch,ci){var cj=Math.max(this.domResults.childNodes.length,1);var ck=Math.min(cj,Math.floor(ch/2));this.domResults.style.height=(ck*ci).toString()+'px'},$3:function(){if(ss.isNullOrUndefined(this.domResults.firstChild)){return 0}var ch=$(this.domResults.firstChild);if(ss.isValue(ch[0].offsetHeight)){return ch[0].offsetHeight}return 15},$7:function(){this._searchTimer=tab.MiscUtil.clearTimeout(this._searchTimer);this._searchTimer=window.setTimeout(ss.mkdel(this,this.doSearch),this.searchDelay)},showSearchSpinner:function(ch){this._bSearching=ch;this.setQueryIconsVisibility()},addManualSearchItems:function(ch){if(this.get_qf().get_dijitDeclaredClass()!=='tableau.base.widget.LegacyCategoricalQuickFilter'){return}if(tab.MiscUtil.isNullOrUndefined(ch)){ch=this.getQuery().split('\n')}if(tab.MiscUtil.isNullOrEmpty(ch)){return}var ci=[];for(var cj=0,ck=ch.length;cj<ck;cj++){var cl=ch[cj];if(!tab.MiscUtil.isNullOrEmpty$1(cl)){ci.push({d:cl,s:true,t:[{t:'s',v:cl}]})}}var cm=new Object;cm.schema=this.get_qf().get_oFilter().table.schema;cm.tuples=ci;this.notifyParentFilterOfChanged(cm,true,false);this.clearSearch(false,false)},doSearch:function(){this.searchWithQuery(this.getQuery())},updateSearch:function(){if(this.get_isVisible()&&this.resultCount>0){this.searchWithQuery(this.getQuery())}},searchWithQuery:function(ch){if(ch.length<=0){this.clearSearch(false,false)}else if(this.get_qf().get_dijitDeclaredClass().indexOf('LegacyCategoricalQuickFilter')>-1&&!this._isTypeInList){if(this.get_qf().get_oFilter().isTiled){this.doRemoteSearch(ch,true)}else{this.handleSearchResults(this.doCategoricalSearch(ch))}}else{this.doRemoteSearch(ch,false)}},doRemoteSearch:function(ch,ci){this.showSearchSpinner(this._isTypeInList);this._lastRemoteSearch=this.doAjaxRemoteSearch(ch,this.$9,ci,ss.mkdel(this,this.handleSearchResults),ss.mkdel(this,this.handleSearchResultsError))},$2:function(){if(!!this._lastRemoteSearch){this._lastRemoteSearch.abort();this._lastRemoteSearch=null}this.showSearchSpinner(false)},$1:function(ch,ci,cj){var ck=tableau.format.escapeHTML;if(!ss.isNullOrUndefined(cj)&&ci<cj){var cl=cj-ci;ch.push('<div class="searchResultsRemaining">');if(cl===1){ch.push(ck(tab.Strings.SearchResultsNotShownSingular))}else{var cm=tableau.format.formatIntAuto(cl,'t',',','3;0');ch.push(ck(tab.Strings.SearchResultsNotShownPlural(cm)))}ch.push('</div>')}},$5:function(ch){if(ch.length<=0){return[]}this.set_oResults(ch);var ci=this.get_oResults().tuples;var cj=this.get_oResults().indices;var ck=[];var cl=this.makeUniqueSearchItemIdPrefix();for(var cm=0,cn=ci.length;cm<cn;cm++){var co=(!!cj?cj[cm]:cm);var cp=G.filterItem.getSearchResultHtml(this.get_qf(),ci[cm],cl,co);ck.push(cp)}this.$1(ck,ci.length,ch.actual_size);return ck},handleSearchResults:function(ch){var ci=tableau.format.escapeHTML;var cj=tab.Strings.QuickFilterSearchNoMatches;this.showSearchSpinner(false);if(!!ch&&ch.dojoType==='cancel'){return}this.domResults.innerHTML='';if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyHierarchicalQuickFilter'||this._isTypeInList||this.get_qf().get_oFilter().isTiled){if(!!ch.schema[0].collation&&ch.schema[0].collation.f===0){cj='<div>'+ci(cj)+'<br/>'+ci(tab.Strings.QuickFilterSearchDataIsCaseSensitive)+'</div>'}ch=this.$5(ch)}this.resultCount=ch.length;this.domResults.innerHTML=((this.resultCount>0)?ch.join(''):cj);this.domResults.style.display=((this.domResults.innerHTML.length>0)?'block':'none');this.setQueryIconsVisibility();this.get_qf().layout(null);this.$8.refreshRangeAnchorAndSelection()},handleSearchResultsError:function(ch){this.showSearchSpinner(false);this.domResults.innerHTML='';this.resultCount=0},applyChanges:function(){var ch=null;if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyCategoricalQuickFilter'&&!this._isTypeInList){ch=this.applyChangesCat()}else{ch=this.applyChangesHierOrTypeIn()}this.notifyParentFilterOfChanged(ch,false,false)},applyChangesByChangelist:function(ch){if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyCategoricalQuickFilter'&&!this._isTypeInList){this.get_qf().applyChangesByChangelist(ch)}else{this.applyChanges()}},notifyParentFilterOfChanged:function(ch,ci,cj){if(ch.tuples.length===0){return}this.get_qf().updateStateFromSearch(ch);if(cj){return}var ck=this.get_qf();ck.set_stateId(ck.get_stateId()+1);if(ci){tab.FilterClientCommands.addManualFilterItems(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),ch)}else{var cl=this._isTypeInList&&this.get_qf().get_oFilter().all;var cm=cl||this.get_qf().isSingleSelect();if(cm){if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyHierarchicalQuickFilter'){this._doModifyHierarchialFilter(cm,ch)}else{this.doSetCategoricalFilter(cl,ch)}}else if(this.get_qf().get_dijitDeclaredClass()==='tableau.base.widget.LegacyHierarchicalQuickFilter'){this._doModifyHierarchialFilter(false,ch)}else{this.doModifyCategoricalFilter(ch)}}},doSetCategoricalFilter:function(ch,ci){var cj;var ck=[];var cl=ci.tuples.length;if(ch){for(var cm=0;cm<cl;cm++){cj=ci.tuples[cm].d||ci.tuples[cm].t[0].v;if(ci.tuples[cm].s){ck.push(cj)}}}else{cj=ci.tuples[0].d||ci.tuples[0].t[0].v;ck.push(cj)}tab.FilterClientCommands.setCategoricalFilterValues(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),'filter-replace',ck,null)},doModifyCategoricalFilter:function(ch){var ci=[];var cj=[];var ck=ch.tuples.length;for(var cl=0;cl<ck;cl++){var cm=ch.tuples[cl].d||ch.tuples[cl].t[0].v;if(ch.tuples[cl].s){ci.push(cm)}else{cj.push(cm)}}tab.FilterClientCommands.modifyCategoricalFilterValues(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),ci,cj,true)},_doModifyHierarchialFilter:function(ch,ci){var cj=[];var ck=[];var cl=(ch?'filter-replace':'filter-delta');var cm=ci.tuples.length;var cn=ci.tuples;for(var co=0;co<cm;co++){var cp=cn[co].t.length;var cq='';for(var cr=0;cr<cp;++cr){var cs=cn[co].t[cr];if(!!cs.v){cq=cs.v}}if(cn[co].s){cj.push(cq)}else{ck.push(cq)}}tab.FilterClientCommands.doMemberHierarchialFilter(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),cj,ck,cl)},applyChangesCat:function(){var ch=new Object;ch.schema=this.get_qf().get_oFilter().table.schema;ch.tuples=[];var ci=this.domResults.firstChild;var cj=this.domResults.childNodes.length;var ck;var cl=this.get_qf().get_oFilter().table.tuples;if(this.get_qf().isSingleSelect()){for(var cm=0;cm<cj;cm++,ci=ci.nextSibling){if(G.filterItem.isChecked(ci)){ck=G.filterItem.getIndex(ci);this.recordCheckedChanges(ch,ci,cl[ck]);for(var cn=0;cn<cl.length;++cn){if(cn!==ck){cl[cn].s=false}}break}}}else{var co=[];for(var cp=0;cp<cj;cp++,ci=ci.nextSibling){ck=G.filterItem.getIndex(ci);this.recordCheckedChanges(ch,ci,cl[ck]);co[ck]=1}ci=this.get_qf().get_domContent().firstChild;if(G.filterItem.isAllItem(ci)){ci=ci.nextSibling}var cq=cl.length;for(var cr=0;cr<cq;cr++,ci=ci.nextSibling){if(co[cr]===0){this.recordCheckedChanges(ch,ci,cl[cr])}}}return ch},applyChangesHierOrTypeIn:function(){var ch=new Object;ch.schema=this.get_oResults().schema;ch.tuples=[];var ci=this.domResults.firstChild;var cj=this.get_oResults().tuples;for(var ck=0,cl=cj.length;ck<cl;ck++,ci=ci.nextSibling){this.recordCheckedChanges(ch,ci,cj[ck])}return ch},onManualAddSuccess:function(ch){var ci=tableau.format.escapeHTML;var cj=ch.invalidTuples;var ck=cj.length;if(ss.isNullOrUndefined(ch)||ss.isNullOrUndefined(ch.invalidTuples)||ss.isNullOrUndefined(ch.totalTuples)){return false}if(ck>0){var cl=[];if(ck===1){cl.push(ci(tab.Strings.QuickFilterSearchInvalidDataMemberSingular(cj[0].t[0].v)));cl.push('<br/>')}else{cl.push(ci(tab.Strings.QuickFilterSearchInvalidDataMembersPlural));cl.push('<br/>');for(var cm=0;cm<ck;cm++){cl.push('&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;');cl.push(cj[cm].t[0].v);cl.push('<br/>')}}tab.Application.get_commonDialogProvider().showAlertDialog(cl.join(''),tab.Strings.QuickFilterSearchInvalidDataMembersDialogTitle,true,null);var cn=[];for(var co=0;co<ck;co++){var cp=cj[co].t[0].v;cn.push({d:cp,s:false,t:cj[co].t})}var cq=new Object;cq.schema=this.get_qf().get_oFilter().table.schema;cq.tuples=cn;this.notifyParentFilterOfChanged(cq,true,true)}return ch.totalTuples>ck},updateStateIfNeeded:function(){},handleClickIfPending:function(ch){},clearRangeAnchorAndSelection:function(){this.$8.clearRangeAnchorAndSelection()},forEachSelected:function(ch){this.$8.forEachSelected(ch)},onListItemClick:function(ch){this.$8.onListItemClick(ch)},handleItemClick:function(ch){},recordCheckedChanges:function(ch,ci,cj){if(G.filterItem.isChecked(ci)&&!cj.s){ch.tuples.push(G.filterItem.setChecked(ci,true,cj))}else if(!G.filterItem.isChecked(ci)&&cj.s){ch.tuples.push(G.filterItem.setChecked(ci,false,cj))}}},bO,[K]);ss.initClass(bP,a,{createListElement:function(ch,ci,cj,ck){var cl=$(ch);if(this.shouldUseAllItem()&&ci.length>0){p.addAllItem(cl,this.parent,cj,ck,false,ss.mkdel(G.filterItem,G.filterItem.formatDropdownListFilterItemHtml))}{if(ss.isValue(this.tiledWidget)){this.tiledWidget.destroy()}this.tiledWidget=bW.createSimpleList(this.parent,ci,ch,cj,this.get_lineHeight())}{var cm=spiff.EventUtil.bindWithDispose(cl,'click',ss.mkdel(this,this.$e));this.disposables.add$1(cm);var cn=spiff.EventUtil.bindWithDispose(cl,'touchend',ss.mkdel(this,this.$e));this.disposables.add$1(cn);var co=spiff.EventUtil.bindWithDispose(cl,'keydown',ss.mkdel(this,this.$d));this.disposables.add$1(co)}cl.parent().toggleClass('CFDropdownNoItems',ci.length===0);if(ci.length===0){cl.text(tab.Strings.QuickFilterNoItems)}},$e:function(ch){var ci=G.filterItem.getNodeFromEvent(ch);if(!!!ci){return}var cj=G.filterItem.getIndex(ci);if(cj===-1&&!this.parent.get_oFilter().all){this.parent.doSelectAll(true);this.hideMenu();return}if(cj!==this.currentlySelected){if(cj>=this.parent.get_oFilter().table.actual_size||cj<0){this.hideMenu();return}this.parent.set_stateId(this.parent.get_stateId()+1);var ck=[];ck.push(cj);tab.FilterClientCommands.setCategoricalFilterValuesByIndex(this.parent.get_session().get_visualId(),this.parent.get_field(),'filter-replace',ck)}this.hideMenu()},$d:function(ch){switch(ch.which){case 40:case 38:{this.$f(G.filterItem.getNodeFromEvent(ch),ch.which===38);ch.preventDefault();break}case 9:{ch.preventDefault();break}case 13:{this.$e(ch);break}}},$f:function(ch,ci){var cj=this.menuNode.find('.FIItem');for(var ck=0,cl=cj.length;ck<cl;ck++){if(ss.referenceEquals(cj.eq(ck).get(0).getAttribute('id'),ch.getAttribute('id'))){if(!ci&&ck!==cl-1){cj.eq(ck+1).focus()}else if(ci&&ck!==0){cj.eq(ck-1).focus()}else if(ci&&ck===0){this.menuNode.parent().find('.QueryBox').eq(0).get(0).focus()}return}}}},e,[ss.IDisposable]);ss.initClass(bR,a,{get_oneLineLayout:function(){return this.$r},$9:function(ch){return this.$e[ch[0]]!=='false'&&this.$e[ch[1]]!=='true'},calculateStyleid:function(){this.styleid=0;if(!this.$9(this.$s)){this.styleid+=4}if(!this.$9(this.$w)){this.styleid+=2}if(!this.$9(this.$d)){this.styleid+=1}if(this.styleid>5){this.styleid=3}},dispose:function(){this.$g.dispose()},destroy:function(){dojo.unsubscribe(this.$y);dojo.unsubscribe(this.$z);this.$4();this.dispose();if(ss.isValue(this.$D)){this.$D.domNode.parentNode.removeChild(this.$D.domNode);this.$D=null}if(ss.isValue(this.slider)&&typeof(this.slider['destroy'])==='function'){this.slider.destroy()}if(ss.isValue(this.$x)&&typeof(this.$x['destroy'])==='function'){this.$x.destroy()}},instantiateFromDomain:function(ch,ci){var cj=[];var ck=ch.length;for(var cl=0;cl<ck;cl++){cj[cl]={d:ch[cl],s:ss.referenceEquals(ci,ch[cl]),t:[]}}this.instantiateFromTuples(cj,null)},instantiateFromTuples:function(ch,ci){var cj=-1;var ck=tab.Strings.QuickFilterUnknown;var cl=null;if(ch.length>0){var cm=ch.length;for(var cn=0;cn<cm;cn++){if(ch[cn].s&&!this.$m){if(cj>-1){ck=tab.Strings.QuickFilterMultipleValues}else{cj=cn;ck=this.$k(cn)}}}}if(cj<0){cj=0;if(ss.isValue(ci)){ck=ci}}if(this.$v){cl=this.$j(cj)}this.instantiate$1(ch.length,cj,ck,cl)},instantiate:function(ch,ci,cj){this.instantiate$1(ch,ci,cj,null)},instantiate$1:function(ch,ci,cj,ck){var cl=null;this.currentlySelected=ci;this.calculateStyleid();if(this.$9(this.$s)){this.readout=document.createElement('div');this.readout.classList.add('sliderTextReadout');this.readout.classList.add('tab-ctrl-formatted-widget');this.readout.classList.add('tab-ctrl-formatted-fixedsize');this.$A=document.createElement('div');this.$A.classList.add('sliderText');this.$A.innerHTML=tableau.format.escapeHTML(cj);if(this.$v){this.$i=document.createElement('div');this.$i.className='facet';this.$i.innerHTML=tableau.format.escapeHTML(ck);this.readout.appendChild(this.$i)}this.readout.appendChild(this.$A);this.div.appendChild(this.readout)}if(this.styleid===3){return}var cm=document.createElement('div');if(this.$9(this.$w)){cl=document.createElement('div');cm.appendChild(cl)}this.div.appendChild(cm);if(!ss.isValue(ch)||ss.unbox(ch)<1){ch=1}this.$n=!isFinite(ss.unbox(ch));if(this.$9(this.$w)&&ss.Nullable$1.lt(ch,1200)&&this.$9(this.$B)){var cn=ss.mkdict(['count',ch]);this.$x=new dijit.form.HorizontalRule(cn,cl)}var co={templateString:"<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>",onChange:ss.mkdel(this,this.$0),value:this.currentlySelected,slideDuration:0,intermediateChanges:true,showButtons:this.$9(this.$d),pageIncrement:1};if(isFinite(ss.unbox(ch))){co.minimum=0;co.maximum=ss.unbox(ch)-1;co.discreteValues=ss.unbox(ch)}this.slider=new dijit.form.HorizontalSlider(co,cm);this.$y=dojo.subscribe('/dnd/move/start',ss.mkdel(this,this.startDrag));this.$z=dojo.subscribe('/dnd/move/stop',ss.mkdel(this,this.stopDrag));this.slider.startup();if(ss.isValue(this.$x)){this.$x.startup()}this.$u=false;if(!this.$9(this.$s)){this.$E=document.createElement('div');this.slider.sliderHandle.appendChild(this.$E);var cp=dijit._MasterTooltip.prototype;cp['templateString']="<div class='dijitTooltip dijitTooltipLeft' id='dojoTooltip'><div class='dijitTooltipContainer' dojoAttachpoint='coreArea'><div class='dijitTooltipContents' dojoAttachPoint='containerNode' waiRole='alert'></div></div><div class='dijitTooltipConnector'></div></div>";this.$D=new dijit._MasterTooltip;this.$D.dojoOrient=this.$D.orient;this.$D.orient=ss.mkdel(this,function(cr,cs,ct,cu){this.$D.dojoOrient(cr,cs,ct,cu);$(this.$D.domNode).addClass('sliderThumbTooltip')});var cq=$(this.slider.sliderHandle);this.$g.add$1(spiff.EventUtil.bindWithDispose(cq,'mouseenter',ss.mkdel(this,this.$6)));this.$g.add$1(spiff.EventUtil.bindWithDispose(cq,'mouseleave',ss.mkdel(this,this.$5)))}this.$p=this.slider.decrementButton.childNodes[0];this.$t=this.slider.incrementButton.childNodes[0];this.$b();this.$3()},$b:function(){this.$7(this.$p,'Left',this.currentlySelected===0);this.$7(this.$t,'Right',this.currentlySelected===this.slider.maximum)},$7:function(ch,ci,cj){var ck=$(ch);ck.removeClass('cp'+ci+'Arrow'+(cj?'Black':'Grey'));ck.addClass('cp'+ci+'Arrow'+(cj?'Grey':'Black'))},setNewState:function(ch){this.currentlySelected=ch;this.slider._setValueAttr(this.currentlySelected)},startDrag:function(ch){if(ss.isValue(ch)&&ss.referenceEquals(ch.node,this.slider.sliderHandle)){this.$o=true;if(this.$C>0){this.$4()}}},stopDrag:function(ch){if(ss.isValue(ch)&&ss.referenceEquals(ch.node,this.slider.sliderHandle)){this.$o=false;if(this.$C>0){this.$4()}this.$8();this.$1()}},$6:function(ch){if(!this.$9(this.$s)){this.$F=tab.MiscUtil.clearTimeout(this.$F);this.$u=true;this.$F=window.setTimeout(ss.mkdel(this,this.$1),50)}},$5:function(ch){this.$F=tab.MiscUtil.clearTimeout(this.$F);if(ss.isValue(this.$D)){this.$D.hide(this.$E)}this.$u=false},$1:function(){if(!this.$9(this.$s)){this.$D.hide(this.$E);if(this.$u||this.$o){var ch=this.$f;if(ss.isNullOrUndefined(ch)){ch=ss.Int32.trunc(this.currentlySelected)}var ci=ch;var cj=this.$k(ci);this.$D.show(cj,this.$E,['above','below'])}}},$2:function(){var ch;if(!ss.isValue(this.$f)||isNaN(ss.unbox(this.$f))){return 0}if(this.$n){ch=ss.unbox(this.$f)}else{ch=parseInt(ss.unbox(this.$f).toString(),10)}if(ch<0){ch=0}return ch},$c:function(){if(ss.isNullOrUndefined(this.$f)||ss.isNullOrUndefined(this.currentlySelected)||this.$f===this.currentlySelected){return}var ch=this.$2();if(ss.isValue(this.$h)){this.$h(ch)}this.$f=ch;this.currentlySelected=ch;this.$b()},updateReadout:function(ch){this.updateReadout$1(ch,null)},updateReadout$1:function(ch,ci){if(this.styleid<4){this.$A.innerHTML=ch;if(this.$v){this.$i.innerHTML=ci}}},$0:function(ch){if(isNaN(ch)){return}var ci=(this.$v?this.$j(ch):null);this.updateReadout$1(this.$k(ch),ci);this.$f=ch;if(ss.isValue(this.$q)){this.$q()}if(!this.$o){if(this.$C>0){this.$4()}this.$8()}else if(this.$C>0){this.$4()}this.$1()},$3:function(){if(!this.$9(this.$d)){this.div.classList.add('HideArrows')}if(!this.$9(this.$w)){this.div.classList.add('HideSlider')}if(this.styleid>3){$(this.div).css('height','15px')}},$8:function(){this.$C=window.setTimeout(ss.mkdel(this,this.$a),500)},$4:function(){if(this.$C>0){window.clearTimeout(this.$C);this.$C=-1}},$a:function(){this.$c()},layout:function(){var ch=0;var ci=34;this.$r=false;var cj=$(this.div);cj.css('overflow','hidden');var ck=dojo.marginBox(this.div).h;var cl=parseFloat(cj.css('width'))-5;cj.css('overflow','');if(cl<34){return}if(ss.isValue(this.readout)){$(this.readout).css('width','');$(this.readout).css('float','none')}if(ss.isValue(this.slider)){$(this.slider.tableauSlider).css('width','');$(this.slider.tableauSlider).css('float','none')}if(ss.isValue(this.$x)&&this.$x.count*4>cl){$(this.$x.domNode).css('display','none')}if(ck<38&&this.styleid<=1){var cm=((this.styleid===0)?(cl-34):cl);cm=Math.floor((cm-14)/2);$(this.readout).css('width',cm+'px');$(this.slider.tableauSlider).css('width',cm+'px');$(this.readout).css('float','left');$(this.slider.tableauSlider).css('float','left');this.$r=true}else if(this.styleid===0||this.styleid===4){$(this.slider.tableauSlider).css('width',cl-34+'px')}else if(this.styleid===1||this.styleid===5){$(this.slider.tableauSlider).css('width',cl+'px')}else if(this.styleid===2){$(this.readout).css('width',cl-34-4+'px')}if(this.$9(this.$d)){if(this.styleid===2||this.styleid===4){ch=1}if(this.styleid===0){ch=(this.$r?1:20)}ch+=this.$l();$(this.slider.incrementButton).css('top',ch+'px');$(this.slider.decrementButton).css('top',ch+'px')}}},null,[tab.ISlider,ss.IDisposable]);ss.initClass(bS,a,{instantiate:function(ch,ci,cj){this.$2=ch;var ck=G.isAllOrAllChecked(this.parent);if(this.shouldUseAllItem()){this.$2=G.addAllItemToTuples(this.$2,ck,cj)}else{ck=false}this.$3=new tableau.base.widget.ui.Slider(this.div,this.attributes,ck,ss.mkdel(this,this.updateViz),ss.mkdel(this.parent,this.parent.getTitleOffset),ss.mkdel(this,this.getCurrentText),ss.mkdel(this,this.onIntermediateChange),ss.mkdel(this,this.getCurrentFacet),this.parent.get_oFilter().showFacets);this.$3.instantiateFromTuples(this.$2,this.getSummaryText())},destroy:function(){this.$3.destroy()},layout:function(ch,ci){this.inherited(arguments);this.$3.layout()},showOrHide:function(ch,ci){ch.style.display=(ci?'':'none')},onSmallSearchUI:function(ch,ci){var cj=!ch;var ck=this.$3;if(ck.styleid===2||ck.styleid===4){this.showOrHide(ck.slider.decrementButton,cj);this.showOrHide(ck.slider.incrementButton,cj)}if(ck.styleid===3){this.showOrHide(ck.div,cj);ci.style.marginBottom='2px'}else if(ck.styleid<3){this.showOrHide(ck.readout,cj);if(ck.get_oneLineLayout()){this.showOrHide(ck.div,cj)}}else{this.showOrHide(ck.slider.tableauSlider,cj)}},getRealIndex:function(ch){if(typeof(ch)==='undefined'||isNaN(ch)){return 0}var ci=parseInt(ch.toString(),10);if(ci<0){ci=0}return ci},updateViz:function(ch){var ci=new Object;ci.schema=this.parent.get_oFilter().table.schema;ci.tuples=[];var cj=ci;var ck=this.getRealIndex(ch);var cl=new Array(0);if(this.shouldUseAllItem()&&ck===0){this.parent.doSelectAll(true);return}this.$2[ck].s=true;cj.tuples.push(this.$2[ck]);this.parent.set_stateId(this.parent.get_stateId()+1);var cm=this.$2[ck].d||this.$2[ck].t[0].v;cl.push(cm);tab.FilterClientCommands.setCategoricalFilterValues(this.parent.get_session().get_visualId(),this.parent.get_field(),'filter-replace',cl,null)},onIntermediateChange:function(){if(this.parent.get_searchWidget().get_isVisible()){this.parent.get_searchWidget().toggleUI()}},getCurrentText:function(ch){var ci=this.getRealIndex(ch);var cj=this.$2[ci];return tableau.format.formatTupleDisplayName(cj,true,this.parent.get_oFilter().role)},getCurrentFacet:function(ch){var ci=this.getRealIndex(ch);var cj=this.$2[ci];return tableau.format.formatTupleDisplayFacet(cj,true,this.parent.get_oFilter().role)}},h,[ss.IDisposable]);ss.initClass(bT,a,{get_applyDelay:function(){window.alert(tab.Strings.noLoc('Bad call of ApplyDelay on SmallSearchWidget'));return 0},startup:function(){this.inherited(arguments);var ch=new Object;ch.store=null;ch.autoComplete=false;ch.hasDownArrow=false;ch.highlightMatch='none';ch.searchDelay=this.searchDelay;ch.onChange=ss.mkdel(this,this.applyChanges);ch.onKeyDown=ss.mkdel(this,this.onQueryBoxKeyDown);this.autocompleter=new dijit.form.ComboBox(ch,this.domAutocompleter);this.autocompleter.startup();this.autocompleter._getQueryString=function(cj){var ck=cj.length;if(ck<1){return''}if(cj.charCodeAt(0)===39&&cj.charCodeAt(ck-1)===39){return cj.substr(1,ck-2)}var cl=cj;if(cl.length>1&&cl.charCodeAt(0)===92&&cl.charCodeAt(1)===42){cl='*'+cl.substr(2)}if(cl.length>1&&cl.charCodeAt(cl.length-2)===92&&cl.charCodeAt(cl.length-1)===42){cl=cl.substr(0,cl.length-2)+'*'}if(cl.charCodeAt(0)!==42&&cl.charCodeAt(cl.length-1)!==42){cl='*'+cl+'*'}return cl};var ci=this.NO_MATCHES;this.autocompleter.DOJO_openResultList=this.autocompleter._openResultList;this.autocompleter._openResultList=ss.mkdel(this,function(cj,ck){this.resultCount=cj.length;this.autocompleter.DOJO_openResultList(cj,ck);if(!!!cj.length){this.autocompleter.tooltipPosition=['above','below'];this.autocompleter.displayMessage(ci)}else{dijit.hideTooltip(this.autocompleter.domNode)}if(tab.BrowserSupport.get_isIE()){this.focusQueryBox()}})},getOnQueryBoxKeyDownBehavior:function(ch){var ci;ci=this.inherited(arguments);switch(ch.keyCode){case 13:{ci.functionToCall=null;ci.stopEvent=false;break}case 40:{ci.functionToCall=null;ci.stopEvent=false;if(tab.BrowserSupport.get_isIE()){var cj=this.$1();cj.attr('tabindex','1').keydown(ss.mkdel(this,this.$2));cj.eq(0).get(0).focus();var ck=$(this.domNode.parentElement);ck.find('input').eq(0).val(cj.eq(0).html());ci.stopEvent=true}if(!$(ch.target).hasClass('dijitReset')){ci.stopEvent=true}break}case 37:case 39:case 38:{ci.functionToCall=null;ci.stopEvent=false;break}default:{ci.functionToCall=ss.mkdel(this,this.onSmallSearchKeyDown);ci.stopEvent=false;break}}return ci},onSmallSearchKeyDown:function(ch){this.autocompleter._startSearchFromInput()},$2:function(ch){switch(ch.which){case 40:case 38:{this.$3(ch.currentTarget,ch.which===38);ch.preventDefault();break}case 9:{ch.preventDefault();break}case 13:{this.applyChanges($(this.domNode).find('input').val());break}}},$3:function(ch,ci){var cj=this.$1();for(var ck=0,cl=cj.length;ck<cl;ck++){if(ss.referenceEquals(cj.eq(ck).get(0).getAttribute('id'),ch.getAttribute('id'))){var cm=null;if(!ci&&ck!==cl-1){cm=cj.eq(ck+1)}else if(ci&&ck!==0){cm=cj.eq(ck-1)}else if(ci&&ck===0){var cn=$(this.domNode.parentElement);cn.find('input').eq(0).get(0).focus();return}if(ss.isValue(cm)){cm.focus();var co=$(this.domNode.parentElement);co.find('input').eq(0).val(cm.html())}return}}},$1:function(){return $('.dijitPopup .dijitMenu li.dijitReset')},getDataStore:function(){var ch;var ci=[];var cj;var ck=this.get_qf().get_oFilter().table.tuples;for(ch=0,cj=ck.length;ch<cj;ch++){ci.push(ss.mkdict(['name',this.formatTuple(ck[ch])]))}return new dojo.data.ItemFileWriteStore(ss.mkdict(['data',ss.mkdict(['items',ci])]))},destroy:function(ch){this.domSearchBox.innerHTML='';this.autocompleter.destroy();this.autocompleter=null;this.inherited(arguments)},focusQueryBox:function(){this.autocompleter.focus()},blurQueryBox:function(){this.autocompleter._onBlur()},getQuery:function(){return this.autocompleter.attr('value')},setQuery:function(ch){this.autocompleter.attr('value',ch)},fixQueryWidth:function(){var ch=dojo.marginBox(this.domNode).w;if(ch>25){var ci=ss.mkdict(['w',ch-25]);dojo.marginBox(this.autocompleter.comboNode,ci);dojo.marginBox(this.autocompleter.comboNode.firstChild,ci);dojo.marginBox(this.autocompleter.textbox,ci)}this.autocompleter.comboNode.style.cssFloat='left'},showUI:function(ch){if(this.get_isVisible()){return}bO.prototype.showUI.call(this,ch);this.get_qf().get_modeContents().onSmallSearchUI(true,this.domNode)},hideUI:function(){if(!this.get_isVisible()){return}bO.prototype.hideUI.call(this);this.get_qf().get_modeContents().onSmallSearchUI(false,this.domNode)},layout:function(ch){this.fixQueryWidth()},updateSearch:function(){this.autocompleter.store=this.getDataStore();this.get_qf().get_modeContents().onSmallSearchUI(this.get_isVisible(),this.domNode)},applyChanges:function(ch){if(!!!ch){return}var ci=[];var cj=this.get_qf().get_oFilter().table.tuples;for(var ck=0,cl=cj.length;ck<cl;ck++){if(ss.referenceEquals(ch,this.formatTuple(cj[ck]))){ci.push(cj[ck]);cj[ck].s=true}else if(cj[ck].s){delete cj[ck]['s']}}if(ci.length!==0){this.get_qf().updateStateFromSearch(null);var cm=ci[0].d||ci[0].t[0].v;var cn=[cm];tab.FilterClientCommands.setCategoricalFilterValues(this.get_qf().get_session().get_visualId(),this.get_qf().get_field(),'filter-replace',cn,null);this.clearSearch(false,true);this.onXButtonClick(null)}}},bO);ss.initClass(bU,a,{get_widgetDomNode:function(){return this.domNode},startup:function(){$(this._leftBtn.domNode).find('button').addClass('tnLeftButton');$(this._rightBtn.domNode).find('button').addClass('tnRightButton');$(this._menuBtn.domNode).find('button').addClass('tnMenuButton');this.containerNode=this.domNode;this.inherited(arguments)},destroy:function(){tab.MiscUtil.dispose$1(this.$p);for(var ch=0;ch<this.$l.length;ch++){var ci=this.$l[ch];ci.destroyRecursive()}this.$m.dispose();this.inherited(arguments)},layout:function(ch){if(this.$o.length===0){return}var ci=dojo.contentBox(this._containerNode.domNode);var cj=this.$i(ci.w);this._buttons.css('display',(cj?'':'none'));this._innerWrapper.layout(ch);this._containerNode.domNode.style.top='-1px';if(!cj){this._containerNode.domNode.scrollLeft=0}this.$a(this.currentTab);this.$j();this.$f();if(tabBootstrap.ViewerBootstrap.get_instance().get_shouldShowTabs()){$('.tabbedNavigationWrapper').css('visibility','visible');$('.tabbedNavigationOuterWrapper').css('display','')}else{$('.tabbedNavigationOuterWrapper').css('display','none')}},postCreate:function(){tab.Application.add_onTabSelect(ss.mkdel(this,this.$d));tab.CommandController.get().add_newLayoutId(ss.mkdel(this,this.$b));this.$m.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.Application.remove_onTabSelect(ss.mkdel(this,this.$d));tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$b))})));this.inherited(arguments);this.$0();this.$n=[];for(var ch=0;ch<this.$o.length;ch++){var ci=this.$o[ch];this.addTab(ci,ch,tsConfig.repository_urls[ch]);this.addToMenu(this.$n,ci)}this._buttons=$(this.domNode).find('.dijitButton');this.layout(null);this.$k=this.selectedTabArrayIndex;this.currentTab=this.$l[this.selectedTabArrayIndex];if(ss.isValue(this.currentTab)){bU.$1(this.currentTab.domNode,true)}},chooseTabByName:function(ch){if(ss.isNullOrUndefined(ch)){return}var ci=this.$3(ch);if(ss.isValue(ci)){this.chooseTab(ci)}},chooseTab:function(ch){if(ss.isNullOrUndefined(ch)){return}this.$1(ch)},addTab:function(ch,ci,cj){var ck=document.createElement('span');this._scrollNode.appendChild(ck);var cl=this.baseClass+'_tab_'+ci;var cm=new Object;cm.id=cl;cm.label=tableau.format.escapeHTML(ch);cm.value=ch;cm.showLabel=true;cm.repository_url=cj;cm.onClick=ss.mkdel(this,function(){this.$h(cl)});cm.onKeyDown=ss.mkdel(this,function(co){switch(co.keyCode){case 13:case 32:{this.$h(cl);spiff.EventUtil.stopEvent(co);break}case 39:case 40:{this.$4();spiff.EventUtil.stopEvent(co);break}case 37:case 38:{this.$5();spiff.EventUtil.stopEvent(co);break}case 9:{var cp=this._indexOf(this.$o,tsConfig.current_sheet_name);var cq=cp;if(ss.isNullOrUndefined(cq)){cq=this.selectedTabArrayIndex}this.$k=cq;break}}});var cn=new dijit.layout._TabButton(cm,ck);bU.$2(cn);this.$l.push(cn)},addToMenu:function(ch,ci){var cj=spiff.MenuItem.newActionItem(ci,ss.mkdel(this,function(){this.chooseTabByName(ci)}));ch.push(cj)},resize$1:function(ch){this._innerWrapper.resize();this.layout(ch)},$e:function(ch){var ci=this.$3(ch);this.$a(ci)},$d:function(ch){this.$e(ch.sheetName)},$b:function(ch){this.$e(ch.DDA)},$3:function(ch){for(var ci=0;ci<this.$l.length;ci++){if(ss.referenceEquals(this.$l[ci].value,ch)){return this.$l[ci]}}return null},$4:function(){this.$k++;if(this.$k>this.$l.length-1){this.$k=0}var ch=this.$6();var ci=dijit.byId(ch);ci.domNode.focus();this.$j()},$5:function(){this.$k--;if(this.$k<0){this.$k=this.$l.length-1}var ch=this.$6();var ci=dijit.byId(ch);ci.domNode.focus();this.$j()},$6:function(){return this.baseClass+'_tab_'+this.$k},$h:function(ch){var ci=dijit.byId(ch);this.chooseTab(ci)},$9:function(){var ch=$(this._scrollNode).find('.dijitTab');if(!!ch.length){var ci=ch[0];var cj=ch[ch.length-1];return cj.offsetLeft+parseFloat($(cj).css('width'))-ci.offsetLeft}else{return 0}},$i:function(ch){var ci=this.$9();return ci>0&&ch<ci},_indexOf:function(ch,ci){for(var cj=0;cj<ch.length;cj++){if(ss.referenceEquals(ch[cj],ci)){return cj}}return-1},_indexOf:function(ch,ci){for(var cj=0;cj<ch.length;cj++){if(ss.referenceEquals(ch[cj],ci)){return cj}}return-1},$7:function(){var ch=$(this._scrollNode).find('.dijitTab');var ci=this._containerNode.domNode.offsetWidth;var cj=this.$9();var ck={};if(!!ch.length&&cj>ci){ck.min=0;ck.max=ch[ch.length-1].offsetLeft+parseFloat($(ch[ch.length-1]).css('width'))+2-ci}else{ck.min=0;ck.max=0}return ck},$1:function(ch){if(ss.isValue(this.currentTab)&&ss.referenceEquals(this.currentTab.value,ch.value)){return}if(ss.isValue(this.currentTab)){this.currentTab.attr('checked',false);bU.$1(this.currentTab.domNode,false)}this.$k=this._indexOf(this.$l,ch);var ci=new Object;ci.sheetName=ch.value;ci.repositoryUrl=ch.repository_url;ci.oldRepositoryUrl=(ss.isValue(this.currentTab)?this.currentTab.repository_url:null);tab.Application.fireOnTabSelect(ci)},$a:function(ch){if(ss.isValue(this.currentTab)){this.currentTab.attr('checked',false);bU.$1(this.currentTab.domNode,false)}else{ch=this.currentTab=this.$l[this.selectedTabArrayIndex]}if(ss.isNullOrUndefined(ch)){return}ch.attr('checked',true);bU.$1(ch.domNode,true);this.currentTab=ch;this.$g(ch)},$g:function(ch){var ci=ch.domNode;var cj=this._getScroll();if(cj>ci.offsetLeft||cj+parseFloat($(this._containerNode.domNode).css('width'))<ci.offsetLeft+parseFloat($(ci).css('width'))){this._createSmoothScroll(ch).play()}},$8:function(ch){var ci=ch.domNode;var cj=parseFloat($(this._containerNode.domNode).css('width'));var ck=this.$7();var cl;cl=ci.offsetLeft+parseFloat($(ci).css('width'))/2-cj/2;cl=Math.min(Math.max(cl,ck.min),ck.max);return cl},$0:function(){this.connect(this._rightBtn,'onClick',ss.mkdel(this,function(){this.$c(this._rightBtn)}));this.connect(this._leftBtn,'onClick',ss.mkdel(this,function(){this.$c(this._leftBtn)}));this.connect(this._menuBtn,'onClick',ss.mkdel(this,this.onMenuButtonClicked))},onMenuButtonClicked:function(){if(ss.isValue(this.$p)){this.$p.dispose()}this.$p=spiff.MenuViewModel.createForMenu(new spiff.Menu(this.$n),spiff.MenuViewModel.handleMenuActionItemClicked);this.$p.show(spiff.ShowMenuOptions.create($(this._menuBtn.domNode)))},$c:function(ch){if(ch.dojoAttachPoint==='_leftBtn'){this.$2(-1)}else{this.$2(1)}ch.domNode.focus()},$2:function(ch){var ci=parseFloat($(this._containerNode.domNode).css('width'));var cj=ci*0.5*ch;var ck=this._getScroll()+cj;this._createSmoothScroll(null,ck).play()},_getScroll:function(){return this._containerNode.domNode.scrollLeft},_createSmoothScroll:function(ch,ci){if(ss.isValue(ch)){ci=this.$8(ch)}else{var cj=this.$7();ci=Math.min(Math.max(ci,cj.min),cj.max)}if(ss.isValue(this._anim)&&this._anim.status()==='playing'){this._anim.stop()}var ck=null;var cl=new Object;cl.duration=100;cl.beforeBegin=ss.mkdel(this,function(){var cm=this._containerNode.domNode.scrollLeft;ck.curve=new dojo._Line(cm,ci)});cl.onAnimate=ss.mkdel(this,function(cm){this._containerNode.domNode.scrollLeft=cm});cl.onEnd=ss.mkdel(this,function(){this.$j()});ck=new dojo._Animation(cl);this._anim=ck;return ck},$j:function(){var ch=this._getScroll();var ci=this.$7();var cj;var ck;if(ch>ci.max){this._containerNode.domNode.scrollLeft=tab.DoubleUtil.roundToInt(ci.max)}ck=ch>=ss.Int32.trunc(ci.max);cj=ch<=ss.Int32.trunc(ci.min);this._rightBtn.setAttribute('disabled',ck);this._leftBtn.setAttribute('disabled',cj);$(this._rightBtn.domNode).find('button').toggleClass('tnRightButtonDisabled',ck);$(this._leftBtn.domNode).find('button').toggleClass('tnLeftButtonDisabled',cj);bU.$0(this._rightBtn.domNode,tab.Strings.AccessibilityScrollSheetTabsRight,ck);bU.$0(this._leftBtn.domNode,tab.Strings.AccessibilityScrollSheetTabsLeft,cj)},$f:function(){$(this._menuBtn.domNode).find('button')[0].tabIndex=-1;this._menuBtn.domNode.tabIndex=-1;this._menuBtn.domNode.setAttribute('aria-disabled','true')},startupShim:function(){this.startup()},resizeShim:function(ch){this.resize$1(ch)},destroyShim:function(){this.destroy()}},Object,[tab.ITabbedNavigation]);ss.initClass(bV,a,{destroy:function(){this.$9.remove_scrolled(ss.mkdel(this,this.$2));this.$9.destroy();this.$9=null;this.$5.remove_contentFetched(ss.mkdel(this,this.$1));this.$5.destroy();this.$5=null;this.$7.destroy();this.$7=null;this.$6.destroy();this.$6=null},updateViewport:function(ch,ci){this.$7.updateViewport(ch,ci)},getElement:function(ch){var ci=this.$7.itemToTileIndex(ch);if(!this.$7.getTileStatus(ci)){return null}else{var cj=this.$7.globalToLocalItemIndex(ch);return this.$9.getItemElement(ci,cj)}},$4:function(ch,ci){var cj=this.$6.format(ci,this.$7.getTilePosition(ch),this.$7.getTileRange(ch));if(cj.length===0){return}this.$9.setContent(ch,cj);this.$7.updateTileStatus(ch,true)},$0:function(ch){var ci=this.$7.getTileRangeType(ch);var cj=this.$7.getTileRange(ch);var ck=new z(ch,cj,ci);return ck},$3:function(){var ch=[];var ci=this.$7.get_tileCount();for(var cj=1;cj<ci;++cj){var ck=this.$0(cj);ch.push(ck)}this.$5.fetch(ch)},$2:function(ch,ci){var cj=this.$8*this.$7.get_itemHeight();var ck=ci.get_newPos().y-cj;if(ck<0){ck=0}var cl=ci.get_newPos().y+cj+this.$7.get_viewportHeight();if(cl>this.$7.get_totalHeight()-1){cl=this.$7.get_totalHeight()-1}var cm=new tab.IntegerRange(ck,cl);var cn=this.$7.pixelToTileRange(cm);var co=[];var cp=cn.get_from();var cq=cn.get_to();for(var cr=cp;cr<=cq;++cr){if(this.$7.getTileStatus(cr)||this.$5.isTilePending(cr)){continue}var cs=this.$0(cr);co.push(cs)}this.$5.fetch(co)},$1:function(ch,ci){var cj=ci.get_tileIndex();var ck=ci.get_data();this.$4(cj,ck)}});ss.initClass(bW,a,{});ss.initClass(bX,a,{add_notifyChangeCalled:function(ch){this.$3$1=ss.delegateCombine(this.$3$1,ch)},remove_notifyChangeCalled:function(ch){this.$3$1=ss.delegateRemove(this.$3$1,ch)},_createTreeNode:function(ch){ch['isChecked']=this.model.isChecked(ch['item']);var ci=new tableau.base.widget.hsm._TreeNode(ch);ch['item'].node=ci;return ci},$0:function(ch){return this.model.mayHaveChildren(ch)},getIconClass:function(ch,ci){return'HFTreeNodeIcon'},getLabelClass:function(ch,ci){var cj=(this.model.isSingleSelect?'HFTreeNodeLabelSS':'HFTreeNodeLabel');cj+=(ch.isRaggedOrSkipped?' HFTreeNodeRaggedOrSkipped':'');return cj},focusNode:function(ch){var ci=$(ch.labelNode);var cj=ci.attr('tabindex');if(!!cj){ci.removeAttr('tabindex')}this.inherited(arguments);if(!!cj){ci.attr('tabindex',cj)}},notifyChange:function(ch){if(ss.isValue(this.$3$1)){this.$3$1(ch)}},getDepth:function(ch){var ci=0;while(!ss.referenceEquals(ch,this.rootNode)){ci+=1;ch=ch.getParent()}return ci},findEarlierNode:function(ch,ci,cj){return this.rEarlierContained(this.rootNode,0,ch,ci,cj)},rEarlierContained:function(ch,ci,cj,ck,cl){if(ci>cl){return null}else if(ci<cl){var cm=ch.getChildren();var cn=cm.length;for(var co=0;co<cn;co++){var cp=this.rEarlierContained(cm[co],ci+1,cj,ck,cl);if(ss.isValue(cp)){return cp}}}else{if(ss.referenceEquals(ch,cj)){return cj}if(ss.referenceEquals(ch,ck)){return ck}return null}return null}},dijit.Tree);ss.initClass(bY,a,{dispose:function(){this.$1.dispose();this.$1=null},destroy:function(ch){this.dispose();this.inherited(arguments)},updateCheckState:function(){this.isChecked=this.tree.model.isChecked(this.item);var ch=$(this.labelNode).find('input');ch.prop('checked',this.isChecked)},setLabelNode:function(ch){this.isChecked=this.tree.model.isChecked(this.item);var ci=(this.isChecked?" checked='checked'":'');var cj='<input type=';if(this.tree.model.isSingleSelect){var ck=this.tree.model.field;if(ss.isValue(this.tree.model.session)){ck+=this.tree.model.session.get_viewId()}cj+="'radio' name='FI_"+ck+"'"+ci+'/>'+"<div class='fakeRadio'></div>"}else{cj+="'checkbox'"+ci+'/>'+"<div class='fakeCheckBox'></div>"}cj+="<a title='"+ch+"'>"+ch+'</a>';this.labelNode.innerHTML=cj;if(ss.isValue(this.$1)){this.$1.dispose()}this.$1=new tab.DisposableHolder;this.$1.add$1(spiff.EventUtil.bindWithDispose($(this.labelNode.firstChild),'click',ss.mkdel(this,this.$0)))},$0:function(ch){this.isChecked=this.labelNode.firstChild.checked;this.tree.notifyChange(ch);ch.stopPropagation()}},dijit._TreeNode,[ss.IDisposable]);ss.initClass(bZ,a,{$0:function(ch){var ci=ch.t;if(tab.MiscUtil.isNullOrEmpty(ci)){return false}var cj=ci[ci.length-1];var ck=cj.s;var cl='r';var cm='s';return ss.referenceEquals(ck,cl)||ss.referenceEquals(ck,cm)},itemsFromTable:function(ch,ci){var cj=[];var ck=(ss.isValue(ch.table)?ch.table.tuples:null);if(ss.isNullOrUndefined(ch.table)){return cj}for(var cl=0;cl<ck.length;cl++){var cm=tableau.format.formatTupleDisplayName(ck[cl]);var cn=null;if(!!ch.children){cn=this.itemsFromTable(ch.children[cl],ci+1)}var co=new Object;co.id=tableau.format.formatTupleUniqueName(ck[cl]);co.schema=ch.table.schema;co.tuple=ck[cl];co.label=cm;co.level=ci;co.children=cn;co.isRaggedOrSkipped=this.$0(ck[cl]);cj.push(co)}return cj},$1:function(ch){var ci=ch.node;ci.updateCheckState();if(ss.isValue(ch.node2)){ch.node2.updateCheckState()}},onChildrenChange:function(ch,ci){ch.children=ci},getIdentity:function(ch){return ch.id},getLabel:function(ch){return ch.label},isChecked:function(ch){return ch.tuple.s},mayHaveChildren:function(ch){return ch.level+1<this.levels},getRoot:function(ch,ci){ch(this.root)},getChildren:function(ch,ci,cj){if(ss.isValue(ch.children)||ss.referenceEquals(ch,this.root)){ci(ch.children)}else{var ck=ss.mkdel(this,function(cm){if(!!!cm[0].table){ch.children=null}else{ch.children=this.itemsFromTable(cm[0],ch.level+1)}ci(ch.children)});var cl=new Object;cl.schema=ch.schema;cl.tuples=[ch.tuple];this.session.requestHSMChildren(this.field,cl,ck,cj)}},refresh:function(ch){this.$2(this.root,ch)},$2:function(ch,ci){if(tab.MiscUtil.isNullOrEmpty(ch.children)){return}this.$3(ch.children,ci[0].table);_.each(ch.children,ss.mkdel(this,function(cj,ck){if(!!cj.children){if(ss.isValue(ci[0].children)&&ck<ci[0].children.length){this.$2(cj,[ci[0].children[ck]])}else{var cl=ss.mkdel(this,function(cn){this.$2(cj,cn)});var cm=new Object;cm.schema=cj.schema;cm.tuples=[cj.tuple];this.session.requestHSMChildren(this.field,cm,cl,null)}}}))},$3:function(ch,ci){var cj=ci.tuples;for(var ck=0;ck<cj.length;ck++){if(ch[ck].tuple.s!==cj[ck].s){ch[ck].tuple.s=cj[ck].s;this.$1(ch[ck])}}return ch}});ss.initClass(ca,a,{instantiate:function(ch,ci,cj,ck,cl,cm,cn,co,cp){this.$m=ch;this.$v=ci;this.$l=cj;this.$z=cm;if(ss.isNullOrUndefined(this.$m)){this.$m=''}this.div.innerHTML="<div id='typein_"+tableau.format.escapeHTML(ci)+"' class='TypeInDiv tab-ctrl-formatted-border tab-ctrl-formatted-darker-border-hover'>"+"<span class='TypeInQuerySpan'><input type='text' class='QueryBox' value='"+tableau.format.escapeHTML(this.$m)+"'/></span>"+"<span class='goButton' style='display:none'></span></div>";this.outerDiv=this.div.firstChild;this.querySpan=this.outerDiv.childNodes[0];this.queryBox=this.querySpan.childNodes[0];this.goButton=this.outerDiv.childNodes[1];var cq=function(ct){ct.stopPropagation()};var cr=$(this.queryBox);this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'keydown',ss.mkdel(this,this.$a)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'keyup',ss.mkdel(this,this.$b)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'blur',ss.mkdel(this,this.onInputBlur)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'focus',ss.mkdel(this,this.onQueryBoxFocus)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'click',ss.mkdel(this,this.$c)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'mousedown',cq));this.$r.add$1(spiff.EventUtil.bindWithDispose(cr,'mousemove',cq));var cs=$(this.goButton);this.$r.add$1(spiff.EventUtil.bindWithDispose(cs,'mousedown',ss.mkdel(this,this.$5)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cs,'click',ss.mkdel(this,this.$4)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cs,'mouseenter',ss.mkdel(this,this.$8)));this.$r.add$1(spiff.EventUtil.bindWithDispose(cs,'mouseleave',ss.mkdel(this,this.$9)));spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(this,this.$7));this.$r.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(this,this.$7))})));spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(this,this.$6));this.$r.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(this,this.$6))})));this.$w=false;this.$e()},$7:function(ch,ci){if(!this.isInsideWidget(ch)){this.$0()}},$6:function(){this.$0()},$0:function(){if(this.$d()){this.setNewPattern();this.queryBox.blur()}},isInsideWidget:function(ch){return tab.DomUtil.isEqualOrAncestorOf(this.outerDiv,ch.target)},destroy:function(){this.dispose()},dispose:function(){this.$r.dispose()},layout:function(){},editableValue:function(){return tableau.format.formatDataValue(this.$l,null,tableau.format.deriveNumberEditingFormat(this.$z),null,2)},setNewState:function(ch,ci,cj,ck,cl){this.$m=ch;this.queryBox.value=ch;if(ss.isValue(cj)){this.$l=cj}else if(ss.isValue(this.$l)){var cm=this.$l;this.$l=new Object;this.$l.s='n';this.$l.t=cm.t}this.$h();this.$t=ci||[];this.$q=''},$j:function(){return tab.LegacyFilterModel.isNormalValue(this.$l)&&!this.$o},$3:function(ch,ci){this.$q='';this.$o=true;this.$t=ch||[];this.$p=ci},$f:function(ch){this.clearTimeout();this.$n=window.setTimeout(ch,500)},clearTimeout:function(){this.$n=tab.MiscUtil.clearTimeout(this.$n)},$k:function(){if(!this.$o){return}if(tab.MiscUtil.isNullOrEmpty$1(this.queryBox.value)){return}if(this.$q.toLowerCase().indexOf(this.queryBox.value.toLowerCase())===0){this.onAutocompleteDone(this.$q);return}if(this.$t.length>0){var ch=this.queryBox.value.toLowerCase();var ci=this.$t.length;for(var cj=0;cj<ci;cj++){if(this.$t[cj].toLowerCase().indexOf(ch)===0){this.onAutocompleteDone(this.$t[cj]);return}}}else if(ss.isValue(this.$p)){this.$f(ss.mkdel(this,function(){this.$p(this.queryBox.value,ss.mkdel(this,this.onAutocompleteDone),this.$v)}))}},onAutocompleteDone:function(ch){var ci=ch;if(tab.MiscUtil.isNullOrEmpty$1(ci)){return}this.$q=ci;var cj=this.queryBox.value;this.queryBox.value=ci;ca.selectText(this.queryBox,cj.length,ci.length)},onQueryBoxFocus:function(ch){this.queryBox.isFocused=true;if(this.$j()){this.queryBox.value=this.editableValue();this.$u=true}},$c:function(ch){if(this.queryBox.isFocused){this.queryBox.select()}this.queryBox.isFocused=false},$8:function(ch){$(this.goButton).addClass('Hover')},$9:function(ch){$(this.goButton).removeClass('Hover')},$d:function(){if(this.$u&&this.$j()){return!ss.referenceEquals(this.editableValue(),this.queryBox.value)}else{return!ss.referenceEquals(this.$m,this.queryBox.value)}},$i:function(){var ch=((this.$A==='TypeIn')?this.$d():!ss.isNullOrEmptyString(this.queryBox.value));if(ch){this.$g()}else{this.$h()}},$g:function(){$(this.goButton).css('display','');$(this.goButton).addClass(this.$A+'Active');$(this.querySpan).addClass('ShortQuerySpan')},$h:function(){$(this.querySpan).removeClass('ShortQuerySpan');$(this.goButton).removeClass(this.$A+'Active');$(this.goButton).css('display','none')},onInputBlur:function(ch){this.queryBox.isFocused=false;if(!this.$w&&!this.$x){this.setNewPattern()}this.$x=false},$5:function(ch){this.$w=true},$4:function(ch){this.$1();this.$w=false},$2:function(ch){this.$e();if(tab.BrowserSupport.get_isFF()){window.setTimeout(ss.mkdel(this,this.$e),10)}this.$i();spiff.EventUtil.stopEvent(ch)},$a:function(ch){if(ch.which===27){this.$2(ch)}this.$y=ch.which},$b:function(ch){switch(ch.which){case 13:{this.clearTimeout();this.setNewPattern();this.queryBox.blur();spiff.EventUtil.stopEvent(ch);break}case 27:{this.clearTimeout();this.$2(ch);this.$x=true;this.queryBox.blur();break}case 8:case 46:{this.clearTimeout();this.$i();break}case 16:{this.$i();break}default:{if(this.$y===ch.which){this.$k();this.$i()}break}}},setPattern:function(ch){this.queryBox.value=ch;this.clearTimeout();this.setNewPattern();this.queryBox.blur()},setNewPattern:function(){if(this.$d()){this.$s(this.queryBox.value);if(!this.$j()){this.setNewState(this.queryBox.value)}}else if(this.$j()){this.$e()}this.$u=false},$e:function(){this.queryBox.value=this.$m;this.$u=false;this.$i()},$1:function(){if(this.$A==='TypeIn'){this.$e();this.queryBox.blur()}else{this.queryBox.value='';this.setNewPattern()}this.$i()}},null,[ss.IDisposable]);ss.initClass(cb,a,{instantiate:function(ch,ci,cj){this.$5=new tableau.base.widget.TypeInFilterContents(ss.mkdict(['parentFilter',this.parent,'tuples',ch,'itemName',ci,'role',this.parent.get_oFilter().role]));this.div.appendChild(this.$5.domNode);this.$5.startup();this.$4()},$4:function(){var ch=ss.mkdel(this,function(ci){var cj=this.parent.get_searchWidget().domResults;if(tab.DomUtil.isEqualOrAncestorOf(cj,ci.target)){return}if(ss.referenceEquals(ci.target,this.parent.get_searchWidget().get_domXButton())){this.parent.get_searchWidget().clearSearch(false,false)}else{this.parent.get_searchWidget().clearSearch(true,true)}});this.disposables.add$1(spiff.EventUtil.bindWithDispose($(document.body),'mousedown',ch))},destroy:function(){this.dispose();if(ss.isValue(this.$5)){this.$5.destroyRecursive(false)}this.$5=null},layout:function(ch,ci){this.inherited(arguments);var cj={w:ch.w-6,h:ch.h};this.$5.layout$1(cj,ci)},fetchChildNodeByIndex:function(ch){var ci=this.$5.domItemsList.childNodes;if(ch<0||ch>=ci.length){return null}return ci[ch]},applyChanges:function(){var ch=this.$2();var ci=this.$5.getUIState();var cj=this.$3(ci,ch);var ck=this.$3(ch,ci);if(cj.length>0||ck.length>0){this.parent.set_stateId(this.parent.get_stateId()+1);tab.FilterClientCommands.modifyCategoricalFilterValues(this.parent.get_session().get_visualId(),this.parent.get_field(),cj,ck,true)}},$2:function(){var ch=this.parent.get_oFilter().table.tuples;var ci={};var cj=ch.length;for(var ck=0;ck<cj;ck++){var cl=ch[ck];ci[this.$5.getFormattedAlias(cl)]=cl.s}return ci},$3:function(ch,ci){var cj=[];var ck=ss.getEnumerator(Object.keys(ch));try{while(ck.moveNext()){var cl=ck.current();if(ch.hasOwnProperty(cl)){if(ch[cl]&&!ci[cl]){cj.push(cl)}}}}finally{ck.dispose()}return cj}},h,[ss.IDisposable]);ss.initClass(cc,a,{get_calendarElement:function(){return(ss.isValue(this.$G)?this.$G.element:null)},dispose:function(){ca.prototype.dispose.call(this);this.$G=tab.MiscUtil.dispose$1(this.$G)},instantiate:function(ch,ci,cj,ck,cl,cm,cn,co,cp){ca.prototype.instantiate.call(this,ch,ci,cj,this.$M,this.$L,cm,cn,co,cp);this.$J=cn;this.$I=co;this.$M=ck;this.$L=cl;this.$K=cp;if(!cc.lazilyCreateCalendar){this.$B()}},$F:function(ch){return(tab.LegacyFilterModel.isNormalValue(ch)?new Date(tableau.types.JsDateFromOleDate(ss.unbox(ch.v))):null)},editableValue:function(){return tableau.format.formatDataValue(this.$l,'m',this.$I,null,2)},$C:function(){if(ss.isValue(this.$l)&&ss.isValue(this.$l.t)){return this.$l.t}else{return't'}},setNewState:function(ch,ci,cj,ck,cl){ca.prototype.setNewState.call(this,ch,ci,cj,ck,cl);if(ss.isValue(this.$G)){this.$G.setDateRange(this.$F(ck),this.$F(cl))}},isInsideWidget:function(ch){return ca.prototype.isInsideWidget.call(this,ch)||this.$E(ch)},$E:function(ch){if(ss.isNullOrUndefined(this.$G)){return false}var ci=this.$G.element.get(0);return tab.DomUtil.isEqualOrAncestorOf(ci,ch.target)},onQueryBoxFocus:function(ch){ca.prototype.onQueryBoxFocus.call(this,ch);if(ss.isNullOrUndefined(this.$G)||this.$G.element.is(':hidden')){this.$B();var ci=this.$F(this.$l);this.$G.show(ci);this.$G.positionCalendarByElement($(this.queryBox).closest('.TypeInDiv'))}},$B:function(){if(ss.isValue(this.$G)){return}var ch=this.$J.locale_formatting_strings;var ci=ch.narrowDay.filter(function(cm){return!ss.isNullOrEmptyString(cm)});var cj=this.$F(this.$l);var ck=this.$K;if(ss.isValue(ck)){ck=ss.Nullable$1.sub(ck,1)}var cl=new tab.DatePickerSettings(cj,cj,this.$F(this.$M),this.$F(this.$L),ck,ci,ch.todayFormatTemplate,ss.mkdel(this,function(cm){return tableau.format.formatCustomJSDateTime(cm,tableau.format.mapIcuToOleFormat(this.$J.yearMonthFormat),0,'d',this.$J.locale,null,null,ch)}),ss.mkdel(this,function(cm){return tableau.format.formatCustomJSDateTime(cm,this.$I.format,0,'d',this.$I.locale,null,null,ch)}));this.$G=this.$H(cl);this.$G.element.on('dateSelected',ss.mkdel(this,this.$D)).appendTo(document.body)},$D:function(ch,ci){if(ss.isValue(this.$G)){this.$G.hide()}this.setPattern(tableau.format.formatJsDateTime(ci,this.$I,2,this.$C()))},onInputBlur:function(ch){if(ss.isValue(this.$G)){this.$G.hide()}ca.prototype.onInputBlur.call(this,ch)}},ca,[ss.IDisposable]);ss.initClass(cd,a,{postCreate:function(){var ch=tableau.format.formatTupleDisplayName;var ci=ss.mkdel(G.filterItem,G.filterItem.getTypeInHtml);var cj=[];var ck=0;for(var cl=0;cl<this.tuples.length;cl++){var cm=this.tuples[cl];if(cm.s){var cn=this.itemName+'_'+cl;var co=ci(cn,ch(cm,true,this.role));cj.push(co);ck++}}this.domItemsList.innerHTML=cj.join('');this.domClearListButtonDiv.style.display=((ck>3)?'block':'none')},_onItemsListClick:function(ch){this.parentFilter.onListItemClick(ch)},_onItemsListMouseOver:function(ch){if(!ss.isValue(ch.target)||!$(ch.target).hasClass('FITypeInItem')){return}$(ch.target).addClass('Hover');var ci=this.$0=G.filterItem.getNodeFromEvent(ch);ci.appendChild(this.domXButton);$(this.domXButton).css('top','calc(50% - 7px)');$(this.domXButton).css('display','block')},_onItemsListMouseOut:function(ch){if(!ss.isValue(ch.relatedTarget)||!ss.referenceEquals(ch.relatedTarget,this.domXButton)){if(ss.isValue(this.$0)){$(this.$0).removeClass('Hover')}this.$0=null;$(this.domXButton).css('display','none')}},_onItemsKeyDown:function(ch){if(ch.keyCode===46){this._removeSelectedItemsFromFilter();spiff.EventUtil.stopEvent(ch)}},_onXButtonClick:function(ch){var ci=null;spiff.EventUtil.stopEvent(ch);var cj=G.filterItem.getNodeFromEvent(ch);if(!ss.isValue(cj)){return}G.filterItem.setChecked(cj,false);if(ss.isValue(this.parentFilter.get_oFilter())){ci=this.parentFilter.get_oFilter().table}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(ci)&&ci.actual_size===ci.tuples.length){var ck=new tab.LegacyCategoricalQuickFilterData(this.parentFilter.get_oFilter().targetSheets,this.parentFilter.get_field(),this.parentFilter.get_oFilter().exclude,this.getCheckedAliases(this.getUIState()));tab.FilterClientCommands.updateCategoricalFilter(ck)}}this.parentFilter.clearRangeAnchorAndSelection();this.parentFilter.notifyChange(ss.mkdel(this.parentFilter,this.parentFilter.applyChanges))},_onXButtonMouseOver:function(ch){$(this.domXButton).addClass('Hover')},_onXButtonMouseOut:function(ch){$(this.domXButton).removeClass('Hover')},_onClearListButtonClick:function(ch){var ci;var cj=null;this.parentFilter.get_searchWidget().clearSearch(true,false);for(ci=this.domItemsList.firstChild;ss.isValue(ci);ci=ci.nextSibling){G.filterItem.setChecked(ci,false)}this.parentFilter.set_stateId(this.parentFilter.get_stateId()+1);if(ss.isValue(this.parentFilter.get_oFilter())){cj=this.parentFilter.get_oFilter().table}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(cj)&&cj.actual_size===cj.tuples.length){var ck=new tab.LegacyCategoricalQuickFilterData(this.parentFilter.get_oFilter().targetSheets,this.parentFilter.get_field(),this.parentFilter.get_oFilter().exclude,this.getCheckedAliases(this.getUIState()));tab.FilterClientCommands.updateCategoricalFilter(ck)}}this.parentFilter.clearRangeAnchorAndSelection();this.parentFilter.applyChanges();$(this.domClearListButtonDiv).css('display','none')},layout$1:function(ch,ci){if(tableau.util.isElementVisible(this.domClearListButtonDiv)){var cj=dojo.marginBox(this.domClearListButtonDiv);ch.h=Math.max(0,ch.h-cj.h)}dojo.marginBox(this.domItemsList,ch)},_removeSelectedItemsFromFilter:function(){this.parentFilter.forEachSelected(function(ch,ci){G.filterItem.setChecked(ci,false)});this.parentFilter.clearRangeAnchorAndSelection();this.parentFilter.notifyChange(null)},getUIState:function(){var ch=this.domItemsList.firstChild,ci;var cj={};for(ci=ch;ss.isValue(ci);ci=ci.nextSibling){var ck=this.getFormattedAlias(this.tuples[G.filterItem.getIndex(ci)]);cj[ck]=G.filterItem.isChecked(ci)}return cj},getCheckedAliases:function(ch){var ci=[];var cj=ss.getEnumerator(Object.keys(ch));try{while(cj.moveNext()){var ck=cj.current();if(ch.hasOwnProperty(ck)){if(ch[ck]){ci.push(ck)}}}}finally{cj.dispose()}return ci},getFormattedAlias:function(ch){return tableau.format.formatTupleDisplayName(ch,true,this.role)}},Object);ss.initClass(ce,a,{},bl);ss.initClass(cg,a,{});(function(){c.$0="<div class='tabHorizontalSlider'>\n</div>'"})();(function(){H.$0=100})();(function(){G.unknownItemIndex=-2;G.allItemIndex=-1;G.$1=tab.Strings.QuickFilterAll;G.filterItem=null;G.filterItem=(tsConfig.is_mobile?new F:new E)})();(function(){p.getFilterItemHtml=ss.mkdel(G.filterItem,G.filterItem.formatChecklistFilterItemHtml)})();(function(){e.$1=3;e.$0=30})();(function(){bg.horizontalIteratorButtonSize=12;bg.horizontalIteratorButtonHolderWidth=28;bg.parentZoneSizeChangedKey='ParentZoneSizeChanged';bg.newZoneParentKey='newZoneParent'})();(function(){m.$1=new tab.ColorModel(0,0,0,1);m.$3='Items';m.$0='CustomShapesLoaded';m.$2='FocusIndex'})();(function(){bE.modelChangedProperty='ModelChanged'})();(function(){Y.$0='urlCacheInfo'})();(function(){bi.legendHighlighterClass='tabLegendHighlighter';bi.legendHighlighterSelector='.tabLegendHighlighter';bi.legendHighlighterHolderClass='tabLegendHighlighterHolder';bi.legendHighlighterHolderSelector='.tabLegendHighlighterHolder'})();(function(){bC.$0="\n            <div class='tabLegendPanel' style='position: relative; overflow: hidden'>\n                <div class='tabLegendTitleAndControls'>\n                    <h3 class='tabLegendTitle' style='position: absolute'></h3>\n                    <div class='tabLegendTitleControls'>\n                        <div class='tabLegendContextMenuButton'>\n                            <div class='tabLegendContextMenuButtonIcon'></div>\n                        </div>\n                    </div>\n                </div>\n                <canvas class='tabLegendRamp' style='position: absolute'></canvas>\n                <div class='tabLegendCenterMark' style='position: absolute'></div>\n                <div class='tabLegendMinLabel' style='position: absolute'></div>\n                <div class='tabLegendMaxLabel' style='position: absolute'></div>\n            </div>"})();(function(){bD.$0='tableau_qcolor_legend_';bD.$1=0.15})();(function(){u.$1=1000;u.$0=200})();(function(){l.$0=1;l.$2='tabLegendItem';l.$4=2;l.$1='tableau_base_legend_';l.$5=new tab.ColorModel(216,216,216,1);l.$3=new tab.ColorModel(178,178,178,1)})();(function(){j.$1="<span class='tabLegendItemSwatch' />";j.$0="<canvas class='tabLegendItemSwatch' />";j.$2="<div class='tabLegendItem'><span class='tabLegendItemSwatchHolder'></span><span class='tabLegendItemLabelHolder'><span class='tabLegendItemLabel' /></span></div>"})();(function(){i.$0="<span class='tabLegendItemColumn'/>"})();(function(){k.$0="<div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter'/></div>"})();(function(){spiff.ObjectRegistry.registerType(t,t).call(null)})();(function(){bf.$1=null;bf.$2=null})();(function(){R.$2='.FIItem'})();(function(){bR.tableauSliderTemplate="<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>";bR.$2="<div class='dijitTooltip dijitTooltipLeft' id='dojoTooltip'><div class='dijitTooltipContainer' dojoAttachpoint='coreArea'><div class='dijitTooltipContents' dojoAttachPoint='containerNode' waiRole='alert'></div></div><div class='dijitTooltipConnector'></div></div>";bR.$0=1;bR.$1=20})();(function(){cc.lazilyCreateCalendar=true})();(function(){bl.$0=75})();(function(){U.$8=new tab.ColorModel(255,255,255,1);U.$6=0.235294118523598;U.$7=0.411764711141586;U.$3=0.39215686917305;U.$1=0.549019634723663;U.$5=95;U.$4=new tab.ColorModel(234,234,234,1);U.$2=new tab.ColorModel(241,241,241,1)})();(function(){bL.pickerDurationsInteger=[1,7,30,90,365,1825];bL.pickerDurations=['0d','-7d','-30d','-90d','-365d','-1825d'];bL.pickerStrings=[tab.Strings.RelDatePickerOneDayAbbrev,tab.Strings.RelDatePickerOneWeekAbbrev,tab.Strings.RelDatePickerOneMonthAbbrev,tab.Strings.RelDatePickerThreeMonthsAbbrev,tab.Strings.RelDatePickerOneYearAbbrev,tab.Strings.RelDatePickerFiveYearsAbbrev];bL.$1='RDFButtonR1';bL.$0='RDFButtonHide'})();(function(){bx.$0=false})();(function(){bO.noSearchPerformed=-1})();(function(){B.$0=500;B.minimumDomainSize=5})();(function(){y.$1="<div class='CategoricalFilter' role='form'><div class='CategoricalFilterBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='FilterTitle' dojoAttachPoint='domTitleBar'></h3><div dojoType='dijit.form.Button' class='CFButton CFResetButton' showlabel='false'dojoAttachPoint='resetButton' dojoAttachEvent='onClick:toggleReset'iconClass='wcIconNonfiltered'>Showing all values</div><div dojoType='dijit.form.Button' class='CFButton CFSearchButton' showlabel='false'dojoAttachPoint='searchButton' dojoAttachEvent='onClick:toggleSearchUI'iconClass='wcIconSearch'>Search</div><div dojoType='dijit.form.Button' class='CFButton CFDomainButton' showlabel='false'dojoAttachPoint='domainButton' dojoAttachEvent='onClick:toggleDomain'iconClass='wcIconDomainAll'>Show Fewer Values</div><div dojoType='dijit.form.Button' dojoAttachEvent='onClick:doMenu' iconClass='wcIconContextMenu'class='CFButton CFMenuButton' dojoAttachPoint='menuButton' name='type'></div></div><div dojoAttachPoint='searchDiv'></div><div class='CFContent' dojoAttachPoint='domContent'></div><div class='CFHorizScroll' dojoAttachPoint='domHorizScroll' dojoAttachEvent='onscroll:doscrollHoriz'><div dojoAttachPoint='domHorizScrollContent'></div></div><div dojoType='tableau.base.widget.ConditionalsWidget' dojoAttachPoint='conditionals'></div></div></div>";y.$2="<div class='ParameterControl' role='form'><div class='ParameterControlBox' dojoAttachPoint='domBox'><div class='TitleAndControls' dojoAttachPoint='domControls'><h3 class='ParamTitle' dojoAttachPoint='domTitleBar'></h3></div><div class='PCContent' dojoAttachPoint='domContent'></div></div></div>";y.$3="<div class='Search' role='form'><div class='SearchBox' dojoAttachPoint='domQuerySection'><textarea rows='1' class='QueryBox' spellcheck='false'dojoAttachPoint='domQueryBox'dojoAttachEvent='onkeydown:onQueryBoxKeyDown,onpaste:onQueryBoxPaste'></textarea><span class='wcSearchX' title='${XBUTTON_CLOSE_TOOLTIP}'dojoAttachPoint='domXButton'dojoAttachEvent='onclick:onXButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><img class='searchBusyImg' title='${CANCEL_SEARCH_TOOLTIP}' src='${busy_gif_url}'dojoAttachPoint='domSearchBusyImg'dojoAttachEvent='onclick:onSearchBusyImgClick'></img><span class='wcIconSearch' title='${SEARCH_TOOLTIP}'dojoAttachPoint='domSearchButton'dojoAttachEvent='onclick:onSearchButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span><span class='wcIconSearchAdd' title='${ADD_ITEM_CTRL_ENTER}'dojoAttachPoint='domSearchAddButton'dojoAttachEvent='onclick:onSearchAddButtonClick,onmouseover:onButtonHover,onmouseout:onButtonUnhover'></span></div><div class='SearchResults' dojoAttachPoint='domResults' dojoAttachEvent='onclick:onListItemClick'></div></div>";dojo.addOnLoad(y.$0)})();(function(){bF.$0="<div class='tab-quick-filter'></div>"})();(function(){bm.$0="<div class='tab-page'></div>"})();(function(){spiff.ObjectRegistry.registerType(bn,bn).call(null)})();(function(){bq.$0="<div class='tab-parameter'></div>"})();(function(){spiff.ObjectRegistry.registerType(br,br).call(null)})()})();;
/*! BEGIN StoryModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlstory');var b=function(){this.points=null;spiff.Template.call(this,$("<span class='tabFlipboardNavPoints'/>"));this.points=this.domRoot};b.__typeName='tab.FlipboardNavigatorPointsTemplate';global.tab.FlipboardNavigatorPointsTemplate=b;var c=function(){this.previous=null;this.scroller=null;this.next=null;this.previousArrow=null;this.nextArrow=null;spiff.Template.call(this,$("<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"));this.previous=this.getElementBySelector('.tabFlipboardNavPrevious');this.scroller=this.getElementBySelector('.tabFlipboardNavScroller');this.next=this.getElementBySelector('.tabFlipboardNavNext');this.previousArrow=this.getElementBySelector('.tabStoryLeftArrow');this.nextArrow=this.getElementBySelector('.tabStoryRightArrow')};c.__typeName='tab.FlipboardNavigatorTemplate';global.tab.FlipboardNavigatorTemplate=c;var d=function(t){this.$k=null;this.$m=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[e]).call(this,t,new c);this.$j();this.$e();this.get_flipboardNavViewModel().add_resizeZone(ss.mkdel(this,this.handleResize));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_flipboardNavViewModel().remove_resizeZone(ss.mkdel(this,this.handleResize))})));this.get_flipboardNavViewModel().add_updateActivePoint(ss.mkdel(this,this.handleUpdateActivePoint));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_flipboardNavViewModel().remove_updateActivePoint(ss.mkdel(this,this.handleUpdateActivePoint))})));this.get_flipboardNavViewModel().add_remoteUpdateComplete(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_flipboardNavViewModel().remove_remoteUpdateComplete(ss.mkdel(this,this.$b))})));this.get_domRoot().on(this.createNamespacedEventName('mousedown'),function(u){u.stopPropagation()});this.$a();this.disposables.add$1(new tab.CallOnDispose(function(){tab.StyleUtil.clearStyleSheet('appendedStoryStyle')}))};d.__typeName='tab.FlipboardNavigatorView';global.tab.FlipboardNavigatorView=d;var e=function(t){this.$8=null;this.$6=[];this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$8=t;this.$8.add_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav))})));this.$8.get_zone().add_resizeZone(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.get_zone().remove_resizeZone(ss.mkdel(this,this.$3))})));this.$2()};e.__typeName='tab.FlipboardNavigatorViewModel';global.tab.FlipboardNavigatorViewModel=e;var f=function(){spiff.Template.call(this,$("<div class='tabFlipboard'></div>"))};f.__typeName='tab.FlipboardTemplate';global.tab.FlipboardTemplate=f;var g=function(t){this.$a=null;ss.makeGenericType(spiff.BaseView$1,[h]).call(this,t,new f);this.$a=t;this.$a.add_newStoryPoint(ss.mkdel(this,this.handleNewStoryPoint));this.$a.get_parentZone().add_resizeZone(ss.mkdel(this,this.handleResizeZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a.remove_newStoryPoint(ss.mkdel(this,this.handleNewStoryPoint));this.$a.get_parentZone().remove_resizeZone(ss.mkdel(this,this.handleResizeZone))})))};g.__typeName='tab.FlipboardView';g.$0=function(t,u){var v=tab.SizeUtil.unionPresModels(t,u);if(u.EUR>=t.EUR+3&&t.rec-u.rec>24){v.rec-=24}if(u.rec>=t.rec&&t.EUR+3-u.EUR>24){v.EUR-=24}return v};global.tab.FlipboardView=g;var h=function(t,u){this.$7=null;this.$8=null;this.$6=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$7=t;this.$8=u;this.$7.add_invalidateZone(ss.mkdel(this,this.$4));this.$7.get_storyPointModel().add_newStoryPoint(ss.mkdel(this,this.$3));this.$7.get_storyPointModel().add_dashboardDisposal(ss.mkdel(this,this.$2));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_invalidateZone(ss.mkdel(this,this.$4));this.$7.get_storyPointModel().remove_newStoryPoint(ss.mkdel(this,this.$3));this.$7.get_storyPointModel().remove_dashboardDisposal(ss.mkdel(this,this.$2))})));if(ss.isValue(this.get_flipboardModel().get_dashboardModel())){this.$3()}};h.__typeName='tab.FlipboardViewModel';global.tab.FlipboardViewModel=h;var i=function(){};i.__typeName='tab.IStoryNavigatorContentView';global.tab.IStoryNavigatorContentView=i;var j=function(){};j.__typeName='tab.IStoryNavigatorPointView';global.tab.IStoryNavigatorPointView=j;var k=function(){};k.__typeName='tab.StoryClientCommands';k.setActiveStoryPoint=function(t,u){var v=$.Deferred();if(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()||u.get_currentPointIndex()===t){v.resolve();return v.promise()}var w=tab.ApplicationModel.get_instance().get_workbook().get_storyboard().get_flipboard();var x=u.get_storyPoints()[t].hVl;var y=new tab.ClientCommand('none',function(z){k.$j(x,u,z,w)},k.$0(u.get_storyPoints()[t].hVl),tab.CommandController.DeferredSuccessHandler(v),tab.CommandController.deferredFailureHandler(v));tab.CommandController.SendCommand(y);return v.promise()};k.nextStoryPoint=function(t){var u=$.Deferred();if(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()){u.reject("The workbook's current sheet is not a story");return u.promise()}var v=t.get_currentPointIndex()+1;var w=tab.ApplicationModel.get_instance().get_workbook().get_storyboard().get_flipboard();var x=k.$d(t,u,w,v);var y=t.get_storyPoints()[v].hVl;var z=new tab.ClientCommand('none',function(A){k.$j(y,t,A,w)},k.$7(),tab.CommandController.DeferredSuccessHandler(u),tab.CommandController.deferredFailureHandler(u));tab.CommandController.SendCommand(z);return x};k.previousStoryPoint=function(t){var u=$.Deferred();if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_workbook().get_storyboard())){u.reject("The workbook's current sheet is not a story");return u.promise()}var v=t.get_currentPointIndex()-1;var w=tab.ApplicationModel.get_instance().get_workbook().get_storyboard().get_flipboard();var x=k.$d(t,u,w,v);var y=t.get_storyPoints()[v].hVl;var z=new tab.ClientCommand('none',function(A){k.$j(y,t,A,w)},k.$8(),tab.CommandController.DeferredSuccessHandler(u),tab.CommandController.deferredFailureHandler(u));tab.CommandController.SendCommand(z);return x};k.revertStoryPoint=function(t,u){var v=$.Deferred();var w=new tab.ClientCommand('none',k.$i,k.$a(t,u),tab.CommandController.DeferredSuccessHandler(v),tab.CommandController.deferredFailureHandler(v));tab.CommandController.SendCommand(w);return v.promise()};k.setFlipboardNavType=function(t){var u=$.Deferred();var v=new tab.ClientCommand('none',function(w){},k.$b(t),tab.CommandController.DeferredSuccessHandler(u),tab.CommandController.deferredFailureHandler(u));tab.CommandController.SendCommand(v);return u.promise()};k.captureStoryPoint=function(t){var u=$.Deferred();var v=new tab.ClientCommand('none',function(w){},k.$1(t),tab.CommandController.DeferredSuccessHandler(u),tab.CommandController.deferredFailureHandler(u));tab.CommandController.SendCommand(v);return u.promise()};k.newBlankStoryPoint=function(){var t=$.Deferred();var u=new tab.ClientCommand('none',function(v){},k.$6(),tab.CommandController.DeferredSuccessHandler(t),tab.CommandController.deferredFailureHandler(t));tab.CommandController.SendCommand(u);return t};k.duplicateActiveStoryPoint=function(){var t=$.Deferred();var u=new tab.ClientCommand('none',function(v){},k.$3(),tab.CommandController.DeferredSuccessHandler(t),tab.CommandController.deferredFailureHandler(t));tab.CommandController.SendCommand(u);return t};k.toggleArrows=function(){var t=$.Deferred();var u=new tab.ClientCommand('none',function(){},k.$c(),tab.CommandController.DeferredSuccessHandler(t),tab.CommandController.deferredFailureHandler(t));tab.CommandController.SendCommand(u);return t};k.insertStoryPoint=function(t,u){var v=$.Deferred();var w=new tab.ClientCommand('none',function(){},k.$5(t,u),tab.CommandController.DeferredSuccessHandler(v),tab.CommandController.deferredFailureHandler(v));tab.CommandController.SendCommand(w);return v};k.replaceStoryPoint=function(t,u){var v=$.Deferred();var w=new tab.ClientCommand('none',function(){},k.$9(t,u),tab.CommandController.DeferredSuccessHandler(v),tab.CommandController.deferredFailureHandler(v));tab.CommandController.SendCommand(w);return v};k.deleteStoryPoint=function(t){var u=$.Deferred();var v=new tab.ClientCommand('none',function(){},k.$2(t),tab.CommandController.DeferredSuccessHandler(u),tab.CommandController.deferredFailureHandler(u));tab.CommandController.SendCommand(v);return u};k.editStoryPointCaption=function(t,u,v){var w=$.Deferred();var x=new tab.ClientCommand('none',function(y){k.$f(t,v,y)},k.$4(t,u),tab.CommandController.DeferredSuccessHandler(w),tab.CommandController.deferredFailureHandler(w));tab.CommandController.SendCommand(x);return w};k.$d=function(t,u,v,w){var x=u.promise();if(tab.FeatureFlags.isEnabled('StoryPointPrefetch')){var y=w+(w-t.get_currentPointIndex());if(y>=0&&y<t.get_flipboardNavPresModel().mhR.length){var z=t.get_flipboardNavPresModel().mhR[y].hVl;x=x.then(function(){_.defer(function(){k.$h(v,z)})},null)}}return x};k.$h=function(t,u){if(tab.FlipboardModel.presModelCache.hasStoryPoint(u)){return}var v=tab.CommandUtils.newCommand$1('get-storypoint',null);var w={};w['Hna']=tsConfig.current_sheet_name;w['WIZ']=t.get_zoneId();w['hVl']=u;v.commandParams=w;var x=function(z){var A=z;if(ss.isValue(A)&&ss.isValue(A.mmK)){tab.FlipboardModel.presModelCache.addStoryPoint(u,A)}};var y=new tab.RemoteClientCommand(v,'none',x,null);tab.CommandController.SendCommand(y)};k.$i=function(t){k.$g(t)};k.$a=function(t,u){var v=tab.CommandUtils.newCommand('revert-story-point',null);v.commandParams={};tab.CommandUtils.addStoryPointToCommand(v.commandParams,t);v.commandParams['hVl']=u.toString();return v};k.$1=function(t){var u=k.$e('capture-story-point',true);u.commandParams['hVl']=t.toString();return u};k.$f=function(t,u,v){if(ss.isValue(u)){var w=u.get_storyPoints()[u.get_currentPointIndex()];var x=v.makeMutablePresModel(u,false);w=x.mhR[u.get_currentPointIndex()];w.XWQ=t}};k.$j=function(t,u,v,w){if(ss.isValue(u)){var x=u.get_flipboardNavPresModel();var y=0;var z=false;var A=x.mhR;for(var B=0,C=A.length;B<C;B++){if(A[B].hVl===t){y=B;z=true;break}}if(z){x=v.makeMutablePresModel(u,false);x.yTB=y}}if(ss.isValue(w)&&tab.FeatureFlags.isEnabled('StoryPointCache')&&tab.FlipboardModel.presModelCache.hasStoryPoint(t)){var D=tab.FlipboardModel.presModelCache.getStoryPoint(t);if(tab.ApplicationModel.get_instance().get_renderMode()!=='render-mode-client'){var E=v.makeMutablePresModel(tab.ApplicationModel.get_instance(),false);E.ABX='render-mode-client'}var F=v.makeMutablePresModel(w,true);F.P_I=t;F.stK[t.toString()]=D;var G=v.makeMutablePresModel(tab.ApplicationModel.get_instance().get_dataDictionary(),false);G.SR_={};if(tab.FeatureParamsLookup.getBool(43)){tab.MetricsLogger.get_instance().logEvent(new tabBootstrap.MetricsEvent('gen',8,ss.mkdict(['Story','CacheHit'])))}}else{k.$g(v)}};k.$0=function(t){var u=k.$e('set-active-story-point',true);u.commandParams['hVl']=t.toString();u.commandParams['pLR']='false';u.commandParams['XLf']='true';return u};k.$7=function(){var t=k.$e('next-story-point',true);t.commandParams['pLR']='false';t.commandParams['XLf']='true';return t};k.$8=function(){var t=k.$e('previous-story-point',true);t.commandParams['pLR']='false';t.commandParams['XLf']='true';return t};k.$b=function(t){var u=k.$e('set-flipboard-nav-type',false);u.commandParams['Ovl']=t;return u};k.$5=function(t,u){var v=k.$e('insert-story-point',true);v.commandParams['yTB']=u;v.commandParams['pGT']=t;return v};k.$9=function(t,u){var v=k.$e('replace-story-point',true);v.commandParams['hVl']=u;v.commandParams['pGT']=t;return v};k.$2=function(t){var u=k.$e('delete-story-point',true);u.commandParams['hVl']=t;return u};k.$6=function(){return k.$e('new-blank-story-point',true)};k.$3=function(){return k.$e('duplicate-active-story-point',true)};k.$c=function(){return k.$e('toggle-storypoints-nav-arrows',true)};k.$4=function(t,u){var v=k.$e('edit-story-point-caption',true);v.commandParams['XWQ']=t;v.commandParams['hVl']=u.toString();return v};k.$e=function(t,u){var v=tab.CommandUtils.newCommand(t,null);var w=tab.ApplicationModel.get_instance().get_workbook().get_storyboard().get_flipboard();var x={};x['Hna']=tsConfig.current_sheet_name;if(u){x['WIZ']=w.get_zoneId()}v.commandParams=x;return v};k.$g=function(t){var u=tab.ApplicationModel.get_instance().get_workbook().get_storyboard().get_flipboard();if(ss.isValue(u)){u.invalidated(t.modelUpdateContext)}};global.tab.StoryClientCommands=k;var l=function(){};l.__typeName='tab.StoryFactory';global.tab.StoryFactory=l;var m=function(){};m.__typeName='tab.StoryNavigatorContentViewFactory';m.createContentView=function(t){if(t.get_navType()==='dot'){return new o(t)}else{return new p(t)}};global.tab.StoryNavigatorContentViewFactory=m;var n=function(t){this.$j=null;this.$l=null;this.$n=null;this.$m=null;this.$k=null;ss.makeGenericType(spiff.BaseView$1,[s]).call(this,t,new r);this.get_storyPointCaptionViewModel().add_updatePoint(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_storyPointCaptionViewModel().remove_updatePoint(ss.mkdel(this,this.$a))})));this.get_storyPointCaptionViewModel().add_flipboardNavTypeChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_storyPointCaptionViewModel().remove_flipboardNavTypeChanged(ss.mkdel(this,this.$9))})));this.$j=m.createContentView(this.get_storyPointCaptionViewModel());this.$f();this.$d();this.$c()};n.__typeName='tab.StoryNavigatorPointView';global.tab.StoryNavigatorPointView=n;var o=function(t){ss.makeGenericType(spiff.BaseView$1,[s]).call(this,t,new q)};o.__typeName='tab.StoryNavigatorShapeView';global.tab.StoryNavigatorShapeView=o;var p=function(t){this.$b=null;this.$a=null;ss.makeGenericType(spiff.BaseView$1,[s]).call(this,t,new q)};p.__typeName='tab.StoryNavigatorTextView';global.tab.StoryNavigatorTextView=p;var q=function(){spiff.Template.call(this,$("<div class='tabStoryPointContent'/>"))};q.__typeName='tab.StoryPointCaptionContentTemplate';global.tab.StoryPointCaptionContentTemplate=q;var r=function(){this.caption=null;this.revert=null;this.update=null;this.updateTextButton=null;this.updateIconButton=null;this.delete$1=null;this.captionTop=null;this.captionBottom=null;this.toolbar=null;spiff.Template.call(this,$("<span class='tabStoryPoint'>\n<div class='tabStoryPointToolbar'>\n  <div class='tabStoryRevert'></div>  <div class='tabStoryUpdate'><div class='tabStoryUpdateTextButton'></div><div class='tabStoryUpdateIconButton'></div></div>\n  <div class='tabStoryDelete'></div></div>\n<div class='tabStoryPointCaption'><div class='tabStoryPointCaptionTop'/><div class='tabStoryPointCaptionBottom'/></div></span>"));this.caption=this.getElementBySelector('.tabStoryPointCaption');this.revert=this.getElementBySelector('.tabStoryRevert');this.toolbar=this.getElementBySelector('.tabStoryPointToolbar');this.update=this.getElementBySelector('.tabStoryUpdate');this.updateIconButton=this.getElementBySelector('.tabStoryUpdateIconButton');this.updateTextButton=this.getElementBySelector('.tabStoryUpdateTextButton');this.delete$1=this.getElementBySelector('.tabStoryDelete');this.captionTop=this.getElementBySelector('.tabStoryPointCaptionTop');this.captionBottom=this.getElementBySelector('.tabStoryPointCaptionBottom')};r.__typeName='tab.StoryPointCaptionTemplate';global.tab.StoryPointCaptionTemplate=r;var s=function(t,u){this.$5=null;this.$6=0;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredHorizontally=false;this.isCenteredVertically=false;spiff.BaseViewModel.call(this);this.$5=t;this.$6=u;this.$5.add_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newFlipboardNav(ss.mkdel(this,this.handleNewFlipboardNav))})));if(this.$5.get_navType()==='number'){this.isCenteredHorizontally=true;this.isCenteredVertically=true}};s.__typeName='tab.StoryPointViewModel';global.tab.StoryPointViewModel=s;ss.initClass(b,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(c,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(d,a,{get_domRoot:function(){return this.get_template().domRoot},get_flipboardNavViewModel:function(){return this.get_viewModel()},get_storyPointCaptionViewModel:function(){return ss.getItem(this.get_flipboardNavViewModel().get_captions(),0)},get_dom:function(){return ss.cast(this.get_template(),c)},$a:function(){this.$k=new b;this.$m=new spiff.ScrollableViewModel.$ctor1(false);this.$m.set_content(this.$k.domRoot[0]);this.$m.set_scrollX(true);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.StyleUtil.clearStyleSheet('flipboardNavScroller');this.$m.dispose()})))},$j:function(){if(this.get_flipboardNavViewModel().get_useDarkIcons()){this.get_domRoot().addClass('tabDarkIcons')}else{this.get_domRoot().addClass('tabLightIcons')}var t=this.get_flipboardNavViewModel().get_scrollBarStyle();if(ss.isValue(t)){tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar',{'background-color':t.bE$});tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar:hover',ss.mkdict(['background-color',t.Jvl]));tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator',{'background-color':t.DFg});tab.StyleUtil.appendCSSRuleToStyleSheet$1('flipboardNavScroller','.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator:hover',{'background-color':t.YhU})}},$e:function(){var t=new spiff.Button(this.get_dom().previous);var u=ss.mkdel(this,function(){this.get_flipboardNavViewModel().clickPrevious()});t.add_click(u);this.disposables.add$1(t);this.disposables.add$1(new tab.CallOnDispose(function(){t.remove_click(u)}));var v=new spiff.Button(this.get_dom().next);var w=ss.mkdel(this,function(){this.get_flipboardNavViewModel().clickNext()});v.add_click(w);this.disposables.add$1(v);this.disposables.add$1(new tab.CallOnDispose(function(){v.remove_click(w)}))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$l=spiff.ScrollableView.createScrollableView(this.$m);this.$l.addToDom(this.get_dom().scroller);this.$b()},$b:function(){this.get_dom().previous.toggle(this.get_flipboardNavViewModel().get_showArrows());this.get_dom().next.toggle(this.get_flipboardNavViewModel().get_showArrows());var t=this.get_dom().previous.add(this.get_dom().next);var u;var v=this.get_flipboardNavViewModel().get_storyPointHeight();u=v+20;var w;if(this.get_flipboardNavViewModel().get_navType()==='number'||this.get_flipboardNavViewModel().get_navType()==='dot'){w='scale(.75, .7)'}else{w='scale(.875, .8125)'}this.$c();t.css(ss.mkdict(['transform',w]));var x=tab.DoubleUtil.roundToInt(this.get_dom().previousArrow.height());var y=ss.Int32.div(v-x,2);y-=3;var z=ss.mkdict(['padding-top',y+'px','padding-bottom',y+'px','margin-bottom',this.$l.get_scrollbarBuffer()+'px','margin-top',20+'px']);t.css(z);this.$h();if(ss.isValue(u)){this.get_dom().scroller.css('height',u+this.$l.get_scrollbarBuffer()+'px')}this.$d();this.centerNav();this.handleUpdateActivePoint(this.get_flipboardNavViewModel().get_currentPointIndex())},$c:function(){var t=this.get_dom().previous.add(this.get_dom().next);t.removeClass('ArrowLarge');t.removeClass('ArrowSmall');if(this.get_flipboardNavViewModel().get_navType()==='caption'){t.addClass('ArrowLarge')}else if(this.get_flipboardNavViewModel().get_navType()==='number'||this.get_flipboardNavViewModel().get_navType()==='dot'){t.addClass('ArrowSmall')}},$h:function(){if(ss.isNullOrUndefined(this.get_storyPointCaptionViewModel())){return}var t={};var u={};var v={};var w={};var x={};if(ss.isValue(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle())){t=this.$f(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle());v=this.$i(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle());x=this.$g(this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle())}if(ss.isValue(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle())){u=this.$f(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle());w=this.$i(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle());if(Object.keys(x).length<=0){x=this.$g(this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle())}}tab.StyleUtil.clearStyleSheet('appendedStoryStyle');tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabFlipboardNavScroller .tabScroller .tabScrollerContent .tabFlipboardNavPoints .tabStoryPoint',x);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent',t);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption',u);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent',v);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent',w);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionTop,.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionBottom',t);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabStoryPointCaptionTop,.tabStoryPointCaption .tabStoryPointCaptionBottom',u);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabScroller .tabScrollerContent .tabStoryPointContent',v);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabScroller .tabScrollerContent .tabStoryPointContent',w);tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar',{'background-color':this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle().xIS.bE$});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar',{'background-color':this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle().xIS.bE$});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator',{'background-color':this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle().xIS.DFg});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator',{'background-color':this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle().xIS.DFg});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover',{'background-color':this.get_storyPointCaptionViewModel().get_selectedStoryPointStyle().xIS.YhU});tab.StyleUtil.appendCSSRuleToStyleSheet$1('appendedStoryStyle','.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover',{'background-color':this.get_storyPointCaptionViewModel().get_unselectedStoryPointStyle().xIS.YhU})},$f:function(t){var u=false;if(ss.isValue(t.rPC)){return tab.FormattingConverters.makeStyledBoxCssDict(t.rPC,u)}else{return{}}},$i:function(t){if(ss.isValue(t.mCc)){return tab.FormattingConverters.makeFormatStyleDict(t.mCc,null)}else{return{}}},$g:function(t){var u=150;var v=70;var w={};var x=v,y=u;if(ss.isValue(t.EUR)){x=t.EUR}w.height=x+20+'px';if(ss.isValue(t.rec)){y=t.rec}w.width=y+'px';return w},centerNav:function(){var t=this.$k.points[0].clientWidth+this.$9();var u=tab.DoubleUtil.roundToInt(this.get_dom().domRoot.parent().width());var v=0;if(u>t){v=ss.Int32.div(u-t,2)}this.get_dom().domRoot.css('margin-left',v+'px');var w=tab.DoubleUtil.roundToInt(this.get_domRoot().height());w-=2;var x=ss.Int32.div(w,2);this.get_dom().domRoot.css('margin-top','-'+x+'px')},handleResize:function(){var t=tab.DoubleUtil.roundToInt(this.get_dom().domRoot.parent().width())-this.$9();var u=this.$k.points[0].clientWidth;this.get_dom().scroller.css(ss.mkdict(['width',Math.min(t,u)+'px']));this.centerNav();this.$m.triggerRefresh()},$9:function(){return(this.get_flipboardNavViewModel().get_showArrows()?(tab.DoubleUtil.roundToInt(this.get_dom().previous.outerWidth(true))+tab.DoubleUtil.roundToInt(this.get_dom().next.outerWidth(true))):0)},handleUpdateActivePoint:function(t){this.$d();var u=this.$k.points.children().get(t);var v=u.offsetLeft;var w=v+u.offsetWidth;var x=this.$l.get_scrollerX();var y=x+tab.DoubleUtil.roundToInt(this.get_dom().scroller.width());var z=50;if(w>y){var A=tab.DoubleUtil.roundToInt(this.get_dom().scroller.width())-u.offsetWidth-z;this.$l.scrollToElement(u,0,-A,0)}else if(v<x){this.$l.scrollToElement(u,0,-50,0)}this.get_dom().previous.toggleClass('tabDisabled',this.get_flipboardNavViewModel().get_previousDisabled());this.get_dom().next.toggleClass('tabDisabled',this.get_flipboardNavViewModel().get_nextDisabled())},$d:function(){var t=this.get_template().getElementsBySelector('.tabStoryPoint');t.remove();var u=ss.getEnumerator(this.get_flipboardNavViewModel().get_captions());try{while(u.moveNext()){var v=u.current();var w=spiff.ObjectRegistry.newView(j).call(null,[v]);w.addToDom(this.$k.points)}}finally{u.dispose()}this.handleResize()}},ss.makeGenericType(spiff.BaseView$1,[e]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[e])]);ss.initClass(e,a,{add_resizeZone:function(t){this.$2$1=ss.delegateCombine(this.$2$1,t)},remove_resizeZone:function(t){this.$2$1=ss.delegateRemove(this.$2$1,t)},add_updateActivePoint:function(t){this.$2$2=ss.delegateCombine(this.$2$2,t)},remove_updateActivePoint:function(t){this.$2$2=ss.delegateRemove(this.$2$2,t)},add_remoteUpdateComplete:function(t){this.$2$3=ss.delegateCombine(this.$2$3,t)},remove_remoteUpdateComplete:function(t){this.$2$3=ss.delegateRemove(this.$2$3,t)},get_currentPointIndex:function(){return this.$8.get_currentPointIndex()},get_numberOfPoints:function(){return this.$8.get_storyPoints().length},get_storyPointHeight:function(){return this.$8.get_flipboardNavPresModel().czn.EUR},get_storyPointWidth:function(){return this.$8.get_flipboardNavPresModel().czn.rec},get_previousDisabled:function(){return this.get_currentPointIndex()<=0},get_nextDisabled:function(){return this.get_currentPointIndex()>=this.get_numberOfPoints()-1},get_showArrows:function(){return this.$8.get_flipboardNavPresModel().ELI},get_captions:function(){return this.$6},get_useDarkIcons:function(){return this.$8.get_flipboardNavPresModel().RWo.byq},get_scrollBarStyle:function(){return this.$8.get_flipboardNavPresModel().RWo.xIS},get_navType:function(){return this.$8.get_navType()},handleNewFlipboardNav:function(){if(ss.isValue(this.$2$2)){this.updatePoints();this.$2$2(this.get_currentPointIndex())}if(!this.$7){var t=tab.CommandController.get();var u=null;u=ss.mkdel(this,function(){t.remove_commandQueueComplete(u);this.$7=false;this.raiseActionEvent(this.$2$3)});t.add_commandQueueComplete(u);this.$7=true}},updatePoints:function(){this.$4();this.$2()},$3:function(){this.raiseActionEvent(this.$2$1)},$4:function(){for(var t=0;t<this.$6.length;t++){var u=this.$6[t];u.dispose()}ss.clear(this.$6)},$2:function(){for(var t=0;t<this.get_numberOfPoints();t++){this.$6.push(new s(this.$8,t))}},clickNext:function(){var t=$.Deferred();if(this.get_nextDisabled()){t.resolve(this.get_currentPointIndex())}else{this.$5(t,ss.mkdel(this,function(){return k.nextStoryPoint(this.$8)}))}return t.promise()},clickPrevious:function(){var t=$.Deferred();if(this.get_previousDisabled()){t.resolve(this.get_currentPointIndex())}else{this.$5(t,ss.mkdel(this,function(){return k.previousStoryPoint(this.$8)}))}return t.promise()},dispose:function(){this.$4();spiff.BaseViewModel.prototype.dispose.call(this)},$5:function(t,u){var v=ss.mkdel(this,function(){t.resolve(this.get_currentPointIndex())});var w=function(){t.reject(ss.unbox(ss.cast(arguments[0],ss.Int32)))};u().then(v,w)}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFlipboardNavigatorViewModel]);ss.initClass(f,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(g,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isValue(this.$a.get_dashboardViewModel())){this.handleNewStoryPoint()}},handleNewStoryPoint:function(){var t={w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())};this.$a.get_dashboardViewModel().set_size(g.$0(tab.RecordCast.sizeAsSizePresModel(t),this.$a.get_dashboardViewModel().get_size()));this.$9();var u=spiff.ObjectRegistry.newView(tab.DashboardView).call(null,[this.$a.get_dashboardViewModel()]);u.addToDom(this.get_template().domRoot)},handleResizeZone:function(){var t={w:this.$a.get_parentZone().get_contentWidth(),h:this.$a.get_parentZone().get_contentHeight()};this.$a.get_dashboardViewModel().set_size(g.$0(tab.RecordCast.sizeAsSizePresModel(t),this.$a.get_dashboardViewModel().dashboardModel.get_dashboardSize()));this.$9()},$9:function(){var t=this.$a.get_parentZone().get_contentWidth();var u=this.$a.get_parentZone().get_contentHeight();var v=this.$a.get_dashboardViewModel().dashboardModel.get_dashboardSize();if(v.rec<=t&&v.EUR<=u+3){this.element.css('overflow','hidden')}else{this.element.css('overflow','auto')}}},ss.makeGenericType(spiff.BaseView$1,[h]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[h])]);ss.initClass(h,a,{add_newStoryPoint:function(t){this.$2$1=ss.delegateCombine(this.$2$1,t)},remove_newStoryPoint:function(t){this.$2$1=ss.delegateRemove(this.$2$1,t)},get_flipboardModel:function(){return this.$7},get_dashboardViewModel:function(){return this.$6},$5:function(){return this.get_flipboardModel().get_dashboardModel().pm},get_parentZone:function(){return this.$8},$3:function(){this.$2();if(ss.isValue(this.$5())){this.$6=tab.DashboardViewModel.new$1(this.get_flipboardModel().get_dashboardModel());this.raiseActionEvent(this.$2$1)}tab.Application.handleAllFontsFound()},$4:function(){this.$8.forceZoneValidState(false)},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(){if(ss.isValue(this.get_dashboardViewModel())){this.$6.dispose();this.$6=null}}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IFlipboardViewModel]);ss.initInterface(i,a,{get_rootTemplate:null,styleCaption:null,handleUpdatePoint:null,setupContent:null},[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[s])]);ss.initInterface(j,a,{get_contentTemplate:null,get_captionTemplate:null},[ss.IDisposable,spiff.IAppendableView,ss.makeGenericType(spiff.IView$1,[s])]);ss.initClass(k,a,{});ss.initClass(l,a,{newFlipboardNavigatorViewModel:function(t){return new e(t)},newFlipboardViewModel:function(t,u){return new h(t,u)},newFlipboardNavigatorView:function(t){return spiff.ObjectRegistry.newView(d).call(null,[t])},newFlipboardView:function(t){return spiff.ObjectRegistry.newView(g).call(null,[t])},insertStoryPoint:function(t,u){return k.insertStoryPoint(t,u)},replaceStoryPoint:function(t,u){return k.replaceStoryPoint(t,u)}},null,[tab.IStoryModule]);ss.initClass(m,a,{});ss.initClass(n,a,{get_domRoot:function(){return this.get_template().domRoot},get_contentTemplate:function(){return ss.cast(this.$j.get_rootTemplate(),q)},get_storyPointCaptionViewModel:function(){return this.get_viewModel()},get_captionTemplate:function(){return ss.cast(this.get_template(),r)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9()},$9:function(){this.$j.addToDom(this.get_captionTemplate().caption);this.$j.styleCaption(this.get_captionTemplate());this.$a();if(tsConfig.is_authoring){this.$i()}},$f:function(){if(this.get_storyPointCaptionViewModel().get_isFirstPoint()){this.get_domRoot().addClass('tabFirstPoint')}if(this.get_storyPointCaptionViewModel().get_isLastPoint()){this.get_domRoot().addClass('tabLastPoint')}},$a:function(){if(tsConfig.is_authoring){if(this.get_viewModel().get_width()<this.$l.element.width()+this.$n.element.width()+this.$k.element.width()+12){this.$m.element.addClass('small');this.$l.element.addClass('small');this.$k.element.addClass('small');this.get_captionTemplate().updateIconButton.show();this.get_captionTemplate().updateTextButton.hide();this.get_captionTemplate().delete$1.toggle(this.get_storyPointCaptionViewModel().get_isCaptured())}else{this.$l.element.removeClass('small');this.$k.element.removeClass('small');this.get_captionTemplate().update.append(this.$n.element);this.get_captionTemplate().updateIconButton.hide();this.get_captionTemplate().updateTextButton.show()}this.get_captionTemplate().update.toggle(!this.get_storyPointCaptionViewModel().get_isCaptured())}else{this.get_captionTemplate().update.hide()}this.get_captionTemplate().revert.toggle(!this.get_storyPointCaptionViewModel().get_isCaptured());this.get_captionTemplate().caption.toggleClass('tabCurrent',this.get_storyPointCaptionViewModel().get_isCurrentPoint());this.$j.handleUpdatePoint()},$i:function(){this.$k.element.removeClass('tabDeleteIconCaption');this.$k.element.removeClass('tabDeleteIconNumber');this.$k.element.removeClass('tabDeleteIconDot');switch(this.get_viewModel().get_navType()){case'caption':{this.$k.element.addClass('tabDeleteIconCaption');break}case'number':{this.$k.element.addClass('tabDeleteIconNumber');break}case'dot':{this.$k.element.addClass('tabDeleteIconDot');break}default:{break}}},$c:function(){this.$b();this.$g();if(tsConfig.is_authoring){this.$h();this.$e()}},$g:function(){this.get_captionTemplate().revert.attr('title',tab.Strings.StoryPointRevertTooltip);this.$l=new spiff.IconButton;this.$l.setIcon('tabStoryRevertIcon');this.get_captionTemplate().revert.append(this.$l.element);this.disposables.add$1(this.$l.onClick(ss.mkdel(this,function(t){this.get_storyPointCaptionViewModel().revertStoryPoint()})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.dispose()})))},$h:function(){var t=ss.mkdel(this,function(){this.get_viewModel().captureStoryPoint()});this.$n=spiff.StyledTextButton.createUnificationLabelButton(t,tab.Strings.StoryPointUpdateButton,'tabStoryUpdateButton',3,null);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$n.remove_click(t)})));this.$m=new spiff.IconButton;this.$m.setIcon('tabStoryUpdateIcon');this.get_captionTemplate().update.attr('title',tab.Strings.StoryPointUpdateButton);this.disposables.add$1(this.$m.onClick(ss.mkdel(this,function(u){this.get_viewModel().captureStoryPoint()})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$n.dispose();this.$m.dispose()})));this.get_captionTemplate().updateIconButton.append(this.$m.element);this.get_captionTemplate().updateTextButton.append(this.$n.element)},$e:function(){this.get_captionTemplate().delete$1.attr('title',tab.Strings.StoryPointDeleteTooltip);this.$k=new spiff.IconButton;this.$k.setIcon('tabStoryDeleteIcon');this.get_captionTemplate().delete$1.append(this.$k.element);this.disposables.add$1(this.$k.onClick(ss.mkdel(this,function(t){this.get_storyPointCaptionViewModel().deleteStoryPoint()})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.dispose()})));this.$i()},$b:function(){this.disposables.add$1((new spiff.ClickHandler).setTarget(this.get_captionTemplate().caption).onPress(ss.mkdel(this,function(){this.get_captionTemplate().caption.addClass('tabActive')})).onClick(ss.mkdel(this,function(t){t.stopPropagation();this.get_captionTemplate().caption.removeClass('tabActive');this.get_storyPointCaptionViewModel().clickStoryPoint()})));this.get_captionTemplate().caption.on('touchend touchcancel mouseleave',ss.mkdel(this,function(){this.get_captionTemplate().caption.removeClass('tabActive')}))},$d:function(){this.$j.setupContent()}},ss.makeGenericType(spiff.BaseView$1,[s]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[s]),j]);ss.initClass(o,a,{get_rootTemplate:function(){return this.get_template()},handleUpdatePoint:function(){},styleCaption:function(t){t.domRoot.addClass('tabFormatted');t.caption.addClass(o.circleClassName);t.captionBottom.hide();t.captionTop.hide();var u=Math.floor(this.get_viewModel().get_storyPointStyle().rec*0.75);var v=Math.floor(this.get_viewModel().get_storyPointStyle().EUR*0.75);t.caption.width(u+'px');t.caption.height(v+'px');var w=this.get_viewModel().get_storyPointStyle().rec-u;var x=this.get_viewModel().get_storyPointStyle().EUR-v;w=Math.max(ss.Int32.div(w,2),0);x=Math.max(ss.Int32.div(x,2),0);t.caption.css('left',w+'px');t.caption.css('top',x+ss.round(t.toolbar.outerHeight())+'px')},setupContent:function(){this.get_template().domRoot.text('')}},ss.makeGenericType(spiff.BaseView$1,[s]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[s]),i]);ss.initClass(p,a,{get_rootTemplate:function(){return this.get_template()},addToDom:function(t){spiff.Widget.prototype.addToDom.call(this,t);this.$a=spiff.ScrollableView.createScrollableView(this.$b);this.$a.addToDom(t)},styleCaption:function(t){if(this.$b.get_hasCustomIndicator()){t.domRoot.addClass('tabFormatted');t.captionBottom.remove();t.captionTop.remove()}var u=ss.mkdict(['right',this.$a.get_scrollbarBuffer()+'px']);t.captionTop.css(u);t.captionBottom.css(u)},handleUpdatePoint:function(){this.$b.triggerRefresh()},setupContent:function(){this.$9(this.get_viewModel());var t=new spiff.ScrollableViewModel;t.set_content(this.get_template().domRoot[0]);t.isCenteredVertically=this.get_viewModel().isCenteredVertically;t.set_scrollY(this.get_viewModel().get_navType()!=='number');t.set_scrollX(false);this.$b=t;this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.dispose()})))},$9:function(t){if(t.isCenteredHorizontally){this.get_template().domRoot.addClass('centered')}var u=((ss.isNullOrEmptyString(t.get_caption())&&tsConfig.is_authoring)?tab.Strings.StoryEmptyCaptionText:t.get_caption());this.get_template().domRoot.text(u)}},ss.makeGenericType(spiff.BaseView$1,[s]),[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[s]),i]);ss.initClass(q,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(r,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(s,a,{add_updatePoint:function(t){this.$2$1=ss.delegateCombine(this.$2$1,t)},remove_updatePoint:function(t){this.$2$1=ss.delegateRemove(this.$2$1,t)},add_flipboardNavTypeChanged:function(t){this.$2$2=ss.delegateCombine(this.$2$2,t)},remove_flipboardNavTypeChanged:function(t){this.$2$2=ss.delegateRemove(this.$2$2,t)},$3:function(){return this.$5.get_storyPoints()[this.$6]},get_isCurrentPoint:function(){return this.$6===this.$5.get_currentPointIndex()},get_isCaptured:function(){return this.$3().mwo},get_caption:function(){return this.$3().XWQ},get_storyPointId:function(){return this.$3().hVl},get_storyPointIndex:function(){return this.$6},get_isFirstPoint:function(){return this.get_storyPointIndex()===0},get_isLastPoint:function(){return this.$6===this.$5.get_storyPoints().length-1},get_storyPointStyle:function(){if(this.get_isCurrentPoint()){return this.get_selectedStoryPointStyle()}else{return this.get_unselectedStoryPointStyle()}},get_selectedStoryPointStyle:function(){return this.$5.get_flipboardNavPresModel().czn},get_unselectedStoryPointStyle:function(){return this.$5.get_flipboardNavPresModel().TaK},get_width:function(){return this.$5.get_flipboardNavPresModel().TaK.rec},get_height:function(){return this.$5.get_flipboardNavPresModel().TaK.EUR},get_navType:function(){return this.$5.get_flipboardNavPresModel().RWo.Ovl},handleNewFlipboardNav:function(){var t=this.get_navType()!==this.$4;if(t){this.raiseActionEvent(this.$2$2)}else{this.raiseActionEvent(this.$2$1)}this.$4=this.get_navType()},clickStoryPoint:function(){return this.$2(ss.mkdel(this,function(){return k.setActiveStoryPoint(this.$6,this.$5)}),this.get_isCurrentPoint())},revertStoryPoint:function(){return this.$2(ss.mkdel(this,function(){return k.revertStoryPoint(tab.ModelUtils.findContentDashboard().get_sheetPath(),this.$3().hVl)}),this.get_isCaptured())},captureStoryPoint:function(){return this.$2(ss.mkdel(this,function(){return k.captureStoryPoint(this.get_storyPointId())}),this.get_isCaptured())},deleteStoryPoint:function(){return this.$2(ss.mkdel(this,function(){return k.deleteStoryPoint(this.get_storyPointId())}),false)},editStoryPointCaption:function(t){return this.$2(ss.mkdel(this,function(){return k.editStoryPointCaption(t,this.get_storyPointId(),this.$5)}),ss.compareStrings(this.get_caption(),t,false)===0)},$2:function(t,u){var v=$.Deferred();if(u){return v.resolve(this)}else{var w=ss.mkdel(this,function(){v.resolve(this)});var x=function(){v.reject(ss.cast(arguments[0],tab.IStoryPointCaptionViewModel))};var y=t();y.then(w,x)}return v.promise()}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IStoryPointCaptionViewModel]);(function(){b.$0="<span class='tabFlipboardNavPoints'/>"})();(function(){c.$0="<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"})();(function(){d.storyPointToolbarHeight=20;d.horizontalScrollerSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar';d.horizontalScrollerHoverSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar:hover';d.horizontalScrollerIndicatorSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator';d.horizontalScrollerIndicatorHoverSelector='.tabFlipboardNavScroller .iScrollHorizontalScrollbar>.iScrollIndicator:hover';d.storyPointSelector='.tabFlipboardNavScroller .tabScroller .tabScrollerContent .tabFlipboardNavPoints .tabStoryPoint';d.selectedStoryPointBoxSelector='.tabStoryPointCaption.tabCurrent';d.unselectedStoryPointBoxSelector='.tabStoryPointCaption';d.selectedStoryPointTextSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent';d.unselectedStoryPointTextSelector='.tabStoryPointCaption .tabCustomScroller .tabScrollerContentWindow .tabScrollerContent .tabStoryPointContent';d.selectedStoryPointScrollbarSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar';d.unselectedStoryPointScrollbarSelector='.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar';d.selectedStoryPointScrollbarIndicatorSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator';d.unselectedStoryPointScrollbarIndicatorSelector='.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator';d.selectedStoryPointScrollbarIndicatorHoverSelector='.tabStoryPointCaption.tabCurrent .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover';d.unselectedStoryPointScrollbarIndicatorHoverSelector='.tabStoryPointCaption .tabCustomScroller .tabVerticalScrollbar>.tabScrollbarIndicator:hover';d.selectedStoryPointNativeScrollerTopBottomSelector='.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionTop,.tabStoryPointCaption.tabCurrent .tabStoryPointCaptionBottom';d.unselectedStoryPointNativeScrollerTopBottomSelector='.tabStoryPointCaption.tabStoryPointCaptionTop,.tabStoryPointCaption .tabStoryPointCaptionBottom';d.selectedStoryPointNativeScrollerTextSelector='.tabStoryPointCaption.tabCurrent .tabScroller .tabScrollerContent .tabStoryPointContent';d.unselectedStoryPointNativeScrollerTextSelector='.tabStoryPointCaption .tabScroller .tabScrollerContent .tabStoryPointContent';d.storyStyleSheetId='appendedStoryStyle';spiff.ObjectRegistry.registerType(d,d).call(null)})();(function(){f.$0="<div class='tabFlipboard'></div>"})();(function(){g.scrollBarThickness=24;g.additionalHeightForMarginsOfContent=3;spiff.ObjectRegistry.registerType(g,g).call(null)})();(function(){q.$0="<div class='tabStoryPointContent'/>"})();(function(){o.circleClassName='tabStoryPointCircle'})();(function(){p.centeredClassName='centered';p.paddedClassName='padded'})();(function(){r.$0="<span class='tabStoryPoint'>\n<div class='tabStoryPointToolbar'>\n  <div class='tabStoryRevert'></div>  <div class='tabStoryUpdate'><div class='tabStoryUpdateTextButton'></div><div class='tabStoryUpdateIconButton'></div></div>\n  <div class='tabStoryDelete'></div></div>\n<div class='tabStoryPointCaption'><div class='tabStoryPointCaptionTop'/><div class='tabStoryPointCaptionBottom'/></div></span>"})();(function(){n.centeredClassName='centered';n.buttonPixelBuffer=12;n.deleteIconCaptionClassName='tabDeleteIconCaption';n.deleteIconNumberClassName='tabDeleteIconNumber';n.deleteIconDotClassName='tabDeleteIconDot';spiff.ObjectRegistry.registerType(j,n).call(null)})()})();;
/*! BEGIN PdfExportDialogModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlpdfexportdialog');var b=function(g){this.dom=null;this.thumbnails=null;this.$1j=null;this.$1k=null;this.$1g=null;this.$1i=false;this.$1h=null;this.$1f=null;spiff.ModalDialog.$ctor1.call(this,'',$(b.dialogTemplate()));this.$1k=g;this.dom=new d(this.element);this.thumbnails=[];this.get_dialogElement().css(ss.mkdict(['minWidth','none','maxWidth','none']));this.set_titleUnescaped(tab.Strings.PdfExportTitlePDF);this.dom.getElementsBySelector('.png-only').hide();this.$1f=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.onCancel),tab.Strings.DialogButtonCancel,'cancel',2,null);this.$1h=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.onExport),tab.Strings.DialogButtonExport,'export',0,null);this.dom.buttons.append(this.$1f.element);this.dom.buttons.append(this.$1h.element);this.set_closeButtonVisible(false);this.disableTextSelection()};b.__typeName='tab.ExportPdfDialog';b.dialogTemplate=function(){if(ss.isNullOrUndefined(b.$0)){b.$0=ss.localeFormatString(d.template,tableau.format.escapeHTML(tab.Strings.PdfDialogPaperSize),tableau.format.escapeHTML(tab.Strings.PdfDialogImageSize),tableau.format.escapeHTML(tab.Strings.PdfDialogScalingLabel),tableau.format.escapeHTML(tab.Strings.PdfDialogSectionLayout),tableau.format.escapeHTML(tab.Strings.PdfExportPageOrientationPortrait),tableau.format.escapeHTML(tab.Strings.PdfExportPageOrientationLandscape),tableau.format.escapeHTML(tab.Strings.PdfDialogSectionContent),tableau.format.escapeHTML(tab.Strings.PdfDialogContentDashboardSheets),tableau.format.escapeHTML(tab.Strings.PdfDialogContentDashboard),tableau.format.escapeHTML(tab.Strings.PdfDialogContentTopSheets),tableau.format.escapeHTML(tab.Strings.PdfDialogContentWorksheet),tableau.format.escapeHTML(tab.Strings.PdfDialogSelectSheetToChangePrintScaling),tableau.format.escapeHTML(tab.Strings.PdfDialogContentStory))}return b.$0};b.scalingValueFromLayoutOptions=function(g){switch(g.kPf){case'fit-pages':{return ss.formatString('fit{0}x{1}',g.Jlj,g.ubB)}case'percent':{return ss.formatString('pct{0}',g.HZB)}case'auto':default:{return'auto'}}};b.scalingLabelFromLayoutOptions=function(g){switch(g.kPf){case'fit-pages':{if(g.Jlj===0&&g.ubB>0){return tab.Strings.PdfExportFitHigh(g.ubB)}else if(g.ubB===0&&g.Jlj>0){return tab.Strings.PdfExportFitWide(g.Jlj)}else{return tab.Strings.PdfExportFitWideByHigh(g.Jlj,g.ubB)}}case'percent':{return tab.Strings.PdfExportPageScalePercent(g.HZB)}case'auto':default:{return tab.Strings.PdfExportPageScaleAuto}}};b.canSelectSheet=function(g){return g.GJq||ss.isValue(tsConfig.is_authoring)&&tsConfig.is_authoring};global.tab.ExportPdfDialog=b;var c=function(g){this.$1p=null;this.$1o=null;b.call(this,g);this.get_body().addClass('tab-pdfdlg-mobile')};c.__typeName='tab.ExportPdfDialogMobile';global.tab.ExportPdfDialogMobile=c;var d=function(g){this.orientationBtns=null;this.scalingSelector=null;this.sizeSelector=null;this.imageHeightBtn=null;this.imageWidthBtn=null;this.sizeControl=null;this.spinner=null;this.status=null;this.statusMsg=null;this.thumbListWrapper=null;this.thumbList=null;this.buttons=null;spiff.Template.call(this,g);this.orientationBtns=this.getElementsBySelector("button[name='orientation']");this.scalingSelector=this.getElementBySelector('#pdfdlgScaling');this.sizeSelector=this.getElementBySelector('#pdfdlgPageSize');this.imageHeightBtn=this.getElementBySelector("[name='imageHeight']");this.imageWidthBtn=this.getElementBySelector("[name='imageWidth']");this.sizeControl=this.getElementBySelector("[name='pageSize']");this.status=this.getElementBySelector('.tab-pdfdlg-status');this.statusMsg=this.getElementBySelector('.tab-dialog-status-msg');this.spinner=this.getElementBySelector('.tab-pdfdlg-spinner');this.thumbListWrapper=this.getElementBySelector('.tab-pdfdlg-sheets-container');this.thumbList=this.getElementBySelector('.tab-pdfdlg-sheet-list');this.buttons=this.getElementBySelector('.tab-dialog-actions')};d.__typeName='tab.ExportPdfDialogTemplate';global.tab.ExportPdfDialogTemplate=d;var e=function(){};e.__typeName='tab.PdfExportDialogFactory';global.tab.PdfExportDialogFactory=e;var f=function(g){this.button=null;this.icon=null;this.label=null;this.pdfDialog=null;spiff.Template.call(this,g);this.button=this.getElementBySelector('.tab-pdfdlg-thumbnail-button');this.icon=this.getElementBySelector('.tab-pdfdlg-button-icon');this.label=this.getElementBySelector('.tab-pdfdlg-note');this.initEventHandlers()};f.__typeName='tab.SheetThumbnailTemplate';global.tab.SheetThumbnailTemplate=f;ss.initClass(b,a,{get_thumbnailTemplates:function(){return this.thumbnails},$19:function(){return ss.cast(this.dom.orientationBtns.find('.selected').val(),String)},$1a:function(g){var h=((g==='printer')?'portrait':g);var i=this.dom.orientationBtns;var j=function(k,l){var m=$(l);if(ss.cast(m.prop('value'),String)===h){m.addClass('selected')}else{m.removeClass('selected')}};i.each(j)},$1b:function(){return this.dom.sizeControl.val()},$1c:function(g){this.dom.sizeControl.val(g)},$1d:function(){return this.dom.statusMsg.text()},$1e:function(g){this.dom.statusMsg.text(g)},$17:function(){return this.$1j},$18:function(g){this.$1j=g;this.initFromModel()},$14:function(){return this.$1g.get_presModel()},$15:function(){return this.$1i},$16:function(g){this.$1i=g;if(g){this.get_body().find('select, input, button').prop('disabled',true);this.$1h.set_disabled(true)}else{this.get_body().find('select, input, button').prop('disabled',false);this.$1h.set_disabled(false)}},initialize:function(){this.initEventHandlers()},dispose:function(){this.get_body().off('button','click').off('select','change').off('input','change');this.$1f.dispose();this.$1h.dispose();this.dom.dispose();spiff.ModalDialog.prototype.dispose.call(this)},show:function(){if(ss.isNullOrUndefined(this.$17())){this.$P()}this.initialize();spiff.Dialog.prototype.show.call(this)},positionInWindow:function(){this.positionInWindow$1(0,100)},$Y:function(){if(this.get_body().find('.tab-pdfdlg-thumbnail-button').hasClass('selected')){this.$1h.set_disabled(false);this.$1e('');this.$Q()}else{this.$1h.set_disabled(true);this.$1e(tab.Strings.PrintPdfDialogContentRequired);this.$11();this.dom.spinner.hide()}},initEventHandlers:function(){this.get_body().find('select').change(ss.mkdel(this,this.updateSelection)).end().find('.tab-pdfdlg-group-orientation button').click(ss.mkdel(this,this.updateOrientation)).end().find('.png-only input').change(ss.mkdel(this,this.updateImageDimension)).end().find('.tab-pdfdlg-dashboard-content-mode button').click(ss.mkdel(this,this.handleContentModeSwitch)).end().find('.tab-pdfdlg-worksheet-content-mode button').click(ss.mkdel(this,this.handleContentModeSwitch)).end().find('.tab-pdfdlg-story-content-mode button').click(ss.mkdel(this,this.handleContentModeSwitch)).end()},appendOptionToSelect:function(g,h,i){var j=ss.localeFormatString("<option value='{0}'>{1}</option>",tableau.format.escapeHTML(h),tableau.format.escapeHTML(g));i.append($(j))},appendEnumToSelect:function(g,h,i){this.appendOptionToSelect(g,ss.cast(h,String),i)},initFromModel:function(){this.$R();this.$S();this.$T();this.$X(this.$14());var g='this-sheet';if(this.$14().WeS&&!this.$14().Jqz){g='dashboard'}this.$13(g)},onCancel:function(){this.close(null)},onExport:function(){this.$12()},updateScalingSelectFromSheet:function(g){var h=this.dom.scalingSelector;var i=b.scalingValueFromLayoutOptions(g.Vlb);var j=h.children(ss.formatString("option[value='{0}']",i));if(j.length>0){h.val(i)}else{this.appendOptionToSelect(b.scalingLabelFromLayoutOptions(g.Vlb),i,h)}},updateSheetsFromScalingValue:function(g){var h=new RegExp('pct([0-9]{1,3})');var i=new RegExp('fit([0-9]{1,5})x([0-9]{1,5})');var j;if(h.test(g)){j=h.exec(g);var k=parseInt(j[1]);for(var l=0;l<this.$1j.zHH.length;l++){var m=this.$1j.zHH[l];m.Vlb.kPf='percent';m.Vlb.HZB=k}}else if(i.test(g)){j=i.exec(g);var n=parseInt(j[1]);var o=parseInt(j[2]);for(var p=0;p<this.$1j.zHH.length;p++){var q=this.$1j.zHH[p];q.Vlb.kPf='fit-pages';q.Vlb.Jlj=n;q.Vlb.ubB=o}}else{for(var r=0;r<this.$1j.zHH.length;r++){var s=this.$1j.zHH[r];s.Vlb.kPf='auto'}}},updateImageDimension:function(g){var h=$(g.currentTarget);var i=h.prop('value');var j=this.$1j.Vlb;switch(h.attr('name')){case'imageHeight':{var k=parseInt(i);j.nAc=k;for(var l=0;l<this.$1j.zHH.length;l++){var m=this.$1j.zHH[l];m.Vlb.nAc=k}break}case'imageWidth':{var n=parseInt(i);j.pLT=n;for(var o=0;o<this.$1j.zHH.length;o++){var p=this.$1j.zHH[o];p.Vlb.pLT=n}break}}},updateSelection:function(g){var h=$(g.currentTarget);var i=h.prop('value');switch(h.attr('name')){case'scaling':{this.updateSheetsFromScalingValue(i);break}case'pageSize':{var j=ss.cast(i,String);this.$1j.Vlb.YDS=j;for(var k=0;k<this.$1j.zHH.length;k++){var l=this.$1j.zHH[k];l.Vlb.YDS=j}break}}},handleContentModeSwitch:function(g){var h=$(g.currentTarget);h.siblings().removeClass('selected').end().addClass('selected');switch(ss.cast(h.attr('name'),String)){case'dashboard-content':case'worksheet-content':case'story-content':{this.$13(ss.cast(h.prop('value'),String));break}}},updateOrientation:function(g){var h=ss.cast(g.currentTarget.getAttribute('value'),String);this.$1j.Vlb.tTN=h;for(var i=0;i<this.$1j.zHH.length;i++){var j=this.$1j.zHH[i];j.Vlb.tTN=h}this.$1a(h)},showThumbList:function(){this.dom.thumbListWrapper.show();this.dom.thumbList.show()},hideThumbList:function(){this.dom.thumbListWrapper.hide();this.dom.thumbList.hide()},setSingleSheetSelected:function(){var g=this.$14();for(var h=0;h<this.thumbnails.length;h++){var i=this.thumbnails[h];i.selectAndShow(ss.referenceEquals(i.get_presModel(),g))}},$V:function(){var g={};g['wxS']=this.$1j;var h=ss.mkdel(this,function(j){this.$16(false);this.$Q();if(this.get_isShown()){var k=j;var l=tableau.types.ExportDialogType['PrintPDF'];var m=this.$1k.formatSessionTempfileReference(k.uvn,true,true);this.$1k.fileDownloadHelper.openDownload(m,l);this.close(null)}});var i=ss.mkdel(this,function(j){this.$U()});tab.ServerCommands.executeServerCommand(tab.CommandUtils.newCommand$1('pdf-export-server',g),'immediately',h,i)},$U:function(){this.$11();this.$16(false);this.$1e(tab.Strings.PdfExportMessageError);this.dom.spinner.hide();this.dom.statusMsg.show()},$12:function(){this.$16(true);this.$1e(tab.Strings.PdfExportMessageExporting);this.$11();this.$V()},$P:function(){this.$1e(tab.Strings.PdfExportMessageSettings);this.$16(true);this.$11();var g=ss.mkdel(this,function(i){this.$18(i);this.$Q();this.$16(false)});var h=ss.mkdel(this,function(i){this.$1e(tab.Strings.PdfExportMessageSettingsError)});tab.ServerCommands.executeServerCommand(tab.CommandUtils.newCommand$1('pdf-export-options',null),'immediately',g,h)},$11:function(){this.dom.spinner.show();this.dom.status.show()},$Q:function(){this.dom.status.hide(250)},$T:function(){var g=tsConfig.repository_urls;var h=tsConfig.visible_sheets;ss.clear(this.thumbnails);for(var i=0;i<this.$1j.zHH.length;i++){var j=this.$1j.zHH[i];var k=j.Gge;if(ss.isNullOrUndefined(j.lZe)||j.lZe.length===0){if(b.canSelectSheet(j)){var l=ss.indexOf(h,k);if(l>=0){var m=g[l];var n=new tab.RepoPathObject(m);var o=n.get_originalViewURL();j.lZe=this.$1k.formatThumbnailReference(o)}}}var p=new f($(f.template));p.pdfDialog=this;p.label.text(k);if(b.canSelectSheet(j)){p.icon.attr('style',ss.formatString('background: url({0}) 0 0;',j.lZe))}else{p.domRoot.addClass('hidden');p.icon.addClass('tab-pdfdlg-worksheet-icon')}this.dom.thumbList.append(p.domRoot);if(ss.referenceEquals(k,this.$1j.U$A)){this.$1g=p;var q=j.Vlb;this.$1c(q.YDS);this.$1a(q.tTN);this.updateScalingSelectFromSheet(j)}p.domRoot.data('PDFSheet',j);this.thumbnails.push(p)}},$S:function(){var g=this.dom.scalingSelector;if(g.length>0){g.empty();this.appendEnumToSelect(tab.Strings.PdfExportPageScaleAuto,'auto',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(25),'pct25',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(50),'pct50',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(60),'pct60',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(75),'pct75',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(80),'pct80',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(90),'pct90',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(100),'pct100',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(200),'pct200',g);this.appendEnumToSelect(tab.Strings.PdfExportPageScalePercent(400),'pct400',g);this.appendOptionToSelect(tab.Strings.PdfExportFitOneHigh,'fit0x1',g);this.appendOptionToSelect(tab.Strings.PdfExportFitTwoHigh,'fit0x2',g);this.appendOptionToSelect(tab.Strings.PdfExportFitOneWide,'fit1x0',g);this.appendOptionToSelect(tab.Strings.PdfExportFitTwoWide,'fit2x0',g)}},$R:function(){var g=this.dom.sizeSelector;if(g.length>0){g.empty();this.appendEnumToSelect(tab.Strings.PdfExportPageSizeLetter,'letter',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeLegal,'legal',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeNote,'note',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeFolio,'folio',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeTabloid,'tabloid',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeLedger,'ledger',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeStatement,'statement',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeExecutive,'executive',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeA3,'a3',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeA4,'a4',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeA5,'a5',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeB4,'b4',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeB5,'b5',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeQuarto,'quarto',g);this.appendEnumToSelect(tab.Strings.PdfExportPageSizeUnspecified,'unspecified',g)}},$13:function(g){this.$W();switch(g){case'dashboard':case'this-sheet':{this.setSingleSheetSelected();break}case'all':{this.$10();this.showThumbList();break}case'all-dashboard':{this.$Z();this.showThumbList();break}}this.$Y()},$X:function(g){var h;if(g.Jqz){h='story'}else if(g.WeS){h='dashboard'}else{h='worksheet'}this.get_body().find('.tab-pdfdlg-'+h+'-content-mode').show().css('visibility','visible').siblings().hide()},$W:function(){for(var g=0;g<this.thumbnails.length;g++){var h=this.thumbnails[g];h.selectAndShow(false)}},$10:function(){for(var g=0;g<this.thumbnails.length;g++){var h=this.thumbnails[g];h.selectAndShow(b.canSelectSheet(h.get_presModel()))}},$Z:function(){var g=this.$14().ROW;for(var h=0;h<this.thumbnails.length;h++){var i=this.thumbnails[h];var j=ss.contains(g,i.get_presModel().Gge);i.selectAndShow(j)}}},spiff.ModalDialog,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(c,a,{dispose:function(){this.$1p.dispose();this.$1o.dispose();b.prototype.dispose.call(this)},initFromModel:function(){var g={};g.tap=ss.mkdel(this,this.$1m);this.$1p=new spiff.TableauEventHandler.$ctor1(this.$1l(),g);var h=spiff.MobileScrollerOptions.$ctor();h.displayPolicy='always';this.$1o=new spiff.MobileScroller(this.$1l(),this.$1p,h);b.prototype.initFromModel.call(this);this.$1n()},initEventHandlers:function(){this.get_body().find('select').change(ss.mkdel(this,this.updateSelection)).end().find('.png-only input').change(ss.mkdel(this,this.updateImageDimension)).end();spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-group-orientation button'),ss.mkdel(this,this.updateOrientation));spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-dashboard-content-mode button'),ss.mkdel(this,this.handleContentModeSwitch));spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-worksheet-content-mode button'),ss.mkdel(this,this.handleContentModeSwitch));spiff.ClickHandler.targetAndClick(this.get_body().find('.tab-pdfdlg-story-content-mode button'),ss.mkdel(this,this.handleContentModeSwitch))},onWindowResize:function(g){return},showThumbList:function(){b.prototype.showThumbList.call(this);this.$1n()},hideThumbList:function(){b.prototype.hideThumbList.call(this);this.$1n()},setSingleSheetSelected:function(){b.prototype.setSingleSheetSelected.call(this);this.$1n()},$1m:function(g){var h=g.target;var i=$(h).closest('li button');if(i.length>0){var j=null;for(var k=0;k<this.thumbnails.length;k++){var l=this.thumbnails[k];if(ss.referenceEquals(l.button,i)){j=l;break}}if(ss.isValue(j)){j.set_isSelected(!j.get_isSelected())}}},$1l:function(){return this.dom.thumbList[0]},$1n:function(){this.$1o.resetPosition();this.$1o.refresh()}},b,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(d,a,{thumbs:function(){return this.thumbList.find('li')}},spiff.Template,[ss.IDisposable]);ss.initClass(e,a,{createPdfExportDialog:function(g,h){if(h){return new c(g)}return new b(g)}},null,[tab.IPdfExportDialogModule]);ss.initClass(f,a,{get_presModel:function(){return this.domRoot.data('PDFSheet')},set_presModel:function(g){this.domRoot.data('PDFSheet',g)},get_isSelected:function(){return this.button.hasClass('selected')},set_isSelected:function(g){if(g){this.button.addClass('selected')}else{this.button.removeClass('selected')}this.get_presModel().NPh=g},get_isVisible:function(){return this.domRoot.is(':visible')},set_isVisible:function(g){if(g){this.domRoot.show()}else{this.domRoot.hide()}},selectAndShow:function(g){this.set_isSelected(g);this.set_isVisible(g)},initEventHandlers:function(){spiff.ClickHandler.targetAndClick(this.button,ss.mkdel(this,this.handleSheetToggled))},handleSheetToggled:function(g){if(!this.button.is(':disabled')){this.set_isSelected(!this.get_isSelected())}if(ss.isValue(this.pdfDialog)){this.pdfDialog.$Y()}}},spiff.Template,[ss.IDisposable]);(function(){f.template="\n<li class='tab-pdfdlg-sheet'>\n    <button class='tab-pdfdlg-thumbnail-button'>\n        <span class='tab-pdfdlg-button-icon tab-pdfdlg-thumbnail'></span>\n        <div class='tab-pdfdlg-note'></div>\n    </button>\n</li>"})();(function(){d.template="\n<div class='tab-pdfdlg-body'>\n    <div class='tab-pdfdlg-select-group'>\n        <div class='pdf-only tab-pdfdlg-selector'>\n            <label for='pdfdlgPageSize'>{0}:</label><br />\n            <select id='pdfdlgPageSize' name='pageSize'></select>\n        </div>\n        <div class='png-only tab-pdfdlg-selector'>\n            <label for='pdfdlgImageSize'>{1}:</label><br />\n            <input name='imageHeight'></input>\n            <input name='imageWidth'></input>\n        </div>\n        <div class='tab-pdfdlg-selector'>\n            <label for='pdfdlgScaling'>{2}:</label><br />\n            <select id='pdfdlgScaling' name='scaling'></select>\n        </div>\n    </div>\n    <h3 class='pdf-only'>{3}:</h3>\n    <div class='tab-pdfdlg-button-group tab-pdfdlg-group-orientation'>\n        <button class='left pdf-only' name='orientation' value='portrait'>\n            <span class='tab-pdfdlg-portrait-icon tab-pdfdlg-button-icon'></span>\n            <div class='tab-pdfdlg-note'>{4}</div>\n        </button><button class='right pdf-only' name='orientation' value='landscape'>\n            <span class='tab-pdfdlg-landscape-icon tab-pdfdlg-button-icon'></span>\n            <div class='tab-pdfdlg-note'>{5}</div>\n        </button>\n    </div>\n    <h3>{6}:</h3>\n    <div>\n        <div class='tab-pdfdlg-button-group tab-pdfdlg-dashboard-content-mode'>\n            <button class='selected left' name='dashboard-content' value='dashboard'>\n                <span class='tab-pdfdlg-dashboard-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{8}</div>\n            </button><button class='' name='dashboard-content' value='all-dashboard'>\n                <span class='tab-pdfdlg-dash-sheets-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{7}</div>\n            </button><button class='right' name='dashboard-content' value='all'>\n                <span class='tab-pdfdlg-workbook-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{9}</div>\n            </button>\n        </div>\n        <div class='tab-pdfdlg-button-group tab-pdfdlg-story-content-mode'>\n            <button class='left selected' name='story-content' value='this-sheet'>\n                <span class='tab-pdfdlg-story-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{12}</div>\n            </button><button class='right' name='story-content' value='all'>\n                <span class='tab-pdfdlg-workbook-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{9}</div>\n            </button>\n        </div>\n        <div class='tab-pdfdlg-button-group tab-pdfdlg-worksheet-content-mode'>\n            <button class='left selected' name='worksheet-content' value='this-sheet'>\n                <span class='tab-pdfdlg-worksheet-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{10}</div>\n            </button><button class='right' name='worksheet-content' value='all'>\n                <span class='tab-pdfdlg-workbook-icon tab-pdfdlg-button-icon'></span>\n                <div class='tab-pdfdlg-note'>{9}</div>\n            </button>\n        </div>\n    </div>\n    <h3>{11}:</h3>\n    <div class='tab-pdfdlg-sheets-container'>\n        <ul class='tab-pdfdlg-sheet-list'></ul>\n    </div>\n    <div class='tab-dialog-footer'>\n        <div class='tab-pdfdlg-status'>\n            <img class='tab-pdfdlg-spinner' src='/images/30x30REV.gif' />\n            <span class='tab-dialog-status-msg'></span>\n        </div>\n        <div class='tab-dialog-actions'></div>\n    </div>\n</div>"})();(function(){b.$0=null})()})();;
/*! BEGIN SelfServiceSchedulesModule */
var SelfServiceSchedules=function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var t={};return r.m=e,r.c=t,r.p="/dist/",r(0)}([function(e,r,t){"use strict";var n=t(1);r.SelfServiceSchedulePane=n.SelfServiceSchedulePane;var i=t(5);r.StaticInitializers=i.StaticInitializers},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(3),a=t(4),o=t(6),s=t(5),u=t(16),l=function(e){function r(r,t){var n=this;e.call(this,r,t),this.recurrenceModelChangedHandler=function(e){n.props.recurrenceModelChangedCallback(e)},this.doneHandler=function(){n.setShowOptionsOverlay(!1)};var i=u.betaLocalizedRecurrenceUXStrings(s.StaticInitializers.defaultUnlocalizedRecurrenceUXStrings());this.localizedStringMap=this.props.localizeStringsCallback?this.props.localizeStringsCallback(i):i,this.state={showOptionsOverlay:!1}}return n(r,e),r.prototype.toggleOptionsPanel=function(){this.setShowOptionsOverlay(!this.state.showOptionsOverlay)},r.prototype.setShowOptionsOverlay=function(e){this.setState({showOptionsOverlay:e})},r.prototype.getRecurrenceStringLocalized=function(e){switch(e){case c.RecurrenceModes.DataRefresh:return this.localizedStringMap.RecurrenceOnDataRefresh;case c.RecurrenceModes.TimeRecurrence:return this.getTimelyRecurrenceString();default:return"[unknown] "+this.props.recurrenceModel.recurrenceType}},r.prototype.getTimelyRecurrenceString=function(){switch(this.props.recurrenceModel.recurrenceType){case c.RecurrenceTypes.Hourly:return this.getHourlyRecurrenceString();case c.RecurrenceTypes.Daily:return this.getDailyRecurrenceString();case c.RecurrenceTypes.Weekly:return this.getWeeklyRecurrenceString();case c.RecurrenceTypes.Monthly:return this.getMonthlyRecurrenceString();default:throw this.props.recurrenceModel.recurrenceType+" is not supported yet."}},r.prototype.getHourlyRecurrenceString=function(){var e=this.props.recurrenceModel.recurrenceDetails,r=a.TimeHhMm.fromNumber(e.startTime),t=a.TimeHhMm.fromNumber(e.endTime),n=this.localizeMinutesNumber(e.recurrenceMinutes).toLocaleLowerCase(),i=e.recurrenceDaysOfWeek.length.toLocaleString(),c=e.recurrenceDaysOfWeek.length>1?this.localizedStringMap.RecurrenceStrDaysAWeek:this.localizedStringMap.RecurrenceStrDayAWeek;return e.startTime===e.endTime?this.localizedStringMap.RecurrenceStrMultipleTimesAnHourStartingAt.replace("{1}",i).replace("{2}",c).replace("{3}",n).replace("{4}",r.toHHMMString()):this.localizedStringMap.RecurrenceStrMultipleTimesAnHourAt.replace("{1}",i).replace("{2}",c).replace("{3}",n).replace("{4}",r.toHHMMString()).replace("{5}",t.toHHMMString())},r.prototype.getDailyRecurrenceString=function(){var e=this.props.recurrenceModel.recurrenceDetails,r=a.TimeHhMm.fromNumber(e.startTime),t=a.TimeHhMm.fromNumber(e.endTime),n=e.recurrenceMinutes,i=e.recurrenceDaysOfWeek.length.toLocaleString(),o=e.recurrenceDaysOfWeek.length>1?this.localizedStringMap.RecurrenceStrDaysAWeek:this.localizedStringMap.RecurrenceStrDayAWeek,s=e.recurrenceMinutes===c.ONE_DAY?this.localizedStringMap.RecurrenceStrDaily:this.localizedStringMap.RecurrenceStrDailyEveryX,u=this.localizedStringMap.RecurrenceStrGeneralFromTo;return e.startTime===e.endTime?(u=this.localizedStringMap.RecurrenceStrGeneralAt,u=u.replace("{1}",r.toHHMMString())):u=u.replace("{1}",r.toHHMMString()).replace("{2}",t.toHHMMString()),s.replace("{1}",i).replace("{2}",o).replace("{3}",this.localizeMinutesNumber(n).toLocaleLowerCase()).replace("{4}",u)},r.prototype.getWeeklyRecurrenceString=function(){var e=this.props.recurrenceModel.recurrenceDetails,r=a.TimeHhMm.fromNumber(e.startTime),t=e.recurrenceDaysOfWeek.length>1?this.localizedStringMap.RecurrenceStrDaysAWeek:this.localizedStringMap.RecurrenceStrDayAWeek;return this.localizedStringMap.RecurrenceWeeklyVerboseString.replace("{1}",e.recurrenceDaysOfWeek.length.toLocaleString()).replace("{2}",t).replace("{3}",r.toHHMMString())},r.prototype.getMonthlyRecurrenceString=function(){var e,r,t=this.props.recurrenceModel.recurrenceDetails,n=c.RecurrenceConverters.toDaysOfMonthArr(t.recurrenceDayOfMonth),i=n.length>1?this.localizedStringMap.RecurrenceMonthlyTimesAMonth:this.localizedStringMap.RecurrenceMonthlyTimeAMonth,o=a.TimeHhMm.fromNumber(this.props.recurrenceModel.recurrenceDetails.startTime),s="",u=o.toHHMMString();return t.recurrenceDaysOfWeek&&t.recurrenceDaysOfWeek.length>0?(s=this.localizeNumber(n[0]),e=" "+this.localizeDayOfWeek(t.recurrenceDaysOfWeek[0]),r=this.localizedStringMap.RecurrenceMonthlyOfTheMonth):(s=n.length.toLocaleString(),e="",r=i),this.localizedStringMap.RecurrenceMonthlyVerboseString.replace("{1}",s).replace("{2}",e).replace("{3}",r).replace("{4}",u)},r.prototype.localizeMinutesNumber=function(e){switch(e){case c.RecurrenceMinutesNumber.HalfHour:return this.localizedStringMap.RecurrenceMinutesHalfHour;case c.RecurrenceMinutesNumber.OneHour:return this.localizedStringMap.RecurrenceMinutesHour;case c.RecurrenceMinutesNumber.TwoHour:return this.localizedStringMap.RecurrenceMinutesTwoHour;case c.RecurrenceMinutesNumber.FourHour:return this.localizedStringMap.RecurrenceMinutesFourHour;case c.RecurrenceMinutesNumber.EightHour:return this.localizedStringMap.RecurrenceMinutesEightHour;case c.RecurrenceMinutesNumber.TwelveHour:return this.localizedStringMap.RecurrenceMinutesTwelveHour;case c.RecurrenceMinutesNumber.OneDay:return this.localizedStringMap.RecurrenceOnDay;default:return this.localizedStringMap.RecurrenceMinutesTwoHour}},r.prototype.localizeNumber=function(e){switch(e){case 0:return this.localizedStringMap.RecurrenceMonthlyOnLast;case 1:return this.localizedStringMap.RecurrenceMonthlyOnFirst;case 2:return this.localizedStringMap.RecurrenceMonthlyOnSecond;case 3:return this.localizedStringMap.RecurrenceMonthlyOnThird;case 4:return this.localizedStringMap.RecurrenceMonthlyOnFourth;case 5:return this.localizedStringMap.RecurrenceMonthlyOnFifth;default:return e+""}},r.prototype.localizeDayOfWeek=function(e){switch(e){case c.RecurrenceDaysOfTheWeek.Sun:return this.localizedStringMap.RecurrenceDayOfWeekSunday;case c.RecurrenceDaysOfTheWeek.Mon:return this.localizedStringMap.RecurrenceDayOfWeekMonday;case c.RecurrenceDaysOfTheWeek.Tue:return this.localizedStringMap.RecurrenceDayOfWeekTuesday;case c.RecurrenceDaysOfTheWeek.Wed:return this.localizedStringMap.RecurrenceDayOfWeekWednesday;case c.RecurrenceDaysOfTheWeek.Thu:return this.localizedStringMap.RecurrenceDayOfWeekThursday;case c.RecurrenceDaysOfTheWeek.Fri:return this.localizedStringMap.RecurrenceDayOfWeekFriday;case c.RecurrenceDaysOfTheWeek.Sat:return this.localizedStringMap.RecurrenceDayOfWeekSaturday;default:return e+""}},r.prototype.render=function(){var e=this;return i.createElement("div",{style:{position:"relative"}},i.createElement("div",{id:"show-schedule-details","data-tb-test-id":this.props.testShowRecurrenceOptionsId,style:{display:"flex",paddingBottom:"4px",borderBottom:"1px solid grey",cursor:"pointer"},onClick:function(){return e.toggleOptionsPanel()}},i.createElement("div",null,this.getRecurrenceStringLocalized(this.props.recurrenceModel.recurrenceMode),""),i.createElement("div",{style:{flexShrink:0,alignSelf:"flex-end"}},"")),this.state.showOptionsOverlay?i.createElement(o.RecurrenceOptionsOverlay,{onDone:this.doneHandler,localizedStringMap:this.localizedStringMap,recurrenceModel:this.props.recurrenceModel,recurrenceModelChangedCallback:this.recurrenceModelChangedHandler}):"")},r}(i.Component);r.SelfServiceSchedulePane=l},function(e,r){e.exports=React},function(e,r){"use strict";r.HALF_HOUR=30,r.MINUTES_IN_HOUR=60,r.TWO_HOURS=2*r.MINUTES_IN_HOUR,r.FOUR_HOURS=4*r.MINUTES_IN_HOUR,r.EIGHT_HOURS=8*r.MINUTES_IN_HOUR,r.TWELVE_HOURS=12*r.MINUTES_IN_HOUR,r.ONE_DAY=24*r.MINUTES_IN_HOUR,r.RecurrenceModes={DataRefresh:"On Data Refresh",TimeRecurrence:"Specified Time"},r.RecurrenceTypes={Hourly:"Hourly",Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly"},r.RecurrenceMinutesNumber={HalfHour:r.HALF_HOUR,OneHour:r.MINUTES_IN_HOUR,TwoHour:r.TWO_HOURS,FourHour:r.FOUR_HOURS,EightHour:r.EIGHT_HOURS,TwelveHour:r.TWELVE_HOURS,OneDay:r.ONE_DAY},r.RecurrenceMinutes={HalfHour:"HalfHour",OneHour:"OneHour",TwoHour:"TwoHour",FourHour:"FourHour",EightHour:"EightHour",TwelveHour:"TwelveHour",OneDay:"OneDay"},r.RecurrenceDaysOfTheWeek={Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat"},r.RecurrenceLastDayOfMonth="Last",r.RecurrenceSecondToLastDayOfMonth="SecondToLast";var t=function(){function e(){}return e.toDaysOfMonthArr=function(e){if(!e)return[];var r=parseInt(e,10);if(isNaN(r))throw r+" is an invalid daysOfMonthMask";var t=[];0===r&&t.push(0);for(var n=1;r>0;)1&r&&t.push(n),n++,r>>>=1;return t},e.toDaysOfMonthMask=function(r){if(!r||0===r.length)throw"daysOfMonth should be a non-null, non-empty array";var t=0;if(r.indexOf(0)>=0)return 0;for(var n=0;n<r.length;n++)t|=e.getDayOfMonthMask(r[n]);return t},e.getDayOfMonthMask=function(e){if(e>31||void 0===e)throw"Invalid day in a month:"+e;var r=1;return e>1&&(r<<=e-1),r},e}();r.RecurrenceConverters=t},function(e,r,t){"use strict";var n=t(5),i=n.StaticInitializers.HOURS_IN_DAY,c=n.StaticInitializers.MINUTES_IN_HOUR,a=function(){function e(r,t){e.throwOnInvalidHourOrMinute(r,t),this.hour=r,this.minute=t}return e.prototype.toHHMMString=function(){return e.toHHMMString(this.hour,this.minute)},e.prototype.toNumber=function(){return e.toNumber(this)},e.fromHHMMString=function(r){if(!/^\d{1,2}:\d{1,2}$/.test(r))throw r+" should match hh:mm format";var t=r.split(":"),n=parseInt(t[0],10),i=parseInt(t[1],10);return e.throwOnInvalidHourOrMinute(n,i),new e(n,i)},e.fromNumber=function(r){if(r<0||r%1!==0||r>n.StaticInitializers.MINUTES_IN_DAY)throw r+" should be a number in [0, "+n.StaticInitializers.MINUTES_IN_DAY+"] range.";return new e(Math.floor(r/60),r%60)},e.toNumber=function(e){return 60*e.hour+e.minute},e.toHHMMString=function(r,t){e.throwOnInvalidHourOrMinute(r,t);var n=r+"";r<10&&(n="0"+n);var i=t+"";return t<10&&(i="0"+i),n+":"+i},e.throwOnInvalidHourOrMinute=function(e,r){if(e>=i||e%1!==0||e<0||r>=c||r%1!==0||r<0)throw"invalid hour or minute. should be in {[0-"+i+"), [0-"+c+")} range."},e.prototype.equals=function(e){var r=e;return r&&void 0!==r.hour&&void 0!==r.minute?r.hour===this.hour&&r.minute===this.minute:this===e},e}();r.TimeHhMm=a},function(e,r,t){"use strict";var n,i=t(3);!function(e){function r(){return{recurrenceMode:i.RecurrenceModes.TimeRecurrence,recurrenceType:i.RecurrenceTypes.Daily,recurrenceDetails:n()}}function t(){return{startTime:e.DEFAULT_START_TIME,endTime:e.DEFAULT_END_TIME,recurrenceMinutes:e.MINUTES_IN_HOUR,recurrenceDaysOfWeek:e.DEFAULT_WEEKDAYS}}function n(){return{startTime:e.DEFAULT_START_TIME,endTime:e.DEFAULT_END_TIME,recurrenceMinutes:e.MINUTES_IN_DAY,recurrenceDaysOfWeek:e.DEFAULT_WEEKDAYS}}function c(){return{startTime:e.DEFAULT_START_TIME,recurrenceDaysOfWeek:e.DEFAULT_WEEKDAYS}}function a(){return{startTime:e.DEFAULT_START_TIME,recurrenceDayOfMonth:e.DEFAULT_DAY_OF_MONTH_STR,recurrenceDaysOfWeek:null}}function o(){return{RecurrenceOnDataRefresh:"!"+i.RecurrenceModes.DataRefresh+"!",RecurrenceOnTimeRecurrence:"!"+i.RecurrenceModes.TimeRecurrence+"!",RecurrenceHourly:"!"+i.RecurrenceTypes.Hourly+"!",RecurrenceDaily:"!"+i.RecurrenceTypes.Daily+"!",RecurrenceWeekly:"!"+i.RecurrenceTypes.Weekly+"!",RecurrenceMonthly:"!"+i.RecurrenceTypes.Monthly+"!",RecurrenceStrGeneralFromTo:"!from {1} to {2}!",RecurrenceStrGeneralAt:"!at {1}!",RecurrenceStrDaily:"!{1} {2} {4}!",RecurrenceStrDailyEveryX:"!{1} {2} every {3} {4}!",RecurrenceStrHourlyAt:"!{1} at {2}!",RecurrenceStrMultipleTimesAnHourAt:"!{1} {2} every {3} from {4} to {5}!",RecurrenceStrMultipleTimesAnHourStartingAt:"!{1} {2} every {3} starting at {4}!",RecurrenceStrDaysAWeek:"!days a week,!",RecurrenceStrDayAWeek:"!day a week,!",RecurrenceStrTo:"!to!",RecurrenceCaptionAtTime:"!At time!",RecurrenceCaptionAt:"!At:!",RecurrenceCaptionFrom:"!From:!",RecurrenceCaptionTo:"!To:!",RecurrenceCaptionEvery:"!Every:!",RecurrenceCaptionOn:"!On!",RecurrenceOnDay:"!Day!",RecurrenceMonthlyOnFirst:"!First!",RecurrenceMonthlyOnSecond:"!Second!",RecurrenceMonthlyOnThird:"!Third!",RecurrenceMonthlyOnFourth:"!Fourth!",RecurrenceMonthlyOnFifth:"!Fifth!",RecurrenceMonthlyOnLast:"!Last!",RecurrenceMinutesHalfHour:"!Half hour!",RecurrenceMinutesHour:"!Hour!",RecurrenceMinutesTwoHour:"!Two hours!",RecurrenceMinutesFourHour:"!Four hours!",RecurrenceMinutesEightHour:"!Eight hours!",RecurrenceMinutesTwelveHour:"!Twelve hours!",RecurrenceDayOfWeekSunday:"!Sunday!",RecurrenceDayOfWeekMonday:"!Monday!",RecurrenceDayOfWeekTuesday:"!Tuesday!",RecurrenceDayOfWeekWednesday:"!Wednesday!",RecurrenceDayOfWeekThursday:"!Thursday!",RecurrenceDayOfWeekFriday:"!Friday!",RecurrenceDayOfWeekSaturday:"!Saturday!",RecurrenceDayOfWeekSundayShort:"!S!",RecurrenceDayOfWeekMondayShort:"!M!",RecurrenceDayOfWeekTuesdayShort:"!T!",RecurrenceDayOfWeekWednesdayShort:"!W!",RecurrenceDayOfWeekThursdayShort:"!Th!",RecurrenceDayOfWeekFridayShort:"!F!",RecurrenceDayOfWeekSaturdayShort:"!S!",RecurrenceWeeklyVerboseString:"!{1} {2} at {3}!",RecurrenceMonthlyVerboseString:"!{1}{2} {3} at {4}!",RecurrenceMonthlyTimeAMonth:"!time a month!",RecurrenceMonthlyTimesAMonth:"!times a month!",RecurrenceMonthlyOfTheMonth:"!of the month!",RecurrenceCaptionRepeats:"!Repeats!",RecurrenceCaptionDone:"!Done!"}}e.DEFAULT_START_TIME=0,e.DEFAULT_END_TIME=0,e.DEFAULT_DAY_OF_MONTH_ARR=[1],e.DEFAULT_DAY_OF_MONTH_STR=i.RecurrenceConverters.toDaysOfMonthMask(e.DEFAULT_DAY_OF_MONTH_ARR)+"",e.DEFAULT_ALL_DAYS_A_WEEK=[i.RecurrenceDaysOfTheWeek.Sun,i.RecurrenceDaysOfTheWeek.Mon,i.RecurrenceDaysOfTheWeek.Tue,i.RecurrenceDaysOfTheWeek.Wed,i.RecurrenceDaysOfTheWeek.Thu,i.RecurrenceDaysOfTheWeek.Fri,i.RecurrenceDaysOfTheWeek.Sat],e.DEFAULT_WEEKDAYS=[i.RecurrenceDaysOfTheWeek.Mon,i.RecurrenceDaysOfTheWeek.Tue,i.RecurrenceDaysOfTheWeek.Wed,i.RecurrenceDaysOfTheWeek.Thu,i.RecurrenceDaysOfTheWeek.Fri],e.MINUTES_IN_HOUR=60,e.HOURS_IN_DAY=24,e.MINUTES_IN_DAY=e.MINUTES_IN_HOUR*e.HOURS_IN_DAY,e.MAX_DAYS_IN_A_MONTH=31,e.NumberOfRecurrenceDaysOfTheWeek=7,e.defaultRecurrence=r,e.defaultHourly=t,e.defaultDaily=n,e.defaultWeekly=c,e.defaultMonthly=a,e.defaultUnlocalizedRecurrenceUXStrings=o}(n=r.StaticInitializers||(r.StaticInitializers={}))},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a=t(3),o=t(8),s=t(5),u=t(9),l=t(11),p=t(13),h=t(15),d="recurrenceOptionsOverlay",y={textAlign:"right",marginTop:"15px"},D={textAlign:"left"},f=function(e){function r(r,t){var n=this;e.call(this,r,t),this.recurrenceTypeChangedHandler=function(e){return e&&1===e.length&&n.onRecurrenceTypeChanged(e[0])},this.recurrenceDetailsChangedHandler=function(e){return n.onRecurrenceDetailsChange(e)},this.doneHandler=function(){return n.acceptAndClose()},this.selectedRecurrenceOption=[],this.recurrenceTypeOptions=[{id:a.RecurrenceTypes.Hourly,caption:this.props.localizedStringMap.RecurrenceHourly},{id:a.RecurrenceTypes.Daily,caption:this.props.localizedStringMap.RecurrenceDaily},{id:a.RecurrenceTypes.Weekly,caption:this.props.localizedStringMap.RecurrenceWeekly},{id:a.RecurrenceTypes.Monthly,caption:this.props.localizedStringMap.RecurrenceMonthly}],this.recurrenceModeButtonStyle={textAlign:"left",width:"100%",border:"0px",backgroundColor:"#ffffff"},this.recurrenceOptionsOverlayStyle={position:"absolute",backgroundColor:"#ffffff",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.2)",border:"1px solid #CCC",borderRadius:3,marginLeft:-5,padding:10,minWidth:"150px",top:"35px",zIndex:1}}return n(r,e),r.prototype.onRecurrenceTypeChanged=function(e){var r;switch(e){case a.RecurrenceTypes.Hourly:r=s.StaticInitializers.defaultHourly();break;case a.RecurrenceTypes.Daily:r=s.StaticInitializers.defaultDaily();break;case a.RecurrenceTypes.Weekly:r=s.StaticInitializers.defaultWeekly();break;case a.RecurrenceTypes.Monthly:r=s.StaticInitializers.defaultMonthly();break;default:throw e+" is not implemented yet!"}var t=c(this.props.recurrenceModel,{recurrenceDetails:{$set:r},recurrenceType:{$set:e}});this.props.recurrenceModelChangedCallback(t)},r.prototype.onRecurrenceDetailsChange=function(e){var r=c(this.props.recurrenceModel,{recurrenceDetails:{$set:e}});this.props.recurrenceModelChangedCallback(r)},r.prototype.acceptAndClose=function(){this.props.onDone()},r.prototype.getSelectedRecurrenceTypeId=function(){return this.selectedRecurrenceOption[0]=this.props.recurrenceModel.recurrenceType,this.selectedRecurrenceOption},r.prototype.getRecurrenceUX=function(){return i.createElement("div",null,i.createElement("div",{style:this.topMarginStyle},this.props.localizedStringMap.RecurrenceCaptionRepeats),i.createElement(o.DropDown,{items:this.recurrenceTypeOptions,selectedIds:this.getSelectedRecurrenceTypeId(),onSelectionChanged:this.recurrenceTypeChangedHandler}),i.createElement("div",{style:this.topMarginStyle},this.getRecurrencePane()))},r.prototype.getRecurrencePane=function(){switch(this.props.recurrenceModel.recurrenceType){case a.RecurrenceTypes.Hourly:return i.createElement(h.HourlyRecurrencePane,{localizedStringMap:this.props.localizedStringMap,recurrenceDetails:this.props.recurrenceModel.recurrenceDetails,recurrenceDetailsChangedCallback:this.recurrenceDetailsChangedHandler});case a.RecurrenceTypes.Daily:return i.createElement(p.DailyRecurrencePane,{localizedStringMap:this.props.localizedStringMap,recurrenceDetails:this.props.recurrenceModel.recurrenceDetails,recurrenceDetailsChangedCallback:this.recurrenceDetailsChangedHandler});case a.RecurrenceTypes.Weekly:return i.createElement(l.WeeklyRecurrencePane,{localizedStringMap:this.props.localizedStringMap,recurrenceDetails:this.props.recurrenceModel.recurrenceDetails,recurrenceDetailsChangedCallback:this.recurrenceDetailsChangedHandler});case a.RecurrenceTypes.Monthly:return i.createElement(u.MonthlyRecurrencePane,{RecurrenceOptionsOverlayId:d,recurrenceDetails:this.props.recurrenceModel.recurrenceDetails,localizedStringMap:this.props.localizedStringMap,recurrenceDetailsChangedCallback:this.recurrenceDetailsChangedHandler});default:return i.createElement("div",null,i.createElement("h1",null,"Not implemented yet!"))}},r.prototype.render=function(){return i.createElement("div",{id:d,style:this.recurrenceOptionsOverlayStyle},i.createElement("div",{style:D},this.getRecurrenceUX()),i.createElement("div",{style:y},i.createElement("a",{id:"done-button","data-tb-test-id":this.props.testDoneButtonId,onClick:this.doneHandler},this.props.localizedStringMap.RecurrenceCaptionDone)))},r}(i.Component);r.RecurrenceOptionsOverlay=f},function(e,r){e.exports=React.addons.update},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a={position:"absolute",right:"0px",overflowY:"scroll",height:"200px",backgroundColor:"#ffffff",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.2)",border:"1px solid #CCC",borderRadius:"3px",padding:"6px",paddingRight:"18px"},o={borderBottom:"1px solid #CCC",marginLeft:"10px",cursor:"default"},s={position:"relative"},u={backgroundColor:"#cbcbcb"},l={},p=function(e){function r(r,t){var n=this;e.call(this,r,t),this.singleSelectionChangedHandler=function(e){n.props.onSelectionChanged([n.props.items[e.target.selectedIndex].id])},this.multipleItemClickedHandler=function(e){return n.onMultipleOptionStateToggle(e.currentTarget.id)},this.renderOptionMapper=function(e,r){return n.props.canSelectMultiple?n.renderMultipleOption(e,r):n.renderSingleOption(e,r)},this.toggleMultipleSelectPaneHandler=function(){n.onMultipleSelectionChanged()},this.resetPrivateState(r),this.state={isOpen:!1,selectedIds:this.originalSelectedIds.slice(0,this.originalSelectedIds.length)}}return n(r,e),r.prototype.componentDidMount=function(){this.props.canSelectMultiple&&this.setParentContainerOnclickToCloseMultiSelect()},r.prototype.setParentContainerOnclickToCloseMultiSelect=function(){var e=this;null!==document.getElementById(this.props.parentContainerId)&&(document.getElementById(this.props.parentContainerId).onclick=function(r){var t=document.getElementById("drop-down-multiple");null===t||t.contains(r.target)||e.state.isOpen&&e.onMultipleSelectionChanged()})},r.prototype.componentWillReceiveProps=function(e){this.props!==e&&(this.resetPrivateState(e),this.setState({selectedIds:this.originalSelectedIds.slice(0,this.originalSelectedIds.length)}))},r.prototype.resetPrivateState=function(e){var r=this;e.selectedIds?this.originalSelectedIds=e.selectedIds.slice(0,e.selectedIds.length):this.originalSelectedIds=[],this.idToOptionMap={},e.items&&e.items.forEach(function(e){return r.idToOptionMap[e.id]=e})},r.prototype.onMultipleOptionStateToggle=function(e){var r=this.state.selectedIds.indexOf(e),t=this.state.selectedIds.splice(0);r>=0?t.splice(r,1):t.push(e),this.setState({selectedIds:t}),this.props.onSelectionChanged(t)},r.prototype.onMultipleSelectionChanged=function(){this.originalSelectedIds.length!==this.state.selectedIds.length&&this.props.onSelectionChanged(this.state.selectedIds);for(var e=this.originalSelectedIds.sort(),r=this.originalSelectedIds.sort(),t=0;t<e.length;t++)e[t]!==r[t]&&this.props.onSelectionChanged(this.state.selectedIds);var n=!this.state.isOpen;this.setState({isOpen:n})},r.prototype.getSelectedValue=function(){return this.props.selectedIds&&this.props.selectedIds.length>0?this.props.selectedIds[0]:this.props.items[0].id},r.prototype.getGlyph=function(){return this.state.isOpen?"":""},r.prototype.renderSingleOption=function(e,r){return e.isDisabled?i.createElement("option",{id:e.id,value:e.id,"data-tb-test-id":e.testId,key:r,disabled:!0},e.caption):i.createElement("option",{id:e.id,value:e.id,"data-tb-test-id":e.testId,key:r},e.caption)},r.prototype.renderMultipleOption=function(e,r){var t=this.state.selectedIds.indexOf(e.id)>=0?u:l;return e.customStyle&&(t=c(t,{$merge:e.customStyle})),i.createElement("div",{id:e.id,key:r,"data-tb-test-id":e.testId,onClick:e.isDisabled?function(){}:this.multipleItemClickedHandler,style:t},i.createElement("span",null,e.caption))},r.prototype.getMultiSelectUx=function(){var e=this;return i.createElement("div",{id:"drop-down-multiple","data-tb-test-id":this.props.testDropDownId,style:s},i.createElement("div",{style:o,"data-tb-test-id":this.props.testDropDownMultipleTitle,onClick:this.toggleMultipleSelectPaneHandler},this.props.selectedIds?this.props.selectedIds.map(function(r){return e.idToOptionMap[r].caption}).join(", "):"","",this.getGlyph()),this.state.isOpen?i.createElement("div",{style:a},this.props.items.map(this.renderOptionMapper)):"")},r.prototype.getSimpleSelectUx=function(){return i.createElement("select",{id:"drop-down-single","data-tb-test-id":this.props.testDropDownId,onChange:this.singleSelectionChangedHandler,value:this.getSelectedValue()},this.props.items.map(this.renderOptionMapper))},r.prototype.render=function(){return i.createElement("div",null,this.props.canSelectMultiple?this.getMultiSelectUx():this.getSimpleSelectUx())},r}(i.Component);r.DropDown=p},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a=t(3),o=t(4),s=t(5),u=t(10),l=t(8),p={marginTop:"5px"},h={marginTop:"2px",borderTop:"1px solid grey",paddingTop:"2px"};!function(e){e[e.Day=77]="Day",e[e.First=1]="First",e[e.Second=2]="Second",e[e.Third=3]="Third",e[e.Fourth=4]="Fourth",e[e.Fifth=5]="Fifth",e[e.Last=0]="Last"}(r.DayTypeChoice||(r.DayTypeChoice={}));var d=r.DayTypeChoice,y=d[d.Last],D=function(e){function r(r,t){var n=this;e.call(this,r,t),this.timeChangedHandler=function(e){return n.onStartTimeChange(e)},this.dayChoiceChangedHandler=function(e){return n.onDayChoiceChange(e[0])},this.monthDaysChangedHandler=function(e){return n.onMonthDaysChange(e)},this.weekDaysChangedHandler=function(e){return n.onWeekDaysChange(e)},this.dayTypeOptions=[{id:d[d.Day],caption:this.props.localizedStringMap.RecurrenceOnDay},{id:d[d.First],caption:this.props.localizedStringMap.RecurrenceMonthlyOnFirst},{id:d[d.Second],caption:this.props.localizedStringMap.RecurrenceMonthlyOnSecond},{id:d[d.Third],caption:this.props.localizedStringMap.RecurrenceMonthlyOnThird},{id:d[d.Fourth],caption:this.props.localizedStringMap.RecurrenceMonthlyOnFourth},{id:d[d.Fifth],caption:this.props.localizedStringMap.RecurrenceMonthlyOnFifth},{id:y,caption:this.props.localizedStringMap.RecurrenceMonthlyOnLast}],this.weekDayNumOptions=[{id:a.RecurrenceDaysOfTheWeek.Sun,caption:this.props.localizedStringMap.RecurrenceDayOfWeekSunday},{id:a.RecurrenceDaysOfTheWeek.Mon,caption:this.props.localizedStringMap.RecurrenceDayOfWeekMonday},{id:a.RecurrenceDaysOfTheWeek.Tue,caption:this.props.localizedStringMap.RecurrenceDayOfWeekTuesday},{id:a.RecurrenceDaysOfTheWeek.Wed,caption:this.props.localizedStringMap.RecurrenceDayOfWeekWednesday},{id:a.RecurrenceDaysOfTheWeek.Thu,caption:this.props.localizedStringMap.RecurrenceDayOfWeekThursday},{id:a.RecurrenceDaysOfTheWeek.Fri,caption:this.props.localizedStringMap.RecurrenceDayOfWeekFriday},{id:a.RecurrenceDaysOfTheWeek.Sat,caption:this.props.localizedStringMap.RecurrenceDayOfWeekSaturday}],this.monthDayNumOptions=new Array(s.StaticInitializers.MAX_DAYS_IN_A_MONTH+1);for(var i=0;i<s.StaticInitializers.MAX_DAYS_IN_A_MONTH;i++){var c=i+1+"";this.monthDayNumOptions[i]={id:c,caption:c}}this.monthDayNumOptions[s.StaticInitializers.MAX_DAYS_IN_A_MONTH]={id:y,caption:this.props.localizedStringMap.RecurrenceMonthlyOnLast,customStyle:h},this.dayPickerStyle={textAlign:"right",width:"100%"},this.dayPickerBoxStyle={display:"flex",marginTop:"5px"}}return n(r,e),r.prototype.onDayChoiceChange=function(e){var r;if(e===d[d.Day])r=c(this.props.recurrenceDetails,{recurrenceDayOfMonth:{$set:s.StaticInitializers.DEFAULT_DAY_OF_MONTH_STR},recurrenceDaysOfWeek:{$set:null}});else{var t=this.selectedDayOptionIdToDayNum(e);r=c(this.props.recurrenceDetails,{recurrenceDayOfMonth:{$set:a.RecurrenceConverters.toDaysOfMonthMask([t])+""},recurrenceDaysOfWeek:{$set:[a.RecurrenceDaysOfTheWeek.Mon]}})}this.props.recurrenceDetailsChangedCallback(r)},r.prototype.getSelectedDayTypeOptionId=function(){if(this.isWeekDayOptionCurrent()){var e=a.RecurrenceConverters.toDaysOfMonthArr(this.props.recurrenceDetails.recurrenceDayOfMonth);return d[e[0]]}return d[d.Day]},r.prototype.onWeekDaysChange=function(e){this.props.recurrenceDetailsChangedCallback(c(this.props.recurrenceDetails,{recurrenceDaysOfWeek:{$set:e}}))},r.prototype.onMonthDaysChange=function(e){var r,t=a.RecurrenceConverters.toDaysOfMonthArr(this.props.recurrenceDetails.recurrenceDayOfMonth);e.indexOf(y)>=0&&!(t.indexOf(d.Last)>=0)?r=[0]:e.length>0?(r=[],e.forEach(function(e){e!==y&&r.push(parseInt(e,10))})):r=[1];var n=c(this.props.recurrenceDetails,{recurrenceDayOfMonth:{$set:a.RecurrenceConverters.toDaysOfMonthMask(r)+""}});this.props.recurrenceDetailsChangedCallback(n)},r.prototype.onStartTimeChange=function(e){var r=c(this.props.recurrenceDetails,{startTime:{$set:e.toNumber()}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.selectedDayOptionIdToDayNum=function(e){switch(e){case d[d.Last]:return 0;case d[d.First]:return 1;case d[d.Second]:return 2;case d[d.Third]:return 3;case d[d.Fourth]:return 4;case d[d.Fifth]:return 5;default:throw e+" is not a number member of DayTypeChoice"}},r.prototype.getSelectedWeekdayOptionId=function(){var e=this.props.recurrenceDetails.recurrenceDaysOfWeek;return e&&1===e.length||(e=[a.RecurrenceDaysOfTheWeek.Mon]),e[0]},r.prototype.getSelectedMonthOptionId=function(){var e=a.RecurrenceConverters.toDaysOfMonthArr(this.props.recurrenceDetails.recurrenceDayOfMonth);return e.map(function(e){return 0===e?y:e+""})},r.prototype.isWeekDayOptionCurrent=function(){var e=this.props.recurrenceDetails.recurrenceDaysOfWeek;return e&&e.length>0},r.prototype.getDayTypeDependentUx=function(){return this.isWeekDayOptionCurrent()?i.createElement(l.DropDown,{testDropDownId:this.props.testWeekDayPickerId,items:this.weekDayNumOptions,onSelectionChanged:this.weekDaysChangedHandler,selectedIds:[this.getSelectedWeekdayOptionId()]}):i.createElement(l.DropDown,{testDropDownId:this.props.testMonthDayPickerId,items:this.monthDayNumOptions,onSelectionChanged:this.monthDaysChangedHandler,selectedIds:this.getSelectedMonthOptionId(),canSelectMultiple:!0,parentContainerId:this.props.RecurrenceOptionsOverlayId})},r.prototype.render=function(){return i.createElement("div",null,i.createElement(u.TimePicker,{caption:this.props.localizedStringMap.RecurrenceCaptionAtTime,onTimeChange:this.timeChangedHandler,selectedValue:o.TimeHhMm.fromNumber(this.props.recurrenceDetails.startTime),style:p}),i.createElement("div",{style:this.dayPickerBoxStyle},i.createElement("div",null,i.createElement("div",null,this.props.localizedStringMap.RecurrenceCaptionOn),i.createElement(l.DropDown,{testDropDownId:this.props.testDayTypePickerId,items:this.dayTypeOptions,onSelectionChanged:this.dayChoiceChangedHandler,selectedIds:[this.getSelectedDayTypeOptionId()]})),i.createElement("div",{style:this.dayPickerStyle},i.createElement("div",null,""),this.getDayTypeDependentUx())))},r}(i.Component);r.MonthlyRecurrencePane=D},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(4),a=t(5),o=a.StaticInitializers.HOURS_IN_DAY,s=a.StaticInitializers.MINUTES_IN_HOUR,u=function(e){function r(){var r=this;e.apply(this,arguments),this.timeChangeHandler=function(e){r.timeChangedInternal(e.target)}}return n(r,e),r.prototype.timeChangedInternal=function(e){this.props.onTimeChange(c.TimeHhMm.fromHHMMString(e.value))},r.prototype.renderMinutes=function(){for(var e=[],r=this.props.startFrom?this.props.startFrom.hour:0;r<o;r++)for(var t=this.props.startFrom&&this.props.startFrom.hour===r?this.props.startFrom.minute:0;t<s;t+=5){var n=c.TimeHhMm.toHHMMString(r,t);e.push(i.createElement("option",{key:n.replace(":","_"),value:n},n))}return e},r.prototype.render=function(){return i.createElement("div",{style:this.props.style},i.createElement("div",{id:"time-picker-caption","data-tb-test-id":this.props.testCaptionId},this.props.caption),i.createElement("select",{id:"time-picker","data-tb-test-id":this.props.testSelectId,onChange:this.timeChangeHandler,value:this.props.selectedValue?this.props.selectedValue.toHHMMString():"00:00"},this.renderMinutes()))},r}(i.Component);r.TimePicker=u},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a=t(3),o=t(4),s=t(10),u=t(12),l={textAlign:"left",width:"100%",marginTop:"5px"},p={marginTop:"5px"},h=function(e){function r(r,t){var n=this;e.call(this,r,t),this.timeChangedHandler=function(e){return n.onStartTimeChange(e)},this.weekDaysChangedHandler=function(e){return n.onWeekDaysChange(e)};var i=this.props.localizedStringMap;this.weekDays=[{weekDayId:a.RecurrenceDaysOfTheWeek.Sun,weekDayCaption:i.RecurrenceDayOfWeekSundayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Mon,weekDayCaption:i.RecurrenceDayOfWeekMondayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Tue,weekDayCaption:i.RecurrenceDayOfWeekTuesdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Wed,weekDayCaption:i.RecurrenceDayOfWeekWednesdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Thu,weekDayCaption:i.RecurrenceDayOfWeekThursdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Fri,weekDayCaption:i.RecurrenceDayOfWeekFridayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Sat,weekDayCaption:i.RecurrenceDayOfWeekSaturdayShort}]}return n(r,e),r.prototype.onStartTimeChange=function(e){var r=c(this.props.recurrenceDetails,{startTime:{$set:e.toNumber()}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.onWeekDaysChange=function(e){this.props.recurrenceDetailsChangedCallback(c(this.props.recurrenceDetails,{recurrenceDaysOfWeek:{$set:e}}))},r.prototype.render=function(){return i.createElement("div",null,i.createElement(s.TimePicker,{caption:this.props.localizedStringMap.RecurrenceCaptionAt,onTimeChange:this.timeChangedHandler,selectedValue:o.TimeHhMm.fromNumber(this.props.recurrenceDetails.startTime),style:p}),i.createElement("div",{style:l},i.createElement("div",null,i.createElement("div",null,this.props.localizedStringMap.RecurrenceCaptionOn),i.createElement(u.WeekDayPicker,{weekDays:this.weekDays,testId:this.props.testWeekDayPickerId,selectedDayIds:this.props.recurrenceDetails.recurrenceDaysOfWeek,onSelectionChanged:this.weekDaysChangedHandler}))))},r}(i.Component);r.WeeklyRecurrencePane=h},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a={border:"1px solid #CCC",borderRadius:"2px",display:"inline-block",textAlign:"center",width:"17px"},o={border:"1px solid #CCC",marginLeft:"2px",borderRadius:"2px",display:"inline-block",textAlign:"center",width:"17px"},s=function(e){function r(){var r=this;e.apply(this,arguments),this.weekDaysToggleHandler=function(e){return r.weekDaysToggleInternal(e.target.id)},this.renderWeekDayMapper=function(e,t){return r.renderWeekDay(e,t)}}return n(r,e),r.prototype.weekDaysToggleInternal=function(e){var r,t=this.props.selectedDayIds,n=t?t.indexOf(e):-1;r=n>=0?t.length>1?c(t,{$splice:[[n,1]]}):t:c(t,{$push:[e]}),this.props.onSelectionChanged(r)},r.prototype.renderWeekDay=function(e,r){var t=0===r?a:o;return this.props.selectedDayIds&&this.props.selectedDayIds.indexOf(e.weekDayId)>=0&&(t=c(t,{$merge:{backgroundColor:"#CCC"}})),i.createElement("span",{onClick:this.weekDaysToggleHandler,"data-tb-test-id":e.weekDayId,key:e.weekDayId,style:t,id:e.weekDayId},e.weekDayCaption)},r.prototype.render=function(){return i.createElement("div",{id:"week-day-picker","data-tb-test-id":this.props.testId,style:this.props.style},i.createElement("div",null,this.props.weekDays.map(this.renderWeekDayMapper)))},r}(i.Component);r.WeekDayPicker=s},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a=t(3),o=t(4),s=t(8),u=t(12),l=t(14),p={textAlign:"left",width:"100%",marginTop:"5px"},h={marginTop:"5px"},d={display:"flex",marginTop:"5px"},y={textAlign:"left",width:"100%",marginLeft:"5px"},D=function(e){function r(r,t){var n=this;e.call(this,r,t),this.startTimeChangedHandler=function(e){return n.onStartTimeChange(e)},this.endTimeChangedHandler=function(e){return n.onEndTimeChange(e)},this.recurrenceMinutesChangedHandler=function(e){return n.onRecurrenceMinutesChange(e[0])},this.weekDaysChangedHandler=function(e){return n.onWeekDaysChange(e)};var i=this.props.localizedStringMap;this.weekDays=[{weekDayId:a.RecurrenceDaysOfTheWeek.Sun,weekDayCaption:i.RecurrenceDayOfWeekSundayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Mon,weekDayCaption:i.RecurrenceDayOfWeekMondayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Tue,weekDayCaption:i.RecurrenceDayOfWeekTuesdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Wed,weekDayCaption:i.RecurrenceDayOfWeekWednesdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Thu,weekDayCaption:i.RecurrenceDayOfWeekThursdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Fri,weekDayCaption:i.RecurrenceDayOfWeekFridayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Sat,weekDayCaption:i.RecurrenceDayOfWeekSaturdayShort}],this.recurrenceMinutesOptions=[{id:a.RecurrenceMinutes.TwoHour,caption:i.RecurrenceMinutesTwoHour},{id:a.RecurrenceMinutes.FourHour,caption:i.RecurrenceMinutesFourHour},{id:a.RecurrenceMinutes.EightHour,caption:i.RecurrenceMinutesEightHour},{id:a.RecurrenceMinutes.TwelveHour,caption:i.RecurrenceMinutesTwelveHour},{id:a.RecurrenceMinutes.OneDay,caption:i.RecurrenceOnDay}]}return n(r,e),r.prototype.onStartTimeChange=function(e){var r=e.toNumber(),t=this.props.recurrenceDetails.endTime;t<r&&(t=r);var n=c(this.props.recurrenceDetails,{startTime:{$set:r},endTime:{$set:t}});this.props.recurrenceDetailsChangedCallback(n)},r.prototype.onEndTimeChange=function(e){var r=c(this.props.recurrenceDetails,{endTime:{$set:e.toNumber()}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.onRecurrenceMinutesChange=function(e){var r=c(this.props.recurrenceDetails,{recurrenceMinutes:{$set:this.MinutesIDToMinutesNumber(e)}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.onWeekDaysChange=function(e){var r=c(this.props.recurrenceDetails,{recurrenceDaysOfWeek:{$set:e}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.MinutesIDToMinutesNumber=function(e){switch(e){case a.RecurrenceMinutes.TwoHour:return a.RecurrenceMinutesNumber.TwoHour;case a.RecurrenceMinutes.FourHour:return a.RecurrenceMinutesNumber.FourHour;case a.RecurrenceMinutes.EightHour:return a.RecurrenceMinutesNumber.EightHour;case a.RecurrenceMinutes.TwelveHour:return a.RecurrenceMinutesNumber.TwelveHour;case a.RecurrenceMinutes.OneDay:return a.RecurrenceMinutesNumber.OneDay;default:return a.RecurrenceMinutesNumber.TwoHour}},r.prototype.MinutesNumberToMinutesID=function(e){switch(e){case a.RecurrenceMinutesNumber.TwoHour:return a.RecurrenceMinutes.TwoHour;case a.RecurrenceMinutesNumber.FourHour:return a.RecurrenceMinutes.FourHour;case a.RecurrenceMinutesNumber.EightHour:return a.RecurrenceMinutes.EightHour;case a.RecurrenceMinutesNumber.TwelveHour:return a.RecurrenceMinutes.TwelveHour;case a.RecurrenceMinutesNumber.OneDay:return a.RecurrenceMinutes.OneDay;default:return a.RecurrenceMinutes.TwoHour}},r.prototype.render=function(){return i.createElement("div",null,i.createElement("div",{style:h},i.createElement("div",null,i.createElement("div",null,this.props.localizedStringMap.RecurrenceCaptionEvery),i.createElement(s.DropDown,{testDropDownId:this.props.testRecurrenceMinutesPickerId,items:this.recurrenceMinutesOptions,onSelectionChanged:this.recurrenceMinutesChangedHandler,selectedIds:[this.MinutesNumberToMinutesID(this.props.recurrenceDetails.recurrenceMinutes)]}))),i.createElement("div",null,i.createElement(l.StartTimeEndTimeComponent,{startCaption:this.props.localizedStringMap.RecurrenceCaptionFrom,endCaption:this.props.localizedStringMap.RecurrenceCaptionTo,selectedStartValue:o.TimeHhMm.fromNumber(this.props.recurrenceDetails.startTime),selectedEndValue:o.TimeHhMm.fromNumber(this.props.recurrenceDetails.endTime),onStartTimeChange:this.startTimeChangedHandler,onEndTimeChange:this.endTimeChangedHandler,startStyle:d,endStyle:y,testStartSelectId:this.props.testStartTimePickerId,testEndSelectId:this.props.testEndTimePickerId,testStartCaptionId:this.props.testStartTimePickerId,testEndCaptionId:this.props.testEndTimePickerId,testStartTimeEndTimeComponentId:this.props.testStartTimeEndTimeComponentId})),i.createElement("div",{style:p},i.createElement("div",null,i.createElement("div",null,this.props.localizedStringMap.RecurrenceCaptionOn),i.createElement(u.WeekDayPicker,{weekDays:this.weekDays,testId:this.props.testWeekDayPickerId,selectedDayIds:this.props.recurrenceDetails.recurrenceDaysOfWeek,onSelectionChanged:this.weekDaysChangedHandler}))))},r}(i.Component);r.DailyRecurrencePane=D},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(10),a=function(e){function r(){var r=this;e.apply(this,arguments),this.startTimeChangeHandler=function(e){r.startTimeChangedInternal(e)},this.endTimeChangeHandler=function(e){r.endTimeChangedInternal(e)}}return n(r,e),r.prototype.startTimeChangedInternal=function(e){this.props.onStartTimeChange(e)},r.prototype.endTimeChangedInternal=function(e){this.props.onEndTimeChange(e)},r.prototype.render=function(){return i.createElement("div",{id:"StartTime-EndTime-Component","data-tb-test-id":this.props.testStartTimeEndTimeComponentId,style:this.props.startStyle},i.createElement("div",null,i.createElement(c.TimePicker,{testCaptionId:this.props.testStartCaptionId,caption:this.props.startCaption,testSelectId:this.props.testStartSelectId,onTimeChange:this.startTimeChangeHandler,selectedValue:this.props.selectedStartValue})),i.createElement("div",{style:this.props.endStyle},i.createElement(c.TimePicker,{testCaptionId:this.props.testEndCaptionId,caption:this.props.endCaption,testSelectId:this.props.testEndSelectId,onTimeChange:this.endTimeChangeHandler,selectedValue:this.props.selectedEndValue,startFrom:this.props.selectedStartValue})))},r}(i.Component);r.StartTimeEndTimeComponent=a},function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},i=t(2),c=t(7),a=t(3),o=t(4),s=t(8),u=t(12),l=t(14),p={marginTop:"5px"},h={textAlign:"left",width:"100%",marginTop:"5px"},d={display:"flex",marginTop:"5px"},y={textAlign:"left",width:"100%",marginLeft:"5px"},D=function(e){function r(r,t){var n=this;e.call(this,r,t),this.startTimeChangedHandler=function(e){return n.onStartTimeChange(e)},this.endTimeChangedHandler=function(e){return n.onEndTimeChange(e)},this.weekDayChangedHandler=function(e){return n.onWeekDaysChange(e)},this.recurrenceMinutesChangedHandler=function(e){return n.onRecurrenceMinutesChange(e[0])};var i=this.props.localizedStringMap;this.weekDays=[{weekDayId:a.RecurrenceDaysOfTheWeek.Sun,weekDayCaption:i.RecurrenceDayOfWeekSundayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Mon,weekDayCaption:i.RecurrenceDayOfWeekMondayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Tue,weekDayCaption:i.RecurrenceDayOfWeekTuesdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Wed,weekDayCaption:i.RecurrenceDayOfWeekWednesdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Thu,weekDayCaption:i.RecurrenceDayOfWeekThursdayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Fri,weekDayCaption:i.RecurrenceDayOfWeekFridayShort},{weekDayId:a.RecurrenceDaysOfTheWeek.Sat,weekDayCaption:i.RecurrenceDayOfWeekSaturdayShort}],this.recurrenceMinutesOptions=[{id:a.RecurrenceMinutes.OneHour,caption:i.RecurrenceMinutesHour}]}return n(r,e),r.prototype.onStartTimeChange=function(e){var r=e.toNumber(),t=this.props.recurrenceDetails.endTime;t<r&&(t=r);var n=c(this.props.recurrenceDetails,{startTime:{$set:r},endTime:{$set:t}});this.props.recurrenceDetailsChangedCallback(n)},r.prototype.onEndTimeChange=function(e){var r=c(this.props.recurrenceDetails,{endTime:{$set:e.toNumber()}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.onWeekDaysChange=function(e){var r=c(this.props.recurrenceDetails,{recurrenceDaysOfWeek:{$set:e}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.onRecurrenceMinutesChange=function(e){var r=c(this.props.recurrenceDetails,{recurrenceMinutes:{$set:this.MinutesIDToMinutesNumber(e)}});this.props.recurrenceDetailsChangedCallback(r)},r.prototype.MinutesIDToMinutesNumber=function(e){if(e===a.RecurrenceMinutes.HalfHour)return a.RecurrenceMinutesNumber.HalfHour;if(e===a.RecurrenceMinutes.OneHour)return a.RecurrenceMinutesNumber.OneHour;throw"Hourly recurrence not supported for "+e},r.prototype.MinutesNumberToMinutesID=function(e){return e===a.RecurrenceMinutesNumber.HalfHour?a.RecurrenceMinutes.HalfHour:a.RecurrenceMinutes.OneHour},r.prototype.render=function(){return i.createElement("div",null,i.createElement("div",{style:p},i.createElement("div",null,i.createElement("div",null,this.props.localizedStringMap.RecurrenceCaptionEvery),i.createElement(s.DropDown,{testDropDownId:this.props.testRecurrenceMinutesPickerId,items:this.recurrenceMinutesOptions,onSelectionChanged:this.recurrenceMinutesChangedHandler,selectedIds:[this.MinutesNumberToMinutesID(this.props.recurrenceDetails.recurrenceMinutes)]}))),i.createElement("div",null,i.createElement(l.StartTimeEndTimeComponent,{startCaption:this.props.localizedStringMap.RecurrenceCaptionFrom,endCaption:this.props.localizedStringMap.RecurrenceCaptionTo,selectedStartValue:o.TimeHhMm.fromNumber(this.props.recurrenceDetails.startTime),selectedEndValue:o.TimeHhMm.fromNumber(this.props.recurrenceDetails.endTime),onStartTimeChange:this.startTimeChangedHandler,onEndTimeChange:this.endTimeChangedHandler,startStyle:d,endStyle:y,testStartSelectId:this.props.testStartTimePickerId,testEndSelectId:this.props.testEndTimePickerId,testStartCaptionId:this.props.testStartTimePickerId,testEndCaptionId:this.props.testEndTimePickerId,testStartTimeEndTimeComponentId:this.props.testStartTimeEndTimeComponentId})),i.createElement("div",{style:h},i.createElement("div",null,i.createElement("div",null,this.props.localizedStringMap.RecurrenceCaptionOn),i.createElement(u.WeekDayPicker,{weekDays:this.weekDays,testId:this.props.testWeekDayPickerId,selectedDayIds:this.props.recurrenceDetails.recurrenceDaysOfWeek,onSelectionChanged:this.weekDayChangedHandler}))))},r}(i.Component);r.HourlyRecurrencePane=D},function(e,r){"use strict";function t(e){for(var r=Object.keys(e),t=0,n=r;t<n.length;t++){var i=n[t];e.hasOwnProperty(i)&&(e[i]=e[i].slice(1,-1))}return e}r.betaLocalizedRecurrenceUXStrings=t}]);;(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlselfserviceschedulesmodule');var b=function(){};b.__typeName='tab.SelfServiceSchedulesCommands';b.createSubscriptionWithSelfServiceSchedule=function(d,e,f,g,h,i){var j=b.$0(d,e,g,f);var k=tab.VizPortalServer.createRequest('createSubscriptionWithSelfServiceSchedule',j,h,i);tab.XhrUtil.helper(k)};b.createSubscriptionsWithSelfServiceSchedule=function(d,e,f,g,h,i,j,k){var l=b.$0(d,e,g,f);l['userIds']=h;tab.XhrUtil.helper(tab.VizPortalServer.createRequestWithPartialFailureHandling('createSubscriptionsWithSelfServiceSchedule',l,i,j,k))};b.$0=function(d,e,f,g){return ss.mkdict(['schedule',b.$1(g),'subject',d.trim(),'targetType',(e?'Workbook':'View'),'targetId',(e?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',f])};b.$1=function(d){var e;switch(d.recurrenceType){case'Daily':{var f=d.recurrenceDetails;e={startTime:f.startTime,endTime:f.endTime,recurrenceMinutes:f.recurrenceMinutes,recurrenceDaysOfWeek:f.recurrenceDaysOfWeek,recurrenceDayOfMonth:null};break}case'Hourly':{var g=d.recurrenceDetails;e={startTime:g.startTime,endTime:g.endTime,recurrenceMinutes:g.recurrenceMinutes,recurrenceDaysOfWeek:g.recurrenceDaysOfWeek,recurrenceDayOfMonth:null};break}case'Weekly':{var h=d.recurrenceDetails;e={startTime:h.startTime,endTime:0,recurrenceMinutes:0,recurrenceDaysOfWeek:h.recurrenceDaysOfWeek,recurrenceDayOfMonth:null};break}case'Monthly':{var i=d.recurrenceDetails;e={startTime:i.startTime,endTime:0,recurrenceMinutes:0,recurrenceDaysOfWeek:i.recurrenceDaysOfWeek,recurrenceDayOfMonth:i.recurrenceDayOfMonth};break}default:{e={startTime:60,endTime:0,recurrenceMinutes:0,recurrenceDaysOfWeek:null,recurrenceDayOfMonth:null};break}}return new tab.SelfServiceSchedule('Subscription',d.recurrenceType,e)};global.tab.SelfServiceSchedulesCommands=b;var c=function(){};c.__typeName='tab.SelfServiceSchedulesModuleFactory';global.tab.SelfServiceSchedulesModuleFactory=c;ss.initClass(b,a,{});ss.initClass(c,a,{createSubscriptionWithSelfServiceSchedule:function(d,e,f,g,h){var i=function(){if(ss.isValue(h)){h()}tab.NotificationViewModel.showNotification(tab.Strings.SubscribeSuccess)};var j=function(){tab.NotificationViewModel.showNotification(tab.Strings.SubscribeFailure)};b.createSubscriptionWithSelfServiceSchedule(d,e,f,g,i,j)},createSubscriptionsWithSelfServiceSchedule:function(d,e,f,g,h,i,j,k){b.createSubscriptionsWithSelfServiceSchedule(d,e,f,g,h,i,j,k)}},null,[tab.ISelfServiceSchedulesModule])})();;var Commenting=function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){"use strict";var o=n(1);e.CommentingModule=o.CommentingModule},function(t,e,n){"use strict";n(2);var o=n(66),i=n(67),r=n(76),s=n(219),a=n(240),c=n(249),l=function(t){var e=new i.CommentingApiService(t.server,t.commentSessionInfo),n=new c.UserService(t.server);return o.createElement(a.Provider,{store:s.commentingStore},o.createElement(r.CommentingPane,{commentingService:e,userService:n,displayVizState:t.displayVizState}))};e.CommentingModule=l},function(t,e,n){n(3),n(23),n(49),n(53),t.exports=n(22).Promise},function(t,e,n){"use strict";var o=n(4),i={};i[n(6)("toStringTag")]="z",i+""!="[object z]"&&n(10)(Object.prototype,"toString",function(){return"[object "+o(this)+"]"},!0)},function(t,e,n){var o=n(5),i=n(6)("toStringTag"),r="Arguments"==o(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:r?o(e):"Object"==(a=o(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(7)("wks"),i=n(9),r=n(8).Symbol,s="function"==typeof r,a=t.exports=function(t){return o[t]||(o[t]=s&&r[t]||(s?r:i)("Symbol."+t))};a.store=o},function(t,e,n){var o=n(8),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){var o=n(8),i=n(11),r=n(21),s=n(9)("src"),a="toString",c=Function[a],l=(""+c).split(a);n(22).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(r(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(r(n,s)||i(n,s,t[e]?""+t[e]:l.join(String(e)))),t===o?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||c.call(this)})},function(t,e,n){var o=n(12),i=n(20);t.exports=n(16)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(13),i=n(15),r=n(19),s=Object.defineProperty;e.f=n(16)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var o=n(14);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var o=n(14),i=n(8).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){var o=n(14);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var o=n(24)(!0);n(27)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var o=n(25),i=n(26);t.exports=function(t){return function(e,n){var r,s,a=String(i(e)),c=o(n),l=a.length;return c<0||c>=l?t?"":void 0:(r=a.charCodeAt(c),r<55296||r>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):r:t?a.slice(c,c+2):(r-55296<<10)+(s-56320)+65536)}}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var o=n(28),i=n(29),r=n(10),s=n(11),a=n(21),c=n(32),l=n(33),u=n(46),p=n(47),d=n(6)("iterator"),h=!([].keys&&"next"in[].keys()),g="@@iterator",f="keys",y="values",m=function(){return this};t.exports=function(t,e,n,v,b,I,C){l(n,e,v);var S,w,M,L=function(t){if(!h&&t in P)return P[t];switch(t){case f:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this,t)}},D=e+" Iterator",T=b==y,x=!1,P=t.prototype,j=P[d]||P[g]||b&&P[b],z=j||L(b),E=b?T?L("entries"):z:void 0,O="Array"==e?P.entries||j:j;if(O&&(M=p(O.call(new t)),M!==Object.prototype&&(u(M,D,!0),o||a(M,d)||s(M,d,m))),T&&j&&j.name!==y&&(x=!0,z=function(){return j.call(this)}),o&&!C||!h&&!x&&P[d]||s(P,d,z),c[e]=z,c[D]=m,b)if(S={values:T?z:L(y),keys:I?z:L(f),entries:E},C)for(w in S)w in P||r(P,w,S[w]);else i(i.P+i.F*(h||x),e,S);return S}},function(t,e){t.exports=!1},function(t,e,n){var o=n(8),i=n(22),r=n(11),s=n(10),a=n(30),c="prototype",l=function(t,e,n){var u,p,d,h,g=t&l.F,f=t&l.G,y=t&l.S,m=t&l.P,v=t&l.B,b=f?o:y?o[e]||(o[e]={}):(o[e]||{})[c],I=f?i:i[e]||(i[e]={}),C=I[c]||(I[c]={});f&&(n=e);for(u in n)p=!g&&b&&void 0!==b[u],d=(p?b:n)[u],h=v&&p?a(d,o):m&&"function"==typeof d?a(Function.call,d):d,b&&s(b,u,d,t&l.U),I[u]!=d&&r(I,u,h),m&&C[u]!=d&&(C[u]=d)};o.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var o=n(31);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports={}},function(t,e,n){"use strict";var o=n(34),i=n(20),r=n(46),s={};n(11)(s,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(s,{next:i(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var o=n(13),i=n(35),r=n(44),s=n(43)("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n(18)("iframe"),o=r.length,i="<",s=">";for(e.style.display="none",n(45).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),l=t.F;o--;)delete l[c][r[o]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=o(t),n=new a,a[c]=null,n[s]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var o=n(12),i=n(13),r=n(36);t.exports=n(16)?Object.defineProperties:function(t,e){i(t);for(var n,s=r(e),a=s.length,c=0;a>c;)o.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var o=n(37),i=n(44);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e,n){var o=n(21),i=n(38),r=n(40)(!1),s=n(43)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n);for(;e.length>c;)o(a,n=e[c++])&&(~r(l,n)||l.push(n));return l}},function(t,e,n){var o=n(39),i=n(26);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(5);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(38),i=n(41),r=n(42);t.exports=function(t){return function(e,n,s){var a,c=o(e),l=i(c.length),u=r(s,l);if(t&&n!=n){for(;l>u;)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var o=n(25),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e,n){var o=n(25),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(7)("keys"),i=n(9);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(8).document&&document.documentElement},function(t,e,n){var o=n(12).f,i=n(21),r=n(6)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(21),i=n(48),r=n(43)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var o=n(26);t.exports=function(t){return Object(o(t))}},function(t,e,n){for(var o=n(50),i=n(10),r=n(8),s=n(11),a=n(32),c=n(6),l=c("iterator"),u=c("toStringTag"),p=a.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;h<5;h++){var g,f=d[h],y=r[f],m=y&&y.prototype;if(m){m[l]||s(m,l,p),m[u]||s(m,u,f),a[f]=p;for(g in o)m[g]||i(m,g,o[g],!0)}}},function(t,e,n){"use strict";var o=n(51),i=n(52),r=n(32),s=n(38);t.exports=n(27)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var o=n(6)("unscopables"),i=Array.prototype;void 0==i[o]&&n(11)(i,o,{}),t.exports=function(t){i[o][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var o,i,r,s=n(28),a=n(8),c=n(30),l=n(4),u=n(29),p=n(14),d=n(31),h=n(54),g=n(55),f=n(59),y=n(60).set,m=n(62)(),v="Promise",b=a.TypeError,I=a.process,C=a[v],I=a.process,S="process"==l(I),w=function(){},M=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(6)("species")]=function(t){t(w,w)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof e}catch(o){}}(),L=function(t,e){return t===e||t===C&&e===r},D=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},T=function(t){return L(C,t)?new x(t):new i(t)},x=i=function(t){var e,n;this.promise=new t(function(t,o){if(void 0!==e||void 0!==n)throw b("Bad Promise constructor");e=t,n=o}),this.resolve=d(e),this.reject=d(n)},P=function(t){try{t()}catch(e){return{error:e}}},j=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var o=t._v,i=1==t._s,r=0,s=function(e){var n,r,s=i?e.ok:e.fail,a=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&O(t),t._h=1),s===!0?n=o:(l&&l.enter(),n=s(o),l&&l.exit()),n===e.promise?c(b("Promise-chain cycle")):(r=D(n))?r.call(n,a,c):a(n)):c(o)}catch(u){c(u)}};n.length>r;)s(n[r++]);t._c=[],t._n=!1,e&&!t._h&&z(t)})}},z=function(t){y.call(a,function(){var e,n,o,i=t._v;if(E(t)&&(e=P(function(){S?I.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(o=a.console)&&o.error&&o.error("Unhandled promise rejection",i)}),t._h=S||E(t)?2:1),t._a=void 0,e)throw e.error})},E=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,o=0;n.length>o;)if(e=n[o++],e.fail||!E(e.promise))return!1;return!0},O=function(t){y.call(a,function(){var e;S?I.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},A=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw b("Promise can't be resolved itself");(e=D(t))?m(function(){var o={_w:n,_d:!1};try{e.call(t,c(A,o,1),c(N,o,1))}catch(i){N.call(o,i)}}):(n._v=t,n._s=1,j(n,!1))}catch(o){N.call({_w:n,_d:!1},o)}}};M||(C=function(t){h(this,C,v,"_h"),d(t),o.call(this);try{t(c(A,this,1),c(N,this,1))}catch(e){N.call(this,e)}},o=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=n(63)(C.prototype,{then:function(t,e){var n=T(f(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),x=function(){var t=new o;this.promise=t,this.resolve=c(A,t,1),this.reject=c(N,t,1)}),u(u.G+u.W+u.F*!M,{Promise:C}),n(46)(C,v),n(64)(v),r=n(22)[v],u(u.S+u.F*!M,v,{reject:function(t){var e=T(this),n=e.reject;return n(t),e.promise}}),u(u.S+u.F*(s||!M),v,{resolve:function(t){if(t instanceof C&&L(t.constructor,this))return t;var e=T(this),n=e.resolve;return n(t),e.promise}}),u(u.S+u.F*!(M&&n(65)(function(t){C.all(t)["catch"](w)})),v,{all:function(t){var e=this,n=T(e),o=n.resolve,i=n.reject,r=P(function(){var n=[],r=0,s=1;g(t,!1,function(t){var a=r++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||o(n))},i)}),--s||o(n)});return r&&i(r.error),n.promise},race:function(t){var e=this,n=T(e),o=n.reject,i=P(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,o)})});return i&&o(i.error),n.promise}})},function(t,e){t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var o=n(30),i=n(56),r=n(57),s=n(13),a=n(41),c=n(58),l={},u={},e=t.exports=function(t,e,n,p,d){var h,g,f,y,m=d?function(){return t}:c(t),v=o(n,p,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(h=a(t.length);h>b;b++)if(y=e?v(s(g=t[b])[0],g[1]):v(t[b]),y===l||y===u)return y}else for(f=m.call(t);!(g=f.next()).done;)if(y=i(f,v,g.value,e),y===l||y===u)return y};e.BREAK=l,e.RETURN=u},function(t,e,n){var o=n(13);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(r){var s=t["return"];throw void 0!==s&&o(s.call(t)),r}}},function(t,e,n){var o=n(32),i=n(6)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},function(t,e,n){var o=n(4),i=n(6)("iterator"),r=n(32);t.exports=n(22).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},function(t,e,n){var o=n(13),i=n(31),r=n(6)("species");t.exports=function(t,e){var n,s=o(t).constructor;return void 0===s||void 0==(n=o(s)[r])?e:i(n)}},function(t,e,n){var o,i,r,s=n(30),a=n(61),c=n(45),l=n(18),u=n(8),p=u.process,d=u.setImmediate,h=u.clearImmediate,g=u.MessageChannel,f=0,y={},m="onreadystatechange",v=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){v.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++f]=function(){a("function"==typeof t?t:Function(t),e)},o(f),f},h=function(t){delete y[t]},"process"==n(5)(p)?o=function(t){p.nextTick(s(v,t,1))}:g?(i=new g,r=i.port2,i.port1.onmessage=b,o=s(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):o=m in l("script")?function(t){c.appendChild(l("script"))[m]=function(){c.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var o=n(8),i=n(60).set,r=o.MutationObserver||o.WebKitMutationObserver,s=o.process,a=o.Promise,c="process"==n(5)(s);t.exports=function(){var t,e,n,l=function(){var o,i;for(c&&(o=s.domain)&&o.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,o&&o.enter()};if(c)n=function(){s.nextTick(l)};else if(r){var u=!0,p=document.createTextNode("");new r(l).observe(p,{characterData:!0}),n=function(){p.data=u=!u}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(l)}}else n=function(){i.call(o,l)};return function(o){var i={fn:o,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var o=n(10);t.exports=function(t,e,n){for(var i in e)o(t,i,e[i],n);return t}},function(t,e,n){"use strict";var o=n(8),i=n(12),r=n(16),s=n(6)("species");t.exports=function(t){var e=o[t];r&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(6)("iterator"),i=!1;try{var r=[7][o]();r["return"]=function(){i=!0},Array.from(r,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r=[7],s=r[o]();s.next=function(){return{done:n=!0}},r[o]=function(){return s},t(r)}catch(a){}return n}},function(t,e){t.exports=React},function(t,e,n){"use strict";n(2);var o=n(68),i=n(75),r=n(68),s=function(){function t(t,e){this.server=t,this.sessionInfo=e}return t.prototype.getComments=function(e,n){void 0===n&&(n=t.DEFAULT_MAX_ITEMS);var i=this.server.sendRequest(this.getCommentsRequest(n,e));return i.then(function(t){return o.parseCommentPage(t)})},t.prototype.createComment=function(t,e,n){var o=this,i=this.createCommentRequest(t,e,n),r=this.server.sendRequest(i);return r.then(function(t){return o.parseComment(t)})},t.prototype.createVizState=function(){var t={sheet_id:this.sessionInfo.commentableName},e=this.server.sendVizqlRequest(i.generateCreateVizStateRequest(t));return e.then(function(t){return o.parseCommentAttachmentsModel(t)})},t.prototype.getCommentsRequest=function(t,e){var n={commentableId:this.sessionInfo.commentableId,commentableType:this.sessionInfo.commentableType,page:o.createPage(t,e)};return i.generateGetCommentsRequest(n)},t.prototype.createCommentRequest=function(t,e,n){var o={commentableId:this.sessionInfo.commentableId,commentableType:this.sessionInfo.commentableType,plainText:t,markupText:e,vizStateId:n};return i.generateCreateCommentRequest(o)},t.prototype.parseComment=function(t){var e={id:this.sessionInfo.userSessionInfo.id,displayName:this.sessionInfo.userSessionInfo.displayName,userImageUrl:this.sessionInfo.userSessionInfo.userImageUrl};return r.parseCommentModel(t,e)},t.DEFAULT_MAX_ITEMS=1e3,t}();e.CommentingApiService=s},function(t,e,n){"use strict";function o(t){var e=t.users.map(function(t){return c(t)}),n={totalCount:t.totalCount,moreItems:t.moreItems,comments:t.comments.map(function(t){return i(t,e)})};return n}function i(t,e){var n=e.find(function(e){return e.id===t.authorId});return r(t,n)}function r(t,e){var n={id:t.id,text:t.text,createdAt:new Date(t.createdAt),author:e};return t.mentions&&(n.mentions=s(t.mentions)),t.commentAttachments&&(n.commentAttachments=a(t.commentAttachments)),n}function s(t){return t.map(function(t){var e={id:t.id,indices:t.indices};return e})}function a(t){return{vizState:{id:t.vizState.id,thumbnailUrl:t.vizState.thumbnailUrl,imageUrl:t.vizState.imageUrl}}}function c(t){var e={id:t.id,displayName:t.displayName,userImageUrl:t.userImageUrl};return e}function l(t,e){var n=e?e*t:0;return{startIndex:n,maxItems:t}}function u(t){var e={totalCount:t.totalCount,moreItems:t.moreItems,users:t.users.map(function(t){return c(t)})};return e}function p(t,e){return t.find(function(t){return t.id===e})}function d(t){return null!=t&&t.length>0}n(69),e.parseCommentPage=o,e.parseCommentModel=r,e.parseCommentAttachmentsModel=a,e.parseUserModel=c,e.createPage=l,e.parseUserPage=u,e.getCommentById=p,e.listHasContent=d},function(t,e,n){n(70),t.exports=n(22).Array.find},function(t,e,n){"use strict";var o=n(29),i=n(71)(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),o(o.P+o.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(51)(r)},function(t,e,n){var o=n(30),i=n(39),r=n(48),s=n(41),a=n(72);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,p=6==t,d=5==t||p,h=e||a;return function(e,a,g){for(var f,y,m=r(e),v=i(m),b=o(a,g,3),I=s(v.length),C=0,S=n?h(e,I):c?h(e,0):void 0;I>C;C++)if((d||C in v)&&(f=v[C],y=b(f,C,m),t))if(n)S[C]=y;else if(y)switch(t){case 3:return!0;case 5:return f;case 6:return C;case 2:S.push(f)}else if(u)return!1;return p?-1:l||u?u:S}}},function(t,e,n){var o=n(73);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(14),i=n(74),r=n(6)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var o=n(5);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e){"use strict";function n(t){return{method:"newCreateComment",params:t}}function o(t){return{method:"newGetComments",params:t}}function i(t){return{method:"getUsers",params:t}}function r(t){return{method:"create_viz_state",params:t}}e.generateCreateCommentRequest=n,e.generateGetCommentsRequest=o,e.generateGetUsersRequest=i,e.generateCreateVizStateRequest=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(77),s=n(81),a=n(206),c=n(218),l=n(68),u=1e3,p=function(t){function e(e,n){var o=this;t.call(this,e),this.boundStoreChanged=this.onStoreChanged.bind(this),this.getComments=function(){o.store.dispatch(c.getCommentsAction(o.props.commentingService))},this.displayVizStateForComment=function(t){var e=l.getCommentById(o.state.comments,t);if(e&&e.commentAttachments&&e.commentAttachments.vizState){var n={id:e.commentAttachments.vizState.id,authorName:e.author.displayName,url:e.commentAttachments.vizState.imageUrl};o.props.displayVizState(n)}},this.store=n.store,this.state=this.store.getState().commentingPane}return o(e,t),e.prototype.getChildContext=function(){return{commentingService:this.props.commentingService,userService:this.props.userService}},e.prototype.componentDidMount=function(){this.unsubscribe=this.store.subscribe(this.boundStoreChanged),this.getComments(),this.pollForComments()},e.prototype.componentWillUnmount=function(){clearInterval(this.pollingIntervalId),this.unsubscribe()},e.prototype.shouldComponentUpdate=function(t,e){return JSON.stringify(this.state)!==JSON.stringify(e)},e.prototype.render=function(){return i.createElement("div",{className:"tab-commenting-pane",style:r.commentingPaneStyle},i.createElement(s.CommentList,{comments:this.state.comments,onThumbnailClick:this.displayVizStateForComment}),i.createElement(a.CreateCommentContainer,null))},e.prototype.pollForComments=function(){this.pollingIntervalId=setInterval(this.getComments,u)},e.prototype.onStoreChanged=function(){this.setState(this.store.getState().commentingPane)},e.contextTypes={store:i.PropTypes.object.isRequired},e.childContextTypes={commentingService:i.PropTypes.object.isRequired,userService:i.PropTypes.object.isRequired},e}(i.Component);e.CommentingPane=p},function(t,e,n){"use strict";var o=n(78),i=o.SharedStyles.Colors,r=o.SharedStyles.Sizing,s={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",flexDirection:"column",boxSizing:"border-box",borderLeftStyle:"solid",borderLeftWidth:r.BorderWidth,borderLeftColor:i.L6,backgroundColor:i.White};e.commentingPaneStyle=s},function(t,e,n){"use strict";var o=n(79),i=o.TabStyles;e.SharedStyles=i;var r={White:"255, 255, 255",Black:"0, 0, 0"};e.CommentingColorsRGB=r;var s={Height:"67px",Width:"76px",BannerTopMargin:"85px",TitleFontSize:"18px",SubtitleFontSize:"13px"};e.CommentingBannerMetrics=s},function(t,e,n){"use strict";var o=n(80),i=6,r=i,s="Benton Sans, Arial, Helvetica, sans-serif",a={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},c={PrimaryDark:"rgba(0, 0, 0, 0.90)",Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.56)",SubHead:"rgba(0, 0, 0, 0.40)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 1)",InvertedSecondary:"rgba(255, 255, 255, .56)",InvertedDisabled:"rgba(255, 255, 255, .35)"},l={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.35)"},u={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",Focus:"rgb(52, 152, 219)",L1:l.Grey250,L2:l.Grey245,L2_5:l.Grey235,L3:l.Grey230,L4:l.Grey225,L5:l.Grey212,L6:l.Grey203,L7:l.Grey180,L8:l.Grey102,L9:l.Grey51,L9Disabled:l.Grey51Disabled,F1:l.Grey250,F2:l.Grey245,F2_5:l.Grey235,F3:l.Grey230,F4:l.Grey225,F5:l.Grey212,F6:l.Grey203,F7:l.Grey180,F7Disabled:l.Grey180Disabled,F8:l.Grey102,F9:l.Grey51},p={Colors:u,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:i/2,DefaultSpace:i,MediumSpace:2*i,LargeSpace:3*i},Sizing:{BaseUnit:r,RowHeight:24,ButtonMinWidth:15*r,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:r/2,ListRowHeight:20,MultiLineInputLineHeight:14},Typography:{FontFamily:s,Sizing:a,Color:c},Opacity:{OpaqueGlass:.33,ClearGlass:.01}};e.TabStyles=p;var d=function(t){p.Colors=o.assign({},p.Colors,t.Colors),p.Opacity=o.assign({},p.Opacity,t.Opacity),p.Shadow=o.assign({},p.Shadow,t.Shadow),p.Sizing=o.assign({},p.Sizing,t.Sizing),p.Spacing=o.assign({},p.Spacing,t.Spacing),t.Typography&&(p.Typography.FontFamily=t.Typography.FontFamily?t.Typography.FontFamily:p.Typography.FontFamily,p.Typography.Color=o.assign({},p.Typography.Color,t.Typography.Color),p.Typography.Sizing=o.assign({},p.Typography.Sizing,t.Typography.Sizing))};e.overrideTabStyles=d},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("assign cannot be called with null or undefined");return Object(t)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=Object.assign||function(t,e){for(var r,s,a=n(t),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var l in r)o.call(r,l)&&(a[l]=r[l]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var u=0;u<s.length;u++)i.call(r,s[u])&&(a[s[u]]=r[s[u]])}}return a};e.assign=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=n(66),s=n(82),a=n(83),c=n(120),l=n(204),u=n(122),p=n(130),d=n(68),h=function(t,e){return{authorName:t.author.displayName,authorProfileImage:t.author.userImageUrl,createdAt:t.createdAt,text:t.text,mentions:t.mentions,attachments:t.commentAttachments,commentId:t.id,key:t.id,onThumbnailClick:e}},g="commenting-comments-list-container",f="commenting-comments-list";e.commentListClass=f;var y=function(t){function e(){var e=this;t.apply(this,arguments),this.renderCommentList=function(){var t=e.props.onThumbnailClick,n=e.props.comments.map(function(e){var n=h(e,t);return r.createElement(c.Comment,i({},n))});return r.createElement("div",{className:f,style:a.commentList},n)},this.renderCommentingBanner=function(){var t={icon:u.emptyCommentListIcon,title:p.getLocalizedString("noCommentsInView"),subtitle:p.getLocalizedString("promptAtMentions")};return r.createElement(l.CommentingBanner,i({},t))}}return o(e,t),e.prototype.render=function(){var t,e;return d.listHasContent(this.props.comments)?(t=this.renderCommentList,e=a.commentListContainer):(t=this.renderCommentingBanner,e=a.commentListContainerNoComments),r.createElement("div",{className:g,style:e},t())},e.prototype.componentDidMount=function(){this.scrollToBottom()},e.prototype.componentDidUpdate=function(){this.scrollToBottom()},e.prototype.scrollToBottom=function(){var t=s.findDOMNode(this);t.scrollTop=t.scrollHeight},e}(r.Component);e.CommentList=y},function(t,e){t.exports=ReactDOM},function(t,e,n){"use strict";var o=n(84),i=n(78),r=i.SharedStyles.Colors,s=i.SharedStyles.Spacing,a={flexGrow:1,flexShrink:1,flexBasis:"auto",overflow:"auto"};e.commentListContainer=a;var c=o({},a,{backgroundColor:r.F1});e.commentListContainerNoComments=c;var l={paddingLeft:s.LargeSpace,paddingRight:s.LargeSpace};e.commentList=l},function(t,e,n){n(85),t.exports=n(88).Object.assign},function(t,e,n){var o=n(86);o(o.S+o.F,"Object",{assign:n(101)})},function(t,e,n){var o=n(87),i=n(88),r=n(89),s=n(91),a="prototype",c=function(t,e,n){var l,u,p,d=t&c.F,h=t&c.G,g=t&c.S,f=t&c.P,y=t&c.B,m=t&c.W,v=h?i:i[e]||(i[e]={}),b=v[a],I=h?o:g?o[e]:(o[e]||{})[a];h&&(n=e);for(l in n)u=!d&&I&&void 0!==I[l],u&&l in v||(p=u?I[l]:n[l],v[l]=h&&"function"!=typeof I[l]?n[l]:y&&u?r(p,o):m&&I[l]==p?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[a]=t[a],e}(p):f&&"function"==typeof p?r(Function.call,p):p,f&&((v.virtual||(v.virtual={}))[l]=p,t&c.R&&b&&!b[l]&&s(b,l,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var o=n(90);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(92),i=n(100);t.exports=n(96)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(93),i=n(95),r=n(99),s=Object.defineProperty;e.f=n(96)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var o=n(94);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(96)&&!n(97)(function(){return 7!=Object.defineProperty(n(98)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(97)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var o=n(94),i=n(87).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){var o=n(94);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(102),i=n(117),r=n(118),s=n(119),a=n(106),c=Object.assign;t.exports=!c||n(97)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=o})?function(t,e){for(var n=s(t),c=arguments.length,l=1,u=i.f,p=r.f;c>l;)for(var d,h=a(arguments[l++]),g=u?o(h).concat(u(h)):o(h),f=g.length,y=0;f>y;)p.call(h,d=g[y++])&&(n[d]=h[d]);return n}:c},function(t,e,n){var o=n(103),i=n(116);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e,n){var o=n(104),i=n(105),r=n(109)(!1),s=n(113)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n);for(;e.length>c;)o(a,n=e[c++])&&(~r(l,n)||l.push(n));return l}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(106),i=n(108);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(107);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(105),i=n(110),r=n(112);t.exports=function(t){return function(e,n,s){var a,c=o(e),l=i(c.length),u=r(s,l);if(t&&n!=n){for(;l>u;)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var o=n(111),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(111),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(114)("keys"),i=n(115);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(87),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(108);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=n(66),s=n(121),a=n(123),c=n(127),l=n(128),u=function(t){function e(){var e=this;t.apply(this,arguments),this.renderThumbnail=function(){if(e.props.attachments&&e.props.attachments.vizState){var t=e.props.attachments.vizState.thumbnailUrl,n={thumbnailUrl:t,displayOverlay:!0,pointerClick:function(){return e.props.onThumbnailClick(e.props.commentId)}};return r.createElement(l.VizStateThumbnail,i({},n))}}}return o(e,t),e.prototype.render=function(){var t={text:this.props.text,mentions:this.props.mentions};return r.createElement("div",{className:"commenting-comment",style:s.comment},r.createElement("div",{className:"commenting-user-profile-image",style:s.userProfileImage(this.props.authorProfileImage)}),r.createElement("div",{className:"commenting-text-container",style:s.commentTextContainer},r.createElement("div",{className:"commenting-content-header",style:s.contentHeader},r.createElement("span",{className:"commenting-user-name",style:s.authorName},this.props.authorName),r.createElement("span",{className:"commenting-created-at",style:s.createdAt},c.DateUtils.getFormattedDateString(this.props.createdAt))),r.createElement("div",{className:"commenting-content-body",style:s.contentBody},r.createElement(a.CommentContent,i({},t)),this.renderThumbnail())))},e}(r.Component);e.Comment=u},function(t,e,n){"use strict";function o(t){var e=t||r.defaultUserProfileIcon,n={width:m,height:m,borderRadius:m/2,backgroundSize:"cover",backgroundClip:"content-box",backgroundPosition:"center center",backgroundRepeat:"no-repeat",borderWidth:a.BorderWidth,borderColor:s.Transparent,borderStyle:"solid",backgroundImage:"url("+e+")",marginRight:c.MediumSpace,boxSizing:"border-box"};return n}var i=n(78),r=n(122),s=i.SharedStyles.Colors,a=i.SharedStyles.Sizing,c=i.SharedStyles.Spacing,l=i.SharedStyles.Typography,u=24,p={marginTop:u,display:"flex",flexDirection:"row",alignItems:"stretch",color:l.Color.Primary};e.comment=p;var d={flex:1,overflow:"hidden"};e.commentTextContainer=d;var h={flexShrink:0,justifyContent:"space-between",display:"flex"};e.contentHeader=h;var g={marginRight:c.MediumSpace,fontWeight:"bold",fontSize:l.Sizing.Default,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};e.authorName=g;var f={flexShrink:0,fontSize:l.Sizing.Small,color:l.Color.Secondary};e.createdAt=f;var y={marginTop:c.DefaultSpace};e.contentBody=y;var m=40;e.userProfileImage=o},function(t,e){"use strict";var n="/img",o={hover:n+"/take_snapshot_hover.svg",active:n+"/take_snapshot_normal.svg"};e.createVizStateIcon=o;var i=n+"/comment_bubble_large.svg";e.emptyCommentListIcon=i;var r=n+"/user_content_type.svg";e.defaultUserProfileIcon=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=n(66),s=n(124),a=n(125),c=function(t,e){return{key:e.id,userId:e.id,displayName:t.slice(e.indices[0],e.indices[1])}},l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.generateCommentHTML=function(t,e){return e?this.parseCommentHTML(t,e.sort(this.sortByUserIndexAscending)):[t]},e.prototype.sortByUserIndexAscending=function(t,e){return t.indices[0]>e.indices[0]?1:-1},e.prototype.parseCommentHTML=function(t,e){for(var n=[],o=0,s=0,l=e;s<l.length;s++){var u=l[s];n.push(t.slice(o,u.indices[0])),n.push(r.createElement(a.Mention,i({},c(t,u)))),o=u.indices[1]}return o<t.length&&n.push(t.slice(o)),n},e.prototype.render=function(){return r.createElement("div",{className:"commenting-comment-content",style:s.commentContent},this.generateCommentHTML(this.props.text,this.props.mentions))},e}(r.Component);e.CommentContent=l},function(t,e,n){"use strict";var o=n(78),i=o.SharedStyles.Sizing,r=o.SharedStyles.Typography,s={fontSize:r.Sizing.Large,lineHeight:i.ListRowHeight+"px",wordWrap:"break-word",whiteSpace:"pre-wrap"};e.commentContent=s},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(126),s=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return i.createElement("span",{style:r.mention},i.createElement("a",{style:r.mentionLink},this.props.displayName))},e}(i.Component);e.Mention=s},function(t,e,n){"use strict";var o=n(78),i=o.SharedStyles.Colors,r=o.SharedStyles.Sizing,s=o.SharedStyles.Spacing,a=o.SharedStyles.Typography,c=2,l={background:i.F2,padding:c,borderWidth:r.BorderWidth,borderColor:i.L6,borderStyle:"solid",borderRadius:s.SmallSpace};e.mention=l;var u={color:i.DiscreteDark,fontSize:a.Sizing.Large};e.mentionLink=u},function(t,e){"use strict";var n=function(){function t(){}return t.getFormattedDateString=function(t,e){return void 0===e&&(e="en-US"),t.toLocaleString(e,this.getDateFormat(t))},t.getDateFormat=function(e){return this.isSameDay(e)?t.ShortDateFormat:t.MediumDateFormat},t.isSameDay=function(t){var e=new Date;return t.toDateString()===e.toDateString()},t.ShortDateFormat={hour:"numeric",minute:"2-digit"},t.MediumDateFormat={month:"short",day:"numeric",hour:"numeric",minute:"2-digit"},t}();e.DateUtils=n},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=n(66),a=n(129),c=n(130),l=n(131),u="commenting-comment-thumbnail";e.thumbnailClass=u;var p="commenting-comment-thumbnail-container",d="commenting-comment-thumbnail-overlay";e.thumbnailOverlayClass=d;var h="commenting-thumbnail-view";e.viewButtonClass=h;var g=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t={disabled:!this.shouldShowOverlay(),interactiveStyles:{disabled:a.viewButtonDisabled,hover:a.viewButtonHover}};return s.createElement("div",{className:p,style:a.vizStateThumbnailContainer},s.createElement("div",{className:u,style:a.vizStateThumbnail(this.props.thumbnailUrl)}),s.createElement("div",{className:d,style:this.getOverlayStyle()}),s.createElement("div",{style:this.getButtonContainerStyle()},s.createElement(l.InteractiveDomWrapper,i({},t),s.createElement("div",{className:h,style:a.viewButtonBaseStyle},c.getLocalizedString("viewSnapshot")))))},e.prototype.shouldShowOverlay=function(){return this.props.displayOverlay&&this.state.hover},e.prototype.getOverlayStyle=function(){return this.shouldShowOverlay()?a.vizStateThumbnailOverlay:a.hideVizStateThumbnailOverlay},e.prototype.getButtonContainerStyle=function(){return this.shouldShowOverlay()?a.viewButtonContainerHover:a.viewButtonContainer},e=r([l.InteractiveDomHoCDecorator],e)}(s.Component);e.VizStateThumbnail=g},function(t,e,n){"use strict";var o=n(84),i=n(78),r=n(78),s=r.SharedStyles.Colors,a=r.SharedStyles.Sizing,c=r.SharedStyles.Spacing,l=r.SharedStyles.Typography,u=160,p=208,d=136,h=36,g=8,f=p-2*g,y=u-2*g,m={position:"relative",marginTop:c.MediumSpace,marginLeft:c.SmallSpace,marginBottom:c.SmallSpace,width:p,height:u,boxShadow:"0px 1px 4px 0px rgba("+i.CommentingColorsRGB.Black+", 0.25)"};e.vizStateThumbnailContainer=m;var v={position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:s.Black,opacity:.7};e.vizStateThumbnailOverlay=v;var b=o({},v,{display:"none"});e.hideVizStateThumbnailOverlay=b;var I={width:f,height:y,borderWidth:g,borderStyle:"solid",borderColor:s.White,position:"absolute",top:0,left:0,backgroundSize:"cover"},C=function(t){var e={backgroundImage:"url("+t+")"};return o({},I,e)};e.vizStateThumbnail=C;var S={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%"};e.viewButtonContainer=S;var w=o({},S,{cursor:"pointer"});e.viewButtonContainerHover=w;var M={width:d,height:h,borderRadius:a.BorderWidth,borderStyle:"solid",borderColor:"rgba("+i.CommentingColorsRGB.White+", 0.7)",borderWidth:a.BorderWidth,boxSizing:"border-box",textAlign:"center",fontSize:l.Sizing.Large,fontWeight:"bold",letterSpacing:"0.1em",lineHeight:"36px",backgroundColor:"rgba("+i.CommentingColorsRGB.White+", 0.07)",color:s.White};e.viewButtonBaseStyle=M;var L=o({},M,{backgroundColor:"rgba("+i.CommentingColorsRGB.White+", 0.18)",borderColor:s.White});e.viewButtonHover=L;var D=o({},M,{display:"none"});e.viewButtonDisabled=D},function(t,e){"use strict";function n(t){return o[t]}var o={enterComment:"Enter a Comment",noCommentsInView:"No comments on this view.",promptAtMentions:"@Mention someone to notify them.",post:"Post",viewSnapshot:"View"};e.getLocalizedString=n},function(t,e,n){"use strict";var o=n(132);e.SuppressClickBustingClass=o.SuppressClickBustingClass;var i=n(133);e.setConfig=i.setConfig;var r=n(79);e.TabStyles=r.TabStyles;var s=n(80);e.assign=s.assign;var a=n(138);e.conditional=a.conditional,e.testId=a.testId,e.isAlphabeticChar=a.isAlphabeticChar;var c=n(139);e.InteractiveDomHoC=c.InteractiveDomHoC,e.InteractiveDomHoCDecorator=c.InteractiveDomHoCDecorator,e.InteractiveDomWrapper=c.InteractiveDomWrapper;var l=n(144);e.VerticalOriginOption=l.VerticalOriginOption,e.HorizontalOriginOption=l.HorizontalOriginOption,e.Overlay=l.Overlay;var u=n(141);e.PointerEventAdapterManager=u.PointerEventAdapterManager;var p=n(140);e.PointerEventWrapper=p.PointerEventWrapper,e.PointerEventHoC=p.PointerEventHoC,e.PointerEventHoCDecorator=p.PointerEventHoCDecorator;var d=n(142);e.mergeEventHandlers=d.mergeEventHandlers,e.convertToStatefulComponentClass=d.convertToStatefulComponentClass,e.getComponentName=d.getComponentName;var h=n(154);e.StackingComponentHOC=h.StackingComponentHOC,e.StackingComponentWrapper=h.StackingComponentWrapper;var g=n(155);e.SingletonStyleSheet=g.SingletonStyleSheet,e.StyleSheet=g.StyleSheet;var f=n(156);e.Unicode=f.Unicode;var y=n(157);e.isMouseEvent=y.isMouseEvent,e.isTouchEvent=y.isTouchEvent,e.getClientPosition=y.getClientPosition;var m=n(158);e.ButtonType=m.ButtonType,e.ButtonWidget=m.ButtonWidget;var v=n(160);e.CheckBoxWidget=v.CheckBoxWidget;var b=n(163);e.CheckBoxWithLabelGroupWidget=b.CheckBoxWithLabelGroupWidget;var I=n(164);e.CheckBoxWithLabelWidget=I.CheckBoxWithLabelWidget;var C=n(166);e.DialogPositioningBehavior=C.DialogPositioningBehavior,e.DialogType=C.DialogType,e.DialogFooterButtonsWidget=C.DialogFooterButtonsWidget,e.DialogWidget=C.DialogWidget;var S=n(177);e.DiscreteProgressBarWidget_UNFINISHED=S.DiscreteProgressBarWidget_UNFINISHED;var w=n(161);e.Block=w.Block,e.InlineBlock=w.InlineBlock;var M=n(179);e.DropdownType=M.DropdownType,e.DropdownWidget=M.DropdownWidget;var L=n(159);e.DynamicThemeComponent=L.DynamicThemeComponent;var D=n(181);e.FlyoutListMenuWidget=D.FlyoutListMenuWidget;var T=n(165);e.InputLabelWidget=T.InputLabelWidget;var x=n(186);e.LineTextFieldWidget=x.LineTextFieldWidget;var P=n(189);e.OutlineTextFieldWidget=P.OutlineTextFieldWidget;var j=n(191);e.RadioButtonWithLabelGroupWidget=j.RadioButtonWithLabelGroupWidget;var z=n(194);e.RichTextEditOutlineWidget_UNFINISHED=z.RichTextEditOutlineWidget_UNFINISHED;var E=n(195);e.RichTextEditWidget_UNFINISHED=E.RichTextEditWidget_UNFINISHED;var O=n(196);e.SearchFieldWidget=O.SearchFieldWidget;var N=n(197);e.StepperType=N.StepperType,e.StepperWidget=N.StepperWidget;var A=n(188);e.TextInputType=A.TextInputType;var k=n(202);e.ToggleTextWidget=k.ToggleTextWidget,e.SelectedToggle=k.SelectedToggle},function(t,e){"use strict";e.SuppressClickBustingClass="tabDontBustMyClicks"},function(t,e,n){"use strict";var o=n(79),i=n(134),r=n(135),s=n(136),a=n(137),c=function(t){t.styleMediaQueries&&s.StyleMediaQueryManager.setMediaStyleQueries(t.styleMediaQueries)},l=function(t){t.styles&&(o.overrideTabStyles(t.styles),a.WidgetManager.rerenderWidgets())},u=function(t){t.defaultStackingRootId&&r.StackingRootConfig.setDefaultRootContainerId(t.defaultStackingRootId)},p=function(t){t.defaultScrollingRootId&&i.ScrollingRootConfig.setDefaultRootContainerId(t.defaultScrollingRootId)},d=function(t){l(t),u(t),p(t),c(t)};e.setConfig=d},function(t,e){"use strict";var n=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultScrollingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultScrollingRootId?document.getElementById(t.defaultScrollingRootId):document.body;if(!e)throw Error("Could not find scrolling root with the id scrollingRootId.");return e},t}();e.ScrollingRootConfig=n},function(t,e){"use strict";var n=function(){function t(){}return t.setDefaultRootContainerId=function(e){t.defaultStackingRootId=e},t.getDefaultRootContainer=function(){var e=t.defaultStackingRootId?document.getElementById(t.defaultStackingRootId):document.body;if(!e)throw Error("Could not find stacking root.");return e},t}();e.StackingRootConfig=n},function(t,e,n){"use strict";var o=n(133),i=function(){function t(){}return t.setMediaStyleQueries=function(e){t.mediaQueryLists={};for(var n=0;n<e.length;n++){var o=e[n],i=t.registerMediaQuery(o),r=t.getMediaQueryListListener(o);r(i),i.addListener(r)}},t.registerMediaQuery=function(e){var n=e.mediaQuery;return n in t.mediaQueryLists||(t.mediaQueryLists[n]=window.matchMedia(n)),t.mediaQueryLists[n]},t.getMediaQueryListListener=function(t){return function(e){e.matches?o.setConfig({styles:t.matchingStyle}):o.setConfig({styles:t.nonMatchingStyle})}},t}();e.StyleMediaQueryManager=i},function(t,e){"use strict";var n=function(){function t(){}return t.registerWidget=function(e){t.widgets.push(e)},t.unregisterWidget=function(e){t.widgets=t.widgets.filter(function(t){return t!==e})},t.rerenderWidgets=function(){for(var e=0;e<t.widgets.length;e++)t.widgets[e].forceUpdate()},t.widgets=[],t}();e.WidgetManager=n},function(t,e){"use strict";function n(t,e){return t?e:null}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.join("-")}function i(t){return t&&/^[a-z0-9]$/i.test(t)}e.conditional=n,e.testId=o,e.isAlphabeticChar=i},function(t,e,n){"use strict";function o(t,e){var n=e.props,o=n.disabled,i=n.interactiveStyles;return i?a.assign({},t,e.state.hover&&!o&&i.hover,e.state.focus&&!o&&i.focus,e.state.active&&!o&&i.active,o&&i.disabled):t}function i(t,e){var n=o(e.props.style,t),i=t.props.pointerDown,r={pointerDown:l.mergeEventHandlers(i,function(){t.interactiveIsMounted&&(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0),t.removePointerUpListener||p(t))})},u=e.props,d=u.onMouseOver,h=u.onMouseOut,g=u.onKeyDown,f=u.onKeyUp,y=u.onFocus,m=u.onBlur,v={onMouseOver:l.mergeEventHandlers(d,function(){t.interactiveIsMounted&&(t.setState({hover:!0}),t.props.handleHover&&t.props.handleHover(!0))}),onMouseOut:l.mergeEventHandlers(h,function(){t.interactiveIsMounted&&(t.setState({hover:!1}),t.props.handleHover&&t.props.handleHover(!1))}),onKeyDown:l.mergeEventHandlers(g,function(e){t.interactiveIsMounted&&(" "!==e.key&&"Enter"!==e.key||(t.setState({active:!0}),t.props.handleActive&&t.props.handleActive(!0)))}),onKeyUp:l.mergeEventHandlers(f,function(e){t.interactiveIsMounted&&(" "!==e.key&&"Enter"!==e.key||(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1)))}),onFocus:l.mergeEventHandlers(y,function(){t.interactiveIsMounted&&(t.setState({focus:!0}),t.props.handleFocus&&t.props.handleFocus(!0))}),onBlur:l.mergeEventHandlers(m,function(){t.interactiveIsMounted&&(t.setState({focus:!1}),t.props.handleFocus&&t.props.handleFocus(!1))})},b=a.assign({style:n,disabled:t.props.disabled},v),I=a.assign({},t.props,r),C=s.createElement(c.PointerEventWrapper,I,s.cloneElement(e,b));return C}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(66),a=n(80),c=n(140),l=n(142),u=n(143),p=function(t){var e=function(){t.interactiveIsMounted&&(t.setState({active:!1}),t.props.handleActive&&t.props.handleActive(!1),t.removePointerUpListener(),t.removePointerUpListener=void 0)};t.removePointerUpListener=u.GlobalPointerUpListener.subscribe(e)},d=function(t){function e(e){t.call(this,e),this.state=a.assign({},this.state,{hover:!1,active:!1,focus:!1}),this.interactiveIsMounted=!0}return r(e,t),e.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},e.prototype.render=function(){var t=s.Children.only(this.props.children);return i(this,t)},e}(s.Component);e.InteractiveDomWrapper=d;var h=function(t){var e=l.convertToStatefulComponentClass(t),n=function(n){function o(t){n.call(this,t),this.state=a.assign({},this.state,{hover:!1,active:!1,focus:!1}),this.interactiveIsMounted=!0}return r(o,n),o.prototype.callComponentClassWillUnmount=function(){var t=e.prototype.componentWillUnmount;t&&t.apply(this)},o.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},o.prototype.render=function(){return i(this,n.prototype.render.call(this))},o.displayName="InteractiveDom("+l.getComponentName(t)+")",o}(e);return n};e.InteractiveDomHoC=h;var g=h;e.InteractiveDomHoCDecorator=g},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(82),s=n(141),a=n(142),c=function(t){function e(e){t.call(this,e),this.pointerEventAdapter=s.PointerEventAdapterManager.adapterFactory()}return o(e,t),e.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var t=r.findDOMNode(this);this.pointerEventAdapter.didMount(t,this.props)}},e.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},e.prototype.render=function(){var t=this.pointerEventAdapter.getHtmlAttributes(this.props),e=i.Children.only(this.props.children),n={};Object.keys(t).forEach(function(o){n[o]=a.mergeEventHandlers(t[o],e.props[o])});var o=i.cloneElement(e,n,e.props.children);return o},e}(i.Component);e.PointerEventWrapper=c;var l=function(t){var e=a.convertToStatefulComponentClass(t),n=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return i.createElement(c,this.props,t.prototype.render.call(this))},e}(e);return n.displayName="PointerEventHoC("+a.getComponentName(t)+")",n};e.PointerEventHoC=l;var u=l;e.PointerEventHoCDecorator=u},function(t,e){"use strict";var n=function(){function t(){}return t.prototype.getHtmlAttributes=function(t){var e={onDoubleClick:t.pointerDoubleClick,onMouseDown:t.pointerDown,onMouseUp:t.pointerUp,onClick:t.pointerClick};return e},t}(),o=function(){function t(){}return t.adapterFactory=function(){return new n},t}();e.PointerEventAdapterManager=o},function(t,e,n){"use strict";function o(t){return!t.prototype.render}function i(t){if(o(t)){var e=t;return function(t){function n(){t.apply(this,arguments)}return a(n,t),n.prototype.render=function(){return e(this.props)},n.displayName=s(e),n}(c.Component)}return t}function r(t,e){return t&&e&&function(n){t(n),e(n)}||t||e}function s(t){return t.displayName||t.name||"AnonymousComponent"}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n(66);e.convertToStatefulComponentClass=i,e.mergeEventHandlers=r,e.getComponentName=s},function(t,e){"use strict";var n=function(){function t(){}return t.subscribe=function(t){return window.addEventListener("mouseup",t),window.addEventListener("touchend",t),function(){window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t)}},t}();e.GlobalPointerUpListener=n},function(t,e,n){"use strict";var o,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(66),s=n(66),a=n(82),c=n(145),l=n(154),u=n(135),p=n(134),d=100,h=50;!function(t){t[t.top=0]="top",t[t.centerY=1]="centerY",t[t.bottom=2]="bottom"}(o||(o={})),e.VerticalOriginOption=o;var g;!function(t){t[t.left=0]="left",t[t.centerX=1]="centerX",t[t.right=2]="right"}(g||(g={})),e.HorizontalOriginOption=g;var f=function(t){function e(){var e=this;t.apply(this,arguments),this.onResize=c(function(){return e.setPlacement()},d)}return i(e,t),e.prototype.componentDidMount=function(){this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize)},e.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},e.prototype.componentDidUpdate=function(t){this.resetScrollingRootBehaviorIfNeeded(t),this.setPlacement()},e.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},e.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},e.prototype.resetScrollingRootBehaviorIfNeeded=function(t){t.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&t.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},e.prototype.setOnScroll=function(){var t=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var e=function(){t.props.shouldAutoPositionOnScrollingRootScroll&&t.setPlacement(),t.props.handleScrollOnScrollingRoot&&t.props.handleScrollOnScrollingRoot()};this.onScroll=c(e,h)}else this.onScroll=null},e.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):p.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},e.prototype.getAnchorPosition=function(){var t=this.props.anchorEl?this.props.anchorEl:a.findDOMNode(this),e=t.getBoundingClientRect(),n=t.offsetWidth,o=t.offsetHeight,i={top:e.top,left:e.left};return i.right=e.right||i.left+n,i.bottom=e.bottom||i.top+o,i.centerX=i.left+(i.right-i.left)/2,i.centerY=i.top+(i.bottom-i.top)/2,i},e.prototype.getStackedElCurrentPosition=function(){var t=this.getStackedEl();return{top:0,centerX:t.offsetHeight/2,bottom:t.offsetHeight,left:0,centerY:t.offsetWidth/2,right:t.offsetWidth}},e.prototype.getContainerRect=function(){var t=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):u.StackingRootConfig.getDefaultRootContainer();if(!t)throw Error("Could not find stacking root.");return t.getBoundingClientRect()},e.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var t=this.getStackedElAdjustedPosition(),e=this.getStackedEl();e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.position="absolute"}},e.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},e.prototype.getStackedElAdjustedPosition=function(){var t=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(t=this.getAutoPositionIfNeeded(t));var e=this.getAdjustStackedElPositionForContainer(t);return e},e.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},e.prototype.getAdjustStackedElPositionForContainer=function(t){var e=this.getContainerRect(),n={top:t.top-e.top,left:t.left-e.left};return n},e.prototype.getStackedElViewportPosition=function(t,e){var n=this.getAnchorPosition(),i=this.getStackedElCurrentPosition(),r=o[t.vertical],s=g[t.horizontal],a=o[e.vertical],c=g[e.horizontal],l=n[r],u=n[s],p=i[a],d=i[c],h={top:l-p,left:u-d};return h},e.prototype.getAutoPositionIfNeeded=function(t){var e=this.getStackedElCurrentPosition(),n=this.getOppositeOriginPosition(),o=t.top<0||t.top+e.bottom>window.innerHeight,i=t.left<0||t.left+e.right>window.innerWidth;return o&&n.top+e.bottom<=window.innerHeight&&(t.top=Math.max(0,n.top)),i&&n.left+e.right<=window.innerWidth&&(t.left=Math.max(0,n.left)),t},e.prototype.getOppositeOriginPosition=function(){var t=this.getOppositeOriginsOptions(this.props.anchorOrigin),e=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(t,e)},e.prototype.getOppositeOriginsOptions=function(t){return{horizontal:this.getOppositeHorizontalOption(t.horizontal),vertical:this.getOppositeVerticalOption(t.vertical)}},e.prototype.getOppositeVerticalOption=function(t){return t===o.centerY?o.centerY:t===o.top?o.bottom:o.top},e.prototype.getOppositeHorizontalOption=function(t){return t===g.centerX?g.centerX:t===g.left?g.right:g.left},e.prototype.setStackingWrapper=function(t){this.stackingWrapper=t,this.setPlacement()},e.prototype.render=function(){var t=this;return s.createElement("div",{display:"none"},s.createElement(l.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(e){return t.setStackingWrapper(e)},zIndex:this.props.zIndex},this.props.children))},e.defaultProps={anchorOrigin:{vertical:o.top,horizontal:g.left},stackedOrigin:{vertical:o.top,horizontal:g.left}},e}(r.Component);e.Overlay=f},function(t,e,n){function o(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError(s);return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(t,e,{leading:o,maxWait:e,trailing:a})}var i=n(146),r=n(147),s="Expected a function";t.exports=o},function(t,e,n){function o(t,e,n){function o(e){var n=v,o=b;return v=b=void 0,M=e,C=t.apply(o,n)}function u(t){return M=t,S=setTimeout(h,e),L?o(t):C}function p(t){var n=t-w,o=t-M,i=e-n;return D?l(i,I-o):i}function d(t){var n=t-w,o=t-M;return void 0===w||n>=e||n<0||D&&o>=I}function h(){var t=r();return d(t)?g(t):void(S=setTimeout(h,p(t)))}function g(t){return S=void 0,T&&v?o(t):(v=b=void 0,C)}function f(){void 0!==S&&clearTimeout(S),M=0,v=w=b=S=void 0}function y(){return void 0===S?C:g(r())}function m(){var t=r(),n=d(t);if(v=arguments,b=this,w=t,n){if(void 0===S)return u(w);if(D)return S=setTimeout(h,e),o(w)}return void 0===S&&(S=setTimeout(h,e)),C}var v,b,I,C,S,w,M=0,L=!1,D=!1,T=!0;if("function"!=typeof t)throw new TypeError(a);return e=s(e)||0,i(n)&&(L=!!n.leading,D="maxWait"in n,I=D?c(s(n.maxWait)||0,e):I,T="trailing"in n?!!n.trailing:T),m.cancel=f,m.flush=y,m}var i=n(147),r=n(148),s=n(151),a="Expected a function",c=Math.max,l=Math.min;t.exports=o},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var o=n(149),i=function(){return o.Date.now()};t.exports=i},function(t,e,n){var o=n(150),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function o(t){if("number"==typeof t)return t;if(r(t))return s;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||u.test(t)?p(t.slice(2),n?2:8):c.test(t)?s:+t}var i=n(147),r=n(152),s=NaN,a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt;t.exports=o},function(t,e,n){function o(t){return"symbol"==typeof t||i(t)&&a.call(t)==r}var i=n(153),r="[object Symbol]",s=Object.prototype,a=s.toString;t.exports=o},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(82),s=n(135),a=n(142),c=function(t){function e(e){if(t.call(this,e),this.stackingRoot=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):s.StackingRootConfig.getDefaultRootContainer(),!this.stackingRoot)throw Error("Could not find stacking root.");this.warnIfRootIsNotPositioned()}return o(e,t),e.prototype.warnIfRootIsNotPositioned=function(){var t=window.getComputedStyle(this.stackingRoot).position;if("relative"!==t&&"absolute"!==t)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")},e.prototype.componentDidMount=function(){this.renderLayer()},e.prototype.componentDidUpdate=function(){this.renderLayer()},e.prototype.componentWillUnmount=function(){this.unrenderLayer()},e.prototype.getMountPoint=function(){return this.mountPoint},e.prototype.renderLayer=function(){this.createMountPointIfNeeded();var t=i.Children.only(this.props.children);r.unstable_renderSubtreeIntoContainer(this,t,this.mountPoint)},e.prototype.createMountPointIfNeeded=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.stackingRoot.appendChild(this.mountPoint))},e.prototype.unrenderLayer=function(){this.mountPoint&&(r.unmountComponentAtNode(this.mountPoint),this.stackingRoot.removeChild(this.mountPoint),this.mountPoint=null)},e.prototype.render=function(){return null},e}(i.Component);e.StackingComponentWrapper=c,e.StackingComponentHOC=function(t){var e=a.convertToStatefulComponentClass(t),n=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return i.createElement(c,this.props,t.prototype.render.call(this))},e}(e);return n.displayName="StackingComponentHOC("+a.getComponentName(t)+")",n}},function(t,e){"use strict";var n="shared-widgets",o=function(){function t(){if(this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document){var t=document.createElement("style");document.head.appendChild(t);for(var e=0;e<document.styleSheets.length;e++){var n=document.styleSheets[e];n.ownerNode===t&&(this.styleSheet=n)}}}return t.prototype.addRawSelector=function(t,e){var n=this.toRuleBody(e);if(t in this.rawSelectorLookup)throw new Error(t+" has already been defined.");this.rawSelectorLookup[t]=!0,this.addRule(t+" {"+n+"}")},t.prototype.addClass=function(t,e){var o=this.toRuleBody(t),i=this.classNameLookup[o];if(i){if(e&&e!==i)throw new Error("Attempting to define css rule using class name '"+e+"', but a class with the given\n           rule body already exists under class name '"+i+"'. Rule body: "+o+".");return i}return e||(e=n+"_"+this.idCounter++),this.classNameLookup[o]=e,this.addRule("."+e+" {"+o+"}"),e},t.prototype.addAnimation=function(t,e){var n=t.options,o=JSON.stringify(t),i=this.classNameLookup[o];if(i){if(e&&e!==i)throw new Error("Attempting to define css animation using class name '"+e+"', but a css rule with that\n           definition already exists under class name '"+i+"'. Definition: "+t);return i}var r=this.addKeyframes(t.keyframes),s=this.addClass({"animation-duration":n.durationMs/1e3+"s","animation-timing-function":n.timingFunction,"animation-iteration-count":""+(n.count===1/0?"infinite":n.count),"animation-direction":n.direction,"animation-name":r},e);return this.classNameLookup[o]=s,s},t.prototype.dispose=function(){var t=this.styleSheet.ownerNode;t.parentElement.removeChild(t)},t.prototype.addKeyframes=function(t){var e=this,o=t.fromCSSLines,i=t.toCSSLines,r=t.tweenFrames,s=n+"_"+this.idCounter++,a=[{percent:0,cssLines:o},{percent:100,cssLines:i}].concat(r),c=a.map(function(t){return t?t.percent+"% { "+e.toRuleBody(t.cssLines)+" }":""});return this.addRule("@keyframes "+s+" { "+c.join(" ")+"}"),s},t.prototype.toRuleBody=function(t){return Object.keys(t).map(function(e){if(e.toLowerCase()!==e)throw new Error("The CSS prop '"+e+"' should be written kebab-case, not camelCase");return e+": "+t[e]+";"}).join("")},t.prototype.addRule=function(t){try{this.styleSheet.insertRule(t,this.styleSheet.cssRules.length)}catch(e){throw new Error(e+". Stylesheet injection of "+t+" failed.  This browser may not support the given CSS rule or selector")}},t}();e.StyleSheet=o;var i=new o;e.SingletonStyleSheet=i},function(t,e){"use strict";var n={NonBreakingSpace:""};e.Unicode=n},function(t,e){"use strict";function n(t){var e=t;return"number"==typeof e.clientX}function o(t){var e=t;return!!e.touches}function i(t){if(n(t))return{x:t.clientX,y:t.clientY};if(o(t))return{x:t.touches[0].clientX,y:t.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}e.isMouseEvent=n,e.isTouchEvent=o,e.getClientPosition=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(66),s=n(80),a=n(79),c=n(139),l=n(159);!function(t){t[t.Attention=0]="Attention",t[t.Grey=1]="Grey",t[t.Go=2]="Go",t[t.Outline=3]="Outline",t[t.LightOutline=4]="LightOutline",t[t.OutlineGo=5]="OutlineGo",t[t.OutlineAttention=6]="OutlineAttention",t[t.Text=7]="Text",t[t.DarkText=8]="DarkText",t[t.DarkBoldText=9]="DarkBoldText"}(o||(o={})),e.ButtonType=o;var u=a.TabStyles.Colors,p=a.TabStyles.Sizing,d=a.TabStyles.Typography,h=function(){return p.RowHeight},g=function(){return{backgroundColor:u.F7Disabled,borderColor:u.Transparent,color:d.Color.Disabled}},f=function(){return{fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:h(),paddingRight:h(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:p.BorderWidth,borderRadius:p.BorderRadius,height:p.RowHeight,lineHeight:p.RowHeight-2*p.BorderWidth+"px",minWidth:p.ButtonMinWidth,userSelect:"none",boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"}},y=function(){return{base:s.assign({},f(),{backgroundColor:u.AttentionLight,borderColor:u.AttentionLight,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:u.AttentionLight,borderColor:u.AttentionDark,color:d.Color.InvertedPrimary},focus:{backgroundColor:u.AttentionLight,borderColor:u.AttentionDark,color:d.Color.InvertedPrimary},active:{backgroundColor:u.AttentionDark,borderColor:u.AttentionDark,color:d.Color.InvertedPrimary},disabled:g()}}},m=function(){return{base:s.assign({},f(),{backgroundColor:u.GoLight,borderColor:u.GoLight,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:u.GoLight,borderColor:u.GoDark,color:d.Color.InvertedPrimary},focus:{backgroundColor:u.GoLight,borderColor:u.GoDark,color:d.Color.InvertedPrimary},active:{backgroundColor:u.GoDark,borderColor:u.GoDark,color:d.Color.InvertedPrimary},disabled:g()}}},v=function(){return{base:s.assign({},f(),{backgroundColor:u.F5,borderColor:u.L5,color:d.Color.Primary}),interactive:{hover:{backgroundColor:u.F5,borderColor:u.L8,color:d.Color.Primary},focus:{backgroundColor:u.F5,borderColor:u.L8,color:d.Color.Primary},active:{backgroundColor:u.F8,borderColor:u.L8,color:d.Color.InvertedPrimary},disabled:g()}}},b=function(){return{base:s.assign({},f(),{backgroundColor:u.White,borderColor:u.L6,color:d.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:u.White,borderColor:u.L8,color:d.Color.Primary},focus:{backgroundColor:u.White,borderColor:u.Focus,color:d.Color.PrimaryMedium},active:{backgroundColor:u.F2,borderColor:u.L9,color:d.Color.Primary},disabled:s.assign({},g(),{backgroundColor:u.White,borderColor:u.L9Disabled,color:d.Color.Disabled})}}},I=function(){return{base:s.assign({},f(),{backgroundColor:u.Transparent,borderColor:u.L6,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:u.Transparent,borderColor:u.White,color:d.Color.InvertedPrimary},focus:{backgroundColor:u.Transparent,borderColor:u.White,color:d.Color.InvertedPrimary},active:{backgroundColor:u.WhiteTransparent,borderColor:u.White,color:d.Color.InvertedPrimary},disabled:s.assign({},g(),{borderColor:u.WhiteDisabled,backgroundColor:u.Transparent,color:d.Color.InvertedDisabled})}}},C=function(){return{base:s.assign({},f(),{fontWeight:"bold",backgroundColor:u.Transparent,borderColor:u.Transparent,color:u.GoLight}),interactive:{hover:{backgroundColor:u.F2,borderColor:u.F2,color:u.GoLight},focus:{backgroundColor:u.F2,borderColor:u.F2,color:u.GoLight},active:{backgroundColor:u.F2,borderColor:u.F2,color:u.GoDark},disabled:s.assign({},g(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:u.GoDarkDisabled})}}},S=function(){return{base:s.assign({},f(),{backgroundColor:u.White,borderColor:u.GoLight,color:d.Color.PrimaryDark,borderWidth:p.ButtonBorderWidth,lineHeight:p.RowHeight-2*p.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:u.White,borderColor:u.GoDark,color:u.Black},focus:{backgroundColor:u.White,borderColor:u.Focus,color:u.Black},active:{backgroundColor:u.F2,borderColor:u.GoDark,color:u.Black},disabled:s.assign({},g(),{backgroundColor:u.White,borderColor:u.GoDarkDisabled,color:d.Color.Disabled})}}},w=function(){return{base:s.assign({},f(),{backgroundColor:u.White,borderColor:u.AttentionLight,color:d.Color.PrimaryDark,borderWidth:p.ButtonBorderWidth,lineHeight:p.RowHeight-2*p.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:u.White,borderColor:u.AttentionDark,color:u.Black},focus:{backgroundColor:u.White,borderColor:u.Focus,color:u.Black},active:{backgroundColor:u.F2,borderColor:u.AttentionDark,color:u.Black},disabled:s.assign({},g(),{backgroundColor:u.White,borderColor:u.AttentionDarkDisabled,color:d.Color.Disabled})}}},M=function(){return{base:s.assign({},f(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:d.Color.Primary}),interactive:{hover:{backgroundColor:u.F2,borderColor:u.F2,color:d.Color.Primary},focus:{backgroundColor:u.F2,borderColor:u.F2,color:d.Color.Primary},active:{backgroundColor:u.F2_5,borderColor:u.F2_5,color:u.Black},disabled:s.assign({},g(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:d.Color.Disabled})}}},L=function(){return{base:s.assign({},f(),{fontWeight:"bold",backgroundColor:u.Transparent,borderColor:u.Transparent,color:d.Color.Primary}),interactive:{hover:{backgroundColor:u.F2,borderColor:u.F2,color:d.Color.Primary},focus:{backgroundColor:u.F2,borderColor:u.F2,color:d.Color.Primary},active:{backgroundColor:u.F2_5,borderColor:u.F2_5,color:u.Black},disabled:s.assign({},g(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:d.Color.Disabled})}}},D=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleClick=function(){return e.handleClick()},this.boundHandleKeyUp=function(t){return e.handleKeyUp(t)},this.boundHandleKeyDown=function(t){return e.handleKeyDown(t)}}return i(e,t),e.prototype.handleClick=function(){this.props.disabled||this.props.handleClick()},e.prototype.handleKeyUp=function(t){this.props.disabled||" "!==t.key&&"Enter"!==t.key||this.props.handleClick()},e.prototype.handleKeyDown=function(t){" "!==t.key&&"Enter"!==t.key||t.preventDefault()},e.prototype.render=function(){var t;switch(this.props.buttonType){case o.Attention:t=y();break;case o.Grey:t=v();break;case o.Go:t=m();break;case o.Outline:t=b();break;case o.LightOutline:t=I();break;case o.OutlineGo:t=S();break;case o.OutlineAttention:t=w();break;case o.Text:t=C();break;case o.DarkText:t=M();break;case o.DarkBoldText:t=L();break;default:throw new Error("ButtonWidget attempted to render invalid ButtonType: "+this.props.buttonType)}return r.createElement(c.InteractiveDomWrapper,{interactiveStyles:t.interactive,disabled:this.props.disabled,pointerClick:this.boundHandleClick},r.createElement("div",{style:s.assign({},t.base,this.props.style),onKeyUp:this.boundHandleKeyUp,onKeyDown:this.boundHandleKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","data-tb-test-id":this.props.testId+"-Button"},this.props.label,this.props.children))},e}(l.DynamicThemeComponent);e.ButtonWidget=D},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(137),s=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},e.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},e}(i.Component);e.DynamicThemeComponent=s},function(t,e,n){"use strict";function o(t,e){var n;return n=t.checked?t.disabled?l.CheckBoxIcon.selectedDisabled:t.hover||e.hover||e.focus?l.CheckBoxIcon.selectedActive:l.CheckBoxIcon.selected:t.disabled?l.CheckBoxIcon.unselectedDisabled:t.hover||e.hover||e.focus?l.CheckBoxIcon.unselectedActive:l.CheckBoxIcon.unselected}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=n(66),a=n(161),c=n(139),l=n(162),u=n(159),p=n(79),d=function(){return{baseDiv:{marginLeft:p.TabStyles.Spacing.DefaultSpace,marginRight:p.TabStyles.Spacing.DefaultSpace,verticalAlign:"middle",height:l.CheckBoxIcon.height,width:l.CheckBoxIcon.width,minWidth:l.CheckBoxIcon.width,flexShrink:0},checkbox:{opacity:0,height:l.CheckBoxIcon.height,width:l.CheckBoxIcon.width,margin:0,cursor:"default"},fakeCheckBox:{height:l.CheckBoxIcon.height,width:l.CheckBoxIcon.width,position:"absolute"}}},h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(t.target.checked)},e.prototype.render=function(){var t=this,e=o(this.props,this.state),n=d();return s.createElement(a.InlineBlock,{style:n.baseDiv},s.DOM.img({style:n.fakeCheckBox,src:e}),s.DOM.input({style:n.checkbox,type:"checkbox",onChange:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox",id:this.props.id}))},e=r([c.InteractiveDomHoCDecorator],e)}(u.DynamicThemeComponent);e.CheckBoxWidget=h},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(66),s=n(80),a={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},a,this.props.style)}))},e}(i.Component);e.Block=c;var l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},a,{display:"inline-block"},this.props.style)}))},e}(i.Component);e.InlineBlock=l},function(t,e){"use strict";e.CloseButtonIcon={height:14,width:14,enabled:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg==",active:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg=="},e.CheckBoxIcon={height:16,width:16,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTIgICBjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyQzE1LDEuNSwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjcgIGwxLjMsMC44TDcuOSwxMkM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiNDQkNCQ0I7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjUsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC41LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjQsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTE0LDJ2MTJIMlYySDE0IE0xNCwxSDJDMS41LDEsMSwxLjQsMSwydjEyYzAsMC42LDAuNSwxLDEsMWgxMmMwLjYsMCwxLTAuNCwxLTFWMiAgIEMxNSwxLjQsMTQuNiwxLDE0LDFMMTQsMXoiLz4KPC9nPgo8L3N2Zz4="},e.DropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42QzEzLjMsNy4xLDEzLjIsNywxMyw3SDZDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4=",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNS44LDcuM2wzLjUsNC42YzAuMSwwLjEsMC4yLDAuMSwwLjMsMGwzLjYtNC42YzAuMS0wLjIsMC0wLjMtMC4yLTAuM0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2ICBDNS44LDcsNS43LDcuMSw1LjgsNy4zeiIvPgo8L3N2Zz4="},e.MenuItemArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOCAgQzcuMSw1LjcsNyw1LjgsNyw2djdDNywxMy4yLDcuMSwxMy4zLDcuMywxMy4yeiIvPgo8L3N2Zz4="},e.RadioButtonIcon={height:16,width:16,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9yZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8Y2lyY2xlIHN0eWxlPSJmaWxsOiM2NjY3NjY7IiBjeD0iOCIgY3k9IjgiIHI9IjMiLz4KPHBhdGggc3R5bGU9ImZpbGw6IzY2Njc2NjsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMUM0LjEsMSwxLDQuMSwxLDhzMy4xLDcsNyw3czctMy4xLDctNyAgUzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4=",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPGNpcmNsZSBzdHlsZT0iZmlsbDojMzMzMzMzOyIgY3g9IjgiIGN5PSI4IiByPSIzIi8+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNOCwyYzMuMywwLDYsMi43LDYsNnMtMi43LDYtNiw2cy02LTIuNy02LTZTNC43LDIsOCwyIE04LDFDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTcgIFMxMS45LDEsOCwxTDgsMXoiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiNGRkZGRkY7IiBkPSJNOCwxLjVDNC40LDEuNSwxLjUsNC40LDEuNSw4czIuOSw2LjUsNi41LDYuNXM2LjUtMi45LDYuNS02LjVTMTEuNiwxLjUsOCwxLjVMOCwxLjV6Ii8+CjxjaXJjbGUgc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGN4PSI4IiBjeT0iOCIgcj0iMyIvPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxICBDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTdTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJSZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojQ0JDQkNBOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJVbnNlbGVjdGVkX2hvdmVyIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaXNhYmxlZCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMSAgQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03UzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4="},e.StepperRightIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBpZD0ic3ZnXzEiIGZpbGw9IiMzMzMzMzMiIGQ9Im03LjMsMTUuNDM5MjNsNC42LC0zLjVjMC4xLC0wLjEgMC4xLC0wLjIgMCwtMC4zbC00LjYsLTMuNmMtMC4yLC0wLjEgLTAuMywwIC0wLjMsMC4ybDAsN2MwLDAuMiAwLjEsMC4zIDAuMywwLjJ6Ii8+CiA8L2c+Cjwvc3ZnPg==",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg=="},e.StepperLeftIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTEuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xIiBmaWxsPSIjMzMzMzMzIiBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIiBzdHJva2U9Im51bGwiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA5LjQ4NzUwMDE5MDczNDg2MywxMS43MzkyMzAxNTU5NDQ4MjQpICIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE0LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTAuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIvPgogPC9nPgo8L3N2Zz4="},e.StepperUpIcon={height:11,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},e.StepperDownIcon={height:10,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},e.TextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4="},e.SearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="}},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(164),a=n(161),c=n(159),l=n(162),u=n(79),p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getContainerStyleOfIndex=function(t){return t!==this.props.checkBoxWithLabelPropsList.length-1?{paddingBottom:u.TabStyles.Sizing.ListRowHeight-u.TabStyles.Sizing.MultiLineInputLineHeight-(l.CheckBoxIcon.height-u.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},e.prototype.render=function(){var t=this;return i.createElement(a.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(e,n){var o=r.assign({},e.containerStyle,t.getContainerStyleOfIndex(n)),a=r.assign({},e,{containerStyle:o,key:n});return i.createElement(s.CheckBoxWithLabelWidget,a)}))},e}(c.DynamicThemeComponent);e.CheckBoxWithLabelGroupWidget=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(160),a=n(161),c=n(132),l=n(159),u=n(162),p=n(139),d=n(165),h=n(79),g=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:h.TabStyles.Sizing.MultiLineInputLineHeight},text:{width:"100%",paddingTop:(u.CheckBoxIcon.height-h.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},f=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t=g();return r.createElement(a.Block,{className:c.SuppressClickBustingClass,style:this.props.containerStyle,role:"checkbox"},r.createElement(d.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:t.label},r.createElement(s.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:t.text},this.props.label)))},e=i([p.InteractiveDomHoCDecorator],e)}(l.DynamicThemeComponent);e.CheckBoxWithLabelWidget=f},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(80),a=n(79),c=n(139),l=n(159),u=a.TabStyles.Typography,p=function(){return{base:{fontSize:u.Sizing.Default,fontFamily:u.FontFamily,fontWeight:"normal",color:u.Color.Primary,lineHeight:"normal"},disabled:{color:u.Color.Disabled}}},d=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t,e=p();return t=this.props.disabled?s.assign({},e.base,this.props.style,e.disabled):s.assign({},e.base,this.props.style),r.DOM.label({style:t,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},e=i([c.InteractiveDomHoCDecorator],e)}(l.DynamicThemeComponent);e.InputLabelWidget=d},function(t,e,n){"use strict";var o,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(66),s=n(66),a=n(82),c=n(167),l=n(80),u=n(158),p=n(161),d=n(79),h=n(168),g=n(138),f=n(169),y=n(170),m=n(159),v=n(157),b=n(140),I=n(173),C=n(171),S=n(174),w=n(144),M=n(175),L=n(176);!function(t){t[t.Centered=0]="Centered",t[t.Maximized=1]="Maximized",t[t.Draggable=2]="Draggable",t[t.Anchored=3]="Anchored"}(o||(o={})),e.DialogPositioningBehavior=o;var D;!function(t){t[t.NormalWithTitleBar=0]="NormalWithTitleBar",t[t.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",t[t.Uber=2]="Uber"}(D||(D={})),e.DialogType=D;var T=5*d.TabStyles.Sizing.BaseUnit,x=8*d.TabStyles.Sizing.BaseUnit,P="SharedWidgetsDialogLabel";e.SharedWidgetsDialogLabel=P;var j=500,z=0,E=function(){return{Dialog:{borderWidth:d.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:d.TabStyles.Colors.L5,borderRadius:d.TabStyles.Sizing.BorderRadius,backgroundColor:d.TabStyles.Colors.White,cursor:"default",boxShadow:d.TabStyles.Shadow.Medium,display:"flex",flexDirection:"column"},DialogContent:{outline:"none",display:"flex",flexDirection:"column"},Header:{height:T,flexShrink:0},DraggableHeader:{cursor:"move"},TitleBar:l.assign({},h.TextEllipsis,{color:d.TabStyles.Colors.F8,backgroundColor:d.TabStyles.Colors.F2,height:"100%",paddingRight:d.TabStyles.Spacing.LargeSpace,paddingLeft:d.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"}),TitleBarWithCloseButton:{paddingRight:0},Title:l.assign({},h.TextEllipsis,{fontFamily:d.TabStyles.Typography.FontFamily,fontSize:d.TabStyles.Typography.Sizing.Default,flexGrow:1}),Body:{paddingLeft:d.TabStyles.Spacing.LargeSpace,paddingRight:d.TabStyles.Spacing.LargeSpace,paddingBottom:d.TabStyles.Spacing.LargeSpace,outline:"none",overflow:"auto"},NormalBodyWithTitleBar:{paddingTop:d.TabStyles.Spacing.LargeSpace},NormalBodyWithoutTitleBar:{paddingTop:0},UberBody:{paddingTop:d.TabStyles.Spacing.MediumSpace},BodyWithFooter:{paddingBottom:0},Footer:{paddingLeft:d.TabStyles.Spacing.LargeSpace,paddingRight:d.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:x,flexShrink:0},FooterContent:{height:"100%"},ButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},FooterButton:{paddingLeft:d.TabStyles.Spacing.MediumSpace}}},O=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleStart=function(t){return e.handleStart(t)},this.boundHandleMove=function(t){return e.handleMove(t)},this.boundHandleStop=function(t){return e.handleStop(t)},this.boundHandleCloseButtonRef=function(t){return e.handleCloseButtonRef(t)}}return i(e,t),e.prototype.componentDidMount=function(){this.titleBar=a.findDOMNode(this),this.props.positioningBehavior===o.Draggable&&this.addMouseEventListeners()},e.prototype.componentDidUpdate=function(t){this.props.positioningBehavior!==t.positioningBehavior&&(t.positioningBehavior===o.Draggable&&this.removeMouseEventListeners(),this.props.positioningBehavior===o.Draggable&&this.addMouseEventListeners())},e.prototype.componentWillUnmount=function(){this.props.positioningBehavior===o.Draggable&&this.removeMouseEventListeners()},e.prototype.addMouseEventListeners=function(){window.addEventListener("touchend",this.boundHandleStop),window.addEventListener("mouseup",this.boundHandleStop)},e.prototype.removeMouseEventListeners=function(){window.removeEventListener("touchend",this.boundHandleStop),window.removeEventListener("touchmove",this.boundHandleMove),window.removeEventListener("mouseup",this.boundHandleStop),window.removeEventListener("mousemove",this.boundHandleMove)},e.prototype.handleStart=function(t){if(!this.isEventWithinCloseButton(t)&&this.props.positioningBehavior===o.Draggable){t.preventDefault();var e=v.getClientPosition(t),n=this.props.getDraggableDialogClientRect();this.startXPosition=e.x-n.left,this.startYPosition=e.y-n.top,window.addEventListener("touchmove",this.boundHandleMove),window.addEventListener("mousemove",this.boundHandleMove)}},e.prototype.isEventWithinCloseButton=function(t){var e=t.target;return!!this.closeButton&&this.closeButton.contains(e)},e.prototype.handleMove=function(t){t.preventDefault();var e=v.getClientPosition(t);this.props.setDraggableDialogPosition({top:e.y-this.startYPosition,left:e.x-this.startXPosition})},e.prototype.handleStop=function(t){window.removeEventListener("mousemove",this.boundHandleMove),window.removeEventListener("touchmove",this.boundHandleMove)},e.prototype.handleCloseButtonRef=function(t){this.closeButton=a.findDOMNode(t)},e.prototype.render=function(){var t=E(),e=l.assign({},t.Header,g.conditional(this.props.positioningBehavior===o.Draggable,t.DraggableHeader)),n=this.props.type===D.NormalWithTitleBar,i=l.assign({},t.TitleBar,g.conditional(this.props.showCloseButton,t.TitleBarWithCloseButton)),r={testId:this.props.testId,requestClose:this.props.onCloseRequestHandler,ref:this.boundHandleCloseButtonRef};return s.createElement(b.PointerEventWrapper,{pointerDown:this.boundHandleStart},s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"Header"),style:e},g.conditional(n,s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"TitleBar"),style:i},g.conditional(!!this.props.title,s.createElement(p.Block,{style:t.Title,id:P+String(this.props.instanceId)},this.props.title)),g.conditional(this.props.showCloseButton,s.createElement(f.CloseButtonWidget,r))))))},e}(r.Component),N=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=E(),e=l.assign({},t.Body,g.conditional(this.props.type===D.NormalWithTitleBar,t.NormalBodyWithTitleBar),g.conditional(this.props.type===D.NormalWithoutTitleBar,t.NormalBodyWithoutTitleBar),g.conditional(this.props.type===D.Uber,t.UberBody),g.conditional(this.props.showFooter,t.BodyWithFooter));return s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"Body"),style:e},this.props.children)},e}(r.Component),A=function(t){var e=E();return s.createElement(p.Block,{"data-tb-test-id":g.testId(t.testId,"Footer"),style:e.Footer},g.conditional(!!t.footerContent,s.createElement(p.Block,{style:e.FooterContent},t.footerContent)))},k=new I.EventCallbackStack(window,"keydown"),H=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleWindowKeyDown=function(t){return e.handleWindowKeyDown(t)},this.boundHandleDialogKeyDown=function(t){return e.handleDialogKeyDown(t)},this.boundHandleDialogHeaderRef=function(t){return e.handleDialogHeaderRef(t)},this.boundHandlePointerClick=function(t){return e.handlePointerClick(t)}}return i(e,t),e.prototype.handleDialogHeaderRef=function(t){this.dialogHeader=a.findDOMNode(t)},e.prototype.handleWindowKeyDown=function(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode&&27!==t.which||this.props.onCloseRequestHandler()},e.prototype.handleDialogKeyDown=function(t){if("Tab"===t.key){var e=c(this.dialog),n=e.length>0?e[0]:null,o=e.length>0?e[e.length-1]:null;t.target!==o||t.shiftKey?t.target===n&&t.shiftKey&&(t.preventDefault(),o.focus()):(t.preventDefault(),n.focus())}},e.prototype.handlePointerClick=function(t){this.modifyKeyDownStackedListener.moveToTopOfStack()},e.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=a.findDOMNode(this),this.initializeFocusOnMount(),this.setFocusEventListener(),this.modifyKeyDownStackedListener=k.stackEventCallback(this.boundHandleWindowKeyDown),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},e.prototype.initializeFocusOnMount=function(){var t=c(this.dialog);if(0===t.length)throw Error("Something within the dialog must be focusable as to dismiss it");var e=0;if(this.dialogHeader)for(var n=0;n<t.length;n++)if(!this.dialogHeader.contains(t[n])){e=n;break}var o=t[e];setTimeout(function(){o.focus()},0)},e.prototype.setFocusEventListener=function(){var t=this;this.focusEventListener=function(e){if(!t.props.isModal){var n=e.target;t.dialog.contains(n)||(t.elementToReturnFocus=n)}}},e.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.modifyKeyDownStackedListener.remove(),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},e.prototype.returnFocusToElement=function(){var t=this;setTimeout(function(){t.elementToReturnFocus.focus()},0)},e.prototype.render=function(){var t=E(),e=l.assign({},this.props,{ref:this.boundHandleDialogHeaderRef});return s.createElement(b.PointerEventWrapper,{pointerClick:this.boundHandlePointerClick},s.createElement(p.Block,{"data-tb-test-id":g.testId(this.props.testId,"Content"),tabIndex:-1,style:t.DialogContent,onKeyDown:this.boundHandleDialogKeyDown,role:"dialog","aria-labelledby":g.conditional(!!this.props.title,P+String(this.props.instanceId))},g.conditional(this.props.type!==D.Uber,s.createElement(O,e)),s.createElement(N,this.props),g.conditional(this.props.showFooter,s.createElement(A,this.props))))},e}(r.Component);e.DialogContent=H;var W=function(t){function e(e){var n=this;t.call(this,e),this.boundOnCloseRequestHandler=function(){return n.onCloseRequestHandler()},this.boundGetDialogClientRect=function(){return n.getDialogFloaterClientRect()},this.boundDragBoundedDialogPosition=function(t){return n.dragBoundedDialogFloaterPosition(t)},this.boundHandleFloaterWidgetRef=function(t){return n.handleFloaterWidgetRef(t)},this.boundHandleOverlayRef=function(t){return n.handleOverlayRef(t)},this.boundHandleSizingWrapperRef=function(t){return n.handleSizingWrapperRef(t)},this.boundHandleOrientationChange=function(){return n.handleOrientationChange()},this.instanceId=z++,this.state={hasBeenDragged:!1}}return i(e,t),e.prototype.handleFloaterWidgetRef=function(t){this.floaterWidget=t},e.prototype.handleOverlayRef=function(t){this.overlay=t},e.prototype.handleSizingWrapperRef=function(t){this.sizingWrapper=t},e.prototype.onCloseRequestHandler=function(){this.props.onCloseRequest&&this.props.onCloseRequest()},e.prototype.getDialogFloaterClientRect=function(){return this.floaterWidget?this.floaterWidget.getFloaterClientRect():null},e.prototype.dragBoundedDialogFloaterPosition=function(t){this.state.hasBeenDragged||this.setState(l.assign({},this.state,{hasBeenDragged:!0})),this.floaterWidget&&this.floaterWidget.setPosition(this.getBoundedFloaterPos(t))},e.prototype.handleOrientationChange=function(){var t=this;return this.resizeAndRepositionTimeoutId?(clearTimeout(this.resizeAndRepositionTimeoutId),void(this.resizeAndRepositionTimeoutId=setTimeout(this.resizeAndRepositionCallback,j))):void this.hideDialogAndThen(function(e){t.forceRepaintHack(),t.resizeAndRepositionCallback=function(){t.resizeAndRepositionTimeoutId=null,t.resizeAndRepositionCallback=null,t.sizingWrapper.updateSize(),e()},t.resizeAndRepositionTimeoutId=setTimeout(t.resizeAndRepositionCallback,j)})},e.prototype.hideDialogAndThen=function(t){var e,n=this;switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4}),e=function(){n.floaterWidget&&n.floaterWidget.centerInVisualViewport()};break;case o.Draggable:var i=this.getDialogFloaterClientRect();this.floaterWidget.setPosition({top:-1e4,left:-1e4}),e=function(){n.state.hasBeenDragged?n.dragBoundedDialogFloaterPosition(i):n.floaterWidget&&n.floaterWidget.centerInVisualViewport()};break;case o.Anchored:var r=a.findDOMNode(this.sizingWrapper),s=r.style.display;r.style.display="none",e=function(){r.style.display=s,n.overlay&&n.overlay.setPlacement()};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}t(e)},e.prototype.forceRepaintHack=function(){var t=a.findDOMNode(this),e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e},e.prototype.getBoundedFloaterPos=function(t){var e=this.floaterWidget.getFloaterClientRect(),n={top:t.top,left:t.left,width:e.width,height:e.height},o={top:0,left:0,width:window.innerWidth,height:window.innerHeight};return C.computePositionToContainBounds(n,o)},e.prototype.getPositionedDialogElem=function(t){switch(this.props.positioningBehavior){case o.Centered:case o.Draggable:case o.Maximized:return s.createElement(y.FloaterWidget,{testId:g.testId(this.props.testId,"Dialog"),stackingRootId:this.props.stackingRootId,ref:this.boundHandleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged},t);case o.Anchored:return s.createElement(w.Overlay,{anchorEl:this.props.anchorEl,anchorOrigin:this.props.anchorOrigin||{vertical:w.VerticalOriginOption.bottom,horizontal:w.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:w.VerticalOriginOption.top,horizontal:w.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,ref:this.boundHandleOverlayRef},t);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},e.prototype.getGlassElem=function(){return s.createElement(S.GlassWidget,{testId:g.testId(this.props.testId,"Dialog"),handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex})},e.prototype.componentDidMount=function(){L.OrientationChange.addListener(this.boundHandleOrientationChange)},e.prototype.componentWillUnmount=function(){L.OrientationChange.removeListener(this.boundHandleOrientationChange)},e.prototype.render=function(){var t=E(),e=l.assign({},this.props,{onCloseRequestHandler:this.boundOnCloseRequestHandler,getDraggableDialogClientRect:this.boundGetDialogClientRect,setDraggableDialogPosition:this.boundDragBoundedDialogPosition,instanceId:this.instanceId,testId:g.testId(this.props.testId,"Dialog")}),n={isMaximized:this.props.positioningBehavior===o.Maximized,style:l.assign({},t.Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.boundHandleSizingWrapperRef},i=s.createElement(M.ViewportConstrainedDomWrapper,n,s.createElement(H,e));return s.createElement("div",{display:"none"},g.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(i))},e}(m.DynamicThemeComponent);e.DialogWidget=W;var B=function(t){var e=E();return s.createElement(p.Block,{"data-tb-test-id":g.testId(t.testId,"Confirm-Cancel-Footer"),style:e.ButtonsContainer},t.buttons.map(function(t,n){return s.createElement(p.InlineBlock,{style:g.conditional(0!==n,e.FooterButton),key:n},s.createElement(u.ButtonWidget,t))}))};e.DialogFooterButtonsWidget=B},function(t,e){function n(){var t=[];return function e(n){if(n===document.documentElement)return!1;for(var o=0,i=t.length;o<i;o++)if(t[o][0]===n)return t[o][1];var r=!1,s=window.getComputedStyle(n);return"hidden"===s.visibility||"none"===s.display?r=!0:n.parentNode&&(r=e(n.parentNode)),t.push([n,r]),r}}t.exports=function(t){for(var e,o,i=[],r=[],s=n(),a=t.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),c=0,l=a.length;c<l;c++)e=a[c],o=e.tabIndex,o<0||"INPUT"===e.tagName&&"hidden"===e.type||e.disabled||s(e)||(0===o?i.push(e):r.push({tabIndex:o,node:e}));var u=r.sort(function(t,e){return t.tabIndex-e.tabIndex}).map(function(t){return t.node});return Array.prototype.push.apply(u,i),u}},function(t,e){"use strict";var n={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.TextEllipsis=n},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(79),a=n(139),c=n(138),l=n(161),u=n(162),p=n(159),d=function(){return{containerBase:{width:5*s.TabStyles.Sizing.BaseUnit,height:5*s.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none"},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*s.TabStyles.Sizing.BaseUnit,height:3*s.TabStyles.Sizing.BaseUnit}}},h=function(t){function e(e){var n=this;t.call(this,e),this.boundHandleHover=function(t){return n.handleHover(t)},this.boundHandleFocus=function(t){return n.handleFocus(t)},this.boundHandleActive=function(t){return n.handleActive(t)},this.boundHandleKeyDown=function(t){return n.handleKeyDown(t)},this.state={hover:!1,active:!1,focus:!1}}return o(e,t),e.prototype.handleHover=function(t){this.setState(r.assign({},this.state,{hover:t}))},e.prototype.handleFocus=function(t){this.setState(r.assign({},this.state,{focus:t}))},e.prototype.handleActive=function(t){this.setState(r.assign({},this.state,{active:t}))},e.prototype.handleKeyDown=function(t){"Enter"!==t.key&&" "!==t.key||this.props.requestClose()},e.prototype.render=function(){var t,e,n=d();return this.state.hover||this.state.focus||this.state.active?(t=u.CloseButtonIcon.active,e=r.assign({},n.imageContainer,{backgroundColor:s.TabStyles.Colors.F3})):(t=u.CloseButtonIcon.enabled,e=n.imageContainer),i.createElement(a.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.boundHandleHover,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus},i.createElement(l.Block,{style:n.containerBase,tabIndex:0,onKeyDown:this.boundHandleKeyDown,role:"button",title:"Close dialog"},i.createElement(l.Block,{style:e},i.createElement("img",{src:t,draggable:!1,style:{width:u.CloseButtonIcon.width,height:u.CloseButtonIcon.height},"data-tb-test-id":c.testId(this.props.testId,"CloseButton")}))))},e}(p.DynamicThemeComponent);e.CloseButtonWidget=h},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(82),s=n(66),a=n(80),c=n(161),l=n(138),u=n(171),p=n(154),d=n(172),h={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},g=function(t){function e(){var e=this;t.apply(this,arguments),this.boundFloaterRefHandler=function(t){return e.floaterRefHandler(t)}}return o(e,t),e.prototype.floaterRefHandler=function(t){this.floater=r.findDOMNode(t),this.props.handleFloaterRef&&this.props.handleFloaterRef(t)},e.prototype.getCenteredFloaterRectInLayoutCoords=function(){var t=d.getVisualViewportRectRelativeToLayoutViewport(),e={width:this.floater.offsetWidth,height:this.floater.offsetHeight},n=u.computePositionToCenterAreaInBounds(e,t);return u.makeClientRect(n,e)},e.prototype.getMinimumPageRectInLayoutCoords=function(){var t=d.getElementPositionRelativeToLayoutViewport(document.documentElement),e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},n=d.getVisualViewportRectRelativeToLayoutViewport(),o={width:n.right-t.left,height:n.bottom-t.top},i=u.getMaxWidthAndHeight(e,o);return u.makeClientRect(t,i)},e.prototype.centerInVisualViewport=function(){var t=this.getCenteredFloaterRectInLayoutCoords(),e=this.getMinimumPageRectInLayoutCoords(),n=u.computePositionToContainBounds(t,e);this.setPosition(n)},e.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},e.prototype.setPosition=function(t){var e=this.floater.offsetParent||document.documentElement,n=d.getElementPositionRelativeToLayoutViewport(e),o=u.subtractPositions(t,n);this.floater.style.top=o.top+"px",this.floater.style.left=o.left+"px"},e.prototype.componentDidMount=function(){this.centerInVisualViewport()},e.prototype.componentDidUpdate=function(t){var e=this;this.props.shouldRecenterOnUpdate&&setTimeout(function(){e.centerInVisualViewport()},0)},e.prototype.render=function(){var t={"data-tb-test-id":l.testId(this.props.testId,"Floater"),style:a.assign({},h.Floater,this.props.customFloaterStyle||{}),ref:this.boundFloaterRefHandler};return s.createElement(c.Block,t,this.props.children)},e}(i.Component);e.FloaterWidgetDefault=g;var f=p.StackingComponentHOC(g);e.FloaterWidget=f},function(t,e){"use strict";function n(t){return{top:t.top+t.height/2,left:t.left+t.width/2}}function o(t,e){return{top:t.top-e.top,left:t.left-e.left}}function i(t,e){return{width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)}}function r(t,e){var o=n(e);return{top:o.top-t.height/2,left:o.left-t.width/2}}function s(t,e){var n=e.top+e.height,o=e.left+e.width;return{top:Math.max(e.top,Math.min(t.top,n-t.height)),left:Math.max(e.left,Math.min(t.left,o-t.width))}}function a(t,e){return{top:t.top,left:t.left,bottom:t.top+e.height,right:t.left+e.width,width:e.width,height:e.height}}e.computeCenter=n,e.subtractPositions=o,e.getMaxWidthAndHeight=i,e.computePositionToCenterAreaInBounds=r,e.computePositionToContainBounds=s,e.makeClientRect=a},function(t,e,n){"use strict";function o(t){return t.getBoundingClientRect()}function i(){var t=document.documentElement.getBoundingClientRect();return{top:-t.top,left:-t.left}}function r(){var t=s(),e=a();return c.makeClientRect(t,e)}function s(){var t=i(),e={top:window.pageYOffset,left:window.pageXOffset};return c.subtractPositions(e,t)}function a(){return{width:window.innerWidth,height:window.innerHeight}}var c=n(171);e.getElementPositionRelativeToLayoutViewport=o,e.getLayoutViewportPositionRelativeToPage=i,e.getVisualViewportRectRelativeToLayoutViewport=r,e.getVisualViewportPositionRelativeToLayoutViewport=s,e.getVisualViewportSize=a},function(t,e){"use strict";var n=function(){function t(t,e){var n=this;this.tail=null,this.boundFireTopOfStackCallback=function(t){return n.fireTopOfStackCallback(t)},this.eventTarget=t,this.eventType=e}return t.prototype.fireTopOfStackCallback=function(t){this.tail.callback(t)},t.prototype.initializeListener=function(){this.eventTarget.addEventListener(this.eventType,this.boundFireTopOfStackCallback)},t.prototype.removeListener=function(){this.eventTarget.removeEventListener(this.eventType,this.boundFireTopOfStackCallback)},t.prototype.stackNode=function(t){this.tail?(t.prev=this.tail,this.tail.next=t,this.tail=t):(this.tail=t,this.initializeListener())},t.prototype.removeNode=function(t){var e=t.prev,n=t.next;e&&(e.next=n),n&&(n.prev=e),t===this.tail&&(this.tail=e),this.tail||this.removeListener()},t.prototype.moveToTopOfStack=function(t){this.tail!==t&&(this.removeNode(t),this.stackNode(t))},t.prototype.stackEventCallback=function(t){var e=this,n={callback:t,prev:null,next:null};return this.stackNode(n),{remove:function(){return e.removeNode(n)},moveToTopOfStack:function(){return e.moveToTopOfStack(n)}}},t}();e.EventCallbackStack=n},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(161),a=n(138),c=n(79),l=n(139),u=n(159),p=n(154),d=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:c.TabStyles.Colors.White,opacity:c.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:c.TabStyles.Colors.F2,opacity:c.TabStyles.Opacity.OpaqueGlass}}},h=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t=this,e=d(),n=r.assign({},e.Glass,this.props.isTransparent?e.Clear:e.Opaque);return i.createElement(l.InteractiveDomWrapper,{pointerClick:function(e){e.preventDefault(),t.props.handleClick&&t.props.handleClick()}},i.createElement(s.Block,{style:n,"data-tb-test-id":a.testId(this.props.testId,"Glass")}))},e}(u.DynamicThemeComponent);e.GlassWidgetBase=h;var g=p.StackingComponentHOC(h);e.GlassWidget=g},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(66),s=n(80),a=n(138),c=n(172),l=20,u=function(t){function e(e){t.call(this,e),this.state=this.getStateForCurrentViewport()}return o(e,t),e.prototype.getStateForCurrentViewport=function(){return{visualViewportSize:c.getVisualViewportSize(),documentClientSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},e.prototype.getMaxSize=function(){var t={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&(this.props.style.minWidth||(t.width=Math.max(t.width,this.state.documentClientSize.width)),this.props.style.minHeight||(t.height=Math.max(t.height,this.state.documentClientSize.height))),{width:t.width-2*l,height:t.height-2*l}},e.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},e.prototype.render=function(){var t=this.getMaxSize(),e=s.assign({},{maxWidth:t.width,maxHeight:t.height},this.props.style,a.conditional(this.props.isMaximized,{width:t.width,height:t.height}));return r.createElement("div",{style:e},this.props.children)},e}(i.Component);e.ViewportConstrainedDomWrapper=u},function(t,e){"use strict";var n=250;e.PendingOrientationChangeTimeoutMs=n;var o=200;e.PendingResizeTimeoutMs=o;var i=function(){function t(){}return t.init=function(){window.addEventListener("orientationchange",t.handleOrientationChange),window.addEventListener("resize",t.handleResize)},t.handleOrientationChange=function(){null!==t.latestPendingResizeTimestamp&&Date.now()-t.latestPendingResizeTimestamp<=o?t.fireOrientationChange():t.latestPendingOrientationChangeTimestamp=Date.now()},t.handleResize=function(){null!==t.latestPendingOrientationChangeTimestamp&&Date.now()-t.latestPendingOrientationChangeTimestamp<=n?t.fireOrientationChange():t.latestPendingResizeTimestamp=Date.now()},t.fireOrientationChange=function(){t.latestPendingOrientationChangeTimestamp=null,t.latestPendingResizeTimestamp=null,t.listeners.forEach(function(t){t()})},t.addListener=function(e){e&&t.listeners.push(e)},t.removeListener=function(e){t.listeners=t.listeners.filter(function(t){return t!==e})},t.latestPendingOrientationChangeTimestamp=null,t.latestPendingResizeTimestamp=null,t.listeners=[],t}();e.OrientationChange=i,i.init()},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(178),s=n(159),a=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t=this.props.currentStep/this.props.totalSteps;return i.createElement(r.ProgressBarContainer,{width:this.props.width},i.createElement(r.ProgressCompleteBar,{fractionComplete:t},1===t?null:i.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*t})))},e}(s.DynamicThemeComponent);e.DiscreteProgressBarWidget_UNFINISHED=a},function(t,e,n){"use strict";var o=n(66),i=n(80),r=n(155),s=n(79),a=n(161),c=function(){return{backgroundColor:s.TabStyles.Colors.F3,borderRadius:s.TabStyles.Sizing.BorderRadius,height:s.TabStyles.Sizing.BaseUnit}},l=function(t){var e=i.assign({},c(),{width:t.width});return o.createElement(a.Block,{style:e},t.children)};e.ProgressBarContainer=l;var u=function(){return{backgroundColor:s.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},p=function(t){var e=i.assign({},u(),{width:100*t.fractionComplete+"%"});return o.createElement(a.Block,{style:e},t.children)};e.ProgressCompleteBar=p;var d=function(){return s.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:d(),height:"100%",backgroundColor:s.TabStyles.Colors.GoDark}},g=function(t){var e=t.containerWidth,n=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(e-d())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return o.createElement(a.Block,{style:h(),className:n})};e.ProgressBarAnimation=g},function(t,e,n){"use strict";var o,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=n(66),a=n(66),c=n(82),l=n(80),u=n(180),p=n(138),d=n(168),h=n(79),g=n(139),f=n(161),y=n(162),m=n(181),v=n(144),b=n(159),I=h.TabStyles.Sizing,C=h.TabStyles.Colors,S=h.TabStyles.Spacing,w=h.TabStyles.Typography;!function(t){t[t.Outline=0]="Outline",t[t.Line=1]="Line",t[t.Text=2]="Text"}(o||(o={})),e.DropdownType=o;var M=function(){var t=I.RowHeight-2*I.BorderWidth;return{OutlineDropdownStyle:{container:{},button:{base:l.assign({},d.TextEllipsis,{borderWidth:I.BorderWidth,borderRadius:I.BorderRadius,borderColor:C.L6,borderStyle:"solid",backgroundColor:C.Transparent,height:I.RowHeight,paddingLeft:S.DefaultSpace,paddingRight:S.LargeSpace+S.DefaultSpace,outline:"none",fontSize:w.Sizing.Default,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.Primary,cursor:"default"}),interactive:{hover:{borderColor:C.L8},active:{borderColor:C.L9},focus:{borderColor:C.L8},disabled:{borderColor:C.L9Disabled,color:w.Color.Disabled}}},value:{lineHeight:t+"px"},iconContainer:{position:"absolute",right:0,height:t,borderWidth:I.BorderWidth,borderColor:C.L3,borderStyle:"none none none solid"},icon:{marginTop:(t-y.DropdownArrowIcon.height)/2}},LineDropdownStyle:{container:{},button:{base:l.assign({},d.TextEllipsis,{borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:I.BorderWidth,borderBottomColor:C.L6,borderBottomStyle:"solid",backgroundColor:C.Transparent,height:I.RowHeight,paddingRight:S.LargeSpace+S.DefaultSpace,outline:"none",fontSize:w.Sizing.Default,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.Primary,cursor:"default"}),interactive:{hover:{borderBottomColor:C.L8},active:{borderBottomColor:C.L9},focus:{borderBottomColor:C.L8},disabled:{borderBottomColor:C.L9Disabled,color:w.Color.Disabled}}},value:{top:I.BorderWidth,lineHeight:t+"px"},iconContainer:{position:"absolute",right:-4,border:"none"},icon:{marginTop:(t-y.DropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:w.Sizing.Tiny,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.SubHead,lineHeight:w.Sizing.Small+"px"}},TextDropdownStyle:{container:{display:"inline-block",width:"auto"},button:{base:{border:"none",backgroundColor:C.Transparent,height:I.RowHeight,outline:"none",fontSize:w.Sizing.Default,fontFamily:w.FontFamily,fontWeight:"normal",color:w.Color.Primary,cursor:"default",lineHeight:I.RowHeight+"px",display:"inline-block",paddingRight:y.DropdownArrowIcon.width},interactive:{active:{color:C.Black},disabled:{color:w.Color.Disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(I.RowHeight-y.DropdownArrowIcon.height)/2}}}},L=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState(l.assign({},this.state,{active:!1}))},e.prototype.getDropdownIcon=function(){return this.props.disabled?y.DropdownArrowIcon.disabled:this.state.active||this.props.dropdownOpen||this.props.dropdownType===o.Text&&this.state.hover?y.DropdownArrowIcon.active:y.DropdownArrowIcon.enabled},e.prototype.render=function(){var t=l.assign({},this.props.dropdownStyles.button.base,p.conditional(this.props.dropdownOpen,this.props.dropdownStyles.button.interactive.active));return a.createElement(f.Block,{disabled:this.props.disabled,style:t,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","aria-haspopup":!0,"aria-labelledby":this.props.labelledById},a.createElement("span",{style:this.props.dropdownStyles.value},this.props.children),a.createElement(f.InlineBlock,{style:this.props.dropdownStyles.iconContainer},s.DOM.img({style:this.props.dropdownStyles.icon,src:this.getDropdownIcon()})))},e=r([g.InteractiveDomHoCDecorator],e)}(s.Component);e.DropdownButtonWidget=L;var D="SharedWidgetsDropdownLabel",T=0,x=function(t){function e(e){var n=this;t.call(this,e),this.boundToggleMenu=function(){return n.toggleMenu()},this.boundKeyDown=function(t){return n.handleKeyDown(t)},this.boundOnRequestClose=function(){return n.onRequestClose()},this.boundSetButtonElement=function(t){return n.setButtonElement(t)},this.boundHandleSelect=function(t){return n.handleSelect(t)},this.labelId=D+String(T++),this.setEnabledItems(),this.state={isOpen:!1}}return i(e,t),e.prototype.componentDidMount=function(){this.domNode=c.findDOMNode(this)},e.prototype.componentWillReceiveProps=function(t){this.setEnabledItems()},e.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},e.prototype.getMenuWidth=function(){return this.props.dropdownType===o.Text&&this.props.containerStyle?this.props.containerStyle.width:this.buttonEl?window.getComputedStyle(this.buttonEl).width:null},e.prototype.getIndexOfSelectedItem=function(){var t=this;return u.findIndex(this.enabledItems,function(e){return e.value===t.props.selectedValue},0,this)},e.prototype.setEnabledItems=function(){this.props.menuItemInfos?this.enabledItems=this.props.menuItemInfos.filter(function(t){return!t.isDivider&&!t.disabled}):this.enabledItems=[]},e.prototype.toggleMenu=function(){this.props.disabled||this.setState({isOpen:!this.state.isOpen})},e.prototype.handleSelect=function(t){this.props.onSelect(t),this.onRequestClose()},e.prototype.handleKeyDown=function(t){if(!this.state.isOpen){var e=this.getIndexOfSelectedItem();if(p.isAlphabeticChar(t.key)){var n=u.findIndex(this.enabledItems,function(e){return"string"==typeof e.displayValue&&e.displayValue.charAt(0).toUpperCase()===t.key.toUpperCase()},e+1,this);n>-1&&this.props.onSelect(this.enabledItems[n].value)}else{switch(t.key){case" ":case"Enter":this.toggleMenu();break;case"ArrowUp":e>0?this.props.onSelect(this.enabledItems[e-1].value):this.props.onSelect(this.enabledItems[this.enabledItems.length-1].value);break;case"ArrowDown":e<this.enabledItems.length-1?this.props.onSelect(this.enabledItems[e+1].value):this.props.onSelect(this.enabledItems[0].value);break;case"Home":this.props.onSelect(this.enabledItems[0].value);break;case"End":this.props.onSelect(this.enabledItems[this.enabledItems.length-1].value);break;default:return}t.preventDefault(),t.stopPropagation()}}},e.prototype.onRequestClose=function(){this.toggleMenu()},e.prototype.getButtonDisplayValue=function(){var t=this.getIndexOfSelectedItem();return t>-1?this.enabledItems[t].displayValue:this.props.placeholder||""},e.prototype.getDropdownStylesByType=function(t){var e=M();switch(t){case o.Outline:return e.OutlineDropdownStyle;case o.Line:return e.LineDropdownStyle;case o.Text:return e.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+t)}},e.prototype.setButtonElement=function(t){this.buttonEl=c.findDOMNode(t)},e.prototype.render=function(){var t=this.getDropdownStylesByType(this.props.dropdownType),e=this.props.dropdownType===o.Line&&!!this.props.label,n=l.assign({},this.props.containerStyle,t.container),i={width:this.getMenuWidth()};return a.createElement(f.Block,{style:n,"data-tb-test-id":this.props.testId+"-Dropdown"},p.conditional(e,a.createElement("label",{style:t.label,id:this.labelId},this.props.label)),a.createElement(f.Block,{},a.createElement(L,{disabled:this.props.disabled,dropdownOpen:this.state.isOpen,dropdownStyles:t,dropdownType:this.props.dropdownType,interactiveStyles:t.button.interactive,onKeyDown:this.boundKeyDown,pointerClick:this.boundToggleMenu,labelledById:p.conditional(e,this.labelId),ref:this.boundSetButtonElement},this.getButtonDisplayValue())),p.conditional(this.state.isOpen,a.createElement(m.FlyoutListMenuWidget,{anchorEl:this.buttonEl,stackingRootId:this.props.stackingRootId,anchorOrigin:{vertical:v.VerticalOriginOption.bottom,horizontal:v.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.boundToggleMenu,onSelect:this.boundHandleSelect,initialHighlightedValue:this.props.selectedValue,maxHeight:this.props.maxHeight,menuStyle:i,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.boundOnRequestClose,zIndex:this.props.zIndex,testId:this.props.testId})))},e}(b.DynamicThemeComponent);e.DropdownWidget=x},function(t,e){"use strict";var n=function(t,e,n,o){void 0===n&&(n=0);for(var i=n;i<t.length+n;i++){var r=i%t.length;if(e.call(o,t[r],r))return r}return-1};e.findIndex=n},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(182),s=n(159),a=n(144),c=n(185),l={vertical:a.VerticalOriginOption.bottom,horizontal:a.HorizontalOriginOption.left},u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.componentWillMount=function(){this.toggleElement=document.activeElement},e.prototype.componentDidMount=function(){this.toggleElement&&(this.pointerDownOutsideListenerUnsubscribe=c.GlobalPointerDownOutsideListener.subscribe(this.toggleElement,this.props.requestCloseAll))},e.prototype.componentWillUnmount=function(){var t=this;this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe(),this.toggleElement&&setTimeout(function(){t.toggleElement.focus()},0)},e.prototype.render=function(){return i.createElement(a.Overlay,{anchorEl:this.props.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:this.props.anchorOrigin||l,stackedOrigin:this.props.stackedOrigin,allowAutoPosition:this.props.allowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,scrollingRootId:this.props.scrollingRootId,zIndex:this.props.zIndex},i.createElement(r.ListMenuWidget,{menuItemInfos:this.props.menuItemInfos,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,initialHighlightedValue:this.props.initialHighlightedValue,menuStyle:this.props.menuStyle,maxHeight:this.props.maxHeight,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,testId:this.props.testId,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onEscapeKeyDown:this.props.onEscapeKeyDown}))},e}(s.DynamicThemeComponent);e.FlyoutListMenuWidget=u},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(82),r=n(66),s=n(80),a=n(161),c=n(138),l=n(180),u=n(79),p=n(183),d=n(159),h=n(184),g=n(185),f=u.TabStyles.Sizing,y=u.TabStyles.Colors,m=u.TabStyles.Spacing,v=u.TabStyles.Typography,b=u.TabStyles.Shadow,I=function(){return{borderWidth:f.BorderWidth,borderRadius:f.BorderRadius,borderColor:y.L6,borderStyle:"solid",backgroundColor:y.White,padding:m.DefaultSpace,outline:"none",fontSize:v.Sizing.Default,fontFamily:v.FontFamily,fontWeight:"normal",color:v.Color.Primary,boxShadow:b.Low}},C=function(t){function e(e){var n=this;t.call(this,e),this.boundHandleKeyDown=function(t){return n.handleKeyDown(t)},this.stopPropagation=function(t){t.stopPropagation()};var o=[];this.props.menuItemInfos&&(o=this.props.menuItemInfos.filter(function(t){return!t.isDivider&&!t.disabled}));var i=l.findIndex(o,function(t){return t.value===n.props.initialHighlightedValue},0,this);this.state={highlightedItemIndex:i>-1?i:0,enabledMenuItems:o,keyboardFocused:!0}}return o(e,t),e.prototype.componentDidMount=function(){this.domNode=i.findDOMNode(this),this.pointerDownOutsideListenerUnsubscribe=g.GlobalPointerDownOutsideListener.subscribe(this.domNode,this.props.requestCloseAll),this.addStopPropogationListeners()},e.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe(),this.removeStopPropogationListeners()},e.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},e.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},e.prototype.handleKeyDown=function(t){if(c.isAlphabeticChar(t.key)){var e=l.findIndex(this.state.enabledMenuItems,function(e){return"string"==typeof e.displayValue&&e.displayValue.charAt(0).toUpperCase()===t.key.toUpperCase()},this.state.highlightedItemIndex+1,this);e>-1&&this.setHighlightedItemIndexAndKeyboardFocus(e,!0)}else{switch(t.key){case"Escape":this.props.onEscapeKeyDown?this.props.onEscapeKeyDown():this.props.requestCloseAll();break;case"Tab":this.props.requestCloseAll();break;case"ArrowUp":this.state.highlightedItemIndex>0?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex-1,!0):this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;case"ArrowDown":this.state.highlightedItemIndex<this.state.enabledMenuItems.length-1?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex+1,!0):this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"ArrowLeft":this.props.onLeftArrowKeyDown&&this.props.onLeftArrowKeyDown();break;case"Home":this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"End":this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;default:return}t.preventDefault(),t.stopPropagation()}},e.prototype.setHighlightedItemIndexAndKeyboardFocus=function(t,e){this.setState(s.assign({},this.state,{highlightedItemIndex:t,keyboardFocused:e})),e||this.domNode.focus()},e.prototype.buildMenuFromMenuItemInfos=function(){var t,e=this,n=0,o=0;return this.props.menuItemInfos.map(function(i){if(i.isDivider)t=r.createElement(h.DividerWidget,{key:"divider"+o++});else{var s=e.setHighlightedItemIndexAndKeyboardFocus.bind(e,n,!!i.menuItemInfos),a=function(t){return e.props.onSelect(t)};if(t=r.createElement(p.MenuItemWidget,{value:i.value,key:i.value,isHighlighted:!i.disabled&&e.state.highlightedItemIndex===n,onHover:i.disabled?null:s,onSelect:a,keyboardFocused:e.state.keyboardFocused,disabled:i.disabled,menuItemInfos:i.menuItemInfos,subMenuStyle:i.subMenuStyle,subMenuMaxHeight:i.subMenuMaxHeight,stackingRootId:e.props.stackingRootId,requestCloseAll:e.props.requestCloseAll,displayValue:i.displayValue,zIndex:e.props.zIndex,testId:e.props.testId}),i.disabled||n++,!i.value)throw new Error("Each non-divider menu item requires a value")}return t})},e.prototype.render=function(){var t=s.assign({},I(),this.props.menuStyle,{maxHeight:this.props.maxHeight,overflowY:this.props.maxHeight?"auto":null});return r.createElement(a.Block,{style:t,onKeyDown:this.boundHandleKeyDown,tabIndex:-1,role:"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},e}(d.DynamicThemeComponent);e.ListMenuWidget=C},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(82),s=n(80),a=n(138),c=n(144),l=n(168),u=n(79),p=n(139),d=n(162),h=n(159),g=n(181),f=u.TabStyles.Sizing,y=u.TabStyles.Colors,m=u.TabStyles.Spacing,v=u.TabStyles.Typography,b=function(){return{MenuItem:s.assign({},l.TextEllipsis,{height:f.ListRowHeight,paddingLeft:m.DefaultSpace,paddingRight:m.DefaultSpace,lineHeight:f.ListRowHeight+"px",cursor:"default",outline:"none"}),Highlighted:{backgroundColor:y.F2_5},Active:{backgroundColor:y.F3},WithSubMenu:{paddingRight:d.MenuItemArrowIcon.width},InteractiveStyles:{disabled:{color:v.Color.Disabled}},ArrowIcon:{position:"absolute",right:m.DefaultSpace}}},I=function(t){function e(e){var n=this;t.call(this,e),this.boundHandleKeyDown=function(t){return n.handleKeyDown(t)},this.boundOnSelect=function(){return n.onSelect()},this.boundOnHover=function(t){return n.onHover(t)},this.boundSetDomNode=function(t){return n.setDomNode(t)},this.boundRequestClose=function(){return n.requestClose()},this.boundOnActive=function(t){return n.onActive(t)},this.hasSubMenu=!!this.props.menuItemInfos,this.state={menuItemActive:!1}}return o(e,t),e.prototype.componentDidMount=function(){this.updateFocus()},e.prototype.componentDidUpdate=function(){!this.props.isHighlighted&&this.state.menuItemActive&&this.setState(s.assign({},this.state,{menuItemActive:!1})),this.updateFocus()},e.prototype.updateFocus=function(){var t=r.findDOMNode(this);this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused&&setTimeout(function(){return t.focus()},0)},e.prototype.handleKeyDown=function(t){switch(t.key){case" ":case"Enter":this.boundOnSelect(),t.preventDefault();break;case"ArrowRight":this.hasSubMenu&&this.boundOnSelect();break;default:return}},e.prototype.onSelect=function(){this.props.disabled||(this.hasSubMenu?this.setState(s.assign({},this.state,{menuItemActive:!0})):this.props.onSelect(this.props.value))},e.prototype.onHover=function(t){t&&(this.props.onHover&&this.props.onHover(),this.hasSubMenu&&this.setState(s.assign({},this.state,{menuItemActive:!0})))},e.prototype.onActive=function(t){this.hasSubMenu||(t?this.setState(s.assign({},this.state,{menuItemActive:!0})):this.setState(s.assign({},this.state,{menuItemActive:!1})))},e.prototype.setDomNode=function(t){this.domNode=t},e.prototype.requestClose=function(){this.setState(s.assign({},this.state,{menuItemActive:!1}))},e.prototype.render=function(){var t=b(),e=t.InteractiveStyles,n=s.assign({},t.MenuItem,a.conditional(!!this.props.menuItemInfos,t.WithSubMenu),a.conditional(this.props.isHighlighted,t.Highlighted),a.conditional(this.state.menuItemActive,t.Active)),o=this.props.disabled?d.MenuItemArrowIcon.disabled:d.MenuItemArrowIcon.enabled,r=this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&this.hasSubMenu;return i.createElement(p.InteractiveDomWrapper,{pointerClick:this.boundOnSelect,handleHover:this.boundOnHover,handleActive:this.boundOnActive,interactiveStyles:e,disabled:this.props.disabled},i.createElement("div",{onKeyDown:this.boundHandleKeyDown,style:n,tabIndex:-1,ref:this.boundSetDomNode,role:"menuitem","aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},a.conditional(this.hasSubMenu,i.createElement("img",{style:t.ArrowIcon,src:o})),this.props.displayValue,a.conditional(r,i.createElement(g.FlyoutListMenuWidget,{anchorEl:this.domNode,stackingRootId:this.props.stackingRootId,anchorOrigin:{vertical:c.VerticalOriginOption.top,horizontal:c.HorizontalOriginOption.right},stackedOrigin:{vertical:c.VerticalOriginOption.top,horizontal:c.HorizontalOriginOption.left},allowAutoPosition:!1,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:this.props.subMenuStyle,onLeftArrowKeyDown:this.boundRequestClose,onEscapeKeyDown:this.boundRequestClose,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},e}(h.DynamicThemeComponent);e.MenuItemWidget=I},function(t,e,n){"use strict";var o=n(66),i=n(79),r=i.TabStyles.Sizing,s=i.TabStyles.Colors,a=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,borderStyle:"solid",borderWidth:r.BorderWidth,borderColor:s.L3,borderBottom:"none"}},c=function(t){return o.createElement("hr",{style:a(),role:"separator","aria-orientation":"horizontal"})};e.DividerWidget=c},function(t,e){"use strict";var n=function(){function t(){}return t.subscribe=function(e,n){return!this.callback&&n&&(this.callback=n),0===this.domNodes.length&&(document.addEventListener("mousedown",this.handleClickAway.bind(this)),document.addEventListener("touchstart",this.handleClickAway.bind(this))),this.domNodes.push(e),function(){t.unsubscribe(e)}},t.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,document.removeEventListener("mousedown",this.handleClickAway.bind(this)),document.removeEventListener("touchstart",this.handleClickAway.bind(this)))},t.handleClickAway=function(t){if(this.callback){for(var e=t.target,n=0,o=this.domNodes;n<o.length;n++){var i=o[n];if(i.contains(e))return}this.callback()}},t.domNodes=[],t}();e.GlobalPointerDownOutsideListener=n},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(138),a=n(161),c=n(79),l=n(187),u=n(188);e.TextInputType=u.TextInputType;var p=n(156),d=c.TabStyles.Colors,h=c.TabStyles.Sizing,g=c.TabStyles.Spacing,f=c.TabStyles.Typography,y=function(){return{baseInput:{base:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomWidth:h.BorderWidth,borderBottomRadius:h.BorderRadius,borderBottomColor:d.L6,borderBottomStyle:"solid",height:h.RowHeight,outline:"none",backgroundColor:d.Transparent,fontSize:f.Sizing.Default,fontFamily:f.FontFamily,fontWeight:"normal",color:f.Color.Primary,position:"relative",paddingBottom:g.DefaultSpace,marginBottom:g.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:d.L8},active:{borderBottomColor:d.GoLight},focus:{borderBottomColor:d.GoLight},disabled:{borderBottomColor:d.L9Disabled,color:f.Color.Disabled}}},errorInput:{borderBottomColor:d.AttentionLight},placeholder:{base:{fontSize:f.Sizing.Default,fontFamily:f.FontFamily,fontWeight:"normal",color:f.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:h.RowHeight+"px",bottom:g.DefaultSpace},disabled:{color:f.Color.Disabled}},errorLabel:{fontSize:f.Sizing.Tiny,fontFamily:f.FontFamily,fontWeight:"normal",color:d.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:f.Sizing.Small,fontFamily:f.FontFamily,fontWeight:"normal",color:f.Color.SubHead,lineHeight:h.RowHeight+"px"}}},m=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t=this,e=y(),n=r.assign({},e.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,e.placeholder.disabled)),o=r.assign({},e.floatingLabel,this.props.floatingLabelStyle),c=this.isPlaceholderShowing(),l=r.assign({},e.baseInput.base,this.props.hasError?e.errorInput:null,this.props.inputStyle),d=this.props.hasError?null:e.baseInput.interactive,h={type:this.props.type,style:l,interactiveStyles:d,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return i.createElement(a.Block,{style:this.props.containerStyle},this.props.floatingLabel?i.createElement(a.Block,{},i.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-FloatingLabel"},c?p.Unicode.NonBreakingSpace:this.props.floatingLabel)):null,i.createElement(a.Block,{},c?i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,i.createElement(u.TextFieldInputWidget,h)),i.createElement(a.Block,{},i.createElement("label",{style:e.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:p.Unicode.NonBreakingSpace)))},e}(l.TextFieldBase);e.LineTextFieldWidget=m},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(80),r=n(159),s=function(t){function e(e){t.call(this,e),this.state=i.assign({},this.state,{inputFocus:!1,inputActive:!1,inputHover:!1})}return o(e,t),e.prototype.handleInputActive=function(t){this.props.disabled||this.setState(i.assign({},this.state,{inputActive:t}))},e.prototype.handleInputFocus=function(t){this.props.disabled||this.setState(i.assign({},this.state,{inputFocus:t}))},e.prototype.handleInputHover=function(t){this.props.disabled||this.setState(i.assign({},this.state,{inputHover:t}))},e.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},e}(r.DynamicThemeComponent);e.TextFieldBase=s},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(66),a=n(80),c=n(139),l=n(155),u=n(79),p="shared-widgets-text-input";l.SingletonStyleSheet.addRawSelector("."+p+":focus",{"background-color":u.TabStyles.Colors.Transparent});try{l.SingletonStyleSheet.addRawSelector("."+p+"::-ms-clear",{display:"none"})}catch(d){}var h;!function(t){t[t.Text=0]="Text",t[t.Password=1]="Password"}(h||(h={})),e.TextInputType=h;var g={input:{width:"100%",boxSizing:"border-box"}},f=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.handleChangeWrapper=function(t){this.props.disabled||this.props.handleChange(t.target.value)},e.prototype.render=function(){var t=this,e=this.props.type===h.Password?"password":"text",n={className:p,type:e,style:a.assign({},g.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:function(e){return t.handleChangeWrapper(e)},onKeyDown:function(e){t.props.disabled||!t.props.handleEnter&&!t.props.onKeyDown||("Enter"===e.key&&t.props.handleEnter&&t.props.handleEnter(),t.props.onKeyDown&&t.props.onKeyDown(e))},disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength};return s.createElement("input",n)},e=i([c.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldInputWidget=f},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(162),a=n(138),c=n(161),l=n(79),u=n(188);e.TextInputType=u.TextInputType;var p=n(187),d=n(190),h=l.TabStyles.Colors,g=l.TabStyles.Sizing,f=l.TabStyles.Spacing,y=l.TabStyles.Typography,m=function(){return{input:{base:{borderWidth:g.BorderWidth,borderRadius:g.BorderRadius,borderColor:h.L6,borderStyle:"solid",height:g.RowHeight,paddingLeft:f.DefaultSpace,outline:"none",backgroundColor:h.Transparent,fontSize:y.Sizing.Default,fontFamily:y.FontFamily,color:y.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text",paddingRight:s.TextFieldClearIcon.width+2*f.DefaultSpace},interactive:{hover:{borderColor:h.L8},active:{borderColor:h.L8},focus:{borderColor:h.L8},disabled:{borderColor:h.L9Disabled,color:y.Color.Disabled}}},placeholder:{base:{fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Secondary,position:"absolute",left:f.DefaultSpace,textAlign:"start",lineHeight:g.RowHeight+"px"},disabled:{color:y.Color.Disabled}}}};e.getTextOutlineStyles=m;var v=function(t){function e(e){var n=this;t.call(this,e),this.boundHandleClearSearch=function(){return n.handleCancelSearchWrapper()},this.boundHandleClearHover=function(t){return n.handleClearHover(t)},this.state=r.assign({},this.state,{clearHover:!1})}return o(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=r.assign({},this.state,{clearHover:!1}))},e.prototype.handleCancelSearchWrapper=function(){this.props.disabled||this.props.handleClearText()},e.prototype.handleClearHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{clearHover:t}))},e.prototype.getInputStyle=function(){var t=m();return r.assign({},t.input.base,a.conditional(this.state.clearHover,t.input.interactive.hover),this.props.inputStyle)},e.prototype.render=function(){var t=this,e=m(),n=r.assign({},e.placeholder.base,this.props.placeholderStyle,a.conditional(this.props.disabled,e.placeholder.disabled)),o=this.isPlaceholderShowing(),s={type:this.props.type,style:this.getInputStyle(),interactiveStyles:e.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return i.createElement(c.Block,{style:this.props.containerStyle},o?i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,i.createElement(u.TextFieldInputWidget,s),this.props.text?i.createElement(d.TextFieldClearButton,{pointerClick:this.boundHandleClearSearch,handleHover:this.boundHandleClearHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled}):null)},e}(p.TextFieldBase);e.OutlineTextFieldWidget=v},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(66),a=n(79),c=n(139),l=n(138),u=n(162),p=a.TabStyles.Sizing,d=a.TabStyles.Spacing,h=function(){var t=(p.RowHeight-u.TextFieldClearIcon.height)/2,e=p.RowHeight-t-u.TextFieldClearIcon.height;return{icon:{position:"absolute",right:0,paddingRight:d.DefaultSpace,paddingLeft:d.DefaultSpace,paddingTop:t,paddingBottom:e}}},g=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getIcon=function(t,e){return!t.disabled&&(t.active||e.active||e.focus||e.hover)?u.TextFieldClearIcon.clearActive:u.TextFieldClearIcon.clear},e.prototype.render=function(){var t=h();return s.createElement("img",{style:t.icon,src:this.getIcon(this.props,this.state),"data-tb-test-id":l.testId(this.props.testId,"ClearIcon")})},e=i([c.InteractiveDomHoCDecorator],e)}(r.Component);e.TextFieldClearButton=g},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(66),s=n(161),a=n(162),c=n(79),l=n(192),u="RadioButtonWithLabelGroup",p=function(t){function e(n){t.call(this,n),this.groupId=e.groupIdIncrementor++}return o(e,t),e.prototype.getContainerStyleOfIndex=function(t){return t!==this.props.buttonList.length-1?{paddingBottom:c.TabStyles.Sizing.ListRowHeight-c.TabStyles.Sizing.MultiLineInputLineHeight-(a.RadioButtonIcon.height-c.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},e.prototype.render=function(){var t=this;return r.createElement(s.Block,{role:"radiogroup"},this.props.buttonList.map(function(e,n){var o=t.getContainerStyleOfIndex(n);return r.createElement(l.RadioButtonWithLabelWidget,{index:n,groupName:u+t.groupId.toString(),value:e.value,testId:e.testId,checked:n===t.props.checkedIndex,disabled:e.disabled,handleChange:t.props.handleChange,label:e.label,containerStyle:o,key:n})}))},e.groupIdIncrementor=0,e}(i.Component);e.RadioButtonWithLabelGroupWidget=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(193),a=n(161),c=n(132),l=n(162),u=n(139),p=n(165),d=n(79),h=n(159),g=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:d.TabStyles.Sizing.MultiLineInputLineHeight},text:{width:"100%",paddingTop:(l.RadioButtonIcon.height-d.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},f=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t=g();return r.createElement(a.Block,{style:this.props.containerStyle,className:c.SuppressClickBustingClass,role:"radio"},r.createElement(p.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:t.label},r.createElement(s.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,value:this.props.value,index:this.props.index}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:t.text},this.props.label)))},e=i([u.InteractiveDomHoCDecorator],e)}(h.DynamicThemeComponent);e.RadioButtonWithLabelWidget=f},function(t,e,n){"use strict";function o(t,e){var n;return n=t.checked?t.disabled?l.RadioButtonIcon.selectedDisabled:t.hover||e.hover||e.focus?l.RadioButtonIcon.selectedActive:l.RadioButtonIcon.selected:t.disabled?l.RadioButtonIcon.unselectedDisabled:t.hover||e.hover||e.focus?l.RadioButtonIcon.unselectedActive:l.RadioButtonIcon.unselected}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=n(66),a=n(161),c=n(139),l=n(162),u=n(79),p=n(159),d=function(){return{baseDiv:{marginLeft:u.TabStyles.Spacing.DefaultSpace,marginRight:u.TabStyles.Spacing.DefaultSpace,height:l.RadioButtonIcon.height,width:l.RadioButtonIcon.width,minWidth:l.RadioButtonIcon.width,flexShrink:0},radioButton:{opacity:0,height:l.RadioButtonIcon.height,width:l.RadioButtonIcon.width,margin:0,cursor:"default"},fakeRadioButton:{height:l.RadioButtonIcon.height,width:l.RadioButtonIcon.width,position:"absolute"}}},h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.handleFormChange=function(t){this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},e.prototype.render=function(){var t=this,e=o(this.props,this.state),n=d();return s.createElement(a.InlineBlock,{style:n.baseDiv},s.DOM.img({style:n.fakeRadioButton,src:e}),s.DOM.input({style:n.radioButton,type:"radio",name:this.props.groupName,readOnly:this.props.checked,onChange:this.props.checked?null:function(e){return t.handleFormChange(e)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id}))},e=r([c.InteractiveDomHoCDecorator],e)}(p.DynamicThemeComponent);e.RadioButtonWidget=h},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(82),a=n(66),c=n(80),l=n(161),u=n(138),p=n(139),d=n(79),h=n(195),g=d.TabStyles.Colors,f=d.TabStyles.Sizing,y=d.TabStyles.Spacing,m=d.TabStyles.Typography,v=function(){var t=5*f.ListRowHeight+2*f.BorderWidth;return{container:{background:g.White},input:{base:{borderWidth:f.BorderWidth,borderRadius:f.BorderRadius,borderColor:g.L6,borderStyle:"solid",paddingLeft:y.DefaultSpace,paddingRight:y.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:m.Sizing.Default,fontFamily:m.FontFamily,color:m.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:f.ListRowHeight+"px",minHeight:f.RowHeight,maxHeight:t,overflowY:"auto",overflowX:"hidden",wordWrap:"break-word"},interactive:{hover:{borderColor:g.L8},active:{borderColor:g.L8},focus:{borderColor:g.L8},disabled:{borderColor:g.L9Disabled,color:m.Color.Disabled}}},placeholder:{position:"absolute",fontWeight:"normal",fontSize:m.Sizing.Default,fontFamily:m.FontFamily,color:m.Color.Disabled,top:y.SmallSpace,left:y.DefaultSpace,textAlign:"start",lineHeight:f.ListRowHeight+"px"}}};e.getRichTextEditOutlineStyles=v;var b=function(t){function e(){var e=this;t.apply(this,arguments),this.boundInputRef=function(t){e.textInputRef=s.findDOMNode(t),e.props.handleInputRef(t)},this.shouldShowPlaceholder=function(){if(e.state.focus)return!1;var t=!e.textInputRef||0===e.textInputRef.innerText.length;return t}}return o(e,t),e.prototype.render=function(){var t=v(),e=this.shouldShowPlaceholder(),n={style:c.assign({},t.container,this.props.containerStyle)},o={style:t.placeholder,"data-tb-test-id":u.testId(this.props.testId,"Placeholder")},i={style:t.input.base,interactiveStyles:t.input.interactive,testId:this.props.testId,handleInputRef:this.boundInputRef,disabled:this.props.disabled,handleEnter:this.props.handleEnter,handleChange:this.props.handleChange};return a.createElement(l.Block,n,u.conditional(e,a.createElement("label",o,this.props.placeholder)),a.createElement(h.RichTextEditWidget_UNFINISHED,i))},e=i([p.InteractiveDomHoCDecorator],e)}(r.Component);e.RichTextEditOutlineWidget_UNFINISHED=b},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(80),a=n(161),c=n(66),l=n(139),u="shared-widgets-content-editable-div",p=function(){return{userSelect:"text",WebkitUserSelect:"text"}},d=function(t){function e(){var e=this;t.apply(this,arguments),this.boundOnKeyDown=function(t){return e.handleUserInput(t)},this.boundOnKeyUp=function(t){return e.handleChange(t)}}return o(e,t),e.prototype.handleUserInput=function(t){this.props.disabled||"Enter"!==t.key||t.shiftKey||this.props.handleEnter&&(this.props.handleEnter(),t.preventDefault(),t.stopPropagation())},e.prototype.handleChange=function(t){this.props.disabled||this.props.handleChange&&this.props.handleChange()},e.prototype.render=function(){var t={className:u,"data-tb-test-id":this.props.testId+"-TextInput",style:s.assign({},p(),this.props.style),contentEditable:!0,onKeyDown:this.boundOnKeyDown,onKeyUp:this.boundOnKeyUp,ref:this.props.handleInputRef};return c.createElement(a.Block,t)},e=i([l.InteractiveDomHoCDecorator],e)}(r.Component);e.RichTextEditWidget_UNFINISHED=d},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(138),a=n(161),c=n(162),l=n(79),u=n(189),p=n(187),d=n(190),h=n(188);e.TextInputType=h.TextInputType;var g=l.TabStyles.Sizing,f=l.TabStyles.Spacing,y=function(){return{iconPadding:{paddingRight:c.SearchIcon.width+2*f.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:f.DefaultSpace,paddingLeft:f.DefaultSpace,marginTop:(g.RowHeight-c.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},m=function(t){function e(e){var n=this;t.call(this,e),this.boundHandleClearSearch=function(){return n.handleCancelSearchWrapper()},this.boundHandleCancelHover=function(t){return n.handleCancelHover(t)},this.state=r.assign({},this.state,{cancelHover:!1})}return o(e,t),e.prototype.componentWillReceiveProps=function(t){t.text||(this.state=r.assign({},this.state,{cancelHover:!1}))},e.prototype.handleCancelSearchWrapper=function(){this.props.disabled||this.props.handleCancelSearch()},e.prototype.handleCancelHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{cancelHover:t}))},e.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?c.SearchIcon.searchActive:c.SearchIcon.search},e.prototype.getInputStyle=function(){var t=u.getTextOutlineStyles(),e=y();return r.assign({},t.input.base,e.iconPadding,this.state.cancelHover?t.input.interactive.hover:{},this.props.inputStyle)},e.prototype.render=function(){var t=this,e=y(),n=u.getTextOutlineStyles(),o=r.assign({},n.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,n.placeholder.disabled)),c=this.isPlaceholderShowing(),l=this.getInputStyle(),p={type:this.props.type,style:l,interactiveStyles:n.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(e){return t.handleInputActive(e)},handleFocus:function(e){return t.handleInputFocus(e)},handleHover:function(e){return t.handleInputHover(e)},readOnly:this.props.readOnly,maxLength:this.props.maxLength};return i.createElement(a.Block,{style:this.props.containerStyle},this.props.text?null:i.createElement("img",{src:this.getIcon(),style:e.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"}),c?i.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,i.createElement(h.TextFieldInputWidget,p),this.props.text?i.createElement(d.TextFieldClearButton,{pointerClick:this.boundHandleClearSearch,handleHover:this.boundHandleCancelHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled}):null)},e}(p.TextFieldBase);e.SearchFieldWidget=m},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(80),s=n(161),a=n(159),c=n(189),l=n(198),u=n(162),p=n(79),d=n(138),h=n(188);e.TextInputType=h.TextInputType;var g,f=n(201);!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(g||(g={})),e.StepperType=g;var y=p.TabStyles.Spacing,m=p.TabStyles.Sizing,v=function(){return{verticalIconPadding:{paddingRight:u.StepperDownIcon.width+y.DefaultSpace},horizontalIconPadding:{paddingRight:u.StepperRightIcon.width+u.StepperLeftIcon.width+y.DefaultSpace+2*m.BorderWidth},outlineContainer:{width:"100%"}}},b=function(t){function e(e){var n=this;t.call(this,e),this.boundhandleKeyDown=function(t){return n.handleKeyDown(t)},this.boundHandleActive=function(t){return n.handleInputActive(t)},this.boundHandleFocus=function(t){return n.handleInputFocus(t)},this.boundHandleHover=function(t){return n.handleInputHover(t)},this.boundHandleIncrementWrapper=function(){return n.handleIncrementWrapper()},this.boundHandleDecrementWrapper=function(){return n.handleDecrementWrapper()},this.boundHandleChangeWrapper=function(t){return n.handleChangeWrapper(t)},this.boundHandleStepperHover=function(t){return n.handleStepperHover(t)},this.state={inputFocus:!1,inputActive:!1,inputHover:!1,stepperHover:!1}}return o(e,t),e.prototype.handleInputActive=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputActive:t}))},e.prototype.handleInputFocus=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputFocus:t}))},e.prototype.handleInputHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{inputHover:t}))},e.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},e.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},e.prototype.handleChangeWrapper=function(t){isNaN(+t)||this.props.handleChange(+t)},e.prototype.getInputStyle=function(){var t=this.props.stepperType===g.Vertical,e=c.getTextOutlineStyles(),n=v();return r.assign({},e.input.base,d.conditional(this.state.stepperHover,e.input.interactive.hover),this.props.inputStyle,t?n.verticalIconPadding:n.horizontalIconPadding)},e.prototype.handleStepperHover=function(t){this.props.disabled||this.setState(r.assign({},this.state,{stepperHover:t}))},e.prototype.handleKeyDown=function(t){this.props.disabled||("ArrowUp"===t.key?this.handleIncrementWrapper():"ArrowDown"===t.key&&this.handleDecrementWrapper())},e.prototype.render=function(){var t={style:this.props.containerStyle},e=this.props.stepperType===g.Vertical,n=e?f.VerticalStepperArrowGroup:l.HorizontalStepperArrowGroup,o=c.getTextOutlineStyles(),r=this.getInputStyle(),a={style:r,interactiveStyles:o.input.interactive,text:String(this.props.value),testId:d.testId(this.props.testId,"StepperWidget"),handleChange:this.boundHandleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus,handleHover:this.boundHandleHover,readOnly:this.props.readOnly,maxLength:this.props.maxLength,onKeyDown:this.boundhandleKeyDown},u={testId:d.testId(this.props.testId,"StepperWidget"),isIncrementDisabled:this.props.isIncrementDisabled,isDecrementDisabled:this.props.isDecrementDisabled,disabled:this.props.disabled,inputStyle:this.props.inputStyle,handleIncrement:this.boundHandleIncrementWrapper,handleDecrement:this.boundHandleDecrementWrapper,handleHover:this.boundHandleStepperHover};return i.createElement(s.Block,t,i.createElement(h.TextFieldInputWidget,a),i.createElement(n,u))},e}(a.DynamicThemeComponent);e.StepperWidget=b},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(80),a=n(161),c=n(199),l=n(139),u=n(200),p=n(162),d=n(79),h=n(138),g=d.TabStyles.Colors,f=d.TabStyles.Sizing,y=function(){return{iconContainer:{position:"absolute",top:f.BorderWidth,borderWidth:f.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"none",outline:"none",backgroundColor:g.Transparent},arrowLayout:{position:"none"},incrementStyle:{right:f.BorderWidth},decrementStyle:{borderLeft:"solid",borderRight:"solid",right:f.BorderWidth+p.StepperRightIcon.width}}},m=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getIncrementIconStyle=function(){var t=y();return s.assign({},t.incrementStyle,t.iconContainer,this.props.inputStyle)},e.prototype.getDecrementIconStyle=function(){var t=y();return s.assign({},t.decrementStyle,t.iconContainer,this.props.inputStyle)},e.prototype.render=function(){var t={style:y().arrowLayout},e={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:p.StepperLeftIcon.active,enabledIcon:p.StepperLeftIcon.enabled,disabledIcon:p.StepperLeftIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled},n={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:p.StepperRightIcon.active,enabledIcon:p.StepperRightIcon.enabled,disabledIcon:p.StepperRightIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled};return r.createElement(a.Block,t,r.createElement(c.IconButtonBase,e),r.createElement(c.IconButtonBase,n))},e=i([l.InteractiveDomHoCDecorator],e)}(u.StepperArrowGroup);e.HorizontalStepperArrowGroup=m},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(66),s=n(80),a=n(139),c=n(138),l=function(t){function e(e){var n=this;t.call(this,e),this.boundHandleActive=function(t){return n.handleActiveWrapper(t)},this.boundPointerClick=function(){return n.handleClickWrapper()},this.state={active:!1}}return o(e,t),e.prototype.handleClickWrapper=function(){!this.props.disabled&&this.props.handleClick&&this.props.handleClick()},e.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon:this.state.active?this.props.activeIcon:this.props.enabledIcon},e.prototype.handleActiveWrapper=function(t){this.setState(s.assign({},this.state,{active:t}))},e.prototype.render=function(){var t={pointerClick:this.boundPointerClick,handleActive:this.boundHandleActive},e={src:this.getIcon(),draggable:!1,style:this.props.style,"data-tb-test-id":c.testId(this.props.testId,"IconButtonBase")};return r.createElement(a.InteractiveDomWrapper,t,r.createElement("img",e))},e}(i.Component);e.IconButtonBase=l},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleIncrementWrapper=function(){return e.handleIncrementWrapper()},this.boundHandleDecrementWrapper=function(){return e.handleDecrementWrapper()}}return o(e,t),e.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},e.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},e.prototype.handleHoverWrapper=function(t){this.props.disabled||this.props.handleHover(t)},e}(i.Component);e.StepperArrowGroup=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=n(66),s=n(80),a=n(161),c=n(199),l=n(139),u=n(200),p=n(162),d=n(79),h=n(138),g=d.TabStyles.Colors,f=d.TabStyles.Sizing,y=function(){return{icon:{position:"absolute",right:f.BorderWidth,paddingRight:f.BorderWidth,paddingLeft:f.BorderWidth,borderWidth:f.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderBottom:"none",backgroundColor:g.Transparent},arrowLayout:{position:"none"},incrementStyle:{top:f.BorderWidth},decrementStyle:{top:f.RowHeight-p.StepperDownIcon.height-2*f.BorderWidth,borderTop:"solid"}}},m=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.getIncrementIconStyle=function(){var t=y();return s.assign({},t.incrementStyle,t.icon,this.props.inputStyle)},e.prototype.getDecrementIconStyle=function(){var t=y();return s.assign({},t.decrementStyle,t.icon,this.props.inputStyle)},e.prototype.render=function(){var t={style:y().arrowLayout},e={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:p.StepperUpIcon.active,enabledIcon:p.StepperUpIcon.enabled,disabledIcon:p.StepperUpIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled},n={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:p.StepperDownIcon.active,enabledIcon:p.StepperDownIcon.enabled,disabledIcon:p.StepperDownIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled};return r.createElement(a.Block,t,r.createElement(c.IconButtonBase,e),r.createElement(c.IconButtonBase,n))},e=i([l.InteractiveDomHoCDecorator],e)}(u.StepperArrowGroup);e.VerticalStepperArrowGroup=m},function(t,e,n){"use strict";var o,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(66),s=n(80),a=n(159),c=n(79),l=n(203);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(o||(o={})),e.SelectedToggle=o;var u=function(){return{container:{display:"flex"},toggleBase:{flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:c.TabStyles.Spacing.MediumSpace,paddingRight:c.TabStyles.Spacing.MediumSpace,borderWidth:c.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:c.TabStyles.Sizing.RowHeight-2*c.TabStyles.Sizing.BorderWidth+"px",userSelect:"none"},selectedToggle:{backgroundColor:c.TabStyles.Colors.F8,color:c.TabStyles.Typography.Color.InvertedPrimary,borderColor:c.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:c.TabStyles.Colors.F1,color:c.TabStyles.Typography.Color.Primary,borderColor:c.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:c.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:c.TabStyles.Colors.L9},focusSelectedToggle:{borderColor:c.TabStyles.Colors.L9},focusUnselectedToggle:{borderColor:c.TabStyles.Colors.L9},activeSelectedToggle:{backgroundColor:c.TabStyles.Colors.F8,color:c.TabStyles.Typography.Color.InvertedPrimary,borderColor:c.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:c.TabStyles.Colors.F8,color:c.TabStyles.Typography.Color.InvertedPrimary,borderColor:c.TabStyles.Colors.L9},unactiveToggle:{backgroundColor:c.TabStyles.Colors.F1,color:c.TabStyles.Typography.Color.Primary,borderColor:c.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:c.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:c.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:c.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:c.TabStyles.Sizing.BorderRadius}}},p=function(t){function e(){var e=this;t.apply(this,arguments),this.boundHandleChange=function(t){return e.handleChangeHelper(t)}}return i(e,t),e.prototype.handleChangeHelper=function(t){1===t?this.props.handleRightToggleSelected():this.props.handleLeftToggleSelected()},e.prototype.render=function(){var t=u();return t.container=s.assign({},t.container,this.props.containerStyle),r.createElement(l.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===o.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.boundHandleChange,style:t,testId:this.props.testId})},e}(a.DynamicThemeComponent);e.ToggleTextWidget=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(66),s=n(80),a=n(161),c=n(132),l=n(138),u=n(165),p="SwitcherTextGroup",d=function(t){function e(){var e=this;t.apply(this,arguments),this.boundedChange=function(t){return e.props.handleChange(e.props.idx)},this.boundHandleActive=function(t){return e.handleActive(t)}}return o(e,t),e.prototype.handleActive=function(t){this.props.handleActive(t?this.props.idx:-1)},e.prototype.render=function(){return r.createElement(u.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.boundHandleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.props.checked?null:this.boundedChange,type:"radio",checked:this.props.checked,name:this.props.groupName,readOnly:this.props.checked,"data-tb-test-id":l.testId(this.props.testId,"input")}),this.props.children)},e}(i.Component),h=function(t){function e(n){var o=this;t.call(this,n),this.boundHandleActive=function(t){return o.handleActive(t)},this.groupId=e.groupIdIncrementor++,this.state={activerSwitcherIdx:-1}}return o(e,t),e.prototype.handleActive=function(t){this.setState({activerSwitcherIdx:t})},e.prototype.getToggleStyling=function(t){var e=s.assign({},this.props.style.toggleBase,0===t?this.props.style.firstToggle:null,t===this.props.toggleTexts.length-1?this.props.style.lastToggle:null);return e=this.state.activerSwitcherIdx>=0?s.assign({},e,this.state.activerSwitcherIdx!==t?this.props.style.unactiveToggle:this.props.checkedIndex===t?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle):s.assign({},e,this.props.checkedIndex===t?this.props.style.selectedToggle:this.props.style.unselectedToggle)},e.prototype.render=function(){var t=this,e=p+String(this.groupId),n=this.props.toggleTexts.map(function(n,o){var i=t.getToggleStyling(o),s=t.props.checkedIndex===o?t.props.style.hoverSelectedToggle:t.props.style.hoverUnselectedToggle,a=t.props.checkedIndex===o?t.props.style.focusSelectedToggle:t.props.style.focusUnselectedToggle;return r.createElement(d,{groupName:e,handleChange:t.props.handleChange,checked:t.props.checkedIndex===o,testId:l.testId(t.props.testId,n),idx:o,style:i,hoverStyle:s,focusStyle:a,key:o,handleActive:t.boundHandleActive},n)});return r.createElement(a.Block,{style:this.props.style.container,className:c.SuppressClickBustingClass},n)},e.groupIdIncrementor=0,e}(i.Component);e.SwitcherTextBase=h},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(205),s="commenting-banner",a="commenting-banner-icon";e.bannerIconClass=a;var c="commenting-banner-title";e.bannerTitleClass=c;var l="commenting-banner-subtitle";e.bannerSubtitleClass=l;var u=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return i.createElement("div",{className:s,style:r.bannerContainer},i.createElement("img",{className:a,src:this.props.icon,style:r.bannerIcon}),i.createElement("p",{className:c,style:r.bannerTitle},this.props.title),i.createElement("p",{className:l,style:r.bannerSubtitle},this.props.subtitle))},e}(i.Component);e.CommentingBanner=u},function(t,e,n){"use strict";var o=n(84),i=n(78),r=i.SharedStyles.Colors,s=i.SharedStyles.Spacing,a={marginTop:i.CommentingBannerMetrics.BannerTopMargin,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"};e.bannerContainer=a;var c={marginTop:s.LargeSpace,marginLeft:s.LargeSpace,marginRight:s.LargeSpace,color:r.F8,textAlign:"center"},l=o({},c,{fontSize:i.CommentingBannerMetrics.TitleFontSize});e.bannerTitle=l;var u=o({},c,{fontSize:i.CommentingBannerMetrics.SubtitleFontSize});e.bannerSubtitle=u;var p={width:i.CommentingBannerMetrics.Width,height:i.CommentingBannerMetrics.Height};e.bannerIcon=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=n(66),s=n(207),a=n(213),c=n(217),l=function(t){function e(e,n){var o=this;t.call(this,e,n),this.boundOnStoreChanged=function(){o.setState(o.store.getState().createComment)},this.createVizState=function(){return o.store.dispatch(c.createVizStateAction(o.commentingService))},this.createComment=function(t,e){return o.store.dispatch(a.createCommentAction(o.commentingService,o.userService,t,e))},this.store=n.store,this.commentingService=n.commentingService,this.userService=n.userService,this.state={vizStateAttachment:void 0}}return o(e,t),e.prototype.componentDidMount=function(){this.unsubscribe=this.store.subscribe(this.boundOnStoreChanged)},e.prototype.componentWillUnmount=function(){this.unsubscribe()},e.prototype.render=function(){var t={vizStateAttachment:this.state.vizStateAttachment,onCreateComment:this.createComment,onCreateVizState:this.createVizState};return r.createElement(s.CreateComment,i({},t))},e.contextTypes={store:r.PropTypes.object.isRequired,commentingService:r.PropTypes.object.isRequired,userService:r.PropTypes.object.isRequired},e}(r.Component);e.CreateCommentContainer=l},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=n(66),s=n(82),a=n(208),c=n(131),l=n(209),u=n(130),p=n(211),d="commenting-create-comment-text-input";e.CommentInputTestId=d;var h=function(t){function e(){var e=this;t.apply(this,arguments),this.bindTextInputRef=function(t){e.textInputRef=s.findDOMNode(t)},this.extractCommentTextFromInput=function(){if(e.textInputRef)return e.textInputRef.innerText},this.bindInputChange=function(){return e.forceUpdate()},this.bindCreateComment=function(){return e.submitCommentText()},this.renderVizStatePreview=function(){if(e.props.vizStateAttachment){var t={thumbnailUrl:e.props.vizStateAttachment.vizState.thumbnailUrl};return r.createElement(p.VizStatePreview,i({},t))}}}return o(e,t),e.prototype.render=function(){var t={handleChange:this.bindInputChange,handleEnter:this.bindCreateComment,handleInputRef:this.bindTextInputRef,placeholder:u.getLocalizedString("enterComment"),testId:d,containerStyle:a.commentInputContainer},e={buttonType:c.ButtonType.Go,disabled:this.isCreateButtonDisabled(),handleClick:this.bindCreateComment,label:u.getLocalizedString("post"),testId:"commenting-create-comment-button"},n={onClick:this.props.onCreateVizState};return r.createElement("div",{className:"commenting-create-comment",style:a.createCommentContainer},r.createElement(c.RichTextEditOutlineWidget_UNFINISHED,i({},t)),this.renderVizStatePreview(),r.createElement("div",{style:a.createCommentButtonContainer},r.createElement(l.CreateVizStateButton,i({},n)),r.createElement(c.ButtonWidget,i({},e))))},e.prototype.submitCommentText=function(){(this.hasCommentText()||this.hasVizState())&&this.createComment()},e.prototype.createComment=function(){this.hasVizState()?this.props.onCreateComment(this.extractCommentTextFromInput(),this.props.vizStateAttachment.vizState.id):this.props.onCreateComment(this.extractCommentTextFromInput()),this.resetCommentState()},e.prototype.resetCommentState=function(){this.textInputRef.textContent=""},e.prototype.isCreateButtonDisabled=function(){return!this.hasCommentText()&&!this.hasVizState()},e.prototype.hasCommentText=function(){return this.textInputRef&&0!==this.textInputRef.textContent.trim().length},e.prototype.hasVizState=function(){return null!=this.props.vizStateAttachment},e}(r.Component);e.CreateComment=h},function(t,e,n){"use strict";var o=n(78),i=o.SharedStyles.Colors,r=o.SharedStyles.Sizing,s=o.SharedStyles.Spacing,a={display:"flex",position:"relative",flexDirection:"column",flexShrink:0,borderTopWidth:r.BorderWidth,borderTopStyle:"solid",borderTopColor:i.F5,backgroundColor:i.F1,padding:s.LargeSpace};e.createCommentContainer=a;var c={width:"100%"};e.commentInputContainer=c;var l={display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:s.MediumSpace,width:"100%"};e.createCommentButtonContainer=l},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=n(66),a=n(210),c=n(122),l=n(131),u="commenting-create-viz-state";e.vizStateLinkClass=u;var p=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){var t={className:u,onClick:this.props.onClick},e={src:this.state.hover?c.createVizStateIcon.hover:c.createVizStateIcon.active,style:this.state.hover?a.createVizStateIconHover:a.createVizStateIcon};return s.createElement("div",i({},t),s.createElement("img",i({},e)))},e=r([l.InteractiveDomHoCDecorator],e)}(s.Component);e.CreateVizStateButton=p},function(t,e,n){"use strict";var o=n(84),i={height:19};e.createVizStateIcon=i;var r=o({},i,{cursor:"pointer"});e.createVizStateIconHover=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(66),r=n(212),s="commenting-viz-state-preview";e.vizStatePreviewClass=s;var a="commenting-viz-state-preview-container",c=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return i.createElement("div",{className:a,style:r.vizStatePreviewContainer},i.createElement("div",{className:s,style:r.vizStatePreview(this.props.thumbnailUrl)}))},e}(i.Component);e.VizStatePreview=c},function(t,e,n){"use strict";var o=n(78),i=o.SharedStyles.Colors,r=o.SharedStyles.Sizing,s=o.SharedStyles.Spacing,a=144,c=8,l=192,u=r.BorderWidth,p=a+2*c,d={height:p,marginTop:s.MediumSpace,borderWidth:u,borderStyle:"solid",borderColor:i.F5,backgroundColor:i.White};e.vizStatePreviewContainer=d;var h=function(t){return{marginLeft:"auto",marginRight:"auto",marginTop:c,marginBottom:c,width:l,height:a,backgroundSize:"cover",backgroundImage:"url("+t+")"}};e.vizStatePreview=h},function(t,e,n){"use strict";function o(t,e,n,o){return function(s){if(c.MentionHelper.hasMentions(n)){var a=e.getUserModelsFromCommentPromise(n);a.then(function(e){return i(t,n,o,e,s)})}else{var l=n;s(r(t,n,l,o))}}}function i(t,e,n,o,i){var s=e;o.forEach(function(t){s=c.MentionHelper.markupUser(t,s)}),i(r(t,e,s,n))}function r(t,e,n,o){var i=t.createComment(e,n,o);return l(i)}n(2);var s=n(214),a=n(215),c=n(216),l=s.actionCreator(a.ActionTypes.COMMENT_CREATE);e.createCommentActionCreator=l,e.createCommentAction=o},function(t,e,n){"use strict";var o=n(84);e.actionCreator=function(t){return o(function(e){return{type:t,payload:e}},{type:t})},e.isType=function(t,e){return t.type===e.type}},function(t,e){"use strict";var n=function(){function t(){}return t.COMMENTS_GET="COMMENTS_GET",t.COMMENTS_GET_PENDING=t.COMMENTS_GET+"_PENDING",t.COMMENTS_GET_FULFILLED=t.COMMENTS_GET+"_FULFILLED",t.COMMENTS_GET_REJECTED=t.COMMENTS_GET+"_REJECTED",t.COMMENT_CREATE="COMMENT_CREATE",t.COMMENT_CREATE_PENDING=t.COMMENT_CREATE+"_PENDING",t.COMMENT_CREATE_FULFILLED=t.COMMENT_CREATE+"_FULFILLED",t.COMMENT_CREATE_REJECTED=t.COMMENT_CREATE+"_REJECTED",t.VIZ_STATE_CREATE="VIZ_STATE_CREATE",t.VIZ_STATE_CREATE_PENDING=t.VIZ_STATE_CREATE+"_PENDING",t.VIZ_STATE_CREATE_FULFILLED=t.VIZ_STATE_CREATE+"_FULFILLED",t.VIZ_STATE_CREATE_REJECTED=t.VIZ_STATE_CREATE+"_REJECTED",t}();e.ActionTypes=n},function(t,e){"use strict";var n=function(){function t(){}return t.getMentionMatcher=function(){return new RegExp(this.mentionMatcherString,"g")},t.hasMentions=function(t){return this.getMentionMatcher().test(t)},t.markupUser=function(t,e){var n=e,o=e.lastIndexOf(t.displayName),i=this.wordInString(e,t.displayName);return o!==-1&&i&&(n=this.stringInsertAt(n,o+t.displayName.length,"}"),n=this.stringInsertAt(n,o,"{"+t.id+":")),n},t.stringInsertAt=function(t,e,n){return t.substr(0,e)+n+t.substr(e)},t.wordInString=function(t,e){return new RegExp("\\b"+e+"\\b","i").test(t)},t.mentionMatcherString="(@\\w*)",t}();e.MentionHelper=n},function(t,e,n){"use strict";function o(t){var e=t.createVizState();return s(e)}n(2);var i=n(214),r=n(215),s=i.actionCreator(r.ActionTypes.VIZ_STATE_CREATE);e.createVizStateActionCreator=s,e.createVizStateAction=o},function(t,e,n){"use strict";function o(t){var e=t.getComments();return s(e)}n(2);var i=n(214),r=n(215),s=i.actionCreator(r.ActionTypes.COMMENTS_GET);e.getCommentsActionCreator=s,e.getCommentsAction=o},function(t,e,n){"use strict";var o=n(220),i=n(234),r=n(236),s=n(237),a=o.applyMiddleware(r["default"],i["default"]()),c=o.createStore(s.commentingReducers,a);e.commentingStore=c},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(221),r=o(i),s=n(229),a=o(s),c=n(231),l=o(c),u=n(232),p=o(u),d=n(233),h=o(d),g=n(230);o(g);e.createStore=r["default"],e.combineReducers=a["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){function o(){m===y&&(m=y.slice())}function r(){return f}function a(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return o(),m.push(t),function(){if(e){e=!1,o();var n=m.indexOf(t);m.splice(n,1)}}}function u(t){if(!(0,s["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,f=g(f,t)}finally{v=!1}for(var e=y=m,n=0;n<e.length;n++)e[n]();return t}function p(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");g=t,u({type:l.INIT})}function d(){var t,e=a;return t={subscribe:function(t){function n(){t.next&&t.next(r())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var o=e(n);return{unsubscribe:o}}},t[c["default"]]=function(){return this},t}var h;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var g=t,f=e,y=[],m=y,v=!1;return u({type:l.INIT}),h={dispatch:u,subscribe:a,getState:r,replaceReducer:p},h[c["default"]]=d,h}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=i;var r=n(222),s=o(r),a=n(227),c=o(a),l=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function o(t){if(!s(t)||d.call(t)!=a||r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}var i=n(223),r=n(225),s=n(226),a="[object Object]",c=Object.prototype,l=Function.prototype.toString,u=c.hasOwnProperty,p=l.call(Object),d=c.toString;t.exports=o},function(t,e,n){var o=n(224),i=Object.getPrototypeOf,r=o(i,Object);t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(228)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=e&&e.type,o=n&&'"'+n.toString()+'"'||"an action";return"Given action "+o+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function r(t){Object.keys(t).forEach(function(e){var n=t[e],o=n(void 0,{type:a.ActionTypes.INIT});if("undefined"==typeof o)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(t){for(var e=Object.keys(t),n={},o=0;o<e.length;o++){var s=e[o];"function"==typeof t[s]&&(n[s]=t[s])}var a,c=Object.keys(n);try{r(n)}catch(l){a=l}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(a)throw a;for(var o=!1,r={},s=0;s<c.length;s++){var l=c[s],u=n[l],p=t[l],d=u(p,e);if("undefined"==typeof d){var h=i(l,e);throw new Error(h)}r[l]=d,o=o||d!==p}return o?r:t}}e.__esModule=!0,e["default"]=s;var a=n(221),c=n(222),l=(o(c),n(230));o(l)},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function o(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var o=Object.keys(t),i={},r=0;r<o.length;r++){var s=o[r],a=t[s];"function"==typeof a&&(i[s]=n(a,e))}return i}e.__esModule=!0,e["default"]=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,o,i){var s=t(n,o,i),c=s.dispatch,l=[],u={getState:s.getState,dispatch:function(t){return c(t)}};return l=e.map(function(t){return t(u)}),c=a["default"].apply(void 0,l)(s.dispatch),r({},s,{dispatch:c})}}}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};e["default"]=i;var s=n(233),a=o(s)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var o=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof o?o.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.promiseTypeSuffixes||u;return function(t){var n=t.dispatch;return function(t){return function(o){if(!o.payload)return t(o);if(!(0,l["default"])(o.payload)&&!(0,l["default"])(o.payload.promise))return t(o);var i=o.type,c=o.payload,u=o.meta,p=a(e,3),d=p[0],h=p[1],g=p[2],f=function(t,e){return s({type:i+"_"+(e?g:h)},null===t||"undefined"==typeof t?{}:{payload:t},u?{meta:u}:{},e?{error:!0}:{})},y=void 0,m=void 0;(0,l["default"])(o.payload)||"object"!==r(o.payload)?(y=c,m=null):(y=c.promise,m=c.data),t(s({type:i+"_"+d},m?{payload:m}:{},u?{meta:u}:{}));var v=function(t){var e=f(t,!0);throw n(e),t},b=function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],e=f(t,!1);return n(e),{value:t,action:e}};return y.then(b,v)}}}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(c){i=!0,r=c}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=i;var c=n(235),l=o(c),u=["PENDING","FULFILLED","REJECTED"]},function(t,e){"use strict";function n(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":o(t))&&(t&&"function"==typeof t.then)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e["default"]=n},function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,o=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,o,t):e(i)}}}}e.__esModule=!0;var o=n();o.withExtraArgument=n,e["default"]=o},function(t,e,n){"use strict";function o(t,e){void 0===t&&(t=c);var n={commentingPane:s.commentingPaneReducer(t.commentingPane,e),createComment:a.createCommentReducer(t.createComment,e)};return e.type===r.ActionTypes.COMMENT_CREATE_FULFILLED&&(n.createComment.vizStateAttachment=void 0),i(t,n)?n:t}function i(t,e){return JSON.stringify(t)!==JSON.stringify(e)}var r=n(215),s=n(238),a=n(239),c={commentingPane:{comments:[]},createComment:{vizStateAttachment:void 0}};e.commentingReducers=o},function(t,e,n){"use strict";function o(t,e){switch(void 0===t&&(t=s),e.type){case r.ActionTypes.COMMENTS_GET_FULFILLED:var n=e.payload;return i({},t,{comments:n.comments});case r.ActionTypes.COMMENT_CREATE_FULFILLED:var o=i({},t);return o.comments=t.comments.concat(e.payload),o;default:return t}}var i=n(84),r=n(215),s={comments:[]};e.commentingPaneReducer=o},function(t,e,n){"use strict";function o(t,e){switch(void 0===t&&(t=s),e.type){case r.ActionTypes.VIZ_STATE_CREATE_FULFILLED:var n=e.payload;return i({},t,{vizStateAttachment:n});default:return t}}var i=n(84),r=n(215),s={vizStateAttachment:void 0};e.createCommentReducer=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.connect=e.Provider=void 0;var i=n(241),r=o(i),s=n(244),a=o(s);e.Provider=r["default"],e.connect=a["default"]},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e["default"]=void 0;var a=n(66),c=n(242),l=o(c),u=n(243),p=(o(u),function(t){function e(n,o){i(this,e);var s=r(this,t.call(this,n,o));return s.store=n.store,s}return s(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){return a.Children.only(this.props.children)},e}(a.Component));e["default"]=p,p.propTypes={store:l["default"].isRequired,children:a.PropTypes.element.isRequired},p.childContextTypes={store:l["default"].isRequired}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(66);e["default"]=o.PropTypes.shape({subscribe:o.PropTypes.func.isRequired,dispatch:o.PropTypes.func.isRequired,getState:o.PropTypes.func.isRequired})},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t.displayName||t.name||"Component"}function c(t,e){try{return t.apply(e)}catch(n){return T.value=n,T}}function l(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=Boolean(t),d=t||M,g=void 0;g="function"==typeof e?e:e?(0,m["default"])(e):L;var y=n||D,v=o.pure,b=void 0===v||v,I=o.withRef,S=void 0!==I&&I,P=b&&y!==D,j=x++;return function(t){function e(t,e,n){var o=y(t,e,n);return o}var n="Connect("+a(t)+")",o=function(o){function a(t,e){i(this,a);var s=r(this,o.call(this,t,e));s.version=j,s.store=t.store||e.store,(0,w["default"])(s.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var c=s.store.getState();return s.state={storeState:c},s.clearCache(),s}return s(a,o),a.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},a.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var n=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,e):this.finalMapStateToProps(n);return o},a.prototype.configureFinalMapState=function(t,e){var n=d(t.getState(),e),o="function"==typeof n;return this.finalMapStateToProps=o?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):n},a.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var n=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,e):this.finalMapDispatchToProps(n);return o},a.prototype.configureFinalMapDispatch=function(t,e){var n=g(t.dispatch,e),o="function"==typeof n;return this.finalMapDispatchToProps=o?n:g,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):n},a.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,f["default"])(t,this.stateProps))&&(this.stateProps=t,!0)},a.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,f["default"])(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},a.prototype.updateMergedPropsIfNeeded=function(){var t=e(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&P&&(0,f["default"])(t,this.mergedProps))&&(this.mergedProps=t,!0)},a.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},a.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},a.prototype.componentDidMount=function(){this.trySubscribe()},a.prototype.componentWillReceiveProps=function(t){b&&(0,f["default"])(t,this.props)||(this.haveOwnPropsChanged=!0)},a.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},a.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},a.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!b||e!==t){if(b&&!this.doStatePropsDependOnOwnProps){var n=c(this.updateStatePropsIfNeeded,this);if(!n)return;n===T&&(this.statePropsPrecalculationError=T.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},a.prototype.getWrappedInstance=function(){return(0,w["default"])(S,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},a.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,r=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,a=!0;b&&r&&(s=n||e&&this.doStatePropsDependOnOwnProps,a=e&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),a&&(l=this.updateDispatchPropsIfNeeded());var d=!0;return d=!!(c||l||e)&&this.updateMergedPropsIfNeeded(),!d&&r?r:(S?this.renderedElement=(0,p.createElement)(t,u({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,p.createElement)(t,this.mergedProps),this.renderedElement)},a}(p.Component);return o.displayName=n,o.WrappedComponent=t,o.contextTypes={store:h["default"]},o.propTypes={store:h["default"]},(0,C["default"])(o,t)}}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};e["default"]=l;var p=n(66),d=n(242),h=o(d),g=n(245),f=o(g),y=n(246),m=o(y),v=n(243),b=(o(v),n(222)),I=(o(b),n(247)),C=o(I),S=n(248),w=o(S),M=function(t){return{}},L=function(t){return{dispatch:t}},D=function(t,e,n){return u({},n,t,e)},T={value:null},x=0},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var i=Object.prototype.hasOwnProperty,r=0;r<n.length;r++)if(!i.call(e,n[r])||t[n[r]]!==e[n[r]])return!1;return!0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function o(t){return function(e){return(0,i.bindActionCreators)(t,e)}}e.__esModule=!0,e["default"]=o;var i=n(220)},function(t,e){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,r){if("string"!=typeof e){var s=Object.getOwnPropertyNames(e);i&&(s=s.concat(Object.getOwnPropertySymbols(e)));for(var a=0;a<s.length;++a)if(!(n[s[a]]||o[s[a]]||r&&r[s[a]]))try{t[s[a]]=e[s[a]]}catch(c){}}return t}},function(t,e,n){"use strict";var o=function(t,e,n,o,i,r,s,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,i,r,s,a],u=0;c=new Error(e.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=o},function(t,e,n){"use strict";n(2);var o=n(75),i=n(216),r=n(68),s=function(){function t(t){var e=this;this.userPagesWithUniqueUsers=function(t){if(1===t.totalCount)return t.users[0]},this.definedUsers=function(t){return void 0!==t},this.getMentionedUsers=function(t){return t.map(function(t){return e.getUsers(t.substring(1))})},this.server=t}return t.prototype.getUsers=function(t,e){var n=this.server.sendRequest(this.getUsersRequest(t,e));return n.then(function(t){return r.parseUserPage(t)})},t.prototype.getUsersRequest=function(t,e){var n={filter:{operator:"and",clauses:[{operator:"matches",value:t}]}};return o.generateGetUsersRequest(n)},t.prototype.getUserModelsFromCommentPromise=function(t){var e=this,n=t.match(i.MentionHelper.getMentionMatcher()),o=Promise.all(this.getMentionedUsers(n));return o.then(function(t){var n=t.map(e.userPagesWithUniqueUsers).filter(e.definedUsers);return n})},t}();e.UserService=s}]);(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlcommenting');var b=function(){};b.__typeName='tab.CommentingFactory';global.tab.CommentingFactory=b;var c=function(){this.$c='/img/user_content_type.svg';ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};c.__typeName='tab.CommentingModuleViewModel';c.$0=function(d){return ss.mkdict(['viz_state_id',d,'sheet_id',tsConfig.current_sheet_name])};global.tab.CommentingModuleViewModel=c;ss.initClass(b,a,{createCommentingModuleViewModel:function(){return new c}},null,[tab.ICommentingFactory]);ss.initClass(c,a,{get_viewModel:function(){return this},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[c,Commenting.CommentingModule,Object])},createInitialProps:function(){var d=this.$8();var e=this.$6(d);var f=tab.WorkgroupServerCommands.createCommentingServer();var g=this.$7(f);return{server:f,commentSessionInfo:e,displayVizState:g}},$8:function(){var d=new Object;d.id=tsConfig.current_user_id.toString();d.displayName=tsConfig.current_user_friendly_name;d.userImageUrl=this.$b();d.username=tsConfig.current_user_name;return d},$6:function(d){var e=new Object;e.commentableId=tsConfig.current_view_id;e.commentableType='VIEW';e.commentableName=tsConfig.current_sheet_name;e.userSessionInfo=d;return e},$7:function(d){var e=ss.mkdel(this,function(f){var g=new Object;g.method='apply_viz_state';g.params=c.$0(f.id);var h=g;var i=d.sendVizqlRequest(h);i.then(ss.mkdel(this,this.$a))});return e},$a:function(){tab.SheetClientCommands.ensureLayoutForSheet(tsConfig.current_sheet_name)},$9:function(){return!ss.isNullOrEmptyString(this.$5())},$b:function(){return(this.$9()?this.$5():this.$c)},$5:function(){return tsConfig.current_user_image_url},disposeViewModel:function(){this.dispose()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IContent,tab.ICommentingModuleViewModel]);(function(){c.applyVizStateApiMethodName='apply_viz_state'})()})();;
/*! BEGIN UnificationStyleQuickFilters */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlunificationstylequickfilters');var b=function(){};b.__typeName='tab.CategoricalDisplayMode';global.tab.CategoricalDisplayMode=b;var c=function(k,l){this.$n=null;this.$o=null;React.Component.call(this,k,l);this.state=this.$2(this.props)};c.__typeName='tab.CategoricalListComponent';c.$0=function(){return tab.Logger.lazyGetLogger(c)};global.tab.CategoricalListComponent=c;var d=function(){this.selection=null;this.displayTitleBarButtons=false};d.__typeName='tab.CategoricalListState';global.tab.CategoricalListState=d;var e=function(k){this.categoricalQuickFilterModel=null;this.$3$1=null;h.call(this,k);this.categoricalQuickFilterModel=this.displayModel.get_quickFilterModel()};e.__typeName='tab.CategoricalQuickFilterViewModel';global.tab.CategoricalQuickFilterViewModel=e;var f=function(k){this.displayModel=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.displayModel=k};f.__typeName='tab.ParameterFilterViewModel';global.tab.ParameterFilterViewModel=f;var g=function(){};g.__typeName='tab.QuickFilterViewFactory';g.getQuickFilterView=function(k){var l=null;switch(k.get_filterType()){case'Categorical':{l=spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[e,c,Object])).call(null,[k]);break}}return l};global.tab.QuickFilterViewFactory=g;var h=function(k){this.displayModel=null;spiff.BaseViewModel.call(this);this.displayModel=k;this.displayModel.add_filterUpdated(ss.mkdel(this,this.handleFilterUpdate))};h.__typeName='tab.QuickFilterViewModel';global.tab.QuickFilterViewModel=h;var i=function(){React.Component.call(this)};i.__typeName='tab.TitleComponent';global.tab.TitleComponent=i;var j=function(){};j.__typeName='tab.UnificationStyleQuickFiltersFactory';global.tab.UnificationStyleQuickFiltersFactory=j;ss.initEnum(b,a,{singleSelectionList:0,singleSelectionDropDown:1,multiSelectionList:2,multiSelectionDropDown:3});ss.initClass(c,a,{$m:function(){return _.map(this.props.items,function(k){return k.label})},$l:function(){return{fontFamily:this.props.itemsFontName,fontSize:this.props.itemsFontSize,color:this.props.itemsTextColor,height:this.props.itemsHeight.toString()+'px',lineHeight:this.props.itemsHeight.toString()+'px'}},$k:function(){return{height:this.props.itemsHeight.toString()+'px',lineHeight:this.props.itemsHeight.toString()+'px'}},$2:function(k){var l=this.$0(k);var m=l.get_theAllItemIsSelected();var n=[];if(!ss.staticEquals(this.props.additionalTitleButtons,null)){ss.arrayAddRange(n,this.props.additionalTitleButtons())}var o=this.props.searchEnabled;var p=new Object;p.onTap=ss.mkdel(this,function(t){this.$a()});p.customClassName='tab-NewQFTitleBarBtn';p.iconClassName='tab-NewQFTitleBarSearchBtnIcon';p.title=tab.Strings.QuickFilterSearch;p.key='search';n.push({show:o,iconProps:p});var q=this.props.clearEnabled;var r=new Object;r.disabled=m;r.onTap=ss.mkdel(this,function(t){this.$9()});r.customClassName='tab-NewQFTitleBarBtn';r.iconClassName=this.$7(m);r.title=this.$8(m);r.key='clear';n.push({show:q,iconProps:r});this.$o={backgroundColor:this.props.zoneBackgroundColor,shouldDisplayTitleBarButtons:ss.mkdel(this,this.$j),titleButtons:Array.prototype.slice.call(n),titleCaption:this.props.titleCaption,titleHeight:this.props.titleHeight,titleHtml:this.props.titleHtml,key:'title'};var s=new d;s.displayTitleBarButtons=(ss.isValue(this.state)?this.state.displayTitleBarButtons:false);s.selection=l;return s},$0:function(k){switch(this.props.mode){case 0:case 1:{if(this.props.isExclusive){return spiff.ExclusiveSingleSelectGroupSelection.buildExclusiveSingleSelectGroupSelection(Object).call(null,k.items,function(l){return l.isSelected})}else{return(k.initialAllOptionSelected?spiff.SingleSelectGroupSelection.buildSingleSelectGroupSelection(Object).call(null,k.items,true):spiff.SingleSelectGroupSelection.buildSingleSelectGroupSelection$1(Object).call(null,k.items,function(l){return l.isSelected}))}}case 2:case 3:{if(this.props.isExclusive){return spiff.ExclusiveMultiSelectGroupSelection.buildExclusiveMultiSelectGroupSelection(Object).call(null,k.items,function(l){return l.isSelected})}else{return(k.initialAllOptionSelected?spiff.MultiSelectGroupSelection.buildMultiSelectGroupSelection(Object).call(null,k.items,true):spiff.MultiSelectGroupSelection.buildMultiSelectGroupSelection$1(Object).call(null,k.items,function(l){return l.isSelected}))}}default:{throw new ss.NotSupportedException('Except Categorical Quickfilter to be Single/Multi select Dropdown/List.')}}},$j:function(){return this.state.displayTitleBarButtons},$3:function(){var k='tab-NewQF-CategoricalQuickFilter';if(this.props.itemsFontWeight==='font-weight-bold'){k+=' tab-bold'}if(this.props.itemsFontStyle==='font-style-italic'){k+=' tab-italic'}if(this.props.itemsTextDecoration==='text-decoration-underline'){k+=' tab-underline'}return k},componentWillReceiveProps:function(k){this.setState(this.$2(k))},render:function(){return spiff.EventForwarder.div({tap:ss.mkdel(this,function(k){if(tsConfig.is_mobile){this.$h(true)}})},{onMouseEnter:ss.mkdel(this,function(k){if(!tsConfig.is_mobile){this.$h(true)}}),onMouseLeave:ss.mkdel(this,function(k){if(!tsConfig.is_mobile){var l=$(ReactDOM.findDOMNode(this.refs['CategoricalQFComponent']));var m=tab.DomUtil.getRectXY$1(l,true);if(m.x>k.clientX||m.x+m.w<=k.clientX||m.y>k.clientY||m.y+m.h<=k.clientY){this.$h(false)}}}),className:this.$3(),ref:'CategoricalQFComponent'},[React.createElement(i,this.$o),this.$e()])},$e:function(){var k;switch(this.props.mode){case 0:case 2:{k=this.$g();break}case 1:case 3:{k=this.$f();break}default:{k=null;break}}return React.DOM.div({className:'tab-Filter',style:{top:this.$o.titleHeight},key:'filter'},k)},$i:function(k){var l=new d;l.selection=k;l.displayTitleBarButtons=this.state.displayTitleBarButtons;this.setState(l)},$h:function(k){if(k!==this.state.displayTitleBarButtons){var l=new d;l.selection=this.state.selection;l.displayTitleBarButtons=k;this.setState(l);if(k){if(tsConfig.is_mobile){spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(this,this.$d))}spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(this,this.$b))}else{if(tsConfig.is_mobile){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(this,this.$d))}spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(this,this.$b))}}},$d:function(k,l){if(tsConfig.is_mobile){var m=ReactDOM.findDOMNode(this.refs['CategoricalQFComponent']);if(!tab.DomUtil.isEqualOrAncestorOf(m,k.target)){this.$h(false)}}},$b:function(){this.$h(false)},$g:function(){return React.createElement(spiff.SelectableButtonGroupComponent,this.$1())},$f:function(){var k=this.$6(false);var l=this.props.isExclusive&&!ss.referenceEquals(k,tab.Strings.QuickFilterAll);return React.createElement(spiff.DropdownComponent,{resetSelector:true,getDesiredHeight:spiff.SelectableButtonGroupComponent.getDesiredHeight,renderButton:function(){return React.createElement(spiff.TextDropdownButtonComponent,{selectionText:k,isSelectionTextMarkedAsExcluded:l})}},this.$g())},$1:function(){this.$n=Math.max(0,Math.floor((this.props.itemsHeight-10)/2))+'px';var k=new Object;k.borders=this.props.mode===0||this.props.mode===2;k.allOption=this.props.allOption;var l=new spiff.SelectableButtonGroupItem;l.label=tab.Strings.QuickFilterAll;l.getCustomContentBefore=ss.mkdel(this,this.$5);l.getCustomContentAfter=ss.mkdel(this,this.$4);k.allItem=l;k.items=_.map(this.$m(),ss.mkdel(this,function(m){var n=new spiff.SelectableButtonGroupItem;n.label=m;n.getCustomContentBefore=ss.mkdel(this,this.$5);n.getCustomContentAfter=ss.mkdel(this,this.$4);return n}));k.buttonStyle=this.$k();k.labelStyle=this.$l();k.selection=this.state.selection;k.isSelectionExclusive=this.props.isExclusive;k.onSelectionChanged=ss.mkdel(this,this.$c);k.showApplyAndCancelButtons=this.props.showApplyAndCancelButtons;k.applyButtonLabel=tab.Strings.QuickFilterApply;k.cancelButtonLabel=tab.Strings.QuickFilterCancel;return k},$5:function(){return[React.DOM.div({key:'selectionMark',className:'tab-SelectionMark',style:{marginTop:this.$n,marginBottom:this.$n,height:10+'px',width:10+'px'}})]},$4:function(){return[React.DOM.div({key:'glass',className:'tab-Glass'})]},$6:function(k){var l=this.state.selection.get_selectedCount();if(l===0){return(this.props.isExclusive?tab.Strings.QuickFilterAll:tab.Strings.QuickFilterNone)}else if(l===this.props.items.length){return(this.props.isExclusive?tab.Strings.QuickFilterNone:tab.Strings.QuickFilterAll)}else if(l===1){return this.state.selection.mapSelected(String).call(this.state.selection,ss.mkdel(this,function(m){return this.props.items[m].label}))[0]}else if(k){return tab.Strings.QuickFilterMultipleValues}else{return tab.Strings.QuickFilterNone}},$c:function(k){this.$i(k);if(!ss.staticEquals(this.props.selectionChangedCallBack,null)){this.props.selectionChangedCallBack(k)}},$a:function(){return},$9:function(){this.state.selection.handleTapAll();this.$i(this.state.selection);this.$c(this.state.selection)},$7:function(k){if(k){return'tab-NewQFTitleBarNonFilteredBtnIcon'}else{return'tab-NewQFTitleBarFilteredBtnIcon'}},$8:function(k){if(k){return tab.Strings.QuickFilterClearDisabled}else{return tab.Strings.QuickFilterClearEnabled}}},React.Component);ss.initClass(d,a,{});ss.initClass(h,a,{get_filterType:null,handleFilterUpdate:null},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,tab.IQuickFilterViewModel]);ss.initClass(e,a,{add_propsUpdated:function(k){this.$3$1=ss.delegateCombine(this.$3$1,k)},remove_propsUpdated:function(k){this.$3$1=ss.delegateRemove(this.$3$1,k)},get_props:function(){return{allOption:this.categoricalQuickFilterModel.get_isAllButtonVisible(),initialAllOptionSelected:this.categoricalQuickFilterModel.get_isAllButtonSelected(),titleCaption:(this.categoricalQuickFilterModel.get_isSelectionExclusive()?tab.Strings.QuickFilterTitleBarExclusive(this.displayModel.get_titleCaption()):this.displayModel.get_titleCaption()),titleHtml:(this.displayModel.get_zoneHasTitle()?this.displayModel.get_titleHtml():''),titleHeight:(this.displayModel.get_zoneHasTitle()?this.displayModel.get_titleHeight():0),additionalTitleButtons:this.$3(),clearEnabled:this.categoricalQuickFilterModel.get_showClearButton(),searchEnabled:this.categoricalQuickFilterModel.get_showSearchButton(),itemsHeight:this.displayModel.get_itemsHeight(),items:this.get_listItems(),itemsFontName:this.displayModel.get_itemsFontName(),itemsFontSize:this.displayModel.get_itemsFontSize(),itemsTextColor:this.displayModel.get_itemsTextColor(),itemsFontWeight:this.displayModel.get_itemsFontWeight(),itemsFontStyle:this.displayModel.get_itemsFontStyle(),itemsTextDecoration:this.displayModel.get_itemsTextDecoration(),mode:this.$2(),isExclusive:this.categoricalQuickFilterModel.get_isSelectionExclusive(),zoneBackgroundColor:this.displayModel.get_zoneBackgroundColor(),showApplyAndCancelButtons:this.categoricalQuickFilterModel.get_showApplyAndCancelButtons(),selectionChangedCallBack:ss.mkdel(this,this.$8)}},get_filterType:function(){return'Categorical'},get_listItems:function(){return this.categoricalQuickFilterModel.get_categoricalFilter().get_items().map(function(k){return{isSelected:k.NPh,label:k.pHt}})},handleFilterUpdate:function(){this.raiseActionEvent(this.$3$1)},$8:function(k){tab.FilterClientCommands.setCategoricalFilterValues(this.displayModel.get_visualId(),this.displayModel.get_fieldName(),'filter-replace',k.mapSelected(String).call(k,ss.mkdel(this,function(l){return this.get_listItems()[l].label})),'categorical-filter-infer-all-when-everything-selected')},$2:function(){switch(this.categoricalQuickFilterModel.get_mode()){case'check-list':{return 2}case'radio-list':{return 0}case'dropdown':{return 1}case'check-dropdown':{return 3}case'slider':case'pattern':case'type-in-list':default:{break}}throw new ss.NotSupportedException},$3:function(){return ss.mkdel(this,function(){var k=(ss.isValue(this.displayModel.get_quickFilterCommands())?tab.CommandsPresModelWrapper.create(this.displayModel.get_quickFilterCommands()):null);var l=this.categoricalQuickFilterModel.get_getDomainValue();var m=ss.isValue(k)&&k.get_commandItems().length!==0&&tsConfig.current_sheet_type!=='story'&&!(tsConfig.current_sheet_type==='dashboard'&&tsConfig.is_authoring);var n=new Object;n.onTap=ss.mkdel(this,function(q){this.$7(q)});n.customClassName='tab-NewQFTitleBarBtn';n.iconClassName='tab-NewQFTitleBarDropdownBtnIcon';n.key='contextMenu';n.ref='ContextMenuDropDownButton';var o=this.categoricalQuickFilterModel.get_showMoreLessButton()&&tsConfig.current_sheet_type!=='story';var p=new Object;p.onTap=ss.mkdel(this,function(q){this.$6()});p.customClassName='tab-NewQFTitleBarBtn';p.iconClassName=this.$4(l);p.title=this.$5(l);p.key='domain';return[{show:m,iconProps:n},{show:o,iconProps:p}]})},$7:function(k){var l=(ss.isValue(this.displayModel.get_quickFilterCommands())?tab.CommandsPresModelWrapper.create(this.displayModel.get_quickFilterCommands()):null);if(ss.isNullOrUndefined(l)){throw new ss.ArgumentNullException('Quick filter context menu drop-down button is clicked when there is no quick filter commands.')}var m=[];tab.WidgetUtil.newMenuItemsFromCommands(m,l.get_presModel(),function(r){return function(){var s=tab.CommandItemWrapper.create(r);var t=tab.CommandSerializer.deserialize(s.get_command());tab.ServerCommands.executeServerCommand(t,'immediately')}});var n=function(r){var s=r.data;s()};var o=spiff.MenuViewModel.createForMenu(new spiff.Menu(m),n);var p=new spiff.ShowMenuOptions($(k.target),false,0);p.additionalMenuClass='tabQFContextMenu';var q=p;o.show(q)},$6:function(){var k=this.categoricalQuickFilterModel.get_getDomainValue();var l=this.categoricalQuickFilterModel.getDomains();var m=this.displayModel.get_visualId();var n=this.displayModel.get_fieldName();switch(k){case'all':{if(ss.contains(l,tableau.types.QFDomain.QFD_CONTEXT)){tab.FilterClientCommands.setCategoricalQuickFilterDomain(m,n,tableau.types.QFDomain.QFD_CONTEXT)}else{tab.FilterClientCommands.setCategoricalQuickFilterDomain(m,n,tableau.types.QFDomain.QFD_RELEVANT)}break}case'context':{tab.FilterClientCommands.setCategoricalQuickFilterDomain(m,n,tableau.types.QFDomain.QFD_RELEVANT);break}case'relevant':{tab.FilterClientCommands.setCategoricalQuickFilterDomain(m,n,tableau.types.QFDomain.QFD_ALL);break}}},$4:function(k){switch(k){case'all':{return'tab-NewQFTitleBarDomainAllIcon'}case'context':{return'tab-NewQFTitleBarDomainContextIcon'}case'relevant':{return'tab-NewQFTitleBarDomainRelevantIcon'}}return''},$5:function(k){if(k==='relevant'){return tab.Strings.QuickFilterDomainShowMoreValues}else{return tab.Strings.QuickFilterDomainShowFewerValues}}},h,[ss.IDisposable,spiff.IViewModel,tab.IQuickFilterViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(f,a,{add_propsUpdated:function(k){this.$2$1=ss.delegateCombine(this.$2$1,k)},remove_propsUpdated:function(k){this.$2$1=ss.delegateRemove(this.$2$1,k)},get_props:function(){return{allOption:false,initialAllOptionSelected:false,titleCaption:this.displayModel.get_titleCaption(),titleHtml:this.displayModel.get_titleHtml(),titleHeight:this.displayModel.get_titleHeight(),searchEnabled:false,clearEnabled:false,itemsHeight:this.displayModel.get_itemsHeight(),items:Array.prototype.slice.call(this.get_listItems()),itemsFontName:this.displayModel.get_itemsFontName(),itemsFontSize:this.displayModel.get_itemsFontSize(),itemsTextColor:this.displayModel.get_itemsTextColor(),itemsFontWeight:this.displayModel.get_itemsFontWeight(),itemsFontStyle:this.displayModel.get_itemsFontStyle(),itemsTextDecoration:this.displayModel.get_itemsTextDecoration(),mode:this.$2(),isExclusive:false,zoneBackgroundColor:this.displayModel.get_zoneBackgroundColor(),showApplyAndCancelButtons:false,selectionChangedCallBack:ss.mkdel(this,this.$3)}},get_listItems:function(){return this.displayModel.get_items().map(ss.mkdel(this,function(k){return{isSelected:ss.referenceEquals(this.displayModel.get_selectedItem(),k.formattedValue),label:k.formattedValue}}))},handleFilterUpdate:function(){this.raiseActionEvent(this.$2$1)},$3:function(k){var l=k.mapSelected(Object).call(k,ss.mkdel(this,function(m){return this.displayModel.get_items()[m].domainValue}));tab.ParameterServerCommands.setParameterValue(this.displayModel.get_fieldName(),l[0].toString(),null)},$2:function(){switch(this.displayModel.get_displayMode()){case'compact':{return 1}case'list':{return 0}case'type_in':case'slider':case'datetime':default:{break}}throw new ss.NotSupportedException}},spiff.BaseViewModel,[ss.IDisposable,spiff.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),tab.IParameterFilterViewModel]);ss.initClass(g,a,{});ss.initClass(i,a,{render:function(){return React.DOM.div({className:'tab-TitleAndControls',style:{height:this.props.titleHeight.toString()},title:this.props.titleCaption},React.DOM.div({className:'tab-Title',dangerouslySetInnerHTML:{__html:this.props.titleHtml},style:{height:this.props.titleHeight.toString()}}),((this.props.shouldDisplayTitleBarButtons()&&this.props.titleHeight>0)?ss.mkdel(this,this.$0)():null))},$0:function(){return React.DOM.div({className:'tab-QFControls',style:{backgroundColor:this.props.backgroundColor}},_.map(this.props.titleButtons,function(k){return(k.show?(function(){return React.createElement(spiff.IconButtonComponent,k.iconProps)})():null)}))}},React.Component);ss.initClass(j,a,{newQuickFilterViewModel:function(k){var l=null;switch(k.get_quickFilterType()){case'categorical':{l=new e(k);break}default:{break}}return l},newParameterFilterViewModel:function(k){return new f(k)},getQuickFilterView:function(k){return g.getQuickFilterView(k)},getParameterFilterView:function(k){return spiff.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[f,c,Object])).call(null,[k])}},null,[tab.IUnificationStyleQuickFiltersModule]);(function(){c.$1='CategoricalQFComponent';c.$2=10;c.$3=10})();(function(){e.$0='ContextMenuDropDownButton'})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$x=0;this.$y=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$p))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$v)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$u)))};f.__typeName='spiff.MenuViewWeb';global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this,"<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>")};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[spiff.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$w(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$r))},$w:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.DomUtil.getPageOffset(j);var p=o.left+n;var q=o.top-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:ss.Int32.trunc(p),y:ss.Int32.trunc(q)});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=m-r.roomBelow}else{var t=5;q-=r.roomAbove;s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p-=l+n}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.dom.domRoot;if(tab.DomUtil.isContentOverflowingY(j)){j.css('overflow-y','scroll')}var k=this.menuViewModel.get_focusedItem();var l=this.menuViewModel.get_menu().menuItems;if(ss.isValue(k)){this.$t(k)}else if(ss.isValue(l)){for(var m=0;m<l.length;m++){if(l[m].enabled){this.menuViewModel.set_focusedItem(l[m]);break}}}},$r:function(i){if(i.pageX===this.$x&&i.pageY===this.$y){return}this.$x=i.pageX+0;this.$y=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$s(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$s:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$u:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$o()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$o();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$s(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$v:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$o:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$p:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$q(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$t:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$q(i)},$q:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},spiff.MenuView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[spiff.UberPopupViewModel])]);(function(){spiff.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){spiff.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$0=null;this.$1=0};c.__typeName='tab.$1';var d=function(x,y,z,A,B,C){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=x;this.$2=y;this.$3=z;this.$0=A;this.$5=B;this.$1=C};d.__typeName='tab.$2';var e=function(x,y,z){this.$1=0;this.$2=0;this.$0=0;this.$1=x;this.$2=y;this.$0=z};e.__typeName='tab.$3';var f=function(x,y){tab.ApplicationViewModel.call(this,x,y);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};f.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=f;var g=function(){};g.__typeName='tab.CursorKey';global.tab.CursorKey=g;var h=function(x){tab.DataConnectionVariableListItemView.call(this,x);this.initDom();this.disposables.add$1(spiff.HoverAddClassBehavior.attach(this,'hover'))};h.__typeName='tab.DataConnectionVariableListItemViewWeb';global.tab.DataConnectionVariableListItemViewWeb=h;var i=function(x){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,x,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};i.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=i;var j=function(x,y){this.$s=null;this.$t=null;this.$u=null;this.$m=null;this.$n=null;this.$v=null;this.$p=false;this.$q=null;this.$o=null;this.$r=null;this.$x=null;this.$w=null;r.call(this,$(document.createElement('div')),$(y));this.$v=x;this.$s=this.$v.get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$m=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$t=new spiff.Button(this.$m);this.$t.add_press(ss.mkdel(this,this.$c));this.$n=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$u=new spiff.Button(this.$n);this.$u.add_press(ss.mkdel(this,this.$d));y.appendChild(this.element.get(0));this.$f();this.turnDrillWidgetsOff()};j.__typeName='tab.Drilling';global.tab.Drilling=j;var k=function(x){this.$0=null;this.$0=x};k.__typeName='tab.FloatingZoomToolbarOperationsWeb';global.tab.FloatingZoomToolbarOperationsWeb=k;var l=function(x,y,z,A,B){tab.FloatingZoomToolbar.call(this,x,y,z,A,B);this.init()};l.__typeName='tab.FloatingZoomToolbarWeb';l.$0=function(x){return x+'\n'+tab.Strings.SelectionToolsLockTooltip};global.tab.FloatingZoomToolbarWeb=l;var m=function(x){this.$0=null;this.$0=x};m.__typeName='tab.HoverApi';global.tab.HoverApi=m;var n=function(x){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(x,'tooltip');this.$j=x;this.$i=[];this.$k=n.$0()};n.__typeName='tab.LegacyTooltipBehavior';n.$0=function(){n.$6++;return'mousemove.LegacyTooltipBehavior'+n.$6.toString()};global.tab.LegacyTooltipBehavior=n;var o=function(x){this.$q=null;tab.MapsSearchView.call(this,x,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$n));var y=this.get_compositeSearchWidget();y.add_spotlightedListItemChanged(ss.mkdel(this,this.$m));y.add_tabKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$m));y.remove_tabKeyPressed(ss.mkdel(this,this.$o))})));y.set_spotlightedItemLogic(this)};o.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=o;var p=function(){this.scrollX=null;this.scrollY=null;this.yLabelResizer=null;this.xLabelResizer=null;this.topAxisResizer=null;this.rightAxisResizer=null;this.bottomAxisResizer=null;this.leftAxisResizer=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var x=ss.mkdel(this,this.getElementBySelector);this.scrollX=x('.tab-tvScrollX');this.scrollY=x('.tab-tvScrollY')};p.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=p;var q=function(x){this.$25={};this.$1X=null;this.$21=false;this.$24=false;this.$1Z=null;this.$2i=null;this.$2c=null;this.$22=null;this.$2h=null;this.$2e=null;this.$2f=null;this.$23=null;this.$27=false;this.$2d=null;this.$20=null;this.$2k=null;this.$2j=null;this.$28=false;this.$2a=0;this.$1W=null;this.$29=null;this.$2b=0;this.$2g=false;this.$26=false;this.$1Y=null;tab.PaneTableView.call(this,x,new p);this.$1X=this.dom;this.$1T();this.$28=false;this.$2g=true;this.$26=false;var y={tap:ss.mkdel(this,function(z){if(ss.referenceEquals(z.currentTarget,z.target)){this.clearSelection()}})};this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(this.dom.enclosingDiv.get(0),y));this.init()};q.__typeName='tab.PaneTableViewWeb';q.$0=function(x,y){return x.x>y.pageX||x.x+x.w<=y.pageX||x.y>y.pageY||x.y+x.h<=y.pageY};q.$1=function(){};global.tab.PaneTableViewWeb=q;var r=function(x,y){this.$6=0;this.$8=null;this.$7=null;spiff.Widget.call(this,x);this.$6=r.$0.length;r.$0.push(this);this.$8=y};r.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=r;var s=function(x,y){this.$o=null;this.$l=null;this.$n=null;this.$p=null;this.$m=null;this.$q=null;this.$s=null;this.$r=null;r.call(this,$(document.createElement('div')),$(y));this.$n=x;this.element.addClass('tab-tiledViewerSort');this.$o=spiff.LabelButton.newNativeButton();this.$o.element.addClass('tab-tvSortIndicator');this.$o.element.css('border','0');this.$o.element.css('position','absolute');this.$o.element.css('padding','0px');this.element.append(this.$o.element);this.$l=this.$o.element;$(y).find('.tab-tiledViewerSort').remove();y.appendChild(this.element.get(0));this.$9();this.$g();this.$l.css('display','none')};s.__typeName='tab.Sorting';global.tab.Sorting=s;var t=function(){this.geometry=null;this.visibleGeometry=null;this.sortIndicators=null;this.posTVx=0;this.posTVy=0;this.dom=null;this.sheetid=null;this.layoutSession=null;this.session=null;this.inputHandlers=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.regions=null;this.titleHeight=0};t.__typeName='tab.TiledViewerModel';global.tab.TiledViewerModel=t;var u=function(x,y,z,A,B,C,D,E,F){this.$T=false;this.$Z={item1:false,item2:'no-tools'};this.$13=null;this.$W=null;this.$V=null;this.$11=null;this.$12=null;this.$U=null;this.$Y=false;this.$10=false;this.$X=false;tab.TiledViewerRegion.call(this,x,y,z,D,E,F);this.$W=A;if(this.get_regionPart()==='viz'){u.$2();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$v));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$v))})));this.set_defaultPointerToolMode(this.determineDefaultToolMode());this.currentToolbarToolMode=this.get_defaultPointerToolMode();this.resetPointerToolMode()}this.$T=true;this.scroller=new w(B,C)};u.__typeName='tab.TiledViewerRegionWeb';u.$2=function(){if(ss.isValue(u.$6)){return}var x='default';u.$6={};u.$6['zoomIn']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+x));u.$6['zoomOut']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+x));u.$6['panDrag']=(tab.BrowserSupport.get_isIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+x));u.$6['rectSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+x));u.$6['lassoSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+x));u.$6['radialSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+x));u.$6['rectExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+x));u.$6['lassoExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+x));u.$6['radialExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+x));u.$6['dragSelect']='crosshair';u.$6['select']='pointer';u.$6['defaultKey']='default'};u.$0=function(x){return x.shiftKey&&!spiff.EventUtil.isCtrlKey(x)};u.$1=function(x){return!x.altKey&&x.shiftKey&&spiff.EventUtil.isCtrlKey(x)};global.tab.TiledViewerRegionWeb=u;var v=function(x,y){tab.TooltipBaseLegacyMode.call(this,x,y)};v.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=v;var w=function(x,y){this.$0=null;this.$1=null;this.$0=x.get(0);this.$1=y.get(0)};w.__typeName='tab.WebScroller';global.tab.WebScroller=w;ss.initEnum(b,a,{$3:0,$1:1,$2:2,$0:3});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[spiff.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initEnum(g,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(h,a,{},tab.DataConnectionVariableListItemView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.DataConnectionVariableDisplayViewModel])]);ss.initClass(i,a,{$x:function(x){this.$z=x;if(ss.isValue(this.$z)){var y=this.$z.get_data();this.get_viewModel().highlightItems([y.YLs])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(x){if(ss.isNullOrUndefined(x.get_data())){return}this.$y.changeSpotlightedListItem(4,x);if(ss.isNullOrUndefined(this.$A)){var y=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(y,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(x){this.$r(x)},$u:function(x){this.$r(x)},$v:function(x){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(x){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,x)},$s:function(){var x;if(ss.isNullOrUndefined(this.$z)){var y=this.$y.get_listViewModel();if(ss.isNullOrUndefined(y)||y.get_collection().length===0){return}var z=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(z===0){this.removeList();return}x=y.get_collection()[0].get_data()}else{x=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(x.gjO);this.dataHighlighterViewModel.sendSearchQuery(x.gjO,false)},populateAndDisplayList:function(x,y){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,x,y);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(x,y,z){var A=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(y===4){if(ss.Nullable$1.gt(z,A)){z=A}return z}if(ss.isNullOrUndefined(x)){return 0}var B=x;switch(y){case 1:{B=ss.Nullable$1.add(B,1);if(ss.Nullable$1.gt(B,A)){B=A}break}case 0:{B=ss.Nullable$1.sub(B,1);if(ss.Nullable$1.lt(B,0)){B=null}break}case 2:{B=0;break}case 3:{B=A;break}}return B}},tab.DataHighlighterView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(r,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(x){if(this.get_widgetFeatureEnabled()){if(x){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(y){this.onMouseMove(y)}))}}else if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}}},get_widgetFeatureEnabled:null,dispose:function(){ss.remove(r.$0,this);this.element.remove();spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(x){for(var y=0;y<r.$0.length;y++){if(y!==this.$6){var z=r.$0[y];if(z.isActiveInRect(x)){return true}}}return false},isActiveInRect:function(x){return false},onMouseMove:null,getSIRegionFromName:function(x,y){var z,A;var B=ss.replaceAllString(y,'Area','');var C=x.get_sortIndicators();var D=C.iG$;for(z=0,A=D.length;z<A;z++){if(ss.referenceEquals(D[z].kuG.toString(),B)){return D[z]}}return null},showNodeAt:function(x,y,z){$(x).css('top',y+'px');$(x).css('left',z+'px');$(x).css('display','')},getWidgetPos:function(x,y,z){if(x==='level'){if(z==='y'){return{x:y.l+ss.Int32.div(y.w,2)-4,y:y.t+2}}else{return{x:y.l+2,y:y.t+ss.Int32.div(y.h,2)-4}}}else{return{x:y['x']+2,y:y['y']+2}}},hideNode:function(x){$(x).css('display','none')},regionHitTest:function(x,y){var z=x;var A=new ss.ObjectEnumerator(z);try{while(A.moveNext()){var B=A.current();if(ss.isValue(B.value)&&tab.RectUtil.inRect(B.value,y)){return B.key}}}finally{A.dispose()}return null},clone:function(x){if(ss.isNullOrUndefined(x)){return x}return this.mixin(new Object,x)},mixin:function(x,y){var z=y;var A=new ss.ObjectEnumerator(z);try{while(A.moveNext()){var B=A.current();var C=x[B.key];if(ss.isNullOrUndefined(C)||!ss.referenceEquals(C,z[B.key])){x[B.key]=z[B.key]}}}finally{A.dispose()}return x}},spiff.Widget,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(j,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){this.$v=null;this.$t.dispose();this.$u.dispose();r.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$w,null)){this.$w();this.$w=null}this.$p=false;this.$r=this.$v.geometry;this.$x=this.$v.visibleGeometry},onMouseMove:function(x){this.$a(x)},isActiveInRect:function(x){if($(this.$m.get(0)).css('display')!=='none'||$(this.$n.get(0)).css('display')!=='none'){if(ss.isValue(this.$o)&&tab.RectXYUtil.intersectsWith(this.$o,x)){return true}}return false},turnDrillWidgetsOff:function(){var x=['bottomaxis','xheader','yheader'];for(var y=0;y<x.length;y++){var z=x[y];if(ss.isValue(this.$s[z])){this.$s[z].unsuppressHover()}}this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));this.$q=new c},$f:function(){this.set_enabled(true)},$a:function(x){var y=new Object;var z=false;var A=false;var B=false;var C=false;var D=false;var E=false;var F=false;var G=true;if(this.$p){return}if(x.button>0){return}if(ss.isNullOrUndefined(this.$r)||ss.isNullOrUndefined(this.$r.di)||ss.referenceEquals(this.$r.di,y)||!tsConfig.allow_filter){return}var H=this.$v.get_tableViewPosition();var I={x:x.pageX-H.x,y:x.pageY-H.y};if(ss.isValue(this.$x.xheaderArea)){z=tab.RectUtil.inRect(this.$x.xheaderArea,I)}if(ss.isValue(this.$x.leftaxisArea)){F=tab.RectUtil.inRect(this.$x.leftaxisArea,I)}var J=this.$v.tlspacerAreaX;var K=this.$v.tlspacerAreaY;if(z&&ss.isValue(J)&&ss.isValue(K)&&ss.isValue(this.$x.uleftArea)){K.w=J.l;G=false}if(ss.isValue(this.$x.bottomaxisArea)&&!z){A=tab.RectUtil.inRect(this.$x.bottomaxisArea,I)}if(ss.isValue(this.$x.yheaderArea)&&!z&&!A){B=tab.RectUtil.inRect(this.$x.yheaderArea,I)}if(ss.isValue(K)&&!z&&!A&&ss.isValue(this.$x.yheaderArea)){C=tab.RectUtil.inRect(K,I)}if(ss.isValue(J)&&!C&&!B&&!A&&ss.isValue(this.$x.xheaderArea)){D=tab.RectUtil.inRect(J,I)}var L=this.$v.blspacerArea;if(ss.isValue(L)&&!C&&!D){E=tab.RectUtil.inRect(L,I)}if(!z&&!B&&!A&&!C&&!D&&!E&&!F){this.turnDrillWidgetsOff()}else if(D){G=false;this.$j(I)}else if(z){G=false;this.$j(I)}else if(B){this.$k(I)}else if(A||E){this.$i()}else if(F&&tab.FeatureFlags.isEnabled('DrillUpWeb')){this.$h()}if(G&&ss.isValue(K)&&ss.isValue(this.$x.uleftArea)){K.w=this.$x.uleftArea.w}},$c:function(){this.$b('down')},$d:function(){this.$b('up')},$b:function(x){this.$p=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$q.$0)){var y=((this.$q.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var z=false;if(tab.FeatureFlags.isEnabled('DrillUpWeb')){if(x==='up'){z=true}}tab.FilterClientCommands.levelDrill(this.$v.get_session().get_visualId(),this.$q.$1,y,z)}this.turnDrillWidgetsOff()},$j:function(x){var y=this.$r.di.xs+this.$v.titleHeight;var z=this.$9(x.y,y,this.$r.di.xy);if(z.$0>=0&&z.$0<this.$r.di.xy.length){this.$l('x',z,this.$r.di.xy)}else{this.turnDrillWidgetsOff()}},$h:function(){if(ss.isNullOrUndefined(this.$x.lleftArea)){return}var x=this.$r.di.yx.length-1;if(x<0){return}var y=Math.min(this.$x.leftaxisArea.l,17);var z={l:this.$x.leftaxisArea.l-y,t:this.$x.leftaxisArea.t,w:this.$x.leftaxisArea.w+y,h:this.$x.leftaxisArea.h};this.$e(z,this.$r.di.yx[x][1],'y');this.$q.$1=x;this.$q.$0='yheader'},$k:function(x){var y=this.$9(x.x,this.$r.di.ys,this.$r.di.yx);var z=y.$0;if(z>=0&&z<this.$r.di.yx.length){if(this.$r.di.yx[y.$0][1]<3){this.$l('y',y,this.$r.di.yx)}}},$i:function(){if(ss.isNullOrUndefined(this.$x.bottomaxisArea)){return}var x=this.$r.di.xy.length-1;var y=Math.min(this.$x.bottomaxisArea.l,10);var z={l:this.$x.bottomaxisArea.l-y,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+y,h:this.$x.bottomaxisArea.h};this.$e(z,this.$r.di.xy[x][1],'x');this.$q.$1=x;this.$q.$0='bottomaxis'},$l:function(x,y,z){var A;var B=0;if(x==='x'){if(ss.isValue(this.$x.uleftArea)){B=Math.min(this.$x.xheaderArea.l,17)}A={l:this.$x.xheaderArea.l-B,t:y.$1,w:this.$x.xheaderArea.w+B,h:y.$2-y.$1}}else{if(ss.isValue(this.$x.uleftArea)){B=Math.min(this.$x.yheaderArea.t,17)}A={l:y.$1,t:this.$x.yheaderArea.t-B,w:y.$2-y.$1,h:this.$x.yheaderArea.h+B}}this.$e(A,z[y.$0][1],x);this.$q.$1=y.$0;this.$q.$0=x+'header'},$g:function(x,y,z){var A=this.getWidgetPos('level',y,z);var B=tab.DoubleUtil.roundToInt(this.$m.outerHeight());var C=tab.DoubleUtil.roundToInt(this.$m.outerWidth());this.$o={x:A.x,y:A.y,w:C,h:B};if(this.isOtherActiveInRect(this.$o)){return}this.showNodeAt(x,A.y,A.x)},$e:function(x,y,z){switch(y){case 0:{this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));break}case 1:{this.$g(this.$m.get(0),x,z);this.hideNode(this.$n.get(0));break}case 2:{this.$g(this.$n.get(0),x,z);this.hideNode(this.$m.get(0));break}case 3:{if(tab.FeatureFlags.isEnabled('DrillUpWeb')){var A=null;if(z==='x'){this.$g(this.$m.get(0),x,z);A={l:x.l-17,t:x.t,w:x.w+17,h:x.h};this.$g(this.$n.get(0),A,z)}else if(z==='y'){A={l:x.l+10,t:x.t,w:x.w+17,h:x.h};this.$g(this.$m.get(0),A,z);this.$g(this.$n.get(0),x,z)}}break}}},$9:function(x,y,z){var A=-1;var B=y-1;var C=-1;if(ss.isNullOrUndefined(z)){return new e(-1,-1,-1)}while(B<x&&C<z.length-1){C+=1;A=B;B+=z[C][0]}if(B<x){return new e(-1,-1,-1)}return new e(A,B,C)}},r,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(k,a,{zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$1V(2)},zoomOut:function(){this.$0.$1V(0.5)},setPointerToolMode:function(x,y){this.$0.setPointerToolMode(x,y)},setAppendMode:function(x){},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});ss.initClass(l,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$l:function(x){var y=l.$0(tab.Strings.PanZoomSelectToolsRadialSelectionTooltip);this.radialSelectButton=this.addToggleButton(x,'buttonRadialSelect',y)},$m:function(x){var y=l.$0(tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip);this.rectSelectButton=this.addToggleButton(x,'buttonRectSelect',y)},$j:function(x){var y=l.$0(tab.Strings.PanZoomSelectToolsLassoSelectionTooltip);this.lassoSelectButton=this.addToggleButton(x,'buttonLassoSelect',y)},$k:function(x){var y=l.$0(tab.Strings.PanZoomSelectToolsPanTooltip);this.panButton=this.addToggleButton(x,'buttonPan',y)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$i()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$m(this.buttonContainer);this.$l(this.buttonContainer);this.$j(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$i:function(){if(this.toolbarType==='fullToolbar'){var x=l.$0((tab.BrowserSupport.get_isMac()?tab.Strings.PanZoomSelectToolsZoomAreaTooltipMac:tab.Strings.PanZoomSelectToolsZoomAreaTooltip));this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',x);this.$k(this.flyOutButtons);this.$m(this.flyOutButtons);this.$l(this.flyOutButtons);this.$j(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var x=this.flyOutButton.element;x.mouseout(ss.mkdel(this,this.$n));x.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$o:function(x){var y=this.flyOutContainer.offset();if(y.top>=x.pageY){this.updateFlyOutVisibility(false);return}var z=tab.DoubleUtil.roundToInt(y.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var A=tab.DoubleUtil.roundToInt(y.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(x.pageX>=z||x.pageY>=A){this.updateFlyOutVisibility(false)}},$n:function(x){var y=this.flyOutButton.element.offset();if(y.left>=x.pageX||y.top>=x.pageY){this.updateFlyOutVisibility(false);return}var z=tab.DoubleUtil.roundToInt(y.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(x.pageY>=z){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(m,a,{dispose:function(){this.$0=null},unsuppressHover:function(x){var y=this.$0.get_inputHandlers()[x.get_regionPart()];if(ss.isValue(y)){y.unsuppressHover()}var z=this.$0.get_responsiveMouseHandler();if(ss.isValue(z)){z.unsuppressHover()}},suppressHover:function(x){var y=this.$0.get_inputHandlers()[x.get_regionPart()];if(ss.isValue(y)){y.suppressHover()}var z=this.$0.get_responsiveMouseHandler();if(ss.isValue(z)){z.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(n,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var x={};spiff.TableauEventHandler.setHandler(x,'hover',ss.mkdel(this,this.$8));this.$c.add$1(new spiff.TableauEventHandler.$ctor1(this.$j.element[0],x));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(x){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(x,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(x){this.$e=x},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(x,y,z,A){this.showTooltip(x)},hoverOverWhitespace:function(x){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(x,false)){this.$j.close()}},multiSelectComplete:function(x){this.showTooltip(x)},singleSelectComplete:function(x){this.showTooltip(x)},selectionMoved:function(x){},repositionWithinRegion:function(x){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(x,y){this.$j.close()},showTooltip:function(x){if(spiff.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),x)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(x,false)){return}this.$j.show(this.$j.get_body().children()[0],x)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(x){var y=this.$j.get_lastLocation();this.$j.set_lastLocation({x:x.pageX,y:x.pageY});if(ss.isNullOrUndefined(y)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var z=tab.PointUtil.distance(y,this.$j.get_lastLocation());var A=new Date-this.$h;if(z>10&&A>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(x){if(ss.isNullOrUndefined(x)){return false}var y=this.$3();return tab.RectUtil.inRect(y,x)},$3:function(){var x=this.$j.element.position();var y={l:tab.DoubleUtil.roundToInt(x.left),t:tab.DoubleUtil.roundToInt(x.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return y},$1:function(x){var y=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),x);this.$i.push(y);return y},$8:function(x){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(x,y){this.dispose()},$0:function(){for(var x=0;x<this.$i.length;x++){var y=this.$i[x];window.clearTimeout(y)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(o,a,{updateSearchTextValue:function(x){this.$p(x,true)},$p:function(x,y){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,x);if(y===true){this.selectAllSearchText()}},$n:function(x){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var y=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var z=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(y)&&ss.isValue(z)&&!ss.referenceEquals(y,z)){return}this.selectAllSearchText()},$m:function(x){this.$q=x;if(ss.isValue(x)){var y=x.get_data();this.$p(y,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$q)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$q.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$o:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$q)){return}var x=this.get_compositeSearchWidget();x.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},collapseSearchWidget:function(){tab.MapsSearchView.prototype.collapseSearchWidget.call(this);if(this.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(x,y,z){if(y===4){return z}var A=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(x)){switch(y){case 1:case 2:{return 0}case 0:case 3:{return A}}}var B=x;switch(y){case 1:{B=ss.Nullable$1.add(B,1);if(ss.Nullable$1.gt(B,A)){B=0}break}case 0:{B=ss.Nullable$1.sub(B,1);if(ss.Nullable$1.lt(B,0)){B=A}break}case 2:{B=0;break}case 3:{B=A;break}}return B}},tab.MapsSearchView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(p,a,{},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(q,a,{get_inputHandlers:function(){return this.$25},get_domWeb:function(){return this.$1X},get_responsiveMouseHandler:function(){return this.$2d},$1V:function(x){if(this.isMapWithBaseLayer()&&x<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/x)){return}var y=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.getWebRegion('viz').$R(y,x)},initEventHandlers:function(){var x=null;var y=null;var z=ss.mkdel(this,function(){x=tab.MiscUtil.dispose$1(x);y=tab.MiscUtil.dispose$1(y);tab.PaneTableView.prototype.initEventHandlers.call(this)});x=spiff.EventUtil.bindWithDispose(this.dom.domRoot,'mouseenter',z);y=spiff.EventUtil.bindWithDispose(this.dom.domRoot,'touchstart',z);this.disposables.add$1(x);this.disposables.add$1(y)},getDomNodeForContentRegion:function(x){return x.get(0)},makeFloatingZoomToolbar:function(x){var y=new k(this);var z=10;if(this.get_mapsSearchEnabled()){z+=41}var A=new l(x.get(0),y,this.determineToolbarType(),z,this.get_mapsSearchEnabled());A.addClass('tabSuppressVizTooltipsAndOverlays');return A},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1H))},makeConnections:function(){this.$1X.scrollX.scroll(ss.mkdel(this,function(x){this.$1N()}));this.$1X.scrollY.scroll(ss.mkdel(this,function(x){this.$1O()}));this.dom.domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),ss.mkdel(this,this.$1J));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1G)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){var x=this.mapsSearchView.get_compositeSearchWidget().get_textInputView().get_inputElement();x.focusin(ss.mkdel(this,function(y){this.checkForSuppressTooltipsAndOverlays(y.target)}));x.focusout(ss.mkdel(this,function(y){this.checkForSuppressTooltipsAndOverlays(y.relatedTarget)}));x.keypress(ss.mkdel(this,function(y){this.checkForSuppressTooltipsAndOverlays(y.target)}))}},makeRegions:function(){var x=this.listNonVizRegions();var y=this.makeHoverApi();ss.clearKeys(this.regions);var z=function(){return false};var A=_.keys(x);for(var B=0;B<A.length;B++){var C=A[B];var D=x[C];this.regions[C]=new u(C,D.get(0),this.get_session(),y,this.$1X.scrollX,this.$1X.scrollY,z,this.get_sheetid(),this.get_paneTableVM())}var E=ss.mkdel(this,this.allowPanZoom);var F=this.dom.view.children().first();this.set_vizRegion(new u('viz',F.get(0),this.get_session(),y,this.$1X.scrollX,this.$1X.scrollY,E,this.get_sheetid(),this.get_paneTableVM()))},getWebRegion:function(x){return ss.safeCast(this.regions[x],u)},makeTooltipLegacyMode:function(x){return new v(x,this.get_visualId())},cancelHover:function(){},makeInputHandlers:function(){var x=ss.getEnumerator(Object.keys(this.$25));try{while(x.moveNext()){var y=x.current();this.$25[y]=tab.MiscUtil.dispose$1(this.$25[y])}}finally{x.dispose()}ss.clearKeys(this.$25);var z=this.listNonVizRegions();var A=_.keys(z);for(var B=0;B<A.length;B++){var C=A[B];var D=z[C];var E=this.makeMouseSpec(this.getWebRegion(C));this.$25[C]=new spiff.TableauEventHandler.$ctor1(D.get(0),E)}this.$1U();var F=this.dom.view.children().first();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){var G={hoverDelay:20,hover:ss.mkdel(this,function(K){this.vizHitTester.update(K)})};var H=ss.mkdel(this,function(K){this.onHitTestUpdated(this.getWebRegion('viz'),K)});this.vizHitTester.add_updated(H);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.vizHitTester.remove_updated(H)})));this.$2i=new spiff.TableauEventHandler.$ctor1(F.get(0),G);this.disposables.add$1(this.$2i)}var I={};spiff.TableauEventHandler.setHandler(I,'dragStart',function(K){});this.$1Z=new spiff.TableauEventHandler.$ctor1(document.body,I);this.disposables.add$1(this.$1Z);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var J={hover:ss.mkdel(this,function(K){this.onHoverOverlay(this.getWebRegion('viz'),K)}),hoverDelay:0};this.$2d=new spiff.TableauEventHandler.$ctor1(F.get(0),J);this.disposables.add$1(this.$2d)}if(tab.FeatureParamsLookup.getBool(30)){this.$1x()}F.addClass('tvmodeRectSelect')},$1U:function(){if(ss.isValue(this.$25['viz'])){this.$25['viz'].dispose()}var x=this.makeMouseSpec(this.getWebRegion('viz'));var y=this.dom.view.children().first();this.$25['viz']=new spiff.TableauEventHandler.$ctor1(y.get(0),x)},updateTooltipMode:function(x){tab.PaneTableView.prototype.updateTooltipMode.call(this,x);if(ss.isNullOrUndefined(this.vizTooltip)){this.$1U()}},$1x:function(){var x=this.listNonVizRegions();var y=ss.mkdel(this,function(z){var A={hover:ss.mkdel(this,function(B){this.$1F(this.getWebRegion(z),B)}),hoverDelay:0,firstTouch:ss.mkdel(this,function(B){this.$1L(this.getWebRegion(z))})};this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(x[z].get(0),A));x[z].mouseout(ss.mkdel(this,function(B){this.$1I(z)}))});y('xheader');y('yheader');y('topaxis');y('bottomaxis')},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$23)){this.$23=new m(this);this.disposables.add$1(this.$23)}return this.$23},makeMouseSpec:function(x){var y={hover:ss.mkdel(this,function(B){this.onHoverTooltip(x,B)}),hoverDelay:(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150)};var z=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(z!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&x.get_regionPart()==='viz'){y.hoverDelay=0}else{var A=tab.FeatureParamsLookup.getInt(12);y.hoverDelay=ss.coalesce(A,120)}}y.firstTouch=ss.mkdel(this,function(B){this.$1E(x,B)});y.tap=ss.mkdel(this,function(B){this.$1M(x,B)});y.doubleTap=ss.mkdel(this,function(B){this.$1A(x,B)});if(x.get_regionPart()==='viz'){y.dragStart=ss.mkdel(this,function(B){this.dragOverride(B,ss.mkdel(this,function(C){this.$1D(x,B)}))});if(tsConfig.allow_filter){y.press=function(B){q.$1()};y.cancelPotentialDoubleTap=ss.mkdel(this,function(B){this.$1z()});y.pressDragStart=ss.mkdel(this,function(B){this.dragOverride(B,ss.mkdel(this,function(C){this.$1K(x,B)}))})}}return y},makeRegionContentProviders:function(){var x=ss.mkdel(this,function(y,z){this.get_vizRegion().reset()});this.makeRegionContentProvidersHelper(this.dom.view.children().first(),x);this.$2f=this.makeTiledWindow(this.$1X.scrollY,null,null,null,null);this.$2e=this.makeTiledWindow(this.$1X.scrollX,null,null,null,null)},makeTiledWindow:function(x,y,z,A,B){return this.makeTiledWindowHelper(x,y,z,A,B,true)},shouldInformTooltipOfLocalTapOnViz:function(x){return true},refreshScrollingAndDrilling:function(){var x=this.$2c;this.$2c=null;if(typeof(x)==='function'){x()}if(ss.isValue(this.$22)){this.$22.onUpdate()}if(ss.isValue(this.$2h)){this.$2h.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2f.destroy();this.$2e.destroy()},destroyInputHandlers:function(){var x=ss.getEnumerator(Object.keys(this.$25));try{while(x.moveNext()){var y=x.current();this.$25[y].dispose();this.$25[y]=null}}finally{x.dispose()}ss.clearKeys(this.$25);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1H))}this.$1P()},refreshImages:function(x){tab.PaneTableView.prototype.refreshImages.call(this,x);this.$2f.refreshImages(x);this.$2e.refreshImages(x)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1h(false)},$1H:function(x){var y=tab.DomUtil.getRectXY(this.dom.view);if(y.x>x.x||y.x+y.w<=x.x||y.y>x.y||y.y+y.h<=x.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(x){this.$27=true;this.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_mapsSearchEnabled()){this.mapsSearchView.set_isVisible(true)}this.checkForSuppressTooltipsAndOverlays(x.target)},$1u:function(x){var y=tab.DomUtil.getRectXY(this.dom.domRoot);return q.$0(y,x)},$1v:function(x){var y=tab.DomUtil.getRectXY(this.dom.view);return q.$0(y,x)},isPointOutsideOfRelevantVizRegions:function(x){if(!this.$1v(x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.yLabel),x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.xLabel),x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.caption),x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.leftAxis),x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.rightAxis),x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.bottomAxis),x)){return false}if(!q.$0(tab.DomUtil.getRectXY(this.dom.topAxis),x)){return false}return true},onMouseOut:function(x){if(this.$1u(x)){if(ss.isValue(this.$2h)){this.$2h.hideSortIndicator()}if(ss.isValue(this.$22)){this.$22.turnDrillWidgetsOff()}}if(this.isPointOutsideOfRelevantVizRegions(x)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1i()}},$1i:function(){if(!this.$21){this.disposeOfOverlayImages()}},onMouseMove:function(x){var y=this.get_vizToolTip();if(y.get_isTooltipShown()&&!y.shownTooltipIsStatic()&&this.$1v(x)){var z=tab.DomUtil.getRectXY(this.dom.view);y.hoverOverWhitespace({x:z.x,y:z.y},'viz')}},onViewMouseOut:function(x){this.$27=false;var y=this.get_vizToolTip();if(this.$1v(x)){this.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.set_isVisible(false)}if(y.get_isTooltipShown()&&!y.shownTooltipIsStatic()){var z=tab.DomUtil.getRectXY(this.dom.view);y.hoverOverWhitespace({x:z.x,y:z.y},'viz')}}if(!y.get_isTooltipShown()){this.$1i()}this.checkForSuppressTooltipsAndOverlays(x.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(x){this.$27=true;this.checkForSuppressTooltipsAndOverlays(x.target)},setupSortIndicators:function(){this.$2h=new s(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2h)},setupDrilling:function(){this.$22=new j(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$22)},setRegionGeometryHelper:function(x,y){if(ss.isValue(x)&&x.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(x.children().first(),{l:0,t:0,w:y.w,h:y.h})}},setGeometryForWebScrollbars:function(x,y,z,A,B,C,D,E,F,G){var H=null,I=null;if(ss.isValue(z)&&z>0){var J=Math.max(tab.Metrics.get_minScrollHeight(),x);tab.DomUtil.setAbsolutePositionBox(this.$1X.scrollY,{l:C,t:B,w:z,h:J});this.$1X.scrollY.css('display','')}else{this.$1X.scrollY.css('display','none')}if(ss.isValue(A)&&A>0){var K=Math.max(tab.Metrics.get_minScrollWidth(),y);tab.DomUtil.setAbsolutePositionBox(this.$1X.scrollX,{l:E,t:D,w:K,h:A});this.$1X.scrollX.css('display','')}else{this.$1X.scrollX.css('display','none')}if(this.$1X.scrollY.css('display')!=='none'){H={x:0,y:0,w:1,h:F,r:null}}this.$2f.reset(H,this.geometry.ts);if(this.$1X.scrollX.css('display')!=='none'){I={x:0,y:0,w:G,h:1,r:null}}this.$2e.reset(I,this.geometry.ts)},maybeShowOverlayImages:function(x){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var y=null;if(ss.isValue(x)&&ss.isValue(x.overlayImage)){y=this.createOverlayImageFromDataUri(x.overlayImage)}else if(ss.isValue(x.overlayImageKey)){y=this.createOverlayImageFromFile(x.overlayImageKey)}this.showOverlayImages(y,x.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1S();this.$1R()},$1S:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')){this.$1n();var x=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h+tab.DomUtil.getRectXY(this.dom.yLabel).h+tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;if(x>0){this.get_domWeb().yLabelResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1g(this.dom.yLabel,this.get_domWeb().yLabelResizer);var y=-tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var z=-tab.RegionResizer.getHeaderResizerMinimumRunDistance(tab.DomUtil.getRectXY(this.dom.yLabel).w);spiff.DragDropManager.attachDragSource(this.get_domWeb().yLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'yheader',this.get_domWeb().yLabelResizer,y,x,z,2147483647))}var A=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w+tab.DomUtil.getRectXY(this.dom.xLabel).w+tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;if(A>0){this.get_domWeb().xLabelResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1g(this.dom.xLabel,this.get_domWeb().xLabelResizer);var B=-tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var C=-tab.RegionResizer.getHeaderResizerMinimumRunDistance(tab.DomUtil.getRectXY(this.dom.xLabel).h);spiff.DragDropManager.attachDragSource(this.get_domWeb().xLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'xheader',this.get_domWeb().xLabelResizer,B,A,C,2147483647))}}},$1g:function(x,y){var z=x.clone().empty().removeClass().addClass('tab-tvRegionResizerContainer').append(y);x.parent().append(z)},$1n:function(){if(ss.isValue(this.get_domWeb().yLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().yLabelResizer);this.get_domWeb().yLabelResizer.parent().remove();this.get_domWeb().yLabelResizer=null}if(ss.isValue(this.get_domWeb().xLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().xLabelResizer);this.get_domWeb().xLabelResizer.parent().remove();this.get_domWeb().xLabelResizer=null}},$1R:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')){this.$1m();var x=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var y=tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;var z=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var A=tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;var B=tab.DomUtil.getRectXY(this.dom.view);var C=B.w;var D=B.h;var E=z+D+A;var F=x+C+y;var G=tab.DomUtil.getRectXY(this.dom.topAxis).w;var H=tab.DomUtil.getRectXY(this.dom.rightAxis).h;var I=tab.DomUtil.getRectXY(this.dom.bottomAxis).w;var J=tab.DomUtil.getRectXY(this.dom.leftAxis).h;var K=G>0&&I>0;var L=H>0&&J>0;if(G>0){var M=x+G+y;this.get_domWeb().topAxisResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1g(this.dom.topAxis,this.get_domWeb().topAxisResizer);var N=-x;var O=tab.DomUtil.getRectXY(this.dom.topAxis).h;var P=-tab.RegionResizer.getAxisResizerMinimumRunDistance(O);var Q=tab.RegionResizer.getAxisResizerMaximumRunDistance(D,E,O,K);spiff.DragDropManager.attachDragSource(this.get_domWeb().topAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'topaxis',this.get_domWeb().topAxisResizer,N,M,P,Q))}if(H>0){var R=z+H+A;this.get_domWeb().rightAxisResizer=$("<div class='tab-tvYRightRegionResizer'></div>");this.$1g(this.dom.rightAxis,this.get_domWeb().rightAxisResizer);var S=-z;var T=tab.DomUtil.getRectXY(this.dom.rightAxis).w;var U=-tab.RegionResizer.getAxisResizerMaximumRunDistance(C,F,T,L);var V=tab.RegionResizer.getAxisResizerMinimumRunDistance(T);spiff.DragDropManager.attachDragSource(this.get_domWeb().rightAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'rightaxis',this.get_domWeb().rightAxisResizer,S,R,U,V))}if(I>0){var W=x+I+y;this.get_domWeb().bottomAxisResizer=$("<div class='tab-tvXBottomRegionResizer'></div>");this.$1g(this.dom.bottomAxis,this.get_domWeb().bottomAxisResizer);var X=-x;var Y=tab.DomUtil.getRectXY(this.dom.bottomAxis).h;var Z=-tab.RegionResizer.getAxisResizerMaximumRunDistance(D,E,Y,K);var ba=tab.RegionResizer.getAxisResizerMinimumRunDistance(Y);spiff.DragDropManager.attachDragSource(this.get_domWeb().bottomAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'bottomaxis',this.get_domWeb().bottomAxisResizer,X,W,Z,ba))}if(J>0){var bb=z+J+A;this.get_domWeb().leftAxisResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1g(this.dom.leftAxis,this.get_domWeb().leftAxisResizer);var bc=-z;var bd=tab.DomUtil.getRectXY(this.dom.leftAxis).w;var be=-tab.RegionResizer.getAxisResizerMinimumRunDistance(bd);var bf=tab.RegionResizer.getAxisResizerMaximumRunDistance(C,F,bd,L);spiff.DragDropManager.attachDragSource(this.get_domWeb().leftAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'leftaxis',this.get_domWeb().leftAxisResizer,bc,bb,be,bf))}}},$1m:function(){if(ss.isValue(this.get_domWeb().topAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().topAxisResizer);this.get_domWeb().topAxisResizer.parent().remove();this.get_domWeb().topAxisResizer=null}if(ss.isValue(this.get_domWeb().rightAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().rightAxisResizer);this.get_domWeb().rightAxisResizer.parent().remove();this.get_domWeb().rightAxisResizer=null}if(ss.isValue(this.get_domWeb().bottomAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().bottomAxisResizer);this.get_domWeb().bottomAxisResizer.parent().remove();this.get_domWeb().bottomAxisResizer=null}if(ss.isValue(this.get_domWeb().leftAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().leftAxisResizer);this.get_domWeb().leftAxisResizer.parent().remove();this.get_domWeb().leftAxisResizer=null}},$1w:function(x){return ss.isValue(x)&&x!==0},$1y:function(x){var y,z;var A=x['wheelDeltaY'];var B=x['wheelDeltaX'];var C=x['deltaY'];var D=x['deltaX'];var E=x['detail'];if(this.$1w(E)){var F=x['axis'];var G=x['HORIZONTAL_AXIS'];z=(ss.referenceEquals(F,G)?0:E);y=(ss.referenceEquals(F,G)?E:0)}else if(this.$1w(A)||this.$1w(B)){if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=7){var H=Math.abs(B);var I=Math.abs(A);var J=Math.max(H,I);if(this.$26){if(J%3===0){B=ss.Int32.div(B,3);A=ss.Int32.div(A,3)}}else if(J%12===0){B=((B<0)?-120:120);A=((A<0)?-120:120)}}z=-A;y=-B}else if(this.$1w(C)||this.$1w(D)){var K=(this.$26?3:40);z=K*C;y=K*D}else{z=-x['wheelDelta'];y=0}return{x:y,y:z}},$1c:function(x){if(x%tab.MapUtil.defaultWheelDeltaIncrement!==0){var y=Math.abs(x);var z=ss.Int32.div(y,tab.MapUtil.defaultWheelDeltaIncrement)+1;if(x<0){z*=-1}x=tab.MapUtil.defaultWheelDeltaIncrement*z}return x},$1T:function(){this.$2j={x:0,y:0};this.$2b=0;this.$1W=null;this.$2a=0;this.$29=null;this.$2g=true;this.$26=false},$1J:function(x){var y=null;if(ss.isValue(x['originalEvent'])){y=x['originalEvent']}var z=this.$1y(y);this.$1t(z.y,y['deltaY']);if(this.isOneVisiblePane()&&this.isMap&&this.allowPanZoom()){if(this.$26){z.y=this.$1c(z.y);this.$2b++;if(this.$2b%tab.MapUtil.touchEventSamplingRate!==0){x.preventDefault();return}}if(this.$28){x.preventDefault();return}this.$2j.y+=z.y;if(!this.$1v(x)){var A=this.getWebRegion('viz');var B=this.$1r(A,y);this.$1e(B,A,x);return}}var C=tab.DoubleUtil.roundToInt(this.$1X.scrollY.scrollTop());var D=this.$1X.scrollX.scrollLeft();this.$1X.scrollY.scrollTop(C+z.y);this.$1X.scrollX.scrollLeft(D+z.x);var E=tab.DoubleUtil.roundToInt(this.$1X.scrollY.scrollTop());var F=this.$1X.scrollX.scrollLeft();if(C!==E){this.$1p(E);x.preventDefault()}if(D!==F){this.$1o(F);x.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$1e:function(x,y,z){if(ss.isNullOrUndefined(this.$1W)){if(y.mapIsBrowserRendered()){this.$29=y.getPointLatLong(x)}this.$1W=x}if(y.mapIsBrowserRendered()){this.$2a=ss.Int32.div(this.$2j.y,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement}var A=this.get_paneTableVM().get_mapServerModel();var B=(A.get_hasPresModel()?A.get_zoom():1);var C=tab.MapUtil.calculateZoomFactor(this.$2j.y);if(y.mapIsBrowserRendered()&&!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(B,this.$2a)||!tab.MapUtil.allowZoomAtCurrentLevel(B,C)){this.$2a=B;C=tab.MapUtil.getZoomFactorForDesiredZoomLevel(B,0);this.$2j.y=tab.MapUtil.getScrollDeltaForZoomFactor(C)}this.$1j();this.$2k=window.setTimeout(ss.mkdel(this,function(){this.$28=true;tab.PanZoomCommands.zoomWithAnchorPoint(y.get_regionPart(),this.$1W,C,ss.mkdel(this,function(){this.$28=false}),y.get_viewSession().sheetId);this.$1T()}),500);if(!this.$28){this.$1f(y,B,C);z.preventDefault()}},$1f:function(x,y,z){this.isAnimationOccurring=true;var A=this.resolvePane(this.$1W);if(x.mapIsBrowserRendered()){var B=y-this.$2a;x.animateAnchorZoomLeaflet(A,this.$29,B)}else{x.animateAnchorZoom(A,this.$1W,z)}this.disposeOfOverlays()},$1t:function(x,y){if(this.$2g){var z=(tab.BrowserSupport.get_isFF()?Math.abs(y):Math.abs(x));if(z>0&&z<12){this.$26=true}this.$2g=false}},$1r:function(x,y){var z=ss.round(y['clientX']);var A=ss.round(y['clientY']);var B={x:z,y:A};var C=x.toLocalCoords(B,false);return C},$1O:function(){this.get_vizToolTip().onScroll();this.$1p(tab.DoubleUtil.roundToInt(this.$1X.scrollY.scrollTop()))},$1p:function(x){for(var y=0;y<tab.PaneTableView.scrollableYRegions.length;y++){var z=tab.PaneTableView.scrollableYRegions[y];this.getWebRegion(z).setYPos(x)}var A={x:this.$1X.scrollX.scrollLeft(),y:x};this.set_scrollPosition(A)},$1o:function(x){for(var y=0;y<tab.PaneTableView.scrollableXRegions.length;y++){var z=tab.PaneTableView.scrollableXRegions[y];this.getWebRegion(z).setXPos(x)}var A={x:x,y:tab.DoubleUtil.roundToInt(this.$1X.scrollY.scrollTop())};this.set_scrollPosition(A)},$1N:function(){this.get_vizToolTip().onScroll();this.$1o(this.$1X.scrollX.scrollLeft())},$1G:function(x){if(this.getWebRegion('viz').get_isDragTracking()){return}if(!ss.referenceEquals(x.target,this.element.get(0))&&!ss.referenceEquals(x.target,this.dom.view.get(0))&&!ss.referenceEquals(x.target,this.dom.view.find('.tvimagesContainer').get(0))){return}var y;switch(x.which){case 68:{y='lasso-selection';break}case 83:{y='radial-selection';break}case 65:{y='rectangular-selection';break}default:{return}}if(y===this.getWebRegion('viz').get_currentPointerToolMode()){y=this.defaultPointerToolMode()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(y,true)}else{this.setPointerToolMode(y,true)}},checkForHoverOverlay:function(){this.$1h(true)},$1h:function(x){if(ss.isValue(this.lastVizHoverPoint)&&this.$27){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(x)}else{this.disposeOfOverlayImages()}},$1F:function(x,y){if(this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(x.get_contentProvider())){return}var z=x.toLocalCoordsEvent(y,false);var A=x.hitTestNodes(z);if(ss.isValue(A)){A=(tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(A.ZHX,A.wwF)?A:null)}var B=tab.ModelUtils.regionToVisualPartMap[x.get_regionPart()];this.updateHoveredCategoricalHeaders(A,'hover',B)},$1L:function(x){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(x.get_contentProvider())){return}var y=tab.ModelUtils.regionToVisualPartMap[x.get_regionPart()];this.updateHoveredCategoricalHeaders(null,'press',y)},$1I:function(x){var y=tab.ModelUtils.regionToVisualPartMap[x];var z=this.get_paneTableVM().get_vizRegionMap()[y];if(ss.isValue(z)){z.set_hoveredCategoricalNode(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||u.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(x,y){var z=x;z.setMouseOverMarkOrVisualPart(y)},$1E:function(x,y){if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.get_compositeSearchWidget().removeList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&x.get_regionPart()==='viz'){var z=x.toLocalCoordsEvent(y,false);var A=this.getWebRegion('viz');var B=A.hitTestSingleMarksAndVisualParts(z);if(B.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(B.get_id(),'press',B.get_overlayTargetType())}}},$1q:function(){var x=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var y=0;y<x.length;y++){var z=x[y];if(!z.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(x){return x==='simple'||!this.$1q()},onHitTestUpdated:function(x,y){this.$1l();if(this.getVizDragApproval(y)){var z=x.toLocalCoords(y.get_pageCoordinates(),false);this.$1k(z)}},$1k:function(x){var y=$('<div class="tabDragIcon" ></div>');if(tab.BrowserSupport.get_isIE()){y.css('cursor','alias')}else{y.css('cursor','-webkit-grab');y.css('cursor','-moz-grab');y.css('cursor','grab')}y.css('position','absolute');y.css('top',x.y-20+'px');y.css('left',x.x-20+'px');y.css('height',40+'px');y.css('width',40+'px');var z=this.makeMouseSpec(this.getWebRegion('viz'));this.dom.view.children().first().append(y);this.$20=new spiff.TableauEventHandler.$ctor1(y.get(0),z)},disposeOfOverlays:function(){this.$1l();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1l:function(){this.$20=tab.MiscUtil.dispose$1(this.$20);this.dom.view.children().first().children('.tabDragIcon').remove()},$1M:function(x,y){if(this.$24){this.$24=false;return}y.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(y.originalEvent['button']>1){return}var z=x.toLocalCoordsEvent(y,false);var A=tab.PointUtil.add(z,x.getLocalOffsetPoint(false));var B;if(x.get_regionPart()==='viz'){B=tab.ResolveSelectAction.fromNormalizedEvent(y,false,true)}else{B=tab.ResolveSelectAction.fromNormalizedEvent(y)}if(this.allowPanZoom()&&x.isZoomToolActive()){var C=this.resolvePane(x.toLocalCoordsEvent(y,false));x.$Q(y,C);return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(x,B,A,z)}else{var D=ss.mkdel(this,function(){if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(x)}var F=tab.PaneTableView.guessTooltipTargetTypeFromRegion(x.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(A,z,x.get_regionPart(),F)});var E={x:z.x,y:z.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(x.get_regionPart(),E,B,this.get_paneTableVM().get_visualId(),D);this.dom.domRoot.focus()}},$1A:function(x,y){if(!this.isPointerToolLocked){this.resetPointerToolMode()}var z=((y.shiftKey&&!spiff.EventUtil.isCtrlKey(y))?0.5:2);this.doDoubleTap(x,y,z)},$1D:function(x,y){var z=this.resolvePane(x.toLocalCoordsEvent(y,false));this.$1s();if(!tsConfig.allow_filter){this.setPointerToolMode(x.get_currentPointerToolMode(),false)}else{switch(x.get_currentPointerToolMode()){case'pan-map':case'area-zoom':case'zoom-out':{var A=!y.shiftKey;this.setPointerToolMode(x.get_currentPointerToolMode(),A);break}}}this.$1Q(x);if(ss.isValue(this.$22)){this.$22.set_enabled(false)}if(ss.isValue(this.$2h)){this.$2h.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.enableUserInteraction(false)}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(false)}x.$o(y,z)},$1B:function(x){var y=this.getWebRegion('viz');y.$n(x);if(y.isSelectingToolActive()){this.checkForDragOverlays();this.$21=true}},$1C:function(x){this.$24=x.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$21=false;this.getWebRegion('viz').$m(x,this.get_vizToolTip());this.$1P();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.$22)){this.$22.set_enabled(true)}if(ss.isValue(this.$2h)){this.$2h.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.enableUserInteraction(true)}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(true)}},$1K:function(x,y){var z=this.resolvePane(x.toLocalCoordsEvent(y,false));this.$1s();x.$o(y,z);this.$1Q(x)},$1z:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$1Q:function(x){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1l();if(!x.isSelectingToolActive()){this.disposeOfOverlays()}},$1P:function(){var x={};spiff.TableauEventHandler.removeHandler(x,'dragMove');spiff.TableauEventHandler.removeHandler(x,'dragEnd');if(ss.isValue(this.$1Z)){this.$1Z.update(x)}this.$1Y=tab.MiscUtil.dispose$1(this.$1Y)},$1s:function(){var x={};spiff.TableauEventHandler.setHandler(x,'dragMove',ss.mkdel(this,this.$1B));spiff.TableauEventHandler.setHandler(x,'dragEnd',ss.mkdel(this,this.$1C));this.$1Z.update(x);tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$1Y);this.$1Y=new spiff.Glass;this.$1Y.show();var y=this.getWebRegion('viz');y.setCursor(y.determineDragSelectionCursor(),this.$1Y.element)},$1j:function(){this.$2k=tab.MiscUtil.clearTimeout(this.$2k)},allowPanZoom:function(){return this.$1d('other')},allowPanZoomOnDoubleTap:function(){return this.$1d('doubleTap')},$1d:function(x){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.geometry)){return false}var y=this.geometry.pi;switch(x){case'doubleTap':{return y.hasXQAxis&&y.hasYQAxis}case'other':default:{return y.hasXQAxis||y.hasYQAxis}}}},tab.PaneTableView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.PaneTableViewModel])]);ss.initClass(s,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$q)&&tsConfig.allow_filter},dispose:function(){this.$n=null;this.$o.element.remove();this.$o.dispose();r.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$r,null)){this.$r();this.$r=null}this.$s=this.$n.visibleGeometry;this.$q=this.$n.get_sortIndicators()},hideSortIndicator:function(){if(!this.$b()){return}var x=new RegExp('(sortInd\\w+)?','g');this.$l.get(0).className=this.$l.get(0).className.replace(x,'');this.$l.css('display','none');this.$p=null},onMouseMove:function(x){this.$a(x)},isActiveInRect:function(x){if(ss.isValue(this.$p)&&this.$p.$1&&tab.RectXYUtil.intersectsWith(x,this.$m)){return true}return false},$g:function(){this.$q=this.$n.get_sortIndicators();this.set_enabled(true)},$9:function(){this.$l.click(ss.mkdel(this,this.$c));this.$l.mouseover(ss.mkdel(this,this.$e));this.$l.mouseout(ss.mkdel(this,this.$d))},$a:function(x){if(x.button>0){return}if(ss.isNullOrUndefined(this.$q)||!tsConfig.allow_filter){return}var y=this.$n.get_tableViewPosition();var z={x:x.pageX-y.x,y:x.pageY-y.y};var A=this.$n.get_domWeb().scrollX.get(0);var B=this.$n.get_domWeb().scrollY.get(0);var C={x:A.scrollLeft,y:B.scrollTop};var D=this.$s;var E=this.regionHitTest(this.$s,z);if(ss.isValue(E)){this.$f(this.getSIRegionFromName(this.$n,E),D[E],z,C)}else{this.hideSortIndicator()}},$j:function(x,y,z){var A;var B=x.Yds[y];var C=this.$p;if(!x.oAu){A=((B.rei02==='asc')?'Left':'Right')}else{A=((B.rei02==='asc')?'Up':'Down')}var D=(B.bBh?'Solid':'Hollow');this.$p=new d(x,B,y,A,D,z);if(ss.isNullOrUndefined(C)||!ss.referenceEquals(C.$0,A)||!ss.referenceEquals(C.$5,D)||C.$1!==z){this.$k()}},$k:function(){if(ss.isNullOrUndefined(this.$p)){return}var x='sortInd'+this.$p.$5+this.$p.$0+(this.$p.$1?'Active':'');var y=new RegExp('(sortInd\\w+)?','g');this.$l.get(0).className=this.$l.get(0).className.replace(y,'');this.$l.addClass(x)},$i:function(){if(!this.$b()){return}var x=this.$p.$2;var y=this.$p.$4;if(!x.bBh){x.bBh=true;x.rei02=y.XYI02}else if(x.rei02===y.XYI02){x.rei02=((y.XYI02==='asc')?'desc':'asc')}else{x.rei02=y.XYI02;x.bBh=false}this.$j(y,this.$p.$3,this.$p.$1)},$e:function(x){if(this.isOtherActiveInRect(this.$m)){return}if(this.$b()&&!this.$p.$1){this.$p.$1=true;this.$k()}x.stopPropagation()},$d:function(x){if(!this.$b()){return}var y=$(this.$l.get(0)).offset();var z=tab.DoubleUtil.roundToInt($(this.$l.get(0)).outerHeight());var A=tab.DoubleUtil.roundToInt($(this.$l.get(0)).outerWidth());if(y.left>x.pageX||y.left+A<=x.pageX||y.top>x.pageY||y.top+z<=x.pageY){this.$p.$1=false;this.$k();x.stopPropagation()}},$c:function(x){spiff.EventUtil.stopEvent(x);var y=this.$n.get_tableViewPosition();var z=y.x;var A=y.y;var B={x:x.pageX-z,y:x.pageY-A};var C=this.$n.get_domWeb().scrollX.get(0);var D=this.$n.get_domWeb().scrollY.get(0);var E={x:C.scrollLeft,y:D.scrollTop};var F=this.regionHitTest(this.$s,B);if(ss.isNullOrUndefined(F)){return}var G=this.getSIRegionFromName(this.$n,F);var H=G.D$S;var I=this.$s;B.y+=H.RAC-I[F].t;B.x+=H.thj-I[F].l;this.$i();this.$l.addClass('clicked');this.$r=ss.mkdel(this,function(){this.$l.removeClass('clicked')});tab.SortServerCommands.sortFromIndicator(B,E,this.$n.get_visualId())},$h:function(x,y,z,A){if(this.isOtherActiveInRect(z)){return}this.$m=z;this.$j(x,y,A);this.showNodeAt(this.$l.get(0),z.y,z.x)},$b:function(){return ss.isValue(this.$p)},$f:function(x,y,z,A){if(ss.isNullOrUndefined(x)){this.hideSortIndicator();return}if(ss.isValue(this.$p)&&ss.isValue(this.$p.$4)&&x.kuG!==this.$p.$4.kuG){this.hideSortIndicator()}var B={x:z.x,y:z.y};var C=x.D$S;B.y+=C.RAC-y.t;B.x+=C.thj-y.l;if(x.vBP){B.y+=A.y}if(x.TVg){B.x+=A.x}var D=x.Yds;for(var E=0,F=D.length;E<F;E++){if(ss.isNullOrUndefined(D[E].efv)){continue}if(ss.isNullOrUndefined(D[E]._bu)){continue}var G=tab.RecordCast.rectPresModelAsRectXY(D[E].efv);if(tab.RectXYUtil.inRect(G,B)){var H=tab.RecordCast.rectPresModelAsRectXY(D[E]._bu);var I=this.clone(H);I.y-=B.y-z.y;I.x-=B.x-z.x;var J={x:I.x+2,y:I.y+2};var K={x:I.x+I.w-2,y:I.y+I.h-2};if(tab.RectUtil.inRect(y,J)&&tab.RectUtil.inRect(y,K)){this.$h(x,E,I,tab.RectXYUtil.inRect(I,B));return}}}}},r,[spiff.IAppendableView,ss.IDisposable]);ss.initClass(t,a,{});ss.initClass(u,a,{$S:function(){return this.$X},get_isDragTracking:function(){return this.$Y},$J:function(x){this.$Y=x;u.isDragTrackingInAnyRegion=x},destroy:function(){this.$W=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(x){if(ss.isValue(this.regionContent)){this.regionContent.setXPos(x);this.backgroundMap.setScrollX(x)}},setYPos:function(x){if(ss.isValue(this.regionContent)){this.regionContent.setYPos(x);this.backgroundMap.setScrollY(x)}},reset:function(){this.resetIsWaitingOnData=false;if(this.$Z.item1){this.$Z={item1:false,item2:this.$Z.item2};this.set_currentModifierKeyToolMode('no-tools');this.setMode(this.$Z.item2)}if(this.resetIsWaitingOnTransition){return}tab.TiledViewerRegion.prototype.reset.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$T){return}this.$W.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(x){if(this.$10!==x){this.$10=x;this.$I()}},$o:function(x,y){this.$V(x,y)},$G:function(x,y){this.$L(this.get_shapeSelector());this.$K(x)},$P:function(x,y){this.$L(this.domPanZoomRect);this.$K(x);this.domPanZoomRect.set_pi(y)},$n:function(x){if(this.get_isDragTracking()){this.$11(x)}},$m:function(x,y){this.updateDefaultToolMode();if(this.get_isDragTracking()){this.$12(x,y)}},$Q:function(x,y){var z=this.toLocalCoordsEvent(x,false);if(!this.isZoomToolActive()){}var A=((this.get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(y,z,A,false,null)},$p:function(x){var y=Math.floor(x.w/2)+x.x;var z=Math.floor(x.h/2)+x.y;return{x:y,y:z}},$R:function(x,y){this.zoomPoint(x,this.getCenterPoint(x),y,false,null)},$w:function(){},$N:function(x){if(ss.isValue(x)){x.hide()}},$L:function(x){if(ss.isValue(x)){x.show()}},setMode:function(x){if(this.resetIsWaitingOnData){this.$Z={item1:true,item2:x};return}tab.TiledViewerRegion.prototype.setMode.call(this,x);this.$I();switch(x){case'no-tools':{this.$11=ss.mkdel(this,this.$x);this.$12=ss.mkdel(this,this.$x);this.$V=ss.mkdel(this,this.$x);this.$U=ss.mkdel(this,this.$x);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$11=ss.mkdel(this,this.onMarqueeMouseMove);this.$12=ss.mkdel(this,this.$x);this.$V=ss.mkdel(this,this.$G);this.$U=ss.mkdel(this,this.$F);break}case'pan-map':{this.$11=ss.mkdel(this,this.$y);this.$12=ss.mkdel(this,this.$z);this.$V=ss.mkdel(this,this.$A);this.$U=ss.mkdel(this,this.$x);break}case'area-zoom':case'zoom-out':{this.$11=ss.mkdel(this,this.onZoomBoxMouseMove);this.$12=ss.mkdel(this,this.$C);this.$V=ss.mkdel(this,this.$P);this.$U=ss.mkdel(this,this.$O);break}}},$t:function(){return this.get_currentPointerToolMode()===this.get_defaultPointerToolMode()},$s:function(x){return!x.shiftKey&&spiff.EventUtil.isCtrlKey(x)&&this.isSelectingToolActive()},$u:function(x){return x.altKey&&(this.isZoomToolActive()||x.shiftKey&&spiff.EventUtil.isCtrlKey(x))},$v:function(x){var y=x;if(y.altKey&&!y.ctrlKey){y.preventDefault()}if(!tsConfig.allow_filter){return}var z=this.get_currentModifierKeyToolMode();var A=this.$X;this.$X=this.$s(y);if(!this.get_isDragTracking()){if(this.allowPanZoom()){if(u.$0(y)){this.set_currentModifierKeyToolMode('pan-map')}else if(u.$1(y)){this.set_currentModifierKeyToolMode('area-zoom')}else if(this.$u(y)){this.set_currentModifierKeyToolMode('zoom-out')}else{this.set_currentModifierKeyToolMode('no-tools')}}else{this.set_currentModifierKeyToolMode('no-tools')}}if(z!==this.get_currentModifierKeyToolMode()||A!==this.$X){this.$I()}},startScrolling:function(x,y,z){this.stopScrolling();if(!(x!==0&&this.scroller.get_canScrollX()||y!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$13)){this.$r(x,y,z)}var A=((z==='fast')?15:200);this.$13=window.setInterval(ss.mkdel(this,function(){this.$r(x,y,z)}),A);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$13)){window.clearInterval(ss.unbox(this.$13))}this.$13=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$r:function(x,y,z){var A=0;var B=0;if(x!==0){A=this.$k(0,x);this.scroller.scrollX(A)}if(y!==0){B=this.$k(1,y);this.scroller.scrollY(B)}this.get_shapeSelector().shapeScrolled(A,B);this.get_shapeSelector().get_dom().css('display','');if(A===0&&x!==0||B===0&&y!==0){var C=((A===0)?0:x);var D=((B===0)?0:y);this.startScrolling(C,D,z)}},$k:function(x,y){var z=((x===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var A=((x===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var B=y*15;var C=Math.max(0,Math.min(z+B,A));return C-z},determineScrollDirection:function(x,y){var z=((x===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var A=((x===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var B=((y<0)?-1:((y>0)?1:0));if(B===-1&&z===0||B===1&&z>=A){B=0}return B},suppressTooltips:function(){this.$W.suppressHover(this)},setCursor:function(x,y){y.css('cursor',x)},$H:function(x){this.setCursor(x,this.connectNode)},$q:function(){var x=this.get_currentPointerToolMode();if(x==='no-tools'){x=this.get_defaultPointerToolMode()}return x},$I:function(){var x=this.$q();switch(x){case'area-zoom':{this.$H(u.$6['zoomIn']);break}case'zoom-out':{this.$H(u.$6['zoomOut']);break}default:{this.$H((this.$10?u.$6['select']:u.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){var x=this.$q();switch(x){case'area-zoom':{return u.$6['zoomIn']}case'zoom-out':{return u.$6['zoomOut']}case'lasso-selection':{return(this.$S()?u.$6['lassoExtended']:u.$6['lassoSelect'])}case'radial-selection':{return(this.$S()?u.$6['radialExtended']:u.$6['radialSelect'])}case'rectangular-selection':{return(this.$S()?u.$6['rectExtended']:u.$6['rectSelect'])}case'pan-map':{return u.$6['panDrag']}default:{return u.$6['defaultKey']}}},$l:function(x){if(x!=='rectangular-selection'&&x!=='pan-map'){}this.$H(((x==='rectangular-selection')?u.$6[this.$E()]:u.$6['panDrag']))},$E:function(){return(this.$S()?'rectExtended':'rectSelect')},$K:function(x){if(x.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$J(true);x.preventDefault();this.$W.suppressHover(this);var y=x.get_gestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(y.startX,y.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(y.startX,y.startY,this.getLocalOffset(true));this.$I()},$M:function(x,y){if(!this.get_isDragTracking()){return}this.$J(false);this.$N(y);this.stopScrolling();this.$I()},$C:function(x,y){this.$B(x,y,this.domPanZoomRect)},$x:function(x,y){this.$B(x,y,this.get_shapeSelector())},$B:function(x,y,z){if(!this.get_isDragTracking()){return}var A=x.originalEvent;if(A['button']>1){return}this.$M(x,z);this.$W.suppressHover(this);this.$U(x,y)},$y:function(x){spiff.EventUtil.stopEvent(x);var y=x.get_gestureInfo();var z=y.pageX-this.domPanZoomRect.get_dragStart().x;var A=y.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){z=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){A=0}var B=1;z+=B;A+=B;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:z,t:A,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())});this.backgroundMap.panTo(y.deltaX,y.deltaY)},$z:function(x,y){if(!this.get_isDragTracking()){return}if(x.originalEvent['button']>1){return}spiff.EventUtil.stopEvent(x);this.$M(x,null);var z=x.get_gestureInfo();this.$W.suppressHover(this);var A=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var B={x:z.pageX-this.domPanZoomRect.get_dragStart().x,y:z.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){B.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){B.y=0}this.$D(x,A,B)},$D:function(x,y,z){this.waitingOnPanZoomServerResponse='waitingOnServer';this.resetIsWaitingOnTransition=false;var A=ss.mkdel(this,function(){this.reset()});tab.PanZoomCommands.pan(this.get_regionPart(),y,z,A,this.get_viewSession().sheetId)},$A:function(x,y){if(this.waitingOnPanZoomServerResponse!=='normal'){return}this.$K(x);this.domPanZoomRect.set_pi(y);this.resetIsWaitingOnTransition=true;this.resetIsWaitingOnData=true;this.showDomDragImage(y)},$F:function(x,y){if(!tsConfig.allow_select){this.$W.unsuppressHover(this);return}var z=this.get_shapeSelector().get_tooltipAnchor();var A=this.get_regionPart();var B=tab.PointUtil.add(z,this.getLocalOffsetPoint(false));var C=this.get_shapeSelector().get_hitTestingBox();var D=ss.mkdel(this,function(){y.multiSelectComplete(B,C,A);this.$W.unsuppressHover(this)});var E=tab.ResolveSelectAction.fromNormalizedEvent(x,true);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var F=this.doSelectMarkAndUbertipFromSelectionShape(E,D);if(tab.MiscUtil.isNullOrEmpty(F)||!tsConfig.allow_tooltip){this.$W.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(A,E,this.get_visualId(),D)}},$O:function(x,y){var z=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var A=this.toLocalCoordsRect(z,false);this.waitingOnPanZoomServerResponse='waitingOnServer';var B=this.domPanZoomRect.get_pi();if(A.w<4&&A.h<4){this.$Q(x,B)}var C=this.getCenterPoint(B);if(!this.isZoomToolActive()){}if(this.get_currentPointerToolMode()==='zoom-out'){var D=this.paneTableViewModel.get_mapServerModel();if(D.get_hasPresModel()&&!tab.MapUtil.allowZoomAtCurrentLevel(D.get_mapServerPresModel().Vot,2)){return}var E=0.5;this.$R(B,E);return}else{this.backgroundMap.zoomRect(A);var F=2;var G=1/F;tab.PanZoomCommands.zoomIn(A,C,G,this.get_viewSession().sheetId)}var H=this.$p(A);var I=A.w;var J=A.h;var K=B.w/I;var L=B.h/J;if(B.canDragH&&B.canDragV){var M=Math.min(K,L);var N=this.paneTableViewModel.get_mapServerModel();if(N.get_hasPresModel()){M=tab.ZoomComputer.resolveDesiredScale(N.get_mapServerPresModel(),M)}K=L=M}else if(!B.canDragV){L=1;H.y=C.y}else if(!B.canDragH){K=1;H.x=C.x}else{return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(B,H,K,L)}}},tab.TiledViewerRegion);ss.initClass(v,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var x=new n(this.get_tooltip());this.tooltipBehaviors['sticky']=x}},tab.TooltipBaseLegacyMode);ss.initClass(w,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var x=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var y=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:x,y:y}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(x){if(this.get_canScrollX()){this.$0.scrollLeft+=x}},scrollY:function(x){if(this.get_canScrollY()){this.$1.scrollTop+=x}},setScrollTarget:function(x){},refresh:function(){}},null,[spiff.IScroller]);(function(){spiff.ObjectRegistry.registerType(tab.DataConnectionVariableListItemView,h).call(null)})();(function(){spiff.ObjectRegistry.registerType(tab.DataHighlighterView,i).call(null)})();(function(){r.$0=[]})();(function(){j.$0=17;j.$1=10})();(function(){n.$1='.LegacyTooltipBehavior';n.$2=500;n.$3=250;n.$4=10000;n.$5=1200;n.$6=0;spiff.ObjectRegistry.registerType(tab.ITooltipBehavior,n).call(null)})();(function(){spiff.ObjectRegistry.registerType(tab.MapsSearchView,o).call(null)})();(function(){p.htmlTemplate="<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){u.isDragTrackingInAnyRegion=false;u.$3=15;u.$4=15;u.$5=200;u.$6=null})();(function(){spiff.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,v).call(null)})();(function(){s.sortingElementClassName='tab-tiledViewerSort'})();(function(){q.$7=500;q.$2=120;q.$3=12;q.$5=3;q.$4=40;q.$6=3;spiff.ObjectRegistry.registerType(tab.PaneTableView,q).call(null)})()})();;
/*! BEGIN LegacyDojoUIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojouiweb');var b=function(){this.scroller=null;tab.CategoricalLegendTemplate.call(this,$("<div class='tabLegendPanel' style='position : relative;' role='form' tabindex='-1'><div class='tabLegendBox' role='listbox' aria-multiselectable='true'><h3 class='tabLegendTitle'></h3><div class='tabLegendContentHolder' style='overflow:auto'><div class='tabLegendColumnHolder' style='white-space:nowrap'></div></div><div class='tabCatLegendScroll'></div></div></div>"));this.scroller=this.getElementBySelector('.tabCatLegendScroll');this.legendContentArea=this.columnsHolder};b.__typeName='tab.CategoricalLegendTemplateWeb';global.tab.CategoricalLegendTemplateWeb=b;var c=function(j){this.$L=null;this.$M=null;this.$K=null;tab.CategoricalLegendView.call(this,j,new b);this.$L=this.$A();this.$H().domRoot.css('cursor','default');this.$M=new tab.IteratorButtons(this.get_catLegendTemplate().columnsHolder,true,12);this.$H().scroller.append(this.$M.get_domRoot())};c.__typeName='tab.CategoricalLegendViewWeb';global.tab.CategoricalLegendViewWeb=c;var d=function(j){this.$d=null;this.$f=null;this.$g=null;this.$e=false;tab.ContinuousSlider.call(this,j);this.viewModel=j;var k={templateString:"<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>",onChange:ss.mkdel(this,this.$9),value:j.get_sliderCurrentValue(),minimum:j.get_sliderMinimumValue(),maximum:j.get_sliderMaximumValue(),slideDuration:0,intermediateChanges:true,style:'width:'+j.get_pixelWidth()+'px;',showButtons:false};this.$d=new dijit.form.HorizontalSlider(k,this.get_template().domRoot.get(0));this.$f=dojo.subscribe('/dnd/move/start',ss.mkdel(this,this.$a));this.$g=dojo.subscribe('/dnd/move/stop',ss.mkdel(this,this.$b));this.viewModel.add_sliderValueChange(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.viewModel.remove_sliderValueChange(ss.mkdel(this,this.$c))})));this.get_template().domRoot.append(this.$d.domNode);if(this.viewModel.get_ruleTickCount()>0){var l=$("<div class='tabSliderRule'>");var m=ss.mkdict(['count',this.viewModel.get_ruleTickCount()]);var n=new dijit.form.HorizontalRule(m,l.get(0));l.append(n.domNode);n.startup();this.get_template().domRoot.append(l)}this.$e=false};d.__typeName='tab.ContinuousSliderWeb';global.tab.ContinuousSliderWeb=d;var e=function(){};e.__typeName='tab.DojoWidgetsWeb';global.tab.DojoWidgetsWeb=e;var f=function(){tab.BaseLegacyDojoUIModule.call(this)};f.__typeName='tab.LegacyDojoUIWebFactory';global.tab.LegacyDojoUIWebFactory=f;var g=function(){};g.__typeName='tab.LegacyDojoWidgetMakerWeb';global.tab.LegacyDojoWidgetMakerWeb=g;var h=function(){this.domHorizScrollButtonHolder=null;tab.LegacyLegendTemplate.call(this,$("<div class='LegendPanel'><div class='LegendBox'><h3 class='tabLegendTitle'></h3><div class='LegendContent'><img class='LegendImageBody'/></div><div class='tabCatLegendScroll'></div></div><div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter' showlabel='false' title='Highlight Selected Items'></div></div></div>"));this.domHorizScrollButtonHolder=this.getElementBySelector('.tabCatLegendScroll');this.legendContentArea=this.domContent};h.__typeName='tab.LegacyLegendTemplateWeb';global.tab.LegacyLegendTemplateWeb=h;var i=function(j){this.$o=new tab.DisposableHolder;tab.LegacyLegendView.call(this,j,new h)};i.__typeName='tab.LegacyLegendViewWeb';global.tab.LegacyLegendViewWeb=i;ss.initClass(b,a,{},tab.CategoricalLegendTemplate,[ss.IDisposable]);ss.initClass(c,a,{$I:function(){return tab.DoubleUtil.roundToInt(this.$H().columnsHolder.width())},$J:function(){return this.get_catLegendViewModel().get_categoricalLegendPM().vNc.IAN*this.get_catLegendViewModel().get_categoricalLegendPM().vNc.Fvw},$H:function(){return this.get_template()},dispose:function(){this.$L.dispose();this.$K.dispose();this.$M.dispose();ss.makeGenericType(tab.BaseLegendView$1,[tab.CategoricalLegendViewModel]).prototype.dispose.call(this)},drawLegend:function(j){tab.CategoricalLegendView.prototype.drawLegend.call(this,j);var k=this.get_catLegendViewModel().get_categoricalLegendPM();var l=k.vNc;var m=tab.DoubleUtil.roundToInt(this.$H().titleArea.height());var n=1;var o=0;var p=!this.highlighterFitsUpperRight();if(p&&!this.get_catLegendViewModel().get_titleInline()){n+=m}var q=false;var r=false;if(this.$F()){this.get_catLegendTemplate().columnsHolder.css({'overflow-x':'hidden'});this.get_catLegendTemplate().columnsHolder.css({'overflow-y':'hidden'});var s=this.get_catLegendViewModel().get_categoricalLegendPM().vNc.Fvw;this.$M.set_scrollIncrement(s);this.$M.reset();this.viewportWidth-=28;if(p){o+=30}if(this.get_catLegendViewModel().get_titleInline()){this.$H().scroller.css({top:0+'px'})}else{this.$H().scroller.css({top:m+'px'})}}else if(l.ICz==='horizontal'||l.ICz==='grid'){q=true}else{r=true}if(p&&r){var t=l.OSr*l.bjh;if(this.viewportHeight<t){var u=tab.Metrics.get_scrollW();o+=u}}this.get_catLegendTemplate().columnsHolder.css({'overflow-x':(q?'auto':'hidden'),'overflow-y':(r?'auto':'hidden')});this.$H().legendHighlighterHolder.css({top:n+'px',right:o+'px'});this.setContentSize(this.viewportHeight,this.viewportWidth);this.$G()},$A:function(){this.$K=new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$C),ss.mkdel(this,this.$D));var j={};j.tap=ss.mkdel(this,this.$E);j.hover=ss.mkdel(this,this.$B);j.hoverDelay=(tab.FeatureFlags.isEnabled('VizLegendHover')?0:150);var k=new spiff.TableauEventHandler.$ctor1(this.$H().domRoot.get(0),j);return k},$C:function(j){this.setHighlightButtonVisibility(true)},$D:function(j){var k=$.contains(this.element[0],document.activeElement)&&!spiff.FocusManager.wasFocusedByClick();this.setHighlightButtonVisibility(k);if(tab.FeatureFlags.isEnabled('VizLegendHover')){this.clearHoverOnItem()}},$B:function(j){if(spiff.DragDropManager.get_isDragging()){return}var k=this.getLegendItemFromEvent(j);if(ss.isValue(k)){var l=this.getViewportPosition(j);var m=this.getDocumentPosition(l);var n={x:m.x,y:m.y,w:0,h:0};this.performHoverOnItem(k,l,n)}j.preventDefault()},$E:function(j){if(tab.DomUtil.isEqualOrAncestorOf(this.$H().legendHighlighterHolder.get(0),j.target)){this.onLegendHighlighterTapped()}else{var k=this.getLegendItemFromEvent(j);var l=tab.ResolveSelectAction.fromNormalizedEvent(j);if(ss.isValue(k)){var m=this.getViewportPosition(j);var n=this.getDocumentPosition(m);var o={x:n.x,y:n.y,w:0,h:0};this.performSelectOnItem(k,l,m,o)}else{this.get_catLegendViewModel().selectNone(l)}}j.preventDefault()},$F:function(){var j=this.get_catLegendViewModel().get_categoricalLegendPM().vNc;if(j.ICz==='vertical'){return false}var k=j.bjh+tab.Metrics.get_scrollH();return this.$I()<this.$J()&&k>=this.$H().columnsHolder.height()},$G:function(){if(this.$F()){this.$H().scroller.show()}else{this.$H().scroller.hide()}}},tab.CategoricalLegendView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.CategoricalLegendViewModel]),ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.CategoricalLegendViewModel])]);ss.initClass(d,a,{$c:function(j){this.$d._setValueAttr(this.viewModel.get_sliderCurrentValue())},$a:function(j){if(ss.isValue(j)&&ss.referenceEquals(j.node,this.$d.sliderHandle)){this.$e=true}},$b:function(j){if(ss.isValue(j)&&ss.referenceEquals(j.node,this.$d.sliderHandle)){this.$e=false;this.applyChanges(this.viewModel.get_sliderIntermediateValue())}},$9:function(j){this.viewModel.applyIntermediateChange(j);if(!this.$e){this.applyChanges(this.viewModel.get_sliderIntermediateValue())}},dispose:function(){dojo.unsubscribe(this.$f);dojo.unsubscribe(this.$g);tab.ContinuousSlider.prototype.dispose.call(this)}},tab.ContinuousSlider,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.ContinuousSliderViewModel]),tab.IContinuousSlider]);ss.initClass(e,a,{});ss.initClass(f,a,{createPageView:function(j){return new tab.PageView(j)},createLegacyQuickFilterDisplayView:function(j){return new tab.LegacyQuickFilterDisplayView(j)},createParameterControlView:function(j){return new tab.ParameterControlView(j)},createLegacyLegendView:function(j){return new i(j)},createContinuousSlider:function(j){return new d(j)}},tab.BaseLegacyDojoUIModule,[tab.ILegacyDojoUIModule]);ss.initClass(g,a,{makeCurrentPagePanelWidget:function(j){return new tableau.base.widget.CurrentPagePanel(j)},makeFilterPanelWidget:function(j){return new tableau.base.widget.FilterPanel(j)},makeControlWidget:function(j){return new tableau.base.widget.ParameterControl(j)}},null,[tab.ILegacyDojoWidgetMaker]);ss.initClass(h,a,{},tab.LegacyLegendTemplate,[ss.IDisposable]);ss.initClass(i,a,{onAddedToDom:function(){tab.LegacyLegendView.prototype.onAddedToDom.call(this);var j=this.get_legendTemplate().domHorizScrollButtonHolder;j.append(this.iterButtons.get_domRoot());j.css({visibility:'hidden'});this.get_legendTemplate().domHighlighter.attr('title',tab.Strings.LegendPanelHighlightSelectedItems)},dispose:function(){this.$o.dispose();tab.LegacyLegendView.prototype.dispose.call(this)},makeViewerInputHandler:function(j,k){var l={};l.tap=ss.mkdel(this,this.onTap);l.hover=ss.mkdel(this,this.onHover);return new spiff.TableauEventHandler.$ctor1(k,l)},doConnections:function(){var j=$(this.get_domNode());this.$o.add$1(spiff.EventUtil.bindWithDispose(j,'mouseenter',ss.mkdel(this,this.$n)));this.$o.add$1(spiff.EventUtil.bindWithDispose(j,'mouseleave',ss.mkdel(this,this.$m)))},layoutButtons:function(j){var k=2;var l=2;this.get_legendTemplate().domHighlighterHolder.css({right:''});var m=!this.highlighterFitsUpperRight();if(m&&!this.get_legendViewModel().get_titleInline()){k+=this.get_legendViewModel().get_titleHeight()}var n=this.get_template().domHorizScrollButtonHolder;n.css({visibility:'hidden'});if(this.get_serverRenderedModel().fXK){if(this.get_serverRenderedModel().ICz!=='vertical'){if(j.h<tab.Metrics.get_minScrollHeight()&&j.h>1){this.get_domNode().classList.add('LegendHorizontal');var o=this.bodySize.w;if(o>j.w){j.w-=28;if(this.get_serverRenderedModel().fXK&&(!!this.get_legendViewModel().get_titleInline()||!this.get_legendViewModel().get_hasTitle())){j.w-=18;this.get_legendTemplate().domHighlighterHolder.css({right:32+'px'})}this.iterButtons.set_scrollIncrement(this.get_serverRenderedModel().Fvw||(ss.Int32.div(this.get_legendTemplate().get_contentArea().get(0).clientWidth,2)||120));var p=(!!this.get_legendViewModel().get_titleInline()?0:this.get_legendViewModel().get_titleHeight());n.css({visibility:'visible',top:p+'px'});if(m){l+=30}}else{n.css({visibility:'hidden'});this.get_legendTemplate().get_contentArea().css({'overflow-x':'auto'})}}else{this.get_legendTemplate().get_contentArea().css({overflow:'auto'})}}if(this.get_serverRenderedModel().ICz==='vertical'){this.get_legendTemplate().get_contentArea().css({'overflow-y':'auto'});if(m){if(this.get_serverRenderedModel().gCJ>j.h){l+=tab.Metrics.get_scrollW()}}}tab.DomUtil.setMarginBox(this.get_legendTemplate().get_contentArea().get(0),{w:j.w,h:j.h})}else{n.css({visibility:'hidden'});this.get_legendTemplate().get_contentArea().css({overflow:'hidden'});if(j.w>0){tab.DomUtil.setMarginBox(this.get_legendTemplate().get_contentArea().get(0),{w:j.w,h:j.h})}}this.get_legendTemplate().domHighlighterHolder.css({top:k+'px',right:l+'px'});this.iterButtons.updateButtonState()},$n:function(j){if(!tsConfig.allow_highlight){return}if(this.get_serverRenderedModel().fXK){if(this.get_serverRenderedModel().JuD){this.get_legendTemplate().domHighlighterHolder.css({visibility:''})}this.get_domRoot().addClass('tvmodeSelect')}},$m:function(j){var k=tab.DomUtil.getRectXY$1($(this.get_domNode()),true);if(k.x>j.pageX||k.x+k.w<=j.pageX||k.y>j.pageY||k.y+k.h<=j.pageY){this.hideControls()}},onTap:function(j){if(j.originalEvent['button']>1){return}this.disallowHover();var k=this.getDocumentPoint(j);var l=this.documentPointToContentPoint(k);var m={x:l.x,y:l.y,w:0,h:0};var n=j.getSelectAction();var o=ss.mkdel(this,function(){this.get_legendTooltip().singleSelectCoordinates(k,l,this.get_legendViewModel().get_regionType(),'legenditem')});if(this.get_serverRenderedModel().jhL!=='map'){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.get_legendViewModel().get_regionType(),m,n,this.get_visualId(),o,this.getFieldNameVec())}else{o()}},allowHover:function(){this.eventHandler.unsuppressHover()},disallowHover:function(){this.eventHandler.suppressHover()}},tab.LegacyLegendView,[spiff.IAppendableView,ss.IDisposable,ss.makeGenericType(spiff.IView$1,[tab.LegacyLegendViewModel]),ss.makeGenericType(tab.ILegacyLegendView$1,[tab.LegacyLegendViewModel])]);(function(){b.$0="<div class='tabLegendPanel' style='position : relative;' role='form' tabindex='-1'><div class='tabLegendBox' role='listbox' aria-multiselectable='true'><h3 class='tabLegendTitle'></h3><div class='tabLegendContentHolder' style='overflow:auto'><div class='tabLegendColumnHolder' style='white-space:nowrap'></div></div><div class='tabCatLegendScroll'></div></div></div>"})();(function(){spiff.ObjectRegistry.registerType(tab.CategoricalLegendView,c).call(null);spiff.ObjectRegistry.registerType(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel]),c).call(null)})();(function(){d.tableauSliderTemplate="<div class='dijit dijitReset'><div class='dijitReset tableauSlider' dojoAttachPoint='tableauSlider'><table class='dijit dijitReset' cellspacing='0' cellpadding='0' border='0' rules='none'><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,topDecoration' class='dijitReset' style='text-align:center;width:100%;'></td><td class='dijitReset'></td></tr><tr class='dijitReset'><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper' dojoAttachEvent='onclick:_onClkDecBumper'></div></td><td class='dijitReset'><input dojoAttachPoint='valueNode' type='hidden' name='${name}'><div class='dijitReset dijitSliderBarContainerH' waiRole='presentation' dojoAttachPoint='sliderBarContainer'><div waiRole='presentation' dojoAttachPoint='progressBar' class='dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH' dojoAttachEvent='onclick:_onBarClick'><div class='dijitSliderMoveable dijitSliderMoveableH'><div dojoAttachPoint='sliderHandle,focusNode' class='dijitSliderImageHandle dijitSliderImageHandleH' dojoAttachEvent='onmousedown:_onHandleClick' waiRole='slider' valuemin='${minimum}' valuemax='${maximum}'></div></div></div><div waiRole='presentation' dojoAttachPoint='remainingBar' class='dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH' dojoAttachEvent='onclick:_onBarClick'></div></div></td><td class='dijitReset'><div class='dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper' dojoAttachEvent='onclick:_onClkIncBumper'></div></td></tr><tr class='dijitReset'><td class='dijitReset'></td><td dojoAttachPoint='containerNode,bottomDecoration' class='dijitReset'></td><td class='dijitReset'></td></tr></table></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowDec' style='display:none' dojoAttachPoint='decrementButton'><div class='dijitSliderDecrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>-</span></div></div><div class='dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH tableauArrowInc' style='display:none' dojoAttachPoint='incrementButton'><div class='dijitSliderIncrementIconH' tabIndex='-1'><span class='dijitSliderButtonInner'>+</span></div></div></div>"})();(function(){dojo.addOnLoad(function(){dojo.require('tableau.web.WebClient')})})();(function(){h.$0="<div class='LegendPanel'><div class='LegendBox'><h3 class='tabLegendTitle'></h3><div class='LegendContent'><img class='LegendImageBody'/></div><div class='tabCatLegendScroll'></div></div><div class='tabLegendHighlighterHolder'><div class='tabLegendHighlighter' showlabel='false' title='Highlight Selected Items'></div></div></div>"})();(function(){i.$0=120})();(function(){spiff.ObjectRegistry.registerType(tab.ILegacyDojoWidgetMaker,g).call(null)})()})();